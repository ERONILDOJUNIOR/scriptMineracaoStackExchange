[
    {
        "titulo": "How to create Connect to web socket in Spring boot Java tests, 401 ERROR",
        "score": 0,
        "views": 22,
        "respostas": 0,
        "tags": [
            "java",
            "testing",
            "integration",
            "spring-websocket"
        ],
        "link": "https://stackoverflow.com/questions/79152208/how-to-create-connect-to-web-socket-in-spring-boot-java-tests-401-error",
        "conteudo_html": "<p>This is the block of code integration test, where the <code>HttpClientErrorException$Unauthorized: 401</code> error occurs. The problem occurs in the line <code>this.session = stompClient.connect(...)</code> when creating the session. URL and port is TRUE.</p>\n<pre><code>  @BeforeEach\n  @Transactional\n  void init() throws Exception {\n    WebSocketStompClient stompClient = new WebSocketStompClient(new SockJsClient(\n        Collections.singletonList(new WebSocketTransport(new StandardWebSocketClient()))));\n    stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n    this.session = stompClient.connect(\n        WEBSOCKET_URL.formatted(port),\n        new StompSessionHandlerAdapter() {\n        }).get(1, SECONDS);\n</code></pre>\n<p>In our project, authentication occurs via a token.</p>\n<ul>\n<li><p>But for example, almost all integration tests on REST endpoints work without authentication, there is one REST test in which authentication is written - in Security Context, an Authentication object is passed with a set &quot;test&quot; token (described in OAuth2TestUtil).</p>\n</li>\n<li><p>I tried to set the Authentication object in the Web Socket test in the Security Context - but it did not help. Below is an example of code on how Authentication was set in the integration REST test:</p>\n<pre><code>@Test\n@Transactional\nvoid testIsTrainedEntityNotFoundException() {\n  userRepository.saveAndFlush(user);\n\n  TestSecurityContextHolder.getContext()\n      .setAuthentication(OAuth2TestUtil.registerAuthenticationToken(authorizedClientService, clientRegistration,\n          OAuth2TestUtil.authenticationToken(new HashMap&lt;&gt;())));\n\n  Exception exception = Assertions.assertThrows(EntityNotFoundException.class, () -&gt; userService.isTrained());\n  String expectedMessage = &quot;User with login&quot;;\n  String actualMessage = exception.getMessage();\n  assertTrue(actualMessage.contains(expectedMessage));\n\n  userRepository.delete(user);\n}\n</code></pre>\n</li>\n<li><p>OAuth2TestUtil described at the end of the article</p>\n</li>\n</ul>\n<p>Below is the full test code</p>\n<pre><code>/**\n * Test for {@link ArticleBlockWebsocket}.\n */\n@WithMockUser(username = TestUtil.DEFAULT_ADMIN)\n@IntegrationTest\n@AutoConfigureMockMvc\nclass ArticleBlockWebsocketIT {\n  private static final String ARTICLE_CREATE_URL = &quot;/api/spaces/{spaceId}/articles&quot;;\n  private static final String ARTICLE_GET_URL = &quot;/api/articles/{articleId}&quot;;\n  private static final String SPACE_CREATE_URL = &quot;/api/spaces&quot;;\n  private static final String WEBSOCKET_URL = &quot;ws://localhost:%d/websocket/tracker&quot;;\n  private static final String TOPIC = &quot;/topic&quot;;\n  private static final String KERNEL = &quot;/kernel&quot;;\n  private static final String ADD_URL = &quot;%s/articles/%d/block/add-after&quot;;\n  private static final String EDIT_URL = &quot;%s/articles/%d/block/edit&quot;;\n  private static final String REMOVE_URL = &quot;%s/articles/%d/block/remove&quot;;\n  private static final String REPLACE_URL = &quot;%s/articles/%d/replaceContent&quot;;\n  private static final String COPY_URL = &quot;%s/articles/%d/block/copy&quot;;\n\n  @LocalServerPort\n  private int port;\n  @Autowired\n  private MockMvc mockMvc;\n  private StompSession session;\n  private ArticleDTO articleDTO;\n  private ArticleBlockDTO textBlock;\n  private ArticleBlockDTO pageBlock;\n  @Autowired\n  private ArticleBlockRepository articleBlockRepository;\n  @Autowired\n  private ArticleRepository articleRepository;\n\n  private WebSocketStompClient client;\n\n  SpaceDTO createSpace() throws Exception {\n    SpaceDTO request = new SpaceDTO().setTitle(&quot;TEST_SPACE&quot;).setProjectCode(&quot;TEST_SPACE&quot;)\n        .setJagaProjectId(generateUniqueJagaProjectId());\n    return TestUtil.convertJsonToObject(\n        mockMvc.perform(post(SPACE_CREATE_URL)\n                .with(csrf())\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(TestUtil.convertObjectToJsonBytes(request))\n            ).andExpect(status().isCreated())\n            .andReturn().getResponse().getContentAsString(),\n        SpaceDTO.class);\n  }\n\n  ArticleDTO createArticle(Long spaceId) throws Exception {\n    RequestArticleDTO request = new RequestArticleDTO(null, &quot;TEST_ARTICLE&quot;);\n    return TestUtil.convertJsonToObject(mockMvc.perform(post(ARTICLE_CREATE_URL, spaceId)\n            .with(csrf())\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(TestUtil.convertObjectToJsonBytes(request))\n        ).andExpect(status().isCreated())\n        .andReturn().getResponse().getContentAsString(), ArticleDTO.class);\n  }\n\n\n  @BeforeEach\n  @Transactional\n  void init() throws Exception {\n    WebSocketStompClient stompClient = new WebSocketStompClient(new SockJsClient(\n        Collections.singletonList(new WebSocketTransport(new StandardWebSocketClient()))));\n    stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n    this.session = stompClient.connect(\n        WEBSOCKET_URL.formatted(port),\n        new StompSessionHandlerAdapter() {\n        }).get(1, SECONDS);\n\n    SpaceDTO spaceDTO = createSpace();\n    this.articleDTO = createArticle(spaceDTO.getId());\n    ArticleBlockDTO textBlock = articleDTO.getPayload().getItems().values()\n        .stream().filter(it -&gt; it.payload().getType().equals(BlockType.TEXT)).findFirst()\n        .orElse(null);\n    assertThat(textBlock).isNotNull();\n\n    ArticleBlockDTO pageBlock = articleDTO.getPayload().getItems().values()\n        .stream().filter(it -&gt; it.payload().getType().equals(BlockType.PAGE)).findFirst()\n        .orElse(null);\n    assertThat(pageBlock).isNotNull();\n    this.textBlock = textBlock;\n    this.pageBlock = pageBlock;\n  } .......\n</code></pre>\n<hr />\n<pre><code>/**\n * OAuth test utility.\n */\npublic class OAuth2TestUtil {\n\n  public static final String TEST_USER_LOGIN = &quot;test&quot;;\n\n  public static final String ID_TOKEN =\n      &quot;&quot;&quot;\n      eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9\\\n      .eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsIm\\\n      p0aSI6ImQzNWRmMTRkLTA5ZjYtNDhmZi04YTkzLTdjNmYwMzM5MzE1OSIsImlhdCI6MTU0M\\\n      Tk3MTU4MywiZXhwIjoxNTQxOTc1MTgzfQ.QaQOarmV8xEUYV7yvWzX3cUE_4W1luMcWCwpr\\\n      oqqUrg\\\n      &quot;&quot;&quot;;\n\n  /**\n   * OAuth2AuthenticationToken for tests.\n   *\n   * @return test OAuth2AuthenticationToken.\n   */\n  public static OAuth2AuthenticationToken testAuthenticationToken() {\n    Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n    claims.put(&quot;sub&quot;, TEST_USER_LOGIN);\n    claims.put(&quot;preferred_username&quot;, TEST_USER_LOGIN);\n    claims.put(&quot;email&quot;, &quot;john.doe@koschey.rt.ru&quot;);\n    claims.put(&quot;roles&quot;, Collections.singletonList(AuthoritiesConstants.ADMIN));\n\n    return authenticationToken(claims);\n  }\n\n  /**\n   * OAuth2AuthenticationToken for tests.\n   *\n   * @param claims prepared claims.\n   * @return test token.\n   */\n  public static OAuth2AuthenticationToken authenticationToken(Map&lt;String, Object&gt; claims) {\n    Instant issuedAt = Instant.now();\n    Instant expiresAt = Instant.now().plus(1, ChronoUnit.DAYS);\n    if (!claims.containsKey(&quot;sub&quot;)) {\n      claims.put(&quot;sub&quot;, &quot;jane&quot;);\n    }\n    if (!claims.containsKey(&quot;preferred_username&quot;)) {\n      claims.put(&quot;preferred_username&quot;, &quot;jane&quot;);\n    }\n    if (!claims.containsKey(&quot;email&quot;)) {\n      claims.put(&quot;email&quot;, &quot;jane.doe@koschey.rt.ru&quot;);\n    }\n    if (claims.containsKey(&quot;auth_time&quot;)) {\n      issuedAt = (Instant) claims.get(&quot;auth_time&quot;);\n    } else {\n      claims.put(&quot;auth_time&quot;, issuedAt);\n    }\n    if (claims.containsKey(&quot;exp&quot;)) {\n      expiresAt = (Instant) claims.get(&quot;exp&quot;);\n    } else {\n      claims.put(&quot;exp&quot;, expiresAt);\n    }\n    Collection&lt;GrantedAuthority&gt; authorities = SecurityUtils.extractAuthorityFromClaims(claims);\n    OidcIdToken token = new OidcIdToken(ID_TOKEN, issuedAt, expiresAt, claims);\n    OidcUserInfo userInfo = new OidcUserInfo(claims);\n    DefaultOidcUser user = new DefaultOidcUser(authorities, token, userInfo, &quot;preferred_username&quot;);\n    return new OAuth2AuthenticationToken(user, user.getAuthorities(), &quot;oidc&quot;);\n  }\n\n  /**\n   * OAuth2AuthenticationToken for tests.\n   *\n   * @param authorizedClientService authorizedClientService.\n   * @param clientRegistration      clientRegistration.\n   * @param authentication          authentication.\n   * @return test token.\n   */\n  public static OAuth2AuthenticationToken registerAuthenticationToken(\n      OAuth2AuthorizedClientService authorizedClientService,\n      ClientRegistration clientRegistration,\n      OAuth2AuthenticationToken authentication\n  ) {\n    Map&lt;String, Object&gt; userDetails = authentication.getPrincipal().getAttributes();\n\n    OAuth2AccessToken token = new OAuth2AccessToken(\n        TokenType.BEARER,\n        &quot;Token&quot;,\n        (Instant) userDetails.get(&quot;auth_time&quot;),\n        (Instant) userDetails.get(&quot;exp&quot;)\n    );\n\n    authorizedClientService.saveAuthorizedClient(\n        new OAuth2AuthorizedClient(clientRegistration, authentication.getName(), token),\n        authentication\n    );\n\n    return authentication;\n  }\n}\n</code></pre>\n<hr />\n<pre><code>/**\n * This class allows you to run unit and integration tests without an IdP.\n */\n@TestConfiguration\n@Import(OAuth2Configuration.class)\npublic class TestSecurityConfiguration {\n\n  @Bean\n  ClientRegistration clientRegistration() {\n    return clientRegistrationBuilder().build();\n  }\n\n  @Bean\n  ClientRegistrationRepository clientRegistrationRepository(ClientRegistration clientRegistration) {\n    return new InMemoryClientRegistrationRepository(clientRegistration);\n  }\n\n  private ClientRegistration.Builder clientRegistrationBuilder() {\n    Map&lt;String, Object&gt; metadata = new HashMap&lt;&gt;();\n    metadata.put(&quot;end_session_endpoint&quot;, &quot;https://koschey.rt.ru/logout&quot;);\n\n    return ClientRegistration\n        .withRegistrationId(&quot;oidc&quot;)\n        .issuerUri(&quot;{baseUrl}&quot;)\n        .redirectUri(&quot;{baseUrl}/{action}/oauth2/code/{registrationId}&quot;)\n        .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n        .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n        .scope(&quot;read:user&quot;)\n        .authorizationUri(&quot;https://koschey.rt.ru/login/oauth/authorize&quot;)\n        .tokenUri(&quot;https://koschey.rt.ru/login/oauth/access_token&quot;)\n        .jwkSetUri(&quot;https://koschey.rt.ru/oauth/jwk&quot;)\n        .userInfoUri(&quot;https://api.koschey.rt.ru/user&quot;)\n        .providerConfigurationMetadata(metadata)\n        .userNameAttributeName(&quot;id&quot;)\n        .clientName(&quot;Client Name&quot;)\n        .clientId(&quot;client-id&quot;)\n        .clientSecret(&quot;client-secret&quot;);\n  }\n\n  @Bean\n  JwtDecoder jwtDecoder() {\n    return mock(JwtDecoder.class);\n  }\n\n  @Bean\n  OAuth2AuthorizedClientService authorizedClientService(\n      ClientRegistrationRepository clientRegistrationRepository) {\n    return new InMemoryOAuth2AuthorizedClientService(clientRegistrationRepository);\n  }\n\n  @Bean\n  @Primary\n  KeycloakService keycloakService() {\n    return new KeycloakService() {\n      private final Map&lt;String, User&gt; userMap =\n          Map.of(&quot;admin&quot;, new User()\n                  .setId(UUID.randomUUID().toString())\n                  .setEmail(&quot;admin@localhost&quot;)\n                  .setLogin(&quot;admin@localhost&quot;)\n                  .setFirstName(&quot;Admin&quot;)\n                  .setLastName(&quot;Admin&quot;),\n\n              &quot;user&quot;, new User()\n                  .setId(UUID.randomUUID().toString())\n                  .setEmail(&quot;user@localhost&quot;)\n                  .setLogin(&quot;user@localhost&quot;)\n                  .setFirstName(&quot;User&quot;)\n                  .setLastName(&quot;User&quot;));\n      @Override\n      public Optional&lt;User&gt; getUserByLogin(final String login) {\n        return Optional.ofNullable(userMap.get(login));\n      }\n\n      @Override\n      public String getBearerToken() {\n        return &quot;&quot;;\n      }\n    };\n  }\n}\n</code></pre>\n",
        "codigo": [
            "HttpClientErrorException$Unauthorized: 401",
            "this.session = stompClient.connect(...)",
            "  @BeforeEach\n  @Transactional\n  void init() throws Exception {\n    WebSocketStompClient stompClient = new WebSocketStompClient(new SockJsClient(\n        Collections.singletonList(new WebSocketTransport(new StandardWebSocketClient()))));\n    stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n    this.session = stompClient.connect(\n        WEBSOCKET_URL.formatted(port),\n        new StompSessionHandlerAdapter() {\n        }).get(1, SECONDS);\n",
            "@Test\n@Transactional\nvoid testIsTrainedEntityNotFoundException() {\n  userRepository.saveAndFlush(user);\n\n  TestSecurityContextHolder.getContext()\n      .setAuthentication(OAuth2TestUtil.registerAuthenticationToken(authorizedClientService, clientRegistration,\n          OAuth2TestUtil.authenticationToken(new HashMap<>())));\n\n  Exception exception = Assertions.assertThrows(EntityNotFoundException.class, () -> userService.isTrained());\n  String expectedMessage = \"User with login\";\n  String actualMessage = exception.getMessage();\n  assertTrue(actualMessage.contains(expectedMessage));\n\n  userRepository.delete(user);\n}\n",
            "/**\n * Test for {@link ArticleBlockWebsocket}.\n */\n@WithMockUser(username = TestUtil.DEFAULT_ADMIN)\n@IntegrationTest\n@AutoConfigureMockMvc\nclass ArticleBlockWebsocketIT {\n  private static final String ARTICLE_CREATE_URL = \"/api/spaces/{spaceId}/articles\";\n  private static final String ARTICLE_GET_URL = \"/api/articles/{articleId}\";\n  private static final String SPACE_CREATE_URL = \"/api/spaces\";\n  private static final String WEBSOCKET_URL = \"ws://localhost:%d/websocket/tracker\";\n  private static final String TOPIC = \"/topic\";\n  private static final String KERNEL = \"/kernel\";\n  private static final String ADD_URL = \"%s/articles/%d/block/add-after\";\n  private static final String EDIT_URL = \"%s/articles/%d/block/edit\";\n  private static final String REMOVE_URL = \"%s/articles/%d/block/remove\";\n  private static final String REPLACE_URL = \"%s/articles/%d/replaceContent\";\n  private static final String COPY_URL = \"%s/articles/%d/block/copy\";\n\n  @LocalServerPort\n  private int port;\n  @Autowired\n  private MockMvc mockMvc;\n  private StompSession session;\n  private ArticleDTO articleDTO;\n  private ArticleBlockDTO textBlock;\n  private ArticleBlockDTO pageBlock;\n  @Autowired\n  private ArticleBlockRepository articleBlockRepository;\n  @Autowired\n  private ArticleRepository articleRepository;\n\n  private WebSocketStompClient client;\n\n  SpaceDTO createSpace() throws Exception {\n    SpaceDTO request = new SpaceDTO().setTitle(\"TEST_SPACE\").setProjectCode(\"TEST_SPACE\")\n        .setJagaProjectId(generateUniqueJagaProjectId());\n    return TestUtil.convertJsonToObject(\n        mockMvc.perform(post(SPACE_CREATE_URL)\n                .with(csrf())\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(TestUtil.convertObjectToJsonBytes(request))\n            ).andExpect(status().isCreated())\n            .andReturn().getResponse().getContentAsString(),\n        SpaceDTO.class);\n  }\n\n  ArticleDTO createArticle(Long spaceId) throws Exception {\n    RequestArticleDTO request = new RequestArticleDTO(null, \"TEST_ARTICLE\");\n    return TestUtil.convertJsonToObject(mockMvc.perform(post(ARTICLE_CREATE_URL, spaceId)\n            .with(csrf())\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(TestUtil.convertObjectToJsonBytes(request))\n        ).andExpect(status().isCreated())\n        .andReturn().getResponse().getContentAsString(), ArticleDTO.class);\n  }\n\n\n  @BeforeEach\n  @Transactional\n  void init() throws Exception {\n    WebSocketStompClient stompClient = new WebSocketStompClient(new SockJsClient(\n        Collections.singletonList(new WebSocketTransport(new StandardWebSocketClient()))));\n    stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n    this.session = stompClient.connect(\n        WEBSOCKET_URL.formatted(port),\n        new StompSessionHandlerAdapter() {\n        }).get(1, SECONDS);\n\n    SpaceDTO spaceDTO = createSpace();\n    this.articleDTO = createArticle(spaceDTO.getId());\n    ArticleBlockDTO textBlock = articleDTO.getPayload().getItems().values()\n        .stream().filter(it -> it.payload().getType().equals(BlockType.TEXT)).findFirst()\n        .orElse(null);\n    assertThat(textBlock).isNotNull();\n\n    ArticleBlockDTO pageBlock = articleDTO.getPayload().getItems().values()\n        .stream().filter(it -> it.payload().getType().equals(BlockType.PAGE)).findFirst()\n        .orElse(null);\n    assertThat(pageBlock).isNotNull();\n    this.textBlock = textBlock;\n    this.pageBlock = pageBlock;\n  } .......\n",
            "/**\n * OAuth test utility.\n */\npublic class OAuth2TestUtil {\n\n  public static final String TEST_USER_LOGIN = \"test\";\n\n  public static final String ID_TOKEN =\n      \"\"\"\n      eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9\\\n      .eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsIm\\\n      p0aSI6ImQzNWRmMTRkLTA5ZjYtNDhmZi04YTkzLTdjNmYwMzM5MzE1OSIsImlhdCI6MTU0M\\\n      Tk3MTU4MywiZXhwIjoxNTQxOTc1MTgzfQ.QaQOarmV8xEUYV7yvWzX3cUE_4W1luMcWCwpr\\\n      oqqUrg\\\n      \"\"\";\n\n  /**\n   * OAuth2AuthenticationToken for tests.\n   *\n   * @return test OAuth2AuthenticationToken.\n   */\n  public static OAuth2AuthenticationToken testAuthenticationToken() {\n    Map<String, Object> claims = new HashMap<>();\n    claims.put(\"sub\", TEST_USER_LOGIN);\n    claims.put(\"preferred_username\", TEST_USER_LOGIN);\n    claims.put(\"email\", \"john.doe@koschey.rt.ru\");\n    claims.put(\"roles\", Collections.singletonList(AuthoritiesConstants.ADMIN));\n\n    return authenticationToken(claims);\n  }\n\n  /**\n   * OAuth2AuthenticationToken for tests.\n   *\n   * @param claims prepared claims.\n   * @return test token.\n   */\n  public static OAuth2AuthenticationToken authenticationToken(Map<String, Object> claims) {\n    Instant issuedAt = Instant.now();\n    Instant expiresAt = Instant.now().plus(1, ChronoUnit.DAYS);\n    if (!claims.containsKey(\"sub\")) {\n      claims.put(\"sub\", \"jane\");\n    }\n    if (!claims.containsKey(\"preferred_username\")) {\n      claims.put(\"preferred_username\", \"jane\");\n    }\n    if (!claims.containsKey(\"email\")) {\n      claims.put(\"email\", \"jane.doe@koschey.rt.ru\");\n    }\n    if (claims.containsKey(\"auth_time\")) {\n      issuedAt = (Instant) claims.get(\"auth_time\");\n    } else {\n      claims.put(\"auth_time\", issuedAt);\n    }\n    if (claims.containsKey(\"exp\")) {\n      expiresAt = (Instant) claims.get(\"exp\");\n    } else {\n      claims.put(\"exp\", expiresAt);\n    }\n    Collection<GrantedAuthority> authorities = SecurityUtils.extractAuthorityFromClaims(claims);\n    OidcIdToken token = new OidcIdToken(ID_TOKEN, issuedAt, expiresAt, claims);\n    OidcUserInfo userInfo = new OidcUserInfo(claims);\n    DefaultOidcUser user = new DefaultOidcUser(authorities, token, userInfo, \"preferred_username\");\n    return new OAuth2AuthenticationToken(user, user.getAuthorities(), \"oidc\");\n  }\n\n  /**\n   * OAuth2AuthenticationToken for tests.\n   *\n   * @param authorizedClientService authorizedClientService.\n   * @param clientRegistration      clientRegistration.\n   * @param authentication          authentication.\n   * @return test token.\n   */\n  public static OAuth2AuthenticationToken registerAuthenticationToken(\n      OAuth2AuthorizedClientService authorizedClientService,\n      ClientRegistration clientRegistration,\n      OAuth2AuthenticationToken authentication\n  ) {\n    Map<String, Object> userDetails = authentication.getPrincipal().getAttributes();\n\n    OAuth2AccessToken token = new OAuth2AccessToken(\n        TokenType.BEARER,\n        \"Token\",\n        (Instant) userDetails.get(\"auth_time\"),\n        (Instant) userDetails.get(\"exp\")\n    );\n\n    authorizedClientService.saveAuthorizedClient(\n        new OAuth2AuthorizedClient(clientRegistration, authentication.getName(), token),\n        authentication\n    );\n\n    return authentication;\n  }\n}\n",
            "/**\n * This class allows you to run unit and integration tests without an IdP.\n */\n@TestConfiguration\n@Import(OAuth2Configuration.class)\npublic class TestSecurityConfiguration {\n\n  @Bean\n  ClientRegistration clientRegistration() {\n    return clientRegistrationBuilder().build();\n  }\n\n  @Bean\n  ClientRegistrationRepository clientRegistrationRepository(ClientRegistration clientRegistration) {\n    return new InMemoryClientRegistrationRepository(clientRegistration);\n  }\n\n  private ClientRegistration.Builder clientRegistrationBuilder() {\n    Map<String, Object> metadata = new HashMap<>();\n    metadata.put(\"end_session_endpoint\", \"https://koschey.rt.ru/logout\");\n\n    return ClientRegistration\n        .withRegistrationId(\"oidc\")\n        .issuerUri(\"{baseUrl}\")\n        .redirectUri(\"{baseUrl}/{action}/oauth2/code/{registrationId}\")\n        .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n        .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n        .scope(\"read:user\")\n        .authorizationUri(\"https://koschey.rt.ru/login/oauth/authorize\")\n        .tokenUri(\"https://koschey.rt.ru/login/oauth/access_token\")\n        .jwkSetUri(\"https://koschey.rt.ru/oauth/jwk\")\n        .userInfoUri(\"https://api.koschey.rt.ru/user\")\n        .providerConfigurationMetadata(metadata)\n        .userNameAttributeName(\"id\")\n        .clientName(\"Client Name\")\n        .clientId(\"client-id\")\n        .clientSecret(\"client-secret\");\n  }\n\n  @Bean\n  JwtDecoder jwtDecoder() {\n    return mock(JwtDecoder.class);\n  }\n\n  @Bean\n  OAuth2AuthorizedClientService authorizedClientService(\n      ClientRegistrationRepository clientRegistrationRepository) {\n    return new InMemoryOAuth2AuthorizedClientService(clientRegistrationRepository);\n  }\n\n  @Bean\n  @Primary\n  KeycloakService keycloakService() {\n    return new KeycloakService() {\n      private final Map<String, User> userMap =\n          Map.of(\"admin\", new User()\n                  .setId(UUID.randomUUID().toString())\n                  .setEmail(\"admin@localhost\")\n                  .setLogin(\"admin@localhost\")\n                  .setFirstName(\"Admin\")\n                  .setLastName(\"Admin\"),\n\n              \"user\", new User()\n                  .setId(UUID.randomUUID().toString())\n                  .setEmail(\"user@localhost\")\n                  .setLogin(\"user@localhost\")\n                  .setFirstName(\"User\")\n                  .setLastName(\"User\"));\n      @Override\n      public Optional<User> getUserByLogin(final String login) {\n        return Optional.ofNullable(userMap.get(login));\n      }\n\n      @Override\n      public String getBearerToken() {\n        return \"\";\n      }\n    };\n  }\n}\n"
        ]
    },
    {
        "titulo": "Testing application that uses shared database tables",
        "score": 0,
        "views": 39,
        "respostas": 0,
        "tags": [
            "database",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/79121830/testing-application-that-uses-shared-database-tables",
        "conteudo_html": "<p>How should I approach integration testing code in an application that for some functionality queries database tables that are also used by other application I do not have source code for?</p>\n",
        "codigo": []
    },
    {
        "titulo": "How to add mocked S3Client to spring context on integration tests",
        "score": 1,
        "views": 33,
        "respostas": 0,
        "tags": [
            "java",
            "amazon-s3",
            "testing",
            "mocking",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/78694639/how-to-add-mocked-s3client-to-spring-context-on-integration-tests",
        "conteudo_html": "<p>So basically I have a S3StorageService class that needs a S3Client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\n@Service\npublic class S3StorageService implements StorageService&lt;S3FileUploadResult&gt; {\n    private final S3Client client;\n\n// ...\n}\n</code></pre>\n<p>and I have a SongServiceImpl class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\n@Service\npublic class SongServiceImpl implements SongService {\n    private final StorageService&lt;?&gt; storageService;\n\n    @Transactional\n    @Override\n    public Song uploadSong(UploadSongDTO dto) {\n        // ...\n        storageService.upload(dto.file());\n    }\n}\n</code></pre>\n<p>and I have a SongController class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\n@RequestMapping(&quot;/song&quot;)\n@RestController\npublic class SongController {\n    private final SongService songService;\n\n    @PostMapping(&quot;/upload&quot;)\n    public ResponseEntity&lt;Song&gt; upload(@Valid UploadSongDTO dto) {\n        return ResponseEntity.ok(songService.uploadSong(dto));\n    }\n}\n</code></pre>\n<p>so i want to write integration tests for this SongController#upload, so i need to somehow inject a mocked S3Client into spring context so S3StorageService can use this mocked s3 instead of a real one, here is what i tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   static S3MockContainer s3Mock = new S3MockContainer(&quot;latest&quot;);\n\n    @BeforeEach\n    void setUp() {\n        final String endpoint = s3Mock.getHttpsEndpoint();\n        final S3Configuration serviceConfig = S3Configuration.builder()\n                .pathStyleAccessEnabled(true)\n                .build();\n        final SdkHttpClient httpClient = UrlConnectionHttpClient.builder()\n                .buildWithDefaults(AttributeMap.builder()\n                        .put(TRUST_ALL_CERTIFICATES, Boolean.TRUE)\n                        .build());\n        final S3Client s3Client = S3Client.builder() // somehow inject this into S3StorageService\n                .region(Region.of(&quot;auto&quot;))\n                .endpointOverride(URI.create(endpoint))\n                .serviceConfiguration(serviceConfig)\n                .httpClient(httpClient)\n                .build();\n\n        applicationContext.registerBean(S3Client.class, () -&gt; s3Client); // does not work. `Parameter 0 of constructor in me.approximations.music.services.storage.impl.S3StorageService required a bean of type 'software.amazon.awssdk.services.s3.S3Client' that could not be found.`\n    }\n</code></pre>\n<p>Already described above.</p>\n",
        "codigo": [
            "@RequiredArgsConstructor\n@Service\npublic class S3StorageService implements StorageService<S3FileUploadResult> {\n    private final S3Client client;\n\n// ...\n}\n",
            "@RequiredArgsConstructor\n@Service\npublic class SongServiceImpl implements SongService {\n    private final StorageService<?> storageService;\n\n    @Transactional\n    @Override\n    public Song uploadSong(UploadSongDTO dto) {\n        // ...\n        storageService.upload(dto.file());\n    }\n}\n",
            "@RequiredArgsConstructor\n@RequestMapping(\"/song\")\n@RestController\npublic class SongController {\n    private final SongService songService;\n\n    @PostMapping(\"/upload\")\n    public ResponseEntity<Song> upload(@Valid UploadSongDTO dto) {\n        return ResponseEntity.ok(songService.uploadSong(dto));\n    }\n}\n",
            "   static S3MockContainer s3Mock = new S3MockContainer(\"latest\");\n\n    @BeforeEach\n    void setUp() {\n        final String endpoint = s3Mock.getHttpsEndpoint();\n        final S3Configuration serviceConfig = S3Configuration.builder()\n                .pathStyleAccessEnabled(true)\n                .build();\n        final SdkHttpClient httpClient = UrlConnectionHttpClient.builder()\n                .buildWithDefaults(AttributeMap.builder()\n                        .put(TRUST_ALL_CERTIFICATES, Boolean.TRUE)\n                        .build());\n        final S3Client s3Client = S3Client.builder() // somehow inject this into S3StorageService\n                .region(Region.of(\"auto\"))\n                .endpointOverride(URI.create(endpoint))\n                .serviceConfiguration(serviceConfig)\n                .httpClient(httpClient)\n                .build();\n\n        applicationContext.registerBean(S3Client.class, () -> s3Client); // does not work. `Parameter 0 of constructor in me.approximations.music.services.storage.impl.S3StorageService required a bean of type 'software.amazon.awssdk.services.s3.S3Client' that could not be found.`\n    }\n"
        ]
    },
    {
        "titulo": "OneTimeSetUp: No suitable constructor was found when using IClassFixture",
        "score": 1,
        "views": 76,
        "respostas": 0,
        "tags": [
            "c#",
            "testing",
            "integration",
            "xunit"
        ],
        "link": "https://stackoverflow.com/questions/77733654/onetimesetup-no-suitable-constructor-was-found-when-using-iclassfixture",
        "conteudo_html": "<p>I'm trying to follow this example found here, <a href=\"https://andrewlock.net/exploring-dotnet-6-part-6-supporting-integration-tests-with-webapplicationfactory-in-dotnet-6/\" rel=\"nofollow noreferrer\">example</a>.</p>\n<p>I'm always hit with this error,\nMessage: OneTimeSetUp: No suitable constructor was found</p>\n<pre><code>namespace ***.Application.IntegrationTests.ControllerTests;\npublic class AppCodeControllerTests : IClassFixture&lt;WebApplicationFactory&lt;Startup&gt;&gt;\n{\n\nprivate readonly WebApplicationFactory&lt;Startup&gt; _factory;\n\npublic AppCodeControllerTests(WebApplicationFactory&lt;Startup&gt; factory)\n{\n\n    _factory = factory;\n}\n</code></pre>\n<p>Any tips, is there something I'm missing. xunit ver 2.4.2 &amp; NET 6 btw. Why is it not seeing the constructor?</p>\n",
        "codigo": [
            "namespace ***.Application.IntegrationTests.ControllerTests;\npublic class AppCodeControllerTests : IClassFixture<WebApplicationFactory<Startup>>\n{\n\nprivate readonly WebApplicationFactory<Startup> _factory;\n\npublic AppCodeControllerTests(WebApplicationFactory<Startup> factory)\n{\n\n    _factory = factory;\n}\n"
        ]
    },
    {
        "titulo": "Is it possible to push test steps from Testrail into the repro steps of a bug in Azure DevOps?",
        "score": 0,
        "views": 134,
        "respostas": 1,
        "tags": [
            "testing",
            "azure-devops",
            "integration",
            "testrail"
        ],
        "link": "https://stackoverflow.com/questions/77281035/is-it-possible-to-push-test-steps-from-testrail-into-the-repro-steps-of-a-bug-in",
        "conteudo_html": "<p>I’ve recently integrated Testrail with Azure DevOps. The integration works fine and we can create new bugs from within Testrail that creates a new bug in Azure. However, what I would like to do is push the test steps from the test that is being ran in Testrail into the repro steps section in the bug work item of azure when I’m creating the bug.</p>\n<p>I know that in Azure DevOps if you create a bug from the test runner it will do this but unfortunately all of our testing has migrated out of DevOps to Testrail.</p>\n<p>I’ve tried to have a look around and I can see that you can configure various parts of the integration between them but I can’t work out if this is possible or how I’d do it aside from editing the configuration json in some way.</p>\n",
        "codigo": []
    },
    {
        "titulo": "MassTransit Integration Test",
        "score": 0,
        "views": 151,
        "respostas": 0,
        "tags": [
            "c#",
            "testing",
            "request",
            "integration",
            "masstransit"
        ],
        "link": "https://stackoverflow.com/questions/76687360/masstransit-integration-test",
        "conteudo_html": "<p>Is not already implemented a method to test the send and receive of a request with MassTransit between two different services?</p>\n<p>I'm building an API which need to send a request with MassTransit. The implementation is correct and I've already seen this. But when I try to test it, I see that the request reach the consumer and then it can't come back.</p>\n<p>(Edit #1)\nHere below I add my relevants code's part:</p>\n<p>TestClass:</p>\n<pre><code>[TestClass]\n    public class UnbindVisilibityTests : InfrastructureDataTestBase\n    {\n        private readonly InfrastructureDataTestDal _infrastructureDal = new InfrastructureDataTestDal();\n        private ITestHarness _harness;\n        private ServiceProvider _provider;\n\n        UnbindVisibilityCommand command;\n\n        int idVis;\n\n        [TestInitialize]\n        public void Init()\n        {\n            _provider = new ServiceCollection()\n                .AddMassTransitTestHarness(cfg =&gt;\n                {\n                    cfg.AddConsumer&lt;UnbindUsersFromVisibilityFilterRequestConsumer&gt;();\n                    cfg.AddBus(context =&gt;\n                    {\n                        return Bus.Factory.CreateUsingRabbitMq(configure =&gt;\n                        {\n                            // Configura il bus in-memory\n                            configure.ConfigureEndpoints(context);\n                        });\n                    });\n                })\n                .BuildServiceProvider(true);\n\n            _harness = _provider.GetRequiredService&lt;ITestHarness&gt;();\n\n            idVis = _infrastructureDal.InsertVisibility(&quot;UnbindVisibilityCommandTest&quot;, &quot;TestAppl&quot;);\n\n            command = new UnbindVisibilityCommand\n            {\n                Id = idVis,\n            };\n        }\n\n        [TestMethod]\n        public async Task Unbind_OK()\n        {\n            await _harness.Start();\n\n            var result = Mediator.Send(command).Result;\n\n            Assert.IsTrue(result is SuccessCommandResult);\n\n            await _harness.Stop();\n        }\n\n        [TestCleanup]\n        public void CleanUpTest()\n        {\n            _infrastructureDal.DeleteVisibility(new int[] { idVis });\n        }\n    }\n</code></pre>\n<p>Consumer:</p>\n<pre><code>public class UnbindUsersFromVisibilityFilterRequestConsumer : IConsumer&lt;IUnbindUsersFromVisibilityFilterRequest&gt;\n    {\n        private readonly IApplicativeUsersCommandDal _dal;\n\n        public UnbindUsersFromVisibilityFilterRequestConsumer(IApplicativeUsersCommandDal dal)\n        {\n            _dal = dal;\n        }\n\n        public async Task Consume(ConsumeContext&lt;IUnbindUsersFromVisibilityFilterRequest&gt; context)\n        {\n            await _dal.UnbindUsersFromVisibilityAsync(context.Message.Id);\n\n            await context.RespondAsync&lt;IUnbindUsersFromVisibilityFilterResult&gt;(new { });\n        }\n    }\n</code></pre>\n<p>Configuration:</p>\n<pre><code>public abstract class InfrastructureDataTestBase : TestBase\n    {\n        internal static IMediator Mediator;\n        protected IServiceProvider serviceProvider;\n        static bool _isInitialized;\n        public IConfiguration configuration;\n\n        public InfrastructureDataTestBase()\n        {\n            var builder = new ConfigurationBuilder()\n                  .SetBasePath(Directory.GetCurrentDirectory() + &quot;.\\\\InfrastructureData.Tests&quot;)\n                  .AddJsonFile(&quot;appsettings.json&quot;, optional: false, reloadOnChange: true)\n                  .AddJsonFile(&quot;TokenVerificationSettings.json&quot;, optional: false, reloadOnChange: true)\n                  .AddEnvironmentVariables();\n\n            configuration = builder.Build();\n\n            if (_isInitialized == false)\n            {\n                serviceProvider = GetServiceProvider(configuration);\n\n                Mediator = serviceProvider.GetService&lt;IMediator&gt;();\n            }\n        }\n\n        public IServiceProvider GetServiceProvider(IConfiguration config)\n        {\n            ServiceCollection services = new ServiceCollection();\n\n            services.AddControllers();\n\n            DbProviderFactories.RegisterFactory(&quot;System.Data.SqlClient&quot;, SqlClientFactory.Instance);\n\n            services.AddSwaggerApiVersioning&lt;ConfigureSwaggerOptions&gt;();\n\n            var connProvider = ConnectionStringProviderFactory.CreateInstance(config.GetValue&lt;string&gt;(&quot;ConnectionStringFullFilePath&quot;), config.GetValue&lt;string&gt;(&quot;RsaKeyFullFilePath&quot;));\n\n            services.AddSingleton(connProvider);\n\n            services.AddLogging();\n\n            services.AddSingleton&lt;IConfiguration&gt;(config);\n\n            services.AddPagingProvider();\n\n            services.AddHealthChecks();\n\n            services.AddOptions(config);\n\n            services.AddAccessTokenValidation();\n\n            services.AddIdentityProvider(configuration.GetValue&lt;string&gt;(&quot;IDP.BaseUri&quot;));\n\n            services.AddApplicationLayer();\n\n            services.AddDataInfrastructureLayer(configuration, connProvider);\n\n            ConfigureServices(services, configuration);\n\n            MessageBrokerOptions messageBrokerOptions = new();\n\n            config.GetSection(MessageBrokerOptions.SectionName).Bind(messageBrokerOptions);\n\n            services.AddMassTransit(x =&gt;\n            {\n                x.AddMassTransitTestHarness(x =&gt;\n                {\n                    x.AddDelayedMessageScheduler();\n\n                    x.AddConsumer&lt;UnbindUsersFromVisibilityFilterRequestConsumer&gt;();\n                });\n                x.AddConsumer&lt;UnbindUsersFromVisibilityFilterRequestConsumer&gt;();\n\n                x.UsingRabbitMq((context, cfg) =&gt;\n                {\n                    cfg.Host(messageBrokerOptions.HostName, (ushort)messageBrokerOptions.Port, messageBrokerOptions.VirtualHost, h =&gt;\n                    {\n                        var rsaFile = config.GetValue&lt;string&gt;(&quot;RsaKeyFullFilePath&quot;);\n\n                        var cryptoService = string.IsNullOrWhiteSpace(rsaFile)\n                            ? Digitronica.IT.Infrastructure.Security.Cryptography.CryptoService.CreateDefault()\n                            : Digitronica.IT.Infrastructure.Security.Cryptography.CryptoService.CreateFromXmlFile(rsaFile);\n\n                        h.Username(messageBrokerOptions.Username);\n                        h.Password(cryptoService.Decrypt(messageBrokerOptions.Password));\n                    });\n\n                    cfg.ConfigureEndpoints(context);\n                });\n\n                x.AddRequestClient&lt;IUnbindUsersFromVisibilityFilterRequest&gt;();\n            });\n\n            _isInitialized = true;\n\n            return services.BuildServiceProvider();\n        }\n    }\n</code></pre>\n<pre><code>public abstract class TestBase\n    {\n        public void ConfigureServices(IServiceCollection services, IConfiguration config)\n        {\n            services.AddControllers();\n\n            DbProviderFactories.RegisterFactory(&quot;System.Data.SqlClient&quot;, SqlClientFactory.Instance);\n\n            services.AddSwaggerApiVersioning&lt;ConfigureSwaggerOptions&gt;();\n\n            services.AddConnectionStringProvider(config.GetValue&lt;string&gt;(&quot;ConnectionStringFullFilePath&quot;), config.GetValue&lt;string&gt;(&quot;RsaKeyFullFilePath&quot;));\n\n            services.AddLogging();\n\n            services.AddSingleton&lt;IConfiguration&gt;(config);\n\n            services.AddPagingProvider();\n\n            services.AddHealthChecks();\n\n            services.AddOptions(config);\n\n            services.AddAccessTokenValidation();\n        }\n    }\n</code></pre>\n",
        "codigo": [
            "[TestClass]\n    public class UnbindVisilibityTests : InfrastructureDataTestBase\n    {\n        private readonly InfrastructureDataTestDal _infrastructureDal = new InfrastructureDataTestDal();\n        private ITestHarness _harness;\n        private ServiceProvider _provider;\n\n        UnbindVisibilityCommand command;\n\n        int idVis;\n\n        [TestInitialize]\n        public void Init()\n        {\n            _provider = new ServiceCollection()\n                .AddMassTransitTestHarness(cfg =>\n                {\n                    cfg.AddConsumer<UnbindUsersFromVisibilityFilterRequestConsumer>();\n                    cfg.AddBus(context =>\n                    {\n                        return Bus.Factory.CreateUsingRabbitMq(configure =>\n                        {\n                            // Configura il bus in-memory\n                            configure.ConfigureEndpoints(context);\n                        });\n                    });\n                })\n                .BuildServiceProvider(true);\n\n            _harness = _provider.GetRequiredService<ITestHarness>();\n\n            idVis = _infrastructureDal.InsertVisibility(\"UnbindVisibilityCommandTest\", \"TestAppl\");\n\n            command = new UnbindVisibilityCommand\n            {\n                Id = idVis,\n            };\n        }\n\n        [TestMethod]\n        public async Task Unbind_OK()\n        {\n            await _harness.Start();\n\n            var result = Mediator.Send(command).Result;\n\n            Assert.IsTrue(result is SuccessCommandResult);\n\n            await _harness.Stop();\n        }\n\n        [TestCleanup]\n        public void CleanUpTest()\n        {\n            _infrastructureDal.DeleteVisibility(new int[] { idVis });\n        }\n    }\n",
            "public class UnbindUsersFromVisibilityFilterRequestConsumer : IConsumer<IUnbindUsersFromVisibilityFilterRequest>\n    {\n        private readonly IApplicativeUsersCommandDal _dal;\n\n        public UnbindUsersFromVisibilityFilterRequestConsumer(IApplicativeUsersCommandDal dal)\n        {\n            _dal = dal;\n        }\n\n        public async Task Consume(ConsumeContext<IUnbindUsersFromVisibilityFilterRequest> context)\n        {\n            await _dal.UnbindUsersFromVisibilityAsync(context.Message.Id);\n\n            await context.RespondAsync<IUnbindUsersFromVisibilityFilterResult>(new { });\n        }\n    }\n",
            "public abstract class InfrastructureDataTestBase : TestBase\n    {\n        internal static IMediator Mediator;\n        protected IServiceProvider serviceProvider;\n        static bool _isInitialized;\n        public IConfiguration configuration;\n\n        public InfrastructureDataTestBase()\n        {\n            var builder = new ConfigurationBuilder()\n                  .SetBasePath(Directory.GetCurrentDirectory() + \".\\\\InfrastructureData.Tests\")\n                  .AddJsonFile(\"appsettings.json\", optional: false, reloadOnChange: true)\n                  .AddJsonFile(\"TokenVerificationSettings.json\", optional: false, reloadOnChange: true)\n                  .AddEnvironmentVariables();\n\n            configuration = builder.Build();\n\n            if (_isInitialized == false)\n            {\n                serviceProvider = GetServiceProvider(configuration);\n\n                Mediator = serviceProvider.GetService<IMediator>();\n            }\n        }\n\n        public IServiceProvider GetServiceProvider(IConfiguration config)\n        {\n            ServiceCollection services = new ServiceCollection();\n\n            services.AddControllers();\n\n            DbProviderFactories.RegisterFactory(\"System.Data.SqlClient\", SqlClientFactory.Instance);\n\n            services.AddSwaggerApiVersioning<ConfigureSwaggerOptions>();\n\n            var connProvider = ConnectionStringProviderFactory.CreateInstance(config.GetValue<string>(\"ConnectionStringFullFilePath\"), config.GetValue<string>(\"RsaKeyFullFilePath\"));\n\n            services.AddSingleton(connProvider);\n\n            services.AddLogging();\n\n            services.AddSingleton<IConfiguration>(config);\n\n            services.AddPagingProvider();\n\n            services.AddHealthChecks();\n\n            services.AddOptions(config);\n\n            services.AddAccessTokenValidation();\n\n            services.AddIdentityProvider(configuration.GetValue<string>(\"IDP.BaseUri\"));\n\n            services.AddApplicationLayer();\n\n            services.AddDataInfrastructureLayer(configuration, connProvider);\n\n            ConfigureServices(services, configuration);\n\n            MessageBrokerOptions messageBrokerOptions = new();\n\n            config.GetSection(MessageBrokerOptions.SectionName).Bind(messageBrokerOptions);\n\n            services.AddMassTransit(x =>\n            {\n                x.AddMassTransitTestHarness(x =>\n                {\n                    x.AddDelayedMessageScheduler();\n\n                    x.AddConsumer<UnbindUsersFromVisibilityFilterRequestConsumer>();\n                });\n                x.AddConsumer<UnbindUsersFromVisibilityFilterRequestConsumer>();\n\n                x.UsingRabbitMq((context, cfg) =>\n                {\n                    cfg.Host(messageBrokerOptions.HostName, (ushort)messageBrokerOptions.Port, messageBrokerOptions.VirtualHost, h =>\n                    {\n                        var rsaFile = config.GetValue<string>(\"RsaKeyFullFilePath\");\n\n                        var cryptoService = string.IsNullOrWhiteSpace(rsaFile)\n                            ? Digitronica.IT.Infrastructure.Security.Cryptography.CryptoService.CreateDefault()\n                            : Digitronica.IT.Infrastructure.Security.Cryptography.CryptoService.CreateFromXmlFile(rsaFile);\n\n                        h.Username(messageBrokerOptions.Username);\n                        h.Password(cryptoService.Decrypt(messageBrokerOptions.Password));\n                    });\n\n                    cfg.ConfigureEndpoints(context);\n                });\n\n                x.AddRequestClient<IUnbindUsersFromVisibilityFilterRequest>();\n            });\n\n            _isInitialized = true;\n\n            return services.BuildServiceProvider();\n        }\n    }\n",
            "public abstract class TestBase\n    {\n        public void ConfigureServices(IServiceCollection services, IConfiguration config)\n        {\n            services.AddControllers();\n\n            DbProviderFactories.RegisterFactory(\"System.Data.SqlClient\", SqlClientFactory.Instance);\n\n            services.AddSwaggerApiVersioning<ConfigureSwaggerOptions>();\n\n            services.AddConnectionStringProvider(config.GetValue<string>(\"ConnectionStringFullFilePath\"), config.GetValue<string>(\"RsaKeyFullFilePath\"));\n\n            services.AddLogging();\n\n            services.AddSingleton<IConfiguration>(config);\n\n            services.AddPagingProvider();\n\n            services.AddHealthChecks();\n\n            services.AddOptions(config);\n\n            services.AddAccessTokenValidation();\n        }\n    }\n"
        ]
    },
    {
        "titulo": "How can I simulate a 404 error for testing two connected Web API services in ASP.NET Core 7?",
        "score": 0,
        "views": 350,
        "respostas": 1,
        "tags": [
            "asp.net",
            "testing",
            ".net-core",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/76618175/how-can-i-simulate-a-404-error-for-testing-two-connected-web-api-services-in-asp",
        "conteudo_html": "<p>Let's say I have two ASP.NET Core 7 Web APIs. One gets and uses a value from the other one by sending a request.</p>\n<p><strong>1) Sensor API</strong> that returns a random int between 0-100:</p>\n<pre><code>[ApiController]\n[Route(&quot;[controller]&quot;)]\npublic class TrafficSensorController : ControllerBase\n{\n    [HttpGet(Name = &quot;GetTrafficSensor&quot;)]\n    public int Get()\n    {\n        return new Random().Next(100);\n    }\n}\n</code></pre>\n<p><strong>2) Report API</strong> that requests to the Sensor API and returns a string representation of the integer value:</p>\n<pre><code>[ApiController]\n[Route(&quot;[controller]&quot;)]\npublic class TrafficReportController : ControllerBase\n{\n    private static readonly string SENSOR_URL = &quot;https://localhost:7272/TrafficSensor&quot;;\n\n    [HttpGet(Name = &quot;GetTrafficReport&quot;)]\n    public async Task&lt;string&gt; Get()\n    {\n        var response = await new HttpClient().GetAsync(SENSOR_URL);\n\n        string report = &quot;ERROR!&quot;;\n\n        if (response.IsSuccessStatusCode)\n        {\n            int sensorValue = int.Parse(await response.Content.ReadAsStringAsync());\n\n            if (sensorValue &lt; 30)\n                report = &quot;LIGHT TRAFFIC&quot;;\n            else if (sensorValue &lt; 70)\n                report = &quot;MODERATE TRAFFIC&quot;;\n            else\n                report = &quot;HEAVY TRAFFIC&quot;;\n        }\n\n        return report;\n    }\n}\n</code></pre>\n<p>Now, I need to write an integration test to simulate an <strong>unavailable sensor API</strong> that returns 404 or 500 to verify  that the report API returning correct error message in such situation. How can I do it?</p>\n",
        "codigo": [
            "[ApiController]\n[Route(\"[controller]\")]\npublic class TrafficSensorController : ControllerBase\n{\n    [HttpGet(Name = \"GetTrafficSensor\")]\n    public int Get()\n    {\n        return new Random().Next(100);\n    }\n}\n",
            "[ApiController]\n[Route(\"[controller]\")]\npublic class TrafficReportController : ControllerBase\n{\n    private static readonly string SENSOR_URL = \"https://localhost:7272/TrafficSensor\";\n\n    [HttpGet(Name = \"GetTrafficReport\")]\n    public async Task<string> Get()\n    {\n        var response = await new HttpClient().GetAsync(SENSOR_URL);\n\n        string report = \"ERROR!\";\n\n        if (response.IsSuccessStatusCode)\n        {\n            int sensorValue = int.Parse(await response.Content.ReadAsStringAsync());\n\n            if (sensorValue < 30)\n                report = \"LIGHT TRAFFIC\";\n            else if (sensorValue < 70)\n                report = \"MODERATE TRAFFIC\";\n            else\n                report = \"HEAVY TRAFFIC\";\n        }\n\n        return report;\n    }\n}\n"
        ]
    },
    {
        "titulo": "Pitest is not finding my JUNIT tests on &lt;targetTests&gt; param",
        "score": 1,
        "views": 222,
        "respostas": 1,
        "tags": [
            "java",
            "testing",
            "junit",
            "integration",
            "pitest"
        ],
        "link": "https://stackoverflow.com/questions/76615514/pitest-is-not-finding-my-junit-tests-on-targettests-param",
        "conteudo_html": "<p>I introduced the Pitest as a stage in our development schedule, but in one of the project it is not working and generating this info message:</p>\n<p>Skipping project because:\n[INFO]   - Project has no tests, it is empty.</p>\n<p>Researching we found out could be something with the project structure: <a href=\"https://github.com/hcoles/pitest/issues/361\" rel=\"nofollow noreferrer\">https://github.com/hcoles/pitest/issues/361</a></p>\n<p>POM with Pitest:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n    &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n    &lt;version&gt;1.14.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;outputFormats&gt;\n            &lt;outputFormat&gt;XML&lt;/outputFormat&gt;\n            &lt;outputFormat&gt;HTML&lt;/outputFormat&gt;\n        &lt;/outputFormats&gt;\n        &lt;targetClasses&gt;\n            &lt;!-- Update with your target classes/packages for mutation testing --&gt;\n            &lt;param&gt;br.com.company.project.operations&lt;/param&gt;\n        &lt;/targetClasses&gt;\n        &lt;targetTests&gt;\n            &lt;!-- Update with your test classes/packages --&gt;\n            &lt;param&gt;br.com.company.project.junit.tests&lt;/param&gt;\n        &lt;/targetTests&gt;\n        &lt;exportLineCoverage&gt;true&lt;/exportLineCoverage&gt;\n        &lt;!--We want each report to override the former one--&gt;\n        &lt;timestampedReports&gt;false&lt;/timestampedReports&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;pitest-mutation-testing&lt;/id&gt;\n            &lt;phase&gt;install&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;mutationCoverage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n\n&lt;reporting&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n            &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n            &lt;version&gt;1.14.2&lt;/version&gt;\n            &lt;reportSets&gt;\n                &lt;reportSet&gt;\n                    &lt;reports&gt;\n                        &lt;report&gt;report&lt;/report&gt;\n                    &lt;/reports&gt;\n                &lt;/reportSet&gt;\n            &lt;/reportSets&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/reporting&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n    &lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.14&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>Project Structure</p>\n<pre><code>├───CompanyProjectSaaS_Commons\n│   ├───.settings\n│   ├───module\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───commons\n│   │                       ├───pojo\n│   │                       └───utils\n│   └───target\n│       ├───classes\n│       │   ├───br\n│       │   │   └───com\n│       │   │       └───company\n│       │   │           └───project\n│       │   │               └───commons\n│       │   │                   ├───pojo\n│       │   │                   └───utils\n│       │   └───test\n│       │       └───java\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───generated-test-sources\n│       │   └───test-annotations\n│       ├───maven-archiver\n│       ├───maven-status\n│       │   └───maven-compiler-plugin\n│       │       ├───compile\n│       │       │   └───default-compile\n│       │       └───testCompile\n│       │           └───default-testCompile\n│       ├───pit-reports\n│       │   ├───202307041032\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041034\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041048\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041103\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041127\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───br.com.company.project.commons.utils\n│       │   └───br.com.company.project.commons.utils.test\n│       └───test-classes\n│           └───test\n│               └───java\n├───CompanyProjectSaaS_Constants\n│   ├───.settings\n│   ├───module\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───constants\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───constants\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_Grpc\n│   ├───.settings\n│   ├───src\n│   │   └───main\n│   │       ├───java\n│   │       │   └───br\n│   │       │       └───com\n│   │       │           └───company\n│   │       │               └───project\n│   │       │                   └───grpc\n│   │       └───resources\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───grpc\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_GrpcServer\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   │                       └───grpc\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       │                       └───grpc\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_JUnitTests\n│   ├───.settings\n│   ├───conf\n│   ├───simulator\n│   │   └───cryptoki_simulator\n│   │       ├───admin\n│   │       │   └───token\n│   │       ├───admin.linux\n│   │       │   └───token\n│   │       └───slot0\n│   │           └───token\n│   ├───src\n│   │   └───test\n│   │       └───java\n│   │           └───br\n│   │               └───com\n│   │                   └───company\n│   │                       └───project\n│   │                           └───junit\n│   │                               └───tests\n│   │                                   └───utils\n│   └───target\n│       ├───generated-test-sources\n│       │   └───test-annotations\n│       ├───maven-archiver\n│       ├───maven-status\n│       │   └───maven-compiler-plugin\n│       │       └───testCompile\n│       │           └───default-testCompile\n│       ├───surefire-reports\n│       └───test-classes\n│           ├───br\n│           │   └───com\n│           │       └───company\n│           │           └───project\n│           │               ├───commons\n│           │               │   └───utils\n│           │               └───junit\n│           │                   └───tests\n│           │                       └───utils\n│           └───test\n│               └───java\n│                   ├───br\n│                   │   └───com\n│                   │       └───company\n│                   │           └───project\n│                   │               └───junit\n│                   │                   └───tests\n│                   ├───commons\n│                   │   └───utils\n│                   └───junit\n│                       └───tests\n│                           └───utils\n├───CompanyprojectSaaS_Logger\n│   ├───.settings\n│   ├───module\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───logger\n│   │                       ├───pojo\n│   │                       ├───report\n│   │                       └───utils\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───logger\n│       │                       ├───pojo\n│       │                       ├───report\n│       │                       └───utils\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_PKCS11\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───pkcs11\n│   │                       ├───devices\n│   │                       ├───support\n│   │                       ├───token\n│   │                       │   └───asn1\n│   │                       └───utils\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───pkcs11\n│       │                       ├───devices\n│       │                       ├───support\n│       │                       ├───token\n│       │                       │   └───asn1\n│       │                       └───utils\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_PKCS11SunWrapper\n│   ├───.settings\n│   ├───bin\n│   │   └───sun\n│   │       └───security\n│   │           └───pkcs11\n│   ├───module\n│   ├───src\n│   │   ├───jdk\n│   │   │   └───internal\n│   │   │       ├───misc\n│   │   │       ├───ref\n│   │   │       └───util\n│   │   └───sun\n│   │       ├───net\n│   │       │   └───www\n│   │       ├───nio\n│   │       │   ├───ch\n│   │       │   └───cs\n│   │       ├───security\n│   │       │   ├───action\n│   │       │   ├───internal\n│   │       │   │   ├───interfaces\n│   │       │   │   └───spec\n│   │       │   ├───jca\n│   │       │   ├───pkcs\n│   │       │   ├───pkcs11\n│   │       │   │   └───wrapper\n│   │       │   ├───provider\n│   │       │   ├───rsa\n│   │       │   ├───util\n│   │       │   └───x509\n│   │       └───util\n│   │           └───calendar\n│   └───target\n│       ├───classes\n│       │   ├───jdk\n│       │   │   └───internal\n│       │   │       ├───misc\n│       │   │       ├───ref\n│       │   │       └───util\n│       │   └───sun\n│       │       ├───net\n│       │       │   └───www\n│       │       ├───nio\n│       │       │   ├───ch\n│       │       │   └───cs\n│       │       ├───security\n│       │       │   ├───action\n│       │       │   ├───internal\n│       │       │   │   ├───interfaces\n│       │       │   │   └───spec\n│       │       │   ├───jca\n│       │       │   ├───pkcs\n│       │       │   ├───pkcs11\n│       │       │   │   └───wrapper\n│       │       │   ├───provider\n│       │       │   ├───rsa\n│       │       │   ├───util\n│       │       │   └───x509\n│       │       └───util\n│       │           └───calendar\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_PKCS11Wrapper\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───pkcs11\n│   │                       └───wrapper\n│   │                           └───sun\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───pkcs11\n│       │                       └───wrapper\n│       │                           └───sun\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyProjectSaaS_Processor\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   │                       └───processor\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       │                       └───processor\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_Processors_Builder\n│   ├───.settings\n│   └───target\n│       └───antrun\n├───CompanyprojectSaaS_Processor_Example\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   ├───operations\n│   │                   │   └───jwedecrypt\n│   │                   └───processor\n│   │                       └───jwedecrypt\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   ├───operations\n│       │                   │   └───jwedecrypt\n│       │                   └───processor\n│       │                       └───jwedecrypt\n│       ├───generated-sources\n│       │   └───annotations\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n\n[...] \n\n## There is a lot of this Processors, the structure are always the same as above.\n\n[...]\n\n├───CompanyprojectSaaS_RestServer\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   │                       └───rest\n│   │                           ├───controller\n│   │                           └───services\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       │                       └───rest\n│       │                           ├───controller\n│       │                           └───services\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyProjectSaaS_Server\n│   ├───.settings\n│   ├───config\n│   ├───logs\n│   │   └───history\n│   ├───processors\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   └───target\n│       ├───antrun\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n└───CompanyProjectSaaS_Server_Builder\n    ├───.settings\n    ├───build\n    │   ├───Depends\n    │   │   ├───docs\n    │   │   └───company_project\n    │   │       ├───config\n    │   │       ├───linux\n    │   │       ├───processors\n    │   │       └───windows\n    │   │           ├───x64\n    │   │           └───x86\n    │   ├───installer_files\n    │   └───installer_out\n    ├───dist\n    └───target\n        └───antrun\n</code></pre>\n<p>I tried to change the project structure and to add * in the target, but none of them worked. I was able to create a pitest for a test and source code that doesn't follow this structure.</p>\n",
        "codigo": [
            "<plugin>\n    <groupId>org.pitest</groupId>\n    <artifactId>pitest-maven</artifactId>\n    <version>1.14.2</version>\n    <configuration>\n        <outputFormats>\n            <outputFormat>XML</outputFormat>\n            <outputFormat>HTML</outputFormat>\n        </outputFormats>\n        <targetClasses>\n            <!-- Update with your target classes/packages for mutation testing -->\n            <param>br.com.company.project.operations</param>\n        </targetClasses>\n        <targetTests>\n            <!-- Update with your test classes/packages -->\n            <param>br.com.company.project.junit.tests</param>\n        </targetTests>\n        <exportLineCoverage>true</exportLineCoverage>\n        <!--We want each report to override the former one-->\n        <timestampedReports>false</timestampedReports>\n    </configuration>\n    <executions>\n        <execution>\n            <id>pitest-mutation-testing</id>\n            <phase>install</phase>\n            <goals>\n                <goal>mutationCoverage</goal>\n            </goals>\n        </execution>\n    </executions>\n</plugin>\n\n<reporting>\n    <plugins>\n        <plugin>\n            <groupId>org.pitest</groupId>\n            <artifactId>pitest-maven</artifactId>\n            <version>1.14.2</version>\n            <reportSets>\n                <reportSet>\n                    <reports>\n                        <report>report</report>\n                    </reports>\n                </reportSet>\n            </reportSets>\n        </plugin>\n    </plugins>\n</reporting>\n\n<dependency>\n    <groupId>org.pitest</groupId>\n    <artifactId>pitest-junit5-plugin</artifactId>\n    <version>0.14</version>\n</dependency>\n\n",
            "├───CompanyProjectSaaS_Commons\n│   ├───.settings\n│   ├───module\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───commons\n│   │                       ├───pojo\n│   │                       └───utils\n│   └───target\n│       ├───classes\n│       │   ├───br\n│       │   │   └───com\n│       │   │       └───company\n│       │   │           └───project\n│       │   │               └───commons\n│       │   │                   ├───pojo\n│       │   │                   └───utils\n│       │   └───test\n│       │       └───java\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───generated-test-sources\n│       │   └───test-annotations\n│       ├───maven-archiver\n│       ├───maven-status\n│       │   └───maven-compiler-plugin\n│       │       ├───compile\n│       │       │   └───default-compile\n│       │       └───testCompile\n│       │           └───default-testCompile\n│       ├───pit-reports\n│       │   ├───202307041032\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041034\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041048\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041103\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041127\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───br.com.company.project.commons.utils\n│       │   └───br.com.company.project.commons.utils.test\n│       └───test-classes\n│           └───test\n│               └───java\n├───CompanyProjectSaaS_Constants\n│   ├───.settings\n│   ├───module\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───constants\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───constants\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_Grpc\n│   ├───.settings\n│   ├───src\n│   │   └───main\n│   │       ├───java\n│   │       │   └───br\n│   │       │       └───com\n│   │       │           └───company\n│   │       │               └───project\n│   │       │                   └───grpc\n│   │       └───resources\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───grpc\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_GrpcServer\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   │                       └───grpc\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       │                       └───grpc\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_JUnitTests\n│   ├───.settings\n│   ├───conf\n│   ├───simulator\n│   │   └───cryptoki_simulator\n│   │       ├───admin\n│   │       │   └───token\n│   │       ├───admin.linux\n│   │       │   └───token\n│   │       └───slot0\n│   │           └───token\n│   ├───src\n│   │   └───test\n│   │       └───java\n│   │           └───br\n│   │               └───com\n│   │                   └───company\n│   │                       └───project\n│   │                           └───junit\n│   │                               └───tests\n│   │                                   └───utils\n│   └───target\n│       ├───generated-test-sources\n│       │   └───test-annotations\n│       ├───maven-archiver\n│       ├───maven-status\n│       │   └───maven-compiler-plugin\n│       │       └───testCompile\n│       │           └───default-testCompile\n│       ├───surefire-reports\n│       └───test-classes\n│           ├───br\n│           │   └───com\n│           │       └───company\n│           │           └───project\n│           │               ├───commons\n│           │               │   └───utils\n│           │               └───junit\n│           │                   └───tests\n│           │                       └───utils\n│           └───test\n│               └───java\n│                   ├───br\n│                   │   └───com\n│                   │       └───company\n│                   │           └───project\n│                   │               └───junit\n│                   │                   └───tests\n│                   ├───commons\n│                   │   └───utils\n│                   └───junit\n│                       └───tests\n│                           └───utils\n├───CompanyprojectSaaS_Logger\n│   ├───.settings\n│   ├───module\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───logger\n│   │                       ├───pojo\n│   │                       ├───report\n│   │                       └───utils\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───logger\n│       │                       ├───pojo\n│       │                       ├───report\n│       │                       └───utils\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_PKCS11\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───pkcs11\n│   │                       ├───devices\n│   │                       ├───support\n│   │                       ├───token\n│   │                       │   └───asn1\n│   │                       └───utils\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───pkcs11\n│       │                       ├───devices\n│       │                       ├───support\n│       │                       ├───token\n│       │                       │   └───asn1\n│       │                       └───utils\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_PKCS11SunWrapper\n│   ├───.settings\n│   ├───bin\n│   │   └───sun\n│   │       └───security\n│   │           └───pkcs11\n│   ├───module\n│   ├───src\n│   │   ├───jdk\n│   │   │   └───internal\n│   │   │       ├───misc\n│   │   │       ├───ref\n│   │   │       └───util\n│   │   └───sun\n│   │       ├───net\n│   │       │   └───www\n│   │       ├───nio\n│   │       │   ├───ch\n│   │       │   └───cs\n│   │       ├───security\n│   │       │   ├───action\n│   │       │   ├───internal\n│   │       │   │   ├───interfaces\n│   │       │   │   └───spec\n│   │       │   ├───jca\n│   │       │   ├───pkcs\n│   │       │   ├───pkcs11\n│   │       │   │   └───wrapper\n│   │       │   ├───provider\n│   │       │   ├───rsa\n│   │       │   ├───util\n│   │       │   └───x509\n│   │       └───util\n│   │           └───calendar\n│   └───target\n│       ├───classes\n│       │   ├───jdk\n│       │   │   └───internal\n│       │   │       ├───misc\n│       │   │       ├───ref\n│       │   │       └───util\n│       │   └───sun\n│       │       ├───net\n│       │       │   └───www\n│       │       ├───nio\n│       │       │   ├───ch\n│       │       │   └───cs\n│       │       ├───security\n│       │       │   ├───action\n│       │       │   ├───internal\n│       │       │   │   ├───interfaces\n│       │       │   │   └───spec\n│       │       │   ├───jca\n│       │       │   ├───pkcs\n│       │       │   ├───pkcs11\n│       │       │   │   └───wrapper\n│       │       │   ├───provider\n│       │       │   ├───rsa\n│       │       │   ├───util\n│       │       │   └───x509\n│       │       └───util\n│       │           └───calendar\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_PKCS11Wrapper\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───pkcs11\n│   │                       └───wrapper\n│   │                           └───sun\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───pkcs11\n│       │                       └───wrapper\n│       │                           └───sun\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyProjectSaaS_Processor\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   │                       └───processor\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       │                       └───processor\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_Processors_Builder\n│   ├───.settings\n│   └───target\n│       └───antrun\n├───CompanyprojectSaaS_Processor_Example\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   ├───operations\n│   │                   │   └───jwedecrypt\n│   │                   └───processor\n│   │                       └───jwedecrypt\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   ├───operations\n│       │                   │   └───jwedecrypt\n│       │                   └───processor\n│       │                       └───jwedecrypt\n│       ├───generated-sources\n│       │   └───annotations\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n\n[...] \n\n## There is a lot of this Processors, the structure are always the same as above.\n\n[...]\n\n├───CompanyprojectSaaS_RestServer\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   │                       └───rest\n│   │                           ├───controller\n│   │                           └───services\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       │                       └───rest\n│       │                           ├───controller\n│       │                           └───services\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyProjectSaaS_Server\n│   ├───.settings\n│   ├───config\n│   ├───logs\n│   │   └───history\n│   ├───processors\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   └───target\n│       ├───antrun\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n└───CompanyProjectSaaS_Server_Builder\n    ├───.settings\n    ├───build\n    │   ├───Depends\n    │   │   ├───docs\n    │   │   └───company_project\n    │   │       ├───config\n    │   │       ├───linux\n    │   │       ├───processors\n    │   │       └───windows\n    │   │           ├───x64\n    │   │           └───x86\n    │   ├───installer_files\n    │   └───installer_out\n    ├───dist\n    └───target\n        └───antrun\n"
        ]
    },
    {
        "titulo": "Can&#39;t configure host url on WebApplicationFactory",
        "score": 3,
        "views": 1035,
        "respostas": 1,
        "tags": [
            "asp.net-core",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/76573433/cant-configure-host-url-on-webapplicationfactory",
        "conteudo_html": "<p>I am trying to host my api project using WebApplicationFactory. I have overriden ConfigureWebHost and added my desired url in UseUrls() method. I am setting the app to host on http://localhost:5000, but it is inaccessible from browser. The only way to call endpoints in the host is via httpClient created by CreateClient() method in WebApplicationFactory instance.</p>\n<pre><code>public class ApiHubFactory&lt;TEntryPoint&gt; : WebApplicationFactory&lt;TEntryPoint&gt; where TEntryPoint : class\n    {\n        public string HostUrl { get; set; } = &quot;https://localhost:5001&quot;;\n        protected override void ConfigureWebHost(IWebHostBuilder builder)\n        {\n            builder.UseUrls(&quot;http://localhost:5000&quot;, HostUrl);\n\n            //Adding fake authentication scheme to bypass JWT authentication\n            builder.ConfigureServices(services =&gt;\n            {\n                services.AddAuthentication(options =&gt;\n                    {\n                        options.DefaultAuthenticateScheme = TestAuthHandler.AuthenticationScheme;\n                        options.DefaultScheme = TestAuthHandler.AuthenticationScheme;\n                        options.DefaultChallengeScheme = TestAuthHandler.AuthenticationScheme;\n                    })\n                    .AddScheme&lt;AuthenticationSchemeOptions, TestAuthHandler&gt;(TestAuthHandler.AuthenticationScheme, options =&gt; { });\n            });\n        }\n}\n</code></pre>\n<p>I have tried to find out on what url the host is starting looking in httpclient. Despite I have set it to be http://localhost:5000, it is 127.0.0.1:80, which is also inaccessible from browser.</p>\n<p>Also I have tried using settings, the answer is from <a href=\"https://stackoverflow.com/questions/67047849/how-to-configure-url-on-host-created-by-webapplicationfactory\">How to configure url on Host created by WebApplicationFactory?</a></p>\n<pre><code>public class CustomWebApplicationFactory&lt;TStartup&gt;\n    : WebApplicationFactory&lt;TStartup&gt; where TStartup : class\n{\n    protected override void ConfigureWebHost(IWebHostBuilder builder)\n    {\n        // Notice there is no `--` prefix in &quot;urls&quot;\n        builder.UseSetting(&quot;urls&quot;, &quot;http://localhost:1234&quot;);\n\n        // other stuff as usual\n    }\n}\n</code></pre>\n",
        "codigo": [
            "public class ApiHubFactory<TEntryPoint> : WebApplicationFactory<TEntryPoint> where TEntryPoint : class\n    {\n        public string HostUrl { get; set; } = \"https://localhost:5001\";\n        protected override void ConfigureWebHost(IWebHostBuilder builder)\n        {\n            builder.UseUrls(\"http://localhost:5000\", HostUrl);\n\n            //Adding fake authentication scheme to bypass JWT authentication\n            builder.ConfigureServices(services =>\n            {\n                services.AddAuthentication(options =>\n                    {\n                        options.DefaultAuthenticateScheme = TestAuthHandler.AuthenticationScheme;\n                        options.DefaultScheme = TestAuthHandler.AuthenticationScheme;\n                        options.DefaultChallengeScheme = TestAuthHandler.AuthenticationScheme;\n                    })\n                    .AddScheme<AuthenticationSchemeOptions, TestAuthHandler>(TestAuthHandler.AuthenticationScheme, options => { });\n            });\n        }\n}\n",
            "public class CustomWebApplicationFactory<TStartup>\n    : WebApplicationFactory<TStartup> where TStartup : class\n{\n    protected override void ConfigureWebHost(IWebHostBuilder builder)\n    {\n        // Notice there is no `--` prefix in \"urls\"\n        builder.UseSetting(\"urls\", \"http://localhost:1234\");\n\n        // other stuff as usual\n    }\n}\n"
        ]
    },
    {
        "titulo": "Mock microservices in integration tests in python",
        "score": 1,
        "views": 161,
        "respostas": 0,
        "tags": [
            "python",
            "testing",
            "mocking",
            "microservices",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/76064547/mock-microservices-in-integration-tests-in-python",
        "conteudo_html": "<p>right now i am working with python microservices that communicates with http calls or kafka. I have really a bunch of integration tests: right now everyone of them calls other microservices to run. This means a lot of inconsistency, variability etc. etc.\nI would like to mock the response of those services and the kafka messages to test in a isolate environment, independent from the other microservices.</p>\n<p>I saw that python-pact could be a good choice but it seems like that there is no way to auto generate the contracts from the existing integration tests: all the packages that used to do this are now deprecated.\nHelp me, please!</p>\n",
        "codigo": []
    },
    {
        "titulo": "How to write integration test in .net using test containers for Google spanner",
        "score": 0,
        "views": 205,
        "respostas": 1,
        "tags": [
            "testing",
            "containers",
            "integration",
            "google-cloud-spanner"
        ],
        "link": "https://stackoverflow.com/questions/75515588/how-to-write-integration-test-in-net-using-test-containers-for-google-spanner",
        "conteudo_html": "<p>Trying to identify a way to spun test container using Google spanner for writing integration tests. All I'm able to find is how to spun test containers using postgres flavor.</p>\n<p>Is there any utility available for this?</p>\n",
        "codigo": []
    },
    {
        "titulo": "Is there a way to run a test suite whenever some other test suite is run in a project?",
        "score": 0,
        "views": 39,
        "respostas": 0,
        "tags": [
            "java",
            "testing",
            "build.gradle",
            "integration-testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/75230407/is-there-a-way-to-run-a-test-suite-whenever-some-other-test-suite-is-run-in-a-pr",
        "conteudo_html": "<p>To run a test class we can mention it in the Suite as a suite class using the @SuiteClasses({TestClass.class}).\nIf there are three packages with three different sets of integration tests I would have to manually include my test suite in all the three packages. I want to know if there is a way to automatically include my test class such that whenever any test suite runs in the project this particular class would load automatically?\nI want to do this because in future if I add another integration test this class should automatically run even if I forget to mention it in @SuiteClasses({}).</p>\n<p>I tried to run it by mentioning it in the @SuiteClasses({}); but I want to automate this. I am expecting it to run whenever an Integration test runs in that project.</p>\n",
        "codigo": []
    },
    {
        "titulo": "Integration testing vs e2e testing on a finished application",
        "score": 0,
        "views": 291,
        "respostas": 1,
        "tags": [
            "angular",
            "testing",
            "integration-testing",
            "integration",
            "end-to-end"
        ],
        "link": "https://stackoverflow.com/questions/74965435/integration-testing-vs-e2e-testing-on-a-finished-application",
        "conteudo_html": "<p>What makes more sense? I am testing a finished application for a company which is already being used by its customers. The software really only displays data. Which type of testing makes most sense, end-to-end or integration testing?\nEDIT: If it makes any difference, the software up to now is completely untested.</p>\n",
        "codigo": []
    },
    {
        "titulo": "Integration testing with Quarkus and Redis how do I set a state with the redis?",
        "score": 0,
        "views": 1050,
        "respostas": 1,
        "tags": [
            "java",
            "testing",
            "redis",
            "integration",
            "quarkus"
        ],
        "link": "https://stackoverflow.com/questions/74059658/integration-testing-with-quarkus-and-redis-how-do-i-set-a-state-with-the-redis",
        "conteudo_html": "<p>Hi I have my test class annotated with the</p>\n<pre class=\"lang-java prettyprint-override\"><code>@QuarkusIntegrationTest\n</code></pre>\n<p>I wanna run the following test</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        given()\n                .contentType(MediaType.APPLICATION_JSON)\n                .pathParam(&quot;id&quot;, id)\n                .when()\n                .get(&quot;/user/presence/{id}&quot;)\n                .then()\n                .statusCode(Response.Status.OK.getStatusCode())\n    }\n</code></pre>\n<p>This gets the user presence and the presence is stored inside a redis cache.</p>\n<p>I wanna do a setup step that puts the presence into my redis cache before the test begins. However, my redis cache is not exposed on any endpoint so i'm not able to set it via HTTP calls.</p>\n<p>The redis class i want to test is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScoped\n</code></pre>\n<p>This seems to be needed since the constructor sets a RedisDataSoruce</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public MyRedisCache(RedisDataSource ds) {\n        this.commands = ds.string(MyClass.class);\n    }\n</code></pre>\n<p>But this makes me unable to use this perticular class instance inside my integration tests. So how can I put values into this redis before my test begins</p>\n",
        "codigo": [
            "@QuarkusIntegrationTest\n",
            "\n        given()\n                .contentType(MediaType.APPLICATION_JSON)\n                .pathParam(\"id\", id)\n                .when()\n                .get(\"/user/presence/{id}\")\n                .then()\n                .statusCode(Response.Status.OK.getStatusCode())\n    }\n",
            "@ApplicationScoped\n",
            "    public MyRedisCache(RedisDataSource ds) {\n        this.commands = ds.string(MyClass.class);\n    }\n"
        ]
    },
    {
        "titulo": "Selenium race condition for dialog closing",
        "score": 0,
        "views": 44,
        "respostas": 0,
        "tags": [
            "selenium",
            "testing",
            "selenium-chromedriver",
            "dialog",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/74036516/selenium-race-condition-for-dialog-closing",
        "conteudo_html": "<p>I have a dialog opened. On trying to close it, the check for if dialog closed is timing out sometimes.</p>\n<p>The dialog opens via transform: scale property of css. So, in the end I'm trying to check for scale(0), but its timing out on random basis.</p>\n<pre><code>self.wait().until(expected_conditions.visibility_of_element_located((By.XPATH, &quot;//*[contains(@class, 'sample-dialog')][contains(@style, 'transform: scale(1)')]&quot;)))\n\nself.selenium.find_element_by_class_name(&quot;sample-close-button&quot;).click()\n\nself.wait().until(expected_conditions.visibility_of_element_located((By.XPATH, &quot;//*[contains(@class, 'sample-dialog')][contains(@style, 'transform: scale(0)')]&quot;)))\n</code></pre>\n<p>The wait function is nothing but WebDriverWait defaulted to 10 secs, while the dialog takes merely 0.2s to close:</p>\n<pre><code>def wait(self, seconds=10):\n    return WebDriverWait(self.selenium, seconds)\n</code></pre>\n",
        "codigo": [
            "self.wait().until(expected_conditions.visibility_of_element_located((By.XPATH, \"//*[contains(@class, 'sample-dialog')][contains(@style, 'transform: scale(1)')]\")))\n\nself.selenium.find_element_by_class_name(\"sample-close-button\").click()\n\nself.wait().until(expected_conditions.visibility_of_element_located((By.XPATH, \"//*[contains(@class, 'sample-dialog')][contains(@style, 'transform: scale(0)')]\")))\n",
            "def wait(self, seconds=10):\n    return WebDriverWait(self.selenium, seconds)\n"
        ]
    },
    {
        "titulo": "Groovy integration testing with executor service",
        "score": 0,
        "views": 146,
        "respostas": 0,
        "tags": [
            "java",
            "testing",
            "groovy",
            "concurrency",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/73276439/groovy-integration-testing-with-executor-service",
        "conteudo_html": "<p>I want to test optimistic locking on my resource. To do that I want to call my endpoint let's say 10 times and assert that in my database I only get 1 record. My test:</p>\n<pre><code>given:\ndef request = someRequest()\n\nwhen:\nExecutorService executorService = Executors.newFixedThreadPool(10)\nCountDownLatch latch = new CountDownLatch(10)\n10.times {\n    executorService.execute(() -&gt; {\n        restTemplate.postForEntity(localUri() + &quot;/resource&quot;, request, String.class)\n        latch.countDown()\n    })\n}\nlatch.await()\n\nthen:\nstorage.findAll().size() == 1\n</code></pre>\n<p>Everytime I run this test I see that there are exactly 5 attempts while I expect 10 calls. As a database I use PostgreSQL image. I'm not an expert with concurrency, do you know where is the problem?</p>\n",
        "codigo": [
            "given:\ndef request = someRequest()\n\nwhen:\nExecutorService executorService = Executors.newFixedThreadPool(10)\nCountDownLatch latch = new CountDownLatch(10)\n10.times {\n    executorService.execute(() -> {\n        restTemplate.postForEntity(localUri() + \"/resource\", request, String.class)\n        latch.countDown()\n    })\n}\nlatch.await()\n\nthen:\nstorage.findAll().size() == 1\n"
        ]
    },
    {
        "titulo": "Writing Integration Test of a Django ListView",
        "score": 0,
        "views": 166,
        "respostas": 1,
        "tags": [
            "django",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/72811464/writing-integration-test-of-a-django-listview",
        "conteudo_html": "<p>How to write an integration test of the following list view in django? I need an example.</p>\n<pre><code>class HomeView(ListView):\n    model = Donor\n    template_name = 'recipient/home.html'\n    context_object_name = 'donors'\n    paginate_by = 10\n\n    def get_queryset(self):\n        form = self.request.GET.get('q')\n        if form:\n            return Donor.objects.filter(\n                Q(name__icontains=form) |\n                Q(location__icontains=form) | \n                Q(sex__icontains=form) | \n                Q(age__icontains=form) | \n                Q(blood_group__icontains=form)\n            ).order_by('id')\n        queryset = Donor.objects.all().order_by('id')\n        return queryset\n\n    def get_context_data(self, **kwargs):\n        kwargs['q'] = self.request.GET.get('q')\n        return super().get_context_data(**kwargs)\n</code></pre>\n",
        "codigo": [
            "class HomeView(ListView):\n    model = Donor\n    template_name = 'recipient/home.html'\n    context_object_name = 'donors'\n    paginate_by = 10\n\n    def get_queryset(self):\n        form = self.request.GET.get('q')\n        if form:\n            return Donor.objects.filter(\n                Q(name__icontains=form) |\n                Q(location__icontains=form) | \n                Q(sex__icontains=form) | \n                Q(age__icontains=form) | \n                Q(blood_group__icontains=form)\n            ).order_by('id')\n        queryset = Donor.objects.all().order_by('id')\n        return queryset\n\n    def get_context_data(self, **kwargs):\n        kwargs['q'] = self.request.GET.get('q')\n        return super().get_context_data(**kwargs)\n"
        ]
    },
    {
        "titulo": "How to restart the app between integration tests?",
        "score": 3,
        "views": 1536,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "testing",
            "automated-tests",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/72060323/how-to-restart-the-app-between-integration-tests",
        "conteudo_html": "<p>How can one restart the app between integration tests that are in one file?</p>\n<p>The goal is to wipe out any state that the app may be keeping.</p>\n",
        "codigo": []
    },
    {
        "titulo": "Can Behat be integrated with PHPUnit?",
        "score": 0,
        "views": 339,
        "respostas": 1,
        "tags": [
            "testing",
            "phpunit",
            "integration",
            "bdd",
            "behat"
        ],
        "link": "https://stackoverflow.com/questions/70661694/can-behat-be-integrated-with-phpunit",
        "conteudo_html": "<p>I have been setting up Behat in order to facilitate BDD as a testing framework for my company.  The ask is to also incorporate it with PHPUnit, so as to derive the benefits of that platform, with the readability of the Gherkin syntax of the Behat scenarios.</p>\n<p>My first attempt at integration with PHPUnit was to make php exec() calls out to the command line from the Behat Feature file, and base the results of each scenario step on the feedback from that PHPUnit test.  This, however, feels cumbersome, and that there should be a way to more tightly integrate these tools, hopefully allowing Behat to call PHPUnit tests directly.</p>\n<pre><code>/**\n * @When &lt;invoice_custcode&gt;\n */\npublic function invoiceCustcode()\n{\n    $returnValue = &quot;&quot;;\n    $output = &quot;&quot;;\n    exec(&quot;phpunit BDDTest&quot;,$output,$returnValue);\n    echo &quot;returned with status &quot;.$returnValue.&quot; and output=&quot;.print_r($output);\n\n}\n</code></pre>\n<p>This far, the closest I have come is this project by Jonathan Shaw from 2019, but it doesn't seem to speak completely to my question.</p>\n<p><a href=\"https://medium.com/@jonathanjfshaw/write-better-tests-by-using-behat-with-phpunit-ddb08d449b73\" rel=\"nofollow noreferrer\">https://medium.com/@jonathanjfshaw/write-better-tests-by-using-behat-with-phpunit-ddb08d449b73</a></p>\n",
        "codigo": [
            "/**\n * @When <invoice_custcode>\n */\npublic function invoiceCustcode()\n{\n    $returnValue = \"\";\n    $output = \"\";\n    exec(\"phpunit BDDTest\",$output,$returnValue);\n    echo \"returned with status \".$returnValue.\" and output=\".print_r($output);\n\n}\n"
        ]
    },
    {
        "titulo": "xunit integration tests failing in devops pipeline",
        "score": 0,
        "views": 527,
        "respostas": 0,
        "tags": [
            "azure",
            "testing",
            "azure-pipelines",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/69546700/xunit-integration-tests-failing-in-devops-pipeline",
        "conteudo_html": "<p>.Net 5.0 solution</p>\n<p>Local integration tests for API controllers runs without errors.</p>\n<p>This is my fixture:</p>\n<pre><code>public class IntegrationTest\n{\n    protected readonly HttpClient Client;\n\n\n    protected IntegrationTest()\n    {\n        var appFactory = new WebApplicationFactory&lt;Startup&gt;()\n            .WithWebHostBuilder(builder =&gt;\n            {\n                builder.ConfigureServices(services =&gt;\n                {         \n                    services.RemoveAll(typeof(DataContext));\n                    services.AddDbContext&lt;DataContext&gt;(options =&gt; {      options.UseInMemoryDatabase(&quot;TestDb&quot;); });\n                });\n            });\n\n\n        Client = appFactory.CreateClient();\n    }\n}\n</code></pre>\n<p>and the following is where I call it:</p>\n<pre><code>public class ArticleTypeControllerTests : IntegrationTest\n\n    {\n        [Theory]\n        [InlineData(&quot;articletypes/Lookup&quot;)]\n        public async Task Test_Should_ResultInOK(string endpoint)\n        {\n            var response = await Client.GetAsync(endpoint);\n            response.StatusCode.Should().Be(HttpStatusCode.OK);\n        }\n  \n</code></pre>\n<p>However, when I include said test in my Devops pipeline they always fail.</p>\n<p><a href=\"https://i.sstatic.net/l6LCi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is my pipeline:</p>\n<pre><code>trigger:\n- Develop\n\npool:\n  vmImage: 'windows-latest'\n\nvariables:\n  solution: '**/*.sln'\n  buildPlatform: 'Any CPU'\n  buildConfiguration: 'Release'\n\nsteps:\n- task: NuGetToolInstaller@1\n\n- task: NuGetCommand@2\n  inputs:\n    restoreSolution: '$(solution)'\n\n- task: VSBuild@1\n  inputs:\n    solution: '$(solution)'\n    msbuildArgs: '/p:DeployOnBuild=true /p:WebPublishMethod=Package /p:PackageAsSingleFile=true /p:SkipInvalidConfigurations=true /p:DesktopBuildPackageLocation=&quot;$(build.artifactStagingDirectory)\\WebApp.zip&quot; /p:DeployIisAppPath=&quot;Default Web Site&quot;'\n    platform: '$(buildPlatform)'\n    configuration: '$(buildConfiguration)'\n\n- task: DotNetCoreCLI@2`enter code here`\n  displayName: 'test'\n  inputs:\n    command: 'test'\n    projects: '**/*tests.csproj'\n    arguments: '--configuration $(buildConfiguration) --collect &quot;Code coverage&quot;'\n</code></pre>\n",
        "codigo": [
            "public class IntegrationTest\n{\n    protected readonly HttpClient Client;\n\n\n    protected IntegrationTest()\n    {\n        var appFactory = new WebApplicationFactory<Startup>()\n            .WithWebHostBuilder(builder =>\n            {\n                builder.ConfigureServices(services =>\n                {         \n                    services.RemoveAll(typeof(DataContext));\n                    services.AddDbContext<DataContext>(options => {      options.UseInMemoryDatabase(\"TestDb\"); });\n                });\n            });\n\n\n        Client = appFactory.CreateClient();\n    }\n}\n",
            "public class ArticleTypeControllerTests : IntegrationTest\n\n    {\n        [Theory]\n        [InlineData(\"articletypes/Lookup\")]\n        public async Task Test_Should_ResultInOK(string endpoint)\n        {\n            var response = await Client.GetAsync(endpoint);\n            response.StatusCode.Should().Be(HttpStatusCode.OK);\n        }\n  \n",
            "trigger:\n- Develop\n\npool:\n  vmImage: 'windows-latest'\n\nvariables:\n  solution: '**/*.sln'\n  buildPlatform: 'Any CPU'\n  buildConfiguration: 'Release'\n\nsteps:\n- task: NuGetToolInstaller@1\n\n- task: NuGetCommand@2\n  inputs:\n    restoreSolution: '$(solution)'\n\n- task: VSBuild@1\n  inputs:\n    solution: '$(solution)'\n    msbuildArgs: '/p:DeployOnBuild=true /p:WebPublishMethod=Package /p:PackageAsSingleFile=true /p:SkipInvalidConfigurations=true /p:DesktopBuildPackageLocation=\"$(build.artifactStagingDirectory)\\WebApp.zip\" /p:DeployIisAppPath=\"Default Web Site\"'\n    platform: '$(buildPlatform)'\n    configuration: '$(buildConfiguration)'\n\n- task: DotNetCoreCLI@2`enter code here`\n  displayName: 'test'\n  inputs:\n    command: 'test'\n    projects: '**/*tests.csproj'\n    arguments: '--configuration $(buildConfiguration) --collect \"Code coverage\"'\n"
        ]
    },
    {
        "titulo": "Flutter Integration test case fails when run",
        "score": 0,
        "views": 1924,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/69534600/flutter-integration-test-case-fails-when-run",
        "conteudo_html": "<p>I'm trying to run an integration test in my app. The screen is my login screen which leads to a signup flow and logged in to Home Screen. I'm using flutter integration test from the framework it self.</p>\n<p>I've tried to run an integration test on the login screen but I get this error,</p>\n<p><em>The following TestFailure object was thrown running a test:\nExpected: exactly one matching node in the widget tree\nActual: _WidgetPredicateFinder:&lt;zero widgets with widget matching predicate (Closure: (Widget) =&gt;\nbool) (ignoring offstage widgets)&gt;\nWhich: means none were found but one was expected</em></p>\n<p>My Login screen looks like this</p>\n<pre><code>class LoginScreen extends StatefulWidget {\n  static String tag = loginScreenRoute;\n\n  const LoginScreen({Key? key}) : super(key: key);\n\n  @override\n  State&lt;LoginScreen&gt; createState() =&gt; _LoginScreenState();\n}\n\nclass _LoginScreenState extends State&lt;LoginScreen&gt; {\n  final _userLoginFormKey = GlobalKey&lt;FormState&gt;();\n\n  String? _userName = &quot;&quot;;\n  String? _password = &quot;&quot;;\n  bool _invisiblePass = false;\n\n  TextEditingController usernameController = TextEditingController();\n  TextEditingController passwordController = TextEditingController();\n\n  bool hasInterNetConnection = false;\n  late StreamSubscription _connectionChangeStream;\n\n  @override\n  initState() {\n    //Create instance\n    ConnectionUtil connectionStatus = ConnectionUtil.getInstance();\n    //Initialize\n    connectionStatus.initialize();\n    //Listen for connection change\n    _connectionChangeStream =\n        connectionStatus.connectionChange.listen(connectionChanged);\n\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    _connectionChangeStream.cancel();\n    super.dispose();\n  }\n\n  void connectionChanged(dynamic hasConnection) {\n    setState(() {\n      hasInterNetConnection = hasConnection;\n      //print(isOffline);\n    });\n    if (!hasInterNetConnection) {\n      offlineBar(context);\n    }\n  }\n\n  final loading = Row(\n    mainAxisAlignment: MainAxisAlignment.center,\n    children: const &lt;Widget&gt;[\n      CircularProgressIndicator(\n        color: lightWTextColor,\n      ),\n      Text(&quot; Login in ... Please wait&quot;)\n    ],\n  );\n\n  void _showPassword() {\n    setState(() {\n      _invisiblePass = !_invisiblePass;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n\n    //// user email ////\n    TextFormField userName() =&gt; TextFormField(\n          key: const Key('login username input'),\n          autofocus: false,\n          keyboardType: TextInputType.emailAddress,\n          controller: usernameController,\n          validator: validateEmail,\n          onSaved: (value) =&gt; _userName = value!.trim(),\n          textInputAction: TextInputAction.next,\n          style: AppTheme.body1WTextStyle,\n          decoration: buildInputDecoration(\n            'Enter Email',\n            Icons.email,\n            lightWTextColor.withOpacity(0.4),\n          ),\n          // focusNode: _usernameFocusNode,\n          // onFieldSubmitted: (String val) {\n          //   final focusNode = FocusNode();\n          //   focusNode.unfocus();\n          // },\n        );\n\n    //// user password ////\n    TextFormField userPassword() =&gt; TextFormField(\n          key: const Key('login password input'),\n          obscureText: !_invisiblePass,\n          keyboardType: TextInputType.visiblePassword,\n          controller: passwordController,\n          validator: validatePassword,\n          onSaved: (value) =&gt; _password = value!.trim(),\n          textInputAction: TextInputAction.done,\n          style: AppTheme.body1WTextStyle,\n          decoration: buildInputDecoration(\n            'Enter Password',\n            Icons.vpn_lock,\n            lightWTextColor.withOpacity(0.4),\n          ).copyWith(\n            suffixIcon: GestureDetector(\n              onTap: () {\n                _showPassword();\n              },\n              child: Icon(\n                _invisiblePass ? Icons.visibility : Icons.visibility_off,\n                color: Colors.black54,\n              ),\n            ),\n          ),\n        );\n\n    final forgotLabel = Padding(\n      padding: const EdgeInsets.all(0.0),\n      child: Container(\n        alignment: Alignment.topRight,\n        child: TextButton(\n          child: const Text(\n            &quot;Forgot password?&quot;,\n            style: AppTheme.body1WTextStyle,\n          ),\n          onPressed: () {\n            Navigator.of(context).pushNamed(passwordResetScreenRoute);\n          },\n        ),\n      ),\n    );\n\n    final signupLabel = Padding(\n      padding: const EdgeInsets.all(10.0),\n      child: TextButton(\n        child: const Text(\n          &quot;Sign Up for an Account&quot;,\n          style: AppTheme.subTitleWTextStyle,\n        ),\n        onPressed: () {\n          Navigator.of(context).pushNamed(\n            userEditScreenRoute,\n            arguments: eProfile.addProfile,\n          );\n        },\n      ),\n    );\n\n    final loginButton = ButtonWidget(\n      key: const Key('login button'),\n      text: 'LOG IN',\n      btnColor: accentColor,\n      borderColor: accentColor,\n      textColor: lightWTextColor,\n      onPressed: () {\n        Navigator.of(context).pushReplacementNamed(homeScreenRoute);\n        // _submit();\n      },\n    );\n\n    final loginForm = Form(\n      key: _userLoginFormKey,\n      autovalidateMode: AutovalidateMode.onUserInteraction,\n      child: Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: [\n          userName(),\n          const SizedBox(\n            height: 10.0,\n          ),\n          userPassword(),\n          forgotLabel,\n          const SizedBox(\n            height: 10.0,\n          ),\n          loginButton,\n          const SizedBox(\n            height: 10.0,\n          ),\n          signupLabel,\n        ],\n      ),\n    );\n\n    final mainBody = InkWell(\n      onTap: () {\n        FocusScope.of(context).requestFocus(FocusNode());\n      },\n      child: Container(\n        height: MediaQuery.of(context).size.height,\n        width: MediaQuery.of(context).size.width,\n        decoration: wBackground(),\n        child: Padding(\n          padding: const EdgeInsets.symmetric(horizontal: 10.0),\n          child: Center(\n            child: Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: [\n                Image.asset(\n                  'assets/images/_logo.png',\n                  height: 200.0,\n                ),\n                Expanded(\n                  flex: 1,\n                  child: loginForm, //Text('this text here'),\n                ),\n              ],\n            ),\n          ),\n        ),\n      ),\n    );\n\n    return SafeArea(\n      child: Scaffold(\n        body: SingleChildScrollView(\n          child: mainBody,\n        ),\n      ),\n    );\n\n  }\n}\n</code></pre>\n<p>and when I try to navigate to Home Screen on tap of login button, the test fails.</p>\n<p>my test case is like this</p>\n<pre><code>void main() {\n  IntegrationTestWidgetsFlutterBinding.ensureInitialized();\n  //\n  // start.main();\n  login.main();\n}\n\n//\nvoid main() {\n  doLoginTest();\n}\n\nvoid doLoginTest() {\n  IntegrationTestWidgetsFlutterBinding.ensureInitialized();\n\n  testWidgets(&quot;Login in test run&quot;, (WidgetTester tester) async {\n    //\n    pawfect.main();\n    await tester.pumpAndSettle(const Duration(seconds: 3));\n    //test here\n\n    final Finder login =\n        find.byWidgetPredicate((widget) =&gt; widget is LoginScreen);\n    expect(login, findsOneWidget);\n    await tester.pumpAndSettle(const Duration(seconds: 1));\n    //\n    var emailInput = find.byKey(const Key('login username input'));\n    await tester.tap(emailInput);\n    await tester.enterText(emailInput, &quot;test@m.com&quot;);\n    await tester.pumpAndSettle(const Duration(seconds: 1));\n    //\n    var passwordInput = find.byKey(const Key('login password input'));\n    await tester.tap(passwordInput);\n    await tester.enterText(passwordInput, &quot;password&quot;);\n    await tester.pumpAndSettle(const Duration(seconds: 1));\n    //\n    var loginButton = find.byKey(const Key('login button'));\n    await tester.tap(loginButton, warnIfMissed: false);\n    await tester.pumpAndSettle(const Duration(seconds: 3));\n    //\n    // expect(version, findsOneWidget);\n    // final Finder home = find.byWidget(const HomeScreen());\n    expect(find.byWidgetPredicate((widget) =&gt; widget is HomeScreen),\n        findsOneWidget);\n    // await tester.pumpAndSettle(const Duration(seconds: 1));\n\n    var version = find.byWidgetPredicate(\n        (widget) =&gt; widget is Text &amp;&amp; widget.data!.contains(&quot;Version: 2.0&quot;));\n    expect(version, findsOneWidget);\n    await tester.pumpAndSettle(const Duration(seconds: 3));\n  });\n}\n</code></pre>\n<p>what am I doing wrong here? I tried to look for something helpful over the internet and in the docs but I couldn't get my hands dirty enough. Will someone please help me to write a fine Integration test move in with screen to another screen. Thank you so much in advance.</p>\n",
        "codigo": [
            "class LoginScreen extends StatefulWidget {\n  static String tag = loginScreenRoute;\n\n  const LoginScreen({Key? key}) : super(key: key);\n\n  @override\n  State<LoginScreen> createState() => _LoginScreenState();\n}\n\nclass _LoginScreenState extends State<LoginScreen> {\n  final _userLoginFormKey = GlobalKey<FormState>();\n\n  String? _userName = \"\";\n  String? _password = \"\";\n  bool _invisiblePass = false;\n\n  TextEditingController usernameController = TextEditingController();\n  TextEditingController passwordController = TextEditingController();\n\n  bool hasInterNetConnection = false;\n  late StreamSubscription _connectionChangeStream;\n\n  @override\n  initState() {\n    //Create instance\n    ConnectionUtil connectionStatus = ConnectionUtil.getInstance();\n    //Initialize\n    connectionStatus.initialize();\n    //Listen for connection change\n    _connectionChangeStream =\n        connectionStatus.connectionChange.listen(connectionChanged);\n\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    _connectionChangeStream.cancel();\n    super.dispose();\n  }\n\n  void connectionChanged(dynamic hasConnection) {\n    setState(() {\n      hasInterNetConnection = hasConnection;\n      //print(isOffline);\n    });\n    if (!hasInterNetConnection) {\n      offlineBar(context);\n    }\n  }\n\n  final loading = Row(\n    mainAxisAlignment: MainAxisAlignment.center,\n    children: const <Widget>[\n      CircularProgressIndicator(\n        color: lightWTextColor,\n      ),\n      Text(\" Login in ... Please wait\")\n    ],\n  );\n\n  void _showPassword() {\n    setState(() {\n      _invisiblePass = !_invisiblePass;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n\n    //// user email ////\n    TextFormField userName() => TextFormField(\n          key: const Key('login username input'),\n          autofocus: false,\n          keyboardType: TextInputType.emailAddress,\n          controller: usernameController,\n          validator: validateEmail,\n          onSaved: (value) => _userName = value!.trim(),\n          textInputAction: TextInputAction.next,\n          style: AppTheme.body1WTextStyle,\n          decoration: buildInputDecoration(\n            'Enter Email',\n            Icons.email,\n            lightWTextColor.withOpacity(0.4),\n          ),\n          // focusNode: _usernameFocusNode,\n          // onFieldSubmitted: (String val) {\n          //   final focusNode = FocusNode();\n          //   focusNode.unfocus();\n          // },\n        );\n\n    //// user password ////\n    TextFormField userPassword() => TextFormField(\n          key: const Key('login password input'),\n          obscureText: !_invisiblePass,\n          keyboardType: TextInputType.visiblePassword,\n          controller: passwordController,\n          validator: validatePassword,\n          onSaved: (value) => _password = value!.trim(),\n          textInputAction: TextInputAction.done,\n          style: AppTheme.body1WTextStyle,\n          decoration: buildInputDecoration(\n            'Enter Password',\n            Icons.vpn_lock,\n            lightWTextColor.withOpacity(0.4),\n          ).copyWith(\n            suffixIcon: GestureDetector(\n              onTap: () {\n                _showPassword();\n              },\n              child: Icon(\n                _invisiblePass ? Icons.visibility : Icons.visibility_off,\n                color: Colors.black54,\n              ),\n            ),\n          ),\n        );\n\n    final forgotLabel = Padding(\n      padding: const EdgeInsets.all(0.0),\n      child: Container(\n        alignment: Alignment.topRight,\n        child: TextButton(\n          child: const Text(\n            \"Forgot password?\",\n            style: AppTheme.body1WTextStyle,\n          ),\n          onPressed: () {\n            Navigator.of(context).pushNamed(passwordResetScreenRoute);\n          },\n        ),\n      ),\n    );\n\n    final signupLabel = Padding(\n      padding: const EdgeInsets.all(10.0),\n      child: TextButton(\n        child: const Text(\n          \"Sign Up for an Account\",\n          style: AppTheme.subTitleWTextStyle,\n        ),\n        onPressed: () {\n          Navigator.of(context).pushNamed(\n            userEditScreenRoute,\n            arguments: eProfile.addProfile,\n          );\n        },\n      ),\n    );\n\n    final loginButton = ButtonWidget(\n      key: const Key('login button'),\n      text: 'LOG IN',\n      btnColor: accentColor,\n      borderColor: accentColor,\n      textColor: lightWTextColor,\n      onPressed: () {\n        Navigator.of(context).pushReplacementNamed(homeScreenRoute);\n        // _submit();\n      },\n    );\n\n    final loginForm = Form(\n      key: _userLoginFormKey,\n      autovalidateMode: AutovalidateMode.onUserInteraction,\n      child: Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: [\n          userName(),\n          const SizedBox(\n            height: 10.0,\n          ),\n          userPassword(),\n          forgotLabel,\n          const SizedBox(\n            height: 10.0,\n          ),\n          loginButton,\n          const SizedBox(\n            height: 10.0,\n          ),\n          signupLabel,\n        ],\n      ),\n    );\n\n    final mainBody = InkWell(\n      onTap: () {\n        FocusScope.of(context).requestFocus(FocusNode());\n      },\n      child: Container(\n        height: MediaQuery.of(context).size.height,\n        width: MediaQuery.of(context).size.width,\n        decoration: wBackground(),\n        child: Padding(\n          padding: const EdgeInsets.symmetric(horizontal: 10.0),\n          child: Center(\n            child: Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: [\n                Image.asset(\n                  'assets/images/_logo.png',\n                  height: 200.0,\n                ),\n                Expanded(\n                  flex: 1,\n                  child: loginForm, //Text('this text here'),\n                ),\n              ],\n            ),\n          ),\n        ),\n      ),\n    );\n\n    return SafeArea(\n      child: Scaffold(\n        body: SingleChildScrollView(\n          child: mainBody,\n        ),\n      ),\n    );\n\n  }\n}\n",
            "void main() {\n  IntegrationTestWidgetsFlutterBinding.ensureInitialized();\n  //\n  // start.main();\n  login.main();\n}\n\n//\nvoid main() {\n  doLoginTest();\n}\n\nvoid doLoginTest() {\n  IntegrationTestWidgetsFlutterBinding.ensureInitialized();\n\n  testWidgets(\"Login in test run\", (WidgetTester tester) async {\n    //\n    pawfect.main();\n    await tester.pumpAndSettle(const Duration(seconds: 3));\n    //test here\n\n    final Finder login =\n        find.byWidgetPredicate((widget) => widget is LoginScreen);\n    expect(login, findsOneWidget);\n    await tester.pumpAndSettle(const Duration(seconds: 1));\n    //\n    var emailInput = find.byKey(const Key('login username input'));\n    await tester.tap(emailInput);\n    await tester.enterText(emailInput, \"test@m.com\");\n    await tester.pumpAndSettle(const Duration(seconds: 1));\n    //\n    var passwordInput = find.byKey(const Key('login password input'));\n    await tester.tap(passwordInput);\n    await tester.enterText(passwordInput, \"password\");\n    await tester.pumpAndSettle(const Duration(seconds: 1));\n    //\n    var loginButton = find.byKey(const Key('login button'));\n    await tester.tap(loginButton, warnIfMissed: false);\n    await tester.pumpAndSettle(const Duration(seconds: 3));\n    //\n    // expect(version, findsOneWidget);\n    // final Finder home = find.byWidget(const HomeScreen());\n    expect(find.byWidgetPredicate((widget) => widget is HomeScreen),\n        findsOneWidget);\n    // await tester.pumpAndSettle(const Duration(seconds: 1));\n\n    var version = find.byWidgetPredicate(\n        (widget) => widget is Text && widget.data!.contains(\"Version: 2.0\"));\n    expect(version, findsOneWidget);\n    await tester.pumpAndSettle(const Duration(seconds: 3));\n  });\n}\n"
        ]
    },
    {
        "titulo": "How to I get the detail (custom error message) returned with a bad request status code? So that I can do an ASSERT on it",
        "score": 0,
        "views": 432,
        "respostas": 1,
        "tags": [
            "testing",
            "integration",
            "assert",
            "xunit",
            "dotnet-httpclient"
        ],
        "link": "https://stackoverflow.com/questions/69500162/how-to-i-get-the-detail-custom-error-message-returned-with-a-bad-request-statu",
        "conteudo_html": "<p>Hi so I am setting up some Integration tests (using Xunit) and I would like to run an Assert to check whether the correct custom error message is returned.</p>\n<p>This is the data I need to get is in the following response see image...\ndetail: &quot;Username must be unique&quot; <em>Don't worry this message will be modified to be more useful later on I am just wanting to get it working first</em></p>\n<p><a href=\"https://i.sstatic.net/SN6tK.png\" rel=\"nofollow noreferrer\">Required Info</a></p>\n<p>This is the current code...</p>\n<pre><code>        //Act\n\n        response = await _httpClient.PostAsync(&quot;CompleteUserSetup&quot;, formContent);\n\n        //Assert\n\n        Assert.Equal(HttpStatusCode.BadRequest, response.StatusCode) ; //Bad request should be returned\n        //TODO: check custom error message is correct\n</code></pre>\n<p>So hoping for...</p>\n<p>ASSERT.Equal(&quot;Username must be unique&quot;, some code to get detail from response)</p>\n",
        "codigo": [
            "        //Act\n\n        response = await _httpClient.PostAsync(\"CompleteUserSetup\", formContent);\n\n        //Assert\n\n        Assert.Equal(HttpStatusCode.BadRequest, response.StatusCode) ; //Bad request should be returned\n        //TODO: check custom error message is correct\n"
        ]
    },
    {
        "titulo": "Integration tests for TextWebSocketHandler",
        "score": 3,
        "views": 320,
        "respostas": 0,
        "tags": [
            "java",
            "spring",
            "testing",
            "integration",
            "spring-websocket"
        ],
        "link": "https://stackoverflow.com/questions/67735939/integration-tests-for-textwebsockethandler",
        "conteudo_html": "<p>I searched for integration tests in spring for websockets with socket handler but i couldn't find.\nHow can i write tests to check if connection is established and if message.sendMessage() actually send message. Can someone please show me example of how can I achive that?</p>\n<p>WebSocketConfig :</p>\n<pre><code>@Configuration\n@EnableWebSocket\n@EnableConfigurationProperties(ComPortProperties.class)\npublic class WebSocketConfig implements WebSocketConfigurer {\n\n    private final Message message = new Message(&quot;text&quot;);\n\n\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(new SocketHandler(message), &quot;/data&quot;);\n    }\n\n    @Bean\n    ApplicationRunner applicationRunner(ComPortProperties ComPortProperties){\n        return args -&gt;{\n            System.out.println(ComPortProperties);\n        } ;\n\n    }\n\n}\n\n</code></pre>\n<p>SocketHandler:</p>\n<pre><code>@Component\npublic class SocketHandler extends TextWebSocketHandler {\n\n\n    private static final Logger logger = LoggerFactory.getLogger(SocketHandler.class);\n\n    Map&lt;WebSocketSession, Boolean&gt; sessions = new HashMap&lt;&gt;();\n\n    private Message message;\n\n    public SocketHandler(){\n\n    }\n\n    public SocketHandler(Message message){\n        this.message = message;\n    }\n\n    @Override\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\n        InetSocketAddress clientAddress = session.getRemoteAddress();\n\n        logger.info(&quot;Accepted connection from: {}:{}&quot;, clientAddress.getHostString(), clientAddress.getPort());\n\n        sessions.put(session, true);\n\n        while (sessions.get(session)){\n            session.sendMessage(new TextMessage(message.sendMessage()));\n        }\n    }\n\n    @Override\n    public void afterConnectionClosed(WebSocketSession session, CloseStatus status) throws Exception {\n\n        logger.info(&quot;Connection closed by {}:{}&quot;, session.getRemoteAddress().getHostString(),\n                session.getRemoteAddress().getPort());\n        super.afterConnectionClosed(session, status);\n\n        sessions.put(session, false);\n\n    }\n}\n\n\n</code></pre>\n<p>message:</p>\n<pre><code>public class Message {\n    private String text;\n\n    public Message(String text){\n        this.text = text;\n\n    }\n\n    public String sendMessage(){\n        return text;\n    }\n\n}\n\n</code></pre>\n",
        "codigo": [
            "@Configuration\n@EnableWebSocket\n@EnableConfigurationProperties(ComPortProperties.class)\npublic class WebSocketConfig implements WebSocketConfigurer {\n\n    private final Message message = new Message(\"text\");\n\n\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(new SocketHandler(message), \"/data\");\n    }\n\n    @Bean\n    ApplicationRunner applicationRunner(ComPortProperties ComPortProperties){\n        return args ->{\n            System.out.println(ComPortProperties);\n        } ;\n\n    }\n\n}\n\n",
            "@Component\npublic class SocketHandler extends TextWebSocketHandler {\n\n\n    private static final Logger logger = LoggerFactory.getLogger(SocketHandler.class);\n\n    Map<WebSocketSession, Boolean> sessions = new HashMap<>();\n\n    private Message message;\n\n    public SocketHandler(){\n\n    }\n\n    public SocketHandler(Message message){\n        this.message = message;\n    }\n\n    @Override\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\n        InetSocketAddress clientAddress = session.getRemoteAddress();\n\n        logger.info(\"Accepted connection from: {}:{}\", clientAddress.getHostString(), clientAddress.getPort());\n\n        sessions.put(session, true);\n\n        while (sessions.get(session)){\n            session.sendMessage(new TextMessage(message.sendMessage()));\n        }\n    }\n\n    @Override\n    public void afterConnectionClosed(WebSocketSession session, CloseStatus status) throws Exception {\n\n        logger.info(\"Connection closed by {}:{}\", session.getRemoteAddress().getHostString(),\n                session.getRemoteAddress().getPort());\n        super.afterConnectionClosed(session, status);\n\n        sessions.put(session, false);\n\n    }\n}\n\n\n",
            "public class Message {\n    private String text;\n\n    public Message(String text){\n        this.text = text;\n\n    }\n\n    public String sendMessage(){\n        return text;\n    }\n\n}\n\n"
        ]
    },
    {
        "titulo": "Integration test flutter packages incompatible with a lot of other packages",
        "score": 1,
        "views": 620,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/67125872/integration-test-flutter-packages-incompatible-with-a-lot-of-other-packages",
        "conteudo_html": "<p>When trying to implement flutter integration test in dev_dependencies, while running pub get, the output is that integration test flutter dependencies versions are incompatible with other plug-ins. I get the next error:</p>\n<pre><code>[-] flutter pub get\nRunning &quot;flutter pub get&quot; in --...                       \nBecause no versions of test_coverage_badge match &gt;0.2.0 &lt;0.3.0 and test_coverage_badge 0.2.0 depends on args ^2.0.0, test_coverage_badge ^0.2.0 requires args ^2.0.0.\n\nAnd because every version of integration_test from sdk depends on args 1.6.0, test_coverage_badge ^0.2.0 is incompatible with integration_test from sdk.\n\nSo, because -- depends on both integration_test any from sdk and test_coverage_badge ^0.2.0, version solving failed.\npub get failed (1; So, because -- depends on both integration_test any from sdk and test_coverage_badge ^0.2.0, version solving failed.)\nexit code 1\n</code></pre>\n<p>When I solve this one, there are a lot of others.\nIs flutter integration outdated? Does anyone have a solution to this problem?</p>\n<p>flutter doctor -v output:</p>\n<pre><code>[√] Flutter (Channel stable, 2.0.4, on Microsoft Windows [Version 10.0.19041.867], locale en-US)\n    • Flutter version 2.0.4 at C:\\Users\\davor\\flutter\n    • Framework revision b1395592de (2 weeks ago), 2021-04-01 14:25:01 -0700\n    • Engine revision 2dce47073a\n    • Dart version 2.12.2\n\n[√] Android toolchain - develop for Android devices (Android SDK version 30.0.2)\n    • Android SDK at C:\\Users\\davor\\AppData\\Local\\Android\\Sdk\n    • Platform android-30, build-tools 30.0.2\n    • ANDROID_HOME = C:\\Users\\davor\\AppData\\Local\\Android\\Sdk\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Android Studio (version 4.1.0)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\n\n[√] VS Code (version 1.55.2)\n    • VS Code at C:\\Users\\davor\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.21.0\n</code></pre>\n",
        "codigo": [
            "[-] flutter pub get\nRunning \"flutter pub get\" in --...                       \nBecause no versions of test_coverage_badge match >0.2.0 <0.3.0 and test_coverage_badge 0.2.0 depends on args ^2.0.0, test_coverage_badge ^0.2.0 requires args ^2.0.0.\n\nAnd because every version of integration_test from sdk depends on args 1.6.0, test_coverage_badge ^0.2.0 is incompatible with integration_test from sdk.\n\nSo, because -- depends on both integration_test any from sdk and test_coverage_badge ^0.2.0, version solving failed.\npub get failed (1; So, because -- depends on both integration_test any from sdk and test_coverage_badge ^0.2.0, version solving failed.)\nexit code 1\n",
            "[√] Flutter (Channel stable, 2.0.4, on Microsoft Windows [Version 10.0.19041.867], locale en-US)\n    • Flutter version 2.0.4 at C:\\Users\\davor\\flutter\n    • Framework revision b1395592de (2 weeks ago), 2021-04-01 14:25:01 -0700\n    • Engine revision 2dce47073a\n    • Dart version 2.12.2\n\n[√] Android toolchain - develop for Android devices (Android SDK version 30.0.2)\n    • Android SDK at C:\\Users\\davor\\AppData\\Local\\Android\\Sdk\n    • Platform android-30, build-tools 30.0.2\n    • ANDROID_HOME = C:\\Users\\davor\\AppData\\Local\\Android\\Sdk\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Android Studio (version 4.1.0)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\n\n[√] VS Code (version 1.55.2)\n    • VS Code at C:\\Users\\davor\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.21.0\n"
        ]
    },
    {
        "titulo": "Unable to Integrate JMeter &amp; Prometheus",
        "score": 0,
        "views": 849,
        "respostas": 1,
        "tags": [
            "testing",
            "jmeter",
            "integration",
            "prometheus",
            "grafana"
        ],
        "link": "https://stackoverflow.com/questions/65932820/unable-to-integrate-jmeter-prometheus",
        "conteudo_html": "<p>Below is my Configuration in Prometheus.yml</p>\n<p><a href=\"https://i.sstatic.net/8Wi7a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/8Wi7a.png\" alt=\"Prometheus.yml File\" /></a></p>\n<p>I am Unable to see the Metrics in Browser with localhost:9270 or 127.0.0.1:9270 or with myip:9270. However the same way its working for WMI Exporter (9182) &amp; Prometheus (9090)</p>\n<p>Error Faced :- <strong>Get &quot;http://localhost:9270/metrics&quot;: dial tcp [::1]:9270: connectex: No connection could be made because the target machine actively refused it.</strong>.\nI have even Tried to remove firewall restrictions. Still Facing Same Issue.. Can anyone Help me Out?</p>\n",
        "codigo": []
    },
    {
        "titulo": "Flutter driver: cant find element (text) on the screen",
        "score": 0,
        "views": 1851,
        "respostas": 2,
        "tags": [
            "flutter",
            "testing",
            "integration",
            "flutter-test",
            "flutterdriver"
        ],
        "link": "https://stackoverflow.com/questions/65331016/flutter-driver-cant-find-element-text-on-the-screen",
        "conteudo_html": "<p>The element I need to find is situated (in the child element):</p>\n<pre><code> static Widget _buildProjectCategoryWidget(BuildContext context, String name) {\nfinal themeData = Theme.of(context);\nfinal primaryTextTheme = themeData.primaryTextTheme;\nreturn Container(\n  padding: const EdgeInsets.symmetric(horizontal: 8.0, vertical: 5.0),\n  decoration: BoxDecoration(borderRadius: BorderRadius.circular(13.0), color: FlAppStyles.altButtonColor),\n  child: Text(name, style: primaryTextTheme.textSmall),\n);\n</code></pre>\n<p>I tried to find the child element with this, but I have DriverError: Failed to fulfill Tap due to remote error:</p>\n<pre><code>SerializableFinder message = find.text(&quot;mytext&quot;);\n    await driver.waitFor(message);\n    expect(await driver.getText(message), &quot;mytext&quot;); await driver.tap(buttonChangeProfession);\n    \n</code></pre>\n<p>Im a beginner to flutter integration testing, dont know what is wrong, please help. I also tried adding a key and find element by it, but the point is I need to find the text of that element.</p>\n",
        "codigo": [
            " static Widget _buildProjectCategoryWidget(BuildContext context, String name) {\nfinal themeData = Theme.of(context);\nfinal primaryTextTheme = themeData.primaryTextTheme;\nreturn Container(\n  padding: const EdgeInsets.symmetric(horizontal: 8.0, vertical: 5.0),\n  decoration: BoxDecoration(borderRadius: BorderRadius.circular(13.0), color: FlAppStyles.altButtonColor),\n  child: Text(name, style: primaryTextTheme.textSmall),\n);\n",
            "SerializableFinder message = find.text(\"mytext\");\n    await driver.waitFor(message);\n    expect(await driver.getText(message), \"mytext\"); await driver.tap(buttonChangeProfession);\n    \n"
        ]
    },
    {
        "titulo": "Enzyme integration testing: axios.get call not being executed in redux-saga",
        "score": 0,
        "views": 272,
        "respostas": 1,
        "tags": [
            "testing",
            "axios",
            "integration",
            "enzyme",
            "redux-saga"
        ],
        "link": "https://stackoverflow.com/questions/65111399/enzyme-integration-testing-axios-get-call-not-being-executed-in-redux-saga",
        "conteudo_html": "<p>I am trying to setup tests for some an action creator that is triggering a redux saga.</p>\n<p>My saga retrieves a word from a local flask server (will always return the same word) and then displays that word. This is not my real-life case but I tried to start with something easy...</p>\n<p>My action creator and saga work as expected when I trigger them with a button in my react app (the word is retrieved from the server, stored in my redux store and the displayed with a selector in my react component), but I cannot get the test to succeed.</p>\n<p>I would like to test only the redux part, not the actual rendered react component (not sure if that is part of my problem or not)</p>\n<p>I use Enzyme for tests, my store is created correctly and can dispatch the action. I can also see that my saga is being called with the console logs:</p>\n<p>My test code:</p>\n<pre><code>import { Store } from 'redux';\n\nimport { RootState } from '../root.reducer';\nimport { storeFactory } from '../../../test/testUtils';\nimport { getSecretWord } from './secret-word.actions';\n\ndescribe('getSecretWord action creator', () =&gt; {\n  let store: Store&lt;RootState&gt;;\n  beforeEach(() =&gt; {\n    store = storeFactory();\n  });\n  test('add response word to state', () =&gt; {\n    const secretWord = 'party';\n    store.dispatch(getSecretWord());\n    const newState = store.getState();\n    console.log('new state: ' + newState.secretWord);\n    expect(newState.secretWord).toBe(secretWord);\n  });\n});\n</code></pre>\n<p>and my saga function:</p>\n<pre><code>export function* getSecretWordSaga(action: getSecretWordAction): Generator&lt;ForkEffect | CallEffect | PutEffect, void, unknown&gt;\n  {\n  try {\n    console.log('getSecretWordSaga() saga started');\n    console.log('before axios query call:');\n    const response:any =  yield call(api.get, '/api/word');\n    // const response = {data: { word: 'party'}, status:200}\n    \n    console.log('axios query returned: ');\n    console.log(response);\n\n    yield put(setSecretWord(response.data.word));\n    console.log('getSecretWordSaga() saga finsshed');\n \n  } catch (err) {\n    console.log('error occured:');\n    console.log(err);\n    console.log('getSecretWordSaga() saga finsshed with errors');\n  }\n}\n\nexport function* getSecretWordSagaStart(): Generator&lt;\n  ForkEffect&lt;never&gt;,\n  void,\n  unknown\n&gt; {\n  yield takeLatest(SecretWordActionTypes.GET_SECRET_WORD, getSecretWordSaga);\n}\n</code></pre>\n<p>The axios api is very basic and it includes two interceptors for logging purposes:</p>\n<pre><code>import axios from 'axios';\n\nexport const api = axios.create({\n  baseURL: 'http://localhost:5000',\n  responseType: 'json',\n});\n\napi.interceptors.request.use(request =&gt; {\n  console.log('Starting Request', JSON.stringify(request, null, 2))\n  return request\n})\n\napi.interceptors.response.use(response =&gt; {\n  console.log('Response:', JSON.stringify(response, null, 2))\n  return response\n})\n</code></pre>\n<p>I can see in the logs (in &quot;npm test&quot;) that I get log for the line &quot;before axios query call:' and one console.log for the request interceptor (everything looks fine there), but no more logs afterwards (neither success nor error)</p>\n<p>If I comment out the &quot;yield call..&quot; and hardcode the response (like in the commented out line below), my saga runs through the end and my test succeeds.</p>\n<p>Why is the yield Call(api.get, '/api/word') not being executed (and I don't get any error message)?</p>\n<p>The code is my opinion correct as it is running fine when executed in react. My flask server is obviously also running and I can see in the flask app than no call to the api are being made by the running tests.</p>\n<p>I obviously plan to mock that api call but was also running into some problems there, that's why I first wanted to get the real api call working.</p>\n",
        "codigo": [
            "import { Store } from 'redux';\n\nimport { RootState } from '../root.reducer';\nimport { storeFactory } from '../../../test/testUtils';\nimport { getSecretWord } from './secret-word.actions';\n\ndescribe('getSecretWord action creator', () => {\n  let store: Store<RootState>;\n  beforeEach(() => {\n    store = storeFactory();\n  });\n  test('add response word to state', () => {\n    const secretWord = 'party';\n    store.dispatch(getSecretWord());\n    const newState = store.getState();\n    console.log('new state: ' + newState.secretWord);\n    expect(newState.secretWord).toBe(secretWord);\n  });\n});\n",
            "export function* getSecretWordSaga(action: getSecretWordAction): Generator<ForkEffect | CallEffect | PutEffect, void, unknown>\n  {\n  try {\n    console.log('getSecretWordSaga() saga started');\n    console.log('before axios query call:');\n    const response:any =  yield call(api.get, '/api/word');\n    // const response = {data: { word: 'party'}, status:200}\n    \n    console.log('axios query returned: ');\n    console.log(response);\n\n    yield put(setSecretWord(response.data.word));\n    console.log('getSecretWordSaga() saga finsshed');\n \n  } catch (err) {\n    console.log('error occured:');\n    console.log(err);\n    console.log('getSecretWordSaga() saga finsshed with errors');\n  }\n}\n\nexport function* getSecretWordSagaStart(): Generator<\n  ForkEffect<never>,\n  void,\n  unknown\n> {\n  yield takeLatest(SecretWordActionTypes.GET_SECRET_WORD, getSecretWordSaga);\n}\n",
            "import axios from 'axios';\n\nexport const api = axios.create({\n  baseURL: 'http://localhost:5000',\n  responseType: 'json',\n});\n\napi.interceptors.request.use(request => {\n  console.log('Starting Request', JSON.stringify(request, null, 2))\n  return request\n})\n\napi.interceptors.response.use(response => {\n  console.log('Response:', JSON.stringify(response, null, 2))\n  return response\n})\n"
        ]
    },
    {
        "titulo": "DotNet alternative to spring boot @LocalServerPort for integration tests",
        "score": 0,
        "views": 217,
        "respostas": 1,
        "tags": [
            ".net",
            "testing",
            "integration",
            "xunit"
        ],
        "link": "https://stackoverflow.com/questions/64335404/dotnet-alternative-to-spring-boot-localserverport-for-integration-tests",
        "conteudo_html": "<p>I am trying to test callback functionality of DotNet Core application. I have exposed controller that I would like to call within integration test.</p>\n<p>I have set up integration test using xUnit following <a href=\"https://learn.microsoft.com/en-us/aspnet/core/test/integration-tests?view=aspnetcore-3.1\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/aspnet/core/test/integration-tests?view=aspnetcore-3.1</a>\nWithin the test I am able to prepare client using WebApplicationFactory. It is possible to call required controller using this client.</p>\n<p>But my concern is how to call the controller from outside. In other words, is it exposed on some localhost port? I was not able to find such.\nIt is not listening on 5000 (port defined in my appsettings). Nor it is listening on port 80 (default port).</p>\n<p>I would like to have something like spring boot @LocalServerPort and use it within test. Is there such possibility?</p>\n",
        "codigo": []
    },
    {
        "titulo": "How to pass a variable (ui object) in flutter/dart?",
        "score": 0,
        "views": 89,
        "respostas": 0,
        "tags": [
            "flutter",
            "testing",
            "dart",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/64265815/how-to-pass-a-variable-ui-object-in-flutter-dart",
        "conteudo_html": "<p>im a very newbie to flutter integration testing. For now I only know how to write basic sheets of finding elements on a screen and make some actions to them.</p>\n<p>Can please anyone help me on how to pass a variable in a function if i want to reuse it? Example:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>static Future&lt;void&gt; createProjectFromWizard(FlutterDriver driver, String projectName, bool direct) async {\n\n    final faker = new Faker();\n    \n    final buttonStart = find.byValueKey(OnboardingIds.buttonStart);\n    await driver.waitFor(buttonStart).then((_) =&gt; driver.tap(buttonStart));\n    </code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I want to reuse this function but instead of final buttonStart I need to find another ui-button. How can I do this without re-writing this function? (Because it is a very long one, i pasted a short piece)</p>\n",
        "codigo": [
            "static Future<void> createProjectFromWizard(FlutterDriver driver, String projectName, bool direct) async {\n\n    final faker = new Faker();\n    \n    final buttonStart = find.byValueKey(OnboardingIds.buttonStart);\n    await driver.waitFor(buttonStart).then((_) => driver.tap(buttonStart));\n    "
        ]
    },
    {
        "titulo": "Flutter Driver: Test file not found",
        "score": 3,
        "views": 3823,
        "respostas": 1,
        "tags": [
            "flutter",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/64161347/flutter-driver-test-file-not-found",
        "conteudo_html": "<p>I'm attempting to run <code>flutter drive --target=test_driver/app.dart</code> and I get the error:</p>\n<pre><code>Target file &quot;test_driver/app.dart&quot; not found.\n</code></pre>\n<p>So I changed the path to <code>flutter drive --target=lib/test_driver/app.dart</code> and I get the error:</p>\n<pre><code>Using device sdk gphone x86 arm.\nTest file not found: /home/user/Documents/dev/flutter-app/test_driver/test_driver/app_test.dart.\n</code></pre>\n<p>This is my project structure:</p>\n<pre><code>flutter-app/\n  lib/\n    test_driver/\n      app.dart\n      app_test.dart\n</code></pre>\n<p>Why can't it locate the test file?</p>\n",
        "codigo": [
            "flutter drive --target=test_driver/app.dart",
            "Target file \"test_driver/app.dart\" not found.\n",
            "flutter drive --target=lib/test_driver/app.dart",
            "Using device sdk gphone x86 arm.\nTest file not found: /home/user/Documents/dev/flutter-app/test_driver/test_driver/app_test.dart.\n",
            "flutter-app/\n  lib/\n    test_driver/\n      app.dart\n      app_test.dart\n"
        ]
    },
    {
        "titulo": "SpringBoot Test - possible to run tests against the default application context?",
        "score": 0,
        "views": 1319,
        "respostas": 2,
        "tags": [
            "spring",
            "spring-boot",
            "testing",
            "junit",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/63347141/springboot-test-possible-to-run-tests-against-the-default-application-context",
        "conteudo_html": "<p>Execution of the JUnit test of a Spring Boot application causes a testing context of the application to be started whenever the test is invoked.  Is there a way to run this test against a spring boot application that has already started without having to spin up a second application context for the test?  For example, can the testing framework be instructed to use an existing application context that has already been launched?</p>\n<pre><code>@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class MyAppTests {\n\n    @Autowired\n    public SomeService someService;\n\n    @Test\n    public void testInjection() throws AssertionError {\n        Assert.assertTrue(someService != null);\n    }\n}\n\n</code></pre>\n",
        "codigo": [
            "@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class MyAppTests {\n\n    @Autowired\n    public SomeService someService;\n\n    @Test\n    public void testInjection() throws AssertionError {\n        Assert.assertTrue(someService != null);\n    }\n}\n\n"
        ]
    },
    {
        "titulo": "How can I run my integration tests on DevOps for multiple services?",
        "score": -1,
        "views": 237,
        "respostas": 1,
        "tags": [
            "testing",
            "azure-devops",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/62956555/how-can-i-run-my-integration-tests-on-devops-for-multiple-services",
        "conteudo_html": "<p>I want my services to trigger the same tests when one of them is released.It's that possible?Thank you !</p>\n",
        "codigo": []
    },
    {
        "titulo": "ListView in integration test (Flutter)",
        "score": 3,
        "views": 3428,
        "respostas": 2,
        "tags": [
            "flutter",
            "listview",
            "testing",
            "driver",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/62925586/listview-in-integration-test-flutter",
        "conteudo_html": "<p>I haven't found a complex examples for testing ListViews. Example.</p>\n<p>I have a ListView, which has three objects <code>Person</code>.</p>\n<pre><code>Person{\n   String name;\n   String surname;\n}\n</code></pre>\n<p>In UI, <code>Person</code> is wrapped in <code>Column</code>, giving them two <code>Text</code> Widgets for <code>name</code> and <code>surname</code>.</p>\n<p>I click on FAB. Clicking on FAB adds new <code>Person</code> with <code>name</code> <code>Tom</code> and surname <code>Thomson</code> to the <code>ListView</code>. Now there are 4 objects of <code>Person</code>. And I know data of the last one.</p>\n<p>How can I validate, that item was successfully added? Is there a way to check <code>length/count</code> of <code>ListView</code>?\nIs there a way to validate last added item params?</p>\n<p>Appreciate!</p>\n",
        "codigo": [
            "Person",
            "Person{\n   String name;\n   String surname;\n}\n",
            "Person",
            "Column",
            "Text",
            "name",
            "surname",
            "Person",
            "name",
            "Tom",
            "Thomson",
            "ListView",
            "Person",
            "length/count",
            "ListView"
        ]
    },
    {
        "titulo": "Integration and Unit tests",
        "score": 2,
        "views": 892,
        "respostas": 3,
        "tags": [
            "testing",
            "jestjs",
            "tdd",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/62747006/integration-and-unit-tests",
        "conteudo_html": "<p>In the last days I studied about tests with Jest, but i don't understood the next.\nWhen I have integration tests I don't use mock? Mock are used just on unit tests?</p>\n<p><strong>UPDATE</strong>\nToday, in my company, the approach that we follow is: Unit tests always mock all external access data, and integration tests should not mock.</p>\n<p>Is interesting, associate integration tests with hlg environment, because you can discovery easily what and where broke software</p>\n",
        "codigo": []
    },
    {
        "titulo": "How to mock response of an external API called from within an internal API integration test",
        "score": 5,
        "views": 11469,
        "respostas": 1,
        "tags": [
            "java",
            "testing",
            "mockito",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/61683306/how-to-mock-response-of-an-external-api-called-from-within-an-internal-api-integ",
        "conteudo_html": "<p>I am writing integration tests for an application that uses an internal REST API to perform an action; all Java.<br>\nIn the API, there is a POST method that calls upon an external API. In the test, I need to send a request to my API to perform an action.<br>\nThe problem is, I do not want to send real requests to the external API when running the integration tests.<br>\nHow can I mock the response of the external API call? <br>\nIs there a way I can still send a POST request to my API (mocked or otherwise) within my test, but use a mocked response for the external call performed in the Java POST method?<br></p>\n",
        "codigo": []
    },
    {
        "titulo": "how to create a Mock database and add data in mock db for integration testing using postgres db and java",
        "score": 1,
        "views": 2134,
        "respostas": 1,
        "tags": [
            "java",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/61013260/how-to-create-a-mock-database-and-add-data-in-mock-db-for-integration-testing-us",
        "conteudo_html": "<p>I want to perform the Integration test for which I want to create a test DB and add some data.\nhow should I point to the test DB while doing an integration test?</p>\n\n<p>Thanks for Help......</p>\n",
        "codigo": []
    },
    {
        "titulo": "Void Method in Service is not Mocking in Integration Testing",
        "score": 0,
        "views": 210,
        "respostas": 0,
        "tags": [
            "java",
            "testing",
            "mockito",
            "integration",
            "void"
        ],
        "link": "https://stackoverflow.com/questions/60725671/void-method-in-service-is-not-mocking-in-integration-testing",
        "conteudo_html": "<p>In my spring boot project, one of my Service depends on external service like Amazon. I am writing the integration testing of the Controller classes. So, I want to mock the method in the AmazonService class(as it depends on third party API). The method is void with a single Long argument and can throw a <strong>custom application-specific exceptions.</strong> </p>\n\n<p>The method is as follows:-</p>\n\n<pre><code>class AmazonService{\npublic void deleteMultipleObjects(Long enterpriseId) {\n        String key = formApplicationLogokey(enterpriseId,null);\n        List&lt;S3ObjectSummary&gt; objects = getAllObjectSummaryByFolder(key);\n        List&lt;DeleteObjectsRequest.KeyVersion&gt; keys = new ArrayList&lt;&gt;();\n        objects.stream().forEach(object-&gt;keys.add(new DeleteObjectsRequest.KeyVersion(object.getKey())));\n        try{\n            DeleteObjectsRequest deleteObjectsRequest = new DeleteObjectsRequest(this.bucket).withKeys(keys);\n            this.s3client.deleteObjects(deleteObjectsRequest);\n            log.debug(\"All the Application logos deleted from AWS for the Enterprise id: {}\",enterpriseId);\n        }\n        catch(AmazonServiceException e){\n            throw new AppScoreException(AppScoreErrorCode.OBJECT_NOT_DELETED_FROM_AWS);\n        }\n    }}\n</code></pre>\n\n<p><strong>class Test</strong></p>\n\n<pre><code>class Test\n    {\n        @Autowired\n        AmazonServiceImpl amazonService;\n\n        @Autowired\n        EnterpriseService enterpriseService;\n\n        @Before\n        public void init()\n        {\n            amazonService = Mockito.mock(AmazonServiceImpl.class);        \n            Mockito.doNothing().when(amazonService).deleteMultipleObjects(isA(Long.class));\n        }\n\n\n        @Test\n        public void testDeleteEnterprise(){\n            setHeaders();\n            EnterpriseDTO enterpriseDTO = createEnterpriseEntity(null,\"testDeleteEnterpriseName3\",null,null,null);\n            String postUrl = TestUrlUtil.createURLWithPort(TestConstants.ADD_ENTERPRISE,port);\n            HttpEntity&lt;EnterpriseDTO&gt; request1 = new HttpEntity&lt;&gt;(enterpriseDTO,headers);\n            ResponseEntity&lt;EnterpriseDTO&gt; response1 = restTemplate.postForEntity(postUrl,request1,EnterpriseDTO.class);\n            assert response1 != null;\n            Long enterpriseId = Objects.requireNonNull(response1.getBody()).getId();\n            String url = TestUrlUtil.createURLWithPort(TestConstants.DELETE_ENTERPRISE,port)+File.separator+enterpriseId;\n            HttpEntity&lt;EnterpriseDTO&gt; request = new HttpEntity&lt;&gt;(null, headers);\n            ResponseEntity&lt;Object&gt; response = restTemplate.exchange(url,HttpMethod.DELETE,request,Object.class);\n            Assert.assertEquals(Constants.ENTERPRISE_DELETION_SUCCESS_MESSAGE,response.getBody());\n        }\n    }\n</code></pre>\n\n<p><strong>class EnterpriseResource</strong></p>\n\n<pre><code>class EnterpriseResource\n{\n    @DeleteMapping(\"/enterprises/{enterpriseId}\")\n    public ResponseEntity&lt;Object&gt; deleteEnterprise(@PathVariable Long enterpriseId) {\n        log.debug(\"REST request to delete Enterprise : {}\", enterpriseId);\n        enterpriseService.delete(enterpriseId);\n        return ResponseEntity.badRequest().body(Constants.ENTERPRISE_DELETION_SUCCESS_MESSAGE);\n    }\n}\n</code></pre>\n\n<p><strong>class EnterpriseServiceImpl</strong></p>\n\n<pre><code>class EnterpriseServiceImpl\n{\n    @Override\n    public void delete(Long enterpriseId) {\n        log.debug(\"Request to delete Enterprise : {}\", enterpriseId);\n        enterpriseRepository.deleteById(enterpriseId);\n        amazonService.deleteMultipleObjects(enterpriseId);\n    }\n} \n</code></pre>\n\n<p>I have tried various approaches to Mock this method but it didn't work and control is going inside this method during debugging. I want to do nothing in this method during testing.\nI have tried the various approaches like throw(), doNothing(), spy() etc.</p>\n\n<p>Please help what is missing here?</p>\n\n<p>Thanks</p>\n",
        "codigo": [
            "class AmazonService{\npublic void deleteMultipleObjects(Long enterpriseId) {\n        String key = formApplicationLogokey(enterpriseId,null);\n        List<S3ObjectSummary> objects = getAllObjectSummaryByFolder(key);\n        List<DeleteObjectsRequest.KeyVersion> keys = new ArrayList<>();\n        objects.stream().forEach(object->keys.add(new DeleteObjectsRequest.KeyVersion(object.getKey())));\n        try{\n            DeleteObjectsRequest deleteObjectsRequest = new DeleteObjectsRequest(this.bucket).withKeys(keys);\n            this.s3client.deleteObjects(deleteObjectsRequest);\n            log.debug(\"All the Application logos deleted from AWS for the Enterprise id: {}\",enterpriseId);\n        }\n        catch(AmazonServiceException e){\n            throw new AppScoreException(AppScoreErrorCode.OBJECT_NOT_DELETED_FROM_AWS);\n        }\n    }}\n",
            "class Test\n    {\n        @Autowired\n        AmazonServiceImpl amazonService;\n\n        @Autowired\n        EnterpriseService enterpriseService;\n\n        @Before\n        public void init()\n        {\n            amazonService = Mockito.mock(AmazonServiceImpl.class);        \n            Mockito.doNothing().when(amazonService).deleteMultipleObjects(isA(Long.class));\n        }\n\n\n        @Test\n        public void testDeleteEnterprise(){\n            setHeaders();\n            EnterpriseDTO enterpriseDTO = createEnterpriseEntity(null,\"testDeleteEnterpriseName3\",null,null,null);\n            String postUrl = TestUrlUtil.createURLWithPort(TestConstants.ADD_ENTERPRISE,port);\n            HttpEntity<EnterpriseDTO> request1 = new HttpEntity<>(enterpriseDTO,headers);\n            ResponseEntity<EnterpriseDTO> response1 = restTemplate.postForEntity(postUrl,request1,EnterpriseDTO.class);\n            assert response1 != null;\n            Long enterpriseId = Objects.requireNonNull(response1.getBody()).getId();\n            String url = TestUrlUtil.createURLWithPort(TestConstants.DELETE_ENTERPRISE,port)+File.separator+enterpriseId;\n            HttpEntity<EnterpriseDTO> request = new HttpEntity<>(null, headers);\n            ResponseEntity<Object> response = restTemplate.exchange(url,HttpMethod.DELETE,request,Object.class);\n            Assert.assertEquals(Constants.ENTERPRISE_DELETION_SUCCESS_MESSAGE,response.getBody());\n        }\n    }\n",
            "class EnterpriseResource\n{\n    @DeleteMapping(\"/enterprises/{enterpriseId}\")\n    public ResponseEntity<Object> deleteEnterprise(@PathVariable Long enterpriseId) {\n        log.debug(\"REST request to delete Enterprise : {}\", enterpriseId);\n        enterpriseService.delete(enterpriseId);\n        return ResponseEntity.badRequest().body(Constants.ENTERPRISE_DELETION_SUCCESS_MESSAGE);\n    }\n}\n",
            "class EnterpriseServiceImpl\n{\n    @Override\n    public void delete(Long enterpriseId) {\n        log.debug(\"Request to delete Enterprise : {}\", enterpriseId);\n        enterpriseRepository.deleteById(enterpriseId);\n        amazonService.deleteMultipleObjects(enterpriseId);\n    }\n} \n"
        ]
    },
    {
        "titulo": "Spring Integration Testing Oracle Native SQL",
        "score": 0,
        "views": 932,
        "respostas": 2,
        "tags": [
            "spring",
            "oracle-database",
            "testing",
            "integration",
            "in-memory-database"
        ],
        "link": "https://stackoverflow.com/questions/60352905/spring-integration-testing-oracle-native-sql",
        "conteudo_html": "<p>I have a legacy application that has recently been ported from Struts to Spring MVC. The data layer is written with native Oracle SQL. I'd like to introduce some integration testing but would like to avoid using an actual Oracle database for obvious reasons. Is there an in-memory DB that can deal with Oracle native SQL? Is this just a dream? Am I just going to end up with Oracle XE in a VM?</p>\n",
        "codigo": []
    },
    {
        "titulo": "Platform specific code in Flutter integration tests",
        "score": 3,
        "views": 1205,
        "respostas": 1,
        "tags": [
            "testing",
            "flutter",
            "integration",
            "platform"
        ],
        "link": "https://stackoverflow.com/questions/58727336/platform-specific-code-in-flutter-integration-tests",
        "conteudo_html": "<p>I have an integration test that has to open a time picker, but each platform has a different implementation of time picker. Therefor the flow of the integration test must differ between Android and iOS.. how can I achieve this?</p>\n\n<p>I tried using the Platform class like this inside the test file, but it doesnt work: </p>\n\n<pre><code>//* 5) Choose time\n      await driver.tap(find.byValueKey('addRideTimePicker'));\n      if (Platform.isAndroid) {\n        await driver.tap(find.text(\"V REDU\"));\n      }\n\n      if (Platform.isIOS) {\n        await driver.tap(find.text(\"OK\"));\n      }\n</code></pre>\n\n<p>Any help would be much appreciated, thanks in advance</p>\n",
        "codigo": [
            "//* 5) Choose time\n      await driver.tap(find.byValueKey('addRideTimePicker'));\n      if (Platform.isAndroid) {\n        await driver.tap(find.text(\"V REDU\"));\n      }\n\n      if (Platform.isIOS) {\n        await driver.tap(find.text(\"OK\"));\n      }\n"
        ]
    },
    {
        "titulo": "Unit test for Request Timeout",
        "score": 1,
        "views": 1102,
        "respostas": 0,
        "tags": [
            "rest",
            "spring-boot",
            "testing",
            "mocking",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/58660049/unit-test-for-request-timeout",
        "conteudo_html": "<p>I have a need to write an integration between three applications.  Two of these applications I don’t have access to the code for because they are third party applications.  I’ll refer to these apps as third party app #1 and third party app #2.  If an error occurs in the integration between these three apps, I want third party application #1 to receive an appropriate status code.</p>\n\n<p><a href=\"https://i.sstatic.net/0ZMyp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/0ZMyp.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, I’m currently seeing the following behavior:  </p>\n\n<p><a href=\"https://i.sstatic.net/G8Pm9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/G8Pm9.png\" alt=\"enter image description here\"></a></p>\n\n<p>My application is a spring boot app with an endpoint that, when called, synchronously makes a PATCH request using a rest template to a third party application #2’s rest API.  However, I am occasionally seeing an issue where the request to the third party application takes an unacceptable amount of time to fail (up to 8 hours).  When this occurs, the logs for application #1 show it received “No Response”.  I intend to write a fix for this problem by adding a timeout to the request from my application to third party application #2 (as described here <a href=\"https://howtodoinjava.com/spring-boot2/resttemplate/resttemplate-timeout-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/spring-boot2/resttemplate/resttemplate-timeout-example/</a>).  Doing this should at least guarantee a status code is returned to third party application #1.    </p>\n\n<p>To summarize, I want to write a test simulate the request to the third party application #2 failing after 5 seconds.  When the request fails, I want to return a specific status code to the original application which called the endpoint.  I’m going to try to write a fix for this issue by implementing a timeout for the request represented by arrow #2.  However, Im unsure how to adequately write a test that simulates this issue and verifies that we are seeing the correct behaviour.  My goal is to write a test that checks that my application returns an error with a response code to third party application #1 on encountering the scenario where the request to third party application #2 lasts longer than a given time period (maybe 5 seconds).  That said, I have seen people suggest things like this to ensure a test request takes a specified amount of time.  </p>\n\n<pre><code>this.mockMvc.perform(put(expectedUrl))\n    .andDo((result) -&gt; {\n        Thread.sleep(6000);\n    }).andReturn();\n</code></pre>\n\n<p>However my fix for this issue will be to set several properties on the request factory being used by the rest template itself (as described in the provided link) and I don’t feel like doing the above is an adequate test of this behavior as we never actually verify that (though I could be wrong).  In short how can I write a test that checks that a request times out after a set period of time?  Thanks in advance for any guidance or assistance.  </p>\n",
        "codigo": [
            "this.mockMvc.perform(put(expectedUrl))\n    .andDo((result) -> {\n        Thread.sleep(6000);\n    }).andReturn();\n"
        ]
    },
    {
        "titulo": "How to run library and integration tests only?",
        "score": 5,
        "views": 1045,
        "respostas": 2,
        "tags": [
            "testing",
            "rust",
            "integration",
            "rust-cargo"
        ],
        "link": "https://stackoverflow.com/questions/58197422/how-to-run-library-and-integration-tests-only",
        "conteudo_html": "<p>I have a project with a library and two executables. When I run <code>cargo test</code>, it runs five executables: the unit tests for the library and both executables, integration tests, and doc tests. </p>\n\n<p>Since I have only library and integration tests, I get annoying output like:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>running 0 tests                                                           \ntest result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\n</code></pre>\n\n<p>I have tried to filter it with Cargo parameters but failed. If I use <code>--lib</code> then no integration tests are run. I didn't find a way to run integration tests only or to skip doc or executable tests.</p>\n\n<p>Is there any way to run only integration and library unit tests?</p>\n",
        "codigo": [
            "cargo test",
            "running 0 tests                                                           \ntest result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\n",
            "--lib"
        ]
    },
    {
        "titulo": "How to run NETCore integration tests in the TFS release pipeline?",
        "score": 1,
        "views": 647,
        "respostas": 1,
        "tags": [
            "testing",
            "tfs",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/57047146/how-to-run-netcore-integration-tests-in-the-tfs-release-pipeline",
        "conteudo_html": "<p>We are in the process of converting our NetFramework products to NETCore.  In the older NetFramework product our integration tests are published to TFS as a build artifact.  The release pipeline gets these artifacts, and runs silent installs, and then runs the tests using the visual studio test build step.</p>\n\n<p>The newer product suite is now getting its integration tests converted.  It's integration test assemblies are NETCore assemblies.  I notice that I can either run these tests using vstest.console.exe, or dotnet test (either way).  And I have manually verified this.   However, I am at a loss as to how to run them efficiently and automatically in the TFS release pipeline.</p>\n\n<p>Lets start with my \"dotnet test\" question.   \"Dotnet test\" wants the \".csproj\" source, and when I have manually supplied it and run this command from the command prompt it appears to need all of the other sources as if it is building the assemblies.   Of course, I can supply all of the sources to the release pipeline, but <em>really</em>, is there no way to avoid that?   After all, there is no \"GetSources\" step in the release pipeline, and while I can surely write my own, or supply the entire source repository as a build artifact, that seems <em>very</em> wasteful and seems wrong.</p>\n\n<p>On the other hand, when I run the tests through vstest.console.exe, they first inform me of missing dependencies that are listed in the .deps.json file.   Each time I run the test I \"nuget install\" them and copy the runtime folders to under the bin folder, and re-run, get the next error, and repeat.   After 5 iterations all of the missing dependencies are there, and the tests run and pass.   Is there some automatic means of getting a list of these missing dependencies and getting them all before attempting the test run?</p>\n\n<p>Or is there some other means of getting a NETCore integration test to run in the TFS release pipeline that I am missing?   Something simpler, or more direct?</p>\n\n<p>Thanks!</p>\n",
        "codigo": []
    },
    {
        "titulo": "Routing traffic in docker",
        "score": 1,
        "views": 36,
        "respostas": 0,
        "tags": [
            "javascript",
            "docker",
            "express",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/56081261/routing-traffic-in-docker",
        "conteudo_html": "<p>I'm running integration tests on several AWS Lambda's and I need a way to route API calls to a dummy express server on my local machine.  Normally I would just change the url's of the API calls, but the urls are generated in projects that are not apart of this and imported via npm, so hardcoding in a new url isn't practical.  </p>\n\n<p>My goal is to have these modules use the URL generated but have that routed to a dummy Express server that I'am running where I will have prepackaged responses so I can test the functionality of these lambdas.  For example there is a request for an authorization token from an outside service.  Instead of requesting from the actual service it would be routed to my local express server which would just provide a static authorization token.  There is then another point where that token is verified and I would again hope that this would get routed to the same server (though in reality it's a different service) and it would verify the token.  </p>\n\n<p>Ultimately I will have this dummy Express server, a DynamoDB, and SQS, running on docker containers locally to essentially imitate this software running live.</p>\n\n<p>I've seen that docker can route traffic, but I'm not sure if what I'm attempting to do will be possible.  I've googled around but most of the stuff I have found seems a bit more simple then what I'm attempting.  </p>\n",
        "codigo": []
    },
    {
        "titulo": "Karma test error attempting to emulate backend results from service in Angular application",
        "score": 0,
        "views": 190,
        "respostas": 1,
        "tags": [
            "angular",
            "testing",
            "karma-jasmine",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/55952827/karma-test-error-attempting-to-emulate-backend-results-from-service-in-angular-a",
        "conteudo_html": "<p>I have a small test service that I am attempting to emulate results for in my integration tests. The service is injected into the constructor of a page and called in the ngOnInit method like so.</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { TodoService } from './todo.service'\n\n@Component({\n  selector: 'app-todos',\n  templateUrl: './todos.component.html',\n  styleUrls: ['./todos.component.css']\n})\nexport class TodosComponent implements OnInit {\n  todos;\n  message; \n\n  constructor(private service: TodoService) {}\n\n  ngOnInit() { \n    this.service.getTodos().subscribe(t =&gt; this.todos = t);\n  }\n\n</code></pre>\n\n<p>I am trying to create an integration test to confirm that the code in the component is written correctly. The service returns an observable of type object array, so I created my test like this.</p>\n\n<pre><code>describe('TodosComponent', () =&gt; {\n  let component: TodosComponent;\n  let fixture: ComponentFixture&lt;TodosComponent&gt;;\n\n  beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n      imports: [ HttpClientModule],\n      declarations: [ TodosComponent ],\n      providers: [TodoService]\n    })\n    .compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n    fixture = TestBed.createComponent(TodosComponent);\n    component = fixture.componentInstance;\n  });\n\n  it('should create', () =&gt; {\n    expect(component).toBeTruthy();\n  });\n\n  it('should load todos from the server', () =&gt; {\n    let svc = TestBed.get(TodoService);\n\n    let todoData = [\n      {id: 1, title: 'todo 1'},\n      {id: 2, title: 'todo 2'},\n      {id: 3, title: 'todo 3'}\n  ];\n\n    spyOn(svc, 'getTodos').and.returnValues(todoData);\n\n    // This statement causes the ngOnInit method to get called\n    fixture.detectChanges();\n\n    expect(component.todos.length).toBe(3);\n    expect(component.todos).toBe(todoData);\n  });\n});\n</code></pre>\n\n<p>When I run this test, I get the following errors:\nThe first error occurs twice - not sure why..</p>\n\n<pre><code>zone.js:3272 Access to XMLHttpRequest at 'ng:///DynamicTestModule/TodosComponent_Host.ngfactory.js' from origin 'http://localhost:9876' has been blocked by CORS policy: Cross origin requests are only supported for protocol schemes: http, data, chrome, chrome-extension, https.\n\n\nTypeError: this.service.getTodos(...).subscribe is not a function\n    at TodosComponent../src/app/2-todos/todos.component.ts.TodosComponent.ngOnInit (_karma_webpack_/webpack:/src/app/2-todos/todos.component.ts:16)\n    at checkAndUpdateDirectiveInline (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:22099)\n    at checkAndUpdateNodeInline (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:23363)\n    at checkAndUpdateNode (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:23325)\n    at debugCheckAndUpdateNode (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:23959)\n    at debugCheckDirectivesFn (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:23919)\n    at Object.eval [as updateDirectives] (VM723 TodosComponent_Host.ngfactory.js:9)\n    at Object.debugUpdateDirectives [as updateDirectives] (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:23911)\n    at checkAndUpdateView (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:23307)\n    at callWithDebugContext (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:24177)\n</code></pre>\n\n<p>The service method looks like this...</p>\n\n<pre><code> getTodos() {\n    let todoData = [\n      {id: 1, title: 'todo 1'},\n      {id: 2, title: 'todo 2'},\n      {id: 3, title: 'todo 3'}\n    ];\n    return Observable.create(todoData);\n\n  }\n\n</code></pre>\n\n<p>I am following a tutorial, and their test runs properly. They are using an older version of Angular - 4 I believe. My Karma, Angular are the latest stable version. If someone could help explain how to get around this issue I would be eternally grateful.</p>\n",
        "codigo": [
            "import { Component, OnInit } from '@angular/core';\nimport { TodoService } from './todo.service'\n\n@Component({\n  selector: 'app-todos',\n  templateUrl: './todos.component.html',\n  styleUrls: ['./todos.component.css']\n})\nexport class TodosComponent implements OnInit {\n  todos;\n  message; \n\n  constructor(private service: TodoService) {}\n\n  ngOnInit() { \n    this.service.getTodos().subscribe(t => this.todos = t);\n  }\n\n",
            "describe('TodosComponent', () => {\n  let component: TodosComponent;\n  let fixture: ComponentFixture<TodosComponent>;\n\n  beforeEach(async(() => {\n    TestBed.configureTestingModule({\n      imports: [ HttpClientModule],\n      declarations: [ TodosComponent ],\n      providers: [TodoService]\n    })\n    .compileComponents();\n  }));\n\n  beforeEach(() => {\n    fixture = TestBed.createComponent(TodosComponent);\n    component = fixture.componentInstance;\n  });\n\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n\n  it('should load todos from the server', () => {\n    let svc = TestBed.get(TodoService);\n\n    let todoData = [\n      {id: 1, title: 'todo 1'},\n      {id: 2, title: 'todo 2'},\n      {id: 3, title: 'todo 3'}\n  ];\n\n    spyOn(svc, 'getTodos').and.returnValues(todoData);\n\n    // This statement causes the ngOnInit method to get called\n    fixture.detectChanges();\n\n    expect(component.todos.length).toBe(3);\n    expect(component.todos).toBe(todoData);\n  });\n});\n",
            "zone.js:3272 Access to XMLHttpRequest at 'ng:///DynamicTestModule/TodosComponent_Host.ngfactory.js' from origin 'http://localhost:9876' has been blocked by CORS policy: Cross origin requests are only supported for protocol schemes: http, data, chrome, chrome-extension, https.\n\n\nTypeError: this.service.getTodos(...).subscribe is not a function\n    at TodosComponent../src/app/2-todos/todos.component.ts.TodosComponent.ngOnInit (_karma_webpack_/webpack:/src/app/2-todos/todos.component.ts:16)\n    at checkAndUpdateDirectiveInline (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:22099)\n    at checkAndUpdateNodeInline (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:23363)\n    at checkAndUpdateNode (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:23325)\n    at debugCheckAndUpdateNode (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:23959)\n    at debugCheckDirectivesFn (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:23919)\n    at Object.eval [as updateDirectives] (VM723 TodosComponent_Host.ngfactory.js:9)\n    at Object.debugUpdateDirectives [as updateDirectives] (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:23911)\n    at checkAndUpdateView (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:23307)\n    at callWithDebugContext (_karma_webpack_/webpack:/node_modules/@angular/core/fesm5/core.js:24177)\n",
            " getTodos() {\n    let todoData = [\n      {id: 1, title: 'todo 1'},\n      {id: 2, title: 'todo 2'},\n      {id: 3, title: 'todo 3'}\n    ];\n    return Observable.create(todoData);\n\n  }\n\n"
        ]
    },
    {
        "titulo": "How to test controller action in Grails 3.3.6 without using services",
        "score": 0,
        "views": 212,
        "respostas": 1,
        "tags": [
            "testing",
            "grails",
            "groovy",
            "integration",
            "spock"
        ],
        "link": "https://stackoverflow.com/questions/55782038/how-to-test-controller-action-in-grails-3-3-6-without-using-services",
        "conteudo_html": "<p>I have created Grails Application with one domain and controller. In development environment i have inserted two entry for domain.I want to perform integration testing such that it fetch records from the database and return the total size.Below is my source code which i tried.</p>\n\n<p>Below is my domain</p>\n\n<pre><code>Student.groovy.\n\nimport grails.gorm.transactions.Transactional\n\n@Transactional\nclass Student {\n\nString name\nString rollnumber\n    static constraints = {\n    }\n}\n</code></pre>\n\n<p>Below is my controller:-</p>\n\n<pre><code>import grails.gorm.transactions.Transactional\n\n@Transactional\nclass StudentController {\n\n def readall(){\n       println \"inside read all \"+Student.getAll().size()\n       respond Student.getAll()\n     }\n}\n</code></pre>\n\n<p>Below is my Integration Testing code:</p>\n\n<pre><code>import grails.testing.gorm.DomainUnitTest\nimport grails.testing.mixin.integration.Integration\nimport grails.testing.web.controllers.ControllerUnitTest\nimport grails.validation.ValidationException\nimport spock.lang.Specification\n@Integration\nclass StudentControllerSpec extends Specification implements ControllerUnitTest&lt;StudentController&gt;, DomainUnitTest&lt;Student&gt; {\n\nvoid \"getAllStudentList\"(){\n        given:\n        def studentList=[]\n        when:\n        request.method = 'GET'\n        controller.readall()\n        println studentList.size()\n        then:\n        studentList.size()==1\n\n    }\n}\n</code></pre>\n\n<p>Below is my application.yml file</p>\n\n<pre><code>---\nhibernate:\n    cache:\n        queries: false\n        use_second_level_cache: false\n        use_query_cache: false\ndataSource:\n    pooled: true\n    jmxExport: true\n    driverClassName: org.h2.Driver\n    username: sa\n    password: ''\n\nenvironments:\n    development:\n        dataSource:\n            dbCreate: create-drop\n            url: jdbc:h2:mem:devDb;MVCC=TRUE;LOCK_TIMEOUT=10000;DB_CLOSE_ON_EXIT=FALSE\n    test:\n        dataSource:\n            dbCreate: update\n            url: jdbc:h2:mem:testDb;MVCC=TRUE;LOCK_TIMEOUT=10000;DB_CLOSE_ON_EXIT=FALSE\n    production:\n        dataSource:\n            dbCreate: none\n            url: jdbc:h2:./prodDb;MVCC=TRUE;LOCK_TIMEOUT=10000;DB_CLOSE_ON_EXIT=FALSE\n            properties:\n                jmxEnabled: true\n                initialSize: 5\n                maxActive: 50\n                minIdle: 5\n                maxIdle: 25\n                maxWait: 10000\n                maxAge: 600000\n                timeBetweenEvictionRunsMillis: 5000\n                minEvictableIdleTimeMillis: 60000\n                validationQuery: SELECT 1\n                validationQueryTimeout: 3\n                validationInterval: 15000\n                testOnBorrow: true\n                testWhileIdle: true\n                testOnReturn: false\n                jdbcInterceptors: ConnectionState\n                defaultTransactionIsolation: 2 # TRANSACTION_READ_COMMITTED\n\n\n</code></pre>\n\n<p>i'm getting below exception while running test case </p>\n\n<pre><code>\nConfiguring Spring Security Core ...\n... finished configuring Spring Security Core\n\n2019-04-21 16:05:07.979 ERROR --- [    Test worker] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'methodValidationPostProcessor' defined in class path resource [org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]: Unsatisfied dependency expressed through method 'methodValidationPostProcessor' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hibernateDatastoreServiceRegistry': Cannot resolve reference to bean 'hibernateDatastore' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hibernateDatastore': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.grails.orm.hibernate.HibernateDatastore]: Constructor threw exception; nested exception is org.hibernate.MappingException: Could not determine type for: org.springframework.transaction.PlatformTransactionManager, at table: student, for columns: [org.hibernate.mapping.Column(transaction_manager)]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:467)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1181)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1075)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:225)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:703)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n</code></pre>\n",
        "codigo": [
            "Student.groovy.\n\nimport grails.gorm.transactions.Transactional\n\n@Transactional\nclass Student {\n\nString name\nString rollnumber\n    static constraints = {\n    }\n}\n",
            "import grails.gorm.transactions.Transactional\n\n@Transactional\nclass StudentController {\n\n def readall(){\n       println \"inside read all \"+Student.getAll().size()\n       respond Student.getAll()\n     }\n}\n",
            "import grails.testing.gorm.DomainUnitTest\nimport grails.testing.mixin.integration.Integration\nimport grails.testing.web.controllers.ControllerUnitTest\nimport grails.validation.ValidationException\nimport spock.lang.Specification\n@Integration\nclass StudentControllerSpec extends Specification implements ControllerUnitTest<StudentController>, DomainUnitTest<Student> {\n\nvoid \"getAllStudentList\"(){\n        given:\n        def studentList=[]\n        when:\n        request.method = 'GET'\n        controller.readall()\n        println studentList.size()\n        then:\n        studentList.size()==1\n\n    }\n}\n",
            "---\nhibernate:\n    cache:\n        queries: false\n        use_second_level_cache: false\n        use_query_cache: false\ndataSource:\n    pooled: true\n    jmxExport: true\n    driverClassName: org.h2.Driver\n    username: sa\n    password: ''\n\nenvironments:\n    development:\n        dataSource:\n            dbCreate: create-drop\n            url: jdbc:h2:mem:devDb;MVCC=TRUE;LOCK_TIMEOUT=10000;DB_CLOSE_ON_EXIT=FALSE\n    test:\n        dataSource:\n            dbCreate: update\n            url: jdbc:h2:mem:testDb;MVCC=TRUE;LOCK_TIMEOUT=10000;DB_CLOSE_ON_EXIT=FALSE\n    production:\n        dataSource:\n            dbCreate: none\n            url: jdbc:h2:./prodDb;MVCC=TRUE;LOCK_TIMEOUT=10000;DB_CLOSE_ON_EXIT=FALSE\n            properties:\n                jmxEnabled: true\n                initialSize: 5\n                maxActive: 50\n                minIdle: 5\n                maxIdle: 25\n                maxWait: 10000\n                maxAge: 600000\n                timeBetweenEvictionRunsMillis: 5000\n                minEvictableIdleTimeMillis: 60000\n                validationQuery: SELECT 1\n                validationQueryTimeout: 3\n                validationInterval: 15000\n                testOnBorrow: true\n                testWhileIdle: true\n                testOnReturn: false\n                jdbcInterceptors: ConnectionState\n                defaultTransactionIsolation: 2 # TRANSACTION_READ_COMMITTED\n\n\n",
            "\nConfiguring Spring Security Core ...\n... finished configuring Spring Security Core\n\n2019-04-21 16:05:07.979 ERROR --- [    Test worker] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'methodValidationPostProcessor' defined in class path resource [org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]: Unsatisfied dependency expressed through method 'methodValidationPostProcessor' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hibernateDatastoreServiceRegistry': Cannot resolve reference to bean 'hibernateDatastore' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hibernateDatastore': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.grails.orm.hibernate.HibernateDatastore]: Constructor threw exception; nested exception is org.hibernate.MappingException: Could not determine type for: org.springframework.transaction.PlatformTransactionManager, at table: student, for columns: [org.hibernate.mapping.Column(transaction_manager)]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:467)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1181)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1075)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:225)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:703)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n"
        ]
    },
    {
        "titulo": "What kind of tests should I write in my case?",
        "score": -3,
        "views": 43,
        "respostas": 1,
        "tags": [
            "php",
            "unit-testing",
            "symfony",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/55750740/what-kind-of-tests-should-i-write-in-my-case",
        "conteudo_html": "<p>I'm kinda new to unit tests, functional tests, etc.</p>\n\n<p>I'm a little confused as to the best approach for my case:</p>\n\n<p>My service does this :</p>\n\n<ol>\n<li>connect to a remote server through SFTP</li>\n<li>copy some XML files locally</li>\n<li>parse those files</li>\n<li>save the parsed data in the database</li>\n</ol>\n\n<p>My service is working fine but my question is: How can I test this kind of behavior?</p>\n",
        "codigo": []
    },
    {
        "titulo": "SignalR Service mock implementation for Service/Integration testing",
        "score": 0,
        "views": 261,
        "respostas": 1,
        "tags": [
            "testing",
            "service",
            "signalr",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/54893256/signalr-service-mock-implementation-for-service-integration-testing",
        "conteudo_html": "<p>I want to be able to simulate SignalR Hub for services tests. The idea is to be able to create a test in the following way:\nStart a SignalR server (url, port and hub class should be configured at runtime) - the hub will be created in the test module for this purpose.\nSo the first part - starting a runtime configurable SignalR server Is possible:</p>\n\n<pre><code>StartOptions so = new StartOptions(\"http://127.0.0.1:8080\");\nso.AppStartup = \"SrServer.Startup1\"; // set the startup class (will be defined in the test module)\n</code></pre>\n\n<p>The following is an example for Startup1:</p>\n\n<pre><code>class Startup1\n{\n    public void Configuration(IAppBuilder app)\n    {\n\n        app.UseCors(CorsOptions.AllowAll);\n        app.MapSignalR();\n    }\n}\n</code></pre>\n\n<p>The only issue I'm missing is being able to set the hub to be used from my test module - is this possible?</p>\n",
        "codigo": [
            "StartOptions so = new StartOptions(\"http://127.0.0.1:8080\");\nso.AppStartup = \"SrServer.Startup1\"; // set the startup class (will be defined in the test module)\n",
            "class Startup1\n{\n    public void Configuration(IAppBuilder app)\n    {\n\n        app.UseCors(CorsOptions.AllowAll);\n        app.MapSignalR();\n    }\n}\n"
        ]
    },
    {
        "titulo": "Does returning a value from a function for unit/integration test have any downsides",
        "score": 1,
        "views": 78,
        "respostas": 0,
        "tags": [
            "javascript",
            "testing",
            "mocha.js",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/54046499/does-returning-a-value-from-a-function-for-unit-integration-test-have-any-downsi",
        "conteudo_html": "<p>Is there a scenario where you would not want to return a value from a function?</p>\n\n<p>Lets say the function I am writing an integration/unit test for looks like this</p>\n\n<pre><code>function functionBeingTested() {\n    functionThatIsBeingStubbed();\n}\n</code></pre>\n\n<p>I need to see if functionThatIsBeingStubbed() is getting called and my intuition is that I can just return it, and the value returned will return either true if the arguments pass, or a string that will be the error message if not. Like this;</p>\n\n<pre><code>function functionBeingTested() {\n    return functionThatIsBeingStubbed();\n}\n</code></pre>\n\n<p>Is there value in doing this all the time? Is there a scenario where you wouldn't want to return a function that isn't actually needing to be returned for any reason other then testing? Is there a better way? Is returning a string with the error message from the stub a good idea or is there a better way? I am new to testing and am not sure if this is good practice or not.</p>\n",
        "codigo": [
            "function functionBeingTested() {\n    functionThatIsBeingStubbed();\n}\n",
            "function functionBeingTested() {\n    return functionThatIsBeingStubbed();\n}\n"
        ]
    },
    {
        "titulo": "Any recommended ways to execute Jest tests sequentially, in a predefined order?",
        "score": 5,
        "views": 3439,
        "respostas": 0,
        "tags": [
            "reactjs",
            "testing",
            "jestjs",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/53907166/any-recommended-ways-to-execute-jest-tests-sequentially-in-a-predefined-order",
        "conteudo_html": "<p>I am interested in using Jest for integration tests, not just unit tests. To do this, I'm exploring ways to get Jest scripts to execute in a specified order.</p>\n\n<p>I've tried a suggestion from a related post (see link below) and it works: create separate files (that don't end in .test) for each test (or group of tests), import them into the main App.test.js, and call the files in the desired order. \n<a href=\"https://github.com/facebook/jest/issues/6194#issuecomment-419837314\" rel=\"nofollow noreferrer\">https://github.com/facebook/jest/issues/6194#issuecomment-419837314</a></p>\n\n<p><code>App.test.js</code></p>\n\n<pre><code>import { apptestgroup1 } from './apptests.set1'\nimport { apptestgroup2 } from './apptests.set2'\nimport { apptestgroup3 } from './apptests.set3'\n\ndescribe('App tests Group 1', apptestgroup1)\ndescribe('App tests Group 2', apptestgroup2)\ndescribe('App tests Group 3', apptestgroup3)\n</code></pre>\n\n<p><code>apptests.set1.js</code></p>\n\n<pre><code>export const apptestgroup1 = () =&gt; {\n  it('sets loggedInUser = false when logOut is called', () =&gt; {});\n  it('renders &lt;Home /&gt; when logOut is called', () =&gt; {});\n}\n</code></pre>\n\n<p><code>apptests.set2.js</code></p>\n\n<pre><code>(more tests, similar to above)\n</code></pre>\n\n<p><code>apptests.set3.js</code></p>\n\n<pre><code>(more tests, similar to above)\n</code></pre>\n",
        "codigo": [
            "App.test.js",
            "import { apptestgroup1 } from './apptests.set1'\nimport { apptestgroup2 } from './apptests.set2'\nimport { apptestgroup3 } from './apptests.set3'\n\ndescribe('App tests Group 1', apptestgroup1)\ndescribe('App tests Group 2', apptestgroup2)\ndescribe('App tests Group 3', apptestgroup3)\n",
            "apptests.set1.js",
            "export const apptestgroup1 = () => {\n  it('sets loggedInUser = false when logOut is called', () => {});\n  it('renders <Home /> when logOut is called', () => {});\n}\n",
            "apptests.set2.js",
            "(more tests, similar to above)\n",
            "apptests.set3.js",
            "(more tests, similar to above)\n"
        ]
    },
    {
        "titulo": "How do you mock or set device width/height in Flutter Widget test?",
        "score": 4,
        "views": 477,
        "respostas": 0,
        "tags": [
            "testing",
            "flutter",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/53522165/how-do-you-mock-or-set-device-width-height-in-flutter-widget-test",
        "conteudo_html": "<p>I'm writing Widget tests in Flutter and need to be able to test my layouts on different device sizes.</p>\n\n<p>The headless device size is always 600 height and 800 width. I want to be able to specify the size in my test. Some of the UI logic is dependant on device size and can't be tested unless I can set this size.</p>\n",
        "codigo": []
    },
    {
        "titulo": "TestHost and DependencyInjection on Services",
        "score": 0,
        "views": 93,
        "respostas": 0,
        "tags": [
            "c#",
            "asp.net",
            "testing",
            "dependency-injection",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/53266145/testhost-and-dependencyinjection-on-services",
        "conteudo_html": "<p>So i'm trying to find out how to implement dependency injection on the project for testing. </p>\n\n<p>Currently I'm using the <code>TestHost</code> but the problem is I don't really understand how <code>TestHost</code> should help me with DI on the service level because all examples I was looking at (<a href=\"https://www.meziantou.net/2017/08/21/testing-an-asp-net-core-application-using-testserver\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://learn.microsoft.com/en-us/dotnet/standard/microservices-architecture/multi-container-microservice-net-applications/test-aspnet-core-services-web-apps\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://andrewlock.net/configuring-environment-specific-services-in-asp-net-core/\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://andrewlock.net/configuring-environment-specific-services-in-asp-net-core-part-2/\" rel=\"nofollow noreferrer\">here</a>) didn't tell me something more clear than just some examples of code for Integration Testing on Controller level while I'm looking for services and possibility to inject all dependencies without any problems.</p>\n\n<p>I've created the new Environment for Test project and I tried to implement DI via <code>TestHost</code> on the test method just like in examples:</p>\n\n<pre><code>var someClass = new SomeClassService(IRepository, IRepository, IRepository);\nvar builder = new WebHostBuilder()\n    .UseEnvironment(\"Testing\")\n    .UseStartup&lt;TestStartup&gt;();\n</code></pre>\n",
        "codigo": [
            "TestHost",
            "TestHost",
            "TestHost",
            "var someClass = new SomeClassService(IRepository, IRepository, IRepository);\nvar builder = new WebHostBuilder()\n    .UseEnvironment(\"Testing\")\n    .UseStartup<TestStartup>();\n"
        ]
    },
    {
        "titulo": "Jacoco plugin does not report coverage for renamed integration test class",
        "score": 1,
        "views": 587,
        "respostas": 2,
        "tags": [
            "java",
            "spring",
            "testing",
            "integration",
            "code-coverage"
        ],
        "link": "https://stackoverflow.com/questions/52326910/jacoco-plugin-does-not-report-coverage-for-renamed-integration-test-class",
        "conteudo_html": "<p>Let me show you the problem with the following use case: </p>\n\n<p>Let's assume I have class <code>Example</code> and want to use the unit and integration test for that.\nOnce the unit tests in file <code>ExampleTest</code> (with methods annotated by <code>@Test</code>) is done, coverage report displays correct result.\nOnce the integration tests in file <code>ExampleTestInt</code> (with methods annotated by <code>@Test</code>) is done, coverage report does not display correct result. As if the class was excluded from the coverage process.</p>\n\n<p>That means if I have just integration tests for <code>Example</code> class then I cannot see the correct result in coverage by jacoco.</p>\n\n<p>Is there some way how to keep that <code>ExampleTestInt</code> class to be coverage similarly like in case of the unit test? I would like to keep the same name.</p>\n",
        "codigo": [
            "Example",
            "ExampleTest",
            "@Test",
            "ExampleTestInt",
            "@Test",
            "Example",
            "ExampleTestInt"
        ]
    },
    {
        "titulo": "Dagger Inject for Integration Tests",
        "score": 2,
        "views": 644,
        "respostas": 1,
        "tags": [
            "android",
            "testing",
            "integration",
            "dagger"
        ],
        "link": "https://stackoverflow.com/questions/51517218/dagger-inject-for-integration-tests",
        "conteudo_html": "<p>So up to Dagger 2.11 I've been able to construct TestComponent's and Modules to enable key components to be injected into integration tests. This is great for Api tests and objects with heavy component requirements</p>\n\n<p>Typically I would have code like this:-  </p>\n\n<pre><code>class SpotifyApiTest  {\n\n    lateinit var spotifyApi : SpotifyApi\n        @Inject set\n    lateinit var spotifyHelper : SpotifyIOHelper\n        @Inject set\n\n@Before\nfun setup() {\n    var context = InstrumentationRegistry.getInstrumentation().context\n\n    val testAppComponent = DaggerSpotifyTestComponent.builder()\n            .spotifyApiModule(SpotifyApiModule(context))\n            .build()\n    testAppComponent.inject(this)\n\n}\n\n@Test\n  ......\n}\n\nN/B remember to add the following to your gradle build file\n\nkaptAndroidTest \"com.google.dagger:dagger-compiler:$daggerVersion\"\n</code></pre>\n\n<p>This approach works extremely well up to Dagger 2.11 but after that version Modules with parameterized constructors do not work preventing context being supplied let alone the application. So how can I use the new  AndroidInjection() functionality for integration tests with the Dagger 2.16 for example?</p>\n",
        "codigo": [
            "class SpotifyApiTest  {\n\n    lateinit var spotifyApi : SpotifyApi\n        @Inject set\n    lateinit var spotifyHelper : SpotifyIOHelper\n        @Inject set\n\n@Before\nfun setup() {\n    var context = InstrumentationRegistry.getInstrumentation().context\n\n    val testAppComponent = DaggerSpotifyTestComponent.builder()\n            .spotifyApiModule(SpotifyApiModule(context))\n            .build()\n    testAppComponent.inject(this)\n\n}\n\n@Test\n  ......\n}\n\nN/B remember to add the following to your gradle build file\n\nkaptAndroidTest \"com.google.dagger:dagger-compiler:$daggerVersion\"\n"
        ]
    },
    {
        "titulo": "Yarn tests on Heroku fail to connect to my back-end code",
        "score": 1,
        "views": 97,
        "respostas": 1,
        "tags": [
            "testing",
            "heroku",
            "integration",
            "pipeline"
        ],
        "link": "https://stackoverflow.com/questions/50026584/yarn-tests-on-heroku-fail-to-connect-to-my-back-end-code",
        "conteudo_html": "<p>I am trying to execute tests via a Heroku pipeline with the following <code>app.json</code>:</p>\n\n<pre><code>{\n  \"environments\": {\n    \"test\": {\n      \"addons\": [\n        {\n          \"plan\": \"mongolab:sandbox\"\n        }\n      ],\n      \"scripts\": {\n        \"test\": \"yarn test &amp;&amp; ((nohup yarn test:start:api &amp;) &amp;&amp; sleep 10 &amp;&amp; yarn test:integration)\"\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Locally on my Linux machine the command works but on Heroku I can not reach the API service:</p>\n\n<pre><code>-----&gt; Running test command `yarn test &amp;&amp; ((nohup yarn test:start:api &amp;) &amp;&amp; sleep 10 &amp;&amp; yarn test:integration)`...\nyarn run v1.6.0\nwarning package.json: No license field\n$ mocha-webpack --webpack-config ./webpack.config.js --require test/setup.js model/**/*.spec.js api/**/*.spec.js\n WEBPACK  Compiling...\n WEBPACK  Compiled successfully in 792ms\n MOCHA  Testing...\n  0 passing (1ms)\n MOCHA  Tests completed successfully\nDone in 4.12s.\nyarn run v1.6.0\nwarning package.json: No license field\n$ babel-node ./server.js --presets es2015,stage-2\nyarn run v1.6.0\nwarning package.json: No license field\n$ mocha-webpack --webpack-config ./webpack.config.js --require test/setup.js model/**/*.integration.js api/**/*.integration.js\n WEBPACK  Compiling...\n WEBPACK  Compiled successfully in 1092ms\n MOCHA  Testing...\n  User\nDb.prototype.authenticate method will no longer be available in the next major release 3.x as MongoDB 3.6 will only allow auth against users in the admin db and will no longer allow multiple credentials on a socket. Please authenticate using MongoClient.connect with auth credentials.\n(node:570) DeprecationWarning: `open()` is deprecated in mongoose &gt;= 4.11.0, use `openUri()` instead, or set the `useMongoClient` option if using `connect()` or `createConnection()`. See http://mongoosejs.com/docs/connections.html#use-mongo-client\nDb.prototype.authenticate method will no longer be available in the next major release 3.x as MongoDB 3.6 will only allow auth against users in the admin db and will no longer allow multiple credentials on a socket. Please authenticate using MongoClient.connect with auth credentials.\nSuccessfully initialized mongoose-seed\nUsers collection cleared\nSuccessfully created document [0] of User model\nError: Error: connect ECONNREFUSED 127.0.0.1:8080\n...\n</code></pre>\n\n<p>How can I determine the URI to connect to the API-service itself (<code>nohup yarn test:start:api &amp;</code>)?</p>\n\n<p>The API is built with <code>express-restify-mongoose</code> and as it seems there is no  out of the box testing like inject with hapijs (<a href=\"https://hapijs.com/api#-await-serverinjectoptions\" rel=\"nofollow noreferrer\">https://hapijs.com/api#-await-serverinjectoptions</a>)</p>\n\n<p>How can I make my tests run on Heroku?</p>\n",
        "codigo": [
            "app.json",
            "{\n  \"environments\": {\n    \"test\": {\n      \"addons\": [\n        {\n          \"plan\": \"mongolab:sandbox\"\n        }\n      ],\n      \"scripts\": {\n        \"test\": \"yarn test && ((nohup yarn test:start:api &) && sleep 10 && yarn test:integration)\"\n      }\n    }\n  }\n}\n",
            "-----> Running test command `yarn test && ((nohup yarn test:start:api &) && sleep 10 && yarn test:integration)`...\nyarn run v1.6.0\nwarning package.json: No license field\n$ mocha-webpack --webpack-config ./webpack.config.js --require test/setup.js model/**/*.spec.js api/**/*.spec.js\n WEBPACK  Compiling...\n WEBPACK  Compiled successfully in 792ms\n MOCHA  Testing...\n  0 passing (1ms)\n MOCHA  Tests completed successfully\nDone in 4.12s.\nyarn run v1.6.0\nwarning package.json: No license field\n$ babel-node ./server.js --presets es2015,stage-2\nyarn run v1.6.0\nwarning package.json: No license field\n$ mocha-webpack --webpack-config ./webpack.config.js --require test/setup.js model/**/*.integration.js api/**/*.integration.js\n WEBPACK  Compiling...\n WEBPACK  Compiled successfully in 1092ms\n MOCHA  Testing...\n  User\nDb.prototype.authenticate method will no longer be available in the next major release 3.x as MongoDB 3.6 will only allow auth against users in the admin db and will no longer allow multiple credentials on a socket. Please authenticate using MongoClient.connect with auth credentials.\n(node:570) DeprecationWarning: `open()` is deprecated in mongoose >= 4.11.0, use `openUri()` instead, or set the `useMongoClient` option if using `connect()` or `createConnection()`. See http://mongoosejs.com/docs/connections.html#use-mongo-client\nDb.prototype.authenticate method will no longer be available in the next major release 3.x as MongoDB 3.6 will only allow auth against users in the admin db and will no longer allow multiple credentials on a socket. Please authenticate using MongoClient.connect with auth credentials.\nSuccessfully initialized mongoose-seed\nUsers collection cleared\nSuccessfully created document [0] of User model\nError: Error: connect ECONNREFUSED 127.0.0.1:8080\n...\n",
            "nohup yarn test:start:api &",
            "express-restify-mongoose"
        ]
    },
    {
        "titulo": "Is it possible to run commands in Katalon?",
        "score": 2,
        "views": 3321,
        "respostas": 4,
        "tags": [
            "testing",
            "cmd",
            "integration",
            "katalon-studio"
        ],
        "link": "https://stackoverflow.com/questions/49891607/is-it-possible-to-run-commands-in-katalon",
        "conteudo_html": "<p>Katalon is popular in automation testing. I have already used it in our project and it works amazingly. </p>\n\n<p>Now, What I want to achieve is to create a test case where it opens a terminal (using mac) and type in some commands to run it like for example:</p>\n\n<pre><code>cd /documents/pem/key.pem\nconnect to -my server via SSH@method\nsudo su\nyum install php7\nyum install mysql\n</code></pre>\n",
        "codigo": [
            "cd /documents/pem/key.pem\nconnect to -my server via SSH@method\nsudo su\nyum install php7\nyum install mysql\n"
        ]
    },
    {
        "titulo": "PactDslJsonBody is failing to create JSON object",
        "score": 1,
        "views": 1634,
        "respostas": 1,
        "tags": [
            "testing",
            "integration",
            "pact",
            "pact-jvm"
        ],
        "link": "https://stackoverflow.com/questions/49760529/pactdsljsonbody-is-failing-to-create-json-object",
        "conteudo_html": "<p>@Pact(provider=\"Appointment_Provider\",consumer = \"Appointment_Consumer\") \n    public PactFragment createFragmentAppointmentDetails (PactDslWithProvider builder) throws ParseException{ </p>\n\n<pre><code>        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;(); \n        headers.put(\"Content-Type\", \"application/json\"); \n\n\n        return builder\n                .given(\"GetAppoinment\")\n                .uponReceiving(\"Get Appointment information\")\n                .path(\"/getappointment\")\n                .query(\"apptId=11207\")\n                .method(\"GET\")\n                .willRespondWith()\n                .headers(headers)\n                .status(200)\n                .body(new PactDslJsonBody()\n                        .object(\"appointments\")\n                        .stringValue(\"type\",\"Test \\\\u0026 Turn up\")\n                        .stringValue(\"apptId\",\"11207\")\n                        .closeObject()\n                        )\n                .toFragment()\n                ;\n</code></pre>\n\n<p>}</p>\n",
        "codigo": [
            "        Map<String, String> headers = new HashMap<>(); \n        headers.put(\"Content-Type\", \"application/json\"); \n\n\n        return builder\n                .given(\"GetAppoinment\")\n                .uponReceiving(\"Get Appointment information\")\n                .path(\"/getappointment\")\n                .query(\"apptId=11207\")\n                .method(\"GET\")\n                .willRespondWith()\n                .headers(headers)\n                .status(200)\n                .body(new PactDslJsonBody()\n                        .object(\"appointments\")\n                        .stringValue(\"type\",\"Test \\\\u0026 Turn up\")\n                        .stringValue(\"apptId\",\"11207\")\n                        .closeObject()\n                        )\n                .toFragment()\n                ;\n"
        ]
    },
    {
        "titulo": "What is the difference between Nightwatch and Capybara?",
        "score": 1,
        "views": 182,
        "respostas": 0,
        "tags": [
            "testing",
            "vue.js",
            "capybara",
            "integration",
            "nightwatch.js"
        ],
        "link": "https://stackoverflow.com/questions/49522346/what-is-the-difference-between-nightwatch-and-capybara",
        "conteudo_html": "<p>I'm using a Vue front-end with a Rails back-end and I'm looking at options for unit testing and integration tests. I'm considering Jest for unit tests, but I'm a little confused on the options for integration tests. What is the difference between Nightwatch and Capybara? Is it just that Nightwatch runs in Node and Capybara runs in Ruby?</p>\n",
        "codigo": []
    },
    {
        "titulo": "Is it possible to have a local azure environment?",
        "score": 1,
        "views": 72,
        "respostas": 0,
        "tags": [
            "azure",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/48872940/is-it-possible-to-have-a-local-azure-environment",
        "conteudo_html": "<p>I am new to azure so maybe there's a better way to do what I am trying to achieve.</p>\n\n<p>I am basically trying to write integration test for a Web Api and I hit a wall as soon as I started using Azure sdk.</p>\n\n<p>Here's how I was doing my integration:</p>\n\n<ol>\n<li>I would fire up iis express and launch my web api</li>\n<li>Issue requests against the api and compare results</li>\n</ol>\n\n<p>So far so good.</p>\n\n<p>But now, I want to use redis cache and this requires the azure environment. </p>\n\n<p>Can this be done or am I approaching it the wrong way?</p>\n",
        "codigo": []
    },
    {
        "titulo": "how to handle user interaction of external commands in scala",
        "score": 1,
        "views": 363,
        "respostas": 2,
        "tags": [
            "scala",
            "testing",
            "cucumber",
            "command-line-interface",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/48508134/how-to-handle-user-interaction-of-external-commands-in-scala",
        "conteudo_html": "<p>I have a delete script that deletes data and while doing so prompts to ask for proceed. I want to pass both my command and the user interaction \"Y\" in cucumber-cli</p>\n\n<pre><code>sys.process.Process(\"abc delete #&gt;&gt; Y\", new java.io.File(getProjectPath)).!\n</code></pre>\n\n<p>I have tried </p>\n\n<ul>\n<li><code>echo Y | abc delete</code></li>\n<li><code>abc delete &lt;&lt;&lt; Y</code></li>\n<li><code>printf Y | abc delete</code></li>\n</ul>\n\n<p>But none seems to work inside scala-cucumber. It works only on terminal.\nWhat could be the problem?</p>\n\n<p>That's my O/p</p>\n\n<pre><code>  Press 'Y' to continue...\nException in thread \"main\" java.io.EOFException: Console has reached end of input\n    at scala.io.StdIn$class.readChar(StdIn.scala:93)\n    at scala.io.StdIn$.readChar(StdIn.scala:229)\n</code></pre>\n",
        "codigo": [
            "sys.process.Process(\"abc delete #>> Y\", new java.io.File(getProjectPath)).!\n",
            "echo Y | abc delete",
            "abc delete <<< Y",
            "printf Y | abc delete",
            "  Press 'Y' to continue...\nException in thread \"main\" java.io.EOFException: Console has reached end of input\n    at scala.io.StdIn$class.readChar(StdIn.scala:93)\n    at scala.io.StdIn$.readChar(StdIn.scala:229)\n"
        ]
    },
    {
        "titulo": "How to handle blue/green deployment with RabbitMQ?",
        "score": 1,
        "views": 2713,
        "respostas": 1,
        "tags": [
            "testing",
            "rabbitmq",
            "integration",
            "amq"
        ],
        "link": "https://stackoverflow.com/questions/47877674/how-to-handle-blue-green-deployment-with-rabbitmq",
        "conteudo_html": "<p>In our cloud environment, when a new instance is deployed, we run integration tests. However, it gets tricky because the new code is injecting messages in the queue for the service being deployed, while existing instances (previous version) are still running. We have a blue/green deployment.</p>\n\n<p>Would it be possible for RabbitMQ to have many listeners listening on a queue BUT only for a specific version?</p>\n\n<p>For example, all running servers would read messages for the version 2017.10.20 (previous version) or older versions, but they would not read messages that are for newer versions.</p>\n\n<p>This way I could deploy a new service and none of the other droplets would read its test messages.</p>\n\n<p>The new service being deployed has the same functionality as of the existing services. It both produces and consumes the same message types as the currently running services.</p>\n",
        "codigo": []
    },
    {
        "titulo": "mocha test not returning mongod save",
        "score": 1,
        "views": 46,
        "respostas": 0,
        "tags": [
            "node.js",
            "mongodb",
            "testing",
            "mocha.js",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/47477209/mocha-test-not-returning-mongod-save",
        "conteudo_html": "<p>I'm having trouble testing a user verification method I am implementing using nodejs, MongoDB, and mocha.</p>\n\n<h1>Error</h1>\n\n<pre><code>^CHarrys-MacBook-Pro:Phonex hcbh96$ npm run test-watch\n\n&gt; ls@1.0.0 test-watch /Users/hcbh96/Desktop/PhonexDevelopment/Phonex\n&gt; nodemon --exec 'npm test'\n\n[nodemon] 1.12.1\n[nodemon] to restart at any time, enter `rs`\n[nodemon] watching: *.*\n[nodemon] starting `npm test`\n\n&gt; ls@1.0.0 test /Users/hcbh96/Desktop/PhonexDevelopment/Phonex\n&gt; mocha tests/**/*.test.js\n\n\n\nNode app is running at localhost: + 3000\n  Post /tempUser\n{ phone: '5005550006',\n  countryCode: '+1',\n  email: 'test@test.com' }\ncreate temp:{ phone: '5005550006',\n  countryCode: '+1',\n  email: 'test@test.com',\n  _id: 5a18499b182f435b58eed843,\n  createdAt: 2017-11-24T16:32:27.089Z,\n  isVerified: false }\n    1) should create a new tempUser\n\n\n  0 passing (2s)\n  1 failing\n\n  1) Post /tempUser\n       should create a new tempUser:\n     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \"done()\" is called; if returning a Promise, ensure it resolves.\n</code></pre>\n\n<p>The code below is the part of the code that seems like the test to be causing the issue:</p>\n\n<h1>tempUser.js -- controller</h1>\n\n<pre><code>// create a new user based on the request\nexports.create = function(request, response) {\n    const params = request.body;\n    console.log(params);\n    // Create a new user based on params\n    const tempUser = new TempUser({\n        phone: params.phone,\n        countryCode: params.countryCode,\n        email: params.email\n    });\n    console.log(`create temp:${tempUser}`);\n\n    // tempUser.save(function(err, doc) {\n    //     if (err) {\n    //       console.log(doc);\n    //         response.send(err);\n    //     } else {\n    //         // If the user is created successfully, send them an account\n    //         // verification token\n    //         tempUser.sendAuthyToken(function(err) {\n    //             if (err) {\n    //                 console.log(\"err\");\n    //                 response.send(err);\n    //             }\n    //         });\n    //     response.send(doc);\n    //   }\n    // });\n\n    tempUser.save().then((doc)=&gt; {\n      // If the user is created successfully, send them an account verification token\n      // tempUser.sendAuthyToken((err)=&gt;{\n      //   response.send(err)\n      // });\n      console.log(`IMHERE2 ${doc}`);\n      response.send(doc);\n\n    }, (err) =&gt; {\n      console.log(err);\n      response.send(err)\n    });\n};\n</code></pre>\n\n<p>Here is the test:</p>\n\n<p>The test is being run via the command line using test-watch so nodemon is running which I think could be part of the issue:</p>\n\n<h1>Config</h1>\n\n<pre><code>\"test\": \"mocha tests/**/*.test.js\",\n\"test-watch\": \"nodemon --exec 'npm test'\"\n</code></pre>\n\n<h1>TempUserTest.js</h1>\n\n<pre><code>const expect = require('expect');\nconst request = require('supertest');\n\n\n//local dependencies\nconst {app} = require('../../config/initialisers/server.js');\nconst {User} = require('../../api/models/user/user.js');\nconst {TempUser} = require('../../api/models/user/tempUser.js')\n\n\ndescribe(\"Post /tempUser\", ()=&gt;{\n\n  it('should create a new tempUser',(done)=&gt;{\n    var userEmail = \"test@test.com\";\n    var userPhone = \"5005550006\";\n    var userCountryCode = \"+1\";\n\n    request(app)\n    .post('/api/users/temp-user/create')\n    .send({\n      phone: userPhone,\n      countryCode: userCountryCode,\n      email : userEmail,\n    })\n    .expect(200)\n    .expect('Content-Type', /json/)\n\n    .expect((res)=&gt;{\n****NO RES COMING IN HERE**********************************************\n      expect(res.body).toInclude({\n        email: userEmail,\n        countryCode: userCountryCode,\n        phone: userPhone\n      });\n    })\n    .end((err,res) =&gt; {\n      if(err){\n        return done(err);\n      }\n      TempUser.find().then((tempUsers)=&gt;{\n        expect(tempUsers.length).toBe(1);\n        expect(tempUsers[0].countryCode).toBe(userCountryCode);\n        expect(tempUsers[0].email).toBe(userEmail);\n        expect(tempUsers[0].phone).toBe(userPhone);\n        done();\n      }).catch((e)=&gt;done(e))\n    });\n  });\n});\n</code></pre>\n\n<hr>\n\n<h1>POSTMAN SUCCESSFUL POST</h1>\n\n<pre><code>{\n    \"phone\": \"5005550006\",\n    \"countryCode\": \"+1\",\n    \"email\":\"test@test.com\"\n}\n</code></pre>\n\n<h1>POSTMAN SUCCESSFUL RESPONSE</h1>\n\n<pre><code>{\n    \"__v\": 0,\n    \"phone\": \"5005550006\",\n    \"countryCode\": \"+1\",\n    \"email\": \"test@test.com\",\n    \"_id\": \"5a18485aa191f65b445341c1\",\n    \"createdAt\": \"2017-11-24T16:27:06.133Z\",\n    \"isVerified\": false\n}\n</code></pre>\n\n<p>Thank you in advance for responses to this. </p>\n\n<p>My feeling is that this is a silly little error somewhere in the test file but unfortunately I am not experienced with Nodejs to spot it.</p>\n",
        "codigo": [
            "^CHarrys-MacBook-Pro:Phonex hcbh96$ npm run test-watch\n\n> ls@1.0.0 test-watch /Users/hcbh96/Desktop/PhonexDevelopment/Phonex\n> nodemon --exec 'npm test'\n\n[nodemon] 1.12.1\n[nodemon] to restart at any time, enter `rs`\n[nodemon] watching: *.*\n[nodemon] starting `npm test`\n\n> ls@1.0.0 test /Users/hcbh96/Desktop/PhonexDevelopment/Phonex\n> mocha tests/**/*.test.js\n\n\n\nNode app is running at localhost: + 3000\n  Post /tempUser\n{ phone: '5005550006',\n  countryCode: '+1',\n  email: 'test@test.com' }\ncreate temp:{ phone: '5005550006',\n  countryCode: '+1',\n  email: 'test@test.com',\n  _id: 5a18499b182f435b58eed843,\n  createdAt: 2017-11-24T16:32:27.089Z,\n  isVerified: false }\n    1) should create a new tempUser\n\n\n  0 passing (2s)\n  1 failing\n\n  1) Post /tempUser\n       should create a new tempUser:\n     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \"done()\" is called; if returning a Promise, ensure it resolves.\n",
            "// create a new user based on the request\nexports.create = function(request, response) {\n    const params = request.body;\n    console.log(params);\n    // Create a new user based on params\n    const tempUser = new TempUser({\n        phone: params.phone,\n        countryCode: params.countryCode,\n        email: params.email\n    });\n    console.log(`create temp:${tempUser}`);\n\n    // tempUser.save(function(err, doc) {\n    //     if (err) {\n    //       console.log(doc);\n    //         response.send(err);\n    //     } else {\n    //         // If the user is created successfully, send them an account\n    //         // verification token\n    //         tempUser.sendAuthyToken(function(err) {\n    //             if (err) {\n    //                 console.log(\"err\");\n    //                 response.send(err);\n    //             }\n    //         });\n    //     response.send(doc);\n    //   }\n    // });\n\n    tempUser.save().then((doc)=> {\n      // If the user is created successfully, send them an account verification token\n      // tempUser.sendAuthyToken((err)=>{\n      //   response.send(err)\n      // });\n      console.log(`IMHERE2 ${doc}`);\n      response.send(doc);\n\n    }, (err) => {\n      console.log(err);\n      response.send(err)\n    });\n};\n",
            "\"test\": \"mocha tests/**/*.test.js\",\n\"test-watch\": \"nodemon --exec 'npm test'\"\n",
            "const expect = require('expect');\nconst request = require('supertest');\n\n\n//local dependencies\nconst {app} = require('../../config/initialisers/server.js');\nconst {User} = require('../../api/models/user/user.js');\nconst {TempUser} = require('../../api/models/user/tempUser.js')\n\n\ndescribe(\"Post /tempUser\", ()=>{\n\n  it('should create a new tempUser',(done)=>{\n    var userEmail = \"test@test.com\";\n    var userPhone = \"5005550006\";\n    var userCountryCode = \"+1\";\n\n    request(app)\n    .post('/api/users/temp-user/create')\n    .send({\n      phone: userPhone,\n      countryCode: userCountryCode,\n      email : userEmail,\n    })\n    .expect(200)\n    .expect('Content-Type', /json/)\n\n    .expect((res)=>{\n****NO RES COMING IN HERE**********************************************\n      expect(res.body).toInclude({\n        email: userEmail,\n        countryCode: userCountryCode,\n        phone: userPhone\n      });\n    })\n    .end((err,res) => {\n      if(err){\n        return done(err);\n      }\n      TempUser.find().then((tempUsers)=>{\n        expect(tempUsers.length).toBe(1);\n        expect(tempUsers[0].countryCode).toBe(userCountryCode);\n        expect(tempUsers[0].email).toBe(userEmail);\n        expect(tempUsers[0].phone).toBe(userPhone);\n        done();\n      }).catch((e)=>done(e))\n    });\n  });\n});\n",
            "{\n    \"phone\": \"5005550006\",\n    \"countryCode\": \"+1\",\n    \"email\":\"test@test.com\"\n}\n",
            "{\n    \"__v\": 0,\n    \"phone\": \"5005550006\",\n    \"countryCode\": \"+1\",\n    \"email\": \"test@test.com\",\n    \"_id\": \"5a18485aa191f65b445341c1\",\n    \"createdAt\": \"2017-11-24T16:27:06.133Z\",\n    \"isVerified\": false\n}\n"
        ]
    },
    {
        "titulo": "Post Deployment Integration Testing in Mule",
        "score": 0,
        "views": 867,
        "respostas": 1,
        "tags": [
            "maven",
            "testing",
            "mule",
            "integration",
            "munit"
        ],
        "link": "https://stackoverflow.com/questions/47015489/post-deployment-integration-testing-in-mule",
        "conteudo_html": "<p>I have an application for which I have an Integration Test suite written using Munit. I am deploying this to CloudHub Using Jenkins. </p>\n\n<p>How can I execute the test cases post-deployment?</p>\n\n<p>Is there any command line tool that can  I make use of or it can done using maven or Jenkins?</p>\n",
        "codigo": []
    },
    {
        "titulo": "TestNG Automation Framework running tests individually, locally",
        "score": 0,
        "views": 267,
        "respostas": 1,
        "tags": [
            "java",
            "testing",
            "automated-tests",
            "testng",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/46085094/testng-automation-framework-running-tests-individually-locally",
        "conteudo_html": "<p>I am a beginner in TestNG. I am currently working in a company where they have a homegrown api automation framework. I am used to running my test case in isolation when local and using Cucumber. However, things are very tightly coupled in this framework. Let me give a briefing on different aspects of the framework:</p>\n\n<p><strong>Test Data Management:</strong> \nTest data are read through properties file. All the test case data are listed in the properties using key values per api module. The way the keys are numbered are by testcase type and a counter attached to it. So for example:</p>\n\n<p><code>example.properties</code></p>\n\n<pre><code>.....\n.....\n    getTestCase38=TC_ID_38\n    getDescription38= Description_38\n    getUserID38=&lt;some value&gt;\n    getUserType38=&lt;some value&gt;\n    expectedUserType38=&lt;some value&gt;\n\n    getTestCase39=TC_ID_39\n    getDescription39= Description_39\n    getUserID39=&lt;some value&gt;\n    getUserType39=&lt;some value&gt;\n    expectedUserType39=&lt;some value&gt;\n\n    postTestCase1=TC_ID_1\n    postDescription1= Description_1\n    postUserID1=&lt;some value&gt;\n    postUserType1=&lt;some value&gt;\n    expectedUserType1=&lt;some value&gt;\n...\n...\n</code></pre>\n\n<p><strong>Test Data Flow:</strong>\nThe data is read from the properties file. A property file maps to a TestNG class. The naming convention of these methods in a TestNG class are as follows:</p>\n\n<pre><code>public class ModuleA extends ModuleACommon{    \n\nint getcount = 0;\nint postcount = 0;\n\n    @Test(priority=20)\n    public void testMoudleAGetPositive38(){\n     callMethodToReadData(getcount++);\n     ....\n    }   \n\n    @Test(priority=21)\n    public void testModuleAGetPositive39(){\n     callMethodToReadData(getcount++);\n     ....\n     ....\n    } \n    ......\n    ......\n\n    @Test(priority=30)\n    public void testModuleAPostPositive1(){\n     callMethodToReadData(postcount++);\n     ....\n     ....\n    }   \n   ......\n   ......\n}\n</code></pre>\n\n<p>Note that when <code>callMethodToReadData</code> is called the count is incremented and it is used to build the key to access the test data from the properties file. The test cases are set to a priority in sequential order, this ensures that the proper key is constructed. This is painful because if I want to add a new test case following this pattern. Lets say I want to add a test case and assign it a priority of 21 then I will have to adjust the priority for all the test methods after 21 including the 21st priority test case.</p>\n\n<p><strong>For short term:</strong>\nI am trying to find an easiest way to run one test in isolation. There are dirty ways of accomplishing this. For example, I can just comment out other test case and reassign the appropriate count values but this is too inefficient. </p>\n\n<p><strong>Long Term:</strong> \nI would love to hear opinions and suggestions to improve this in the long run. I have couple of ideas myself for long term improvements, however I was hoping to get more insightful suggestions from here. </p>\n\n<p>Also, let me know if there are any hacks that could solve the problem of adding test cases and not having to reorganize the priorities (I have a solution that I have already implemented where I just use a unique key that is more descriptive of the actual test case). </p>\n",
        "codigo": [
            "example.properties",
            ".....\n.....\n    getTestCase38=TC_ID_38\n    getDescription38= Description_38\n    getUserID38=<some value>\n    getUserType38=<some value>\n    expectedUserType38=<some value>\n\n    getTestCase39=TC_ID_39\n    getDescription39= Description_39\n    getUserID39=<some value>\n    getUserType39=<some value>\n    expectedUserType39=<some value>\n\n    postTestCase1=TC_ID_1\n    postDescription1= Description_1\n    postUserID1=<some value>\n    postUserType1=<some value>\n    expectedUserType1=<some value>\n...\n...\n",
            "public class ModuleA extends ModuleACommon{    \n\nint getcount = 0;\nint postcount = 0;\n\n    @Test(priority=20)\n    public void testMoudleAGetPositive38(){\n     callMethodToReadData(getcount++);\n     ....\n    }   \n\n    @Test(priority=21)\n    public void testModuleAGetPositive39(){\n     callMethodToReadData(getcount++);\n     ....\n     ....\n    } \n    ......\n    ......\n\n    @Test(priority=30)\n    public void testModuleAPostPositive1(){\n     callMethodToReadData(postcount++);\n     ....\n     ....\n    }   \n   ......\n   ......\n}\n",
            "callMethodToReadData"
        ]
    },
    {
        "titulo": "SnipCart and Authorize.net integration",
        "score": 0,
        "views": 246,
        "respostas": 0,
        "tags": [
            "testing",
            "integration",
            "authorize.net",
            "snipcart"
        ],
        "link": "https://stackoverflow.com/questions/43756455/snipcart-and-authorize-net-integration",
        "conteudo_html": "<p>I would like to know your experience with testing integration of SnipCart with Authorize.net.</p>\n\n<p>I have a site where user can purchase a digital product using SnipCart interface. Now, I want to allow access to this product only if the payment was successful. In order to do that, the site is listening to webhooks (both from SnipCart and Authorize.net).\nThe problem is, SnipCart does not allow you to integrate with sandbox Authorize.net account. And I would like to avoid to do real payments and refunds during the implementation phase. For now, I've just tested it manually (SnipCart in test mode and payments through Authorize.net virtual terminal).\nSeparately, everything works as expected. </p>\n\n<p>I would like to know, how to pair Authorize.net transaction with SnipCart order? Do you know what information Snipcart uses for correlation their orders with payments (SnipCart order token, invoice number)?</p>\n\n<p>I was not able to find out this information from their documentation. </p>\n\n<p>Thank you for answers.</p>\n",
        "codigo": []
    },
    {
        "titulo": "How to test an existing camel route?",
        "score": 0,
        "views": 795,
        "respostas": 1,
        "tags": [
            "spring",
            "testing",
            "spring-boot",
            "apache-camel",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/42785670/how-to-test-an-existing-camel-route",
        "conteudo_html": "<p>I'm trying to test an existing Camel route, but it's proving much more difficult than I anticipated. Most of the documentation that I've seen online seems to create a new route in the test, and then test that. How can I test a route that I have already created? </p>\n\n<p>For simplicity, I have created the simplest route that I can think of, but I can't for the life of me figure out how to use that route in a test. </p>\n\n<p>Here's the route:</p>\n\n<pre><code>@Component\npublic class TestRouteBuilder extends RouteBuilder{\n\n@Override\npublic void configure() throws Exception {\n    from(\"direct:testStart\")\n            .log(\"Log triggered.\")\n            .to(\"direct:testEnd\");\n}\n}\n</code></pre>\n\n<p>How can I use this route in a test?</p>\n\n<p>I'm using Camel with Spring Boot, so my first thought was to inject the route into the test, but that didn't seem to work. </p>\n\n<p>Any help appreciated, thanks. </p>\n",
        "codigo": [
            "@Component\npublic class TestRouteBuilder extends RouteBuilder{\n\n@Override\npublic void configure() throws Exception {\n    from(\"direct:testStart\")\n            .log(\"Log triggered.\")\n            .to(\"direct:testEnd\");\n}\n}\n"
        ]
    },
    {
        "titulo": "grails No tests found for given includes when integration test files anld unit test files both exist",
        "score": 1,
        "views": 1540,
        "respostas": 2,
        "tags": [
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/42685871/grails-no-tests-found-for-given-includes-when-integration-test-files-anld-unit-t",
        "conteudo_html": "<p>I got a strange problem for grails 3.2.6</p>\n\n<p>I create a integration test  and a unit test by grails command</p>\n\n<pre><code>src\n --integration-test\n  --groovy\n    --it\n      --test01\n\n --test\n  --groovy\n    --ut\n      --test02\n</code></pre>\n\n<p>When I run the integrationt-test test01, I got an error\n<strong><em>No tests found for given includes</em></strong></p>\n\n<p>If I delete ut.test02,\nI got a message says test passed.</p>\n\n<p>How to solve that?</p>\n",
        "codigo": [
            "src\n --integration-test\n  --groovy\n    --it\n      --test01\n\n --test\n  --groovy\n    --ut\n      --test02\n"
        ]
    },
    {
        "titulo": "Spring&#39;s @DirtiesContext leads to Hibernate exception",
        "score": 0,
        "views": 440,
        "respostas": 1,
        "tags": [
            "spring",
            "hibernate",
            "testing",
            "junit",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/40661097/springs-dirtiescontext-leads-to-hibernate-exception",
        "conteudo_html": "<p>I have a JUnit integration test which tests the stability of an Apache CXF webservice. The test inherits the <code>webserviceTestclient</code> which does a real webservice call to an endpoint. To simulate an error in the application, I mock an endpoint dependency to provoke an exception.</p>\n\n<p>The challenge here is: How to reset the endpoint's dependency or how to recreate Spring's application context so that subsequent tests will run their tests properly with a clean context and unmocked beans. My best approach so far:</p>\n\n<p><code>Versions used: Spring 3.2.3, Hibernate 4.2.5, Mockito 1.9.5</code></p>\n\n<p>Method to test:</p>\n\n<pre><code>@Override\npublic boolean foo() throws FooException\n{\n    try\n    {\n        return this.someService.foo();\n    }\n    catch (Exception exception)\n    {\n        throw this.convertToFooException(exception);\n    }\n}\n</code></pre>\n\n<p>JUnit test:</p>\n\n<pre><code>public class IntegrationTest extends WebserviceTestbase\n{\n    @InjectMocks\n    private ClassToTest classToTest;\n\n    @Mock\n    private SomeService someServiceMock;\n\n    @Test\n    @DirtiesContext\n    public void thisTestFails()\n    {\n        // given\n        when(this.someServiceMock.foo().thenThrow(new RuntimeException());\n\n        try\n        {\n            // when\n            this.webserviceTestclient.foo();\n\n            fail();\n        }\n        catch (FooException FooException)\n        {\n            // then test passed\n        }\n    }\n}\n</code></pre>\n\n<p>When I execute the test above the test fails and I get the following stacktrace:</p>\n\n<pre><code>org.springframework.transaction.TransactionSystemException: Could not roll back JPA transaction; nested exception is javax.persistence.PersistenceException: unexpected error when rollbacking\n    at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:543)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:846)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:823)\n    at org.springframework.test.context.transaction.TransactionalTestExecutionListener$TransactionContext.endTransaction(TransactionalTestExecutionListener.java:588)\n    at org.springframework.test.context.transaction.TransactionalTestExecutionListener.endTransaction(TransactionalTestExecutionListener.java:297)\n    at org.springframework.test.context.transaction.TransactionalTestExecutionListener.afterTestMethod(TransactionalTestExecutionListener.java:192)\n    at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:395)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:91)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\nCaused by: javax.persistence.PersistenceException: unexpected error when rollbacking\n    at org.hibernate.ejb.TransactionImpl.rollback(TransactionImpl.java:109)\n    at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:539)\n    ... 25 more\nCaused by: org.hibernate.service.UnknownServiceException: Unknown service requested [org.hibernate.stat.spi.StatisticsImplementor]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:126)\n    at org.hibernate.internal.SessionFactoryImpl.getStatisticsImplementor(SessionFactoryImpl.java:1480)\n    at org.hibernate.internal.SessionFactoryImpl.getStatistics(SessionFactoryImpl.java:1476)\n    at org.hibernate.engine.transaction.internal.TransactionCoordinatorImpl.afterTransaction(TransactionCoordinatorImpl.java:140)\n    at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.afterTransactionCompletion(JdbcTransaction.java:138)\n    at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.rollback(AbstractTransactionImpl.java:214)\n    at org.hibernate.ejb.TransactionImpl.rollback(TransactionImpl.java:106)\n    ... 26 more\n</code></pre>\n\n<p>Hope that anyone can help.</p>\n\n<p>Best regards!</p>\n",
        "codigo": [
            "webserviceTestclient",
            "Versions used: Spring 3.2.3, Hibernate 4.2.5, Mockito 1.9.5",
            "@Override\npublic boolean foo() throws FooException\n{\n    try\n    {\n        return this.someService.foo();\n    }\n    catch (Exception exception)\n    {\n        throw this.convertToFooException(exception);\n    }\n}\n",
            "public class IntegrationTest extends WebserviceTestbase\n{\n    @InjectMocks\n    private ClassToTest classToTest;\n\n    @Mock\n    private SomeService someServiceMock;\n\n    @Test\n    @DirtiesContext\n    public void thisTestFails()\n    {\n        // given\n        when(this.someServiceMock.foo().thenThrow(new RuntimeException());\n\n        try\n        {\n            // when\n            this.webserviceTestclient.foo();\n\n            fail();\n        }\n        catch (FooException FooException)\n        {\n            // then test passed\n        }\n    }\n}\n",
            "org.springframework.transaction.TransactionSystemException: Could not roll back JPA transaction; nested exception is javax.persistence.PersistenceException: unexpected error when rollbacking\n    at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:543)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:846)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:823)\n    at org.springframework.test.context.transaction.TransactionalTestExecutionListener$TransactionContext.endTransaction(TransactionalTestExecutionListener.java:588)\n    at org.springframework.test.context.transaction.TransactionalTestExecutionListener.endTransaction(TransactionalTestExecutionListener.java:297)\n    at org.springframework.test.context.transaction.TransactionalTestExecutionListener.afterTestMethod(TransactionalTestExecutionListener.java:192)\n    at org.springframework.test.context.TestContextManager.afterTestMethod(TestContextManager.java:395)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:91)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\nCaused by: javax.persistence.PersistenceException: unexpected error when rollbacking\n    at org.hibernate.ejb.TransactionImpl.rollback(TransactionImpl.java:109)\n    at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:539)\n    ... 25 more\nCaused by: org.hibernate.service.UnknownServiceException: Unknown service requested [org.hibernate.stat.spi.StatisticsImplementor]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:126)\n    at org.hibernate.internal.SessionFactoryImpl.getStatisticsImplementor(SessionFactoryImpl.java:1480)\n    at org.hibernate.internal.SessionFactoryImpl.getStatistics(SessionFactoryImpl.java:1476)\n    at org.hibernate.engine.transaction.internal.TransactionCoordinatorImpl.afterTransaction(TransactionCoordinatorImpl.java:140)\n    at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.afterTransactionCompletion(JdbcTransaction.java:138)\n    at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.rollback(AbstractTransactionImpl.java:214)\n    at org.hibernate.ejb.TransactionImpl.rollback(TransactionImpl.java:106)\n    ... 26 more\n"
        ]
    },
    {
        "titulo": "How to override application Bean in SpringBootTest",
        "score": 2,
        "views": 839,
        "respostas": 1,
        "tags": [
            "testing",
            "spring-boot",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/40556735/how-to-override-application-bean-in-springboottest",
        "conteudo_html": "<p>I'm writing an integration test for my Spring Boot web service and need to displace the injection of a Bean (it is actually a Kafka Consumer object in this case) with a test implementation. </p>\n\n<p>It used to be simple to provide an xml file to define an alternate bean implementation or configuration, but we are now using Spring Boot and Java based configuration with annotations. </p>\n\n<p>I've battled through the badly written Spring-Boot documentation and cannot get anything to work. The Spring documentation was written with the premise that the reader already knows everything there is to know about Spring Boot and so is practically useless. </p>\n\n<p>I'm sorry I don't have code to share because I've tried every potential solution and none of them work. I'm looking for a best practice solution example...</p>\n\n<p>UPDATE: I'm fairly sure I've found a bug in Spring. My efforts to override a bean for one test class were not being respected when the test class was run <em>after</em> a previous test class, despite the bean initializer method being called! I suspect the first bean was still being passed into the web application, despite it being restarted. </p>\n",
        "codigo": []
    },
    {
        "titulo": "Hybris commerce - synchronization integration test",
        "score": 1,
        "views": 1193,
        "respostas": 2,
        "tags": [
            "testing",
            "integration",
            "sap-commerce-cloud"
        ],
        "link": "https://stackoverflow.com/questions/39550546/hybris-commerce-synchronization-integration-test",
        "conteudo_html": "<p>I'm beginner in a hybris е-commerce. I need the integration test with synchronization product catalogs, but I have a problem while synchronization. I added new product attribute - \"<code>classification</code>\" and setup value for this attribute in test. Then <code>performCronJob</code> method did <code>syncJob</code> from <code>Staged</code> product catalog, to <code>Online</code> product catalog. Now, when got the product from <code>Online</code> catalog, it not have value for \"<code>classification</code>\" attribute and occur <code>AssertionError</code>. Tell me please, why this happens.  This is my test.</p>\n\n<pre><code>@RunWith(HybrisJUnit4ClassRunner.class)\n@RunListeners(\n{ TransactionRunListener.class, ItemCreationListener.class, LogRunListener.class, PlatformRunListener.class })\n@Transactional\npublic class ProductMyIntegrationTest extends ServicelayerTransactionalTest\n{\n    @Resource\n    private TypeService typeService;\n    @Resource\n    private ModelService modelService;\n    @Resource\n    private CatalogVersionService catalogVersionService;\n    @Resource\n    private ProductService productService;\n    @Resource\n    private CronJobService cronJobService;\n\n    public ProductService getProductService()\n    {\n        return productService;\n    }\n\n    public CatalogVersionService getCatalogVersionService()\n    {\n        return catalogVersionService;\n    }\n\n    public TypeService getTypeService()\n    {\n        return typeService;\n    }\n\n    public ModelService getModelService()\n    {\n        return modelService;\n    }\n\n    @Test\n    public void testProductSyncBehavior()\n    {\n        final CatalogVersionModel catalogStagedVersionModel = getCatalogVersionService().getCatalogVersion(\"hybrisProductCatalog\",\n                \"Staged\");\n        final CatalogVersionModel catalogOnlineVersionModel = getCatalogVersionService().getCatalogVersion(\"hybrisProductCatalog\",\n                \"Online\");\n        final Collection&lt;CatalogVersionModel&gt; coll = new ArrayList&lt;&gt;();\n        coll.add(catalogOnlineVersionModel);\n        coll.add(catalogStagedVersionModel);\n        catalogVersionService.setSessionCatalogVersions(coll);\n\n        final ProductModel product = productService.getProduct(catalogStagedVersionModel, \"0100\");\n        product.setClassification(\"RRRRRRR\");\n        getModelService().save(product);\n\n        cronJobService.performCronJob((CatalogVersionSyncCronJobModel) modelService.get(PK.fromLong(8796453503477L)), true);\n\n        final ProductModel prodOnline = modelService.get(productService.getProduct(catalogOnlineVersionModel, \"0100\").getPk());\n        final ProductModel prodStaged = modelService.get(productService.getProduct(catalogStagedVersionModel, \"0100\").getPk());\n        Assert.assertNotNull(prodOnline.getClassification());\n    }\n}\n</code></pre>\n\n<p>AssertionError: </p>\n\n<pre><code>java.lang.AssertionError\n    at org.junit.Assert.fail(Assert.java:86)\n    at org.junit.Assert.assertTrue(Assert.java:41)\n    at org.junit.Assert.assertNotNull(Assert.java:712)\n    at org.junit.Assert.assertNotNull(Assert.java:722)\n    at de.hybris.merchandise.core.product.classification.ProductMyIntegrationTest.testProductSyncBehavior(ProductMyIntegrationTest.java:91)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)...\n</code></pre>\n\n<p>Thank you very much.</p>\n",
        "codigo": [
            "classification",
            "performCronJob",
            "syncJob",
            "Staged",
            "Online",
            "Online",
            "classification",
            "AssertionError",
            "@RunWith(HybrisJUnit4ClassRunner.class)\n@RunListeners(\n{ TransactionRunListener.class, ItemCreationListener.class, LogRunListener.class, PlatformRunListener.class })\n@Transactional\npublic class ProductMyIntegrationTest extends ServicelayerTransactionalTest\n{\n    @Resource\n    private TypeService typeService;\n    @Resource\n    private ModelService modelService;\n    @Resource\n    private CatalogVersionService catalogVersionService;\n    @Resource\n    private ProductService productService;\n    @Resource\n    private CronJobService cronJobService;\n\n    public ProductService getProductService()\n    {\n        return productService;\n    }\n\n    public CatalogVersionService getCatalogVersionService()\n    {\n        return catalogVersionService;\n    }\n\n    public TypeService getTypeService()\n    {\n        return typeService;\n    }\n\n    public ModelService getModelService()\n    {\n        return modelService;\n    }\n\n    @Test\n    public void testProductSyncBehavior()\n    {\n        final CatalogVersionModel catalogStagedVersionModel = getCatalogVersionService().getCatalogVersion(\"hybrisProductCatalog\",\n                \"Staged\");\n        final CatalogVersionModel catalogOnlineVersionModel = getCatalogVersionService().getCatalogVersion(\"hybrisProductCatalog\",\n                \"Online\");\n        final Collection<CatalogVersionModel> coll = new ArrayList<>();\n        coll.add(catalogOnlineVersionModel);\n        coll.add(catalogStagedVersionModel);\n        catalogVersionService.setSessionCatalogVersions(coll);\n\n        final ProductModel product = productService.getProduct(catalogStagedVersionModel, \"0100\");\n        product.setClassification(\"RRRRRRR\");\n        getModelService().save(product);\n\n        cronJobService.performCronJob((CatalogVersionSyncCronJobModel) modelService.get(PK.fromLong(8796453503477L)), true);\n\n        final ProductModel prodOnline = modelService.get(productService.getProduct(catalogOnlineVersionModel, \"0100\").getPk());\n        final ProductModel prodStaged = modelService.get(productService.getProduct(catalogStagedVersionModel, \"0100\").getPk());\n        Assert.assertNotNull(prodOnline.getClassification());\n    }\n}\n",
            "java.lang.AssertionError\n    at org.junit.Assert.fail(Assert.java:86)\n    at org.junit.Assert.assertTrue(Assert.java:41)\n    at org.junit.Assert.assertNotNull(Assert.java:712)\n    at org.junit.Assert.assertNotNull(Assert.java:722)\n    at de.hybris.merchandise.core.product.classification.ProductMyIntegrationTest.testProductSyncBehavior(ProductMyIntegrationTest.java:91)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)...\n"
        ]
    },
    {
        "titulo": "How to measure Code Coverage of a RestFul API",
        "score": 3,
        "views": 3022,
        "respostas": 1,
        "tags": [
            "maven",
            "testing",
            "integration",
            "jacoco"
        ],
        "link": "https://stackoverflow.com/questions/39120353/how-to-measure-code-coverage-of-a-restful-api",
        "conteudo_html": "<p>I have a maven based multi-module Jersey project which exposes few RestFul API. Project Structure is like - </p>\n\n<p>Project </p>\n\n<ul>\n<li><p>Module1</p>\n\n<p>----------src</p>\n\n<p>--------- unit test</p></li>\n<li><p>Module2</p>\n\n<p>----------src</p>\n\n<p>--------- unit test</p></li>\n<li><p>Module3</p>\n\n<p>----------src</p>\n\n<p>--------- unit test</p></li>\n<li><p>ModuleN - <strong>this module contains Integration Tests which will hit endpoints exposed by project and test the whole service like a black box</strong></p>\n\n<p>----------src</p>\n\n<p>--------- unit test</p></li>\n</ul>\n\n<p>I want to build this project and execute unit tests in during build phase then create a jar, deploy this jar somewhere, execute integration tests (which is present in one module of project and this will hit the REST end points) then I wanted to measure combine coverage (unit+integration tests).</p>\n\n<p>I have gone though a lot of blogs and articles but everywhere we have half information. can someone point me or guide me how can I do it.</p>\n\n<p>Thanks\n-Shahid</p>\n",
        "codigo": []
    },
    {
        "titulo": "How to load a value from . properties file in Cucumber-jvm step class",
        "score": 8,
        "views": 14746,
        "respostas": 2,
        "tags": [
            "java",
            "spring",
            "testing",
            "integration",
            "cucumber-jvm"
        ],
        "link": "https://stackoverflow.com/questions/36936970/how-to-load-a-value-from-properties-file-in-cucumber-jvm-step-class",
        "conteudo_html": "<p>I have written a cucumber integration tests and it is running ok.</p>\n\n<p>And then i wanted some class variables from the step.java to get their values from .properties values</p>\n\n<pre><code>public class cucumberStepClass { \n    @Value(\"${value.from.propertiesfile}\")\n    private String variable\n//rest of integration test\n}\n</code></pre>\n\n<p>Does anyone know how can i inject those values so my test can use them?</p>\n",
        "codigo": [
            "public class cucumberStepClass { \n    @Value(\"${value.from.propertiesfile}\")\n    private String variable\n//rest of integration test\n}\n"
        ]
    },
    {
        "titulo": "Attempting to perform Integration Test with Spring Data JPA Repositories returns NullPointerException",
        "score": 2,
        "views": 3405,
        "respostas": 2,
        "tags": [
            "spring",
            "testing",
            "repository",
            "integration",
            "spring-data-jpa"
        ],
        "link": "https://stackoverflow.com/questions/36887569/attempting-to-perform-integration-test-with-spring-data-jpa-repositories-returns",
        "conteudo_html": "<p>I am trying to write integration tests for a Spring 4 MVC project. In the project I am using Spring Data JPA Repositories and Hibernate.</p>\n\n<p>Below are two files, the Integration Test itself and the Configuration for setting up my Persistence configuration.</p>\n\n<p><strong>PersistenceTestConfiguration.java</strong></p>\n\n<pre><code>package &lt;project&gt;.cms.rest.test.configuration;\n\nimport &lt;project&gt;.cms.rest.entity.EntityMarker;\nimport &lt;project&gt;.cms.rest.repository.RepositoryMarker;\nimport org.jasypt.encryption.pbe.StandardPBEStringEncryptor;\nimport org.jasypt.hibernate3.encryptor.HibernatePBEEncryptorRegistry;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabase;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseType;\nimport org.springframework.orm.hibernate4.HibernateExceptionTranslator;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.naming.NamingException;\nimport javax.persistence.EntityManagerFactory;\n\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackageClasses = {RepositoryMarker.class})\npublic class PersistenceTestConfiguration {\n\n    @Bean\n    public EntityManagerFactory entityManagerFactory() throws NamingException {\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        vendorAdapter.setGenerateDdl(false);\n        vendorAdapter.setShowSql(true);\n        LocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\n        factoryBean.setJpaVendorAdapter(vendorAdapter);\n        factoryBean.setPackagesToScan(EntityMarker.class.getPackage().getName());\n        factoryBean.setDataSource(dataSource());\n        factoryBean.afterPropertiesSet();\n        return factoryBean.getObject();\n    }\n\n    @Bean\n    public PlatformTransactionManager transactionManager() throws NamingException {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory());\n        return transactionManager;\n    }\n\n    @Bean\n    public HibernateExceptionTranslator exceptionTranslator() {\n        return new HibernateExceptionTranslator();\n    }\n\n    @Bean\n    public EmbeddedDatabase dataSource() {\n        EmbeddedDatabaseBuilder builder = new EmbeddedDatabaseBuilder();\n        return builder.setType(EmbeddedDatabaseType.H2).build();\n    }\n}\n</code></pre>\n\n<p>The issue I'm having is that although my PersistenceTestConfiguration class should be instantiating the appropriate Repositories - they are coming through into the service classes as null.</p>\n\n<p>If I manually @Mock the repositories in the Test Class then they are no longer null in the services, but will always return null on for example calling the .save(entity) method.</p>\n\n<p>I suspect I'm doing something obviously stupid but can't seem to figure it out.</p>\n\n<p>Any pointers in the right direction would be kindly appreciated.</p>\n\n<p>Edit 1:</p>\n\n<p><strong>Simplest Possible Test</strong></p>\n\n<pre><code>package &lt;project&gt;.cms.rest.test.service;\n\nimport &lt;project&gt;.cms.rest.resource.PostalAddressResource;\nimport &lt;project&gt;.cms.rest.service.PostalAddressService;\nimport &lt;project&gt;.cms.rest.service.impl.PostalAddressServiceImpl;\nimport &lt;project&gt;.cms.rest.test.configuration.PersistenceTestConfiguration;\nimport liquibase.Liquibase;\nimport liquibase.database.jvm.JdbcConnection;\nimport liquibase.exception.LiquibaseException;\nimport liquibase.resource.FileSystemResourceAccessor;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabase;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.TestExecutionListeners;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.context.support.AnnotationConfigContextLoader;\nimport org.springframework.transaction.annotation.Transactional;\nimport org.springframework.util.Assert;\n\nimport javax.inject.Inject;\nimport java.sql.Connection;\n\n@Transactional\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(loader = AnnotationConfigContextLoader.class, classes = { PersistenceTestConfiguration.class })\n@TestExecutionListeners(mergeMode = TestExecutionListeners.MergeMode.MERGE_WITH_DEFAULTS)\npublic class PostalAddressServiceIntegrationTest {\n\n    @InjectMocks\n    private PostalAddressService postalAddressService = new PostalAddressServiceImpl();\n\n    @Inject\n    private EmbeddedDatabase database;\n\n    @Before\n    public void setupDatabase() throws java.sql.SQLException, LiquibaseException {\n        MockitoAnnotations.initMocks(this);\n\n        Liquibase liquibase = new Liquibase(\n                \"src/liquibase/liquibase-master.xml\",\n                new FileSystemResourceAccessor(),\n                new JdbcConnection(database.getConnection())\n        );\n\n        liquibase.update(\"\");\n    }\n\n    @After\n    public void tearDown() throws java.sql.SQLException, LiquibaseException {\n        Connection connection = database.getConnection();\n        JdbcConnection liquibaseConnection = new JdbcConnection(connection);\n\n        Liquibase liquibase = new Liquibase(\n                \"src/liquibase/liquibase-master.xml\",\n                new FileSystemResourceAccessor(),\n                liquibaseConnection\n        );\n\n        liquibase.dropAll();\n    }\n\n    @Test\n    public void testAddNewPostalAddress() {\n        PostalAddressResource postalAddressResource = new PostalAddressResource();\n\n        postalAddressResource.setBuildingNameOrNumber(\"1\");\n        postalAddressResource.setFirstLine(\"Test Lane\");\n        postalAddressResource.setSecondLine(\"Testville\");\n        postalAddressResource.setCountry(\"Testshire\");\n        postalAddressResource.setPostCode(\"TE5 7ER\");\n        postalAddressResource.setCountry(\"United Kingdom\");\n\n        PostalAddressResource result = postalAddressService.createPostalAddress(postalAddressResource);\n\n        Assert.notNull(result);\n    }\n}\n</code></pre>\n\n<p><strong>Resulting Stack Trace</strong></p>\n\n<pre><code>java.lang.NullPointerException\n    at &lt;project&gt;.cms.rest.service.impl.PostalAddressServiceImpl.createPostalAddress(PostalAddressServiceImpl.java:66)\n    at &lt;project&gt;.cms.rest.test.service.PostalAddressServiceIntegrationTest.testAddNewPostalAddress(PostalAddressServiceIntegrationTest.java:78)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)\n    at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)\n    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)\n    at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)\n    at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)\n</code></pre>\n\n<p>Line 66 of PostalAddressServiceImpl is as follows:</p>\n\n<pre><code>} while(repository.countByPublicId(publicId) &gt; 0);\n</code></pre>\n\n<p>Edit 2:</p>\n\n<p>Creating a test that works directly with the Repository rather than via the Service works, having:</p>\n\n<pre><code>@Inject\nprivate PostalAddressRepository repository;\n</code></pre>\n\n<p>at the top behaves itself.</p>\n\n<p>So it seems to be when @InjectMocks is supposed to be wiring up the dependencies of the Service class that there is an issue, resulting in the repository being null.</p>\n",
        "codigo": [
            "package <project>.cms.rest.test.configuration;\n\nimport <project>.cms.rest.entity.EntityMarker;\nimport <project>.cms.rest.repository.RepositoryMarker;\nimport org.jasypt.encryption.pbe.StandardPBEStringEncryptor;\nimport org.jasypt.hibernate3.encryptor.HibernatePBEEncryptorRegistry;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabase;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseType;\nimport org.springframework.orm.hibernate4.HibernateExceptionTranslator;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.naming.NamingException;\nimport javax.persistence.EntityManagerFactory;\n\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackageClasses = {RepositoryMarker.class})\npublic class PersistenceTestConfiguration {\n\n    @Bean\n    public EntityManagerFactory entityManagerFactory() throws NamingException {\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        vendorAdapter.setGenerateDdl(false);\n        vendorAdapter.setShowSql(true);\n        LocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\n        factoryBean.setJpaVendorAdapter(vendorAdapter);\n        factoryBean.setPackagesToScan(EntityMarker.class.getPackage().getName());\n        factoryBean.setDataSource(dataSource());\n        factoryBean.afterPropertiesSet();\n        return factoryBean.getObject();\n    }\n\n    @Bean\n    public PlatformTransactionManager transactionManager() throws NamingException {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory());\n        return transactionManager;\n    }\n\n    @Bean\n    public HibernateExceptionTranslator exceptionTranslator() {\n        return new HibernateExceptionTranslator();\n    }\n\n    @Bean\n    public EmbeddedDatabase dataSource() {\n        EmbeddedDatabaseBuilder builder = new EmbeddedDatabaseBuilder();\n        return builder.setType(EmbeddedDatabaseType.H2).build();\n    }\n}\n",
            "package <project>.cms.rest.test.service;\n\nimport <project>.cms.rest.resource.PostalAddressResource;\nimport <project>.cms.rest.service.PostalAddressService;\nimport <project>.cms.rest.service.impl.PostalAddressServiceImpl;\nimport <project>.cms.rest.test.configuration.PersistenceTestConfiguration;\nimport liquibase.Liquibase;\nimport liquibase.database.jvm.JdbcConnection;\nimport liquibase.exception.LiquibaseException;\nimport liquibase.resource.FileSystemResourceAccessor;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabase;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.TestExecutionListeners;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.context.support.AnnotationConfigContextLoader;\nimport org.springframework.transaction.annotation.Transactional;\nimport org.springframework.util.Assert;\n\nimport javax.inject.Inject;\nimport java.sql.Connection;\n\n@Transactional\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(loader = AnnotationConfigContextLoader.class, classes = { PersistenceTestConfiguration.class })\n@TestExecutionListeners(mergeMode = TestExecutionListeners.MergeMode.MERGE_WITH_DEFAULTS)\npublic class PostalAddressServiceIntegrationTest {\n\n    @InjectMocks\n    private PostalAddressService postalAddressService = new PostalAddressServiceImpl();\n\n    @Inject\n    private EmbeddedDatabase database;\n\n    @Before\n    public void setupDatabase() throws java.sql.SQLException, LiquibaseException {\n        MockitoAnnotations.initMocks(this);\n\n        Liquibase liquibase = new Liquibase(\n                \"src/liquibase/liquibase-master.xml\",\n                new FileSystemResourceAccessor(),\n                new JdbcConnection(database.getConnection())\n        );\n\n        liquibase.update(\"\");\n    }\n\n    @After\n    public void tearDown() throws java.sql.SQLException, LiquibaseException {\n        Connection connection = database.getConnection();\n        JdbcConnection liquibaseConnection = new JdbcConnection(connection);\n\n        Liquibase liquibase = new Liquibase(\n                \"src/liquibase/liquibase-master.xml\",\n                new FileSystemResourceAccessor(),\n                liquibaseConnection\n        );\n\n        liquibase.dropAll();\n    }\n\n    @Test\n    public void testAddNewPostalAddress() {\n        PostalAddressResource postalAddressResource = new PostalAddressResource();\n\n        postalAddressResource.setBuildingNameOrNumber(\"1\");\n        postalAddressResource.setFirstLine(\"Test Lane\");\n        postalAddressResource.setSecondLine(\"Testville\");\n        postalAddressResource.setCountry(\"Testshire\");\n        postalAddressResource.setPostCode(\"TE5 7ER\");\n        postalAddressResource.setCountry(\"United Kingdom\");\n\n        PostalAddressResource result = postalAddressService.createPostalAddress(postalAddressResource);\n\n        Assert.notNull(result);\n    }\n}\n",
            "java.lang.NullPointerException\n    at <project>.cms.rest.service.impl.PostalAddressServiceImpl.createPostalAddress(PostalAddressServiceImpl.java:66)\n    at <project>.cms.rest.test.service.PostalAddressServiceIntegrationTest.testAddNewPostalAddress(PostalAddressServiceIntegrationTest.java:78)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)\n    at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)\n    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)\n    at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:175)\n    at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:107)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:68)\n",
            "} while(repository.countByPublicId(publicId) > 0);\n",
            "@Inject\nprivate PostalAddressRepository repository;\n"
        ]
    },
    {
        "titulo": "Maven OSGi integration/system test",
        "score": 0,
        "views": 269,
        "respostas": 1,
        "tags": [
            "testing",
            "osgi",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/36431418/maven-osgi-integration-system-test",
        "conteudo_html": "<p>I want maven to test if a built OSGi bundle could be installed and started successfully into an all-the-time running OSGi framework (Equinox). </p>\n\n<p>Building a valid OSGIi bundle using maven is already solved. Now, i want to make the described integration/system test. Investigations gave me the following approaches:</p>\n\n<ul>\n<li>autodeploy via Maven</li>\n<li>start + install of OSGi bundle via Felix File Install</li>\n<li>get results of bundle start via felix web console JSON API or..how easier?</li>\n<li>parse the result via shell-script and return result to maven. then, maven should eventually say \"BUILD FAILED\"</li>\n</ul>\n\n<p>or</p>\n\n<ul>\n<li>Using JUnit4OSGI</li>\n<li>Using Pax Exam</li>\n</ul>\n\n<p>What would you recommend and why?</p>\n\n<p>Regards\nDoe</p>\n",
        "codigo": []
    },
    {
        "titulo": "Run Server when Integration Testing with Gradle",
        "score": 4,
        "views": 1101,
        "respostas": 1,
        "tags": [
            "testing",
            "gradle",
            "integration",
            "kryonet"
        ],
        "link": "https://stackoverflow.com/questions/35700769/run-server-when-integration-testing-with-gradle",
        "conteudo_html": "<p>I've developed a client-server-architecture using Kryonet and Gradle with roughly the following structure</p>\n\n<ul>\n<li>Parent project X, containing projects A and B</li>\n<li>Project A (server)</li>\n<li>Project B (client), containing integration and unit test classes</li>\n</ul>\n\n<p>Now whenever I'm running the goal 'integrationTest' on project B (or project X, if that was easier), I'd like the server to get started in advance so that the integration tests won't fail.</p>\n\n<p>This is what I've got so far in the build.gradle of project B - it doesn't run the server, though:</p>\n\n<pre><code>task integrationTest(type: Test) {\n    testClassesDir = sourceSets.integrationTest.output.classesDir\n    classpath = sourceSets.integrationTest.runtimeClasspath\n    outputs.upToDateWhen { false }\n}\n</code></pre>\n",
        "codigo": [
            "task integrationTest(type: Test) {\n    testClassesDir = sourceSets.integrationTest.output.classesDir\n    classpath = sourceSets.integrationTest.runtimeClasspath\n    outputs.upToDateWhen { false }\n}\n"
        ]
    },
    {
        "titulo": "Passing parameters in integration test JAVA",
        "score": -1,
        "views": 731,
        "respostas": 1,
        "tags": [
            "java",
            "testing",
            "junit",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/35635304/passing-parameters-in-integration-test-java",
        "conteudo_html": "<p>I try to pass parameters in post request in integration test, but I get response that required parameter \"source\" aint detected. Maybe you will know what is cause. Thank you.</p>\n\n<pre><code>public void testUploadBundleFromRepository() throws IOException, InterruptedException {\n\n    String boundary = \"---------------\"+ UUID.randomUUID().toString();\n\n    String uri = String.format(\"http://%s:%d/upload/\", HOST, PORT);\n\n    HttpPost httpPost = new HttpPost(uri);\n    httpPost.setHeader(HTTP.CONTENT_TYPE, ContentType.MULTIPART_FORM_DATA.getMimeType()+\";boundary=\"+boundary);\n\n    List&lt;NameValuePair&gt; postParameters = new ArrayList&lt;&gt;();\n    postParameters.add(new BasicNameValuePair(\"source\",\"repo\"));\n    postParameters.add(new BasicNameValuePair(\"id\",\"1\"));\n    postParameters.add(new BasicNameValuePair(\"start\", \"true\"));\n    httpPost.setEntity(new UrlEncodedFormEntity(postParameters, \"UTF-8\"));\n\n    HttpResponse response = getHttpClient().execute(httpPost);\n\n    //assert in future\n}\n</code></pre>\n",
        "codigo": [
            "public void testUploadBundleFromRepository() throws IOException, InterruptedException {\n\n    String boundary = \"---------------\"+ UUID.randomUUID().toString();\n\n    String uri = String.format(\"http://%s:%d/upload/\", HOST, PORT);\n\n    HttpPost httpPost = new HttpPost(uri);\n    httpPost.setHeader(HTTP.CONTENT_TYPE, ContentType.MULTIPART_FORM_DATA.getMimeType()+\";boundary=\"+boundary);\n\n    List<NameValuePair> postParameters = new ArrayList<>();\n    postParameters.add(new BasicNameValuePair(\"source\",\"repo\"));\n    postParameters.add(new BasicNameValuePair(\"id\",\"1\"));\n    postParameters.add(new BasicNameValuePair(\"start\", \"true\"));\n    httpPost.setEntity(new UrlEncodedFormEntity(postParameters, \"UTF-8\"));\n\n    HttpResponse response = getHttpClient().execute(httpPost);\n\n    //assert in future\n}\n"
        ]
    },
    {
        "titulo": "Are all exceptions supressed in Rail integration tests?",
        "score": 0,
        "views": 87,
        "respostas": 1,
        "tags": [
            "ruby-on-rails",
            "testing",
            "internationalization",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/34090396/are-all-exceptions-supressed-in-rail-integration-tests",
        "conteudo_html": "<p>I've recently spotted a missing I18n translation in a Rails project, but I have enabled exceptions in the test environment so I would have expected to have found it during testing.  It seems that integration tests happily ignore exceptions, or perhaps I18n has chosen not to throw one.</p>\n\n<p>Is this just the way Rails works or is there some magic flag that I've somehow enabled?  I can create a unit test to repro the issue but since I already have an integration test that hits exactly the right code, it would be nice if I could use that.</p>\n",
        "codigo": []
    },
    {
        "titulo": "Testing integration between two systems",
        "score": 0,
        "views": 156,
        "respostas": 1,
        "tags": [
            "testing",
            "integration",
            "integration-testing"
        ],
        "link": "https://stackoverflow.com/questions/33760875/testing-integration-between-two-systems",
        "conteudo_html": "<p>I have two systems:</p>\n\n<ol>\n<li>REST web application which return data in xml</li>\n<li>Windows service which daily gets data from 1st web app and sync it wit its database.</li>\n</ol>\n\n<p>Question: how to make integration testing for this applications (check whether data is sunchronised corectly)? Is it possible to automate such testing?</p>\n",
        "codigo": []
    },
    {
        "titulo": "Yii2 testing environment guidelines for extension development",
        "score": 1,
        "views": 1102,
        "respostas": 2,
        "tags": [
            "php",
            "testing",
            "yii2",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/33455060/yii2-testing-environment-guidelines-for-extension-development",
        "conteudo_html": "<p>I am developing an Yii 2 public (MIT) extension to change some of the <code>yii\\web\\View</code> behaviours (minify, combine and many other optimizations).</p>\n\n<p>I can do it easily. But I really want to write as many tests (codeception) as possible for it. This is where I am very confused.</p>\n\n<p>I already have some <em>unit</em> tests (for example: testing a specific minifing, or returning combined minified result). But I would like to test the entire result and the final integration between my extension and the Yii2 web application using it.</p>\n\n<p>I just would like some guidelines for this process:</p>\n\n<ol>\n<li><p>Should I have a real (complete) app inside my extension for testing purposes? If so, should it be 'installed' inside tests dir?</p></li>\n<li><p>Would you use functional testing ? (I think so because the <code>View</code> will <em>find</em> files in <code>AssetBundles</code>, <em>combine</em> and <em>minify</em> them, publish the result as a single file and replace the assets' urls by new url (i.e., the optimized asset url) inside the view;</p></li>\n<li><p>Could you provide some very basic examples/guidelines?</p></li>\n</ol>\n\n<p>I just would like to <strong>highlight</strong> that I dont intend you do my testing job, I really want to <strong>learn</strong> how to do it. This is why I really would be very grateful for any tips.</p>\n\n<p>Thank you so much.</p>\n",
        "codigo": [
            "yii\\web\\View",
            "View",
            "AssetBundles"
        ]
    },
    {
        "titulo": "Fitnesse Test, defining environment variable for path in content.txt",
        "score": -1,
        "views": 1541,
        "respostas": 2,
        "tags": [
            "testing",
            "continuous-integration",
            "integration",
            "fitnesse"
        ],
        "link": "https://stackoverflow.com/questions/32594032/fitnesse-test-defining-environment-variable-for-path-in-content-txt",
        "conteudo_html": "<p>Does any one have idea, what if i want to define path with some environment variable in fitnesse setup via content.txt. </p>\n\n<p>At this moment we have content.txt checked in our repository containing the path variable of each and every developers environment. I want to resolve that problem by defining atleast a variable prefix with a standard path.</p>\n\n<p>Current path definitions like below: </p>\n\n<p>!path /home/xyz/workspace/blah/blah</p>\n\n<p>Want to change it to something like</p>\n\n<p>!path $workspace/blah/blah</p>\n\n<p>I tried using !define workspace {this/is/my/path}</p>\n\n<p>but it doesn't seems to be working and complains undefined variable workspace.</p>\n",
        "codigo": []
    },
    {
        "titulo": "How do I avoid Mocking the IEventAggregator when Integration Testing with c# and MVVM?",
        "score": 1,
        "views": 28,
        "respostas": 0,
        "tags": [
            "c#",
            "wcf",
            "testing",
            "mvvm",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/31858808/how-do-i-avoid-mocking-the-ieventaggregator-when-integration-testing-with-c-and",
        "conteudo_html": "<p>I am integration testing and I want to test without Mocking because I want an end to end to of the wcf service, database etc. My code is below and where I have a comment that says Mocking I need to know what to do instead of Mocking? This code runs but gives an error \"{\"Invalid URI: The hostname could not be parsed.\"}\". How can I fix that error? BTW I have seen a similar question but no accepted answer (I would not have accepted the answer on that question either).</p>\n\n<pre><code>namespace Optimal.SynTQ.Client.Shell.Services.Proxies.Tests\n{\n    /// &lt;summary&gt;\n    /// Summary description for MyProxyTests\n    /// &lt;/summary&gt;\n    [TestClass]\n    public class IntegrationTestMyClassProxy\n    {\n        #region Test Initialisation\n\n        private MyServiceModel _serviceModel;\n        private MyFilterServiceModel _filteredServiceModel;\n        //private IMyProxy _MyProxy;\n        private MyProxy _MyProxy;\n        private ProxyInvoker _proxyInvoker;\n        private int _counter;\n        private IEnumerable&lt;MyServiceModel&gt; _list;\n        private ImpersonationFactory _impersonationFactory;\n        private IUnityContainer _unityContainer;\n        private UnityContainer _unityCont;\n        private EndpointManager _endpointManager;\n        private IEventAggregator _eventAggregator;\n        private EventAggregator _eventAgg;\n        //private ILog _log;\n        private ILog _log = LogManager.GetLogger(typeof(IntegrationTestMyProxy));\n        //private Logging.SynTQLogger.Log _log;\n\n        PagedListServiceModel&lt;MyViewModel&gt; _mappedPolicies = null;\n\n        [TestInitialize]\n        public void Setup()\n        {\n            XmlConfigurator.Configure();\n            BasicConfigurator.Configure();\n\n            _endpointManager = new EndpointManager();\n            _eventAggregator = Substitute.For&lt;IEventAggregator&gt;();        //Mocking\n\n            //register unity container then resolve\n            _unityCont = new UnityContainer();\n            _unityCont.RegisterType&lt;MyProxy&gt;();\n\n            _impersonationFactory = new ImpersonationFactory(_unityCont);\n            _proxyInvoker = new ProxyInvoker(_impersonationFactory, _endpointManager, _unityCont, _eventAggregator, _log);\n\n            _unityCont.RegisterType&lt;ConfigurationStore, ConfigurationStore&gt;(new ContainerControlledLifetimeManager(), new InjectionConstructor(typeof(ITypeMapFactory), MapperRegistry.Mappers));\n            _unityCont.RegisterType&lt;IConfigurationProvider, ConfigurationStore&gt;();\n            _unityCont.RegisterType&lt;IConfiguration, ConfigurationStore&gt;();\n            _unityCont.RegisterType&lt;IMappingEngine, MappingEngine&gt;(new InjectionConstructor(typeof(IConfigurationProvider)));\n            _unityCont.RegisterType&lt;ITypeMapFactory, TypeMapFactory&gt;();\n\n            StaticMapper.CreateAutoMapperMappingsFromAttribute(Assembly.GetAssembly(typeof(MyViewModel)));\n        }\n\n        #endregion\n\n        [TestMethod]\n        public void TestAuditGetFilteredMyDefaultDates()\n        {\n            //Arrange\n            ConfigurationManager.AppSettings.Set(\"myServerPort\", \"808\");\n            ConfigurationManager.AppSettings.Set(\"myServerMachineName\", \"localhost\");\n            ConfigurationManager.AppSettings.Set(\"myServerMyAddress\", \"net.tcp://{0}:{1}/Blah.BlahBlah.MyServer.MyServices/MyService.svc\");\n            var request = Substitute.For&lt;ConfigurationRequest&gt;();\n\n            //Act\n            MyProxy _MyProxy = new MyProxy(_proxyInvoker);\n            MyViewModel MyViewModel = new MyViewModel(_MyProxy);\n\n            MyFilterServiceModel filter = Mapper.Map&lt;MyFilterServiceModel&gt;(MyViewModel);\n\n            var results = _MyProxy.GetFilteredMy(filter);\n        }\n    }\n}\n</code></pre>\n",
        "codigo": [
            "namespace Optimal.SynTQ.Client.Shell.Services.Proxies.Tests\n{\n    /// <summary>\n    /// Summary description for MyProxyTests\n    /// </summary>\n    [TestClass]\n    public class IntegrationTestMyClassProxy\n    {\n        #region Test Initialisation\n\n        private MyServiceModel _serviceModel;\n        private MyFilterServiceModel _filteredServiceModel;\n        //private IMyProxy _MyProxy;\n        private MyProxy _MyProxy;\n        private ProxyInvoker _proxyInvoker;\n        private int _counter;\n        private IEnumerable<MyServiceModel> _list;\n        private ImpersonationFactory _impersonationFactory;\n        private IUnityContainer _unityContainer;\n        private UnityContainer _unityCont;\n        private EndpointManager _endpointManager;\n        private IEventAggregator _eventAggregator;\n        private EventAggregator _eventAgg;\n        //private ILog _log;\n        private ILog _log = LogManager.GetLogger(typeof(IntegrationTestMyProxy));\n        //private Logging.SynTQLogger.Log _log;\n\n        PagedListServiceModel<MyViewModel> _mappedPolicies = null;\n\n        [TestInitialize]\n        public void Setup()\n        {\n            XmlConfigurator.Configure();\n            BasicConfigurator.Configure();\n\n            _endpointManager = new EndpointManager();\n            _eventAggregator = Substitute.For<IEventAggregator>();        //Mocking\n\n            //register unity container then resolve\n            _unityCont = new UnityContainer();\n            _unityCont.RegisterType<MyProxy>();\n\n            _impersonationFactory = new ImpersonationFactory(_unityCont);\n            _proxyInvoker = new ProxyInvoker(_impersonationFactory, _endpointManager, _unityCont, _eventAggregator, _log);\n\n            _unityCont.RegisterType<ConfigurationStore, ConfigurationStore>(new ContainerControlledLifetimeManager(), new InjectionConstructor(typeof(ITypeMapFactory), MapperRegistry.Mappers));\n            _unityCont.RegisterType<IConfigurationProvider, ConfigurationStore>();\n            _unityCont.RegisterType<IConfiguration, ConfigurationStore>();\n            _unityCont.RegisterType<IMappingEngine, MappingEngine>(new InjectionConstructor(typeof(IConfigurationProvider)));\n            _unityCont.RegisterType<ITypeMapFactory, TypeMapFactory>();\n\n            StaticMapper.CreateAutoMapperMappingsFromAttribute(Assembly.GetAssembly(typeof(MyViewModel)));\n        }\n\n        #endregion\n\n        [TestMethod]\n        public void TestAuditGetFilteredMyDefaultDates()\n        {\n            //Arrange\n            ConfigurationManager.AppSettings.Set(\"myServerPort\", \"808\");\n            ConfigurationManager.AppSettings.Set(\"myServerMachineName\", \"localhost\");\n            ConfigurationManager.AppSettings.Set(\"myServerMyAddress\", \"net.tcp://{0}:{1}/Blah.BlahBlah.MyServer.MyServices/MyService.svc\");\n            var request = Substitute.For<ConfigurationRequest>();\n\n            //Act\n            MyProxy _MyProxy = new MyProxy(_proxyInvoker);\n            MyViewModel MyViewModel = new MyViewModel(_MyProxy);\n\n            MyFilterServiceModel filter = Mapper.Map<MyFilterServiceModel>(MyViewModel);\n\n            var results = _MyProxy.GetFilteredMy(filter);\n        }\n    }\n}\n"
        ]
    },
    {
        "titulo": "Testing an async function with Jasmine in Meteor",
        "score": 2,
        "views": 614,
        "respostas": 1,
        "tags": [
            "javascript",
            "testing",
            "meteor",
            "jasmine",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/31714532/testing-an-async-function-with-jasmine-in-meteor",
        "conteudo_html": "<p>I have looked at several other questions related to this on Stackoverflow, but I still can't seem to solve my problem.  No matter what I seem to do, it seems that either Meteor.call doesn't get invoked, or if I can get it to be invoked (such as in the code sample below), no matter what the <code>jasmine.DEFAULT_TIMEOUT_INTERVAL</code> is set to, I continue to get the following error:</p>\n\n<p><code>Error: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.</code></p>\n\n<p>This is what my Jasmine test looks like:</p>\n\n<pre><code>it(\"Should be created and not assigned to anyone\", function(done) {\n    jasmine.DEFAULT_TIMEOUT_INTERVAL = 5000000;\n\n    // Confirm that the User Has Logged in\n    expect(Meteor.userId()).not.toBeNull();\n\n    var contact = null;\n    var text = \"This is a testing task\";\n    spyOn(Tasks, \"insert\");\n    spyOn(Meteor, \"call\");\n\n    Meteor.call('addTask', contact, text, function(error, result) {\n      expect(error).toBeUndefined();\n      expect(result).not.toBeNull();\n      done();\n    });\n\n    expect(Meteor.call).toHaveBeenCalled();\n\n  });\n\n});\n</code></pre>\n\n<p>And my addTask function looks like this:</p>\n\n<pre><code>Meteor.methods({\n\n  addTask: function (contact, text) {\n     ... // addTask Code, removed for brevity\n  },\n});\n</code></pre>\n\n<p>Iv been stuck on this for weeks, any help anyone can provide would be super helpful.</p>\n",
        "codigo": [
            "jasmine.DEFAULT_TIMEOUT_INTERVAL",
            "Error: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.",
            "it(\"Should be created and not assigned to anyone\", function(done) {\n    jasmine.DEFAULT_TIMEOUT_INTERVAL = 5000000;\n\n    // Confirm that the User Has Logged in\n    expect(Meteor.userId()).not.toBeNull();\n\n    var contact = null;\n    var text = \"This is a testing task\";\n    spyOn(Tasks, \"insert\");\n    spyOn(Meteor, \"call\");\n\n    Meteor.call('addTask', contact, text, function(error, result) {\n      expect(error).toBeUndefined();\n      expect(result).not.toBeNull();\n      done();\n    });\n\n    expect(Meteor.call).toHaveBeenCalled();\n\n  });\n\n});\n",
            "Meteor.methods({\n\n  addTask: function (contact, text) {\n     ... // addTask Code, removed for brevity\n  },\n});\n"
        ]
    },
    {
        "titulo": "Grails 3.0.3, Error running intrgration test using test-app",
        "score": 0,
        "views": 68,
        "respostas": 0,
        "tags": [
            "grails",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/31664283/grails-3-0-3-error-running-intrgration-test-using-test-app",
        "conteudo_html": "<p>I am using Grails 3.0.3, and added an integration test using create-integration-test and getting this error with both application.yml and application.groovy.</p>\n\n<pre><code>java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.BeanCreationException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by org.springframework.beans.factory.BeanCreationException\n                    Caused by: java.lang.NullPointerException\n</code></pre>\n\n<p>Can you please help? Basically I want to know how to do integration test with Grails 3.0.3?</p>\n",
        "codigo": [
            "java.lang.IllegalStateException\n        Caused by: org.springframework.beans.factory.BeanCreationException\n            Caused by: org.springframework.beans.factory.BeanCreationException\n                Caused by org.springframework.beans.factory.BeanCreationException\n                    Caused by: java.lang.NullPointerException\n"
        ]
    },
    {
        "titulo": "Good Alternative to PhantomJS for Integration ( E2E ) Testing",
        "score": 2,
        "views": 617,
        "respostas": 1,
        "tags": [
            "testing",
            "phantomjs",
            "integration",
            "headless-browser",
            "e2e-testing"
        ],
        "link": "https://stackoverflow.com/questions/31033654/good-alternative-to-phantomjs-for-integration-e2e-testing",
        "conteudo_html": "<p>I've been trying to use PhantomJS for headless browser testing, but there so many weird things going on. Any recommendations for alternatives?</p>\n",
        "codigo": []
    },
    {
        "titulo": "&quot;Could not find ApplicationContext, configure Grails correctly first&quot;",
        "score": 5,
        "views": 4278,
        "respostas": 1,
        "tags": [
            "grails",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/27900520/could-not-find-applicationcontext-configure-grails-correctly-first",
        "conteudo_html": "<p>We have a plugin project with some domain classes and services etc.\nWe have an application project which uses the plugin project.\nThis is a common pattern.\nIntegration test (which hit the DB) cant run in the plugin project, as it has no application context, so we run the integration tests in the main application project.</p>\n\n<p>We have a very simple integration test:</p>\n\n<pre><code>/*@TestFor(Site)*/\nclass SiteIntegrationSpec extends IntegrationSpec {\n    static transactional=false;\n    def setup() {\n    }\n    def cleanup() {\n    }\n    void \"test something\"() {\n        Site site\n\n        when:\n        site = Site.get(1L)\n\n        then:\n        site.name == \"root\"\n    }\n}\n</code></pre>\n\n<p>The site is just a domain object, similar to this:</p>\n\n<pre><code>class Site {\n    String name    \n    // some more fields here\n}\n</code></pre>\n\n<p>NOTE: tried it with TestFor(Site) un-commented also - same error.</p>\n\n<p>If I look in the DB, there are site entries there.</p>\n\n<p>OK, just found another clue.  SiteIntegrationSpec test used to work.  It worked before we added a second test, ParamIntegrationSpec.  If we run either of these tests on their own thusly:</p>\n\n<pre><code>test-app --stacktrace --verbose ParamIntegrationSpec\n</code></pre>\n\n<p>works</p>\n\n<pre><code>test-app --stacktrace --verbose SiteIntegrationSpec\n</code></pre>\n\n<p>works</p>\n\n<p>but if we run both of them:</p>\n\n<pre><code>test-app --stacktrace --verbose *IntegrationSpec\n</code></pre>\n\n<p>The SiteIntegrationSpec test always fails with the above exception.</p>\n\n<p>any ideas?</p>\n\n<p>Full stack trace: </p>\n\n<pre><code>java.lang.IllegalStateException: Could not find ApplicationContext, configure Grails correctly first\nat grails.util.Holders.getApplicationContext(Holders.java:97)\nat grails.test.spock.IntegrationSpec.$spock_initializeSharedFields(IntegrationSpec.groovy:41)\n</code></pre>\n\n<p>Note2:</p>\n\n<pre><code>test-app --stacktrace --verbose -integration\n</code></pre>\n\n<p>gives the same error on Site test.</p>\n",
        "codigo": [
            "/*@TestFor(Site)*/\nclass SiteIntegrationSpec extends IntegrationSpec {\n    static transactional=false;\n    def setup() {\n    }\n    def cleanup() {\n    }\n    void \"test something\"() {\n        Site site\n\n        when:\n        site = Site.get(1L)\n\n        then:\n        site.name == \"root\"\n    }\n}\n",
            "class Site {\n    String name    \n    // some more fields here\n}\n",
            "test-app --stacktrace --verbose ParamIntegrationSpec\n",
            "test-app --stacktrace --verbose SiteIntegrationSpec\n",
            "test-app --stacktrace --verbose *IntegrationSpec\n",
            "java.lang.IllegalStateException: Could not find ApplicationContext, configure Grails correctly first\nat grails.util.Holders.getApplicationContext(Holders.java:97)\nat grails.test.spock.IntegrationSpec.$spock_initializeSharedFields(IntegrationSpec.groovy:41)\n",
            "test-app --stacktrace --verbose -integration\n"
        ]
    },
    {
        "titulo": "How to start an embedded instance of gridgain in java",
        "score": 0,
        "views": 161,
        "respostas": 1,
        "tags": [
            "testing",
            "integration",
            "gridgain"
        ],
        "link": "https://stackoverflow.com/questions/27847187/how-to-start-an-embedded-instance-of-gridgain-in-java",
        "conteudo_html": "<p>Is there a way to start an embedded instance of Gridgain without having to run it manually? We are trying to write integration test but I don't see any easy way to start an instance in memory :) as a embedded instance</p>\n",
        "codigo": []
    },
    {
        "titulo": "scala sbt test run setup and cleanup command once on multi project",
        "score": 5,
        "views": 1069,
        "respostas": 1,
        "tags": [
            "scala",
            "testing",
            "sbt",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/27343397/scala-sbt-test-run-setup-and-cleanup-command-once-on-multi-project",
        "conteudo_html": "<p>I know I can add setup and cleanup code in sbt for the test phase by modifying the testOptions, e.g.:</p>\n\n<pre><code>  val embedMongoTestSettings: Seq[Setting[_]] = Seq(\n    testOptions in Test += Tests.Setup( () =&gt; createMongod()),\n    testOptions in Test += Tests.Cleanup( () =&gt; destroyMongod())\n  )\n</code></pre>\n\n<p>The problem I have is that this done on a per project basis and then done once for every project. So when I have a multi project set up, I fire up several databases in this case (which would work, but means I have to configure per project ports, etc.).</p>\n\n<p>Is there a way within sbt that makes sure that certain steps are only run <em>once</em> per any test phase, no matter if it is for multi projects, one project or a single test case?</p>\n\n<p>Only way I figure is to manage the concurrency myself in the setup and cleanup parts, so keep a global counter that checks if it is the first one started or last one torn down.</p>\n",
        "codigo": [
            "  val embedMongoTestSettings: Seq[Setting[_]] = Seq(\n    testOptions in Test += Tests.Setup( () => createMongod()),\n    testOptions in Test += Tests.Cleanup( () => destroyMongod())\n  )\n"
        ]
    },
    {
        "titulo": "CakePHP3 integration test and json data",
        "score": 1,
        "views": 823,
        "respostas": 1,
        "tags": [
            "json",
            "cakephp",
            "testing",
            "integration",
            "cakephp-3.0"
        ],
        "link": "https://stackoverflow.com/questions/27341920/cakephp3-integration-test-and-json-data",
        "conteudo_html": "<p>I want to test my restful controller consuming json data. The problem is that I am unable to send the data correctly.</p>\n\n<p>This is how I try to send the data:</p>\n\n<pre><code>$this-&gt;configRequest([\n    'headers' =&gt; [\n        'Accept' =&gt; 'application/json',\n        'Content-Type' =&gt; 'application/json'\n    ],\n]);\n\n$this-&gt;post('/api/users', \"{'username':'Iason','password':'test'}\");\n\ndebug($this-&gt;_response-&gt;body());\n</code></pre>\n\n<p>In my controller, I check the data:</p>\n\n<pre><code>if (empty($this-&gt;request-&gt;data)) {\n    throw new BadRequestException(\"No data\");\n}\n</code></pre>\n\n<p>The check fails and I get back the error.</p>\n\n<p>If I test my API using Postman, everything works fine. If I try to send the data as an array (which is shown in the manual <a href=\"http://book.cakephp.org/3.0/en/development/testing.html#controller-integration-testing\" rel=\"nofollow\">http://book.cakephp.org/3.0/en/development/testing.html#controller-integration-testing</a>), I don't have any request data in controller either.\nI have no idea what I'm doing wrong.</p>\n",
        "codigo": [
            "$this->configRequest([\n    'headers' => [\n        'Accept' => 'application/json',\n        'Content-Type' => 'application/json'\n    ],\n]);\n\n$this->post('/api/users', \"{'username':'Iason','password':'test'}\");\n\ndebug($this->_response->body());\n",
            "if (empty($this->request->data)) {\n    throw new BadRequestException(\"No data\");\n}\n"
        ]
    },
    {
        "titulo": "Conditional run of integration tests in maven",
        "score": 1,
        "views": 3102,
        "respostas": 4,
        "tags": [
            "maven",
            "testing",
            "conditional-statements",
            "integration",
            "teamcity-8.0"
        ],
        "link": "https://stackoverflow.com/questions/26123317/conditional-run-of-integration-tests-in-maven",
        "conteudo_html": "<p>I have a module in my Java project with multiple integration tests. Two of them are UpgradeDatabase.java and CreateDatabase.java which are currently executed at each run in the pre-integration phase. \nI want to schedule these to run only once in a while (let's say monthly) because they take too long to execute (many DBs are created, etc.), How can I achieve this ? \nMy failsafe plugin configuration looks like this (note, the skip.selenium.tests parameter is false):</p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;forkMode&gt;${tests.forkMode}&lt;/forkMode&gt;\n                &lt;skip&gt;${skip.selenium.tests}&lt;/skip&gt;\n                &lt;environmentVariables&gt;\n                    ...this area skipped...as it's non important\n                &lt;/environmentVariables&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;!--&lt;rc.count.firefox&gt;${rc.count.firefox}&lt;/rc.count.firefox&gt;--&gt;\n                    &lt;selenium.browser&gt;firefox&lt;/selenium.browser&gt;\n                    &lt;user.home&gt;${env.USERPROFILE}&lt;/user.home&gt;\n                &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n\n            &lt;executions&gt;\n                &lt;!--before the tests--&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;upgrade-the-database&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;**/UpgradeDatabase.java&lt;/include&gt;\n                        &lt;/includes&gt;\n                    &lt;/configuration&gt;\n                    &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;goal&gt;verify&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;!--before the tests--&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;recreate-the-database&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;**/CreateDatabase.java&lt;/include&gt;\n                        &lt;/includes&gt;\n                    &lt;/configuration&gt;\n                    &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;goal&gt;verify&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n",
        "codigo": [
            "<plugin>\n            <artifactId>maven-failsafe-plugin</artifactId>\n            <configuration>\n                <forkMode>${tests.forkMode}</forkMode>\n                <skip>${skip.selenium.tests}</skip>\n                <environmentVariables>\n                    ...this area skipped...as it's non important\n                </environmentVariables>\n                <systemPropertyVariables>\n                    <!--<rc.count.firefox>${rc.count.firefox}</rc.count.firefox>-->\n                    <selenium.browser>firefox</selenium.browser>\n                    <user.home>${env.USERPROFILE}</user.home>\n                </systemPropertyVariables>\n            </configuration>\n\n            <executions>\n                <!--before the tests-->\n                <execution>\n                    <id>upgrade-the-database</id>\n                    <configuration>\n                        <includes>\n                            <include>**/UpgradeDatabase.java</include>\n                        </includes>\n                    </configuration>\n                    <phase>pre-integration-test</phase>\n                    <goals>\n                        <goal>integration-test</goal>\n                        <goal>verify</goal>\n                    </goals>\n                </execution>\n                <!--before the tests-->\n                <execution>\n                    <id>recreate-the-database</id>\n                    <configuration>\n                        <testFailureIgnore>false</testFailureIgnore>\n                        <includes>\n                            <include>**/CreateDatabase.java</include>\n                        </includes>\n                    </configuration>\n                    <phase>pre-integration-test</phase>\n                    <goals>\n                        <goal>integration-test</goal>\n                        <goal>verify</goal>\n                    </goals>\n                </execution>\n\n            </executions>\n        </plugin>\n"
        ]
    },
    {
        "titulo": "Xcode test navigator stuck on spinner using KIF tests",
        "score": 1,
        "views": 264,
        "respostas": 1,
        "tags": [
            "ios",
            "xcode",
            "testing",
            "integration",
            "kif"
        ],
        "link": "https://stackoverflow.com/questions/25411890/xcode-test-navigator-stuck-on-spinner-using-kif-tests",
        "conteudo_html": "<p>I am writing integration tests for my iOS app using KIF with the latest Xcode 5.  When I run a test, a suite of tests, or all of them, the tests pass with no errors according to the console log, but the test navigator either takes many minutes to show the green pass icon for simple tests like Login, or keeps the spinner running indefinitely. I frequently have to Force Quit Xcode in order to clear the test results. I see this both on the simulator and the device.</p>\n\n<p>I have tried using [tester waitForTimeInterval:3.0]; at the end of each test to no avail.</p>\n\n<p>I have not found any discussions or solutions in all my searches, so I'm hoping to get some answers on this one.  </p>\n\n<p>Thanks in advance.</p>\n",
        "codigo": []
    },
    {
        "titulo": "How to configure output report for thucydides&amp;jira plugin?",
        "score": 1,
        "views": 436,
        "respostas": 1,
        "tags": [
            "testing",
            "integration",
            "jira",
            "thucydides"
        ],
        "link": "https://stackoverflow.com/questions/25303799/how-to-configure-output-report-for-thucydidesjira-plugin",
        "conteudo_html": "<p>I'm trying to integrate thucydides with jira, using thucydides-jira-plugin 0.9.262.\nI want to get list of user stories (we have no epics in jira workflow) from jira to my thucydides report (like <a href=\"http://thucydides-webtests.com/2014/07/10/bdd-requirements-management-with-jbehave-thucydides-and-jira-part-1/\" rel=\"nofollow\">here</a> - feature covereing section) but failed. \nI have configurated thucydides.properties with default values</p>\n\n<pre><code>jira.url=http://jira.test.ru    \njira.project=test    \njira.username=testuser   \njira.password=testpassword     \n</code></pre>\n\n<p>Links form report to jira works fine.</p>\n\n<p>In log I see these:</p>\n\n<pre><code>[INFO] Reading requirements from net.thucydides.plugins.jira.requirements.JIRARequirementsProvider@342ee097\n[INFO] Loading root requirements: issuetype = epic and project=test\n[INFO] Requirements found:[]\n[INFO] Generating release reports for: []\n</code></pre>\n\n<p>Is there any way to change issuetype for root requirements?\nMay be extended manual for integrating thucydides with jira somewhere exists?</p>\n",
        "codigo": [
            "jira.url=http://jira.test.ru    \njira.project=test    \njira.username=testuser   \njira.password=testpassword     \n",
            "[INFO] Reading requirements from net.thucydides.plugins.jira.requirements.JIRARequirementsProvider@342ee097\n[INFO] Loading root requirements: issuetype = epic and project=test\n[INFO] Requirements found:[]\n[INFO] Generating release reports for: []\n"
        ]
    },
    {
        "titulo": "Run automated tests on a schedule to server as health check",
        "score": 0,
        "views": 5810,
        "respostas": 2,
        "tags": [
            "testing",
            "selenium",
            "build",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/24741528/run-automated-tests-on-a-schedule-to-server-as-health-check",
        "conteudo_html": "<p>I was tasked with creating a health check for our production site. It is a .NET MVC web application. There are a lot of dependencies and therefore points of failure e.g. a document repository, Java Web services, Site Minder policy server etc. </p>\n\n<p>Management wants us to be the first to know if ever any point fails. Currently we are playing catch up if a problem arises, because it is the the client that informs us. I have written a suite of simple Selenium WebDriver based integration tests that test the sign in and a few light  operations e.g. retrieving documents via the document api. I am happy with the result but need to be able to run them on a loop and notify IT when any fails.</p>\n\n<p>We have a TFS build server but I'm not sure if it is the right tool for the job. I don't want to continuously build the tests, just run them. Also it looks like I can't define a build schedule more frequently than on a daily basis. </p>\n\n<p>I would appreciate any ideas on how best achieve this. Thanks in advance</p>\n",
        "codigo": []
    },
    {
        "titulo": "Enterprise integration testing fixture setup",
        "score": 0,
        "views": 553,
        "respostas": 1,
        "tags": [
            "java",
            "testing",
            "integration",
            "integration-testing"
        ],
        "link": "https://stackoverflow.com/questions/21219955/enterprise-integration-testing-fixture-setup",
        "conteudo_html": "<p>I am trying to test a component in a new online shopping system written using \"enterprise integration patterns (EIP)\". The component observes customers’ shopping behaviour and makes suggestions along the way.</p>\n\n<p>The way EIP works allows such component to be written easily, but I am having extreme difficulties setting up test fixtures for this component. In this system, much of the data have some logical connection which each other, which requires them to be varied together. This translates to tests with hundreds lines of setup, which is not maintainable.</p>\n\n<h2>I am now evaluating three solutions:</h2>\n\n<p><code>1.</code> Create our own builders for all messages and response objects:</p>\n\n<p>Purpose:\n* Insulates the tests from some changes.\n* Allows better fixture code reuse. (Can set some defaults in the builders.)</p>\n\n<p>Pros/cons: </p>\n\n<p>Each test will still require a significant amount of code to setup, but is largely future-proof. Data consistency is entirely up to the programmer.</p>\n\n<p><code>2.</code> Connected builders:</p>\n\n<p>Basically add some methods to the builders from solution 1 to fill fields of each other. For example, there may be methods on the order builder to generate the search and page view histories.</p>\n\n<p>Purpose:\n* Further reduces the amount of fixture setup in each test\n* Improves the consistency of fixtures</p>\n\n<p>Pros/cons:</p>\n\n<p>The builders are highly complex and may become maintenance issues of their own.</p>\n\n<p><code>3.</code> Emulate interactions with real services</p>\n\n<p>Purpose: similar to solution 2</p>\n\n<p>Pros:\n* The data will be more real and consistent\n* Easier to setup elaborate tests data (e.g. page view history)</p>\n\n<p>Cons:\n* Very complex and highly externally dependent\n* The code used to describe/carry out the emulated actions may be just as long\n* Slow to run</p>\n\n<p><code>4.</code> Locally (re-)implemented services</p>\n\n<p>Purpose:</p>\n\n<ul>\n<li>Solves the external dependency in solution 3 by re-implementing simple versions of the services locally</li>\n<li>Reduce the number of test code required (compared to solution 3) by extrapolating actions from the end results (see solution 2)</li>\n</ul>\n\n<p>Pros/cons:\n* Much more reliable than solution 3, but requires a lot of implementation</p>\n\n<h2>My question:</h2>\n\n<p>Any better solutions? If not, which one would you have chosen? Also, would you have chosen differently if the method chosen here will be applied to all other services in the future?</p>\n",
        "codigo": [
            "1.",
            "2.",
            "3.",
            "4."
        ]
    },
    {
        "titulo": "AngularJS Protractor Tests - should E2E tests have fixtures?",
        "score": 8,
        "views": 2556,
        "respostas": 4,
        "tags": [
            "angularjs",
            "testing",
            "integration",
            "protractor"
        ],
        "link": "https://stackoverflow.com/questions/20749741/angularjs-protractor-tests-should-e2e-tests-have-fixtures",
        "conteudo_html": "<p>There are ton of questions asking how to mock http responses in protractor tests.  How to do this is not the question, should we do this is the question.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Test_fixture#Software\">http://en.wikipedia.org/wiki/Test_fixture#Software</a></p>\n\n<p>I've been a QA Engineer for over 4 years, and most of my automated test experience deals with both low level (unit) tests of controllers, models, etc and high level (integration) tests of full systems.  In my ruby world experience, we used Capybara for integration tests along with blueprint and factorygirl (for different projects) to create mock database entries.  This was our integration/E2E testing.</p>\n\n<p>I've only recently moved to a javascript team using AngularJS.  The original built-in testing framework (now deprecated) had a mock Backend module which seemed suitable for our needs. Protractor is now the standard.  Only after protractor gained steamed, have I heard the backlash of using fixtures for E2E testing.  Many posts are pointing out that E2E testing should be testing the full stack, so any backends should not be mocked and be accessible. </p>\n\n<p><strong>Should integration tests use fixtures, and why?</strong> </p>\n",
        "codigo": []
    },
    {
        "titulo": "mvn eclipse:eclipse : Adding integration sources",
        "score": 1,
        "views": 49,
        "respostas": 0,
        "tags": [
            "eclipse",
            "maven",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/20485112/mvn-eclipseeclipse-adding-integration-sources",
        "conteudo_html": "<p><code>mvn eclipse:eclipse</code> automagically has always added <code>src/test/java</code> and <code>src/main/java</code> to my Eclipse projects, however, it doesn't appear to do the same with <code>src/integration-test/java</code>.  </p>\n\n<p>How can I get it to also add in my integration tests to my Eclipse project? </p>\n",
        "codigo": [
            "mvn eclipse:eclipse",
            "src/test/java",
            "src/main/java",
            "src/integration-test/java"
        ]
    },
    {
        "titulo": "xUnit.net how can I specify a timeout how long a test should maximum need",
        "score": 22,
        "views": 19492,
        "respostas": 4,
        "tags": [
            "c#",
            "testing",
            "continuous-integration",
            "integration",
            "xunit.net"
        ],
        "link": "https://stackoverflow.com/questions/20282111/xunit-net-how-can-i-specify-a-timeout-how-long-a-test-should-maximum-need",
        "conteudo_html": "<p>I have integration tests set up with xUnit.net. </p>\n\n<p>Is there a way to configure how long an integration test should last maximum? I mean a threshold.</p>\n",
        "codigo": []
    },
    {
        "titulo": "Gemini and SpiraTest Interaction",
        "score": 1,
        "views": 141,
        "respostas": 1,
        "tags": [
            "testing",
            "integration",
            "release",
            "countersoft-gemini"
        ],
        "link": "https://stackoverflow.com/questions/19930074/gemini-and-spiratest-interaction",
        "conteudo_html": "<p>Is there functionality or an Add-on available that allows Gemini and SpiraTest to communicate with one another?  For example, I have software development and releases managed through Gemini, but my testing handled through SpiraTest and I would like to hook the two systems up to one another, is this possible with an out-the-box solution?</p>\n",
        "codigo": []
    },
    {
        "titulo": "myBatis unable to openSession, selenium integration and myBatis",
        "score": 0,
        "views": 1440,
        "respostas": 1,
        "tags": [
            "java",
            "testing",
            "selenium",
            "integration",
            "mybatis"
        ],
        "link": "https://stackoverflow.com/questions/19693898/mybatis-unable-to-opensession-selenium-integration-and-mybatis",
        "conteudo_html": "<p>Here is sample code for the @beforeTest method:</p>\n\n<pre><code>String resource = \"mybatis-config.xml\";\nInputStream inputStream = Resources.getResourceAsStream(resource);\nSqlSessionFactory sqlSessionFactory = new ( SqlSessionFactoryBuilder().build(inputStream);\nSqlSession session = sqlSessionFactory.openSession();  \nhere couldnot open the  connection    \n\nand the output testing under testNG is:\nFAILED CONFIGURATION: @BeforeTest setupPermission\norg.apache.ibatis.exceptions.PersistenceException:  \nError opening session.  Cause: java.lang.NullPointerException  \nCause: java.lang.NullPointerException  \n------------------------------------------------------  \n</code></pre>\n\n<p>I want to use Connection, but not sure what kind of Connection myBatis is using in the code below:</p>\n\n<pre><code>SqlSession session = sqlSessionFactory.openSession(Connection con);\n</code></pre>\n",
        "codigo": [
            "String resource = \"mybatis-config.xml\";\nInputStream inputStream = Resources.getResourceAsStream(resource);\nSqlSessionFactory sqlSessionFactory = new ( SqlSessionFactoryBuilder().build(inputStream);\nSqlSession session = sqlSessionFactory.openSession();  \nhere couldnot open the  connection    \n\nand the output testing under testNG is:\nFAILED CONFIGURATION: @BeforeTest setupPermission\norg.apache.ibatis.exceptions.PersistenceException:  \nError opening session.  Cause: java.lang.NullPointerException  \nCause: java.lang.NullPointerException  \n------------------------------------------------------  \n",
            "SqlSession session = sqlSessionFactory.openSession(Connection con);\n"
        ]
    },
    {
        "titulo": "SonarQube - integrationTest.exec - sonarRunner (Gradle) or &quot;sonar-runner&quot; command - showing 0.0% covereage",
        "score": 6,
        "views": 4330,
        "respostas": 1,
        "tags": [
            "testing",
            "integration",
            "code-coverage",
            "sonarqube",
            "jacoco"
        ],
        "link": "https://stackoverflow.com/questions/19395182/sonarqube-integrationtest-exec-sonarrunner-gradle-or-sonar-runner-comman",
        "conteudo_html": "<p>I'm successfully generating 2 .exec files by Jacoco within \"build/jacoco\" folder after running a Gradle based build and integration tests.</p>\n\n<p>Gradle command: \n\"gradle clean build integrationTest\"</p>\n\n<p>Once done, it generates the following .exec files under build/jacoco folder.</p>\n\n<ol>\n<li>test.exec</li>\n<li>integrationTest.exec</li>\n</ol>\n\n<p>Following is my sonar-project.properties file. When, I run \"sonar-runner\" from Linux prompt it completes but on SonarQube dashboard for this project, I see Unit test says some 34.5% but integration tests says 0.0%. Both .exec files have valid size. I also did \"cat\" on the .exec files and piped the output to \"strings\" command in Linux and saw that integrationTest.exec did hit the Tests functions - I have only 1 .java file. </p>\n\n<p>When I run \"gradle clean build integrationTest sonarRunner -Dxxx.xxx=yyy -Dyyy.xx=zzz\" i.e. by passing all the sonar variable as mentioned in the sonar-project.properties file using -D option, it works but same result on SonarQube project's dashboard. Project's sonar dashboard has both widgets configured for Unit / Integration Tests and I'm including IT tests for showing Overall coverage. Overall coverage is showing 34.5% (which is Unit test % value). Sonar does see test.exec, integrationTest.exec and also auto generates overall-xxx.exec file as well during this operation.</p>\n\n<p><strong>NOTE:</strong> I'm no where - while starting tomcat on a separate putty / linux console -OR within Gradle build script, providing any value or setting JAVA Agent for Jacoco. I'm getting integrationTest.exec file and test.exec file already so not sure if JVM needs to be stopped once IT tests are complete running. I don't think I need those as i have valid file size for .exec files.</p>\n\n<p><strong>My ?:</strong>\n- Why sonar is not getting IT coverage on the dashboard even though I'm setting / passing the following variable correctly: </p>\n\n<pre><code>sonar.jacoco.itReportPath=build/jacoco/integrationTest.exec\n</code></pre>\n\n<p>-bash-3.2$ <strong>cat sonar-project.properties</strong></p>\n\n<pre><code># Root project information\nsonar.projectKey=com:company:product:ProjectA\nsonar.projectName=ProjectA\nsonar.projectVersion=1.0\n# optional description\nsonar.projectDescription=ProjectA Service\n\n#Tells SonarQube that the code coverage tool by unit tests is JaCoCo\nsonar.java.coveragePlugin=jacoco\n\n#Tells SonarQube to reuse existing reports for unit tests execution and coverage reports\nsonar.dynamicAnalysis=reuseReports\n\n# Some properties that will be inherited by the modules\nsonar.sources=src/java,test/java,src/java-test\n\n# Sonar Unit Test Report path\nsonar.jacoco.reportPath=build/jacoco/test.exec\n\n# Sonar Integration Test Report Path\nsonar.jacoco.itReportPath=build/jacoco/integrationTest.exec\n\nsonar.junit.reportsPath=build/UT/results\n\n# Sonar Binaries\nsonar.binaries=build/classes/main\n</code></pre>\n",
        "codigo": [
            "sonar.jacoco.itReportPath=build/jacoco/integrationTest.exec\n",
            "# Root project information\nsonar.projectKey=com:company:product:ProjectA\nsonar.projectName=ProjectA\nsonar.projectVersion=1.0\n# optional description\nsonar.projectDescription=ProjectA Service\n\n#Tells SonarQube that the code coverage tool by unit tests is JaCoCo\nsonar.java.coveragePlugin=jacoco\n\n#Tells SonarQube to reuse existing reports for unit tests execution and coverage reports\nsonar.dynamicAnalysis=reuseReports\n\n# Some properties that will be inherited by the modules\nsonar.sources=src/java,test/java,src/java-test\n\n# Sonar Unit Test Report path\nsonar.jacoco.reportPath=build/jacoco/test.exec\n\n# Sonar Integration Test Report Path\nsonar.jacoco.itReportPath=build/jacoco/integrationTest.exec\n\nsonar.junit.reportsPath=build/UT/results\n\n# Sonar Binaries\nsonar.binaries=build/classes/main\n"
        ]
    },
    {
        "titulo": "How to make multiple requests with different data in Grails Integration tests",
        "score": 9,
        "views": 1977,
        "respostas": 3,
        "tags": [
            "testing",
            "grails",
            "integration",
            "spock"
        ],
        "link": "https://stackoverflow.com/questions/18762871/how-to-make-multiple-requests-with-different-data-in-grails-integration-tests",
        "conteudo_html": "<p>I'm writing a Grails 2.2.1 integration test using the Spock plugin, in which I am trying to post two sets of data to the same controller endpoint:</p>\n\n<pre><code>when: \"The user adds this product to the inventory\"\ndef postData = [productId: 123]\ncontroller.request.JSON = postData\ncontroller.addToInventory()\n\nand: \"Then they add another\"\ndef secondPostData = [productId: 456]\ncontroller.request.JSON = secondPostData\ncontroller.addToInventory()\n\nthen: \"The size of the inventory should be 2\"\nnew JSONObject( controller.response.contentAsString ).inventorySize == 2\n</code></pre>\n\n<p>The problem I am seeing is that the same JSON is submitted to addToInventory() for both requests. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/5344213/how-to-make-two-posts-with-different-contents-in-grailsintegrationtesting\">This StackOverflow question</a> suggests calling controller.request.reset(), but this did not work (No signature of method: org.codehaus.groovy.grails.plugins.testing.GrailsMockHttpServletRequest.reset()).</p>\n\n<p>Is what I am attempting possible?</p>\n",
        "codigo": [
            "when: \"The user adds this product to the inventory\"\ndef postData = [productId: 123]\ncontroller.request.JSON = postData\ncontroller.addToInventory()\n\nand: \"Then they add another\"\ndef secondPostData = [productId: 456]\ncontroller.request.JSON = secondPostData\ncontroller.addToInventory()\n\nthen: \"The size of the inventory should be 2\"\nnew JSONObject( controller.response.contentAsString ).inventorySize == 2\n"
        ]
    },
    {
        "titulo": "Finding multiple elements",
        "score": 7,
        "views": 7654,
        "respostas": 1,
        "tags": [
            "javascript",
            "testing",
            "selenium",
            "selenium-webdriver",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/18677516/finding-multiple-elements",
        "conteudo_html": "<p>I can't seem to figure out the best way to find multiple elements on a page.</p>\n\n<p>It always finds one but what if I'm testing to see how many particular elements are present after some kind of action?</p>\n\n<pre><code>findElement() // always returns 1 element\nfindElements(By.className('someClass')) // always returns 1 element\n</code></pre>\n",
        "codigo": [
            "findElement() // always returns 1 element\nfindElements(By.className('someClass')) // always returns 1 element\n"
        ]
    },
    {
        "titulo": "how to access session in integration test in grails?",
        "score": 1,
        "views": 1044,
        "respostas": 1,
        "tags": [
            "testing",
            "grails",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/18228604/how-to-access-session-in-integration-test-in-grails",
        "conteudo_html": "<p>In my project, i set session.loggedInUser in login controller. But during integration test , we dont use login controller. So i have set value for session.loggedInUser. But i couldn't use session in that place. How can i use session in integration Test. Give some solution for this. thank you in advance</p>\n\n<pre><code>class MaritalStatusIntegrationTests {\n\n    @Test\n    void testCategoryAudit() {\n\n        RequestContextHolder.currentRequestAttributes().session.loggedInUser=\"Anantha\"\n            def category = new Category(name:\"Single\")\n\n        category.save(flush:true)\n        assert CategoryAudit.count() == 1\n\n        category.name=\"Married\"\n        category.save(flush:true)\n        assert CategoryAudit.count() == 2\n    }\n}\n</code></pre>\n\n<p>Category.groovy:</p>\n\n<pre><code>class Category {\n    static constraints = {\n        name blank:false\n    }\n    String name\n\n    //Auditing\n    static auditable = false\n    def onSave = {\n        new CategoryAudit(this,'Insert').save(failOnError:true)\n    }\n}\n</code></pre>\n\n<p>CategoryAudit.groovy:</p>\n\n<pre><code>import org.springframework.web.context.request.RequestContextHolder\nclass CategoryAudit {\n    String name\n    String operation\n    String doneBy\n    Date txnDate\n    def CategoryAudit(){}\n    def CategoryAudit(Category category , String operation) {\n        this.name = category.name\n        this.operation = operation\n        this.doneBy = RequestContextHolder.currentRequestAttributes().session.loggedInUser\n        this.txnDate = new Date()\n    }\n}\n</code></pre>\n",
        "codigo": [
            "class MaritalStatusIntegrationTests {\n\n    @Test\n    void testCategoryAudit() {\n\n        RequestContextHolder.currentRequestAttributes().session.loggedInUser=\"Anantha\"\n            def category = new Category(name:\"Single\")\n\n        category.save(flush:true)\n        assert CategoryAudit.count() == 1\n\n        category.name=\"Married\"\n        category.save(flush:true)\n        assert CategoryAudit.count() == 2\n    }\n}\n",
            "class Category {\n    static constraints = {\n        name blank:false\n    }\n    String name\n\n    //Auditing\n    static auditable = false\n    def onSave = {\n        new CategoryAudit(this,'Insert').save(failOnError:true)\n    }\n}\n",
            "import org.springframework.web.context.request.RequestContextHolder\nclass CategoryAudit {\n    String name\n    String operation\n    String doneBy\n    Date txnDate\n    def CategoryAudit(){}\n    def CategoryAudit(Category category , String operation) {\n        this.name = category.name\n        this.operation = operation\n        this.doneBy = RequestContextHolder.currentRequestAttributes().session.loggedInUser\n        this.txnDate = new Date()\n    }\n}\n"
        ]
    },
    {
        "titulo": "run single integration test with gradle",
        "score": 25,
        "views": 31051,
        "respostas": 3,
        "tags": [
            "testing",
            "integration",
            "gradle"
        ],
        "link": "https://stackoverflow.com/questions/18061774/run-single-integration-test-with-gradle",
        "conteudo_html": "<p>I'm trying to run a single integration tests using gradle's <code>-Dtest.single</code> flag. I have added another source set, <code>src/integrationTest</code> and put the tests in there. I have an integration test task</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>task integrationTests(type: Test) {\n    dependsOn 'assemble', 'integrationTestClasses'    \n    testClassesDir = sourceSets.integrationTest.output.classesDir\n    classpath = sourceSets.integrationTest.runtimeClasspath\n}\n</code></pre>\n\n<p>This runs fine, but if I try to run a single test it tells me it cannot find a matching test. I don't want to have to run every integration test each time I am writing a new one. Is there a way to do this?</p>\n",
        "codigo": [
            "-Dtest.single",
            "src/integrationTest",
            "task integrationTests(type: Test) {\n    dependsOn 'assemble', 'integrationTestClasses'    \n    testClassesDir = sourceSets.integrationTest.output.classesDir\n    classpath = sourceSets.integrationTest.runtimeClasspath\n}\n"
        ]
    },
    {
        "titulo": "functional tests=Integration Tests ？in django",
        "score": 3,
        "views": 2642,
        "respostas": 1,
        "tags": [
            "django",
            "unit-testing",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/18057561/functional-tests-integration-tests-in-django",
        "conteudo_html": "<p>Recently,I am studying about django test. Because I need to build unittest and integration test in my website.But I find that the tutorial of integration test in django is really less and it often occurs when I hit a link named \"<strong>integration test</strong>\" ,I only see the title \"functional tests\".So,are they the same? if not,how can I start a integrstion test in django?</p>\n",
        "codigo": []
    },
    {
        "titulo": "How to write integration tests for dropwizard",
        "score": 2,
        "views": 897,
        "respostas": 1,
        "tags": [
            "testing",
            "integration",
            "dropwizard"
        ],
        "link": "https://stackoverflow.com/questions/17662528/how-to-write-integration-tests-for-dropwizard",
        "conteudo_html": "<p>I am developing an application with dropwizard and I need to start my application with stubs and run some integration tests.</p>\n\n<p>Is anyone aware of test framework for the same?</p>\n",
        "codigo": []
    },
    {
        "titulo": "Need of Integration testing",
        "score": 1,
        "views": 196,
        "respostas": 1,
        "tags": [
            "testing",
            "junit",
            "integration",
            "eclipse-pde"
        ],
        "link": "https://stackoverflow.com/questions/17470026/need-of-integration-testing",
        "conteudo_html": "<p>We have Eclipse UI in the frontend and have a non Java based backend.</p>\n\n<p>We generally write Unit tests separately for both frontend and backend.\nAlso we write PDE tests which runs Eclipse UI against a dummy backend.</p>\n\n<p>My question is do we need to have integration tests which test end to end.</p>\n\n<p>One reason i might see these integration tests are useful are when i upgrade my frontend /backend i can run end to end tests and i find defects.</p>\n\n<p>I know these kind of questions are dependent on particular scenario.\nBut would like to what is the general and best practice followed by all here.</p>\n\n<p>cheers,\nSaurav</p>\n",
        "codigo": []
    },
    {
        "titulo": "Run grails integration tests in run-app environment",
        "score": 0,
        "views": 219,
        "respostas": 1,
        "tags": [
            "tomcat",
            "testing",
            "grails",
            "integration",
            "embedded-resource"
        ],
        "link": "https://stackoverflow.com/questions/17451608/run-grails-integration-tests-in-run-app-environment",
        "conteudo_html": "<p>Is it possible to run Grails integration tests using the same environment as run-app?\nIn other words in an environment that starts the embedded Tomcat (or another container)?</p>\n",
        "codigo": []
    },
    {
        "titulo": "What kind of test is that - checking interaction of two classes",
        "score": 1,
        "views": 578,
        "respostas": 2,
        "tags": [
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/17171174/what-kind-of-test-is-that-checking-interaction-of-two-classes",
        "conteudo_html": "<p>There is a class A doing some calculations and class B, which is calling methods from the class A.\nUnit tests were fine for both classes but when  used classes together, I discovered that it does not work. The issue was that the types of parameters were incorrect. As this was a part of school assignement, I was supposed to say what kind of test it is. I think it is an integration one, is that correct?</p>\n\n<p>I think so because integration means integrating more modules into one system. And I am integrating two classes together here.</p>\n",
        "codigo": []
    },
    {
        "titulo": "Software Testing at the Earlier Stages of Development Cycle",
        "score": 0,
        "views": 934,
        "respostas": 2,
        "tags": [
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/17020992/software-testing-at-the-earlier-stages-of-development-cycle",
        "conteudo_html": "<p>I am trying to do a general research on software testing and writing an internal paper for my company. The purpose is to identify how the testing and verification stages can be reformed so that it saves cost in long-term. I know that s/w testing at the earlier rather than latter stages of a development cycle is a popular fix. My current understanding is the following:</p>\n\n<p>1) Writing software tests earlier based on the requirements and acceptance criteria helps the s/w developers to identify integration problems involving any foreign components (e.g. third-party executables and binaries, etc.)</p>\n\n<p>2) Improves s/w developers visibilty on the final product, acceptance, and the problem domain itself.</p>\n\n<p>3) Easier to predict how the final product will meet the quality requirements.</p>\n\n<p>If anyone would like to point out anything more obvious that I have missed in my initial understanding, I would be grateful. I have also found an article <a href=\"http://webcache.googleusercontent.com/search?q=cache:Rdh7n3_Gx4gJ:www.softwaretestingclass.com/why-testing-should-start-early-in-software-development-life-cycle/+&amp;cd=3&amp;hl=en&amp;ct=clnk\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<p><strong>UPDATE</strong>\nI have foundt <a href=\"https://stackoverflow.com/questions/797026/test-driven-development-book\">this</a> and they to be good reading materials.</p>\n\n<p>Thanks for your help.</p>\n",
        "codigo": []
    },
    {
        "titulo": "Spring context dirty after each integration test",
        "score": 7,
        "views": 5603,
        "respostas": 1,
        "tags": [
            "java",
            "spring",
            "testing",
            "dependencies",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/16833063/spring-context-dirty-after-each-integration-test",
        "conteudo_html": "<p>I recently started as a freelancer on my current project. One of the thing I threw myself on, was the failing Jenkins build (it was failing starting from April 8th, a week before I started here). </p>\n\n<p>Generally speaking, you could see a buttload of DI issues in the log. First thing I did, was get all tests to work in the same way, starting from the same application context. \nThey also implemented their own \"mocking\" thing, which seemed to fail to work correctly. After a discussion with the lead dev, I suggested to start using Springockito. (for a certain module, they needed mocking for their integration testing -- legacy reasons, which can't be changed)</p>\n\n<p>Anyway, stuff started failing badly after that. A lot of beans which were mocked in the test, simply weren't mocked, or weren't found or whatever. Typically, it would fail on the loading of the application context, stating that one or another bean was missing. </p>\n\n<p>I tried different stuff and different approaches, but in the end, only the thing I most feared would work: add @DirtiesContext to every single test. Now, the maven build is starting to turn green again, tests start doing what they are supposed to do. But I am reloading the Spring context each and every time, which takes time - which is all relative, since the context is loaded in about 1 - 2 seconds. </p>\n\n<p>A side note to this story is that they've upgraded to Hibernate 4, and thus to Spring 3.2. Previously, they were using an older version of Spring 3. All tests were working back then, and the @DirtiesContext thing was not necessary. </p>\n\n<p>Now, what worries me the most, is that I can't immediately think of an explanation for this weird behaviour. It almost seems that Springs context is dirtied, simply by launching a test which uses @Autowired beans. Not all tests are using Mocks, so it can't be that. \nDoes this sound familiar to anyone? Has anyone had the same experiences with integration testing with (the latest version of) Spring?</p>\n\n<p>On Stackoverflow, I've found this ticket: <a href=\"https://stackoverflow.com/questions/3306457/how-can-a-test-dirty-a-spring-application-context\">How can a test &#39;dirty&#39; a spring application context?</a>\nIt seems to pretty much sum up the behaviour I'm seeing, but the point is that we're autowiring services/repositories/..., and that we don't have any setters on those classes whatsoever. </p>\n\n<p>Any thoughts?</p>\n\n<p>Thanks! </p>\n",
        "codigo": []
    },
    {
        "titulo": "Automated OS Testing for Applications?",
        "score": 3,
        "views": 70,
        "respostas": 1,
        "tags": [
            "testing",
            "operating-system",
            "continuous-integration",
            "cross-platform",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/16751212/automated-os-testing-for-applications",
        "conteudo_html": "<p>Is there any service like Travis-CI but for different OS's so that I can make sure a project builds - I'm specifically looking at those special build options that have to be configured for different OS's / setup's e.g. does a modification on setuptools work for multiple OS's?</p>\n\n<p>Also anyway to check that a project works / has correct behavior on multiple OSs - something easier than running it in a large quantity of vm's ?</p>\n\n<p>Thanks,\nEiy~</p>\n",
        "codigo": []
    },
    {
        "titulo": "Integration Test in Play Framework",
        "score": 6,
        "views": 4474,
        "respostas": 2,
        "tags": [
            "scala",
            "testing",
            "playframework",
            "integration",
            "sbt"
        ],
        "link": "https://stackoverflow.com/questions/16318503/integration-test-in-play-framework",
        "conteudo_html": "<p>I am trying to get Integration Tests to work in Play Framework 2.1.1</p>\n\n<p>My goal is to be able to run Integration Tests after unit tests to test component level functionality with the underlying database.  The underlying database will have stored procedures, so it is essential that I am able to do more than just the \"inMemoryDatabase\" that you can configure in the Fake Application.</p>\n\n<p>I would like the process to be:</p>\n\n<ol>\n<li>Start TestServer with FakeApplication.  Use an alternative integration test conf file</li>\n<li>Run Integration tests (can filter by package or what not here)</li>\n<li>Stop TestServer</li>\n</ol>\n\n<p>I believe the best way to do this is in the Build.scala file.</p>\n\n<p>I need assistance for how to setup the Build.scala file, as well as how to load the alternative integration test config file (project/it.conf right now)</p>\n\n<p>Any assistance is greatly appreciated!</p>\n",
        "codigo": []
    },
    {
        "titulo": "Issue with SpringJUnit4ClassRunner, H2 db inetgration test",
        "score": 0,
        "views": 857,
        "respostas": 1,
        "tags": [
            "spring",
            "unit-testing",
            "testing",
            "junit",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/16092071/issue-with-springjunit4classrunner-h2-db-inetgration-test",
        "conteudo_html": "<p>I am trying to write an integration test using h2 db, I am getting an error as \"error: cannot access BlockJUnit4ClassRunner\" at the line @RunWith()</p>\n\n<p>Can any one suggest something please? I have no clue, even If I comment out everything in the test it would not build and give the same error, so I don't think what's in the test that causing the issue</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@TransactionConfiguration(defaultRollback = true)\n@ContextConfiguration(locations = { \"classpath:test-applicationContext.xml\" })\npublic class WfsDBTest extends AbstractTransactionalJUnit4SpringContextTests {}\n</code></pre>\n\n<p>Please help\nthanks</p>\n",
        "codigo": [
            "@RunWith(SpringJUnit4ClassRunner.class)\n@TransactionConfiguration(defaultRollback = true)\n@ContextConfiguration(locations = { \"classpath:test-applicationContext.xml\" })\npublic class WfsDBTest extends AbstractTransactionalJUnit4SpringContextTests {}\n"
        ]
    },
    {
        "titulo": "Express.js middleware integration testing",
        "score": 1,
        "views": 1006,
        "respostas": 1,
        "tags": [
            "node.js",
            "testing",
            "express",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/15276528/express-js-middleware-integration-testing",
        "conteudo_html": "<p>I am writing some middleware for express.js 2.5.8. The intention is to amend the request object with additional attributes based on the session. I have unit tested the middleware function. Now, I would like to perform some lower-level integration testing to confirm that the middleware is being used by the express server.</p>\n\n<p>My typical approach to this would be to spy on the middleware function. However, this is not the most effective way of proving that the middleware is working as intended.</p>\n\n<p>What I would like to do (if possible/feasible) is load the application, inject arbitrary session data (it does not need to be valid), request/visit a test route which sends the result of the middleware. From there, I can make assertions on that result.</p>\n\n<p>I have been using supertest (superagent), zombie, and request for testing, each with varying degrees of success. What I am struggling with currently is the injection of session data into the request, in whichever form it will end up taking.</p>\n\n<p>I would appreciate some guidance. What approaches have people used when testing this type of behavior?</p>\n",
        "codigo": []
    },
    {
        "titulo": "Integration multi-threading test to stress test a server",
        "score": 0,
        "views": 579,
        "respostas": 1,
        "tags": [
            "multithreading",
            "testing",
            "integration",
            "stress-testing"
        ],
        "link": "https://stackoverflow.com/questions/15161721/integration-multi-threading-test-to-stress-test-a-server",
        "conteudo_html": "<p>I'm new to the world of C# threads and want to stress test a particular server method.\n    I'd like to somehow capture the time taken to run the process and return it in some way. Or, if the server returns an error message, as I ramp up the concurrent threads...\n    That is, some sort of decay statistics as the users ramp up. I'm looking for something simple yet effective...<br>\n    I'm going to call this process from an integration test like this:</p>\n\n<pre><code>[Test]\npublic void StressTest_SomeExpensiveMethod_Approach()\n{\n\n    int NO_THREADS = 10;\n    Thread thread = null;\n    MyClass myC = new MyClass();\n\n    for (int i = 0; i &lt; NO_THREADS; i++)\n    {\n        thread = new Thread(myC.DoExpensiveWork);\n        thread.Name = i.ToString();\n        thread.Priority = ThreadPriority.Highest;\n        thread.Start(); \n    }\n}\n</code></pre>\n\n<p>I have the class <code>MyClass</code> below. This class contains the method <code>DoExpensiveWork()</code>. I'm trying to call <code>DoExpensiveWork()</code> for a specified fixed number of threads (say 10 or 20 and ramp up from there)\nSomeExpensiveMethod (an expensive process essentially &lt; 1 second though usually) and then stores the result in  List</p>\n\n<p>I've been told that I need to use callbacks and the locking mechanism but I'm stuck. Can anyone help me please? I'm using parameterised threading but I reckon what I have is wrong. </p>\n\n<p>I need a little bit of coding help here with this one please. I would greatly appreciate if you could modify the example below with your suggestions...</p>\n\n<p>Thanks\nSandra</p>\n\n<pre><code>public class MyClass\n{   \n        public void DoExpensiveWork()\n        {\n\n            ServerClass cs = new ServerClass();\n            string testData = \"sometestdata\";\n\n            //*** CALL TO METHOD-UNDER-TEST ***//\n            DateTime startTime = DateTime.Now;\n            IList&lt;string&gt; response = cs.SomeExpensiveMethod(testData);\n            DateTime endTime = DateTime.Now;        \n        }   \n}\n</code></pre>\n",
        "codigo": [
            "[Test]\npublic void StressTest_SomeExpensiveMethod_Approach()\n{\n\n    int NO_THREADS = 10;\n    Thread thread = null;\n    MyClass myC = new MyClass();\n\n    for (int i = 0; i < NO_THREADS; i++)\n    {\n        thread = new Thread(myC.DoExpensiveWork);\n        thread.Name = i.ToString();\n        thread.Priority = ThreadPriority.Highest;\n        thread.Start(); \n    }\n}\n",
            "MyClass",
            "DoExpensiveWork()",
            "DoExpensiveWork()",
            "public class MyClass\n{   \n        public void DoExpensiveWork()\n        {\n\n            ServerClass cs = new ServerClass();\n            string testData = \"sometestdata\";\n\n            //*** CALL TO METHOD-UNDER-TEST ***//\n            DateTime startTime = DateTime.Now;\n            IList<string> response = cs.SomeExpensiveMethod(testData);\n            DateTime endTime = DateTime.Now;        \n        }   \n}\n"
        ]
    },
    {
        "titulo": "Automated testing to check the value in a table cell - Django.",
        "score": 0,
        "views": 151,
        "respostas": 1,
        "tags": [
            "django",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/14893946/automated-testing-to-check-the-value-in-a-table-cell-django",
        "conteudo_html": "<p>My Django app is in need of some automated testing.</p>\n\n<p>Many of the views produce tabular data (from a generic list view). I have created fixtures to test some of the more complex cases that have been causing subtle bugs. </p>\n\n<p>What should I be using to test the value in a specific table cell (or column)?</p>\n\n<p>There seems to be a lot of testing tools / libraries out there django-test client, Selenium, Nose. A lot of things seem to be aimed at unit testing (while I am not finding so many bugs at this level). I am looking more to integration testing. Reading all the documentation for all the libraries is going to take a while to find what I want. </p>\n\n<p>So can someone advise what libraries / tools I should use to check the final output values in my list view's tabular output? I would like to give a URL, and confirm that the page returned has a value in particular row / column is equal to  my expected value. </p>\n",
        "codigo": []
    },
    {
        "titulo": "Integration testing of func in OSGI container",
        "score": 1,
        "views": 490,
        "respostas": 3,
        "tags": [
            "testing",
            "osgi",
            "integration",
            "fuseesb"
        ],
        "link": "https://stackoverflow.com/questions/14732530/integration-testing-of-func-in-osgi-container",
        "conteudo_html": "<p>I'm using FuseESB to run my app, which is essensially OSGI container (Felix), i'd like to figure approach to test my OSGI services in integration mode (including outer dependencies like DB, outer services, etc). First on a thought is ability to run specific bundle into container which involve all app services into running tests defined in this bundle. Can somebody help with that kind of issue? THANKS!</p>\n",
        "codigo": []
    },
    {
        "titulo": "PHP Paypal integration testing environment",
        "score": 1,
        "views": 114,
        "respostas": 0,
        "tags": [
            "php",
            "debugging",
            "testing",
            "paypal",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/14643830/php-paypal-integration-testing-environment",
        "conteudo_html": "<p>I'm working on website integration with PayPal online payments. I did it before and i know it can be a cumbersome task, especially debugging and testing. </p>\n\n<p>I'm developing on localhost (XAMPP, LAMPP) and I need to upload every time to testing server (on shared hosting) even after small change to be able to test it. </p>\n\n<p>I wonder are there any best practices or ready environments, servers, solutions or phpunits to improve workflow ? </p>\n",
        "codigo": []
    },
    {
        "titulo": "Integration testing on a live/running website",
        "score": 1,
        "views": 97,
        "respostas": 0,
        "tags": [
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/12917086/integration-testing-on-a-live-running-website",
        "conteudo_html": "<p>I remember reading about a framework, but have totally forgot about it and can't find it in Google.</p>\n\n<p>The framework allowed you to write integration tests that are meant to be run in a live website/enviroment. It could test 3rd party connectivity/firewalls, etc. It had a nice UI to see/run all the tests.</p>\n\n<p>Does anyone know the framework I am looking for? What kind of integration testing is this?</p>\n",
        "codigo": []
    },
    {
        "titulo": "Grails Integration Test Filter",
        "score": 5,
        "views": 1405,
        "respostas": 1,
        "tags": [
            "testing",
            "grails",
            "filter",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/12736193/grails-integration-test-filter",
        "conteudo_html": "<p>Is there a way to test a controller which uses a filter on an integration test?</p>\n\n<p>There seems to be a way using the @Mock annotation for Unit Tests and than wrapping the controller call on a withFilter closure.</p>\n\n<p>But I can't get to test filters on an integration test which from my pov should be very straight forward.</p>\n\n<p>Update</p>\n\n<p>So here is the solution I found. Instead of using the @Mock annotation, I instantiated the FiltersUnitTestMixin class and populated it with the necessary values.  </p>\n\n<pre><code>public class ControllerTest {  \n\n    def controller = new Controller()  \n        FiltersUnitTestMixin f = new FiltersUnitTestMixin()\n\n    @Before\n    public void setup() {\n        f.grailsApplication = grailsApplication\n        f.applicationContext = grailsApplication.mainContext\n        f.mockFilters(ControllerFilters)\n    }\n\n    @Test\n    public void shouldPassTheTest() {\n        f.withFilters(action:\"actionName\") {\n            controller.actionName()\n        }\n    }\n}\n</code></pre>\n",
        "codigo": [
            "public class ControllerTest {  \n\n    def controller = new Controller()  \n        FiltersUnitTestMixin f = new FiltersUnitTestMixin()\n\n    @Before\n    public void setup() {\n        f.grailsApplication = grailsApplication\n        f.applicationContext = grailsApplication.mainContext\n        f.mockFilters(ControllerFilters)\n    }\n\n    @Test\n    public void shouldPassTheTest() {\n        f.withFilters(action:\"actionName\") {\n            controller.actionName()\n        }\n    }\n}\n"
        ]
    },
    {
        "titulo": "Maven test fails within install phase but is ok within test phase",
        "score": 3,
        "views": 1455,
        "respostas": 2,
        "tags": [
            "testing",
            "maven",
            "integration",
            "integration-testing",
            "ebean"
        ],
        "link": "https://stackoverflow.com/questions/12671101/maven-test-fails-within-install-phase-but-is-ok-within-test-phase",
        "conteudo_html": "<p>I have an empty java test with Spring and Ebean</p>\n\n<pre><code>protected static ApplicationContext ctx;\n    @BeforeClass\n    public static void initSpringContext() {\n        ctx = new ClassPathXmlApplicationContext(\"spring-context.xml\");\n    }\n\npublic class SomeTest extends SpringBase {\n\n    @Test\n    public void emptyTest() {}\n}\n</code></pre>\n\n<p>I had a problem with class loading:</p>\n\n<pre><code>Caused by: javax.persistence.PersistenceException: models.Flat is NOT an Entity Bean registered with this server?\n</code></pre>\n\n<p>Problem was fixed with pom config</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.12.4&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>After this fix \"mvn clean test\" runs ok, but \"mvn clean install\" fails with exact exception\nI suppose it's because integration-test phase.\nI tried to config useSystemClassLoader in maven-failsafe-plugin, run with param -Dskip.integration.test=true but is makes no difference, I have feeling that this plugin did not call at all.</p>\n\n<p>Also I've compared surefire-reports genereted by \"mvn clean test\" and \"mvn clean verify\" -- section \"properties\" within the testsuite is identical in both cases.</p>\n\n<p>Skipping integration-test will be also an acceptable solution.</p>\n\n<blockquote>\n  <p>Maven 2.2.1 OS - Tested under Windows and Debian</p>\n</blockquote>\n\n<p>If it can help, stacktrace of error:</p>\n\n<pre><code>Caused by: javax.persistence.PersistenceException: models.Flat is NOT an Entity Bean registered with this server?\n    at com.avaje.ebeaninternal.server.core.DefaultServer.createQuery(DefaultServer.java:1008)\n    at com.avaje.ebeaninternal.server.core.DefaultServer.createQuery(DefaultServer.java:965)\n    at com.avaje.ebeaninternal.server.core.DefaultServer.find(DefaultServer.java:1001)\n    at com.avaje.ebean.Ebean.find(Ebean.java:1143)\n    at flats.crawler.managers.CrawlerManager.initCrawlerHashes(CrawlerManager.java:25)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:346)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:299)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:132)\n    ... 48 more\n</code></pre>\n\n<p>I've run two commands \"mvn clean install -X\" and \"mvn clean test -X\" and compared test classpathes:\nin first case</p>\n\n<pre><code>[DEBUG]   PATH\\MODULE\\target\\MODULE-1.0.jar\n</code></pre>\n\n<p>in second case</p>\n\n<pre><code>[DEBUG]   PATH\\MODULE\\target\\classes\n</code></pre>\n\n<p>that's why Ebean can't find classes</p>\n",
        "codigo": [
            "protected static ApplicationContext ctx;\n    @BeforeClass\n    public static void initSpringContext() {\n        ctx = new ClassPathXmlApplicationContext(\"spring-context.xml\");\n    }\n\npublic class SomeTest extends SpringBase {\n\n    @Test\n    public void emptyTest() {}\n}\n",
            "Caused by: javax.persistence.PersistenceException: models.Flat is NOT an Entity Bean registered with this server?\n",
            "<plugin>\n    <groupId>org.apache.maven.plugins</groupId>\n    <artifactId>maven-surefire-plugin</artifactId>\n    <version>2.12.4</version>\n    <configuration>\n        <useSystemClassLoader>false</useSystemClassLoader>\n    </configuration>\n</plugin>\n",
            "Caused by: javax.persistence.PersistenceException: models.Flat is NOT an Entity Bean registered with this server?\n    at com.avaje.ebeaninternal.server.core.DefaultServer.createQuery(DefaultServer.java:1008)\n    at com.avaje.ebeaninternal.server.core.DefaultServer.createQuery(DefaultServer.java:965)\n    at com.avaje.ebeaninternal.server.core.DefaultServer.find(DefaultServer.java:1001)\n    at com.avaje.ebean.Ebean.find(Ebean.java:1143)\n    at flats.crawler.managers.CrawlerManager.initCrawlerHashes(CrawlerManager.java:25)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:346)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:299)\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:132)\n    ... 48 more\n",
            "[DEBUG]   PATH\\MODULE\\target\\MODULE-1.0.jar\n",
            "[DEBUG]   PATH\\MODULE\\target\\classes\n"
        ]
    },
    {
        "titulo": "Jacoco and Arquillian in a multi module Maven project",
        "score": 1,
        "views": 1702,
        "respostas": 1,
        "tags": [
            "testing",
            "integration",
            "jboss-arquillian",
            "jacoco"
        ],
        "link": "https://stackoverflow.com/questions/12354669/jacoco-and-arquillian-in-a-multi-module-maven-project",
        "conteudo_html": "<p>I am following this article: <a href=\"http://www.softwarepassion.com/it-coverage-with-arquillian-jacoco-extension/\" rel=\"nofollow\">http://www.softwarepassion.com/it-coverage-with-arquillian-jacoco-extension/</a> to get test coverage for arquillian integration tests. My project is a multi module though and I don't know where to put the plug in and dependencies. Is it in the top pom, the artifact-making module or in the integration test module? \nThank you </p>\n",
        "codigo": []
    },
    {
        "titulo": "javascript integration testing for one page applications",
        "score": 5,
        "views": 506,
        "respostas": 1,
        "tags": [
            "javascript",
            "testing",
            "selenium",
            "integration",
            "phantomjs"
        ],
        "link": "https://stackoverflow.com/questions/12158163/javascript-integration-testing-for-one-page-applications",
        "conteudo_html": "<p>I am currently developing a one page javascript application using Sinatra Ruby on  server side and Backbone.js, jQuery, jQuery UI for the client side.\nThe application main purpose is to allow a customer to view/edit different kind of items, each  item view being a more or less complicated form.</p>\n\n<p>To make sure everything works right I am planning to do:</p>\n\n<ul>\n<li>unitary tests using QUnit</li>\n<li>functional/integration tests</li>\n</ul>\n\n<p>What frameworks/tools do you recommend for integration testing in this case ? I started with Selenium but I didn't like it too much. I just started to look at PhantomJS and CasperJS and they seem pretty nice for basic stuff like navigating, clicking on links, ... </p>\n\n<p>What's your advice ?</p>\n",
        "codigo": []
    },
    {
        "titulo": "Grails Integration Tests with Maven",
        "score": 0,
        "views": 1594,
        "respostas": 3,
        "tags": [
            "testing",
            "grails",
            "maven",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/11904119/grails-integration-tests-with-maven",
        "conteudo_html": "<p>First of all, I am shocked at the lack of documentation for implementing front-end tests for Grails. The GroovyPagesTestCase class makes testing super easy, so easy there is no excuse for FE Devs not to test. But anyway, here is my question. At my job, I am running Grails with Maven. When I need to run my tests, the only successful command to execute the tests is:</p>\n\n<pre><code>mvn grails:test-app\n</code></pre>\n\n<p>and that runs all tests. But, I really want to move faster when test-driving code, does anyone know how to only run integration tests in this kind of environment? Not finding anything on my own.</p>\n",
        "codigo": [
            "mvn grails:test-app\n"
        ]
    },
    {
        "titulo": "How do you run your Java EE integrated tests? Plus terminology confusion (embedded, managed, local, remote, ...)",
        "score": 2,
        "views": 400,
        "respostas": 2,
        "tags": [
            "jakarta-ee",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/10953087/how-do-you-run-your-java-ee-integrated-tests-plus-terminology-confusion-embedd",
        "conteudo_html": "<p>I'm trying to set up integrated testing for my simple Java EE app that uses JAX-RS to expose a REST service (it's also an EJB) and JPA to store the underlying data, and I continue to struggle finding a solution that doesn't require manually setting up an external container/application server. I've done a lot of searching here and on the web for solutions, and ended up burning far too many weeks to get GlassFish 3.1.2 Embedded working, which I succeed doing until the final straw a week ago: conflicting documentation and bugs trying to create users to test security. Drat! I looked at JBoss AS 7, but the embedded product looks unsupported. I then tried rolling my own using a servlet container (Jetty, Grizzly, and Simple) to directly run Jersey. (I was eventually planning on adding in EclipseLink and Derby embedded.) All of these presented unexpected and blocking challenges in setting up and running the most basic JUnit tests; I couldn't get Jetty to run JAX-RS, and Grizzly didn't have HTTP Basic authentication, for example. Double drat! I then looked at Arquillian, but couldn't find JBoss AS 7 listed in their container adapters.</p>\n\n<p>I have two questions: 1) This seems to be far, far harder to get working than I expected. If I assume it's not just me (please, it's not just me!), then why is it so hard? I'm wondering if the entire Java EE stack with its 30+ APIs is a house of cards that's very difficult to get stacked up right and doesn't lend itself to being shoved into a single jar. Or maybe people prefer to do integration testing on an external (\"local\"?) container that they start before running the tests.</p>\n\n<p>Question 2): What is the standard terminology for the different kinds of test-container configurations? It seems inconsistent. For example, <a href=\"http://mvnrepository.com/artifact/org.jboss.arquillian.container\" rel=\"nofollow\">http://mvnrepository.com/artifact/org.jboss.arquillian.container</a> lists \"remote\", \"embedded\", \"managed\", and \"local\", but yet I found \"in-container\" and \"out-of-container\" testing mentioned elsewhere.</p>\n\n<p>Rather than use space on details on what failed above, I'm ready to listen to what this experience is trying to tell me, so I would really appreciate hearing what worked for you. Thanks in advance!</p>\n",
        "codigo": []
    },
    {
        "titulo": "RSpec integration test example being run twice",
        "score": 3,
        "views": 1816,
        "respostas": 2,
        "tags": [
            "ruby-on-rails",
            "testing",
            "rspec",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/10225682/rspec-integration-test-example-being-run-twice",
        "conteudo_html": "<p>I have recently started using RSpec for Integration testing in my Rails application, to avoid having to keep up to date with multiple testing frameworks, and am in the process of converting my Cucumber features to RSpec.</p>\n\n<p>I have successfully got 1 integration test running, however, it appears to run through the example twice:</p>\n\n<pre><code>rspec spec/integration/create_article_spec.rb -f documentation\n\nadmin creates article\n  successfully creates article\n\nadmin creates article\n  successfully creates article\n\nFinished in 0.51816 seconds\n2 examples, 0 failures\n</code></pre>\n\n<p>Here is the contents of create_article_spec.rb:</p>\n\n<pre><code>require 'spec_helper'\n\nfeature \"admin creates article\" do\n scenario \"successfully creates article\" do\n  visit admin_articles_url\n  click_link \"New Article\"\n  fill_in \"Title\", with: \"Test 1\"\n  fill_in \"Body\", with: \"Test Article\"\n  click_button \"Save\"\n  page.should have_content \"New Article Published\"\n end\nend\n</code></pre>\n\n<p>I can't find any reason why this may be happening, and all the other situations where this has happened don't apply in my case.</p>\n\n<p>It only appears to happen with my Integration tests, all other tests do not appear to be affected.</p>\n\n<p>I'm hoping someone with more RSpec knowledge than I can figure out where I may be missing something.</p>\n\n<h1>Versions</h1>\n\n<p>Rails (3.2.2)\nRSpec (2.8.0)\nRSpec-rails (2.8.1)</p>\n",
        "codigo": [
            "rspec spec/integration/create_article_spec.rb -f documentation\n\nadmin creates article\n  successfully creates article\n\nadmin creates article\n  successfully creates article\n\nFinished in 0.51816 seconds\n2 examples, 0 failures\n",
            "require 'spec_helper'\n\nfeature \"admin creates article\" do\n scenario \"successfully creates article\" do\n  visit admin_articles_url\n  click_link \"New Article\"\n  fill_in \"Title\", with: \"Test 1\"\n  fill_in \"Body\", with: \"Test Article\"\n  click_button \"Save\"\n  page.should have_content \"New Article Published\"\n end\nend\n"
        ]
    },
    {
        "titulo": "Spring-WS 2.0 unit testing without a running backend",
        "score": 0,
        "views": 516,
        "respostas": 1,
        "tags": [
            "testing",
            "maven",
            "integration",
            "spring-ws",
            "easymock"
        ],
        "link": "https://stackoverflow.com/questions/10187444/spring-ws-2-0-unit-testing-without-a-running-backend",
        "conteudo_html": "<p>I would like to be able to do some unit testing during development in order to catch potential errors when extending/changing the way a given web service (endpoint) works.</p>\n\n<p>I have been looking at EasyMock, and this seems like a viable way to go - but!... I'm using maven (2.0.9) and would like to test e.g. with mvn test, but this requires that my backend is running or that I use EasyMock - which then requires that I can connect to a database (thus this needs some mocking as well). The web services I currently have all retrieve data from a backend base...</p>\n\n<p>As I have 15 or so web services used by different parts of the organization in different versions I would very much like to be able to test that changes doesn't break older versions. </p>\n\n<p>I cannot believe that I'm the first person to have this problem, so any hints, tips, or likewise would be much appreciated. </p>\n",
        "codigo": []
    },
    {
        "titulo": "Testing RabbitMQ and Spring Integration",
        "score": 3,
        "views": 2479,
        "respostas": 3,
        "tags": [
            "spring",
            "testing",
            "integration",
            "rabbitmq"
        ],
        "link": "https://stackoverflow.com/questions/10092385/testing-rabbitmq-and-spring-integration",
        "conteudo_html": "<p>I'm developing an application with Spring Integration and RabbitMq and I'm wondering how to test it (integration tests).</p>\n\n<p>I think SoapUI can be a great Solution but it doesn't support RAbbitMq, hermesjms.com has support for Qpid so i thought that could be easy to do a new plugin to support Rabbitmq but it's being more difficult than I thought due to the project is a little old and has a bunch of dependencies. \nSo I'm starting to think in doing something myself, like a DSL in python, something like this:</p>\n\n<pre><code>tests = [{ 'name': 'start',\n    'routing_key': 'returned',\n    'payload' : \"xxxxx\",\n    'timeOut' : '10000',\n    'expected': '',\n    'threads': '1'\n},\n{ 'name': 'second',.....\n]\n</code></pre>\n\n<p>And then with Pika execute the actions and check the results.</p>\n\n<p>I know it's very stupid and sopaui is huge and awesome, but at least it'd allow me to do small tests.</p>\n\n<p>What would you recommend?</p>\n",
        "codigo": [
            "tests = [{ 'name': 'start',\n    'routing_key': 'returned',\n    'payload' : \"xxxxx\",\n    'timeOut' : '10000',\n    'expected': '',\n    'threads': '1'\n},\n{ 'name': 'second',.....\n]\n"
        ]
    },
    {
        "titulo": "Spring, JPA -- integration test of CRUD of entity which has many transitive dependencies of other entities",
        "score": 0,
        "views": 930,
        "respostas": 2,
        "tags": [
            "spring",
            "testing",
            "jpa",
            "mocking",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/9999149/spring-jpa-integration-test-of-crud-of-entity-which-has-many-transitive-depe",
        "conteudo_html": "<p>I have entity e.g. <code>Product</code> which aggregates other entities such as <code>Category</code>. Those entities can also aggregate other entities and so on. Now I need to test my queries to database. </p>\n\n<p>For simple CRUD I would create mock of <code>EntityManager</code>. But what if I have more complex query which I need to test for correct functionality. Then I probably need to persist entity (or more of them) and try to retrieve/update, whatever. I would also need to persist all entities on which my <code>Product</code> depends.</p>\n\n<p>I don't like such approach. What is the best way to test such queries?</p>\n\n<p>Thanks for replies.</p>\n\n<hr>\n\n<p>Update -- example</p>\n\n<p>Lets assume following entity structure\n<img src=\"https://i.sstatic.net/q1cbA.jpg\" alt=\"enter image description here\"></p>\n\n<p>This structure is maintained by JPA implementation. For example <code>Product</code> class would look like this</p>\n\n<pre><code>@Entity\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String name;\n\n    @ManyToOne\n    private Category category; \n\n    @ManyToOne\n    private Entity1 something;    \n}\n</code></pre>\n\n<p>So now if I want to test any query used in DAO I need to create <code>Product</code> in database, but it is dependent on <code>Category</code> and <code>Entity1</code> and there is <code>@ManyToOne</code> annotation so values cannot be <code>null</code>. So I need to persist those entities too, but they have also dependencies. </p>\n\n<p>I'm considering pre-creating entities such <code>Category</code>, <code>Entity1</code> and <code>Entity2</code> before test using SQL script or dbunit (mentioned by @chalimartines) which would save large amount of code, but I don't know whether it is good solution. I would like to know some best practices for such testing.</p>\n",
        "codigo": [
            "Product",
            "Category",
            "EntityManager",
            "Product",
            "Product",
            "@Entity\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String name;\n\n    @ManyToOne\n    private Category category; \n\n    @ManyToOne\n    private Entity1 something;    \n}\n",
            "Product",
            "Category",
            "Entity1",
            "@ManyToOne",
            "null",
            "Category",
            "Entity1",
            "Entity2"
        ]
    },
    {
        "titulo": "Spring, JPA -- testing abstract class",
        "score": 0,
        "views": 560,
        "respostas": 2,
        "tags": [
            "spring",
            "testing",
            "jpa",
            "integration",
            "abstract"
        ],
        "link": "https://stackoverflow.com/questions/9990339/spring-jpa-testing-abstract-class",
        "conteudo_html": "<p>I have a lot of entities in application and I use JPA implementation for persisting them, therefore most of CRUD methods across DAOs are similar (see example class diagram below).</p>\n<p><img src=\"https://i.sstatic.net/p52LA.png\" alt=\"enter image description here\" /></p>\n<p>For this purpose there is interface <code>DAOTemplate</code> which contains methods available for all entities and is implemented by abstract class <code>AbstractDAO</code>.</p>\n<p>Some entities require additional methods such as <code>findByEmail</code> for <code>User</code> entity. For that purpose there is DAO interface with such methods e.g. <code>UserDAO</code>.</p>\n<p>Now I want to write integration tests for all methods (those in <code>DAOTemplate</code> and <code>UserDAO</code>). What is the best solution? Should I somehow (how?) test <code>AbstractDAO</code> and then only special methods in <code>UserDAOTest</code> or should I test all methods in <code>UserDAOTest</code> and also in other test cases for other entities? I'm trying to avoid the second solution because I don't like it.</p>\n<p>Thanks for answers.</p>\n",
        "codigo": [
            "DAOTemplate",
            "AbstractDAO",
            "findByEmail",
            "User",
            "UserDAO",
            "DAOTemplate",
            "UserDAO",
            "AbstractDAO",
            "UserDAOTest",
            "UserDAOTest"
        ]
    },
    {
        "titulo": "Can&#39;t access remote EJB",
        "score": 1,
        "views": 2433,
        "respostas": 2,
        "tags": [
            "testing",
            "glassfish",
            "ejb-3.0",
            "integration",
            "jndi"
        ],
        "link": "https://stackoverflow.com/questions/9095608/cant-access-remote-ejb",
        "conteudo_html": "<p>I've created EJB with remote and local interfaces.</p>\n\n<pre><code>@Stateless\npublic class VendorBean implements VendorBeanLocal, VendorBeanRemote {\n\n    ...\n\n}\n\n@Local\npublic interface VendorBeanLocal {\n\n    ...\n\n}\n\n@Remote\npublic interface VendorBeanRemote {\n\n   ...\n\n}\n</code></pre>\n\n<p>There are some methods instead of dots (it doesn't matter in this case).</p>\n\n<p>Then deploy it to glassfish 3.1. It's accessible from my client web application (deployed as war on the same server) and works fine. But I can't access it from my integration tests.</p>\n\n<p>I wrote integration test which is supposed to be run by maven 2. I looked JNDI name of this bean in the glassfish server.log:</p>\n\n<pre><code>java:global/&lt;my business module name&gt;/VendorBean!&lt;package&gt;.VendorBeanRemote\n</code></pre>\n\n<p>and wrote the test. But I always get exception on lookup:</p>\n\n<pre><code>javax.naming.NameNotFoundException [Root exception is org.omg.CosNaming.NamingContextPackage.NotFound: IDL:omg.org/CosNaming/NamingContext/NotFound:1.0]\n    at com.sun.jndi.cosnaming.ExceptionMapper.mapException(ExceptionMapper.java:61)\n    at com.sun.jndi.cosnaming.CNCtx.callResolve(CNCtx.java:501)\n    at com.sun.jndi.cosnaming.CNCtx.lookup(CNCtx.java:540)\n    at com.sun.jndi.cosnaming.CNCtx.lookup(CNCtx.java:518)\n    at javax.naming.InitialContext.lookup(InitialContext.java:409)\n    at com.widewebtech.mercury.core.test.ejb.VendorBeanIntegrationTest.manageVendor(VendorBeanIntegrationTest.java:126)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:616)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n    at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:62)\n    at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140)\n    at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127)\n    at org.apache.maven.surefire.Surefire.run(Surefire.java:177)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:616)\n    at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:345)\n    at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1009)\nCaused by: org.omg.CosNaming.NamingContextPackage.NotFound: IDL:omg.org/CosNaming/NamingContext/NotFound:1.0\n    at org.omg.CosNaming.NamingContextPackage.NotFoundHelper.read(NotFoundHelper.java:72)\n    at org.omg.CosNaming._NamingContextExtStub.resolve(_NamingContextExtStub.java:406)\n    at com.sun.jndi.cosnaming.CNCtx.callResolve(CNCtx.java:487)\n    ... 33 more\n</code></pre>\n\n<p>The code of test:</p>\n\n<pre><code>Properties p = new Properties();\np.setProperty(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.jndi.cosnaming.CNCtxFactory\");\np.setProperty(\"org.omg.CORBA.ORBInitialHost\", \"localhost\");\np.setProperty(\"org.omg.CORBA.ORBInitialPort\", \"3700\");\nContext context = new InitialContext(p);\n\nObject o = context.lookup(\"java:global/&lt;my business module name&gt;/VendorBean!&lt;package&gt;.VendorBeanRemote\");\n</code></pre>\n\n<p>I'm confused. I've read a lot of articles, tried a lot suggestions but nothing works.</p>\n\n<p>I've also tried to list a context within the test:</p>\n\n<pre><code>NamingEnumeration&lt;NameClassPair&gt; list = context.list(\"\"); \nwhile (list.hasMore()) { \n    NameClassPair ncPair = (NameClassPair) list.next(); \n    System.out.print(ncPair.getName() + \" (type \"); \n    System.out.println(ncPair.getClassName() + \")\"); \n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>&lt;package&gt;.VendorBeanRemote__3_x_Internal_RemoteBusinessHome__ (type com.sun.corba.se.impl.corba.CORBAObjectImpl)\nSerialContextProvider (type com.sun.corba.se.impl.corba.CORBAObjectImpl)\njava:global (type com.sun.jndi.cosnaming.CNCtx)\nINITIAL_GIS (type com.sun.corba.se.impl.corba.CORBAObjectImpl)\n</code></pre>\n\n<p>So, looks like bean in the context.</p>\n\n<p>What I do wrong? Please help!</p>\n",
        "codigo": [
            "@Stateless\npublic class VendorBean implements VendorBeanLocal, VendorBeanRemote {\n\n    ...\n\n}\n\n@Local\npublic interface VendorBeanLocal {\n\n    ...\n\n}\n\n@Remote\npublic interface VendorBeanRemote {\n\n   ...\n\n}\n",
            "java:global/<my business module name>/VendorBean!<package>.VendorBeanRemote\n",
            "javax.naming.NameNotFoundException [Root exception is org.omg.CosNaming.NamingContextPackage.NotFound: IDL:omg.org/CosNaming/NamingContext/NotFound:1.0]\n    at com.sun.jndi.cosnaming.ExceptionMapper.mapException(ExceptionMapper.java:61)\n    at com.sun.jndi.cosnaming.CNCtx.callResolve(CNCtx.java:501)\n    at com.sun.jndi.cosnaming.CNCtx.lookup(CNCtx.java:540)\n    at com.sun.jndi.cosnaming.CNCtx.lookup(CNCtx.java:518)\n    at javax.naming.InitialContext.lookup(InitialContext.java:409)\n    at com.widewebtech.mercury.core.test.ejb.VendorBeanIntegrationTest.manageVendor(VendorBeanIntegrationTest.java:126)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:616)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n    at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:62)\n    at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140)\n    at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127)\n    at org.apache.maven.surefire.Surefire.run(Surefire.java:177)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:616)\n    at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:345)\n    at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1009)\nCaused by: org.omg.CosNaming.NamingContextPackage.NotFound: IDL:omg.org/CosNaming/NamingContext/NotFound:1.0\n    at org.omg.CosNaming.NamingContextPackage.NotFoundHelper.read(NotFoundHelper.java:72)\n    at org.omg.CosNaming._NamingContextExtStub.resolve(_NamingContextExtStub.java:406)\n    at com.sun.jndi.cosnaming.CNCtx.callResolve(CNCtx.java:487)\n    ... 33 more\n",
            "Properties p = new Properties();\np.setProperty(Context.INITIAL_CONTEXT_FACTORY, \"com.sun.jndi.cosnaming.CNCtxFactory\");\np.setProperty(\"org.omg.CORBA.ORBInitialHost\", \"localhost\");\np.setProperty(\"org.omg.CORBA.ORBInitialPort\", \"3700\");\nContext context = new InitialContext(p);\n\nObject o = context.lookup(\"java:global/<my business module name>/VendorBean!<package>.VendorBeanRemote\");\n",
            "NamingEnumeration<NameClassPair> list = context.list(\"\"); \nwhile (list.hasMore()) { \n    NameClassPair ncPair = (NameClassPair) list.next(); \n    System.out.print(ncPair.getName() + \" (type \"); \n    System.out.println(ncPair.getClassName() + \")\"); \n}\n",
            "<package>.VendorBeanRemote__3_x_Internal_RemoteBusinessHome__ (type com.sun.corba.se.impl.corba.CORBAObjectImpl)\nSerialContextProvider (type com.sun.corba.se.impl.corba.CORBAObjectImpl)\njava:global (type com.sun.jndi.cosnaming.CNCtx)\nINITIAL_GIS (type com.sun.corba.se.impl.corba.CORBAObjectImpl)\n"
        ]
    },
    {
        "titulo": "Testing smart wrappers for 3rd party libraries",
        "score": 6,
        "views": 1854,
        "respostas": 3,
        "tags": [
            "unit-testing",
            "testing",
            "tdd",
            "integration",
            "integration-testing"
        ],
        "link": "https://stackoverflow.com/questions/5924221/testing-smart-wrappers-for-3rd-party-libraries",
        "conteudo_html": "<p>Suppose you are required to use an unnecessarily complicated, difficult to mock (perhaps it has concrete classes with no virtual interface), and unreliable third-party library that integrates with some external resource such as a socket or a database.  You decide to create \"wrapper\" interfaces/classes to greatly simplify the usage of this library and to allow developers using the wrapper to continue to write testable code.  The wrapper's interface looks nothing like the original interface.</p>\n\n<p>I have a few questions about how to test this wrapper.</p>\n\n<ol>\n<li><p>Should the wrapper be tested without the external resource by developing a method-for-method layer over the bad library that can be mocked?  </p></li>\n<li><p>When you test your wrapper classes with the 3rd party library (using the external resources) is this a unit test or an integration test?  If the external resource can be embedded in memory during the automated test, is it still an integration test?</p></li>\n<li><p>At what point do we quit mocking and stubbing and say that we have a unit.  According to wikipedia \"A unit is the smallest testable part of an application.\" but I am finding this difficult to measure.  If speed is a factor in decide whether or not we are testing a unit, how do you decide how slow is too slow for the test to be called a unit test?</p></li>\n</ol>\n",
        "codigo": []
    },
    {
        "titulo": "Need help in setting up UI based testing for Rails application",
        "score": 0,
        "views": 1097,
        "respostas": 1,
        "tags": [
            "ruby-on-rails",
            "testing",
            "selenium",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/5851527/need-help-in-setting-up-ui-based-testing-for-rails-application",
        "conteudo_html": "<p>I am leading a team which develops application based on Ruby on Rails. Since the application was small, automated testing was not given much importance. But lately it has started growing in size. I am seriously thinking of enforcing the testing discipline in the team.</p>\n\n<p>For all the new code that is being committed, I want my developers to do a 100% code coverage. But the problem is that they are resistant to write tests for UI related changes. I read online that Selenium is one of the solutions for UI testing. </p>\n\n<p>Can anyone share me a link to blog or tutorial which teaches me how to set up Selenium or some other automated UI testing for Rails. The version I use is 2.3.8.</p>\n",
        "codigo": []
    },
    {
        "titulo": "How to make two posts with different contents in GrailsIntegrationTesting",
        "score": 2,
        "views": 1185,
        "respostas": 2,
        "tags": [
            "testing",
            "grails",
            "controller",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/5344213/how-to-make-two-posts-with-different-contents-in-grailsintegrationtesting",
        "conteudo_html": "<p>I'm testing a controller, and I cannot make two posts with different contents.\nFollows an example, in which I execute a post to the cardController, with some data (post1, with json1). Then, I execute another post, with different data (post2 with json2). But I cannot make the second post succesfully, because I've seen (debuggin the application), that the json in the request, is json1 again, and not josn2. So, how can I make two different posts in the same test?</p>\n\n<pre><code>void testSomething(){\n\n    def json1 = [number: \"345678000000007\", exp_month: 5, exp_year: 2012] as JSON\n    def strJson1 = json1 as String\n\n    cardController.request.contentType = \"text/json\"\n    cardController.request.content = strJson1.getBytes()\n    def post1 = cardController.post()\n\n    def json2 = [number: \"345678000000009\", exp_month: 5, exp_year: 2013] as JSON\n    def strJson2 = json2 as String\n\n    cardController.request.contentType = \"text/json\"\n    cardController.request.content = strJson2.getBytes()\n    def post2 = cardController.post()\n}\n</code></pre>\n",
        "codigo": [
            "void testSomething(){\n\n    def json1 = [number: \"345678000000007\", exp_month: 5, exp_year: 2012] as JSON\n    def strJson1 = json1 as String\n\n    cardController.request.contentType = \"text/json\"\n    cardController.request.content = strJson1.getBytes()\n    def post1 = cardController.post()\n\n    def json2 = [number: \"345678000000009\", exp_month: 5, exp_year: 2013] as JSON\n    def strJson2 = json2 as String\n\n    cardController.request.contentType = \"text/json\"\n    cardController.request.content = strJson2.getBytes()\n    def post2 = cardController.post()\n}\n"
        ]
    },
    {
        "titulo": "Integration testing environment set up with Maven with not embedable dependency",
        "score": 1,
        "views": 644,
        "respostas": 1,
        "tags": [
            "java",
            "testing",
            "maven",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/5206058/integration-testing-environment-set-up-with-maven-with-not-embedable-dependency",
        "conteudo_html": "<p>I would like to discuss scenario when the part of our product is not embedable in JVM but has to take part during integration testing.</p>\n\n<p>Scenario: I am using Maven. My app uses following tools<br>\n  A) Active MQ<br>\n  B) Cassandra DB<br>\n  C) CXF WebService.   </p>\n\n<p>Solution 1 to integration testing: I am lucky that all A B and C are embedable. So I could just mock up A B C in my JVM and use it. This obviously works but this is not what I would like to discuss.</p>\n\n<p>Solution 2: Use Maven phases related to integration testing to setup whole enviro. So steps:<br>\n  1a) package A, B, C binaries to module so that it can unpack and prepare these products in pre-integration-test phase (something like homemade Cargo)   OR \n  1b) in pre-integration-test phase download these binaries from web and unpack etc etc (again emulating cargo project)\n  2) shut everything down in post-integration-test. </p>\n\n<p>How to carry out the solution 2 with Maven? Is there any plugin that would help with downloading, unpacking (and remembering not downloading again on same machine?). How to start up and shut down ABC provided their's location is known? Which Maven plugin? Should I just use antrun plugin and create scripts that will start up ABC from command line and then somehow tear them down (i dont know how to do this maybe by killing processes)?</p>\n",
        "codigo": []
    },
    {
        "titulo": "Making Rails tests aware of Rack middleware outside Rails&#39;s internal chain",
        "score": 17,
        "views": 7302,
        "respostas": 2,
        "tags": [
            "ruby-on-rails",
            "testing",
            "integration",
            "integration-testing",
            "rack"
        ],
        "link": "https://stackoverflow.com/questions/5016690/making-rails-tests-aware-of-rack-middleware-outside-railss-internal-chain",
        "conteudo_html": "<p><strong>Context</strong>: an application uses a piece of Rack middleware that <strong>must</strong> be setup in config.ru, rather than Rails's internal Middleware chain. This is for reasons not relevant to this question.</p>\n\n<p><strong>Question</strong>: how do I make my tests (functional and integration) aware of this middleware?</p>\n\n<p>I'll ellaborate with an example. Let's create a pristine Rails 3 app, using <a href=\"https://github.com/jtrupiano/rack-rewrite\" rel=\"noreferrer\">rack-rewrite</a> for illustration purposes.</p>\n\n<pre><code># /config/initializers/example.rb\nRails.application.middleware.insert 0, 'Rack::Rewrite' do\n r301 '/so', 'http://stackoverflow.com'\nend\n\n# /test/integration/the_test.rb\nrequire 'test_helper'\n\nclass TheTest &lt; ActionDispatch::IntegrationTest\n test \"redirect from /so to http://stackoverflow.com\" do\n   get '/so'\n   assert_redirected_to 'http://stackoverflow.com'\n end\nend\n</code></pre>\n\n<p>If you run the above test, all is good, and with the browser you can confirm that visiting the path <code>/so</code> will redirect you to StackOverflow indeed.</p>\n\n<p>Cool, let's now set this up outside Rails then. Remove the file <code>/config/initializers/example.rb</code> described above, and change <code>config.ru</code> to the following:</p>\n\n<pre><code># /config.ru\nrequire ::File.expand_path('../config/environment',  __FILE__)\n\nmap '/so' do\n  run Rack::Rewrite do\n    r301 '', 'http://stackoverflow.com'\n  end\nend\n\nmap '/' do\n  run Deleteme::Application\nend\n</code></pre>\n\n<p>Now, the test will stop working. The functionality does work, as evidenced if you visit <code>/so</code> with your browser. It's only that the tests are not aware of that Rack setup.</p>\n",
        "codigo": [
            "# /config/initializers/example.rb\nRails.application.middleware.insert 0, 'Rack::Rewrite' do\n r301 '/so', 'http://stackoverflow.com'\nend\n\n# /test/integration/the_test.rb\nrequire 'test_helper'\n\nclass TheTest < ActionDispatch::IntegrationTest\n test \"redirect from /so to http://stackoverflow.com\" do\n   get '/so'\n   assert_redirected_to 'http://stackoverflow.com'\n end\nend\n",
            "/so",
            "/config/initializers/example.rb",
            "config.ru",
            "# /config.ru\nrequire ::File.expand_path('../config/environment',  __FILE__)\n\nmap '/so' do\n  run Rack::Rewrite do\n    r301 '', 'http://stackoverflow.com'\n  end\nend\n\nmap '/' do\n  run Deleteme::Application\nend\n",
            "/so"
        ]
    },
    {
        "titulo": "Geb $ function not found when using Cucumber via Cuke4Duke",
        "score": 0,
        "views": 133,
        "respostas": 1,
        "tags": [
            "testing",
            "cucumber",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/4795697/geb-function-not-found-when-using-cucumber-via-cuke4duke",
        "conteudo_html": "<p>I'm using Cuke4Duke to run my Cucumber tests. I'm using Geb (<a href=\"http://geb.codehaus.org/manual/latest/index.html\" rel=\"nofollow\">Geb Manual</a>) to control the browser.</p>\n\n<p>Does anyone know how to configure Cucumber/Geb so that the $ function (<a href=\"http://geb.codehaus.org/manual/latest/navigator.html#the__function\" rel=\"nofollow\">Geb $ Function</a>) is available to Cucumber tests?</p>\n",
        "codigo": []
    },
    {
        "titulo": "Logging in Grails during Integration Testing",
        "score": 5,
        "views": 3413,
        "respostas": 2,
        "tags": [
            "testing",
            "grails",
            "log4j",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/4586415/logging-in-grails-during-integration-testing",
        "conteudo_html": "<p>I've been struggling for hours trying to get logging messages displayed (either to a file or the console) when performing integration tests. I assumed I could use the following code to add a log message:</p>\n\n<pre><code>log.debug \"Some useful information here\"\n</code></pre>\n\n<p>I have commented out the following line in <code>_GrailsWar.groovy</code>:</p>\n\n<pre><code>target(startLogging:\"Bootstraps logging\") {\n// do nothing, overrides default behaviour so that logging doesn't kick in    \n}\n</code></pre>\n\n<p>as suggested here <a href=\"http://jira.codehaus.org/browse/GRAILS-4470\" rel=\"noreferrer\">http://jira.codehaus.org/browse/GRAILS-4470</a></p>\n\n<p>The log4j section of <code>Config.groovy</code> looks like this:</p>\n\n<pre><code>// log4j configuration\nlog4j = {\n    // Example of changing the log pattern for the default console\n    // appender:\n    //\n    appenders {\n        //console name:'stdout', layout:pattern(conversionPattern: '%c{2} %m%n\n        //console name: 'stdout', layout: pattern(conversionPattern: '%d{dd-MM-yyyy HH:mm:ss,SSS} %5p %c{1} - %m%n')\n        //file name: 'hibeFile', file: 'hibe.log', layout: pattern(conversionPattern: '%d{dd-MM-yyyy HH:mm:ss,SSS} %5p %c{1} - %m%n')\n        file name:'file', file:'C:/Users/Christopher/Documents/NetBeansProjects/TestProject/smyh.log', append: false\n        console name:'stdout'\n    }\n\n    error  'org.codehaus.groovy.grails.web.servlet',  //  controllers\n           'org.codehaus.groovy.grails.web.pages', //  GSP\n           'org.codehaus.groovy.grails.web.sitemesh', //  layouts\n           'org.codehaus.groovy.grails.web.mapping.filter', // URL mapping\n           'org.codehaus.groovy.grails.web.mapping', // URL mapping\n           'org.codehaus.groovy.grails.commons', // core / classloading\n           'org.codehaus.groovy.grails.plugins', // plugins\n           'org.codehaus.groovy.grails.orm.hibernate', // hibernate integration\n           'org.springframework',\n           'org.hibernate',\n           'net.sf.ehcache.hibernate'\n\n    warn   'org.mortbay.log'\n\n    debug 'grails.app'\n\n    info 'grails.app'\n\n    root {\n      // change the root logger to my tomcatLog file\n      error 'file', stdout\n      info 'file', stdout\n      warn 'file', stdout\n      debug 'file', stdout\n      additivity = true\n    }\n\n}\n</code></pre>\n\n<p>Does anyone know why I can't see my log messages during integration tests?</p>\n\n<p>Many thanks for your time.</p>\n",
        "codigo": [
            "log.debug \"Some useful information here\"\n",
            "_GrailsWar.groovy",
            "target(startLogging:\"Bootstraps logging\") {\n// do nothing, overrides default behaviour so that logging doesn't kick in    \n}\n",
            "Config.groovy",
            "// log4j configuration\nlog4j = {\n    // Example of changing the log pattern for the default console\n    // appender:\n    //\n    appenders {\n        //console name:'stdout', layout:pattern(conversionPattern: '%c{2} %m%n\n        //console name: 'stdout', layout: pattern(conversionPattern: '%d{dd-MM-yyyy HH:mm:ss,SSS} %5p %c{1} - %m%n')\n        //file name: 'hibeFile', file: 'hibe.log', layout: pattern(conversionPattern: '%d{dd-MM-yyyy HH:mm:ss,SSS} %5p %c{1} - %m%n')\n        file name:'file', file:'C:/Users/Christopher/Documents/NetBeansProjects/TestProject/smyh.log', append: false\n        console name:'stdout'\n    }\n\n    error  'org.codehaus.groovy.grails.web.servlet',  //  controllers\n           'org.codehaus.groovy.grails.web.pages', //  GSP\n           'org.codehaus.groovy.grails.web.sitemesh', //  layouts\n           'org.codehaus.groovy.grails.web.mapping.filter', // URL mapping\n           'org.codehaus.groovy.grails.web.mapping', // URL mapping\n           'org.codehaus.groovy.grails.commons', // core / classloading\n           'org.codehaus.groovy.grails.plugins', // plugins\n           'org.codehaus.groovy.grails.orm.hibernate', // hibernate integration\n           'org.springframework',\n           'org.hibernate',\n           'net.sf.ehcache.hibernate'\n\n    warn   'org.mortbay.log'\n\n    debug 'grails.app'\n\n    info 'grails.app'\n\n    root {\n      // change the root logger to my tomcatLog file\n      error 'file', stdout\n      info 'file', stdout\n      warn 'file', stdout\n      debug 'file', stdout\n      additivity = true\n    }\n\n}\n"
        ]
    },
    {
        "titulo": "Error while executing Integration Test with JSON output",
        "score": 1,
        "views": 505,
        "respostas": 1,
        "tags": [
            "json",
            "testing",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/4020880/error-while-executing-integration-test-with-json-output",
        "conteudo_html": "<p>Below is my action in the controller. I am trying to test this action via an integration test. This would require me to mock the session objects as well. I have started with the integration test, but have no luck with it.</p>\n\n<pre><code>def listData= {\n\n    def playerId=session[\"playerId”]    \n\n    tuneInstanceList = tuneService.calculateId(playerId)\n\n\n    def listResult = [total: tuneInstanceList.size(), items: tuneInstanceList]\n\n    render listResult as JSON;\n\n}\n</code></pre>\n\n<p>Below is the CalculateId method in my service class:</p>\n\n<pre><code>List&lt;Tune&gt; calculateId(String playerId) {              \n\n   try{ \n   //read the sql file  \n        String playerSql = grailsApplication.mainContext.getResource('classpath:'     +         Constants.PLAYER_FILE).inputStream.text  \n\ndef sql = new groovy.sql.Sql(dataSource)                  \n\ndef params = [playerId:playerId]  \ndef tuneInstanceList = new ArrayList&lt;Tune&gt;()  \n\ndef results = sql.rows(playerSql, params)  \n\ntuneInstanceList = results.each {  \n    def tune = new Tune()  \n    tune.setPlayerId  it.player_id    \n    tuneInstanceList.add tune \n} \nreturn tuneInstanceList \n\n }catch (Exception ex) { \n    log.error ex.message, ex \n    throw ex \n} \n//finally { \n    //sql.close() \n//} \n</code></pre>\n\n<p>} </p>\n\n<p>Below is the Integration Test that I wrote. This isn’t correct and I am not sure what I should be putting up here. Inputs?</p>\n\n<pre><code>    public void testQuery () {\n\n    def myController = new TuneController()\n    myController.request.contentType = \"text/json\"\n\n    myController.tuneService = tuneService\n\n    myController.listData()\n\n    String actualJSON = myController.response.contentAsString\n\n    assertNotNull(actualJSON)\n\n\n\n\n}\n</code></pre>\n\n<p>I get the below error when I run the test.</p>\n\n<p>Cannot get property 'request' on null object</p>\n\n<p>java.lang.NullPointerException: Cannot get property 'request' on null object</p>\n\n<p>Thoughts??</p>\n",
        "codigo": [
            "def listData= {\n\n    def playerId=session[\"playerId”]    \n\n    tuneInstanceList = tuneService.calculateId(playerId)\n\n\n    def listResult = [total: tuneInstanceList.size(), items: tuneInstanceList]\n\n    render listResult as JSON;\n\n}\n",
            "List<Tune> calculateId(String playerId) {              \n\n   try{ \n   //read the sql file  \n        String playerSql = grailsApplication.mainContext.getResource('classpath:'     +         Constants.PLAYER_FILE).inputStream.text  \n\ndef sql = new groovy.sql.Sql(dataSource)                  \n\ndef params = [playerId:playerId]  \ndef tuneInstanceList = new ArrayList<Tune>()  \n\ndef results = sql.rows(playerSql, params)  \n\ntuneInstanceList = results.each {  \n    def tune = new Tune()  \n    tune.setPlayerId  it.player_id    \n    tuneInstanceList.add tune \n} \nreturn tuneInstanceList \n\n }catch (Exception ex) { \n    log.error ex.message, ex \n    throw ex \n} \n//finally { \n    //sql.close() \n//} \n",
            "    public void testQuery () {\n\n    def myController = new TuneController()\n    myController.request.contentType = \"text/json\"\n\n    myController.tuneService = tuneService\n\n    myController.listData()\n\n    String actualJSON = myController.response.contentAsString\n\n    assertNotNull(actualJSON)\n\n\n\n\n}\n"
        ]
    },
    {
        "titulo": "functional integration testing",
        "score": 0,
        "views": 1245,
        "respostas": 2,
        "tags": [
            "testing",
            "integration",
            "functional-programming"
        ],
        "link": "https://stackoverflow.com/questions/3670943/functional-integration-testing",
        "conteudo_html": "<p>Is software testing done in the following order?</p>\n\n<ol>\n<li>Unit testing</li>\n<li>Integration testing</li>\n<li>Functional testing</li>\n</ol>\n\n<p>I want to confirm if Functional testing is done after Integration testing or not.</p>\n\n<p>Thanx</p>\n",
        "codigo": []
    },
    {
        "titulo": "Testing Availability of External Data",
        "score": 0,
        "views": 59,
        "respostas": 1,
        "tags": [
            "testing",
            "integration",
            "system"
        ],
        "link": "https://stackoverflow.com/questions/3411812/testing-availability-of-external-data",
        "conteudo_html": "<p>In which level of testing,we should test for the data from an external source.</p>\n\n<p>For eg:When there is AirLine Flight schedule has interact with Airport Traffic Control System.This can be identified in which level of testing.</p>\n\n<p>Also,please provide me if there is any external resource that clearly defines the type of testing to be used.</p>\n",
        "codigo": []
    },
    {
        "titulo": "Where can I find project repositories with continuous testing?",
        "score": 2,
        "views": 29,
        "respostas": 1,
        "tags": [
            "logging",
            "repository",
            "integration",
            "testing",
            "continuous"
        ],
        "link": "https://stackoverflow.com/questions/2760181/where-can-i-find-project-repositories-with-continuous-testing",
        "conteudo_html": "<p>I am interested in studying some test logs from different projects, in order to build and test an application for school. I need to analyze the parts of the code which are tested, the bugs which appeared in those parts and eventually how they were resolved. </p>\n\n<p>But for this I need some repositories from different (open source) projects. Can someone please help me with ideas or links or any kind of test logs which might be useful? I really need some resources, so any help is appreciated.</p>\n",
        "codigo": []
    },
    {
        "titulo": "Can some one please provide the practical examples of stubs and drivers?",
        "score": 0,
        "views": 3051,
        "respostas": 1,
        "tags": [
            "testing",
            "integration",
            "integration-testing",
            "topdown",
            "bottom-up"
        ],
        "link": "https://stackoverflow.com/questions/1795262/can-some-one-please-provide-the-practical-examples-of-stubs-and-drivers",
        "conteudo_html": "<p>I need some practical examples of stubs and drivers with respect to top-down and bottom-up approaches to testing. I don't require code here. Just the scenario based examples.</p>\n",
        "codigo": []
    },
    {
        "titulo": "Where could I find some code examples about Integration Testing",
        "score": 2,
        "views": 361,
        "respostas": 1,
        "tags": [
            "unit-testing",
            "testing",
            "integration",
            "functional-programming"
        ],
        "link": "https://stackoverflow.com/questions/658306/where-could-i-find-some-code-examples-about-integration-testing",
        "conteudo_html": "<p>I have methods that interact with DB and external files. I need to write integration tests, however I am not sure how to.</p>\n\n<p>Do you know where I can find some source codes about integration testing with Database or External File?</p>\n\n<p>If you write a test method that tests a production method in which there are calls to other methods, is this an integration test, system test or functional test? It's not unit test obviously.</p>\n",
        "codigo": []
    },
    {
        "titulo": "Data access Integration Testing...how do you do it?",
        "score": 0,
        "views": 147,
        "respostas": 1,
        "tags": [
            ".net",
            "testing",
            "tdd",
            "continuous-integration",
            "integration"
        ],
        "link": "https://stackoverflow.com/questions/308159/data-access-integration-testing-how-do-you-do-it",
        "conteudo_html": "<pre><code>public class RollBack : OnMethodBoundaryAspect // or another AOP for meth interception\n{\n    public override void OnEntry(MethodExecutionEventArgs eventArgs)\n    {\n        try\n        {\n            ServiceConfig cfg = new ServiceConfig();\n            cfg.Transaction = TransactionOption.RequiresNew;\n            cfg.TrackingAppName = \"Application Unit Tests\";\n            cfg.TransactionDescription = \"Application Unit Tests Transaction\";\n            cfg.TransactionTimeout = 0x2710;\n            ServiceDomain.Enter(cfg);\n        }\n        catch (Exception exception)\n        {\n            Console.WriteLine(\"Could not enter into a new transaction:\\n\" + exception);\n        }\n    }\n\n    public override void OnExit(MethodExecutionEventArgs eventArgs)\n    {\n        try\n        {\n            if (ContextUtil.IsInTransaction)\n            {\n                ContextUtil.SetAbort();\n            }\n            ServiceDomain.Leave();\n        }\n        catch (Exception exception)\n        {\n            Console.WriteLine(\"Could not leave an existing transaction:\\n\" + exception);\n        }\n    }\n}\n</code></pre>\n",
        "codigo": [
            "public class RollBack : OnMethodBoundaryAspect // or another AOP for meth interception\n{\n    public override void OnEntry(MethodExecutionEventArgs eventArgs)\n    {\n        try\n        {\n            ServiceConfig cfg = new ServiceConfig();\n            cfg.Transaction = TransactionOption.RequiresNew;\n            cfg.TrackingAppName = \"Application Unit Tests\";\n            cfg.TransactionDescription = \"Application Unit Tests Transaction\";\n            cfg.TransactionTimeout = 0x2710;\n            ServiceDomain.Enter(cfg);\n        }\n        catch (Exception exception)\n        {\n            Console.WriteLine(\"Could not enter into a new transaction:\\n\" + exception);\n        }\n    }\n\n    public override void OnExit(MethodExecutionEventArgs eventArgs)\n    {\n        try\n        {\n            if (ContextUtil.IsInTransaction)\n            {\n                ContextUtil.SetAbort();\n            }\n            ServiceDomain.Leave();\n        }\n        catch (Exception exception)\n        {\n            Console.WriteLine(\"Could not leave an existing transaction:\\n\" + exception);\n        }\n    }\n}\n"
        ]
    },
    {
        "titulo": "Users of Gallio, what Advantages and Disadvantages have you experienced using this Tool?",
        "score": 12,
        "views": 2140,
        "respostas": 7,
        "tags": [
            ".net",
            "testing",
            "integration",
            "mbunit",
            "gallio"
        ],
        "link": "https://stackoverflow.com/questions/57512/users-of-gallio-what-advantages-and-disadvantages-have-you-experienced-using-th",
        "conteudo_html": "<p>For those of you familiar with <a href=\"http://www.gallio.org\" rel=\"noreferrer\">Gallio</a>, what Advantages and Disadvantages have you experienced using this tool, a so-called Test Automation Platform?</p>\n",
        "codigo": []
    }
]