[
    {
        "titulo": "A failure occurred while executing com.android.build.gradle.tasks.VerifyLibraryResourcesTask$Action despite fixes",
        "score": 0,
        "views": 24,
        "respostas": 0,
        "tags": [
            "android",
            "flutter",
            "firebase",
            "dart",
            "gradle"
        ],
        "link": "https://stackoverflow.com/questions/79773290/a-failure-occurred-while-executing-com-android-build-gradle-tasks-verifylibraryr",
        "conteudo_html": "<p>I am trying to run my Flutter-Firebase app on Android. Currently experiencing the error below after running <code>flutter build apk --verbose</code> followed by a log of:</p>\n<pre><code>94: AAPT: error: resource android:attr/lStar not found.\n[        ] * Try:\n[        ] &gt; Run with --debug option to get more log output.\n[        ] &gt; Run with --scan to get full insights.\n[        ] &gt; Get more help at https://help.gradle.org.\n[        ] * Exception is:\n[        ] org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':printing:verifyReleaseResources'.\n[        ]      at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:130)\n[        ]      at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n[        ]      at \n...\n[        ]      at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\n[        ]      at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n[        ]      at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)```\n\nAnd finally ending with a Flutter Fix box prompting:\n`[!] Your project requires a newer version of the Kotlin Gradle plugin.`\n\nWhat I have tried:\n`flutter doctor -v`\n```[√] Flutter (Channel stable, 3.35.4, on Microsoft Windows [Version 10.0.26100.4946], locale en-PH) [442ms]\n    • Flutter version 3.35.4 on channel stable at C:\\src\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision d693b4b9db (8 days ago), 2025-09-16 14:27:41 +0000\n    • Engine revision c298091351\n    • Dart version 3.9.2\n    • DevTools version 2.48.0\n    • Feature flags: enable-web, enable-linux-desktop, enable-macos-desktop, enable-windows-desktop, enable-android, enable-ios, cli-animations,\n      enable-lldb-debugging\n\n[√] Windows Version (11 Home 64-bit, 24H2, 2009) [1,304ms]\n\n[√] Android toolchain - develop for Android devices (Android SDK version 35.0.0) [2.8s]\n    • Android SDK at C:\\Users\\johnf\\AppData\\Local\\Android\\sdk\n    • Emulator version 34.2.15.0 (build_id 11906825) (CL:N/A)\n    • Platform android-36, build-tools 35.0.0\n    • Java binary at: C:\\Program Files\\Java\\jdk-17\\bin\\java\n      This JDK is specified in your Flutter configuration.\n      To change the current JDK, run: `flutter config --jdk-dir=&quot;path/to/jdk&quot;`.\n    • Java version Java(TM) SE Runtime Environment (build 17.0.12+8-LTS-286)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web [180ms]\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.10.2) [178ms]\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.10.35004.147\n    • Windows 10 SDK version 10.0.22621.0\n\n[√] Android Studio (version 2025.1.1) [11ms]\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.6+-13391695-b895.109)\n\n[√] VS Code (version 1.104.1) [9ms]\n    • VS Code at C:\\Users\\johnf\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.118.0\n\n[√] Connected device (3 available) [248ms]\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.26100.4946]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 140.0.7339.185\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 139.0.3405.125\n\n[√] Network resources [506ms]\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n<p><code>flutter clean</code>, <code>flutter pub get</code></p>\n<pre><code>Resolving dependencies... (1.2s)\nDownloading packages...\n  _flutterfire_internals 1.3.35 (1.3.62 available)\n  characters 1.4.0 (1.4.1 available)\n  cloud_firestore 4.17.5 (6.0.2 available)\n  cloud_firestore_platform_interface 6.2.5 (7.0.2 available)\n  cloud_firestore_web 3.12.5 (5.0.2 available)\n  firebase_auth 4.20.0 (6.1.0 available)\n  firebase_auth_platform_interface 7.3.0 (8.1.2 available)\n  firebase_auth_web 5.12.0 (6.0.3 available)\n  firebase_core 2.32.0 (4.1.1 available)\n  firebase_core_platform_interface 5.4.2 (6.0.1 available)\n  firebase_core_web 2.17.5 (3.1.1 available)\n  material_color_utilities 0.11.1 (0.13.0 available)\n  meta 1.16.0 (1.17.0 available)\n  permission_handler 11.4.0 (12.0.1 available)\n  permission_handler_android 12.1.0 (13.0.1 available)\n  petitparser 6.1.0 (7.0.1 available)\n  printing 5.13.1 (5.14.2 available)\n  provider 6.1.5 (6.1.5+1 available)\n  test_api 0.7.6 (0.7.7 available)\n  vm_service 15.0.0 (15.0.2 available)\n  web 0.5.1 (1.1.1 available)\n  xml 6.5.0 (6.6.1 available)\nGot dependencies!\n22 packages have newer versions incompatible with dependency constraints.\n</code></pre>\n<p><code>gradlew clean</code>:\nBUILD SUCCESS</p>\n<p>Finally my <code>pubspec.yaml</code>:</p>\n<pre><code>description: &quot;A new Flutter project.&quot;\nversion: 1.0.0+1\n\nenvironment:\n  sdk: ^3.8.1\n\ndependencies:\n  flutter:\n    sdk: flutter\n  cupertino_icons: ^1.0.8\n  \n  firebase_core: ^2.27.0\n  firebase_auth: ^4.17.8\n  cloud_firestore: ^4.15.8\n  \n  provider: ^6.1.2\n  intl: ^0.20.2\n  pdf: ^3.10.6\n  printing: ^5.12.0\n  path_provider: ^2.1.1\n  permission_handler: ^11.0.0\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  flutter_launcher_icons: ^0.14.4\n  flutter_lints: ^6.0.0\n\nflutter_launcher_icons:\n  android: &quot;launcher_icon&quot;\n  ios: true\n  image_path: &quot;assets/images/online-shopping.png&quot;\n  min_sdk_android: 21 # android min sdk min:16, default 21\n  web:\n    generate: true\n  windows:\n    generate: true\n  macos:\n    generate: true\n\nflutter:\n  uses-material-design: true\n  \n  assets:\n  - assets/images/\n</code></pre>\n<p>Note: I want it to work on Android. Web platform already works (tried and tested with <code>flutter run -d chrome</code> and experienced no issues). Tried to resolve the issues with all top discussions here like <a href=\"https://stackoverflow.com/questions/69033022/message-error-resource-androidattr-lstar-not-found\">Message &quot;error: resource android:attr/lStar not found&quot;</a>. Unfortunately they come back with errors.</p>\n<p>I am ruling this as a dependency/Kotlin/Gradle issue but I definitely still lack knowledge to resolve this. If you guys have corrections, clarifications or questions (i.e. show <code>build.gradle.kts</code> files), I'd be happy to fill you in. Thank you!</p>\n",
        "codigo": [
            "flutter build apk --verbose",
            "94: AAPT: error: resource android:attr/lStar not found.\n[        ] * Try:\n[        ] > Run with --debug option to get more log output.\n[        ] > Run with --scan to get full insights.\n[        ] > Get more help at https://help.gradle.org.\n[        ] * Exception is:\n[        ] org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':printing:verifyReleaseResources'.\n[        ]      at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:130)\n[        ]      at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n[        ]      at \n...\n[        ]      at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\n[        ]      at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n[        ]      at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)```\n\nAnd finally ending with a Flutter Fix box prompting:\n`[!] Your project requires a newer version of the Kotlin Gradle plugin.`\n\nWhat I have tried:\n`flutter doctor -v`\n```[√] Flutter (Channel stable, 3.35.4, on Microsoft Windows [Version 10.0.26100.4946], locale en-PH) [442ms]\n    • Flutter version 3.35.4 on channel stable at C:\\src\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision d693b4b9db (8 days ago), 2025-09-16 14:27:41 +0000\n    • Engine revision c298091351\n    • Dart version 3.9.2\n    • DevTools version 2.48.0\n    • Feature flags: enable-web, enable-linux-desktop, enable-macos-desktop, enable-windows-desktop, enable-android, enable-ios, cli-animations,\n      enable-lldb-debugging\n\n[√] Windows Version (11 Home 64-bit, 24H2, 2009) [1,304ms]\n\n[√] Android toolchain - develop for Android devices (Android SDK version 35.0.0) [2.8s]\n    • Android SDK at C:\\Users\\johnf\\AppData\\Local\\Android\\sdk\n    • Emulator version 34.2.15.0 (build_id 11906825) (CL:N/A)\n    • Platform android-36, build-tools 35.0.0\n    • Java binary at: C:\\Program Files\\Java\\jdk-17\\bin\\java\n      This JDK is specified in your Flutter configuration.\n      To change the current JDK, run: `flutter config --jdk-dir=\"path/to/jdk\"`.\n    • Java version Java(TM) SE Runtime Environment (build 17.0.12+8-LTS-286)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web [180ms]\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.10.2) [178ms]\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.10.35004.147\n    • Windows 10 SDK version 10.0.22621.0\n\n[√] Android Studio (version 2025.1.1) [11ms]\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.6+-13391695-b895.109)\n\n[√] VS Code (version 1.104.1) [9ms]\n    • VS Code at C:\\Users\\johnf\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.118.0\n\n[√] Connected device (3 available) [248ms]\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.26100.4946]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 140.0.7339.185\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 139.0.3405.125\n\n[√] Network resources [506ms]\n    • All expected network resources are available.\n\n• No issues found!\n",
            "flutter clean",
            "flutter pub get",
            "Resolving dependencies... (1.2s)\nDownloading packages...\n  _flutterfire_internals 1.3.35 (1.3.62 available)\n  characters 1.4.0 (1.4.1 available)\n  cloud_firestore 4.17.5 (6.0.2 available)\n  cloud_firestore_platform_interface 6.2.5 (7.0.2 available)\n  cloud_firestore_web 3.12.5 (5.0.2 available)\n  firebase_auth 4.20.0 (6.1.0 available)\n  firebase_auth_platform_interface 7.3.0 (8.1.2 available)\n  firebase_auth_web 5.12.0 (6.0.3 available)\n  firebase_core 2.32.0 (4.1.1 available)\n  firebase_core_platform_interface 5.4.2 (6.0.1 available)\n  firebase_core_web 2.17.5 (3.1.1 available)\n  material_color_utilities 0.11.1 (0.13.0 available)\n  meta 1.16.0 (1.17.0 available)\n  permission_handler 11.4.0 (12.0.1 available)\n  permission_handler_android 12.1.0 (13.0.1 available)\n  petitparser 6.1.0 (7.0.1 available)\n  printing 5.13.1 (5.14.2 available)\n  provider 6.1.5 (6.1.5+1 available)\n  test_api 0.7.6 (0.7.7 available)\n  vm_service 15.0.0 (15.0.2 available)\n  web 0.5.1 (1.1.1 available)\n  xml 6.5.0 (6.6.1 available)\nGot dependencies!\n22 packages have newer versions incompatible with dependency constraints.\n",
            "gradlew clean",
            "pubspec.yaml",
            "description: \"A new Flutter project.\"\nversion: 1.0.0+1\n\nenvironment:\n  sdk: ^3.8.1\n\ndependencies:\n  flutter:\n    sdk: flutter\n  cupertino_icons: ^1.0.8\n  \n  firebase_core: ^2.27.0\n  firebase_auth: ^4.17.8\n  cloud_firestore: ^4.15.8\n  \n  provider: ^6.1.2\n  intl: ^0.20.2\n  pdf: ^3.10.6\n  printing: ^5.12.0\n  path_provider: ^2.1.1\n  permission_handler: ^11.0.0\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  flutter_launcher_icons: ^0.14.4\n  flutter_lints: ^6.0.0\n\nflutter_launcher_icons:\n  android: \"launcher_icon\"\n  ios: true\n  image_path: \"assets/images/online-shopping.png\"\n  min_sdk_android: 21 # android min sdk min:16, default 21\n  web:\n    generate: true\n  windows:\n    generate: true\n  macos:\n    generate: true\n\nflutter:\n  uses-material-design: true\n  \n  assets:\n  - assets/images/\n",
            "flutter run -d chrome",
            "build.gradle.kts"
        ]
    },
    {
        "titulo": "Missing Linux implementations for path_provider, shared_preferences, and url_launcher",
        "score": 1,
        "views": 59,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "sharedpreferences",
            "url-launcher",
            "path-provider"
        ],
        "link": "https://stackoverflow.com/questions/79763901/missing-linux-implementations-for-path-provider-shared-preferences-and-url-lau",
        "conteudo_html": "<p>After updating some Linux Mint 22.2 packages (I forget which packages) I no longer able to run my Flutter app correctly because of these errors:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Package path_provider:linux references path_provider_linux:linux as the default plugin, but the package does not exist, or is not a plugin package.\nAsk the maintainers of path_provider to either avoid referencing a default implementation via `platforms: linux: default_package: path_provider_linux` or create a plugin named\npath_provider_linux.\n\n\nPackage shared_preferences:linux references shared_preferences_linux:linux as the default plugin, but the package does not exist, or is not a plugin package.\nAsk the maintainers of shared_preferences to either avoid referencing a default implementation via `platforms: linux: default_package: shared_preferences_linux` or create a plugin named\nshared_preferences_linux.\n\n\nPackage url_launcher:linux references url_launcher_linux:linux as the default plugin, but the package does not exist, or is not a plugin package.\nAsk the maintainers of url_launcher to either avoid referencing a default implementation via `platforms: linux: default_package: url_launcher_linux` or create a plugin named\nurl_launcher_linux.\n</code></pre>\n<p>How can I fix this issue?</p>\n<p>I tried these but failed to solve this issue!</p>\n<ol>\n<li>Reboot Linux</li>\n<li>Made a deep clean for Flutter project:</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>flutter clean\nrm -rf android .gradle build linux ios pubspec.lock .dart_tool\nflutter create --platforms android .\nflutter create --platforms linux .\nflutter create --platforms ios .\nflutter pub get\n</code></pre>\n<ol start=\"3\">\n<li>Reinstalled <code>libgtk-3-dev</code></li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo apt remove --purge libgtk-3-dev\nsudo apt install libgtk-3-dev\n</code></pre>\n<p>pubspec.yaml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: test_linux_and\ndescription: &quot;A new Flutter project.&quot;\npublish_to: 'none'\nversion: 0.1.0\n\nenvironment:\n  sdk: ^3.9.2\n\ndependencies:\n  flutter:\n    sdk: flutter\n  path_provider: ^2.1.5\n  shared_preferences: ^2.4.1\n  url_launcher: ^6.3.2\n\ndev_dependencies:\n  flutter_lints: ^5.0.0\n  flutter_test:\n    sdk: flutter\n\nflutter:\n  uses-material-design: true\n</code></pre>\n<p>main.dart</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\nimport 'package:path_provider/path_provider.dart';\nimport 'package:shared_preferences/shared_preferences.dart';\nimport 'package:url_launcher/url_launcher.dart';\nimport 'dart:io';\n\nvoid main() {\n  runApp(const MainApp());\n}\n\nclass MainApp extends StatelessWidget {\n  const MainApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(title: const Text('Flutter Packages Demo')),\n        body: const PackageDemoScreen(),\n      ),\n    );\n  }\n}\n\nclass PackageDemoScreen extends StatefulWidget {\n  const PackageDemoScreen({super.key});\n\n  @override\n  State&lt;PackageDemoScreen&gt; createState() =&gt; _PackageDemoScreenState();\n}\n\nclass _PackageDemoScreenState extends State&lt;PackageDemoScreen&gt; {\n  String _filePath = 'No path yet';\n  String _preferenceValue = 'No value yet';\n  String _errorMessage = '';\n  bool _isLoading = false;\n\n  final TextEditingController _preferenceController = TextEditingController();\n  final TextEditingController _urlController = TextEditingController(\n    text: 'https://flutter.dev',\n  );\n\n  @override\n  void initState() {\n    super.initState();\n    _loadPreference();\n  }\n\n  Future&lt;void&gt; _getTempDirectory() async {\n    setState(() {\n      _isLoading = true;\n      _errorMessage = '';\n    });\n\n    try {\n      final Directory tempDir = await getTemporaryDirectory();\n      setState(() {\n        _filePath = tempDir.path;\n      });\n    } catch (e) {\n      setState(() {\n        _errorMessage = 'Path Provider Error: $e';\n      });\n      // Log error to console\n      print('Path Provider Error: $e');\n    } finally {\n      setState(() {\n        _isLoading = false;\n      });\n    }\n  }\n\n  Future&lt;void&gt; _savePreference() async {\n    if (_preferenceController.text.isEmpty) return;\n\n    setState(() {\n      _isLoading = true;\n      _errorMessage = '';\n    });\n\n    try {\n      final SharedPreferences prefs = await SharedPreferences.getInstance();\n      await prefs.setString('demo_key', _preferenceController.text);\n      setState(() {\n        _preferenceValue = _preferenceController.text;\n      });\n      _preferenceController.clear();\n    } catch (e) {\n      setState(() {\n        _errorMessage = 'Shared Preferences Error: $e';\n      });\n      // Log error to console\n      print('Shared Preferences Error: $e');\n    } finally {\n      setState(() {\n        _isLoading = false;\n      });\n    }\n  }\n\n  Future&lt;void&gt; _loadPreference() async {\n    try {\n      final SharedPreferences prefs = await SharedPreferences.getInstance();\n      setState(() {\n        _preferenceValue = prefs.getString('demo_key') ?? 'No value yet';\n      });\n    } catch (e) {\n      setState(() {\n        _errorMessage = 'Error loading preference: $e';\n      });\n      // Log error to console\n      print('Error loading preference: $e');\n    }\n  }\n\n  Future&lt;void&gt; _launchUrl() async {\n    if (_urlController.text.isEmpty) return;\n\n    setState(() {\n      _errorMessage = '';\n    });\n\n    try {\n      final Uri url = Uri.parse(_urlController.text);\n      if (!await launchUrl(url, mode: LaunchMode.externalApplication)) {\n        setState(() {\n          _errorMessage = 'Could not launch URL';\n        });\n        // Log error to console\n        print('Could not launch URL: ${_urlController.text}');\n      }\n    } catch (e) {\n      setState(() {\n        _errorMessage = 'URL Launcher Error: $e';\n      });\n      // Log error to console\n      print('URL Launcher Error: $e');\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Stack(\n      children: [\n        Padding(\n          padding: const EdgeInsets.all(16.0),\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              if (_errorMessage.isNotEmpty)\n                Container(\n                  padding: const EdgeInsets.all(8),\n                  color: Colors.red[100],\n                  child: Text(\n                    _errorMessage,\n                    style: const TextStyle(color: Colors.red),\n                  ),\n                ),\n\n              const Text(\n                'path_provider:',\n                style: TextStyle(fontWeight: FontWeight.bold),\n              ),\n              Text('Path: $_filePath'),\n              ElevatedButton(\n                onPressed: _isLoading ? null : _getTempDirectory,\n                child: const Text('Get Temp Directory'),\n              ),\n\n              const Divider(),\n              const Text(\n                'shared_preferences:',\n                style: TextStyle(fontWeight: FontWeight.bold),\n              ),\n              Text('Stored: $_preferenceValue'),\n              TextField(\n                controller: _preferenceController,\n                decoration: const InputDecoration(hintText: 'Enter value'),\n              ),\n              ElevatedButton(\n                onPressed: _isLoading ? null : _savePreference,\n                child: const Text('Save Value'),\n              ),\n\n              const Divider(),\n              const Text(\n                'url_launcher:',\n                style: TextStyle(fontWeight: FontWeight.bold),\n              ),\n              TextField(\n                controller: _urlController,\n                decoration: const InputDecoration(hintText: 'Enter URL'),\n              ),\n              ElevatedButton(\n                onPressed: _isLoading ? null : _launchUrl,\n                child: const Text('Launch URL'),\n              ),\n            ],\n          ),\n        ),\n        if (_isLoading) const Center(child: CircularProgressIndicator()),\n      ],\n    );\n  }\n\n  @override\n  void dispose() {\n    _preferenceController.dispose();\n    _urlController.dispose();\n    super.dispose();\n  }\n}\n</code></pre>\n<p>flutter doctor</p>\n<pre><code>[✓] Flutter (Channel stable, 3.35.3, on Linux Mint 22.2 6.8.0-79-generic, locale en_US.UTF-8) [78ms]\n    • Flutter version 3.35.3 on channel stable at /home/laptop/.flutter/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision a402d9a437 (10 days ago), 2025-09-03 14:54:31 -0700\n    • Engine revision ddf47dd3ff\n    • Dart version 3.9.2\n    • DevTools version 2.48.0\n    • Feature flags: enable-web, enable-linux-desktop, enable-macos-desktop, enable-windows-desktop, enable-android, enable-ios, cli-animations, enable-lldb-debugging\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 36.0.0) [4.5s]\n    • Android SDK at /home/laptop/.android/sdk\n    • Emulator version 35.4.9.0 (build_id 13025442) (CL:N/A)\n    • Platform android-36, build-tools 36.0.0\n    • ANDROID_HOME = /home/laptop/.android/sdk\n    • Java binary at: /usr/bin/java\n      This JDK was found in the system PATH.\n      To manually set the JDK path, use: `flutter config --jdk-dir=&quot;path/to/jdk&quot;`.\n    • Java version OpenJDK Runtime Environment (build 21.0.8+9-Ubuntu-0ubuntu124.04.1)\n    • All Android licenses accepted.\n\n[✓] Chrome - develop for the web [26ms]\n    • CHROME_EXECUTABLE = /usr/bin/chromium\n\n[✓] Linux toolchain - develop for Linux desktop [903ms]\n    • Ubuntu clang version 18.1.3 (1ubuntu1)\n    • cmake version 3.28.3\n    • ninja version 1.11.1\n    • pkg-config version 1.8.1\n    • OpenGL core renderer: Mesa Intel(R) HD Graphics 4000 (IVB GT2) (X11)\n    • OpenGL core version: 4.2 (Core Profile) Mesa 25.0.7-0ubuntu0.24.04.2 (X11)\n    • OpenGL core shading language version: 4.20 (X11)\n    • OpenGL ES renderer: Mesa Intel(R) HD Graphics 4000 (IVB GT2) (X11)\n    • OpenGL ES version: OpenGL ES 3.0 Mesa 25.0.7-0ubuntu0.24.04.2 (X11)\n    • OpenGL ES shading language version: OpenGL ES GLSL ES 3.00 (X11)\n    • GL_EXT_framebuffer_blit: yes (X11)\n    • GL_EXT_texture_format_BGRA8888: yes (X11)\n\n[!] Android Studio (not installed) [20ms]\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\n      (or visit https://flutter.dev/to/linux-android-setup for detailed instructions).\n\n[✓] Connected device (2 available) [317ms]\n    • Linux (desktop) • linux  • linux-x64      • Linux Mint 22.2 6.8.0-79-generic\n    • Chrome (web)    • chrome • web-javascript • Chromium 140.0.7339.127 for Linux Mint\n\n[✓] Network resources [1,020ms]\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n</code></pre>\n",
        "codigo": [
            "Package path_provider:linux references path_provider_linux:linux as the default plugin, but the package does not exist, or is not a plugin package.\nAsk the maintainers of path_provider to either avoid referencing a default implementation via `platforms: linux: default_package: path_provider_linux` or create a plugin named\npath_provider_linux.\n\n\nPackage shared_preferences:linux references shared_preferences_linux:linux as the default plugin, but the package does not exist, or is not a plugin package.\nAsk the maintainers of shared_preferences to either avoid referencing a default implementation via `platforms: linux: default_package: shared_preferences_linux` or create a plugin named\nshared_preferences_linux.\n\n\nPackage url_launcher:linux references url_launcher_linux:linux as the default plugin, but the package does not exist, or is not a plugin package.\nAsk the maintainers of url_launcher to either avoid referencing a default implementation via `platforms: linux: default_package: url_launcher_linux` or create a plugin named\nurl_launcher_linux.\n",
            "flutter clean\nrm -rf android .gradle build linux ios pubspec.lock .dart_tool\nflutter create --platforms android .\nflutter create --platforms linux .\nflutter create --platforms ios .\nflutter pub get\n",
            "libgtk-3-dev",
            "sudo apt remove --purge libgtk-3-dev\nsudo apt install libgtk-3-dev\n",
            "name: test_linux_and\ndescription: \"A new Flutter project.\"\npublish_to: 'none'\nversion: 0.1.0\n\nenvironment:\n  sdk: ^3.9.2\n\ndependencies:\n  flutter:\n    sdk: flutter\n  path_provider: ^2.1.5\n  shared_preferences: ^2.4.1\n  url_launcher: ^6.3.2\n\ndev_dependencies:\n  flutter_lints: ^5.0.0\n  flutter_test:\n    sdk: flutter\n\nflutter:\n  uses-material-design: true\n",
            "import 'package:flutter/material.dart';\nimport 'package:path_provider/path_provider.dart';\nimport 'package:shared_preferences/shared_preferences.dart';\nimport 'package:url_launcher/url_launcher.dart';\nimport 'dart:io';\n\nvoid main() {\n  runApp(const MainApp());\n}\n\nclass MainApp extends StatelessWidget {\n  const MainApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(title: const Text('Flutter Packages Demo')),\n        body: const PackageDemoScreen(),\n      ),\n    );\n  }\n}\n\nclass PackageDemoScreen extends StatefulWidget {\n  const PackageDemoScreen({super.key});\n\n  @override\n  State<PackageDemoScreen> createState() => _PackageDemoScreenState();\n}\n\nclass _PackageDemoScreenState extends State<PackageDemoScreen> {\n  String _filePath = 'No path yet';\n  String _preferenceValue = 'No value yet';\n  String _errorMessage = '';\n  bool _isLoading = false;\n\n  final TextEditingController _preferenceController = TextEditingController();\n  final TextEditingController _urlController = TextEditingController(\n    text: 'https://flutter.dev',\n  );\n\n  @override\n  void initState() {\n    super.initState();\n    _loadPreference();\n  }\n\n  Future<void> _getTempDirectory() async {\n    setState(() {\n      _isLoading = true;\n      _errorMessage = '';\n    });\n\n    try {\n      final Directory tempDir = await getTemporaryDirectory();\n      setState(() {\n        _filePath = tempDir.path;\n      });\n    } catch (e) {\n      setState(() {\n        _errorMessage = 'Path Provider Error: $e';\n      });\n      // Log error to console\n      print('Path Provider Error: $e');\n    } finally {\n      setState(() {\n        _isLoading = false;\n      });\n    }\n  }\n\n  Future<void> _savePreference() async {\n    if (_preferenceController.text.isEmpty) return;\n\n    setState(() {\n      _isLoading = true;\n      _errorMessage = '';\n    });\n\n    try {\n      final SharedPreferences prefs = await SharedPreferences.getInstance();\n      await prefs.setString('demo_key', _preferenceController.text);\n      setState(() {\n        _preferenceValue = _preferenceController.text;\n      });\n      _preferenceController.clear();\n    } catch (e) {\n      setState(() {\n        _errorMessage = 'Shared Preferences Error: $e';\n      });\n      // Log error to console\n      print('Shared Preferences Error: $e');\n    } finally {\n      setState(() {\n        _isLoading = false;\n      });\n    }\n  }\n\n  Future<void> _loadPreference() async {\n    try {\n      final SharedPreferences prefs = await SharedPreferences.getInstance();\n      setState(() {\n        _preferenceValue = prefs.getString('demo_key') ?? 'No value yet';\n      });\n    } catch (e) {\n      setState(() {\n        _errorMessage = 'Error loading preference: $e';\n      });\n      // Log error to console\n      print('Error loading preference: $e');\n    }\n  }\n\n  Future<void> _launchUrl() async {\n    if (_urlController.text.isEmpty) return;\n\n    setState(() {\n      _errorMessage = '';\n    });\n\n    try {\n      final Uri url = Uri.parse(_urlController.text);\n      if (!await launchUrl(url, mode: LaunchMode.externalApplication)) {\n        setState(() {\n          _errorMessage = 'Could not launch URL';\n        });\n        // Log error to console\n        print('Could not launch URL: ${_urlController.text}');\n      }\n    } catch (e) {\n      setState(() {\n        _errorMessage = 'URL Launcher Error: $e';\n      });\n      // Log error to console\n      print('URL Launcher Error: $e');\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Stack(\n      children: [\n        Padding(\n          padding: const EdgeInsets.all(16.0),\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              if (_errorMessage.isNotEmpty)\n                Container(\n                  padding: const EdgeInsets.all(8),\n                  color: Colors.red[100],\n                  child: Text(\n                    _errorMessage,\n                    style: const TextStyle(color: Colors.red),\n                  ),\n                ),\n\n              const Text(\n                'path_provider:',\n                style: TextStyle(fontWeight: FontWeight.bold),\n              ),\n              Text('Path: $_filePath'),\n              ElevatedButton(\n                onPressed: _isLoading ? null : _getTempDirectory,\n                child: const Text('Get Temp Directory'),\n              ),\n\n              const Divider(),\n              const Text(\n                'shared_preferences:',\n                style: TextStyle(fontWeight: FontWeight.bold),\n              ),\n              Text('Stored: $_preferenceValue'),\n              TextField(\n                controller: _preferenceController,\n                decoration: const InputDecoration(hintText: 'Enter value'),\n              ),\n              ElevatedButton(\n                onPressed: _isLoading ? null : _savePreference,\n                child: const Text('Save Value'),\n              ),\n\n              const Divider(),\n              const Text(\n                'url_launcher:',\n                style: TextStyle(fontWeight: FontWeight.bold),\n              ),\n              TextField(\n                controller: _urlController,\n                decoration: const InputDecoration(hintText: 'Enter URL'),\n              ),\n              ElevatedButton(\n                onPressed: _isLoading ? null : _launchUrl,\n                child: const Text('Launch URL'),\n              ),\n            ],\n          ),\n        ),\n        if (_isLoading) const Center(child: CircularProgressIndicator()),\n      ],\n    );\n  }\n\n  @override\n  void dispose() {\n    _preferenceController.dispose();\n    _urlController.dispose();\n    super.dispose();\n  }\n}\n",
            "[✓] Flutter (Channel stable, 3.35.3, on Linux Mint 22.2 6.8.0-79-generic, locale en_US.UTF-8) [78ms]\n    • Flutter version 3.35.3 on channel stable at /home/laptop/.flutter/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision a402d9a437 (10 days ago), 2025-09-03 14:54:31 -0700\n    • Engine revision ddf47dd3ff\n    • Dart version 3.9.2\n    • DevTools version 2.48.0\n    • Feature flags: enable-web, enable-linux-desktop, enable-macos-desktop, enable-windows-desktop, enable-android, enable-ios, cli-animations, enable-lldb-debugging\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 36.0.0) [4.5s]\n    • Android SDK at /home/laptop/.android/sdk\n    • Emulator version 35.4.9.0 (build_id 13025442) (CL:N/A)\n    • Platform android-36, build-tools 36.0.0\n    • ANDROID_HOME = /home/laptop/.android/sdk\n    • Java binary at: /usr/bin/java\n      This JDK was found in the system PATH.\n      To manually set the JDK path, use: `flutter config --jdk-dir=\"path/to/jdk\"`.\n    • Java version OpenJDK Runtime Environment (build 21.0.8+9-Ubuntu-0ubuntu124.04.1)\n    • All Android licenses accepted.\n\n[✓] Chrome - develop for the web [26ms]\n    • CHROME_EXECUTABLE = /usr/bin/chromium\n\n[✓] Linux toolchain - develop for Linux desktop [903ms]\n    • Ubuntu clang version 18.1.3 (1ubuntu1)\n    • cmake version 3.28.3\n    • ninja version 1.11.1\n    • pkg-config version 1.8.1\n    • OpenGL core renderer: Mesa Intel(R) HD Graphics 4000 (IVB GT2) (X11)\n    • OpenGL core version: 4.2 (Core Profile) Mesa 25.0.7-0ubuntu0.24.04.2 (X11)\n    • OpenGL core shading language version: 4.20 (X11)\n    • OpenGL ES renderer: Mesa Intel(R) HD Graphics 4000 (IVB GT2) (X11)\n    • OpenGL ES version: OpenGL ES 3.0 Mesa 25.0.7-0ubuntu0.24.04.2 (X11)\n    • OpenGL ES shading language version: OpenGL ES GLSL ES 3.00 (X11)\n    • GL_EXT_framebuffer_blit: yes (X11)\n    • GL_EXT_texture_format_BGRA8888: yes (X11)\n\n[!] Android Studio (not installed) [20ms]\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\n      (or visit https://flutter.dev/to/linux-android-setup for detailed instructions).\n\n[✓] Connected device (2 available) [317ms]\n    • Linux (desktop) • linux  • linux-x64      • Linux Mint 22.2 6.8.0-79-generic\n    • Chrome (web)    • chrome • web-javascript • Chromium 140.0.7339.127 for Linux Mint\n\n[✓] Network resources [1,020ms]\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n"
        ]
    },
    {
        "titulo": "Flutter Test with fixed time without `withClock` closure",
        "score": 4,
        "views": 181,
        "respostas": 3,
        "tags": [
            "flutter",
            "dart",
            "testing"
        ],
        "link": "https://stackoverflow.com/questions/79742051/flutter-test-with-fixed-time-without-withclock-closure",
        "conteudo_html": "<p>I have a test structure that doesn't allow for the use of a context manager <code>withClock(..., () {})</code> to set a fixed date time for the unit tests.</p>\n<p>I am looking for a way to do it in a setUp and tear down structure, i.e.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void main() {\n  setUp(() {\n    dateTimeOverride = withClock(DateTime(2000, 1, 1)).enter();\n  });\n\n  test('Test 1', () {\n    // Test code\n  });\n\n  tearDown(() {\n    dateTimeOverride.exit()\n  )};\n</code></pre>\n",
        "codigo": [
            "withClock(..., () {})",
            "void main() {\n  setUp(() {\n    dateTimeOverride = withClock(DateTime(2000, 1, 1)).enter();\n  });\n\n  test('Test 1', () {\n    // Test code\n  });\n\n  tearDown(() {\n    dateTimeOverride.exit()\n  )};\n"
        ]
    },
    {
        "titulo": "How to deal with DI when writing test code of screen navigation in flutter?",
        "score": 0,
        "views": 63,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79707155/how-to-deal-with-di-when-writing-test-code-of-screen-navigation-in-flutter",
        "conteudo_html": "<p>I am new to TDD in flutter, I want to test a feature in my app, the app has a DI (getIt) in each page and looks like this.</p>\n<pre><code>class SummaryPage extends StatelessWidget {\n  final String id;\n  const SummaryPage({super.key, required this.id});\n\n  @override\n  Widget build(BuildContext context) {\n    return BlocProvider(\n      create: (context) =&gt;\n          GetIt.I&lt;SummaryPageBloc&gt;()..add(SummaryPageInitial(id: id)),\n      child: SummaryPageView(),\n    );\n  }\n}\n</code></pre>\n<p>The DI is initialize in the <code>main.dart</code>. I want to test a feature when the state change, the app navigate to this summary page.</p>\n<pre><code>    late MockSplitBillBloc mockBloc;\n    late MockSummaryUsecase mockSummaryUsecase;\n    late GetIt getIt;\n\n    setUp(() {\n      mockBloc = MockSplitBillBloc();\n      mockSummaryUsecase = MockSummaryUsecase();\n      getIt = GetIt.instance;\n\n      // Register the mock usecase\n      getIt.registerSingleton&lt;SummaryUsecase&gt;(mockSummaryUsecase);\n\n      // Register the SummaryPageBloc with the mock usecase\n      getIt.registerFactory&lt;SummaryPageBloc&gt;(\n        () =&gt; SummaryPageBloc(usecase: getIt&lt;SummaryUsecase&gt;()),\n      );\n    });\n\n    tearDown(() {\n      getIt.reset();\n    });\n\n    testWidgets('navigates to SummaryPage when status is finish and id is not empty', (\n      WidgetTester tester,\n    ) async {\n      final finishState = const SplitBillState(\n        status: SplitBillStatus.finish,\n        id: 'summaryId',\n      );\n      when(() =&gt; mockBloc.state).thenReturn(finishState);\n      whenListen(\n        mockBloc,\n        Stream&lt;SplitBillState&gt;.fromIterable([finishState]),\n        initialState: finishState,\n      );\n\n      await tester.pumpWidget(createTestWidget());\n      await tester.pumpAndSettle();\n\n      expect(find.byType(SummaryPage), findsOneWidget);\n    });\n</code></pre>\n<p>Although it is not showing any error, but the test hit the real bloc not the mock one, how do you deal with this issue?</p>\n",
        "codigo": [
            "class SummaryPage extends StatelessWidget {\n  final String id;\n  const SummaryPage({super.key, required this.id});\n\n  @override\n  Widget build(BuildContext context) {\n    return BlocProvider(\n      create: (context) =>\n          GetIt.I<SummaryPageBloc>()..add(SummaryPageInitial(id: id)),\n      child: SummaryPageView(),\n    );\n  }\n}\n",
            "main.dart",
            "    late MockSplitBillBloc mockBloc;\n    late MockSummaryUsecase mockSummaryUsecase;\n    late GetIt getIt;\n\n    setUp(() {\n      mockBloc = MockSplitBillBloc();\n      mockSummaryUsecase = MockSummaryUsecase();\n      getIt = GetIt.instance;\n\n      // Register the mock usecase\n      getIt.registerSingleton<SummaryUsecase>(mockSummaryUsecase);\n\n      // Register the SummaryPageBloc with the mock usecase\n      getIt.registerFactory<SummaryPageBloc>(\n        () => SummaryPageBloc(usecase: getIt<SummaryUsecase>()),\n      );\n    });\n\n    tearDown(() {\n      getIt.reset();\n    });\n\n    testWidgets('navigates to SummaryPage when status is finish and id is not empty', (\n      WidgetTester tester,\n    ) async {\n      final finishState = const SplitBillState(\n        status: SplitBillStatus.finish,\n        id: 'summaryId',\n      );\n      when(() => mockBloc.state).thenReturn(finishState);\n      whenListen(\n        mockBloc,\n        Stream<SplitBillState>.fromIterable([finishState]),\n        initialState: finishState,\n      );\n\n      await tester.pumpWidget(createTestWidget());\n      await tester.pumpAndSettle();\n\n      expect(find.byType(SummaryPage), findsOneWidget);\n    });\n"
        ]
    },
    {
        "titulo": "My Flutter app bundle size suddenly increase to 139MB from 19.4MB?",
        "score": 4,
        "views": 160,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "dart",
            "app-bundle"
        ],
        "link": "https://stackoverflow.com/questions/79707141/my-flutter-app-bundle-size-suddenly-increase-to-139mb-from-19-4mb",
        "conteudo_html": "<h1><strong>My Flutter app bundle size jumped from 19.4MB in the last release to 139.6MB in the latest build.</strong></h1>\n<p>Flutter version: <code>3.22.5</code></p>\n<p>Only bug fixes were made — no major updates, no new images or assets added</p>\n<p>1-<code>minifyEnabled</code> and <code>shrinkResources</code> are enabled</p>\n<p>2-Removed debugSymbolLevel 'FULL'</p>\n<p>👇👇</p>\n<pre><code>    release {\n\n            minifyEnabled true              // obfuscate code and remove unused code\n            shrinkResources true            // shrink and remove unused resources\n\n\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            ndk {\n                debugSymbolLevel 'FULL'\n            }\n\n            signingConfig signingConfigs.debug\n\n            debuggable false                // make app non-debuggable\n            crunchPngs true                 // shrink images\n            jniDebuggable false\n            renderscriptDebuggable false\n            pseudoLocalesEnabled false\n            zipAlignEnabled true\n        }\n</code></pre>\n<h1></h1>\n<h1>The release APK is still around 20MB for arm64.**</h1>\n<p>Flutter Doctor:\n👇👇</p>\n<pre><code>[√] Flutter (Channel stable, 3.32.5, on Microsoft Windows [Version 10.0.19043.2364], locale en-US) [521ms]\n    • Flutter version 3.32.5 on channel stable at E:\\SDK\\sdk\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision fcf2c11572 (4 weeks ago), 2025-06-24 11:44:07 -0700\n    • Engine revision dd93de6fb1\n    • Dart version 3.8.1\n    • DevTools version 2.45.1\n\n[√] Windows Version (10 Pro 64-bit, 21H1, 2009) [1,501ms]\n\n[√] Android toolchain - develop for Android devices (Android SDK version 35.0.0) [6.6s]\n    • Android SDK at E:/SDK/sdk\n    • Platform android-35, build-tools 35.0.0\n    • ANDROID_HOME = E:/SDK/sdk\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n      This is the JDK bundled with the latest Android Studio installation on this machine.\n      To manually set the JDK path, use: `flutter config --jdk-dir=&quot;path/to/jdk&quot;`.\n    • Java version OpenJDK Runtime Environment (build 21.0.5+-13047016-b750.29)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web [22ms]\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps [20ms]\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\n\n[√] Android Studio (version 2024.2) [17ms]\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.5+-13047016-b750.29)\n\n[√] VS Code (version 1.100.2) [15ms]\n    • VS Code at C:\\Users\\sukaina\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension can be installed from:\n       https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter\n\n[√] Connected device (3 available) [268ms]\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.19043.2364]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 138.0.7204.158\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 138.0.3351.95\n\n[√] Network resources [753ms]\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\nProcess finished with exit code 0\n</code></pre>\n<p>I built the app bundle using:</p>\n<pre><code> flutter build appbundle --release\n</code></pre>\n<p>I also built a release APK for a single ABI to compare sizes:</p>\n<pre><code>flutter build apk --release --target-platform android-arm64 --analyze-size\n\n</code></pre>\n",
        "codigo": [
            "3.22.5",
            "minifyEnabled",
            "shrinkResources",
            "    release {\n\n            minifyEnabled true              // obfuscate code and remove unused code\n            shrinkResources true            // shrink and remove unused resources\n\n\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            ndk {\n                debugSymbolLevel 'FULL'\n            }\n\n            signingConfig signingConfigs.debug\n\n            debuggable false                // make app non-debuggable\n            crunchPngs true                 // shrink images\n            jniDebuggable false\n            renderscriptDebuggable false\n            pseudoLocalesEnabled false\n            zipAlignEnabled true\n        }\n",
            "[√] Flutter (Channel stable, 3.32.5, on Microsoft Windows [Version 10.0.19043.2364], locale en-US) [521ms]\n    • Flutter version 3.32.5 on channel stable at E:\\SDK\\sdk\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision fcf2c11572 (4 weeks ago), 2025-06-24 11:44:07 -0700\n    • Engine revision dd93de6fb1\n    • Dart version 3.8.1\n    • DevTools version 2.45.1\n\n[√] Windows Version (10 Pro 64-bit, 21H1, 2009) [1,501ms]\n\n[√] Android toolchain - develop for Android devices (Android SDK version 35.0.0) [6.6s]\n    • Android SDK at E:/SDK/sdk\n    • Platform android-35, build-tools 35.0.0\n    • ANDROID_HOME = E:/SDK/sdk\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n      This is the JDK bundled with the latest Android Studio installation on this machine.\n      To manually set the JDK path, use: `flutter config --jdk-dir=\"path/to/jdk\"`.\n    • Java version OpenJDK Runtime Environment (build 21.0.5+-13047016-b750.29)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web [22ms]\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps [20ms]\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the \"Desktop development with C++\" workload, including all of its default components\n\n[√] Android Studio (version 2024.2) [17ms]\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.5+-13047016-b750.29)\n\n[√] VS Code (version 1.100.2) [15ms]\n    • VS Code at C:\\Users\\sukaina\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension can be installed from:\n       https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter\n\n[√] Connected device (3 available) [268ms]\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.19043.2364]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 138.0.7204.158\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 138.0.3351.95\n\n[√] Network resources [753ms]\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\nProcess finished with exit code 0\n",
            " flutter build appbundle --release\n",
            "flutter build apk --release --target-platform android-arm64 --analyze-size\n\n"
        ]
    },
    {
        "titulo": "Why does verify(() =&gt; mockObject.someGetter) throw &#39;Used on a non-mockito object&#39; even though the object is a Mock?",
        "score": 1,
        "views": 114,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "mockito"
        ],
        "link": "https://stackoverflow.com/questions/79688779/why-does-verify-mockobject-somegetter-throw-used-on-a-non-mockito-object",
        "conteudo_html": "<p>I'm currently writing unit tests for a Flutter app using <code>mockito</code>, and I'm running into an issue with verifying a getter call using the latest version of <code>mockito</code> (v5.x).</p>\n<p>Here's my test setup:</p>\n<pre><code>@GenerateMocks([InternetConnectionChecker])\nvoid main() {\n  late MockInternetConnectionChecker internetConnectionChecker;\n  late NetworkInfoImpl networkInfo;\n\n  setUp(() {\n    internetConnectionChecker = MockInternetConnectionChecker();\n    networkInfo = NetworkInfoImpl(internetConnectionChecker);\n  });\n\n  test('should check internet connection', () async {\n    // Arrange\n    when(() =&gt; internetConnectionChecker.hasConnection)\n        .thenAnswer((_) async =&gt; true);\n\n    // Act\n    final result = await networkInfo.isConnect;\n\n    // Assert\n    verify(() =&gt; internetConnectionChecker.hasConnection); // ❌ Throws error\n    expect(result, true);\n  });\n}\n</code></pre>\n<p><a href=\"https://i.sstatic.net/XW6Kb0cg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/XW6Kb0cg.png\" alt=\"error test mockito\" /></a></p>\n<p>Even though <code>internetConnectionChecker</code> is clearly a <code>MockInternetConnectionChecker</code>, the test throws this error:</p>\n<pre><code>Used on a non-mockito object\npackage:matcher                                 fail\npackage:mockito/src/mock.dart 1155:7            _makeVerify.&lt;fn&gt;\ntest\\core\\network\\network_info_test.dart 30:13  main.&lt;fn&gt;.&lt;fn&gt;\n</code></pre>\n<p>However, if I write it like this, it works:</p>\n<pre><code>verify(internetConnectionChecker.hasConnection); // ✅ Works, but discouraged?\n</code></pre>\n<p><a href=\"https://i.sstatic.net/Jp48EUm2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Jp48EUm2.png\" alt=\"enter image description here\" /></a>\nFrom what I understand, using verify(() =&gt; ...) is the recommended way to ensure that the method or getter was actually called. So why does this error happen?</p>\n<ul>\n<li><p>Ran <code>flutter pub run build_runner build --delete-conflicting-outputs</code></p>\n</li>\n<li><p>Verified that the correct imports are used: <code>package:mockito/mockito.dart</code></p>\n</li>\n<li><p>Confirmed the type via <code>print(internetConnectionChecker.runtimeType)</code> → <code>MockInternetConnectionChecker</code></p>\n</li>\n</ul>\n<p>Is there something special about getters in the latest versions of <code>mockito</code>? Or has there been a breaking change that I missed?</p>\n",
        "codigo": [
            "mockito",
            "mockito",
            "@GenerateMocks([InternetConnectionChecker])\nvoid main() {\n  late MockInternetConnectionChecker internetConnectionChecker;\n  late NetworkInfoImpl networkInfo;\n\n  setUp(() {\n    internetConnectionChecker = MockInternetConnectionChecker();\n    networkInfo = NetworkInfoImpl(internetConnectionChecker);\n  });\n\n  test('should check internet connection', () async {\n    // Arrange\n    when(() => internetConnectionChecker.hasConnection)\n        .thenAnswer((_) async => true);\n\n    // Act\n    final result = await networkInfo.isConnect;\n\n    // Assert\n    verify(() => internetConnectionChecker.hasConnection); // ❌ Throws error\n    expect(result, true);\n  });\n}\n",
            "internetConnectionChecker",
            "MockInternetConnectionChecker",
            "Used on a non-mockito object\npackage:matcher                                 fail\npackage:mockito/src/mock.dart 1155:7            _makeVerify.<fn>\ntest\\core\\network\\network_info_test.dart 30:13  main.<fn>.<fn>\n",
            "verify(internetConnectionChecker.hasConnection); // ✅ Works, but discouraged?\n",
            "flutter pub run build_runner build --delete-conflicting-outputs",
            "package:mockito/mockito.dart",
            "print(internetConnectionChecker.runtimeType)",
            "MockInternetConnectionChecker",
            "mockito"
        ]
    },
    {
        "titulo": "Gradle build failed to produce an .apk file. It&#39;s likely that this file was generated under C:\\&lt;**&gt;\\&lt;**&gt;\\build, but the tool couldn&#39;t find it",
        "score": 1,
        "views": 95,
        "respostas": 0,
        "tags": [
            "android",
            "flutter",
            "kotlin",
            "dart",
            "gradle"
        ],
        "link": "https://stackoverflow.com/questions/79683626/gradle-build-failed-to-produce-an-apk-file-its-likely-that-this-file-was-gene",
        "conteudo_html": "<p>I'm doing a flutter project on android studio meerkat. I'm encountering the following error:</p>\n<pre><code>Gradle build failed to produce an .apk file. It's likely that this file was generated under C:\\projects\\level_7_buzzer\\build, but the tool couldn't find it.\n</code></pre>\n<p>i have manually checked apk ....it exists in:</p>\n<pre><code>C:\\projects\\level_7_buzzer\\android\\app\\build\\outputs\\flutter-apk\\app-release.apk\n</code></pre>\n<p>i also installed it on my device :</p>\n<pre><code>adb install C:\\projects\\level_7_buzzer\\android\\app\\build\\outputs\\flutter-apk\\app-release.apk\n</code></pre>\n<p>but i think flutter expects the .apk at:</p>\n<pre><code>&lt;project-root&gt;\\build\\app\\outputs\\apk\\release\\app-release.apk\n</code></pre>\n<p>im stuck at this point.\nmy sdk is: no sdk.\nlanguage level is 24 stream gatherers.\ni dont have installed java from oracle or any other website.\nbut still my java version is showing : openjdk version &quot;21.0.6&quot; 2025-01-21\nand location of java is:C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java.exe\nrest i have shared the details and screenshots below.</p>\n<p>following are details of my project...</p>\n<pre><code>Android Studio Meerkat Feature Drop | 2024.3.2 Patch 1\nBuild #AI-243.26053.27.2432.13536105, built on May 22, 2025\nRuntime version: 21.0.6+-13368085-b895.109 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nToolkit: sun.awt.windows.WToolkit\nWindows 10.0\nGC: G1 Young Generation, G1 Concurrent GC, G1 Old Generation\nMemory: 2048M\nCores: 8\nRegistry:\n  ide.experimental.ui=true\nNon-Bundled Plugins:\n  Dart (243.26753.1)\n  io.flutter (86.0.1)\n\n</code></pre>\n<p>pubspec.yaml</p>\n<pre><code>name: level_7_buzzer\ndescription: &quot;A new Flutter project.&quot;\n# The following line prevents the package from being accidentally published to\n# pub.dev using `flutter pub publish`. This is preferred for private packages.\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\n# The following defines the version and build number for your application.\n# A version number is three numbers separated by dots, like 1.2.43\n# followed by an optional build number separated by a +.\n# Both the version and the builder number may be overridden in flutter\n# build by specifying --build-name and --build-number, respectively.\n# In Android, build-name is used as versionName while build-number used as versionCode.\n# Read more about Android versioning at https://developer.android.com/studio/publish/versioning\n# In iOS, build-name is used as CFBundleShortVersionString while build-number is used as CFBundleVersion.\n# Read more about iOS versioning at\n# https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html\n# In Windows, build-name is used as the major, minor, and patch parts\n# of the product and file versions while build-number is used as the build suffix.\nversion: 1.0.0+1\n\nenvironment:\n  sdk: ^3.6.0\n\n# Dependencies specify other packages that your package needs in order to work.\n# To automatically upgrade your package dependencies to the latest versions\n# consider running `flutter pub upgrade --major-versions`. Alternatively,\n# dependencies can be manually updated by changing the version numbers below to\n# the latest version available on pub.dev. To see which dependencies have newer\n# versions available, run `flutter pub outdated`.\ndependencies:\n  flutter:\n    sdk: flutter\n  firebase_core: ^3.14.0\n  cloud_firestore: ^5.6.9\n  audioplayers: ^6.5.0\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons: ^1.0.8\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  # The &quot;flutter_lints&quot; package below contains a set of recommended lints to\n  # encourage good coding practices. The lint set provided by the package is\n  # activated in the `analysis_options.yaml` file located at the root of your\n  # package. See that file for information about deactivating specific lint\n  # rules and activating additional ones.\n  flutter_lints: ^5.0.0\n\n# For information on the generic Dart part of this file, see the\n# following page: https://dart.dev/tools/pub/pubspec\n\n# The following section is specific to Flutter packages.\nflutter:\n\n  # The following line ensures that the Material Icons font is\n  # included with your application, so that you can use the icons in\n  # the material Icons class.\n  uses-material-design: true\n\n  # To add assets to your application, add an assets section, like this:\n  assets:\n    - assets/beep.mp3\n    - assets/notification_1.mp3\n  #   - images/a_dot_ham.jpeg\n\n  # An image asset can refer to one or more resolution-specific &quot;variants&quot;, see\n  # https://flutter.dev/to/resolution-aware-images\n\n  # For details regarding adding assets from package dependencies, see\n  # https://flutter.dev/to/asset-from-package\n\n  # To add custom fonts to your application, add a fonts section here,\n  # in this &quot;flutter&quot; section. Each entry in this list should have a\n  # &quot;family&quot; key with the font family name, and a &quot;fonts&quot; key with a\n  # list giving the asset and other descriptors for the font. For\n  # example:\n  # fonts:\n  #   - family: Schyler\n  #     fonts:\n  #       - asset: fonts/Schyler-Regular.ttf\n  #       - asset: fonts/Schyler-Italic.ttf\n  #         style: italic\n  #   - family: Trajan Pro\n  #     fonts:\n  #       - asset: fonts/TrajanPro.ttf\n  #       - asset: fonts/TrajanPro_Bold.ttf\n  #         weight: 700\n  #\n  # For details regarding fonts from package dependencies,\n  # see https://flutter.dev/to/font-from-package\n</code></pre>\n<p>gradle-wrapper.properties:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n#distributionUrl=https\\://services.gradle.org/distributions/gradle-8.1.1-all.zip\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.7-all.zip\n\n</code></pre>\n<p>gradle.properties:</p>\n<pre><code>org.gradle.jvmargs=-Xmx4G -XX:MaxMetaspaceSize=2G -XX:+HeapDumpOnOutOfMemoryError\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>android\\build.gradle:</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '2.0.20' // or the latest stable version available\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:8.5.0&quot; // Use the latest stable version of the Gradle plugin\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot; // Kotlin Gradle plugin\n        classpath &quot;com.google.gms:google-services:4.4.2&quot; // Google services plugin, if needed\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.layout.buildDirectory\n}\n\n</code></pre>\n<p>settings.gradle:</p>\n<pre><code>pluginManagement {\n    def flutterSdkPath = {\n        def properties = new Properties()\n        file(&quot;local.properties&quot;).withInputStream { properties.load(it) }\n        def flutterSdkPath = properties.getProperty(&quot;flutter.sdk&quot;)\n        assert flutterSdkPath != null, &quot;flutter.sdk not set in local.properties&quot;\n        return flutterSdkPath\n    }()\n\n    includeBuild(&quot;$flutterSdkPath/packages/flutter_tools/gradle&quot;)\n\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\nplugins {\n    id &quot;dev.flutter.flutter-plugin-loader&quot; version &quot;1.0.0&quot;\n    id &quot;com.android.application&quot; version &quot;8.5.0&quot; apply false\n    id &quot;org.jetbrains.kotlin.android&quot; version &quot;2.0.20&quot; apply false\n}\n\ninclude &quot;:app&quot;\n\n</code></pre>\n<p>local.properties:</p>\n<pre><code>sdk.dir=C:\\\\Android\\\\Sdk\nflutter.sdk=C:\\\\src\\\\flutter\nflutter.buildMode=release\nflutter.versionName=1.0.0\nflutter.versionCode=1\n</code></pre>\n<p>app\\build.gradle:</p>\n<pre><code>plugins {\n    id &quot;com.android.application&quot;\n    id &quot;kotlin-android&quot;\n    id &quot;dev.flutter.flutter-gradle-plugin&quot;\n    id &quot;com.google.gms.google-services&quot;\n}\n\nandroid {\n    namespace = &quot;com.example.level_7_buzzer&quot;\n    compileSdk = 35\n\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_21\n        targetCompatibility = JavaVersion.VERSION_21\n    }\n\n    kotlinOptions {\n        jvmTarget = &quot;21&quot; // Use string for jvmTarget\n    }\n\n    defaultConfig {\n        applicationId = &quot;com.example.level_7_buzzer&quot;\n        minSdk = 23\n        targetSdk = 34 // Ensure this matches your project needs\n        versionCode = 1 // Update as necessary\n        versionName = &quot;1.0&quot; // Update as necessary\n    }\n\n    buildTypes {\n        release {\n            signingConfig = signingConfigs.debug // Consider using a release signing config for production\n        }\n    }\n}\n\nflutter {\n    source = &quot;../..&quot;\n}\n\ndependencies {\n    implementation platform(&quot;com.google.firebase:firebase-bom:33.10.0&quot;) // Use the latest BoM version\n    implementation &quot;com.google.firebase:firebase-analytics&quot; // Version not specified due to using BoM\n    implementation &quot;com.google.firebase:firebase-auth&quot; // Version not specified due to using BoM\n    implementation &quot;com.google.firebase:firebase-firestore&quot; // Version not specified due to using BoM\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot; // Ensure this uses the updated version variable\n}\n</code></pre>\n<p>Android Manifest:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;application\n        android:label=&quot;level_7_buzzer&quot;\n        android:name=&quot;${applicationName}&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTop&quot;\n            android:taskAffinity=&quot;&quot;\n            android:theme=&quot;@style/LaunchTheme&quot;\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n            &lt;!-- Specifies an Android theme to apply to this Activity as soon as\n                 the Android process has started. This theme is visible to the user\n                 while the Flutter UI initializes. After that, this theme continues\n                 to determine the Window background behind the Flutter UI. --&gt;\n            &lt;meta-data\n              android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\n              android:resource=&quot;@style/NormalTheme&quot;\n              /&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;!-- Don't delete the meta-data below.\n             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\n        &lt;meta-data\n            android:name=&quot;flutterEmbedding&quot;\n            android:value=&quot;2&quot; /&gt;\n    &lt;/application&gt;\n    &lt;!-- Required to query activities that can process text, see:\n         https://developer.android.com/training/package-visibility and\n         https://developer.android.com/reference/android/content/Intent#ACTION_PROCESS_TEXT.\n\n         In particular, this is used by the Flutter engine in io.flutter.plugin.text.ProcessTextPlugin. --&gt;\n    &lt;queries&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.intent.action.PROCESS_TEXT&quot;/&gt;\n            &lt;data android:mimeType=&quot;text/plain&quot;/&gt;\n        &lt;/intent&gt;\n    &lt;/queries&gt;\n&lt;/manifest&gt;\n\n\n</code></pre>\n<p>main activity.kt:</p>\n<pre><code>package com.example.level_7_buzzer\n\nimport io.flutter.embedding.android.FlutterActivity\n\nclass MainActivity: FlutterActivity()\n\n</code></pre>\n<p>some more information using cmd :</p>\n<pre><code>C:\\Users\\Dell Precision M4800&gt;adb devices\nList of devices attached\nHMTCCMHM8HGE45WC        device\n\n\nC:\\Users\\Dell Precision M4800&gt;adb -s HMTCCMHM8HGE45WC shell getprop ro.product.model\n23028RNCAG\n\nC:\\Users\\Dell Precision M4800&gt;adb install C:\\projects\\level_7_buzzer\\android\\app\\build\\outputs\\flutter-apk\\app-release.apk\nPerforming Streamed Install\nSuccess\n\nC:\\Users\\Dell Precision M4800&gt;java -version\nopenjdk version &quot;21.0.6&quot; 2025-01-21\nOpenJDK Runtime Environment (build 21.0.6+-13368085-b895.109)\nOpenJDK 64-Bit Server VM (build 21.0.6+-13368085-b895.109, mixed mode)\n\nC:\\Users\\Dell Precision M4800&gt;where java\nC:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java.exe\n\nC:\\Users\\Dell Precision M4800&gt;flutter doctor -v\n[√] Flutter (Channel stable, 3.32.5, on Microsoft Windows [Version 10.0.18362.1256], locale en-US) [411ms]\n    • Flutter version 3.32.5 on channel stable at C:\\src\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • FLUTTER_GIT_URL = https://github.com/flutter/flutter.git\n    • Framework revision fcf2c11572 (4 days ago), 2025-06-24 11:44:07 -0700\n    • Engine revision dd93de6fb1\n    • Dart version 3.8.1\n    • DevTools version 2.45.1\n\n[√] Windows Version (10 Pro 64-bit, 1903) [1,274ms]\n\n[√] Android toolchain - develop for Android devices (Android SDK version 35.0.1) [3.9s]\n    • Android SDK at C:\\Android\\Sdk\n    • Platform android-35, build-tools 35.0.1\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n      This is the JDK bundled with the latest Android Studio installation on this machine.\n      To manually set the JDK path, use: `flutter config --jdk-dir=&quot;path/to/jdk&quot;`.\n    • Java version OpenJDK Runtime Environment (build 21.0.6+-13368085-b895.109)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web [28ms]\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps [27ms]\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\n\n[√] Android Studio (version 2024.3.2) [24ms]\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.6+-13368085-b895.109)\n\n[√] Connected device (3 available) [229ms]\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.18362.1256]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 137.0.7151.120\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 137.0.3296.93\n\n[√] Network resources [594ms]\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n\nC:\\Users\\Dell Precision M4800&gt;flutter analyze --suggestions\n\n┌──────────────────────────────┐\n│ General Info                 │\n│ [X] App Name: name not found │\n└──────────────────────────────┘\n</code></pre>\n<p>screenshot of dart sdk\n<a href=\"https://i.sstatic.net/cEG1vBgY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/cEG1vBgY.png\" alt=\"dart sdk\" /></a></p>\n<p>screenshot of flutter sdk:\n<a href=\"https://i.sstatic.net/eAHTsY9v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/eAHTsY9v.png\" alt=\"flutter sdk\" /></a></p>\n<p>screenshot gradle\n<a href=\"https://i.sstatic.net/bmpKVzlU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/bmpKVzlU.png\" alt=\"screenshot gradle\" /></a></p>\n<p>screenshot kotlin\n<a href=\"https://i.sstatic.net/fzaFcWd6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/fzaFcWd6.png\" alt=\"screenshot kotlin\" /></a></p>\n<p>sdk tools\n<a href=\"https://i.sstatic.net/TnPAVIJj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/TnPAVIJj.png\" alt=\"sdk tools\" /></a></p>\n<p>sdks\n<a href=\"https://i.sstatic.net/Q8yWAynZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Q8yWAynZ.png\" alt=\"sdks\" /></a></p>\n<p>project structure\n<a href=\"https://i.sstatic.net/AJsnGQ78.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/AJsnGQ78.png\" alt=\"project structure\" /></a></p>\n<p>project structure dropdown\n<a href=\"https://i.sstatic.net/VOIo5Lth.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/VOIo5Lth.png\" alt=\"project structure dropdown\" /></a></p>\n<p>error im getting:\n<a href=\"https://i.sstatic.net/oT5sbhEA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/oT5sbhEA.png\" alt=\"error\" /></a></p>\n",
        "codigo": [
            "Gradle build failed to produce an .apk file. It's likely that this file was generated under C:\\projects\\level_7_buzzer\\build, but the tool couldn't find it.\n",
            "C:\\projects\\level_7_buzzer\\android\\app\\build\\outputs\\flutter-apk\\app-release.apk\n",
            "adb install C:\\projects\\level_7_buzzer\\android\\app\\build\\outputs\\flutter-apk\\app-release.apk\n",
            "<project-root>\\build\\app\\outputs\\apk\\release\\app-release.apk\n",
            "Android Studio Meerkat Feature Drop | 2024.3.2 Patch 1\nBuild #AI-243.26053.27.2432.13536105, built on May 22, 2025\nRuntime version: 21.0.6+-13368085-b895.109 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nToolkit: sun.awt.windows.WToolkit\nWindows 10.0\nGC: G1 Young Generation, G1 Concurrent GC, G1 Old Generation\nMemory: 2048M\nCores: 8\nRegistry:\n  ide.experimental.ui=true\nNon-Bundled Plugins:\n  Dart (243.26753.1)\n  io.flutter (86.0.1)\n\n",
            "name: level_7_buzzer\ndescription: \"A new Flutter project.\"\n# The following line prevents the package from being accidentally published to\n# pub.dev using `flutter pub publish`. This is preferred for private packages.\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\n# The following defines the version and build number for your application.\n# A version number is three numbers separated by dots, like 1.2.43\n# followed by an optional build number separated by a +.\n# Both the version and the builder number may be overridden in flutter\n# build by specifying --build-name and --build-number, respectively.\n# In Android, build-name is used as versionName while build-number used as versionCode.\n# Read more about Android versioning at https://developer.android.com/studio/publish/versioning\n# In iOS, build-name is used as CFBundleShortVersionString while build-number is used as CFBundleVersion.\n# Read more about iOS versioning at\n# https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html\n# In Windows, build-name is used as the major, minor, and patch parts\n# of the product and file versions while build-number is used as the build suffix.\nversion: 1.0.0+1\n\nenvironment:\n  sdk: ^3.6.0\n\n# Dependencies specify other packages that your package needs in order to work.\n# To automatically upgrade your package dependencies to the latest versions\n# consider running `flutter pub upgrade --major-versions`. Alternatively,\n# dependencies can be manually updated by changing the version numbers below to\n# the latest version available on pub.dev. To see which dependencies have newer\n# versions available, run `flutter pub outdated`.\ndependencies:\n  flutter:\n    sdk: flutter\n  firebase_core: ^3.14.0\n  cloud_firestore: ^5.6.9\n  audioplayers: ^6.5.0\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons: ^1.0.8\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  # The \"flutter_lints\" package below contains a set of recommended lints to\n  # encourage good coding practices. The lint set provided by the package is\n  # activated in the `analysis_options.yaml` file located at the root of your\n  # package. See that file for information about deactivating specific lint\n  # rules and activating additional ones.\n  flutter_lints: ^5.0.0\n\n# For information on the generic Dart part of this file, see the\n# following page: https://dart.dev/tools/pub/pubspec\n\n# The following section is specific to Flutter packages.\nflutter:\n\n  # The following line ensures that the Material Icons font is\n  # included with your application, so that you can use the icons in\n  # the material Icons class.\n  uses-material-design: true\n\n  # To add assets to your application, add an assets section, like this:\n  assets:\n    - assets/beep.mp3\n    - assets/notification_1.mp3\n  #   - images/a_dot_ham.jpeg\n\n  # An image asset can refer to one or more resolution-specific \"variants\", see\n  # https://flutter.dev/to/resolution-aware-images\n\n  # For details regarding adding assets from package dependencies, see\n  # https://flutter.dev/to/asset-from-package\n\n  # To add custom fonts to your application, add a fonts section here,\n  # in this \"flutter\" section. Each entry in this list should have a\n  # \"family\" key with the font family name, and a \"fonts\" key with a\n  # list giving the asset and other descriptors for the font. For\n  # example:\n  # fonts:\n  #   - family: Schyler\n  #     fonts:\n  #       - asset: fonts/Schyler-Regular.ttf\n  #       - asset: fonts/Schyler-Italic.ttf\n  #         style: italic\n  #   - family: Trajan Pro\n  #     fonts:\n  #       - asset: fonts/TrajanPro.ttf\n  #       - asset: fonts/TrajanPro_Bold.ttf\n  #         weight: 700\n  #\n  # For details regarding fonts from package dependencies,\n  # see https://flutter.dev/to/font-from-package\n",
            "distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n#distributionUrl=https\\://services.gradle.org/distributions/gradle-8.1.1-all.zip\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.7-all.zip\n\n",
            "org.gradle.jvmargs=-Xmx4G -XX:MaxMetaspaceSize=2G -XX:+HeapDumpOnOutOfMemoryError\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n",
            "// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '2.0.20' // or the latest stable version available\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"com.android.tools.build:gradle:8.5.0\" // Use the latest stable version of the Gradle plugin\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\" // Kotlin Gradle plugin\n        classpath \"com.google.gms:google-services:4.4.2\" // Google services plugin, if needed\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\ntasks.register(\"clean\", Delete) {\n    delete rootProject.layout.buildDirectory\n}\n\n",
            "pluginManagement {\n    def flutterSdkPath = {\n        def properties = new Properties()\n        file(\"local.properties\").withInputStream { properties.load(it) }\n        def flutterSdkPath = properties.getProperty(\"flutter.sdk\")\n        assert flutterSdkPath != null, \"flutter.sdk not set in local.properties\"\n        return flutterSdkPath\n    }()\n\n    includeBuild(\"$flutterSdkPath/packages/flutter_tools/gradle\")\n\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\nplugins {\n    id \"dev.flutter.flutter-plugin-loader\" version \"1.0.0\"\n    id \"com.android.application\" version \"8.5.0\" apply false\n    id \"org.jetbrains.kotlin.android\" version \"2.0.20\" apply false\n}\n\ninclude \":app\"\n\n",
            "sdk.dir=C:\\\\Android\\\\Sdk\nflutter.sdk=C:\\\\src\\\\flutter\nflutter.buildMode=release\nflutter.versionName=1.0.0\nflutter.versionCode=1\n",
            "plugins {\n    id \"com.android.application\"\n    id \"kotlin-android\"\n    id \"dev.flutter.flutter-gradle-plugin\"\n    id \"com.google.gms.google-services\"\n}\n\nandroid {\n    namespace = \"com.example.level_7_buzzer\"\n    compileSdk = 35\n\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_21\n        targetCompatibility = JavaVersion.VERSION_21\n    }\n\n    kotlinOptions {\n        jvmTarget = \"21\" // Use string for jvmTarget\n    }\n\n    defaultConfig {\n        applicationId = \"com.example.level_7_buzzer\"\n        minSdk = 23\n        targetSdk = 34 // Ensure this matches your project needs\n        versionCode = 1 // Update as necessary\n        versionName = \"1.0\" // Update as necessary\n    }\n\n    buildTypes {\n        release {\n            signingConfig = signingConfigs.debug // Consider using a release signing config for production\n        }\n    }\n}\n\nflutter {\n    source = \"../..\"\n}\n\ndependencies {\n    implementation platform(\"com.google.firebase:firebase-bom:33.10.0\") // Use the latest BoM version\n    implementation \"com.google.firebase:firebase-analytics\" // Version not specified due to using BoM\n    implementation \"com.google.firebase:firebase-auth\" // Version not specified due to using BoM\n    implementation \"com.google.firebase:firebase-firestore\" // Version not specified due to using BoM\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\" // Ensure this uses the updated version variable\n}\n",
            "<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <application\n        android:label=\"level_7_buzzer\"\n        android:name=\"${applicationName}\"\n        android:icon=\"@mipmap/ic_launcher\">\n        <activity\n            android:name=\".MainActivity\"\n            android:exported=\"true\"\n            android:launchMode=\"singleTop\"\n            android:taskAffinity=\"\"\n            android:theme=\"@style/LaunchTheme\"\n            android:configChanges=\"orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode\"\n            android:hardwareAccelerated=\"true\"\n            android:windowSoftInputMode=\"adjustResize\">\n            <!-- Specifies an Android theme to apply to this Activity as soon as\n                 the Android process has started. This theme is visible to the user\n                 while the Flutter UI initializes. After that, this theme continues\n                 to determine the Window background behind the Flutter UI. -->\n            <meta-data\n              android:name=\"io.flutter.embedding.android.NormalTheme\"\n              android:resource=\"@style/NormalTheme\"\n              />\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\"/>\n                <category android:name=\"android.intent.category.LAUNCHER\"/>\n            </intent-filter>\n        </activity>\n        <!-- Don't delete the meta-data below.\n             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java -->\n        <meta-data\n            android:name=\"flutterEmbedding\"\n            android:value=\"2\" />\n    </application>\n    <!-- Required to query activities that can process text, see:\n         https://developer.android.com/training/package-visibility and\n         https://developer.android.com/reference/android/content/Intent#ACTION_PROCESS_TEXT.\n\n         In particular, this is used by the Flutter engine in io.flutter.plugin.text.ProcessTextPlugin. -->\n    <queries>\n        <intent>\n            <action android:name=\"android.intent.action.PROCESS_TEXT\"/>\n            <data android:mimeType=\"text/plain\"/>\n        </intent>\n    </queries>\n</manifest>\n\n\n",
            "package com.example.level_7_buzzer\n\nimport io.flutter.embedding.android.FlutterActivity\n\nclass MainActivity: FlutterActivity()\n\n",
            "C:\\Users\\Dell Precision M4800>adb devices\nList of devices attached\nHMTCCMHM8HGE45WC        device\n\n\nC:\\Users\\Dell Precision M4800>adb -s HMTCCMHM8HGE45WC shell getprop ro.product.model\n23028RNCAG\n\nC:\\Users\\Dell Precision M4800>adb install C:\\projects\\level_7_buzzer\\android\\app\\build\\outputs\\flutter-apk\\app-release.apk\nPerforming Streamed Install\nSuccess\n\nC:\\Users\\Dell Precision M4800>java -version\nopenjdk version \"21.0.6\" 2025-01-21\nOpenJDK Runtime Environment (build 21.0.6+-13368085-b895.109)\nOpenJDK 64-Bit Server VM (build 21.0.6+-13368085-b895.109, mixed mode)\n\nC:\\Users\\Dell Precision M4800>where java\nC:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java.exe\n\nC:\\Users\\Dell Precision M4800>flutter doctor -v\n[√] Flutter (Channel stable, 3.32.5, on Microsoft Windows [Version 10.0.18362.1256], locale en-US) [411ms]\n    • Flutter version 3.32.5 on channel stable at C:\\src\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • FLUTTER_GIT_URL = https://github.com/flutter/flutter.git\n    • Framework revision fcf2c11572 (4 days ago), 2025-06-24 11:44:07 -0700\n    • Engine revision dd93de6fb1\n    • Dart version 3.8.1\n    • DevTools version 2.45.1\n\n[√] Windows Version (10 Pro 64-bit, 1903) [1,274ms]\n\n[√] Android toolchain - develop for Android devices (Android SDK version 35.0.1) [3.9s]\n    • Android SDK at C:\\Android\\Sdk\n    • Platform android-35, build-tools 35.0.1\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n      This is the JDK bundled with the latest Android Studio installation on this machine.\n      To manually set the JDK path, use: `flutter config --jdk-dir=\"path/to/jdk\"`.\n    • Java version OpenJDK Runtime Environment (build 21.0.6+-13368085-b895.109)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web [28ms]\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps [27ms]\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the \"Desktop development with C++\" workload, including all of its default components\n\n[√] Android Studio (version 2024.3.2) [24ms]\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.6+-13368085-b895.109)\n\n[√] Connected device (3 available) [229ms]\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.18362.1256]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 137.0.7151.120\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 137.0.3296.93\n\n[√] Network resources [594ms]\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n\nC:\\Users\\Dell Precision M4800>flutter analyze --suggestions\n\n┌──────────────────────────────┐\n│ General Info                 │\n│ [X] App Name: name not found │\n└──────────────────────────────┘\n"
        ]
    },
    {
        "titulo": "Mocking platform specific packages in flutter test",
        "score": 0,
        "views": 95,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "testing",
            "mqtt"
        ],
        "link": "https://stackoverflow.com/questions/79681934/mocking-platform-specific-packages-in-flutter-test",
        "conteudo_html": "<p>I am trying to test the behavior of a singleton in dart:</p>\n<pre><code>import 'dart:async';\nimport 'package:mqtt_client/mqtt_browser_client.dart';\n\nclass MqttService {\n  static final MqttService _instance = MqttService._internal();\n\n  factory MqttService() =&gt; _instance;\n\n  MqttService._internal();\n\n  final Map&lt;String, MqttBrowserClient&gt; clients = {};\n  final Map&lt;String, StreamController&lt;int&gt;&gt; controllers = {};\n  final Map&lt;String, int&gt; lastKnownAmounts = {};\n}\n</code></pre>\n<p>I've written the following test:</p>\n<pre><code>import 'package:flutter_test/flutter_test.dart';\nimport 'package:common/mqtt_service.dart';\n\nvoid main() {\n  test('Should not create additional instances of MqttService', () {\n    final service1 = MqttService();\n    final service2 = MqttService();\n\n    expect(service1.hashCode, service2.hashCode);\n  });\n}\n</code></pre>\n<p>However, when running it, I get a giant error (I won't paste everything here, it should be reproducible by the example)</p>\n<pre><code>  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/dom/xhr.dart:502:27: Error: 'JSObject' isn't a type.\n  extension type FormData._(JSObject _) implements JSObject {\n                            ^^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/dom/xhr.dart:518:5: Error: 'JSAny' isn't a type.\n      JSAny blobValueOrValue, [\n      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/dom/xhr.dart:551:5: Error: 'JSAny' isn't a type.\n      JSAny blobValueOrValue, [\n      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/dom/xhr.dart:565:32: Error: 'JSObject' isn't a type.\n  extension type ProgressEvent._(JSObject _) implements Event, JSObject {\n                                 ^^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/dom/xhr.dart:605:36: Error: 'JSObject' isn't a type.\n  extension type ProgressEventInit._(JSObject _) implements EventInit, JSObject {\n                                     ^^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/lists.dart:11:44: Error: 'JSObject' isn't a type.\n  extension type _JSList&lt;T extends JSObject&gt;(JSObject _) implements JSObject {\n                                             ^^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:10:35: Error: 'JSAny' isn't a type.\n  extension type _CrossOriginWindow(JSAny? any) {\n                                    ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:27:5: Error: 'JSAny' isn't a type.\n      JSAny? message, [\n      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:28:5: Error: 'JSAny' isn't a type.\n      JSAny optionsOrTargetOrigin,\n      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:29:13: Error: 'JSObject' isn't a type.\n      JSArray&lt;JSObject&gt; transfer,\n              ^^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:29:5: Error: 'JSArray' isn't a type.\n      JSArray&lt;JSObject&gt; transfer,\n      ^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:34:37: Error: 'JSAny' isn't a type.\n  extension type _CrossOriginLocation(JSAny? any) {\n                                      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:51:23: Error: 'JSAny' isn't a type.\n    CrossOriginWindow._(JSAny? o) : _window = _CrossOriginWindow(o);\n                        ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:53:37: Error: 'JSAny' isn't a type.\n    static CrossOriginWindow? _create(JSAny? o) {\n                                      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:96:5: Error: 'JSAny' isn't a type.\n      JSAny? message, [\n      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:97:5: Error: 'JSAny' isn't a type.\n      JSAny? optionsOrTargetOrigin,\n      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:98:13: Error: 'JSObject' isn't a type.\n      JSArray&lt;JSObject&gt;? transfer,\n              ^^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:98:5: Error: 'JSArray' isn't a type.\n      JSArray&lt;JSObject&gt;? transfer,\n      ^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:132:25: Error: 'JSAny' isn't a type.\n    CrossOriginLocation._(JSAny? o) : _location = _CrossOriginLocation(o);\n                          ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:134:39: Error: 'JSAny' isn't a type.\n    static CrossOriginLocation? _create(JSAny? o) {\n                                        ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/providers.dart:615:25: Error: 'JSObject' isn't a type.\n    final jsObject = e as JSObject;\n                          ^^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/providers.dart:618:47: Error: The getter 'toJS' isn't defined for the class 'String'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n    } else if (jsObject.hasProperty('mozHidden'.toJS).toDart) {\n                                                ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/providers.dart:620:46: Error: The getter 'toJS' isn't defined for the class 'String'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n    } else if (jsObject.hasProperty('msHidden'.toJS).toDart) {\n                                               ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/providers.dart:622:50: Error: The getter 'toJS' isn't defined for the class 'String'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n    } else if (jsObject.hasProperty('webkitHidden'.toJS).toDart) {\n                                                   ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:119:7: Error: A value of type '_EventStream&lt;T&gt;' can't be returned from a function with return type 'Stream&lt;T&gt;' because 'T' is nullable and 'T' isn't.\n   - '_EventStream' is from 'package:web/src/helpers/events/streams.dart' ('../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart').\n   - 'Stream' is from 'dart:async'.\n        this;\n        ^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:165:69: Error: The getter 'toJS' isn't defined for the class 'void Function(Event)'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n              : _wrapZone&lt;html.Event&gt;((e) =&gt; (onData as dynamic)(e))?.toJS {\n                                                                      ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:218:69: Error: The getter 'toJS' isn't defined for the class 'void Function(Event)'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n          : _wrapZone&lt;html.Event&gt;((e) =&gt; (handleData as dynamic)(e))?.toJS;\n                                                                      ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:253:66: Error: The getter 'toJS' isn't defined for the class 'bool'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n        _target!.addEventListener(_eventType, _onData, _useCapture.toJS);\n                                                                   ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:259:69: Error: The getter 'toJS' isn't defined for the class 'bool'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n        _target!.removeEventListener(_eventType, _onData, _useCapture.toJS);\n                                                                      ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:441:38: Error: The argument type 'void Function(T)?' can't be assigned to the parameter type 'void Function(T)?' because 'T' is nullable and 'T' isn't.\n        streamController.stream.listen(onData,\n                                       ^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:441:31: Error: A value of type 'StreamSubscription&lt;T&gt;' can't be returned from a function with return type 'StreamSubscription&lt;T&gt;' because 'T' is nullable and 'T' isn't.\n   - 'StreamSubscription' is from 'dart:async'.\n        streamController.stream.listen(onData,\n                                ^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:448:24: Error: A value of type 'Stream&lt;T&gt;' can't be returned from a function with return type 'Stream&lt;T&gt;' because 'T' is nullable and 'T' isn't.\n   - 'Stream' is from 'dart:async'.\n        streamController.stream;\n                         ^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/extensions.dart:39:69: Error: The getter 'toJS' isn't defined for the class 'num'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n        (quality == null) ? toDataURL(type) : toDataURL(type, quality.toJS);\n                                                                      ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/extensions.dart:55:7: Error: The method 'jsify' isn't defined for the class 'Map&lt;String, bool&gt;'.\n   - 'Map' is from 'dart:core'.\n  Try correcting the name to the name of an existing method, or defining a method named 'jsify'.\n      }.jsify();\n        ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/http.dart:245:33: Error: The argument type 'ProgressEvent' can't be assigned to the parameter type 'Object' because 'ProgressEvent' is nullable and 'Object' isn't.\n   - 'Object' is from 'dart:core'.\n          completer.completeError(e);\n                                  ^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/http.dart:249:34: Error: The argument type 'void Function(Object, [StackTrace?])' can't be assigned to the parameter type 'void Function(ProgressEvent)?' because 'ProgressEvent' is nullable and 'Object' isn't.\n   - 'Object' is from 'dart:core'.\n   - 'StackTrace' is from 'dart:core'.\n      xhr.onError.listen(completer.completeError);\n                                   ^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/http.dart:252:46: Error: The getter 'toJS' isn't defined for the class 'String'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n        xhr.send(sendData is String ? sendData.toJS : sendData.jsify());\n                                               ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/http.dart:252:62: Error: The method 'jsify' isn't defined for the class 'Object'.\n   - 'Object' is from 'dart:core'.\n  Try correcting the name to the name of an existing method, or defining a method named 'jsify'.\n        xhr.send(sendData is String ? sendData.toJS : sendData.jsify());\n                                                           ^^^^^\n</code></pre>\n<p>Digging a little bit, the culprit seems like the MqttBrowserClient class, removing it makes the test run. Apparently, it is because the test is importing a mqtt package specific to the web (my project is web only). How can I force it to import the &quot;correct&quot; library to run tests?</p>\n<p>Example of working test:</p>\n<pre><code>import 'dart:async';\n//import 'package:mqtt_client/mqtt_browser_client.dart';\n\nclass MqttService {\n  static final MqttService _instance = MqttService._internal();\n\n  factory MqttService() =&gt; _instance;\n\n  MqttService._internal();\n\n  //final Map&lt;String, MqttBrowserClient&gt; clients = {};\n  final Map&lt;String, StreamController&lt;int&gt;&gt; controllers = {};\n  final Map&lt;String, int&gt; lastKnownAmounts = {};\n}\n</code></pre>\n",
        "codigo": [
            "import 'dart:async';\nimport 'package:mqtt_client/mqtt_browser_client.dart';\n\nclass MqttService {\n  static final MqttService _instance = MqttService._internal();\n\n  factory MqttService() => _instance;\n\n  MqttService._internal();\n\n  final Map<String, MqttBrowserClient> clients = {};\n  final Map<String, StreamController<int>> controllers = {};\n  final Map<String, int> lastKnownAmounts = {};\n}\n",
            "import 'package:flutter_test/flutter_test.dart';\nimport 'package:common/mqtt_service.dart';\n\nvoid main() {\n  test('Should not create additional instances of MqttService', () {\n    final service1 = MqttService();\n    final service2 = MqttService();\n\n    expect(service1.hashCode, service2.hashCode);\n  });\n}\n",
            "  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/dom/xhr.dart:502:27: Error: 'JSObject' isn't a type.\n  extension type FormData._(JSObject _) implements JSObject {\n                            ^^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/dom/xhr.dart:518:5: Error: 'JSAny' isn't a type.\n      JSAny blobValueOrValue, [\n      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/dom/xhr.dart:551:5: Error: 'JSAny' isn't a type.\n      JSAny blobValueOrValue, [\n      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/dom/xhr.dart:565:32: Error: 'JSObject' isn't a type.\n  extension type ProgressEvent._(JSObject _) implements Event, JSObject {\n                                 ^^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/dom/xhr.dart:605:36: Error: 'JSObject' isn't a type.\n  extension type ProgressEventInit._(JSObject _) implements EventInit, JSObject {\n                                     ^^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/lists.dart:11:44: Error: 'JSObject' isn't a type.\n  extension type _JSList<T extends JSObject>(JSObject _) implements JSObject {\n                                             ^^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:10:35: Error: 'JSAny' isn't a type.\n  extension type _CrossOriginWindow(JSAny? any) {\n                                    ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:27:5: Error: 'JSAny' isn't a type.\n      JSAny? message, [\n      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:28:5: Error: 'JSAny' isn't a type.\n      JSAny optionsOrTargetOrigin,\n      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:29:13: Error: 'JSObject' isn't a type.\n      JSArray<JSObject> transfer,\n              ^^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:29:5: Error: 'JSArray' isn't a type.\n      JSArray<JSObject> transfer,\n      ^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:34:37: Error: 'JSAny' isn't a type.\n  extension type _CrossOriginLocation(JSAny? any) {\n                                      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:51:23: Error: 'JSAny' isn't a type.\n    CrossOriginWindow._(JSAny? o) : _window = _CrossOriginWindow(o);\n                        ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:53:37: Error: 'JSAny' isn't a type.\n    static CrossOriginWindow? _create(JSAny? o) {\n                                      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:96:5: Error: 'JSAny' isn't a type.\n      JSAny? message, [\n      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:97:5: Error: 'JSAny' isn't a type.\n      JSAny? optionsOrTargetOrigin,\n      ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:98:13: Error: 'JSObject' isn't a type.\n      JSArray<JSObject>? transfer,\n              ^^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:98:5: Error: 'JSArray' isn't a type.\n      JSArray<JSObject>? transfer,\n      ^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:132:25: Error: 'JSAny' isn't a type.\n    CrossOriginLocation._(JSAny? o) : _location = _CrossOriginLocation(o);\n                          ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/cross_origin.dart:134:39: Error: 'JSAny' isn't a type.\n    static CrossOriginLocation? _create(JSAny? o) {\n                                        ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/providers.dart:615:25: Error: 'JSObject' isn't a type.\n    final jsObject = e as JSObject;\n                          ^^^^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/providers.dart:618:47: Error: The getter 'toJS' isn't defined for the class 'String'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n    } else if (jsObject.hasProperty('mozHidden'.toJS).toDart) {\n                                                ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/providers.dart:620:46: Error: The getter 'toJS' isn't defined for the class 'String'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n    } else if (jsObject.hasProperty('msHidden'.toJS).toDart) {\n                                               ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/providers.dart:622:50: Error: The getter 'toJS' isn't defined for the class 'String'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n    } else if (jsObject.hasProperty('webkitHidden'.toJS).toDart) {\n                                                   ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:119:7: Error: A value of type '_EventStream<T>' can't be returned from a function with return type 'Stream<T>' because 'T' is nullable and 'T' isn't.\n   - '_EventStream' is from 'package:web/src/helpers/events/streams.dart' ('../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart').\n   - 'Stream' is from 'dart:async'.\n        this;\n        ^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:165:69: Error: The getter 'toJS' isn't defined for the class 'void Function(Event)'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n              : _wrapZone<html.Event>((e) => (onData as dynamic)(e))?.toJS {\n                                                                      ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:218:69: Error: The getter 'toJS' isn't defined for the class 'void Function(Event)'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n          : _wrapZone<html.Event>((e) => (handleData as dynamic)(e))?.toJS;\n                                                                      ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:253:66: Error: The getter 'toJS' isn't defined for the class 'bool'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n        _target!.addEventListener(_eventType, _onData, _useCapture.toJS);\n                                                                   ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:259:69: Error: The getter 'toJS' isn't defined for the class 'bool'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n        _target!.removeEventListener(_eventType, _onData, _useCapture.toJS);\n                                                                      ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:441:38: Error: The argument type 'void Function(T)?' can't be assigned to the parameter type 'void Function(T)?' because 'T' is nullable and 'T' isn't.\n        streamController.stream.listen(onData,\n                                       ^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:441:31: Error: A value of type 'StreamSubscription<T>' can't be returned from a function with return type 'StreamSubscription<T>' because 'T' is nullable and 'T' isn't.\n   - 'StreamSubscription' is from 'dart:async'.\n        streamController.stream.listen(onData,\n                                ^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/events/streams.dart:448:24: Error: A value of type 'Stream<T>' can't be returned from a function with return type 'Stream<T>' because 'T' is nullable and 'T' isn't.\n   - 'Stream' is from 'dart:async'.\n        streamController.stream;\n                         ^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/extensions.dart:39:69: Error: The getter 'toJS' isn't defined for the class 'num'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n        (quality == null) ? toDataURL(type) : toDataURL(type, quality.toJS);\n                                                                      ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/extensions.dart:55:7: Error: The method 'jsify' isn't defined for the class 'Map<String, bool>'.\n   - 'Map' is from 'dart:core'.\n  Try correcting the name to the name of an existing method, or defining a method named 'jsify'.\n      }.jsify();\n        ^^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/http.dart:245:33: Error: The argument type 'ProgressEvent' can't be assigned to the parameter type 'Object' because 'ProgressEvent' is nullable and 'Object' isn't.\n   - 'Object' is from 'dart:core'.\n          completer.completeError(e);\n                                  ^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/http.dart:249:34: Error: The argument type 'void Function(Object, [StackTrace?])' can't be assigned to the parameter type 'void Function(ProgressEvent)?' because 'ProgressEvent' is nullable and 'Object' isn't.\n   - 'Object' is from 'dart:core'.\n   - 'StackTrace' is from 'dart:core'.\n      xhr.onError.listen(completer.completeError);\n                                   ^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/http.dart:252:46: Error: The getter 'toJS' isn't defined for the class 'String'.\n  Try correcting the name to the name of an existing getter, or defining a getter or field named 'toJS'.\n        xhr.send(sendData is String ? sendData.toJS : sendData.jsify());\n                                               ^^^^\n  ../../.pub-cache/hosted/pub.dev/web-1.1.1/lib/src/helpers/http.dart:252:62: Error: The method 'jsify' isn't defined for the class 'Object'.\n   - 'Object' is from 'dart:core'.\n  Try correcting the name to the name of an existing method, or defining a method named 'jsify'.\n        xhr.send(sendData is String ? sendData.toJS : sendData.jsify());\n                                                           ^^^^^\n",
            "import 'dart:async';\n//import 'package:mqtt_client/mqtt_browser_client.dart';\n\nclass MqttService {\n  static final MqttService _instance = MqttService._internal();\n\n  factory MqttService() => _instance;\n\n  MqttService._internal();\n\n  //final Map<String, MqttBrowserClient> clients = {};\n  final Map<String, StreamController<int>> controllers = {};\n  final Map<String, int> lastKnownAmounts = {};\n}\n"
        ]
    },
    {
        "titulo": "How to fix the error: The named parameter &#39;settings&#39; isn&#39;t defined when invoking Geolocator.getCurrentPosition",
        "score": 2,
        "views": 55,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "dart",
            "geolocation"
        ],
        "link": "https://stackoverflow.com/questions/79670801/how-to-fix-the-error-the-named-parameter-settings-isnt-defined-when-invoking",
        "conteudo_html": "<p>The error:</p>\n<pre><code>The named parameter 'settings' isn't defined.\n</code></pre>\n<p>The code:</p>\n<pre><code>  Future&lt;Position?&gt; getCurrentLocation() async {\n    if (_permissionStatus != LocationPermission.always &amp;&amp; _permissionStatus != LocationPermission.whileInUse) {\n      await checkLocationPermissions();\n      if (_permissionStatus != LocationPermission.always &amp;&amp; _permissionStatus != LocationPermission.whileInUse) {\n        return null;\n      }\n    }\n\n    try {\n      return await Geolocator.getCurrentPosition(settings: const LocationSettings(accuracy: LocationAccuracy.high));\n    } catch (e) {\n      //print(&quot;Error getting location: $e&quot;);\n      return null;\n    }\n  }\n</code></pre>\n<p>pubspec.yaml:</p>\n<pre><code>dependencies:\n  flutter:\n    sdk: flutter\n\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons: ^1.0.8\n  http: ^1.4.0\n  geolocator: ^14.0.1\n</code></pre>\n<p>I ran these to update the cache.</p>\n<pre><code>flutter clean\nflutter pub cache repair\nflutter pub get\n</code></pre>\n<p>I ran flutter doctor -v</p>\n<pre><code>[√] Flutter (Channel stable, 3.32.1, on Microsoft Windows [Version 10.0.22000.3260], locale en-US) [548ms]\n    • Flutter version 3.32.1 on channel stable at C:\\Users\\nicholdw\\dev\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision b25305a883 (3 weeks ago), 2025-05-29 10:40:06 -0700\n    • Engine revision 1425e5e9ec\n    • Dart version 3.8.1\n    • DevTools version 2.45.1\n\n[√] Windows Version (11 Enterprise 64-bit, 21H2, 2009) [2.6s]\n\n[√] Android toolchain - develop for Android devices (Android SDK version 35.0.1) [3.3s]\n    • Android SDK at C:\\Users\\nicholdw\\AppData\\Local\\Android\\sdk\n    • Platform android-35, build-tools 35.0.1\n    • Java binary at: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.15.6-hotspot\\bin\\java\n      This JDK is specified in your Flutter configuration.\n      To change the current JDK, run: `flutter config --jdk-dir=&quot;path/to/jdk&quot;`.\n    • Java version OpenJDK Runtime Environment Temurin-17.0.15+6 (build 17.0.15+6)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web [186ms]\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Enterprise 2022 17.14.6 (June 2025)) [184ms]\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Enterprise\n    • Visual Studio Enterprise 2022 version 17.14.36212.18\n    • Windows 10 SDK version 10.0.26100.0\n\n[√] Android Studio (version 2024.3.2) [26ms]\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.6+-13368085-b895.109)\n\n[√] VS Code (version 1.101.0) [24ms]\n    • VS Code at C:\\Users\\nicholdw\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.112.0\n\n[√] Connected device (4 available) [555ms]\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 16 (API 36) (emulator)\n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Version 10.0.22000.3260]\n    • Chrome (web)                 • chrome        • web-javascript • Google Chrome 137.0.7151.104\n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 137.0.3296.83\n\n[√] Network resources [481ms]\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n",
        "codigo": [
            "The named parameter 'settings' isn't defined.\n",
            "  Future<Position?> getCurrentLocation() async {\n    if (_permissionStatus != LocationPermission.always && _permissionStatus != LocationPermission.whileInUse) {\n      await checkLocationPermissions();\n      if (_permissionStatus != LocationPermission.always && _permissionStatus != LocationPermission.whileInUse) {\n        return null;\n      }\n    }\n\n    try {\n      return await Geolocator.getCurrentPosition(settings: const LocationSettings(accuracy: LocationAccuracy.high));\n    } catch (e) {\n      //print(\"Error getting location: $e\");\n      return null;\n    }\n  }\n",
            "dependencies:\n  flutter:\n    sdk: flutter\n\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons: ^1.0.8\n  http: ^1.4.0\n  geolocator: ^14.0.1\n",
            "flutter clean\nflutter pub cache repair\nflutter pub get\n",
            "[√] Flutter (Channel stable, 3.32.1, on Microsoft Windows [Version 10.0.22000.3260], locale en-US) [548ms]\n    • Flutter version 3.32.1 on channel stable at C:\\Users\\nicholdw\\dev\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision b25305a883 (3 weeks ago), 2025-05-29 10:40:06 -0700\n    • Engine revision 1425e5e9ec\n    • Dart version 3.8.1\n    • DevTools version 2.45.1\n\n[√] Windows Version (11 Enterprise 64-bit, 21H2, 2009) [2.6s]\n\n[√] Android toolchain - develop for Android devices (Android SDK version 35.0.1) [3.3s]\n    • Android SDK at C:\\Users\\nicholdw\\AppData\\Local\\Android\\sdk\n    • Platform android-35, build-tools 35.0.1\n    • Java binary at: C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.15.6-hotspot\\bin\\java\n      This JDK is specified in your Flutter configuration.\n      To change the current JDK, run: `flutter config --jdk-dir=\"path/to/jdk\"`.\n    • Java version OpenJDK Runtime Environment Temurin-17.0.15+6 (build 17.0.15+6)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web [186ms]\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Enterprise 2022 17.14.6 (June 2025)) [184ms]\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Enterprise\n    • Visual Studio Enterprise 2022 version 17.14.36212.18\n    • Windows 10 SDK version 10.0.26100.0\n\n[√] Android Studio (version 2024.3.2) [26ms]\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.6+-13368085-b895.109)\n\n[√] VS Code (version 1.101.0) [24ms]\n    • VS Code at C:\\Users\\nicholdw\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.112.0\n\n[√] Connected device (4 available) [555ms]\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 16 (API 36) (emulator)\n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Version 10.0.22000.3260]\n    • Chrome (web)                 • chrome        • web-javascript • Google Chrome 137.0.7151.104\n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 137.0.3296.83\n\n[√] Network resources [481ms]\n    • All expected network resources are available.\n\n• No issues found!\n"
        ]
    },
    {
        "titulo": "dart issue trying to initialize a Uint8List variable in a named constructor",
        "score": 0,
        "views": 60,
        "respostas": 1,
        "tags": [
            "dart",
            "constructor",
            "initialization",
            "uint8list"
        ],
        "link": "https://stackoverflow.com/questions/79653205/dart-issue-trying-to-initialize-a-uint8list-variable-in-a-named-constructor",
        "conteudo_html": "<pre><code>import 'dart:typed_data';\nclass Test {\n  Uint8List testKey;\n  Test({this.testKey = Uint8List(0)});\n}\n</code></pre>\n<p>Gives compile error:  Error: Cannot invoke a non-'const' factory where a const expression is expected.</p>\n<p>Also tried -- Uint8List.fromList([]); with same result.</p>\n<p>How can I do this?\nThanks</p>\n",
        "codigo": [
            "import 'dart:typed_data';\nclass Test {\n  Uint8List testKey;\n  Test({this.testKey = Uint8List(0)});\n}\n"
        ]
    },
    {
        "titulo": "Facing an LateInitializationError: on Vlc flutter while playing torrent streams",
        "score": 0,
        "views": 47,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "download",
            "torrent",
            "lateinit"
        ],
        "link": "https://stackoverflow.com/questions/79652407/facing-an-lateinitializationerror-on-vlc-flutter-while-playing-torrent-streams",
        "conteudo_html": "<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;void&gt; _initializePlayer() async {\n    if (_isDisposed || !mounted || _isInitializing) return;\n\n    _isInitializing = true;\n    _controllerId = 'vlc_${DateTime.now().millisecondsSinceEpoch}';\n\n    setState(() {\n      _isInitialized = false;\n      _errorMessage = '';\n      _isRetrying = false;\n      _showPlayerWidget = false;\n    });\n\n    try {\n      // Clean up previous controller\n      await _cleanDisposePlayer();\n      if (_isDisposed || !mounted) return;\n\n      // Create controller based on source type\n      if (widget.isTorrentStream) {\n        await _createTorrentController();\n      } else {\n        await _createNetworkController();\n      }\n\n      if (_vlcController == null || _isDisposed || !mounted) return;\n\n      print('🚀 Initializing VLC controller: $_controllerId');\n\n      // Initialize with shorter timeout\n      await _vlcController!.initialize().timeout(\n        const Duration(seconds: 15),\n        onTimeout:\n            () =&gt;\n                throw TimeoutException(\n                  'VLC initialization timeout',\n                  const Duration(seconds: 15),\n                ),\n      );\n\n      // Wait for controller to be fully ready,\n      await Future.delayed(const Duration(milliseconds: 200));\n\n      if (mounted &amp;&amp; !_isDisposed &amp;&amp; _vlcController != null) {\n        // Verify controller is properly initialized\n        if (_vlcController!.value.isInitialized) {\n          // Setup listeners after successful initialization\n          _setupControllerListeners();\n\n          setState(() {\n            _isInitialized = true;\n            _isRetrying = false;\n            _retryCount = 0;\n            _errorMessage = '';\n            _showPlayerWidget = true;\n          });\n\n          print('✅ VLC controller successfully initialized: $_controllerId');\n\n          // Start playback with delay\n          Timer(const Duration(milliseconds: 300), () {\n            if (mounted &amp;&amp; !_isDisposed &amp;&amp; _vlcController != null) {\n              try {\n                _vlcController!.play();\n              } catch (e) {\n                print('⚠️ Error starting playback: $e');\n              }\n            }\n          });\n        } else {\n          throw Exception('Controller initialization failed - not initialized');\n        }\n      }\n    } catch (e) {\n      print('❌ Controller initialization error ($_controllerId): $e'); \n      if (mounted &amp;&amp; !_isDisposed) {\n        _handlePlayerError(e);\n      }\n    } finally {\n      _isInitializing = false;\n    }\n  }\n</code></pre>\n<p>This always returns a lateinit error while trying to access a still-downloading torrent stream\nIs there any solution?\nI'm using platform channels for comm b/w dart &amp; kotlin (uses jlibtorrent-1.2.19.0.jar)\nPS - I'm prioritizing segments of my torrent stream too, using the VLC Flutter Package seek options.</p>\n",
        "codigo": [
            "Future<void> _initializePlayer() async {\n    if (_isDisposed || !mounted || _isInitializing) return;\n\n    _isInitializing = true;\n    _controllerId = 'vlc_${DateTime.now().millisecondsSinceEpoch}';\n\n    setState(() {\n      _isInitialized = false;\n      _errorMessage = '';\n      _isRetrying = false;\n      _showPlayerWidget = false;\n    });\n\n    try {\n      // Clean up previous controller\n      await _cleanDisposePlayer();\n      if (_isDisposed || !mounted) return;\n\n      // Create controller based on source type\n      if (widget.isTorrentStream) {\n        await _createTorrentController();\n      } else {\n        await _createNetworkController();\n      }\n\n      if (_vlcController == null || _isDisposed || !mounted) return;\n\n      print('🚀 Initializing VLC controller: $_controllerId');\n\n      // Initialize with shorter timeout\n      await _vlcController!.initialize().timeout(\n        const Duration(seconds: 15),\n        onTimeout:\n            () =>\n                throw TimeoutException(\n                  'VLC initialization timeout',\n                  const Duration(seconds: 15),\n                ),\n      );\n\n      // Wait for controller to be fully ready,\n      await Future.delayed(const Duration(milliseconds: 200));\n\n      if (mounted && !_isDisposed && _vlcController != null) {\n        // Verify controller is properly initialized\n        if (_vlcController!.value.isInitialized) {\n          // Setup listeners after successful initialization\n          _setupControllerListeners();\n\n          setState(() {\n            _isInitialized = true;\n            _isRetrying = false;\n            _retryCount = 0;\n            _errorMessage = '';\n            _showPlayerWidget = true;\n          });\n\n          print('✅ VLC controller successfully initialized: $_controllerId');\n\n          // Start playback with delay\n          Timer(const Duration(milliseconds: 300), () {\n            if (mounted && !_isDisposed && _vlcController != null) {\n              try {\n                _vlcController!.play();\n              } catch (e) {\n                print('⚠️ Error starting playback: $e');\n              }\n            }\n          });\n        } else {\n          throw Exception('Controller initialization failed - not initialized');\n        }\n      }\n    } catch (e) {\n      print('❌ Controller initialization error ($_controllerId): $e'); \n      if (mounted && !_isDisposed) {\n        _handlePlayerError(e);\n      }\n    } finally {\n      _isInitializing = false;\n    }\n  }\n"
        ]
    },
    {
        "titulo": "SoLoud integration not working in Flutter app",
        "score": 0,
        "views": 127,
        "respostas": 1,
        "tags": [
            "android",
            "ios",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79638117/soloud-integration-not-working-in-flutter-app",
        "conteudo_html": "<p>I have added soloud dev on a freshly created flutter app, but upon calling the init function, the app crashes with the following error:</p>\n<pre><code>[ERROR:flutter/runtime/dart_vm_initializer.cc(40)] Unhandled Exception: Invalid argument(s): Failed to load dynamic library 'libflutter_soloud_plugin.so': dlopen failed: empty/missing DT_HASH/DT_GNU_HASH in &quot;/data/app/~~TZCkXGq6G2B52Y-WUl1rxw==/com.example.tests.flutter_tests-P4hgSodLAxjfvR3_6rrOLQ==/lib/arm64/libflutter_soloud_plugin.so&quot; (new hash type from the future?)\n</code></pre>\n<p>My ndk version is <code>ndkVersion = &quot;29.0.13113456&quot;</code>, and the soloud version is <code>flutter_soloud: ^3.1.10</code></p>\n<p>I haven't been able to locate a single source of information that will help me in this case, I would appreciate the help on this and also, if there is any other information that will help in narrowing down the problem, I will be happy to provide, thanks in advance.</p>\n<p>UPDATE: Here is the output of flutter doctor</p>\n<pre><code>/Users/hamisi/flutter/bin/flutter doctor --verbose\n[✓] Flutter (Channel stable, 3.29.3, on macOS 15.3 24D60 darwin-arm64, locale en-US) [2.4s]\n    • Flutter version 3.29.3 on channel stable at /Users/hamisi/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision ea121f8859 (6 weeks ago), 2025-04-11 19:10:07 +0000\n    • Engine revision cf56914b32\n    • Dart version 3.7.2\n    • DevTools version 2.42.3\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 36.0.0) [4.4s]\n    • Android SDK at /Users/hamisi/Library/Android/sdk\n    • Platform android-35, build-tools 36.0.0\n    • ANDROID_HOME = /Users/hamisi/Library/Android/sdk\n    • Java binary at: /Users/hamisi/Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n      This is the JDK bundled with the latest Android Studio installation on this machine.\n      To manually set the JDK path, use: `flutter config --jdk-dir=&quot;path/to/jdk&quot;`.\n    • Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11572160)\n    • All Android licenses accepted.\n\n[!] Xcode - develop for iOS and macOS (Xcode 16.3) [1,622ms]\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 16E140\n    ! CocoaPods 1.15.2 out of date (1.16.2 is recommended).\n        CocoaPods is a package manager for iOS or macOS platform code.\n        Without CocoaPods, plugins will not work on iOS or macOS.\n        For more info, see https://flutter.dev/to/platform-plugins\n      To update CocoaPods, see https://guides.cocoapods.org/using/getting-started.html#updating-cocoapods\n\n[✓] Chrome - develop for the web [8ms]\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2023.3) [8ms]\n    • Android Studio at /Users/hamisi/Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11572160)\n\n[✓] VS Code (version 1.100.2) [6ms]\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.110.0\n\n[✓] Connected device (4 available) [6.3s]\n    • sdk gphone16k arm64 (mobile)    • emulator-5554         • android-arm64  • Android 15 (API 35) (emulator)\n    • macOS (desktop)                 • macos                 • darwin-arm64   • macOS 15.3 24D60 darwin-arm64\n    • Mac Designed for iPad (desktop) • mac-designed-for-ipad • darwin         • macOS 15.3 24D60 darwin-arm64\n    • Chrome (web)                    • chrome                • web-javascript • Google Chrome 136.0.7103.114\n\n[✓] Network resources [1,267ms]\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n</code></pre>\n",
        "codigo": [
            "[ERROR:flutter/runtime/dart_vm_initializer.cc(40)] Unhandled Exception: Invalid argument(s): Failed to load dynamic library 'libflutter_soloud_plugin.so': dlopen failed: empty/missing DT_HASH/DT_GNU_HASH in \"/data/app/~~TZCkXGq6G2B52Y-WUl1rxw==/com.example.tests.flutter_tests-P4hgSodLAxjfvR3_6rrOLQ==/lib/arm64/libflutter_soloud_plugin.so\" (new hash type from the future?)\n",
            "ndkVersion = \"29.0.13113456\"",
            "flutter_soloud: ^3.1.10",
            "/Users/hamisi/flutter/bin/flutter doctor --verbose\n[✓] Flutter (Channel stable, 3.29.3, on macOS 15.3 24D60 darwin-arm64, locale en-US) [2.4s]\n    • Flutter version 3.29.3 on channel stable at /Users/hamisi/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision ea121f8859 (6 weeks ago), 2025-04-11 19:10:07 +0000\n    • Engine revision cf56914b32\n    • Dart version 3.7.2\n    • DevTools version 2.42.3\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 36.0.0) [4.4s]\n    • Android SDK at /Users/hamisi/Library/Android/sdk\n    • Platform android-35, build-tools 36.0.0\n    • ANDROID_HOME = /Users/hamisi/Library/Android/sdk\n    • Java binary at: /Users/hamisi/Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n      This is the JDK bundled with the latest Android Studio installation on this machine.\n      To manually set the JDK path, use: `flutter config --jdk-dir=\"path/to/jdk\"`.\n    • Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11572160)\n    • All Android licenses accepted.\n\n[!] Xcode - develop for iOS and macOS (Xcode 16.3) [1,622ms]\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 16E140\n    ! CocoaPods 1.15.2 out of date (1.16.2 is recommended).\n        CocoaPods is a package manager for iOS or macOS platform code.\n        Without CocoaPods, plugins will not work on iOS or macOS.\n        For more info, see https://flutter.dev/to/platform-plugins\n      To update CocoaPods, see https://guides.cocoapods.org/using/getting-started.html#updating-cocoapods\n\n[✓] Chrome - develop for the web [8ms]\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2023.3) [8ms]\n    • Android Studio at /Users/hamisi/Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11572160)\n\n[✓] VS Code (version 1.100.2) [6ms]\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.110.0\n\n[✓] Connected device (4 available) [6.3s]\n    • sdk gphone16k arm64 (mobile)    • emulator-5554         • android-arm64  • Android 15 (API 35) (emulator)\n    • macOS (desktop)                 • macos                 • darwin-arm64   • macOS 15.3 24D60 darwin-arm64\n    • Mac Designed for iPad (desktop) • mac-designed-for-ipad • darwin         • macOS 15.3 24D60 darwin-arm64\n    • Chrome (web)                    • chrome                • web-javascript • Google Chrome 136.0.7103.114\n\n[✓] Network resources [1,267ms]\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n"
        ]
    },
    {
        "titulo": "MainActivity issue in the Flutter using Microsoft Liveness",
        "score": 0,
        "views": 38,
        "respostas": 0,
        "tags": [
            "android",
            "flutter",
            "dart",
            "microsoft-graph-api",
            "flutter-dependencies"
        ],
        "link": "https://stackoverflow.com/questions/79635426/mainactivity-issue-in-the-flutter-using-microsoft-liveness",
        "conteudo_html": "<p>While I am trying to implement liveness in the Flutter project I have upgraded the gradlew from 7.6.1 to 8.6.0 and I have migrated the file according to that. Then while Giving <strong>./gradlew clean</strong> It trowed Build Success.</p>\n<p>While trying to build the App with <strong>./gradlew build</strong> I throwed error. Which I have mentioned below</p>\n<pre><code>Configure project :app\nWARNING: The option setting 'android.defaults.buildfeatures.buildconfig=true' is deprecated.\nThe current default is 'false'.\nIt will be removed in version 9.0 of the Android Gradle plugin.\nYou can resolve this warning in Android Studio via `Refactor` &gt; `Migrate BuildConfig to Gradle Build Files`\n\n&gt; Task :app:compileDebugKotlin FAILED\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:5:8 Unresolved reference: io\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:6:8 Unresolved reference: io\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:7:8 Unresolved reference: io\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:9:22 Unresolved reference: FlutterFragmentActivity\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:13:33 Unresolved reference: MethodChannel\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:15:5 'configureFlutterEngine' overrides nothing\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:15:56 Unresolved reference: FlutterEngine\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:16:15 Unresolved reference: configureFlutterEngine\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:18:9 Unresolved reference: MethodChannel\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:18:99 Cannot infer a type for this parameter. Please specify it explicitly.\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:18:105 Cannot infer a type for this parameter. Please specify it explicitly.\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:23:30 None of the following functions can be called with the arguments supplied: \npublic constructor Intent(p0: Context!, p1: Class&lt;*&gt;!) defined in android.content.Intent\npublic constructor Intent(p0: String!, p1: Uri!) defined in android.content.Intent\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:24:21 Unresolved reference: putExtra\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:25:21 Unresolved reference: putExtra\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:29:17 Unresolved reference: startActivityForResult\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:36:5 'onActivityResult' overrides nothing\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:37:15 Unresolved reference: onActivityResult\n[Incubating] Problems report is available at: file:///Users/ttin/development/Patron%20App/tsg/build/reports/problems/problems-report.html\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugKotlin'.\n\n&gt; A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n   &gt; Compilation error. See log for more details\n</code></pre>\n<p>Give me some solution. I am in a hurry</p>\n<p>My mainActivity.kt code</p>\n<pre class=\"lang-kt prettyprint-override\"><code>    package net.redeemx.patron.clubsapphire\n\n    import android.content.Intent\n    import androidx.annotation.NonNull\n    import io.flutter.embedding.android.FlutterFragmentActivity\n    import io.flutter.embedding.engine.FlutterEngine\n    import io.flutter.plugin.common.MethodChannel\n\n    class MainActivity : FlutterFragmentActivity() {\n\n    private val CHANNEL = &quot;azure_face_liveness_channel&quot;\n    private val LIVENESS_REQUEST_CODE = 1001\n    private var resultCallback: MethodChannel.Result? = null\n\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\n        super.configureFlutterEngine(flutterEngine)\n\n        MethodChannel(flutterEngine.dartExecutor.binaryMessenger, CHANNEL).setMethodCallHandler { call, result -&gt;\n            if (call.method == &quot;startLiveness&quot;) {\n                val sessionToken = call.argument&lt;String&gt;(&quot;sessionToken&quot;) ?: &quot;&quot;\n                val verifyImageFileContent = call.argument&lt;ByteArray&gt;(&quot;verifyImageFileContent&quot;)\n\n                val intent = Intent(this, LivenessActivity::class.java).apply {\n                    putExtra(&quot;sessionToken&quot;, sessionToken)\n                    putExtra(&quot;verifyImageFileContent&quot;, verifyImageFileContent)\n                }\n\n                resultCallback = result\n                startActivityForResult(intent, LIVENESS_REQUEST_CODE)\n            } else {\n                result.notImplemented()\n            }\n        }\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n\n        if (requestCode == LIVENESS_REQUEST_CODE &amp;&amp; resultCallback != null) {\n            val status = data?.getStringExtra(&quot;status&quot;)\n            if (status == &quot;success&quot;) {\n                val resultMap = hashMapOf&lt;String, Any?&gt;(\n                    &quot;status&quot; to &quot;success&quot;,\n                    &quot;resultId&quot; to data.getStringExtra(&quot;resultId&quot;),\n                    &quot;digest&quot; to data.getStringExtra(&quot;digest&quot;),\n                    &quot;data&quot; to data.getStringExtra(&quot;data&quot;)\n                )\n                resultCallback?.success(resultMap)\n            } else if (status == &quot;error&quot;) {\n                val errorMap = hashMapOf&lt;String, Any?&gt;(\n                    &quot;status&quot; to &quot;error&quot;,\n                    &quot;livenessError&quot; to data.getStringExtra(&quot;livenessError&quot;),\n                    &quot;recognitionError&quot; to data.getStringExtra(&quot;recognitionError&quot;),\n                    &quot;data&quot; to data.getStringExtra(&quot;data&quot;)\n                )\n                resultCallback?.success(errorMap)\n            } else {\n                resultCallback?.error(&quot;UNEXPECTED_RESULT&quot;, &quot;No valid result returned&quot;, null)\n            }\n            resultCallback = null\n        }\n        }\n        }\n</code></pre>\n",
        "codigo": [
            "Configure project :app\nWARNING: The option setting 'android.defaults.buildfeatures.buildconfig=true' is deprecated.\nThe current default is 'false'.\nIt will be removed in version 9.0 of the Android Gradle plugin.\nYou can resolve this warning in Android Studio via `Refactor` > `Migrate BuildConfig to Gradle Build Files`\n\n> Task :app:compileDebugKotlin FAILED\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:5:8 Unresolved reference: io\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:6:8 Unresolved reference: io\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:7:8 Unresolved reference: io\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:9:22 Unresolved reference: FlutterFragmentActivity\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:13:33 Unresolved reference: MethodChannel\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:15:5 'configureFlutterEngine' overrides nothing\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:15:56 Unresolved reference: FlutterEngine\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:16:15 Unresolved reference: configureFlutterEngine\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:18:9 Unresolved reference: MethodChannel\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:18:99 Cannot infer a type for this parameter. Please specify it explicitly.\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:18:105 Cannot infer a type for this parameter. Please specify it explicitly.\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:23:30 None of the following functions can be called with the arguments supplied: \npublic constructor Intent(p0: Context!, p1: Class<*>!) defined in android.content.Intent\npublic constructor Intent(p0: String!, p1: Uri!) defined in android.content.Intent\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:24:21 Unresolved reference: putExtra\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:25:21 Unresolved reference: putExtra\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:29:17 Unresolved reference: startActivityForResult\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:36:5 'onActivityResult' overrides nothing\ne: file:///Users/ttin/development/Patron%20App/tsg/android/app/src/main/kotlin/net/redeemx/patron/clubsapphire/MainActivity.kt:37:15 Unresolved reference: onActivityResult\n[Incubating] Problems report is available at: file:///Users/ttin/development/Patron%20App/tsg/build/reports/problems/problems-report.html\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugKotlin'.\n\n> A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n   > Compilation error. See log for more details\n",
            "    package net.redeemx.patron.clubsapphire\n\n    import android.content.Intent\n    import androidx.annotation.NonNull\n    import io.flutter.embedding.android.FlutterFragmentActivity\n    import io.flutter.embedding.engine.FlutterEngine\n    import io.flutter.plugin.common.MethodChannel\n\n    class MainActivity : FlutterFragmentActivity() {\n\n    private val CHANNEL = \"azure_face_liveness_channel\"\n    private val LIVENESS_REQUEST_CODE = 1001\n    private var resultCallback: MethodChannel.Result? = null\n\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\n        super.configureFlutterEngine(flutterEngine)\n\n        MethodChannel(flutterEngine.dartExecutor.binaryMessenger, CHANNEL).setMethodCallHandler { call, result ->\n            if (call.method == \"startLiveness\") {\n                val sessionToken = call.argument<String>(\"sessionToken\") ?: \"\"\n                val verifyImageFileContent = call.argument<ByteArray>(\"verifyImageFileContent\")\n\n                val intent = Intent(this, LivenessActivity::class.java).apply {\n                    putExtra(\"sessionToken\", sessionToken)\n                    putExtra(\"verifyImageFileContent\", verifyImageFileContent)\n                }\n\n                resultCallback = result\n                startActivityForResult(intent, LIVENESS_REQUEST_CODE)\n            } else {\n                result.notImplemented()\n            }\n        }\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n\n        if (requestCode == LIVENESS_REQUEST_CODE && resultCallback != null) {\n            val status = data?.getStringExtra(\"status\")\n            if (status == \"success\") {\n                val resultMap = hashMapOf<String, Any?>(\n                    \"status\" to \"success\",\n                    \"resultId\" to data.getStringExtra(\"resultId\"),\n                    \"digest\" to data.getStringExtra(\"digest\"),\n                    \"data\" to data.getStringExtra(\"data\")\n                )\n                resultCallback?.success(resultMap)\n            } else if (status == \"error\") {\n                val errorMap = hashMapOf<String, Any?>(\n                    \"status\" to \"error\",\n                    \"livenessError\" to data.getStringExtra(\"livenessError\"),\n                    \"recognitionError\" to data.getStringExtra(\"recognitionError\"),\n                    \"data\" to data.getStringExtra(\"data\")\n                )\n                resultCallback?.success(errorMap)\n            } else {\n                resultCallback?.error(\"UNEXPECTED_RESULT\", \"No valid result returned\", null)\n            }\n            resultCallback = null\n        }\n        }\n        }\n"
        ]
    },
    {
        "titulo": "How to integrate Kaspersky SDK EasyScanner in a Flutter app?",
        "score": 0,
        "views": 58,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "kaspersky"
        ],
        "link": "https://stackoverflow.com/questions/79629856/how-to-integrate-kaspersky-sdk-easyscanner-in-a-flutter-app",
        "conteudo_html": "<p>I’m trying to integrate the Kaspersky SDK for the EasyScanner feature into my Flutter application. SDK is shared to my by Kaspersky team. I have access to the Android SDK provided by Kaspersky, but I’m not sure how to properly bridge it with Flutter.</p>\n<p>Creating a platform channel to communicate with native Android code.</p>\n<p>Importing the .aar file and referencing it from Android side.</p>\n<p>Calling basic methods via MethodChannel.</p>\n<p>Here is snippet of my codebase:</p>\n<pre><code>package com.example.kaspersky_app\n\nimport android.content.Context\nimport androidx.annotation.NonNull\nimport io.flutter.embedding.android.FlutterActivity\nimport io.flutter.embedding.engine.FlutterEngine\nimport io.flutter.plugin.common.MethodChannel\nimport com.kavsdk.antivirus.EasyMode\nimport com.kavsdk.antivirus.EasyResult\nimport com.kavsdk.antivirus.EasyScanner\nimport com.kavsdk.antivirus.ScanObject\nimport com.kavsdk.antivirus.EasyListener\nimport java.util.concurrent.atomic.AtomicBoolean\nimport android.util.Log\nimport org.json.JSONArray\nimport org.json.JSONObject\n\nclass MainActivity: FlutterActivity() {\n    companion object {\n        private const val CHANNEL = &quot;com.yourcompany.yourapp/kaspersky&quot;\n        private const val TAG = &quot;KasperskyChannel&quot;\n    }\n\n    private var scanThread: Thread? = null\n    private val scanning = AtomicBoolean(false)\n\n    override fun configureFlutterEngine(@NonNull flutterEngine: FlutterEngine) {\n        super.configureFlutterEngine(flutterEngine)\n\n        flutterEngine?.let { engine -&gt;\n            MethodChannel(engine.dartExecutor.binaryMessenger, CHANNEL).setMethodCallHandler { call, result -&gt;\n                when (call.method) {\n                    &quot;isInitialized&quot; -&gt; {\n                        result.success(KasperskyApp.isInitialized())\n                    }\n                    &quot;startScan&quot; -&gt; {\n                        val modeStr = call.argument&lt;String&gt;(&quot;mode&quot;) ?: &quot;Basic&quot;\n                        val mode = try {\n                            EasyMode.valueOf(modeStr)\n                        } catch (e: IllegalArgumentException) {\n                            EasyMode.Basic\n                        }\n\n                        if (KasperskyApp.isInitialized()) {\n                            if (scanning.compareAndSet(false, true)) {\n                                startScan(mode, result)\n                            } else {\n                                result.error(&quot;ALREADY_SCANNING&quot;, &quot;A scan is already in progress&quot;, null)\n                            }\n                        } else {\n                            result.error(&quot;NOT_INITIALIZED&quot;, &quot;Kaspersky SDK is not initialized&quot;, null)\n                        }\n                    }\n                    &quot;cancelScan&quot; -&gt; {\n                        if (scanning.get() &amp;&amp; scanThread != null &amp;&amp; scanThread!!.isAlive) {\n                            scanThread?.interrupt()\n                            scanning.set(false)\n                            result.success(true)\n                        } else {\n                            result.success(false)\n                        }\n                    }\n                    else -&gt; {\n                        result.notImplemented()\n                    }\n                }\n            }\n        }\n    }\n\n    private fun startScan(mode: EasyMode, result: MethodChannel.Result) {\n        val antivirus = KasperskyApp.getAntivirus()\n\n        if (antivirus == null) {\n            scanning.set(false)\n            result.error(&quot;ANTIVIRUS_NULL&quot;, &quot;Antivirus component is null&quot;, null)\n            return\n        }\n\n        scanThread = Thread {\n            try {\n                Log.d(TAG, &quot;Starting scan with mode: $mode&quot;)\n                val easyScanner = antivirus.createEasyScanner()\n                val eventChannel = flutterEngine?.let { engine -&gt;\n                    MethodChannel(engine.dartExecutor.binaryMessenger, &quot;$CHANNEL/events&quot;)\n                }\n\n                easyScanner.scan(mode, object : EasyListener {\n                    override fun onCalculateProgress(filesCalculated: Int) {\n                        runOnUiThread {\n                            val data = JSONObject().apply {\n                                put(&quot;event&quot;, &quot;calculateProgress&quot;)\n                                put(&quot;filesCalculated&quot;, filesCalculated)\n                            }\n                            eventChannel?.invokeMethod(&quot;onEvent&quot;, data.toString())\n                        }\n                    }\n\n                    override fun onScanProgress(filesProcessed: Int, filesTotal: Int) {\n                        runOnUiThread {\n                            val data = JSONObject().apply {\n                                put(&quot;event&quot;, &quot;scanProgress&quot;)\n                                put(&quot;filesProcessed&quot;, filesProcessed)\n                                put(&quot;filesTotal&quot;, filesTotal)\n                            }\n                            eventChannel?.invokeMethod(&quot;onEvent&quot;, data.toString())\n                        }\n                    }\n\n                    override fun onThreatDetected(scanObject: ScanObject) {\n                        runOnUiThread {\n                            val data = JSONObject().apply {\n                                put(&quot;event&quot;, &quot;threatDetected&quot;)\n                                put(&quot;filename&quot;, scanObject.getFilename())\n                                put(&quot;threatName&quot;, scanObject.getVerdictName())\n                            }\n                            eventChannel?.invokeMethod(&quot;onEvent&quot;, data.toString())\n                        }\n                    }\n                })\n\n                val scanResult = easyScanner.result\n\n                Log.d(TAG, &quot;Scan finished&quot;)\n                Log.d(TAG, &quot;Files found: &quot; + scanResult.filesScanned)\n                Log.d(TAG, &quot;Files calculated: &quot; + scanResult.filesCount)\n                Log.d(TAG, &quot;Objects scanned: &quot; + scanResult.objectsScanned)\n                Log.d(TAG, &quot;Objects skipped: &quot; + scanResult.objectsSkipped)\n                Log.d(TAG, &quot;Viruses found: &quot; + scanResult.malwareList.size)\n                Log.d(TAG, &quot;Riskware found: &quot; + scanResult.riskwareList.size)\n                Log.d(TAG, &quot;Rooted: &quot; + scanResult.isRooted)\n\n                val malwareArray = JSONArray()\n                for (malware in scanResult.malwareList) {\n                    val malwareObj = JSONObject()\n                    malwareObj.put(&quot;filename&quot;, malware.getFilename())\n                    malwareObj.put(&quot;threatName&quot;, malware.getVerdictName())\n                    malwareArray.put(malwareObj)\n                }\n\n                val riskwareArray = JSONArray()\n                for (riskware in scanResult.riskwareList) {\n                    val riskwareObj = JSONObject()\n                    riskwareObj.put(&quot;filename&quot;, riskware.getFilename())\n                    riskwareObj.put(&quot;threatName&quot;, riskware.getVerdictName())\n                    riskwareArray.put(riskwareObj)\n                }\n\n                val resultJson = JSONObject().apply {\n                    put(&quot;filesScanned&quot;, scanResult.filesScanned)\n                    put(&quot;filesCount&quot;, scanResult.filesCount)\n                    put(&quot;objectsScanned&quot;, scanResult.objectsScanned)\n                    put(&quot;objectsSkipped&quot;, scanResult.objectsSkipped)\n                    put(&quot;malwareCount&quot;, scanResult.malwareList.size)\n                    put(&quot;riskwareCount&quot;, scanResult.riskwareList.size)\n                    put(&quot;isRooted&quot;, scanResult.isRooted)\n                    put(&quot;malwareList&quot;, malwareArray)\n                    put(&quot;riskwareList&quot;, riskwareArray)\n                }\n\n                runOnUiThread {\n                    scanning.set(false)\n                    result.success(resultJson.toString())\n                }\n\n            } catch (e: Exception) {\n                Log.e(TAG, &quot;Scan error: ${e.message}&quot;, e)\n                runOnUiThread {\n                    scanning.set(false)\n                    result.error(&quot;SCAN_ERROR&quot;, e.message, e.stackTraceToString())\n                }\n            }\n        }\n\n        scanThread?.start()\n    }\n}\n</code></pre>\n<p>Following is the error log of my code.</p>\n<pre><code>Launching lib\\main.dart on TECNO KJ5 in debug mode...\nRunning Gradle task 'assembleDebug'...\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:8:29 Unresolved reference: EasyMode\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:9:29 Unresolved reference: EasyResult\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:10:29 Unresolved reference: EasyScanner\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:11:29 Unresolved reference: ScanObject\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:12:29 Unresolved reference: EasyListener\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:39:29 Unresolved reference: EasyMode\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:41:29 Unresolved reference: EasyMode\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:71:33 Unresolved reference: EasyMode\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:88:40 Type mismatch: inferred type is `&lt;no name provided&gt;` but EasyListener! was expected\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:88:49 Unresolved reference: EasyListener\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:89:21 'onCalculateProgress' overrides nothing\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:99:21 'onScanProgress' overrides nothing\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:110:21 'onThreatDetected' overrides nothing\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:110:63 Unresolved reference: ScanObject\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:136:56 Unresolved reference: getFilename\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:137:58 Unresolved reference: getVerdictName\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:144:58 Unresolved reference: getFilename\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:145:60 Unresolved reference: getVerdictName\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/kaspersky_app.kt:81:16 Type mismatch: inferred type is String? but String was expected\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugKotlin'.\n&gt; A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n   &gt; Compilation error. See log for more details\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n\nBUILD FAILED in 42s\nError: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n",
        "codigo": [
            "package com.example.kaspersky_app\n\nimport android.content.Context\nimport androidx.annotation.NonNull\nimport io.flutter.embedding.android.FlutterActivity\nimport io.flutter.embedding.engine.FlutterEngine\nimport io.flutter.plugin.common.MethodChannel\nimport com.kavsdk.antivirus.EasyMode\nimport com.kavsdk.antivirus.EasyResult\nimport com.kavsdk.antivirus.EasyScanner\nimport com.kavsdk.antivirus.ScanObject\nimport com.kavsdk.antivirus.EasyListener\nimport java.util.concurrent.atomic.AtomicBoolean\nimport android.util.Log\nimport org.json.JSONArray\nimport org.json.JSONObject\n\nclass MainActivity: FlutterActivity() {\n    companion object {\n        private const val CHANNEL = \"com.yourcompany.yourapp/kaspersky\"\n        private const val TAG = \"KasperskyChannel\"\n    }\n\n    private var scanThread: Thread? = null\n    private val scanning = AtomicBoolean(false)\n\n    override fun configureFlutterEngine(@NonNull flutterEngine: FlutterEngine) {\n        super.configureFlutterEngine(flutterEngine)\n\n        flutterEngine?.let { engine ->\n            MethodChannel(engine.dartExecutor.binaryMessenger, CHANNEL).setMethodCallHandler { call, result ->\n                when (call.method) {\n                    \"isInitialized\" -> {\n                        result.success(KasperskyApp.isInitialized())\n                    }\n                    \"startScan\" -> {\n                        val modeStr = call.argument<String>(\"mode\") ?: \"Basic\"\n                        val mode = try {\n                            EasyMode.valueOf(modeStr)\n                        } catch (e: IllegalArgumentException) {\n                            EasyMode.Basic\n                        }\n\n                        if (KasperskyApp.isInitialized()) {\n                            if (scanning.compareAndSet(false, true)) {\n                                startScan(mode, result)\n                            } else {\n                                result.error(\"ALREADY_SCANNING\", \"A scan is already in progress\", null)\n                            }\n                        } else {\n                            result.error(\"NOT_INITIALIZED\", \"Kaspersky SDK is not initialized\", null)\n                        }\n                    }\n                    \"cancelScan\" -> {\n                        if (scanning.get() && scanThread != null && scanThread!!.isAlive) {\n                            scanThread?.interrupt()\n                            scanning.set(false)\n                            result.success(true)\n                        } else {\n                            result.success(false)\n                        }\n                    }\n                    else -> {\n                        result.notImplemented()\n                    }\n                }\n            }\n        }\n    }\n\n    private fun startScan(mode: EasyMode, result: MethodChannel.Result) {\n        val antivirus = KasperskyApp.getAntivirus()\n\n        if (antivirus == null) {\n            scanning.set(false)\n            result.error(\"ANTIVIRUS_NULL\", \"Antivirus component is null\", null)\n            return\n        }\n\n        scanThread = Thread {\n            try {\n                Log.d(TAG, \"Starting scan with mode: $mode\")\n                val easyScanner = antivirus.createEasyScanner()\n                val eventChannel = flutterEngine?.let { engine ->\n                    MethodChannel(engine.dartExecutor.binaryMessenger, \"$CHANNEL/events\")\n                }\n\n                easyScanner.scan(mode, object : EasyListener {\n                    override fun onCalculateProgress(filesCalculated: Int) {\n                        runOnUiThread {\n                            val data = JSONObject().apply {\n                                put(\"event\", \"calculateProgress\")\n                                put(\"filesCalculated\", filesCalculated)\n                            }\n                            eventChannel?.invokeMethod(\"onEvent\", data.toString())\n                        }\n                    }\n\n                    override fun onScanProgress(filesProcessed: Int, filesTotal: Int) {\n                        runOnUiThread {\n                            val data = JSONObject().apply {\n                                put(\"event\", \"scanProgress\")\n                                put(\"filesProcessed\", filesProcessed)\n                                put(\"filesTotal\", filesTotal)\n                            }\n                            eventChannel?.invokeMethod(\"onEvent\", data.toString())\n                        }\n                    }\n\n                    override fun onThreatDetected(scanObject: ScanObject) {\n                        runOnUiThread {\n                            val data = JSONObject().apply {\n                                put(\"event\", \"threatDetected\")\n                                put(\"filename\", scanObject.getFilename())\n                                put(\"threatName\", scanObject.getVerdictName())\n                            }\n                            eventChannel?.invokeMethod(\"onEvent\", data.toString())\n                        }\n                    }\n                })\n\n                val scanResult = easyScanner.result\n\n                Log.d(TAG, \"Scan finished\")\n                Log.d(TAG, \"Files found: \" + scanResult.filesScanned)\n                Log.d(TAG, \"Files calculated: \" + scanResult.filesCount)\n                Log.d(TAG, \"Objects scanned: \" + scanResult.objectsScanned)\n                Log.d(TAG, \"Objects skipped: \" + scanResult.objectsSkipped)\n                Log.d(TAG, \"Viruses found: \" + scanResult.malwareList.size)\n                Log.d(TAG, \"Riskware found: \" + scanResult.riskwareList.size)\n                Log.d(TAG, \"Rooted: \" + scanResult.isRooted)\n\n                val malwareArray = JSONArray()\n                for (malware in scanResult.malwareList) {\n                    val malwareObj = JSONObject()\n                    malwareObj.put(\"filename\", malware.getFilename())\n                    malwareObj.put(\"threatName\", malware.getVerdictName())\n                    malwareArray.put(malwareObj)\n                }\n\n                val riskwareArray = JSONArray()\n                for (riskware in scanResult.riskwareList) {\n                    val riskwareObj = JSONObject()\n                    riskwareObj.put(\"filename\", riskware.getFilename())\n                    riskwareObj.put(\"threatName\", riskware.getVerdictName())\n                    riskwareArray.put(riskwareObj)\n                }\n\n                val resultJson = JSONObject().apply {\n                    put(\"filesScanned\", scanResult.filesScanned)\n                    put(\"filesCount\", scanResult.filesCount)\n                    put(\"objectsScanned\", scanResult.objectsScanned)\n                    put(\"objectsSkipped\", scanResult.objectsSkipped)\n                    put(\"malwareCount\", scanResult.malwareList.size)\n                    put(\"riskwareCount\", scanResult.riskwareList.size)\n                    put(\"isRooted\", scanResult.isRooted)\n                    put(\"malwareList\", malwareArray)\n                    put(\"riskwareList\", riskwareArray)\n                }\n\n                runOnUiThread {\n                    scanning.set(false)\n                    result.success(resultJson.toString())\n                }\n\n            } catch (e: Exception) {\n                Log.e(TAG, \"Scan error: ${e.message}\", e)\n                runOnUiThread {\n                    scanning.set(false)\n                    result.error(\"SCAN_ERROR\", e.message, e.stackTraceToString())\n                }\n            }\n        }\n\n        scanThread?.start()\n    }\n}\n",
            "Launching lib\\main.dart on TECNO KJ5 in debug mode...\nRunning Gradle task 'assembleDebug'...\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:8:29 Unresolved reference: EasyMode\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:9:29 Unresolved reference: EasyResult\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:10:29 Unresolved reference: EasyScanner\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:11:29 Unresolved reference: ScanObject\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:12:29 Unresolved reference: EasyListener\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:39:29 Unresolved reference: EasyMode\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:41:29 Unresolved reference: EasyMode\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:71:33 Unresolved reference: EasyMode\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:88:40 Type mismatch: inferred type is `<no name provided>` but EasyListener! was expected\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:88:49 Unresolved reference: EasyListener\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:89:21 'onCalculateProgress' overrides nothing\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:99:21 'onScanProgress' overrides nothing\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:110:21 'onThreatDetected' overrides nothing\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:110:63 Unresolved reference: ScanObject\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:136:56 Unresolved reference: getFilename\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:137:58 Unresolved reference: getVerdictName\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:144:58 Unresolved reference: getFilename\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/MainActivity.kt:145:60 Unresolved reference: getVerdictName\ne: file:///C:/Users/COMPUTER%20WORLD/StudioProjects/kaspersky_app/android/app/src/main/kotlin/com/example/kaspersky_app/kaspersky_app.kt:81:16 Type mismatch: inferred type is String? but String was expected\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugKotlin'.\n> A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n   > Compilation error. See log for more details\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n> Get more help at https://help.gradle.org.\n\nBUILD FAILED in 42s\nError: Gradle task assembleDebug failed with exit code 1\n"
        ]
    },
    {
        "titulo": "Without Firebase: PlatformException(sign_in_failed, com.google.android.gms.common.api.ApiException: 10: , null, null)",
        "score": 0,
        "views": 88,
        "respostas": 3,
        "tags": [
            "flutter",
            "dart",
            "google-cloud-platform",
            "google-signin"
        ],
        "link": "https://stackoverflow.com/questions/79619426/without-firebase-platformexceptionsign-in-failed-com-google-android-gms-commo",
        "conteudo_html": "<pre><code>final api = GoogleSignIn();\n\nFuture&lt;void&gt; _signIn() async {\n  try {\n    var user = await api.signIn();\n    print(user);\n  } catch (e) {\n    logger.e(e);\n  }\n}\n</code></pre>\n<p><code>key.properties</code></p>\n<pre><code>storePassword=password\nkeyPassword=password\nkeyAlias=keyAlias\nstoreFile=keystore-file-path.jks\n</code></pre>\n<p><code>android/app/build.gradle.kts</code></p>\n<pre><code>signingConfigs {\n    create(&quot;release&quot;) {\n        keyAlias = keystoreProperties[&quot;keyAlias&quot;] as String\n        keyPassword = keystoreProperties[&quot;keyPassword&quot;] as String\n        storeFile = keystoreProperties[&quot;storeFile&quot;]?.let { file(it) }\n        storePassword = keystoreProperties[&quot;storePassword&quot;] as String\n    }\n}\n    \n\nbuildTypes {\n    release {\n        signingConfig = signingConfigs.getByName(&quot;release&quot;)\n    }\n}\n</code></pre>\n<p><code>flutter doctor -v</code></p>\n<pre><code>[✓] Flutter (Channel stable, 3.29.3, on Microsoft Windows [Version 10.0.26100.3775], locale en-US) [550ms]\n    • Flutter version 3.29.3 on channel stable at C:\\Flutter\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision ea121f8859 (5 weeks ago), 2025-04-11 19:10:07 +0000\n    • Engine revision cf56914b32\n    • Dart version 3.7.2\n    • DevTools version 2.42.3\n\n[✓] Windows Version (Windows 11 or higher, 24H2, 2009) [5.2s]\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 35.0.1) [4.8s]\n    • Android SDK at C:\\Users\\dev\\AppData\\Local\\Android\\sdk\n    • Platform android-35, build-tools 35.0.1\n    • Java binary at: C:\\Program Files\\Java\\jdk-17\\bin\\java\n      This JDK is specified in your Flutter configuration.\n      To change the current JDK, run: `flutter config --jdk-dir=&quot;path/to/jdk&quot;`.\n    • Java version Java(TM) SE Runtime Environment (build 17.0.12+8-LTS-286)\n    • All Android licenses accepted.\n\n[✗] Chrome - develop for the web (Cannot find Chrome executable at .\\Google\\Chrome\\Application\\chrome.exe) [170ms]\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n\n[✓] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.13.6) [168ms]\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.13.35931.197\n    • Windows 10 SDK version 10.0.22621.0\n\n[✓] Android Studio (version 2024.3) [23ms]\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.6+-13355223-b631.42)\n\n[✓] VS Code (version 1.100.0) [21ms]\n    • VS Code at C:\\Users\\dev\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.110.0\n\n[✓] Connected device (3 available) [601ms]\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 16 (API 36) (emulator)\n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Version 10.0.26100.3775]\n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 136.0.3240.64\n\n[✓] Network resources [745ms]\n    • All expected network resources are available.\n</code></pre>\n<p>I have gone through documentations and followed all instructions. <a href=\"https://pub.dev/packages/google_sign_in\" rel=\"nofollow noreferrer\">Google Sign In</a>\nI have signed the app and generated keystore as detailed in docs <a href=\"https://docs.flutter.dev/deployment/android#sign-the-app\" rel=\"nofollow noreferrer\">Flutter Docs</a>\nI have setup everything including <code>Sha1</code> in <a href=\"https://console.cloud.google.com/\" rel=\"nofollow noreferrer\">text</a>.</p>\n<p>I also know that <code>firebase</code> is not required and so <code>google-services.json</code> isn't necessary.</p>\n<p>None of similar questions in this platform or github solves this problem.</p>\n",
        "codigo": [
            "final api = GoogleSignIn();\n\nFuture<void> _signIn() async {\n  try {\n    var user = await api.signIn();\n    print(user);\n  } catch (e) {\n    logger.e(e);\n  }\n}\n",
            "key.properties",
            "storePassword=password\nkeyPassword=password\nkeyAlias=keyAlias\nstoreFile=keystore-file-path.jks\n",
            "android/app/build.gradle.kts",
            "signingConfigs {\n    create(\"release\") {\n        keyAlias = keystoreProperties[\"keyAlias\"] as String\n        keyPassword = keystoreProperties[\"keyPassword\"] as String\n        storeFile = keystoreProperties[\"storeFile\"]?.let { file(it) }\n        storePassword = keystoreProperties[\"storePassword\"] as String\n    }\n}\n    \n\nbuildTypes {\n    release {\n        signingConfig = signingConfigs.getByName(\"release\")\n    }\n}\n",
            "flutter doctor -v",
            "[✓] Flutter (Channel stable, 3.29.3, on Microsoft Windows [Version 10.0.26100.3775], locale en-US) [550ms]\n    • Flutter version 3.29.3 on channel stable at C:\\Flutter\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision ea121f8859 (5 weeks ago), 2025-04-11 19:10:07 +0000\n    • Engine revision cf56914b32\n    • Dart version 3.7.2\n    • DevTools version 2.42.3\n\n[✓] Windows Version (Windows 11 or higher, 24H2, 2009) [5.2s]\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 35.0.1) [4.8s]\n    • Android SDK at C:\\Users\\dev\\AppData\\Local\\Android\\sdk\n    • Platform android-35, build-tools 35.0.1\n    • Java binary at: C:\\Program Files\\Java\\jdk-17\\bin\\java\n      This JDK is specified in your Flutter configuration.\n      To change the current JDK, run: `flutter config --jdk-dir=\"path/to/jdk\"`.\n    • Java version Java(TM) SE Runtime Environment (build 17.0.12+8-LTS-286)\n    • All Android licenses accepted.\n\n[✗] Chrome - develop for the web (Cannot find Chrome executable at .\\Google\\Chrome\\Application\\chrome.exe) [170ms]\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n\n[✓] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.13.6) [168ms]\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.13.35931.197\n    • Windows 10 SDK version 10.0.22621.0\n\n[✓] Android Studio (version 2024.3) [23ms]\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.6+-13355223-b631.42)\n\n[✓] VS Code (version 1.100.0) [21ms]\n    • VS Code at C:\\Users\\dev\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.110.0\n\n[✓] Connected device (3 available) [601ms]\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 16 (API 36) (emulator)\n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Version 10.0.26100.3775]\n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 136.0.3240.64\n\n[✓] Network resources [745ms]\n    • All expected network resources are available.\n",
            "Sha1",
            "firebase",
            "google-services.json"
        ]
    },
    {
        "titulo": "How to test both assert() and the return value as if running in production",
        "score": 0,
        "views": 41,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "testing"
        ],
        "link": "https://stackoverflow.com/questions/79619092/how-to-test-both-assert-and-the-return-value-as-if-running-in-production",
        "conteudo_html": "<p>Given a function that has some cases that should never happen (<code>assert</code>), but should still handle them gracefully, like:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>int? foo(int value) {\n  if (value &lt; 0) {\n    assert(false); // throws AssertionError in debug\n    return null;   // returns null in production\n  }\n  if (value &gt; 5) {\n    return null;   // null is returned in some non-error cases\n  }\n  return value;\n}\n</code></pre>\n<p>How can i test both the <code>AssertionError</code>, and that <code>null</code> would be returned in production?</p>\n<p>I know i can do the following for the <code>AssertionError</code> part:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>expect(()=&gt; foo(-1), throwsA(isA&lt;AssertionError&gt;()))\n</code></pre>\n<hr />\n<p>For context, think of a function that maps some values coming from an API.\nOld clients should not break on new values (hence null) but we should still notice missing mappings easily during development (hence assert).</p>\n",
        "codigo": [
            "assert",
            "int? foo(int value) {\n  if (value < 0) {\n    assert(false); // throws AssertionError in debug\n    return null;   // returns null in production\n  }\n  if (value > 5) {\n    return null;   // null is returned in some non-error cases\n  }\n  return value;\n}\n",
            "AssertionError",
            "null",
            "AssertionError",
            "expect(()=> foo(-1), throwsA(isA<AssertionError>()))\n"
        ]
    },
    {
        "titulo": "Unable to fetch the complete data of user when user log in. Using Typescript and NodeJs in backend",
        "score": -1,
        "views": 61,
        "respostas": 1,
        "tags": [
            "node.js",
            "typescript",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79613689/unable-to-fetch-the-complete-data-of-user-when-user-log-in-using-typescript-and",
        "conteudo_html": "<p>The issue that I am facing in my backend is that I am unable to retrive the complete user data, to be true I was learning flutter + backend from youtube the same code worked for that guy, but I am unable to achieve the same output. I am using NodeJs and Typescript in my backend and using Flutter to design my frontend.</p>\n<p>My output</p>\n<pre><code>{\n&quot;message&quot;: &quot;Login successful&quot;,\n&quot;token&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNiYTc0MzEyLWNiNmYtNGE1YS1iNGM2LTBiNDc5MmVjOTgwZiIsImlhdCI6MTc0Njc3NTk2NiwiZXhwIjoxNzQ2ODExOTY2fQ.4bBzm5sF2U32zQHlV-oHEHKxaV4Z7VoKxPKNe9f0rY8&quot; \n}\n</code></pre>\n<p>Expected Output</p>\n<pre><code>&quot;user&quot;: {\n    &quot;id&quot;: &quot;cba74312-cb6f-4a5a-b4c6-0b4792ec980f&quot;,\n    &quot;username&quot;: &quot;11111&quot;,\n    &quot;email&quot;: &quot;11111&quot;,\n    &quot;password&quot;: &quot;$2b$10$PinyKdteIXKn.9O7BWfPtuUJXc1hdxfpsRE0SD.emfBKts1/Or/UO&quot;,\n    &quot;created_at&quot;: &quot;2025-05-09T06:23:54.778Z&quot;,\n    &quot;updated_at&quot;: &quot;2025-05-09T06:23:54.778Z&quot;,\n    &quot;token&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNiYTc0MzEyLWNiNmYtNGE1YS1iNGM2LTBiNDc5MmVjOTgwZiIsImlhdCI6MTc0Njc3NTk2NiwiZXhwIjoxNzQ2ODExOTY2fQ.4bBzm5sF2U32zQHlV-oHEHKxaV4Z7VoKxPKNe9f0rY8&quot;\n}\n</code></pre>\n<p>Backend Code:</p>\n<pre><code>import { Request, Response } from &quot;express&quot;;\nimport bcrypt from &quot;bcrypt&quot;;\nimport pool from &quot;../models/db&quot;;\nimport jwt from &quot;jsonwebtoken&quot;;\n\nconst SALT_ROUNDS = 10;\nconst JWT_SECRET = process.env.JWT_SECRET || 'rudrasecreatkey';\n\nexport const register = async (req: Request, res: Response) =&gt; {\n    // 1. Get username, password, and email from the request body\n    // 2. Insert the data into the database\n    // 3. Return a success message and user data\n    const { username, email, password } = req.body;\n    try {\n        // Hash the password\n        const hashedPassword = await bcrypt.hash(password, SALT_ROUNDS);\n        const result = await pool.query(\n            'INSERT INTO users (username, email, password) VALUES ($1, $2, $3) RETURNING *',\n            [username, email, hashedPassword]\n        );\n        const user = result.rows[0];\n        // res.status(201).json({\n        //     message: 'User registered successfully', user\n        // });\n        res.status(201).json({ user });\n    } catch (err: any) {\n        res.status(500).json({\n            error: 'Failed to register user',\n            details: err.message,\n        });\n    }\n}\n\nexport const login = async (req: Request, res: Response): Promise&lt;any&gt; =&gt; {\n    // 1. Get email, password\n    // 2. Verify if the email exists in the database\n    // 3. Compare password -&gt; 'invalid credentials'\n    // 4. Return token\n    const { email, password } = req.body;\n    try {\n        const result = await pool.query(\n            'SELECT * FROM users WHERE email = $1',\n            [email]\n        );\n        const user = result.rows[0];\n        if (!user) {\n            return res.status(404).json({\n                error: 'User not found',\n            });\n        }\n        const isMatch = await bcrypt.compare(password, user.password);\n        if (!isMatch) {\n            return res.status(400).json({\n                error: 'Invalid credentials',\n            });\n        }\n        const token = jwt.sign({ id: user.id }, JWT_SECRET, { expiresIn: '10h' });\n        let finalResult = { ...user, token } //1\n        res.json({ user: finalResult }); //2 He added these two lines to get the complete user data as response.\n    } catch (err: any) {\n        res.status(500).json({\n            error: 'Failed to login',\n            details: err.message,\n        });\n    }\n}\n</code></pre>\n",
        "codigo": [
            "{\n\"message\": \"Login successful\",\n\"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNiYTc0MzEyLWNiNmYtNGE1YS1iNGM2LTBiNDc5MmVjOTgwZiIsImlhdCI6MTc0Njc3NTk2NiwiZXhwIjoxNzQ2ODExOTY2fQ.4bBzm5sF2U32zQHlV-oHEHKxaV4Z7VoKxPKNe9f0rY8\" \n}\n",
            "\"user\": {\n    \"id\": \"cba74312-cb6f-4a5a-b4c6-0b4792ec980f\",\n    \"username\": \"11111\",\n    \"email\": \"11111\",\n    \"password\": \"$2b$10$PinyKdteIXKn.9O7BWfPtuUJXc1hdxfpsRE0SD.emfBKts1/Or/UO\",\n    \"created_at\": \"2025-05-09T06:23:54.778Z\",\n    \"updated_at\": \"2025-05-09T06:23:54.778Z\",\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNiYTc0MzEyLWNiNmYtNGE1YS1iNGM2LTBiNDc5MmVjOTgwZiIsImlhdCI6MTc0Njc3NTk2NiwiZXhwIjoxNzQ2ODExOTY2fQ.4bBzm5sF2U32zQHlV-oHEHKxaV4Z7VoKxPKNe9f0rY8\"\n}\n",
            "import { Request, Response } from \"express\";\nimport bcrypt from \"bcrypt\";\nimport pool from \"../models/db\";\nimport jwt from \"jsonwebtoken\";\n\nconst SALT_ROUNDS = 10;\nconst JWT_SECRET = process.env.JWT_SECRET || 'rudrasecreatkey';\n\nexport const register = async (req: Request, res: Response) => {\n    // 1. Get username, password, and email from the request body\n    // 2. Insert the data into the database\n    // 3. Return a success message and user data\n    const { username, email, password } = req.body;\n    try {\n        // Hash the password\n        const hashedPassword = await bcrypt.hash(password, SALT_ROUNDS);\n        const result = await pool.query(\n            'INSERT INTO users (username, email, password) VALUES ($1, $2, $3) RETURNING *',\n            [username, email, hashedPassword]\n        );\n        const user = result.rows[0];\n        // res.status(201).json({\n        //     message: 'User registered successfully', user\n        // });\n        res.status(201).json({ user });\n    } catch (err: any) {\n        res.status(500).json({\n            error: 'Failed to register user',\n            details: err.message,\n        });\n    }\n}\n\nexport const login = async (req: Request, res: Response): Promise<any> => {\n    // 1. Get email, password\n    // 2. Verify if the email exists in the database\n    // 3. Compare password -> 'invalid credentials'\n    // 4. Return token\n    const { email, password } = req.body;\n    try {\n        const result = await pool.query(\n            'SELECT * FROM users WHERE email = $1',\n            [email]\n        );\n        const user = result.rows[0];\n        if (!user) {\n            return res.status(404).json({\n                error: 'User not found',\n            });\n        }\n        const isMatch = await bcrypt.compare(password, user.password);\n        if (!isMatch) {\n            return res.status(400).json({\n                error: 'Invalid credentials',\n            });\n        }\n        const token = jwt.sign({ id: user.id }, JWT_SECRET, { expiresIn: '10h' });\n        let finalResult = { ...user, token } //1\n        res.json({ user: finalResult }); //2 He added these two lines to get the complete user data as response.\n    } catch (err: any) {\n        res.status(500).json({\n            error: 'Failed to login',\n            details: err.message,\n        });\n    }\n}\n"
        ]
    },
    {
        "titulo": "Flutter iOS Simulator (iOS 18.4) DevFSException: Failed to start Dart Development Service",
        "score": 1,
        "views": 243,
        "respostas": 0,
        "tags": [
            "ios",
            "flutter",
            "dart",
            "ios-simulator",
            "build-error"
        ],
        "link": "https://stackoverflow.com/questions/79603654/flutter-ios-simulator-ios-18-4-devfsexception-failed-to-start-dart-developmen",
        "conteudo_html": "<p><strong>Environment:</strong></p>\n<ul>\n<li>Flutter SDK: 3.29.3 • channel stable • Dart 3.7.2 • DevTools 2.42.3</li>\n<li>Xcode: 16.3 (16E140) with Command Line Tools at <code>/Applications/Xcode.app/Contents/Developer</code></li>\n<li>iOS Simulator: iPhone 16 Pro Max • iOS 18.4 runtime (UUID CAD7C59B-…)</li>\n<li>macOS: 15.4.1 (24E263)</li>\n</ul>\n<hr />\n<p><strong>Problem:</strong>\nWhen launching my Flutter app on the iOS 18.4 simulator in debug mode, the build succeeds but the Dart Development Service (DDS) never starts and the app never attaches. I see:</p>\n<pre><code>Warning: Failed to start DDS: Failed to start Dart Development Service  \nDevFSException(Service disconnected, _createDevFS: (112) Service has disappeared, null)  \nError connecting to the service protocol: DartDevelopmentServiceException: Failed to start Dart Development Service\n</code></pre>\n<hr />\n<p><strong>Steps to Reproduce:</strong></p>\n<ol>\n<li><code>git clone &lt;your_repo_url&gt;</code> &amp;&amp; <code>cd &lt;project&gt;</code></li>\n<li><code>flutter clean</code></li>\n<li><code>rm -rf ~/Library/Developer/Xcode/DerivedData</code></li>\n<li><code>cd ios &amp;&amp; pod install &amp;&amp; cd ..</code></li>\n<li><code>flutter run --verbose -d CAD7C59B-8D46-4CAF-9437-AAC75E0D24FE</code></li>\n</ol>\n<hr />\n<p><strong>Log Snippet:</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>&lt;\n[   +3 ms] executing: /usr/bin/arch -arm64e xcrun simctl launch CAD7C59B-8D46-4CAF-9437-AAC75E0D24FE com.example.mlbbHeroCalc --enable-dart-profiling --enable-checked-mode --verify-entry-points\n[ +493 ms] com.example.mlbbHeroCalc: 57023\n[   +1 ms] Waiting for VM Service port to be available...\n[+8751 ms] VM Service URL on device: http://127.0.0.1:59733/qeivRY9V9ck=/\n[   +7 ms] Caching compiled dill\n[ +162 ms] Connecting to service protocol: http://127.0.0.1:59733/qeivRY9V9ck=/\n[ +222 ms] Launching a Dart Developer Service (DDS) instance at http://127.0.0.1:0, connecting to VM service at http://127.0.0.1:59733/qeivRY9V9ck=/.\n[ +311 ms] Warning: Failed to start DDS: Failed to start Dart Development Service\n[        ] Fail to connect to service protocol: http://127.0.0.1:59733/qeivRY9V9ck=/: DartDevelopmentServiceException: Failed to start Dart Development Service\n[        ] Error connecting to the service protocol: failed to connect to http://127.0.0.1:59733/qeivRY9V9ck=/ DartDevelopmentServiceException: Failed to start Dart Development Service\n[   +2 ms] &quot;flutter run&quot; took 36.014ms.\n[  +44 ms] \n           #0      throwToolExit (package:flutter_tools/src/base/common.dart:34:3)\n           #1      RunCommand.runCommand (package:flutter_tools/src/commands/run.dart:931:9)\n           &lt;asynchronous suspension&gt;\n           #2      FlutterCommand.run.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command.dart:1558:27)\n           &lt;asynchronous suspension&gt;\n           #3      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:154:19)\n           &lt;asynchronous suspension&gt;\n           #4      CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n           &lt;asynchronous suspension&gt;\n           #5      FlutterCommandRunner.runCommand.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command_runner.dart:496:9)\n           &lt;asynchronous suspension&gt;\n           #6      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:154:19)\n           &lt;asynchronous suspension&gt;\n           #7      FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:431:5)\n           &lt;asynchronous suspension&gt;\n           #8      run.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:flutter_tools/runner.dart:98:11)\n           &lt;asynchronous suspension&gt;\n           #9      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:154:19)\n           &lt;asynchronous suspension&gt;\n           #10     main (package:flutter_tools/executable.dart:99:3)\n           &lt;asynchronous suspension&gt;\n\n\n[        ] Running 3 shutdown hooks\n[   +2 ms] Shutdown hooks complete\n[ +261 ms] exiting with code 2\n&gt;\n</code></pre>\n<p>Full verbose log available here: <a href=\"https://gist.github.com/AkgulMuhammed/a9ee6cdb85b9e06e6ab38957411c89fe\" rel=\"nofollow noreferrer\">https://gist.github.com/AkgulMuhammed/a9ee6cdb85b9e06e6ab38957411c89fe</a></p>\n<hr />\n<p><strong>Relevant Configuration:</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code># pubspec.yaml\ndependencies:\n  flutter:\n    sdk: flutter\n  permission_handler: ^12.0.0\n  google_mlkit_text_recognition: ^0.15.0\n  # … other plugins …\n</code></pre>\n<pre class=\"lang-rb prettyprint-override\"><code># ios/Podfile\nplatform :ios, '15.5'\nuse_frameworks!\ntarget 'Runner' do\n  pod 'permission_handler_apple', '12.0.0'\n  # … other pods …\nend\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- ios/Runner/Info.plist --&gt;\n&lt;key&gt;MinimumOSVersion&lt;/key&gt;\n&lt;string&gt;15.6&lt;/string&gt;\n&lt;key&gt;NSLocalNetworkUsageDescription&lt;/key&gt;\n&lt;string&gt;Allow Flutter tools on your computer to connect and debug your application.&lt;/string&gt;\n</code></pre>\n<hr />\n<p><strong>What I’ve Tried:</strong></p>\n<ul>\n<li><code>flutter clean</code>, DerivedData silme, <code>pod install</code></li>\n<li><code>flutter run --no-dds</code> (DDS still fails)</li>\n<li>Simulator “Erase All Content and Settings”</li>\n<li>Profile/Release mode (app launches, but debug still fails)</li>\n<li>Confirm no port conflicts or multiple sessions</li>\n<li><code>flutter doctor -v</code> shows no issues</li>\n</ul>\n<hr />\n<p><strong>Expected vs Actual:</strong></p>\n<ul>\n<li><strong>Expected:</strong> App launches on simulator, connects to VM Service, hot reload works.</li>\n<li><strong>Actual:</strong> DDS fails, DevFSException and DartDevelopmentServiceException appear.</li>\n</ul>\n<hr />\n<p><strong>Additional Context:</strong>\nThis seems related to known DDS startup bugs on Flutter 3.29.x with iOS 18.4 simulator. Any workaround or fix pointers would be appreciated!</p>\n",
        "codigo": [
            "/Applications/Xcode.app/Contents/Developer",
            "Warning: Failed to start DDS: Failed to start Dart Development Service  \nDevFSException(Service disconnected, _createDevFS: (112) Service has disappeared, null)  \nError connecting to the service protocol: DartDevelopmentServiceException: Failed to start Dart Development Service\n",
            "git clone <your_repo_url>",
            "cd <project>",
            "flutter clean",
            "rm -rf ~/Library/Developer/Xcode/DerivedData",
            "cd ios && pod install && cd ..",
            "flutter run --verbose -d CAD7C59B-8D46-4CAF-9437-AAC75E0D24FE",
            "<\n[   +3 ms] executing: /usr/bin/arch -arm64e xcrun simctl launch CAD7C59B-8D46-4CAF-9437-AAC75E0D24FE com.example.mlbbHeroCalc --enable-dart-profiling --enable-checked-mode --verify-entry-points\n[ +493 ms] com.example.mlbbHeroCalc: 57023\n[   +1 ms] Waiting for VM Service port to be available...\n[+8751 ms] VM Service URL on device: http://127.0.0.1:59733/qeivRY9V9ck=/\n[   +7 ms] Caching compiled dill\n[ +162 ms] Connecting to service protocol: http://127.0.0.1:59733/qeivRY9V9ck=/\n[ +222 ms] Launching a Dart Developer Service (DDS) instance at http://127.0.0.1:0, connecting to VM service at http://127.0.0.1:59733/qeivRY9V9ck=/.\n[ +311 ms] Warning: Failed to start DDS: Failed to start Dart Development Service\n[        ] Fail to connect to service protocol: http://127.0.0.1:59733/qeivRY9V9ck=/: DartDevelopmentServiceException: Failed to start Dart Development Service\n[        ] Error connecting to the service protocol: failed to connect to http://127.0.0.1:59733/qeivRY9V9ck=/ DartDevelopmentServiceException: Failed to start Dart Development Service\n[   +2 ms] \"flutter run\" took 36.014ms.\n[  +44 ms] \n           #0      throwToolExit (package:flutter_tools/src/base/common.dart:34:3)\n           #1      RunCommand.runCommand (package:flutter_tools/src/commands/run.dart:931:9)\n           <asynchronous suspension>\n           #2      FlutterCommand.run.<anonymous closure> (package:flutter_tools/src/runner/flutter_command.dart:1558:27)\n           <asynchronous suspension>\n           #3      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:154:19)\n           <asynchronous suspension>\n           #4      CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n           <asynchronous suspension>\n           #5      FlutterCommandRunner.runCommand.<anonymous closure> (package:flutter_tools/src/runner/flutter_command_runner.dart:496:9)\n           <asynchronous suspension>\n           #6      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:154:19)\n           <asynchronous suspension>\n           #7      FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:431:5)\n           <asynchronous suspension>\n           #8      run.<anonymous closure>.<anonymous closure> (package:flutter_tools/runner.dart:98:11)\n           <asynchronous suspension>\n           #9      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:154:19)\n           <asynchronous suspension>\n           #10     main (package:flutter_tools/executable.dart:99:3)\n           <asynchronous suspension>\n\n\n[        ] Running 3 shutdown hooks\n[   +2 ms] Shutdown hooks complete\n[ +261 ms] exiting with code 2\n>\n",
            "# pubspec.yaml\ndependencies:\n  flutter:\n    sdk: flutter\n  permission_handler: ^12.0.0\n  google_mlkit_text_recognition: ^0.15.0\n  # … other plugins …\n",
            "# ios/Podfile\nplatform :ios, '15.5'\nuse_frameworks!\ntarget 'Runner' do\n  pod 'permission_handler_apple', '12.0.0'\n  # … other pods …\nend\n",
            "<!-- ios/Runner/Info.plist -->\n<key>MinimumOSVersion</key>\n<string>15.6</string>\n<key>NSLocalNetworkUsageDescription</key>\n<string>Allow Flutter tools on your computer to connect and debug your application.</string>\n",
            "flutter clean",
            "pod install",
            "flutter run --no-dds",
            "flutter doctor -v"
        ]
    },
    {
        "titulo": "Flutter Mocktail : &lt;type &#39;Future&lt;PermissionStatus&gt;&#39; is not a subtype of type &#39;Permissions&#39;&gt;",
        "score": 1,
        "views": 40,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "mocking",
            "bloc-test"
        ],
        "link": "https://stackoverflow.com/questions/79579919/flutter-mocktail-type-futurepermissionstatus-is-not-a-subtype-of-type-pe",
        "conteudo_html": "<p>I'm trying to mock the background_downloader package , specifically this line in my class I'm trying to mock:</p>\n<pre><code>var status = await fileDownloader.permissions.status(permissionType);\n</code></pre>\n<hr />\n<h2>I keep getting error message:</h2>\n<p>&lt;type 'Future' is not a subtype of type 'Permissions'&gt;</p>\n<hr />\n<h2>Here is my Test class:</h2>\n<pre><code>class MockFileDownloader extends Mock implements FileDownloader {}\n\nvoid main() {\n  late MockFileDownloader mockFileDownloader;\n\n  setUp(() {});\n\n  tearDown(() {});\n\n  group('BkgrdFileTransferBloc : _initBackgroundFileTransfer() ', () {\n    setUp(() {\n      SharedPreferences.setMockInitialValues({BackgroundFileTransfer.notificationDlgShownPref: false});\n\n      mockFileDownloader = MockFileDownloader();\n\n      var testBasedownloader = FileDownloader().downloaderForTesting;\n      var permissionService = testBasedownloader.permissionsService;\n      \n      ///these lines here, I'm having issues with\n      when(() =&gt; mockFileDownloader.permissions).thenReturn(permissionService);\n      when(() =&gt; mockFileDownloader.permissions.status(PermissionType.notifications)).thenAnswer((_) async =&gt; PermissionStatus.denied);\n      \n    });\n    blocTest(\n      'should show notificationNotGrantedWarning - notificationDlgShownPref = false,   ',\n      build: () {\n        return BkgrdFileTransferBloc(mockFileDownloader);\n      },\n      act: (bloc) =&gt; bloc.add(BkgrdFilesTransferEvent.initialize(DownloadTask(url: ''))),\n      expect:\n          () =&gt; [\n            TypeMatcher&lt;BkgrdFileTransferState&gt;()\n                .having((bkgrdFileTransferState) =&gt; bkgrdFileTransferState.notificationNotGrantedWarning, 'notificationNotGrantedWarning', isTrue)\n                .having((bkgrdFileTransferState) =&gt; bkgrdFileTransferState.task, 'task', isNotNull),\n          ],\n    );\n  });\n}\n</code></pre>\n",
        "codigo": [
            "var status = await fileDownloader.permissions.status(permissionType);\n",
            "class MockFileDownloader extends Mock implements FileDownloader {}\n\nvoid main() {\n  late MockFileDownloader mockFileDownloader;\n\n  setUp(() {});\n\n  tearDown(() {});\n\n  group('BkgrdFileTransferBloc : _initBackgroundFileTransfer() ', () {\n    setUp(() {\n      SharedPreferences.setMockInitialValues({BackgroundFileTransfer.notificationDlgShownPref: false});\n\n      mockFileDownloader = MockFileDownloader();\n\n      var testBasedownloader = FileDownloader().downloaderForTesting;\n      var permissionService = testBasedownloader.permissionsService;\n      \n      ///these lines here, I'm having issues with\n      when(() => mockFileDownloader.permissions).thenReturn(permissionService);\n      when(() => mockFileDownloader.permissions.status(PermissionType.notifications)).thenAnswer((_) async => PermissionStatus.denied);\n      \n    });\n    blocTest(\n      'should show notificationNotGrantedWarning - notificationDlgShownPref = false,   ',\n      build: () {\n        return BkgrdFileTransferBloc(mockFileDownloader);\n      },\n      act: (bloc) => bloc.add(BkgrdFilesTransferEvent.initialize(DownloadTask(url: ''))),\n      expect:\n          () => [\n            TypeMatcher<BkgrdFileTransferState>()\n                .having((bkgrdFileTransferState) => bkgrdFileTransferState.notificationNotGrantedWarning, 'notificationNotGrantedWarning', isTrue)\n                .having((bkgrdFileTransferState) => bkgrdFileTransferState.task, 'task', isNotNull),\n          ],\n    );\n  });\n}\n"
        ]
    },
    {
        "titulo": "Unable to get Hotelbeds ContentAPI requests to work",
        "score": 1,
        "views": 86,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79566023/unable-to-get-hotelbeds-contentapi-requests-to-work",
        "conteudo_html": "<p>I have just signed up for a test API with Hotelbeds, and I am having trouble to get ContentAPI requests to work (it seems to somewhat work with BookingAPI).</p>\n<p>I am unsure if my API key is just not configured properly yet on HotelBed's end, or that I have configured something incorrectly on my end.</p>\n<p>The API documentation is here:\n<a href=\"https://developer.hotelbeds.com/documentation/hotels/content-api/\" rel=\"nofollow noreferrer\">https://developer.hotelbeds.com/documentation/hotels/content-api/</a>\n<a href=\"https://developer.hotelbeds.com/documentation/hotels/booking-api/\" rel=\"nofollow noreferrer\">https://developer.hotelbeds.com/documentation/hotels/booking-api/</a></p>\n<p>According to <a href=\"https://developer.hotelbeds.com/documentation/hotels/content-api/api-reference/#tag/Hotels/operation/hotelWithIdDetailsUsingGET\" rel=\"nofollow noreferrer\">https://developer.hotelbeds.com/documentation/hotels/content-api/api-reference/#tag/Hotels/operation/hotelWithIdDetailsUsingGET</a>:</p>\n<blockquote>\n<p>500\nINTERNAL SERVER ERROR - An unexpected condition was encountered. Possible causes</p>\n<p>SYSTEM_ERROR - These are internal server errors, please send us these errors together with the complete logs (JSON or XML requests and responses) at apitude@hotelbeds.com so that our team can review them.</p>\n<p>CONFIGURATION_ERROR - This type of error is produced by configuration restrictions set-up at account level. Usually this results in the inability to perform an specific operation. Here is a list of common configuration errors:</p>\n<p>This apikey is not associated with a valid client: This means that the provided apiKey belongs to an inactive client/agency. If you need information regarding the cause for this please contact our support team at apitude@hotelbeds.com.</p>\n</blockquote>\n<h3>What I've tried</h3>\n<p>I have added my API key and secret in the environment, but...</p>\n<h3>On Postman</h3>\n<p>The requests such as...</p>\n<pre><code>{{endpoint}} = https://api.test.hotelbeds.com\n\n{{endpoint}}/hotel-content-api/1.0/hotels?fields=all&amp;language=ENG&amp;from=1&amp;to=100&amp;useSecondaryLanguage=false\n\n{{endpoint}}/hotel-content-api/1.0/locations/countries?fields=all&amp;language=ENG&amp;from=1&amp;to=203\n</code></pre>\n<p>...are returning 500 Internal Server Error, and no response body.</p>\n<p>For troubleshooting, I deliberately made a typo in my API secret in APItude portal environment, and a GET request for...\n{{endpoint}}/hotel-content-api/1.0/hotels?fields=all&amp;language=ENG&amp;from=1&amp;to=100&amp;useSecondaryLanguage=false</p>\n<p>...yielded:</p>\n<blockquote>\n<p>401\nUnauthorized\n{\n&quot;error&quot;: &quot;Request signature verification failed&quot;\n}</p>\n</blockquote>\n<p>Which indicates that the authentication is being routed and processed properly.</p>\n<p>On BookingAPI's side, I get mixed successes:</p>\n<p><code>{{endpoint}}/hotel-api/1.0/status</code> yields: <code>{ &quot;auditData&quot;: { &quot;timestamp&quot;: &quot;2025-04-09 12:16:08.662&quot; }, &quot;status&quot;: &quot;OK&quot; }</code></p>\n<p><code>{{endpoint}}/hotel-api/1.0/hotels</code>\nyields:</p>\n<pre><code>{ &quot;auditData&quot;: \n  { \n    &quot;processTime&quot;: &quot;0&quot;, \n    &quot;timestamp&quot;: &quot;2025-04-09 12:15:29.702&quot;, \n    &quot;requestHost&quot;: &quot;10.214.136.70&quot;, \n    &quot;serverId&quot;: &quot;ip-10-214-129-132.eu-central-1.compute.internal#A+&quot;,\n    &quot;environment&quot;: &quot;\\[awseucentral1, awseucentral1c, ip_10_214_129_132, eucentral1, secret\\]&quot;, \n    &quot;release&quot;: &quot;&quot;, \n    &quot;token&quot;: &quot;286B54DECE18475491F9AE9A12A801B9&quot;, \n    &quot;internal&quot;: &quot;0|||01|0|0||||||||||||0||1\\~1\\~1\\~0||0||0|dacab6e4d77041b4f6fbe3531c71dd93||||&quot; \n  }, \n  &quot;error&quot;: { \n    &quot;code&quot;: &quot;INVALID_DATA&quot;, \n    &quot;message&quot;: &quot;Error at property stay: Check-in must be in the future.&quot; \n  } \n}\n</code></pre>\n<h3>In VS Code, via Dart / Flutter</h3>\n<p>My code to test API responses:</p>\n<pre><code>// lib/features/api/presentation/pages/content_api_test_page.dart\n\nimport 'dart:convert';\nimport 'package:flutter/material.dart';\nimport 'package:http/http.dart' as http;\nimport 'package:crypto/crypto.dart';\n\n/// A test page for verifying HotelBeds Content API integration.\n/// This page sends a GET request to the Content API endpoint and displays the result.\n///\n/// This file is part of the **API presentation** layer. In a clean architecture,\n/// the API integration logic belongs in the **infrastructure** layer (e.g. in service classes),\n/// while this page lives in the presentation layer. Separating these concerns helps with\n/// maintainability and makes it easier to replace the API later if needed.\nclass ContentApiTestPage extends StatefulWidget {\n  const ContentApiTestPage({super.key});\n\n  @override\n  State&lt;ContentApiTestPage&gt; createState() =&gt; _ContentApiTestPageState();\n}\n\nclass _ContentApiTestPageState extends State&lt;ContentApiTestPage&gt; {\n  String? _responseText;\n  bool _isLoading = false;\n\n  // Replace these with your actual test API key and API secret from HotelBeds.\n  final String _apiKey = (API_key_here);\n  final String _apiSecret = (API_secret_here);\n\n  // Generates a SHA256 X-Signature by concatenating the API key, secret, and current timestamp (in seconds).\n  String generateSignature() {\n    final timestamp =\n        (DateTime.now().millisecondsSinceEpoch / 1000).round().toString();\n    final stringToSign = '$_apiKey$_apiSecret$timestamp';\n    final bytes = utf8.encode(stringToSign);\n    final digest = sha256.convert(bytes);\n    return digest.toString();\n  }\n\n  // Sends an HTTP GET request to the Content API endpoint, using the proper headers.\n  // Prints and displays the JSON response.\n  Future&lt;void&gt; fetchContentData() async {\n    setState(() {\n      _isLoading = true;\n      _responseText = null;\n    });\n\n    // Build the URI for the Content API endpoint.\n    // Here we use the &quot;hotels&quot; endpoint from the HotelBeds Content API.\n    final uri =\n        Uri.parse(&quot;https://api.test.hotelbeds.com/content-api/1.0/hotels&quot;);\n\n    // Create headers including Api-key and X-Signature.\n    final headers = {\n      'Accept': 'application/json',\n      'Api-key': _apiKey,\n      'X-Signature': generateSignature(),\n    };\n\n    try {\n      final response = await http.get(uri, headers: headers);\n      if (response.statusCode == 200) {\n        setState(() {\n          _responseText = response.body;\n        });\n        print(&quot;Content API Response: ${response.body}&quot;);\n      } else {\n        setState(() {\n          _responseText =\n              &quot;Error: ${response.statusCode} ${response.reasonPhrase}&quot;;\n        });\n        print(\n            &quot;Error fetching content: ${response.statusCode} ${response.reasonPhrase}&quot;);\n      }\n    } catch (e) {\n      setState(() {\n        _responseText = &quot;Error: $e&quot;;\n      });\n      print(&quot;Exception during fetching content: $e&quot;);\n    }\n    setState(() {\n      _isLoading = false;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: const Text(&quot;Content API Test&quot;)),\n      body: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.stretch,\n          children: [\n            // A button to trigger the API call.\n            ElevatedButton(\n              onPressed: fetchContentData,\n              child: const Text(&quot;Fetch Content Data&quot;),\n            ),\n            const SizedBox(height: 16),\n            // Show loading indicator while fetching.\n            if (_isLoading) const Center(child: CircularProgressIndicator()),\n            // Display the API response text (or error message) in a scrollable area.\n            if (_responseText != null)\n              Expanded(\n                  child: SingleChildScrollView(child: Text(_responseText!))),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>For the URI, when the entry is &quot;https://api.test.hotelbeds.com/content-api/1.0/hotels&quot; (from ContentAPI), I am getting</p>\n<blockquote>\n<p>flutter: Error fetching content: 404 Not Found</p>\n</blockquote>\n<p>When the entry is &quot;https://api.test.hotelbeds.com/hotel-api/1.0/status&quot; (from BookingAPI), I am getting</p>\n<blockquote>\n<p>flutter: Content API Response: {&quot;auditData&quot;:{&quot;timestamp&quot;:&quot;2025-04-10 02:59:55.077&quot;},&quot;status&quot;:&quot;OK&quot;}</p>\n</blockquote>\n",
        "codigo": [
            "{{endpoint}} = https://api.test.hotelbeds.com\n\n{{endpoint}}/hotel-content-api/1.0/hotels?fields=all&language=ENG&from=1&to=100&useSecondaryLanguage=false\n\n{{endpoint}}/hotel-content-api/1.0/locations/countries?fields=all&language=ENG&from=1&to=203\n",
            "{{endpoint}}/hotel-api/1.0/status",
            "{ \"auditData\": { \"timestamp\": \"2025-04-09 12:16:08.662\" }, \"status\": \"OK\" }",
            "{{endpoint}}/hotel-api/1.0/hotels",
            "{ \"auditData\": \n  { \n    \"processTime\": \"0\", \n    \"timestamp\": \"2025-04-09 12:15:29.702\", \n    \"requestHost\": \"10.214.136.70\", \n    \"serverId\": \"ip-10-214-129-132.eu-central-1.compute.internal#A+\",\n    \"environment\": \"\\[awseucentral1, awseucentral1c, ip_10_214_129_132, eucentral1, secret\\]\", \n    \"release\": \"\", \n    \"token\": \"286B54DECE18475491F9AE9A12A801B9\", \n    \"internal\": \"0|||01|0|0||||||||||||0||1\\~1\\~1\\~0||0||0|dacab6e4d77041b4f6fbe3531c71dd93||||\" \n  }, \n  \"error\": { \n    \"code\": \"INVALID_DATA\", \n    \"message\": \"Error at property stay: Check-in must be in the future.\" \n  } \n}\n",
            "// lib/features/api/presentation/pages/content_api_test_page.dart\n\nimport 'dart:convert';\nimport 'package:flutter/material.dart';\nimport 'package:http/http.dart' as http;\nimport 'package:crypto/crypto.dart';\n\n/// A test page for verifying HotelBeds Content API integration.\n/// This page sends a GET request to the Content API endpoint and displays the result.\n///\n/// This file is part of the **API presentation** layer. In a clean architecture,\n/// the API integration logic belongs in the **infrastructure** layer (e.g. in service classes),\n/// while this page lives in the presentation layer. Separating these concerns helps with\n/// maintainability and makes it easier to replace the API later if needed.\nclass ContentApiTestPage extends StatefulWidget {\n  const ContentApiTestPage({super.key});\n\n  @override\n  State<ContentApiTestPage> createState() => _ContentApiTestPageState();\n}\n\nclass _ContentApiTestPageState extends State<ContentApiTestPage> {\n  String? _responseText;\n  bool _isLoading = false;\n\n  // Replace these with your actual test API key and API secret from HotelBeds.\n  final String _apiKey = (API_key_here);\n  final String _apiSecret = (API_secret_here);\n\n  // Generates a SHA256 X-Signature by concatenating the API key, secret, and current timestamp (in seconds).\n  String generateSignature() {\n    final timestamp =\n        (DateTime.now().millisecondsSinceEpoch / 1000).round().toString();\n    final stringToSign = '$_apiKey$_apiSecret$timestamp';\n    final bytes = utf8.encode(stringToSign);\n    final digest = sha256.convert(bytes);\n    return digest.toString();\n  }\n\n  // Sends an HTTP GET request to the Content API endpoint, using the proper headers.\n  // Prints and displays the JSON response.\n  Future<void> fetchContentData() async {\n    setState(() {\n      _isLoading = true;\n      _responseText = null;\n    });\n\n    // Build the URI for the Content API endpoint.\n    // Here we use the \"hotels\" endpoint from the HotelBeds Content API.\n    final uri =\n        Uri.parse(\"https://api.test.hotelbeds.com/content-api/1.0/hotels\");\n\n    // Create headers including Api-key and X-Signature.\n    final headers = {\n      'Accept': 'application/json',\n      'Api-key': _apiKey,\n      'X-Signature': generateSignature(),\n    };\n\n    try {\n      final response = await http.get(uri, headers: headers);\n      if (response.statusCode == 200) {\n        setState(() {\n          _responseText = response.body;\n        });\n        print(\"Content API Response: ${response.body}\");\n      } else {\n        setState(() {\n          _responseText =\n              \"Error: ${response.statusCode} ${response.reasonPhrase}\";\n        });\n        print(\n            \"Error fetching content: ${response.statusCode} ${response.reasonPhrase}\");\n      }\n    } catch (e) {\n      setState(() {\n        _responseText = \"Error: $e\";\n      });\n      print(\"Exception during fetching content: $e\");\n    }\n    setState(() {\n      _isLoading = false;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: const Text(\"Content API Test\")),\n      body: Padding(\n        padding: const EdgeInsets.all(16.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.stretch,\n          children: [\n            // A button to trigger the API call.\n            ElevatedButton(\n              onPressed: fetchContentData,\n              child: const Text(\"Fetch Content Data\"),\n            ),\n            const SizedBox(height: 16),\n            // Show loading indicator while fetching.\n            if (_isLoading) const Center(child: CircularProgressIndicator()),\n            // Display the API response text (or error message) in a scrollable area.\n            if (_responseText != null)\n              Expanded(\n                  child: SingleChildScrollView(child: Text(_responseText!))),\n          ],\n        ),\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Flutter application not building or running",
        "score": 1,
        "views": 97,
        "respostas": 4,
        "tags": [
            "flutter",
            "kotlin",
            "dart",
            "gradle"
        ],
        "link": "https://stackoverflow.com/questions/79564616/flutter-application-not-building-or-running",
        "conteudo_html": "<p>My flutter project uses kotlin version &quot;ext.kotlin_version = '1.6.10'&quot; and now it is not running or not building I tried updating the kotlin version which is still not working and now I want to run it in this kotlin version what can I do the erorr message I keep seeing is the following ?</p>\n<pre><code>e: C:/Users/lenovo/.gradle/caches/transforms-3/1d1466460569a5f0d1bac58616e8665e/transformed/jetified-kotlinx-coroutines-android-1.7.1.jar!/META-INF/kotlinx-coroutines-android.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/lenovo/.gradle/caches/transforms-3/52f71b436a441b77a4726b846f6cca42/transformed/core-1.10.1-api.jar!/META-INF/core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/lenovo/.gradle/caches/transforms-3/9e596c1bef1f9336bfce1dc91608908a/transformed/jetified-kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/lenovo/.gradle/caches/transforms-3/9e596c1bef1f9336bfce1dc91608908a/transformed/jetified-kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/lenovo/.gradle/caches/transforms-3/9e596c1bef1f9336bfce1dc91608908a/transformed/jetified-kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/lenovo/.gradle/caches/transforms-3/c567b2b00180a0611a5ed3e96b9ec838/transformed/jetified-kotlinx-coroutines-core-jvm-1.7.1.jar!/META-INF/kotlinx-coroutines-core.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/lenovo/.gradle/caches/transforms-3/d2c20b057a5198fb9045eae6445dfebc/transformed/jetified-kotlin-stdlib-common-1.8.22.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugKotlin'.\n&gt; Compilation error. See log for more details\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2m 48s\nRunning Gradle task 'assembleDebug'...                            171.0s\n\n┌─ Flutter Fix ───────────────────────────────────────────────────────────────────────────────────────┐\n│ [!] Your project requires a newer version of the Kotlin Gradle plugin.                              │\n│ Find the latest version on https://kotlinlang.org/docs/gradle.html#plugin-and-versions, then update │\n│ C:\\Users\\lenovo\\Desktop\\afromile-mobile-user\\android\\build.gradle:                                  │\n│ ext.kotlin_version = '&lt;latest-version&gt;'                                                             │\n└─────────────────────────────────────────────────────────────────────────────────────────────────────┘\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>I tried updating the kotlin version did not work ?\nI tried using the same version it did not work?</p>\n",
        "codigo": [
            "e: C:/Users/lenovo/.gradle/caches/transforms-3/1d1466460569a5f0d1bac58616e8665e/transformed/jetified-kotlinx-coroutines-android-1.7.1.jar!/META-INF/kotlinx-coroutines-android.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/lenovo/.gradle/caches/transforms-3/52f71b436a441b77a4726b846f6cca42/transformed/core-1.10.1-api.jar!/META-INF/core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/lenovo/.gradle/caches/transforms-3/9e596c1bef1f9336bfce1dc91608908a/transformed/jetified-kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/lenovo/.gradle/caches/transforms-3/9e596c1bef1f9336bfce1dc91608908a/transformed/jetified-kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/lenovo/.gradle/caches/transforms-3/9e596c1bef1f9336bfce1dc91608908a/transformed/jetified-kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/lenovo/.gradle/caches/transforms-3/c567b2b00180a0611a5ed3e96b9ec838/transformed/jetified-kotlinx-coroutines-core-jvm-1.7.1.jar!/META-INF/kotlinx-coroutines-core.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/lenovo/.gradle/caches/transforms-3/d2c20b057a5198fb9045eae6445dfebc/transformed/jetified-kotlin-stdlib-common-1.8.22.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugKotlin'.\n> Compilation error. See log for more details\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2m 48s\nRunning Gradle task 'assembleDebug'...                            171.0s\n\n┌─ Flutter Fix ───────────────────────────────────────────────────────────────────────────────────────┐\n│ [!] Your project requires a newer version of the Kotlin Gradle plugin.                              │\n│ Find the latest version on https://kotlinlang.org/docs/gradle.html#plugin-and-versions, then update │\n│ C:\\Users\\lenovo\\Desktop\\afromile-mobile-user\\android\\build.gradle:                                  │\n│ ext.kotlin_version = '<latest-version>'                                                             │\n└─────────────────────────────────────────────────────────────────────────────────────────────────────┘\nException: Gradle task assembleDebug failed with exit code 1\n"
        ]
    },
    {
        "titulo": "Why is the wrong mixin’s method being called in Dart when mixing multiple loggers?",
        "score": 0,
        "views": 46,
        "respostas": 0,
        "tags": [
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79563478/why-is-the-wrong-mixin-s-method-being-called-in-dart-when-mixing-multiple-logger",
        "conteudo_html": "<p>I'm working with an abstract class (Logger) and two mixins (FileLogger, ConsoleLogger), both of which override the same method. I expected Dart to call the method from the last mixin (ConsoleLogger) since it appears last in the with clause.</p>\n<p>But when I run the code, I’m confused by which method is actually being called. Is there a defined order for how Dart resolves overridden methods in multiple mixins? How can I control or predict which method will be used?</p>\n<pre><code>abstract class Logger {\n  void log(String message);\n}\n\nmixin ConsoleLogger on Logger {\n  @override\n  void log(String message) {\n    print('Console: $message');\n  }\n}\n\nmixin FileLogger on Logger {\n  @override\n  void log(String message) {\n    print('File: $message');\n  }\n}\n\nclass AppLogger extends Logger with FileLogger, ConsoleLogger {\n  // I expect ConsoleLogger.log to be called\n}\n\nvoid main() {\n  AppLogger logger = AppLogger();\n  logger.log('Starting app...');\n}\n</code></pre>\n",
        "codigo": [
            "abstract class Logger {\n  void log(String message);\n}\n\nmixin ConsoleLogger on Logger {\n  @override\n  void log(String message) {\n    print('Console: $message');\n  }\n}\n\nmixin FileLogger on Logger {\n  @override\n  void log(String message) {\n    print('File: $message');\n  }\n}\n\nclass AppLogger extends Logger with FileLogger, ConsoleLogger {\n  // I expect ConsoleLogger.log to be called\n}\n\nvoid main() {\n  AppLogger logger = AppLogger();\n  logger.log('Starting app...');\n}\n"
        ]
    },
    {
        "titulo": "Mockito -&gt; type &#39;Null&#39; is not a subtype of type &#39;Future&lt;String&gt;&#39;",
        "score": 0,
        "views": 71,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "mockito"
        ],
        "link": "https://stackoverflow.com/questions/79556902/mockito-type-null-is-not-a-subtype-of-type-futurestring",
        "conteudo_html": "<p>I am getting the type 'Null' is not a subtype of type <code>Future&lt;String&gt;</code> error when I try to Unit test with Mockito. I tried all the methods and fixes found in stackoverflow and even in the mockito GitHub repo. For simplification, I created a simple class and implemented mockito and try everything. But still the same.</p>\n<p>Here is the code:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MyService {\n\n  Future&lt;String&gt; getData() async {\n    return 'Real Data from Network';\n  }\n}\n\n</code></pre>\n<p>Mocking classes</p>\n<pre><code>class MockMyService extends Mock implements MyService {}\n\n@GenerateMocks([MyService])\nvoid main() {\n  late MyService mockMyService;\n\n  setUp(() {\n    mockMyService = MockMyService();\n  });\n\n  test('Test getData with stubbed response', () async {\n    when(mockMyService.getData()).thenAnswer((_) async =&gt; &quot;Mocked Data&quot;);\n    final result = await mockMyService.getData();\n    expect(result, 'Mocked Data');\n    verify(mockMyService.getData()).called(1);\n  });\n}\n</code></pre>\n<p>For <code>GenerateMocks</code> annotation I used <code>MockMyService</code> as well, but still the same, and also after every change I run:</p>\n<pre><code>dart run build_runner build\n</code></pre>\n<p>Any idea what's wrong here?</p>\n<p>To successfully run the unit test case using mockito.</p>\n",
        "codigo": [
            "Future<String>",
            "class MyService {\n\n  Future<String> getData() async {\n    return 'Real Data from Network';\n  }\n}\n\n",
            "class MockMyService extends Mock implements MyService {}\n\n@GenerateMocks([MyService])\nvoid main() {\n  late MyService mockMyService;\n\n  setUp(() {\n    mockMyService = MockMyService();\n  });\n\n  test('Test getData with stubbed response', () async {\n    when(mockMyService.getData()).thenAnswer((_) async => \"Mocked Data\");\n    final result = await mockMyService.getData();\n    expect(result, 'Mocked Data');\n    verify(mockMyService.getData()).called(1);\n  });\n}\n",
            "GenerateMocks",
            "MockMyService",
            "dart run build_runner build\n"
        ]
    },
    {
        "titulo": "How to test assertions in build methods or in callbacks?",
        "score": 0,
        "views": 45,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79553547/how-to-test-assertions-in-build-methods-or-in-callbacks",
        "conteudo_html": "<p>I have 2 widgets</p>\n<p>1 with an <code>assert</code> in its <code>build</code> method:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MyWidget1 extends StatelessWidget {\n  const MyWidget1({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    assert(false);\n    return const Placeholder();\n  }\n}\n</code></pre>\n<p>1 with an <code>assert</code> in a callback of a button:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MyWidget2 extends StatelessWidget {\n  const MyWidget2({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return TextButton(\n      onPressed: () {\n        assert(false);\n      },\n      child: const Text('button'),\n    );\n  }\n}\n</code></pre>\n<p>I want a test that verifies the <code>assert</code> is thrown. From <a href=\"https://stackoverflow.com/questions/58383041/how-do-i-test-an-assertion\">this question</a>, I tried:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void main() {\n  testWidgets('It should throw an assert error during the build',\n      (WidgetTester tester) async {\n    await expectLater(\n      () =&gt; tester.pumpWidget(const MaterialApp(home: MyWidget1())),\n      throwsA(isA&lt;AssertionError&gt;()),\n    );\n  });\n\n  testWidgets('It should throw an assert error on tap',\n      (WidgetTester tester) async {\n    await tester.pumpWidget(const MaterialApp(\n      home: Scaffold(\n        body: MyWidget2(),\n      ),\n    ));\n    await expectLater(\n      () async {\n        await tester.tap(find.byType(TextButton));\n        await tester.pumpAndSettle();\n      },\n      throwsAssertionError,\n    );\n  });\n}\n</code></pre>\n<p>But the errors are not caught by the expects.</p>\n<p>How to test it?</p>\n",
        "codigo": [
            "assert",
            "build",
            "class MyWidget1 extends StatelessWidget {\n  const MyWidget1({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    assert(false);\n    return const Placeholder();\n  }\n}\n",
            "assert",
            "class MyWidget2 extends StatelessWidget {\n  const MyWidget2({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return TextButton(\n      onPressed: () {\n        assert(false);\n      },\n      child: const Text('button'),\n    );\n  }\n}\n",
            "assert",
            "void main() {\n  testWidgets('It should throw an assert error during the build',\n      (WidgetTester tester) async {\n    await expectLater(\n      () => tester.pumpWidget(const MaterialApp(home: MyWidget1())),\n      throwsA(isA<AssertionError>()),\n    );\n  });\n\n  testWidgets('It should throw an assert error on tap',\n      (WidgetTester tester) async {\n    await tester.pumpWidget(const MaterialApp(\n      home: Scaffold(\n        body: MyWidget2(),\n      ),\n    ));\n    await expectLater(\n      () async {\n        await tester.tap(find.byType(TextButton));\n        await tester.pumpAndSettle();\n      },\n      throwsAssertionError,\n    );\n  });\n}\n"
        ]
    },
    {
        "titulo": "Flutter VM Service does not start",
        "score": 2,
        "views": 86,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79552608/flutter-vm-service-does-not-start",
        "conteudo_html": "<p>I am developing an android mobile application side by side (no emulator). Hot reloading doesn't work because the vm service doesn't start as for why I have no idea. Hot reloading works in a fresh new flutter project. Flutter doctor does not indicate any errors. This is also on a Linux system (Arch).</p>\n<p>Here's the output from <code>flutter run -v</code>, pasted below.</p>\n<pre><code>...\n\n[   +1 ms] Installing build/app/outputs/flutter-apk/app-debug.apk...\n[        ] executing: /home/yasiru/Android/Sdk/platform-tools/adb -s RZ8T10RLNQA install -t -r /mnt/mass/yasiru/Documents/Projects/project_glanz/build/app/outputs/flutter-apk/app-debug.apk\n[+5101 ms] Performing Streamed Install\n                    Success\n[        ] Installing build/app/outputs/flutter-apk/app-debug.apk... (completed in 5.1s)\n[   +1 ms] executing: /home/yasiru/Android/Sdk/platform-tools/adb -s RZ8T10RLNQA shell echo -n 55515df8f86415499cbc0ea570e4ff7eac00f241 &gt; /data/local/tmp/sky.com.example.project_glanz.sha1\n[  +39 ms] executing: /home/yasiru/Android/Sdk/platform-tools/adb -s RZ8T10RLNQA shell -x logcat -v time -t 1\n[ +127 ms] --------- beginning of system\n                    04-03 15:25:43.646 W/JobScheduler( 2613): Job didn't exist in JobStore: 5e81401 #u0a463/101 com.google.android.apps.messaging/.shared.datamodel.action.execution.ActionJobService\n[   +9 ms] executing: /home/yasiru/Android/Sdk/platform-tools/adb -s RZ8T10RLNQA shell am start -a android.intent.action.MAIN -c android.intent.category.LAUNCHER -f 0x20000000 --ez enable-dart-profiling\ntrue --ez enable-checked-mode true --ez verify-entry-points true com.example.project_glanz/com.example.project_glanz.MainActivity\n[ +194 ms] Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x20000000 cmp=com.example.project_glanz/.MainActivity (has extras) }\n[        ] Waiting for VM Service port to be available...\n[+4466 ms] I/flutter (24401): [IMPORTANT:flutter/shell/platform/android/android_context_vk_impeller.cc(60)] Using the Impeller rendering backend (Vulkan).\n[ +551 ms] I/flutter (24401): Could not start Dart VM service HTTP server:\n[        ] I/flutter (24401): SocketException: Failed to create server socket (OS Error: Connection refused, errno = 111), address = 127.0.0.1, port = 0\n[        ] I/flutter (24401): #0      _NativeSocket.bind (dart:io-patch/socket_patch.dart:1218:7)\n[        ] I/flutter (24401): &lt;asynchronous suspension&gt;\n[        ] I/flutter (24401): #1      _RawServerSocket.bind.&lt;anonymous closure&gt; (dart:io-patch/socket_patch.dart:2157:12)\n[        ] I/flutter (24401): &lt;asynchronous suspension&gt;\n[        ] I/flutter (24401): #2      _ServerSocket.bind.&lt;anonymous closure&gt; (dart:io-patch/socket_patch.dart:2513:12)\n[        ] I/flutter (24401): &lt;asynchronous suspension&gt;\n[        ] I/flutter (24401): #3      _HttpServer.bind.&lt;anonymous closure&gt; (dart:_http/http_impl.dart:3491:24)\n[        ] I/flutter (24401): &lt;asynchronous suspension&gt;\n[        ] I/flutter (24401): #4      Server.startup.startServer (dart:vmservice_io/vmservice_server.dart:291:23)\n[        ] I/flutter (24401): &lt;asynchronous suspension&gt;\n[        ] I/flutter (24401): #5      Server.startup (dart:vmservice_io/vmservice_server.dart:313:11)\n[        ] I/flutter (24401): &lt;asynchronous suspension&gt;\n[        ] I/flutter (24401): #6      _toggleWebServer (dart:vmservice_io:234:5)\n[        ] I/flutter (24401): &lt;asynchronous suspension&gt; \n\n...\n</code></pre>\n<p>I have disabled firewalls and I found another thread asking to add <code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;</code> to the manifest but it's already there.</p>\n<p>I've tried rolling back to the first commit by a <code>git reset</code> to the starting point of the flutter project and it still doesn't work. Cleaned the build files and flutter as well by running <code>flutter clean</code>, <code>flutter pub get</code>, &amp; <code>flutter run</code>.</p>\n",
        "codigo": [
            "flutter run -v",
            "...\n\n[   +1 ms] Installing build/app/outputs/flutter-apk/app-debug.apk...\n[        ] executing: /home/yasiru/Android/Sdk/platform-tools/adb -s RZ8T10RLNQA install -t -r /mnt/mass/yasiru/Documents/Projects/project_glanz/build/app/outputs/flutter-apk/app-debug.apk\n[+5101 ms] Performing Streamed Install\n                    Success\n[        ] Installing build/app/outputs/flutter-apk/app-debug.apk... (completed in 5.1s)\n[   +1 ms] executing: /home/yasiru/Android/Sdk/platform-tools/adb -s RZ8T10RLNQA shell echo -n 55515df8f86415499cbc0ea570e4ff7eac00f241 > /data/local/tmp/sky.com.example.project_glanz.sha1\n[  +39 ms] executing: /home/yasiru/Android/Sdk/platform-tools/adb -s RZ8T10RLNQA shell -x logcat -v time -t 1\n[ +127 ms] --------- beginning of system\n                    04-03 15:25:43.646 W/JobScheduler( 2613): Job didn't exist in JobStore: 5e81401 #u0a463/101 com.google.android.apps.messaging/.shared.datamodel.action.execution.ActionJobService\n[   +9 ms] executing: /home/yasiru/Android/Sdk/platform-tools/adb -s RZ8T10RLNQA shell am start -a android.intent.action.MAIN -c android.intent.category.LAUNCHER -f 0x20000000 --ez enable-dart-profiling\ntrue --ez enable-checked-mode true --ez verify-entry-points true com.example.project_glanz/com.example.project_glanz.MainActivity\n[ +194 ms] Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x20000000 cmp=com.example.project_glanz/.MainActivity (has extras) }\n[        ] Waiting for VM Service port to be available...\n[+4466 ms] I/flutter (24401): [IMPORTANT:flutter/shell/platform/android/android_context_vk_impeller.cc(60)] Using the Impeller rendering backend (Vulkan).\n[ +551 ms] I/flutter (24401): Could not start Dart VM service HTTP server:\n[        ] I/flutter (24401): SocketException: Failed to create server socket (OS Error: Connection refused, errno = 111), address = 127.0.0.1, port = 0\n[        ] I/flutter (24401): #0      _NativeSocket.bind (dart:io-patch/socket_patch.dart:1218:7)\n[        ] I/flutter (24401): <asynchronous suspension>\n[        ] I/flutter (24401): #1      _RawServerSocket.bind.<anonymous closure> (dart:io-patch/socket_patch.dart:2157:12)\n[        ] I/flutter (24401): <asynchronous suspension>\n[        ] I/flutter (24401): #2      _ServerSocket.bind.<anonymous closure> (dart:io-patch/socket_patch.dart:2513:12)\n[        ] I/flutter (24401): <asynchronous suspension>\n[        ] I/flutter (24401): #3      _HttpServer.bind.<anonymous closure> (dart:_http/http_impl.dart:3491:24)\n[        ] I/flutter (24401): <asynchronous suspension>\n[        ] I/flutter (24401): #4      Server.startup.startServer (dart:vmservice_io/vmservice_server.dart:291:23)\n[        ] I/flutter (24401): <asynchronous suspension>\n[        ] I/flutter (24401): #5      Server.startup (dart:vmservice_io/vmservice_server.dart:313:11)\n[        ] I/flutter (24401): <asynchronous suspension>\n[        ] I/flutter (24401): #6      _toggleWebServer (dart:vmservice_io:234:5)\n[        ] I/flutter (24401): <asynchronous suspension> \n\n...\n",
            "<uses-permission android:name=\"android.permission.INTERNET\"/>",
            "git reset",
            "flutter clean",
            "flutter pub get",
            "flutter run"
        ]
    },
    {
        "titulo": "Unable to intialize Firebase in a Flutter integration test",
        "score": 2,
        "views": 141,
        "respostas": 2,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "testing",
            "google-cloud-firestore"
        ],
        "link": "https://stackoverflow.com/questions/79545229/unable-to-intialize-firebase-in-a-flutter-integration-test",
        "conteudo_html": "<p>I have a Flutter library project (not an app).</p>\n<p>I am trying to write some integration tests that connect to Firebase (firestore and auth).</p>\n<p>When I try to do so I get a platform exception and I am not sure why.</p>\n<p>My code is as follows...</p>\n<pre><code>import 'package:firebase_auth/firebase_auth.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:firebase_core/firebase_core.dart';\nimport 'package:cloud_firestore/cloud_firestore.dart';\n// Adjust the import below to point to your app's main file\n\nvoid main() {\n  WidgetsFlutterBinding.ensureInitialized();\n\n  setUpAll(() async {\n    await Firebase.initializeApp(\n      options: const FirebaseOptions(\n          apiKey: &quot;myapikey&quot;,\n          projectId: &quot;projectid&quot;,\n          storageBucket: &quot;storagebuck&quot;,\n          messagingSenderId: &quot;someid&quot;,\n          appId: &quot;appid&quot;),\n    );\n    FirebaseFirestore.instance.useFirestoreEmulator('localhost', 8080);\n    await FirebaseAuth.instance.useAuthEmulator('localhost', 9099);\n  });\n\n  test('Firebase Firestore emulator connection test', () async {\n      await FirebaseFirestore.instance.collection(&quot;col1&quot;).doc('doc1').set({\n        'field1': 'value1',\n        'field2': 'value2',\n      });\n      print(&quot;complete&quot;);\n  });\n}\n</code></pre>\n<p>When I run this test, I get the following error...</p>\n<blockquote>\n<p>PlatformException(channel-error, Unable to establish connection on\nchannel., null, null)\npackage:firebase_core_platform_interface/src/pigeon/messages.pigeon.dart\n210:7  FirebaseCoreHostApi.initializeCore</p>\n</blockquote>\n",
        "codigo": [
            "import 'package:firebase_auth/firebase_auth.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:firebase_core/firebase_core.dart';\nimport 'package:cloud_firestore/cloud_firestore.dart';\n// Adjust the import below to point to your app's main file\n\nvoid main() {\n  WidgetsFlutterBinding.ensureInitialized();\n\n  setUpAll(() async {\n    await Firebase.initializeApp(\n      options: const FirebaseOptions(\n          apiKey: \"myapikey\",\n          projectId: \"projectid\",\n          storageBucket: \"storagebuck\",\n          messagingSenderId: \"someid\",\n          appId: \"appid\"),\n    );\n    FirebaseFirestore.instance.useFirestoreEmulator('localhost', 8080);\n    await FirebaseAuth.instance.useAuthEmulator('localhost', 9099);\n  });\n\n  test('Firebase Firestore emulator connection test', () async {\n      await FirebaseFirestore.instance.collection(\"col1\").doc('doc1').set({\n        'field1': 'value1',\n        'field2': 'value2',\n      });\n      print(\"complete\");\n  });\n}\n"
        ]
    },
    {
        "titulo": "Flutter BottomNavigation not visible",
        "score": 0,
        "views": 56,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "flutter-bottomnavigation"
        ],
        "link": "https://stackoverflow.com/questions/79522550/flutter-bottomnavigation-not-visible",
        "conteudo_html": "<p>I am building an app with Flutter and I am currently trying to implement a bottomNavigationBar but currently it is not visible when I run the app. My first guess was it could be something to do with the Streambuilder that I have put in the home property of the build method in MyApp class</p>\n<p>Here's my code:</p>\n<pre><code>import 'package:firebase_app_check/firebase_app_check.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:firebase_core/firebase_core.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_riverpod/flutter_riverpod.dart';\nimport 'package:iinhouse/core/screens/create_account.dart';\nimport 'package:iinhouse/core/screens/home.dart';\nimport 'package:iinhouse/core/screens/loader.dart';\nimport 'package:iinhouse/core/screens/login.dart';\nimport 'package:iinhouse/core/screens/verify_email.dart';\n\n// Create new screens for the bottom navigation.\nclass Screen1 extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Center(child: Text('Screen 1'));\n  }\n}\n\nclass Screen2 extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Center(child: Text('Screen 2'));\n  }\n}\n\nclass Screen3 extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Center(child: Text('Screen 3'));\n  }\n}\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  await Firebase.initializeApp();\n  await FirebaseAppCheck.instance.activate();\n  runApp(const ProviderScope(child: MyApp()));\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'iinhouse',\n      theme: ThemeData(\n        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n        useMaterial3: true,\n      ),\n      routes: {\n        '/login': (context) =&gt; const Login(),\n        '/create_account': (context) =&gt; const CreateAccountPage(),\n        '/verify_email': (context) =&gt; const VerifyEmailScreen(),\n        '/home': (context) =&gt; HomeScreen()\n      },\n      initialRoute: '/login',\n      home: StreamBuilder(\n        stream: FirebaseAuth.instance.authStateChanges(),\n        builder: (context, snapshot) {\n          if (snapshot.connectionState == ConnectionState.waiting) {\n            return Loader();\n          }\n\n          if (snapshot.hasData) {\n            final user = snapshot.data;\n            if (user!.emailVerified) {\n              return MyHomePage(); // Use the new wrapper widget\n            } else {\n              return const VerifyEmailScreen();\n            }\n          }\n\n          return const Login();\n        },\n      ),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({super.key});\n\n  @override\n  _MyHomePageState createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  int _selectedIndex = 0;\n\n  final List&lt;Widget&gt; _screens = &lt;Widget&gt;[\n    HomeScreen(), // Ensure HomeScreen is const if possible\n    Screen2(),\n    Screen3(),\n  ];\n\n  void _onItemTapped(int index) {\n    setState(() {\n      _selectedIndex = index;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: _screens[_selectedIndex],\n      bottomNavigationBar: BottomNavigationBar(\n        type: BottomNavigationBarType.fixed,\n        items: const &lt;BottomNavigationBarItem&gt;[\n          BottomNavigationBarItem(\n            backgroundColor: Colors.white,\n            icon: Icon(\n              Icons.home,\n              color: Colors.black,\n            ),\n            label: 'Home',\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.business),\n            label: 'Business',\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.school),\n            label: 'School',\n          ),\n        ],\n        currentIndex: _selectedIndex,\n        selectedItemColor: Colors.deepPurple,\n        onTap: _onItemTapped,\n      ),\n    );\n  }\n}\n\nclass HomeScreen extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: Text('Home Screen'),\n      ),\n    );\n  }\n}\n</code></pre>\n",
        "codigo": [
            "import 'package:firebase_app_check/firebase_app_check.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:firebase_core/firebase_core.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_riverpod/flutter_riverpod.dart';\nimport 'package:iinhouse/core/screens/create_account.dart';\nimport 'package:iinhouse/core/screens/home.dart';\nimport 'package:iinhouse/core/screens/loader.dart';\nimport 'package:iinhouse/core/screens/login.dart';\nimport 'package:iinhouse/core/screens/verify_email.dart';\n\n// Create new screens for the bottom navigation.\nclass Screen1 extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Center(child: Text('Screen 1'));\n  }\n}\n\nclass Screen2 extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Center(child: Text('Screen 2'));\n  }\n}\n\nclass Screen3 extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Center(child: Text('Screen 3'));\n  }\n}\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  await Firebase.initializeApp();\n  await FirebaseAppCheck.instance.activate();\n  runApp(const ProviderScope(child: MyApp()));\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'iinhouse',\n      theme: ThemeData(\n        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n        useMaterial3: true,\n      ),\n      routes: {\n        '/login': (context) => const Login(),\n        '/create_account': (context) => const CreateAccountPage(),\n        '/verify_email': (context) => const VerifyEmailScreen(),\n        '/home': (context) => HomeScreen()\n      },\n      initialRoute: '/login',\n      home: StreamBuilder(\n        stream: FirebaseAuth.instance.authStateChanges(),\n        builder: (context, snapshot) {\n          if (snapshot.connectionState == ConnectionState.waiting) {\n            return Loader();\n          }\n\n          if (snapshot.hasData) {\n            final user = snapshot.data;\n            if (user!.emailVerified) {\n              return MyHomePage(); // Use the new wrapper widget\n            } else {\n              return const VerifyEmailScreen();\n            }\n          }\n\n          return const Login();\n        },\n      ),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({super.key});\n\n  @override\n  _MyHomePageState createState() => _MyHomePageState();\n}\n\nclass _MyHomePageState extends State<MyHomePage> {\n  int _selectedIndex = 0;\n\n  final List<Widget> _screens = <Widget>[\n    HomeScreen(), // Ensure HomeScreen is const if possible\n    Screen2(),\n    Screen3(),\n  ];\n\n  void _onItemTapped(int index) {\n    setState(() {\n      _selectedIndex = index;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: _screens[_selectedIndex],\n      bottomNavigationBar: BottomNavigationBar(\n        type: BottomNavigationBarType.fixed,\n        items: const <BottomNavigationBarItem>[\n          BottomNavigationBarItem(\n            backgroundColor: Colors.white,\n            icon: Icon(\n              Icons.home,\n              color: Colors.black,\n            ),\n            label: 'Home',\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.business),\n            label: 'Business',\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.school),\n            label: 'School',\n          ),\n        ],\n        currentIndex: _selectedIndex,\n        selectedItemColor: Colors.deepPurple,\n        onTap: _onItemTapped,\n      ),\n    );\n  }\n}\n\nclass HomeScreen extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: Text('Home Screen'),\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Flutter web url startegy with onGenerateRoutes i.e. PageRoute is not working",
        "score": 0,
        "views": 44,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79514604/flutter-web-url-startegy-with-ongenerateroutes-i-e-pageroute-is-not-working",
        "conteudo_html": "<p>I'm trying to get some paths for screens and followed the official <a href=\"https://docs.flutter.dev/ui/navigation/url-strategies\" rel=\"nofollow noreferrer\">document</a></p>\n<p>But it requires <code>routes</code> setup instead of <code>onGenerateRoute</code> which is my current implementation?</p>\n<pre class=\"lang-dart prettyprint-override\"><code>return MaterialApp(\n          title: Localized.brand,\n          scrollBehavior: MaterialScrollBehavior().copyWith(\n            dragDevices: {\n              PointerDeviceKind.mouse,\n              PointerDeviceKind.touch,\n            },\n          ),\n          // routes: {}, &lt;&lt; Url strategy expects this\n          onGenerateRoute: AppRouter.setupRouting, // I'm using this\n          theme: ThemeData(\n            colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n            useMaterial3: true,\n          ),\n          home: const RootScreen(),\n        )\n\n</code></pre>\n<p>Is there any way to achieve same with <code>onGenerateRoute</code>?</p>\n",
        "codigo": [
            "routes",
            "onGenerateRoute",
            "return MaterialApp(\n          title: Localized.brand,\n          scrollBehavior: MaterialScrollBehavior().copyWith(\n            dragDevices: {\n              PointerDeviceKind.mouse,\n              PointerDeviceKind.touch,\n            },\n          ),\n          // routes: {}, << Url strategy expects this\n          onGenerateRoute: AppRouter.setupRouting, // I'm using this\n          theme: ThemeData(\n            colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n            useMaterial3: true,\n          ),\n          home: const RootScreen(),\n        )\n\n",
            "onGenerateRoute"
        ]
    },
    {
        "titulo": "App not building for iOS and Android after upgrading Flutter",
        "score": 1,
        "views": 53,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "web-applications",
            "flutter-dependencies"
        ],
        "link": "https://stackoverflow.com/questions/79504446/app-not-building-for-ios-and-android-after-upgrading-flutter",
        "conteudo_html": "<p>I have been using Flutter with Firebase etc for an iOT app at my company. Day before yesterday afternoon (Monday) I upgraded Flutter because last week when we released a update we received a notification from Apple saying that we need to upgrade to new versions of everything. But this basically broke my flutter completely. I have not been able to build a single version for both Android and iOS (Not even the debug one). For Android they were initially saying that the way the build.gradles etc are written need to be updated and I did that but then they switched to other errors which keep on coming and this one I cannot solve. Then I tried iOS because I wanted to at least solve one thing but with iOS as well I got multiple errors with different dependencies which I fixed but now it is failing to build but is not showing any error exactly. Please help me.</p>\n<p>This is what iOS build shows but I wasn't building for a device and I don't know what exception is unhadled.</p>\n<pre><code>Running Xcode build...                                                  \nXcode build done.                                           231.6s\nFailed to build iOS app\nError (Xcode): Unhandled exception:\nEncountered error while building for device.\n\n-----&gt; After verbose doctore\n[✓] Xcode - develop for iOS and macOS (Xcode 15.4) [157.7s]\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 15F31d\n    • CocoaPods version 1.16.2\n</code></pre>\n<p>For android after fixing everything like Java version etc, it gives this error. According to chatgpt, it is because the dart version is not compatible with the flutter version but the dart version being used was downloaded with the flutter version during the upgrade. It's not like I downloaded anything else separately and I did everything chat gpt but nothing seems to fix it.</p>\n<pre><code>Unhandled exception:\nUnexpected Kernel Format Version 106 (expected 122)\n#0      BinaryBuilder._verifyComponentInitialBytes (package:kernel/binary/ast_from_binary.dart:871)\n#1      BinaryBuilder.readComponent.&lt;anonymous closure&gt; (package:kernel/binary/ast_from_binary.dart:697)\n#2      Timeline.timeSync (dart:developer/timeline.dart:188)\n#3      BinaryBuilder.readComponent (package:kernel/binary/ast_from_binary.dart:695)\n#4      _InitializationFromSdkSummary._prepareSummary (package:front_end/src/base/incremental_compiler.dart:2536)\n#5      _InitializationFromSdkSummary.initialize (package:front_end/src/base/incremental_compiler.dart:2518)\n&lt;asynchronous suspension&gt;\n#6      IncrementalCompiler._ensurePlatformAndInitialize (package:front_end/src/base/incremental_compiler.dart:1405)\n&lt;asynchronous suspension&gt;\n#7      IncrementalCompiler.computeDelta.&lt;anonymous closure&gt; (package:front_end/src/base/incremental_compiler.dart:293)\n&lt;asynchronous suspension&gt;\n#8      CompilerContext.clear (package:front_end/src/base/compiler_context.dart:77)\n&lt;asynchronous suspension&gt;\n#9      IncrementalCompiler.compile (package:vm/incremental_compiler.dart:77)\n&lt;asynchronous suspension&gt;\n#10     FrontendCompiler.compile (package:frontend_server/frontend_server.dart:642)\n&lt;asynchronous suspension&gt;\n#11   \n  starter (package:frontend_server/starter.dart:109)\n&lt;asynchronous suspension&gt;\n#12     main (file:///Volumes/Work/s/w/ir/x/w/sdk/pkg/frontend_server/bin/frontend_server_starter.dart:13)\n\n&lt;asynchronous suspension&gt;\n\nTarget kernel_snapshot_program failed: Exception\nFAILURE: Build failed with an exception.\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuildDebug'.\n</code></pre>\n<p>I reinstalled Flutter and Dart SDK by clearing the cache, pulling the latest stable version from the Flutter repository, and running flutter doctor. I expected this to resolve the issue with missing Dart SDK files but it did not.</p>\n<p>Any help would be amazing.</p>\n<p>Thank you in Advance!</p>\n",
        "codigo": [
            "Running Xcode build...                                                  \nXcode build done.                                           231.6s\nFailed to build iOS app\nError (Xcode): Unhandled exception:\nEncountered error while building for device.\n\n-----> After verbose doctore\n[✓] Xcode - develop for iOS and macOS (Xcode 15.4) [157.7s]\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 15F31d\n    • CocoaPods version 1.16.2\n",
            "Unhandled exception:\nUnexpected Kernel Format Version 106 (expected 122)\n#0      BinaryBuilder._verifyComponentInitialBytes (package:kernel/binary/ast_from_binary.dart:871)\n#1      BinaryBuilder.readComponent.<anonymous closure> (package:kernel/binary/ast_from_binary.dart:697)\n#2      Timeline.timeSync (dart:developer/timeline.dart:188)\n#3      BinaryBuilder.readComponent (package:kernel/binary/ast_from_binary.dart:695)\n#4      _InitializationFromSdkSummary._prepareSummary (package:front_end/src/base/incremental_compiler.dart:2536)\n#5      _InitializationFromSdkSummary.initialize (package:front_end/src/base/incremental_compiler.dart:2518)\n<asynchronous suspension>\n#6      IncrementalCompiler._ensurePlatformAndInitialize (package:front_end/src/base/incremental_compiler.dart:1405)\n<asynchronous suspension>\n#7      IncrementalCompiler.computeDelta.<anonymous closure> (package:front_end/src/base/incremental_compiler.dart:293)\n<asynchronous suspension>\n#8      CompilerContext.clear (package:front_end/src/base/compiler_context.dart:77)\n<asynchronous suspension>\n#9      IncrementalCompiler.compile (package:vm/incremental_compiler.dart:77)\n<asynchronous suspension>\n#10     FrontendCompiler.compile (package:frontend_server/frontend_server.dart:642)\n<asynchronous suspension>\n#11   \n  starter (package:frontend_server/starter.dart:109)\n<asynchronous suspension>\n#12     main (file:///Volumes/Work/s/w/ir/x/w/sdk/pkg/frontend_server/bin/frontend_server_starter.dart:13)\n\n<asynchronous suspension>\n\nTarget kernel_snapshot_program failed: Exception\nFAILURE: Build failed with an exception.\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuildDebug'.\n"
        ]
    },
    {
        "titulo": "Crash type casting issues in Dart related to generic values and null checks, type &#39;(String?) =&gt; void&#39; is not a subtype of type &#39;((dynamic) =&gt; void)?&#39;",
        "score": 1,
        "views": 65,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79493307/crash-type-casting-issues-in-dart-related-to-generic-values-and-null-checks-typ",
        "conteudo_html": "<p>I am trying to figure out if <code>widget.onChanged</code> of <code>RadioListTile&lt;T&gt;</code> is not null, but it seems like dart is very strict when it comes to generics, any suggestion on how I can check it?<br />\n(I am a little new to Fluter/Dart )</p>\n<pre><code> void testWidgetOnNUllDynamic(dynamic clbk) {\n      if (clbk != null) {\n        print('not null');\n      }\n    }\n    \n    void testWidgetOnNUllCallback(Widget widget) {\n      if (widget is RadioListTile) {\n        // if (widget.onChanged != null) {\n        //   //type '(String?) =&gt; void' is not a subtype of type '((dynamic) =&gt; void)?'\n        //   print('Crash here');\n        // }\n        //attempt to erase the type\n        testWidgetOnNUllDynamic(widget.onChanged);\n      }\n    }\n\n//This method is redundant \n    void testIfOnChangeIsNull(Widget widget) {\n      testWidgetOnNUllCallback(widget);\n    }\n\n    test('when widget is RadioListTile onChange test', () {\n// &lt;String&gt; - Can be anything \n      RadioListTile&lt;String&gt; widget = RadioListTile(value: 'value', activeColor: 0, toggleable: true, onChanged:(value) =&gt; debugPrint('Test'), groupValue: null,);\n       testIfOnChangeIsNull(widget);\n      \n    });\n</code></pre>\n<p>I think that I understand the error I am not sure how to avoid it OR how to check of nallability without casting it to concrete type <br>\nAsked same question <a href=\"https://github.com/dart-lang/sdk/issues/60288\" rel=\"nofollow noreferrer\">here</a> <br>\nThanks</p>\n",
        "codigo": [
            "widget.onChanged",
            "RadioListTile<T>",
            " void testWidgetOnNUllDynamic(dynamic clbk) {\n      if (clbk != null) {\n        print('not null');\n      }\n    }\n    \n    void testWidgetOnNUllCallback(Widget widget) {\n      if (widget is RadioListTile) {\n        // if (widget.onChanged != null) {\n        //   //type '(String?) => void' is not a subtype of type '((dynamic) => void)?'\n        //   print('Crash here');\n        // }\n        //attempt to erase the type\n        testWidgetOnNUllDynamic(widget.onChanged);\n      }\n    }\n\n//This method is redundant \n    void testIfOnChangeIsNull(Widget widget) {\n      testWidgetOnNUllCallback(widget);\n    }\n\n    test('when widget is RadioListTile onChange test', () {\n// <String> - Can be anything \n      RadioListTile<String> widget = RadioListTile(value: 'value', activeColor: 0, toggleable: true, onChanged:(value) => debugPrint('Test'), groupValue: null,);\n       testIfOnChangeIsNull(widget);\n      \n    });\n"
        ]
    },
    {
        "titulo": "Map&lt;String , dynamic&gt; is not a subtype of type List&lt;dynamic&gt; in cast type",
        "score": 0,
        "views": 65,
        "respostas": 2,
        "tags": [
            "json",
            "flutter",
            "dart",
            "types"
        ],
        "link": "https://stackoverflow.com/questions/79489720/mapstring-dynamic-is-not-a-subtype-of-type-listdynamic-in-cast-type",
        "conteudo_html": "<p>I want to send a data request to an API and get data from it via the http package and then decode it using dart convert library I searched for ways to implement it and found this documentation provided by flutter team [here][1] but of course I edited it to serve me here is the code</p>\n<p>the backend part :</p>\n<pre><code>Future&lt;List&lt;Photo&gt;&gt; fetchPhotos(http.Client client) async {\n  final response = await client.get(\n    Uri.parse('Endpoint(hidden)'),\n  );\n\n  // Use the compute function to run parsePhotos in a separate isolate.\n  return await compute(parsePhotos, response.body);\n}\n\nList&lt;Photo&gt; parsePhotos(String responseBody) {\n  final parsed =\n      (jsonDecode(responseBody) as List).cast&lt;Map&lt;String, dynamic&gt;&gt;();\n\n  return parsed.map&lt;Photo&gt;((json) =&gt; Photo.fromJson(json)).toList();\n}\n\nclass Photo {\n  final bool canLogin;\n  final bool canRegister;\n  // final String id;\n  // final String name;\n  final List&lt;dynamic&gt; activities;\n\n  const Photo({\n    required this.canLogin,\n    required this.canRegister,\n    required this.activities,\n  });\n\n  factory Photo.fromJson(Map&lt;String, dynamic&gt; json) {\n    return Photo(\n      canLogin: json['canLogin'] as bool,\n      canRegister: json['canRegister'] as bool,\n      activities: json['activities'] as List&lt;dynamic&gt;,\n    );\n  }\n}\n</code></pre>\n<p>the UI :</p>\n<pre><code>class Test extends StatefulWidget {\n  const Test({super.key, required this.title});\n\n  final String title;\n  @override\n  State&lt;Test&gt; createState() =&gt; _TestState();\n}\n\nclass _TestState extends State&lt;Test&gt; {\n  late Future&lt;List&lt;Photo&gt;&gt; getData;\n  @override\n  void initState() {\n    getData = fetchPhotos(http.Client());\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    getData = fetchPhotos(http.Client());\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('data'),\n        backgroundColor: Colors.blue,\n      ),\n      floatingActionButton: TextButton(\n          onPressed: () {\n            setState(() {});\n          },\n          child: const Text('Reload')),\n      body: FutureBuilder&lt;List&lt;Photo&gt;&gt;(\n        future: getData,\n        builder: (context, snapshot) {\n          if (snapshot.hasData) {\n            devtools.log('has data');\n            return PhotosList(photos: snapshot.data);\n          } else if (snapshot.hasError) {\n            devtools.log('has error');\n            return Text(snapshot.error.toString());\n          }\n          return const CircularProgressIndicator();\n        },\n      ),\n    );\n  }\n}\n\nclass PhotosList extends StatelessWidget {\n  const PhotosList({super.key, required this.photos});\n\n  final List&lt;Photo&gt;? photos;\n\n  @override\n  Widget build(BuildContext context) {\n    return GridView.builder(\n      gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(\n        crossAxisCount: 2,\n      ),\n      itemCount: photos!.length,\n      itemBuilder: (context, index) {\n        return Text(photos![index].activities.toString());\n      },\n    );\n  }\n}\n</code></pre>\n<p>I am familiar with the error I used to figure it out but this time its my first time dealing with API thing so I couldn't solve it for 2 days which is unusual for me and frustrating\n[1]: <a href=\"https://docs.flutter.dev/cookbook/networking/background-parsing#notes-on-working-with-isolates\" rel=\"nofollow noreferrer\">https://docs.flutter.dev/cookbook/networking/background-parsing#notes-on-working-with-isolates</a></p>\n",
        "codigo": [
            "Future<List<Photo>> fetchPhotos(http.Client client) async {\n  final response = await client.get(\n    Uri.parse('Endpoint(hidden)'),\n  );\n\n  // Use the compute function to run parsePhotos in a separate isolate.\n  return await compute(parsePhotos, response.body);\n}\n\nList<Photo> parsePhotos(String responseBody) {\n  final parsed =\n      (jsonDecode(responseBody) as List).cast<Map<String, dynamic>>();\n\n  return parsed.map<Photo>((json) => Photo.fromJson(json)).toList();\n}\n\nclass Photo {\n  final bool canLogin;\n  final bool canRegister;\n  // final String id;\n  // final String name;\n  final List<dynamic> activities;\n\n  const Photo({\n    required this.canLogin,\n    required this.canRegister,\n    required this.activities,\n  });\n\n  factory Photo.fromJson(Map<String, dynamic> json) {\n    return Photo(\n      canLogin: json['canLogin'] as bool,\n      canRegister: json['canRegister'] as bool,\n      activities: json['activities'] as List<dynamic>,\n    );\n  }\n}\n",
            "class Test extends StatefulWidget {\n  const Test({super.key, required this.title});\n\n  final String title;\n  @override\n  State<Test> createState() => _TestState();\n}\n\nclass _TestState extends State<Test> {\n  late Future<List<Photo>> getData;\n  @override\n  void initState() {\n    getData = fetchPhotos(http.Client());\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    getData = fetchPhotos(http.Client());\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('data'),\n        backgroundColor: Colors.blue,\n      ),\n      floatingActionButton: TextButton(\n          onPressed: () {\n            setState(() {});\n          },\n          child: const Text('Reload')),\n      body: FutureBuilder<List<Photo>>(\n        future: getData,\n        builder: (context, snapshot) {\n          if (snapshot.hasData) {\n            devtools.log('has data');\n            return PhotosList(photos: snapshot.data);\n          } else if (snapshot.hasError) {\n            devtools.log('has error');\n            return Text(snapshot.error.toString());\n          }\n          return const CircularProgressIndicator();\n        },\n      ),\n    );\n  }\n}\n\nclass PhotosList extends StatelessWidget {\n  const PhotosList({super.key, required this.photos});\n\n  final List<Photo>? photos;\n\n  @override\n  Widget build(BuildContext context) {\n    return GridView.builder(\n      gridDelegate: const SliverGridDelegateWithFixedCrossAxisCount(\n        crossAxisCount: 2,\n      ),\n      itemCount: photos!.length,\n      itemBuilder: (context, index) {\n        return Text(photos![index].activities.toString());\n      },\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Internal error when calling firebase auth&#39;s verifyPhoneNumber on IOS device",
        "score": 3,
        "views": 78,
        "respostas": 0,
        "tags": [
            "ios",
            "flutter",
            "firebase",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/79459677/internal-error-when-calling-firebase-auths-verifyphonenumber-on-ios-device",
        "conteudo_html": "<p>In a Flutter app, when calling Firebase auth's sms authentication <code>FirebaseAuth.instance.verifyPhoneNumber</code> on IOS device (sim and physical), it causes internal_error with message &quot;An internal error has occurred, print and inspect the error details for more information.&quot;</p>\n<pre class=\"lang-dart prettyprint-override\"><code> Future&lt;void&gt; verifyPhoneNumber() async {\n    final phoneNumber = phoneController.text;\n    final firebaseNumber = '+82${phoneNumber.replaceAll('-', '').substring(1)}';\n\n    try {\n      await widget.updatePhoneNumberCallback(phoneNumber);\n      setState(() =&gt; isVerificationInProgress = true);\n\n      await FirebaseAuth.instance.verifyPhoneNumber(\n        phoneNumber: firebaseNumber,\n        timeout: Duration(seconds: widget.timeoutSeconds),\n        verificationCompleted: (PhoneAuthCredential credential) async {\n          await _verifyWithCredential(credential);\n        },\n        verificationFailed: (FirebaseAuthException e) {\n          setState(() =&gt; isVerificationInProgress = false);\n          _verificationMessage =\n              SignupPhoneNumberFragment._messages.verificationFailed;\n        },\n        codeSent: (String verId, int? resendToken) {\n          setState(() {\n            verificationId = verId;\n            this.resendToken = resendToken;\n            isVerificationInProgress = false;\n          });\n          _startTimer();\n        },\n        codeAutoRetrievalTimeout: (String verId) {\n          setState(() {\n            verificationId = verId;\n            isVerificationInProgress = false;\n          });\n        },\n        forceResendingToken: resendToken,\n      );\n    } catch (e) {\n      debugPrint('Error verifying phone number: $e');\n      setState(() =&gt; isVerificationInProgress = false);\n    }\n  }\n\n</code></pre>\n<p>I have followed necessary steps to set up firebase and ios (APNS, bundle id and etc). Test phone set on flutter console works as expected so connection between my app and flutter app seems fine.</p>\n<p>I have no clue on what to try next as exception has so little info and repeatedly trying to call the method while tweaking around ends up with 'too many requests' and forbids me to try for next few hours.</p>\n<p>Has anyone have clues on what my problem is?</p>\n<p>Flutter 3.24.5\nFirebase core 3.12.0\nFirebase Auth 5.5.0</p>\n<p>I was set up with lower version of firebase (core and auth) when i tried first and got the message. So i tried upgrading the versions of these two libraries and that still did not work.</p>\n",
        "codigo": [
            "FirebaseAuth.instance.verifyPhoneNumber",
            " Future<void> verifyPhoneNumber() async {\n    final phoneNumber = phoneController.text;\n    final firebaseNumber = '+82${phoneNumber.replaceAll('-', '').substring(1)}';\n\n    try {\n      await widget.updatePhoneNumberCallback(phoneNumber);\n      setState(() => isVerificationInProgress = true);\n\n      await FirebaseAuth.instance.verifyPhoneNumber(\n        phoneNumber: firebaseNumber,\n        timeout: Duration(seconds: widget.timeoutSeconds),\n        verificationCompleted: (PhoneAuthCredential credential) async {\n          await _verifyWithCredential(credential);\n        },\n        verificationFailed: (FirebaseAuthException e) {\n          setState(() => isVerificationInProgress = false);\n          _verificationMessage =\n              SignupPhoneNumberFragment._messages.verificationFailed;\n        },\n        codeSent: (String verId, int? resendToken) {\n          setState(() {\n            verificationId = verId;\n            this.resendToken = resendToken;\n            isVerificationInProgress = false;\n          });\n          _startTimer();\n        },\n        codeAutoRetrievalTimeout: (String verId) {\n          setState(() {\n            verificationId = verId;\n            isVerificationInProgress = false;\n          });\n        },\n        forceResendingToken: resendToken,\n      );\n    } catch (e) {\n      debugPrint('Error verifying phone number: $e');\n      setState(() => isVerificationInProgress = false);\n    }\n  }\n\n"
        ]
    },
    {
        "titulo": "type &#39;(SpecificType) =&gt; String&#39; is not a subtype of type &#39;(dynamic) =&gt; String&#39;",
        "score": 1,
        "views": 59,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "generics"
        ],
        "link": "https://stackoverflow.com/questions/79456107/type-specifictype-string-is-not-a-subtype-of-type-dynamic-string",
        "conteudo_html": "<p>I encounter a problem with type exception while writing a dart class with generic type for modular flutter package. I tried to reproduce it with normal dart program. I'm not sure if it's possible to do what I tried to do. I struggled with it for like many hours. The code is as below.</p>\n<p><a href=\"https://dartpad.dev/ec27dbb96381e85906db89d258bc5a4c\" rel=\"nofollow noreferrer\">https://dartpad.dev/ec27dbb96381e85906db89d258bc5a4c</a></p>\n<pre><code>void main() {\n  var sc = Shelter&lt;Cat&gt;(\n    name: 'test shelter', \n    data: [Cat(id: 'cat-1', name: 'cat no.1')],\n    extractParam: (data) =&gt; data.id,\n  );\n\n  var sd = Shelter&lt;Dog&gt;(\n    name: 'test shelter dog', \n    data: [Dog(dogId: 'dog-1', name: 'dog no.1')],\n    extractParam: (data) =&gt; data.dogId,\n  );\n\n  print(sc.extractParam(Cat(id: 'cat-2', name: 'cat no.2')));\n  print(sd.extractParam(Dog(dogId: 'dog-2', name: 'dog no.2')));\n\n  var dog = Dog(dogId: 'dog-3', name: 'dog no.3');\n  var test = Test(\n    data: dog,\n    shelter: sd,\n  );\n  test.printTest();\n\n  print(&quot;hello before testtest()&quot;);\n  for (var c in sc.data) {\n    final d = sc.extractParam(c);\n    print(d);\n  }\n  testtest(sd);\n}\n\nvoid testtest(Shelter shelter) {\n  for (var a in shelter.data) {\n    final b = shelter.extractParam(a);\n    print(b);\n  }\n}\n\nclass Test&lt;T&gt; {\n  final T data;\n  final Shelter&lt;T&gt; shelter;\n\n  const Test({\n    required this.data,\n    required this.shelter,\n  });\n\n  void printTest() =&gt; print('This is test: ${shelter.extractParam(data)}');\n}\n\nclass Dog {\n  final String dogId;\n  final String name;\n\n  const Dog({\n    required this.dogId,\n    required this.name,\n  });\n}\n\nclass Cat {\n  final String id;\n  final String name;\n\n  const Cat({\n    required this.id,\n    required this.name,\n  });\n}\n\nclass Shelter&lt;T&gt; {\n  final String name;\n  final List&lt;T&gt; data;\n  final String Function(T data) extractParam;\n\n  const Shelter({\n    required this.name,\n    required this.data,\n    required this.extractParam,\n  });\n}\n</code></pre>\n<p>console output:</p>\n<pre><code>➜  test_dart dart ./bin/test_generic_field_extract.dart\ncat-2\ndog-2\nThis is test: dog-3\nhello before testtest()\ncat-1\nUnhandled exception:\ntype '(Dog) =&gt; String' is not a subtype of type '(dynamic) =&gt; String'\n#0      testtest (file:///Users/tharineemunkwamdee/projects/test_dart/bin/test_generic_field_extract.dart:34:23)\n#1      main (file:///Users/tharineemunkwamdee/projects/test_dart/bin/test_generic_field_extract.dart:29:3)\n#2      _delayEntrypointInvocation.&lt;anonymous closure&gt; (dart:isolate-patch/isolate_patch.dart:296:19)\n#3      _RawReceivePort._handleMessage (dart:isolate-patch/isolate_patch.dart:189:12)\n➜  test_dart \n</code></pre>\n<p>PS. the program can compile without error but crash on runtime</p>\n",
        "codigo": [
            "void main() {\n  var sc = Shelter<Cat>(\n    name: 'test shelter', \n    data: [Cat(id: 'cat-1', name: 'cat no.1')],\n    extractParam: (data) => data.id,\n  );\n\n  var sd = Shelter<Dog>(\n    name: 'test shelter dog', \n    data: [Dog(dogId: 'dog-1', name: 'dog no.1')],\n    extractParam: (data) => data.dogId,\n  );\n\n  print(sc.extractParam(Cat(id: 'cat-2', name: 'cat no.2')));\n  print(sd.extractParam(Dog(dogId: 'dog-2', name: 'dog no.2')));\n\n  var dog = Dog(dogId: 'dog-3', name: 'dog no.3');\n  var test = Test(\n    data: dog,\n    shelter: sd,\n  );\n  test.printTest();\n\n  print(\"hello before testtest()\");\n  for (var c in sc.data) {\n    final d = sc.extractParam(c);\n    print(d);\n  }\n  testtest(sd);\n}\n\nvoid testtest(Shelter shelter) {\n  for (var a in shelter.data) {\n    final b = shelter.extractParam(a);\n    print(b);\n  }\n}\n\nclass Test<T> {\n  final T data;\n  final Shelter<T> shelter;\n\n  const Test({\n    required this.data,\n    required this.shelter,\n  });\n\n  void printTest() => print('This is test: ${shelter.extractParam(data)}');\n}\n\nclass Dog {\n  final String dogId;\n  final String name;\n\n  const Dog({\n    required this.dogId,\n    required this.name,\n  });\n}\n\nclass Cat {\n  final String id;\n  final String name;\n\n  const Cat({\n    required this.id,\n    required this.name,\n  });\n}\n\nclass Shelter<T> {\n  final String name;\n  final List<T> data;\n  final String Function(T data) extractParam;\n\n  const Shelter({\n    required this.name,\n    required this.data,\n    required this.extractParam,\n  });\n}\n",
            "➜  test_dart dart ./bin/test_generic_field_extract.dart\ncat-2\ndog-2\nThis is test: dog-3\nhello before testtest()\ncat-1\nUnhandled exception:\ntype '(Dog) => String' is not a subtype of type '(dynamic) => String'\n#0      testtest (file:///Users/tharineemunkwamdee/projects/test_dart/bin/test_generic_field_extract.dart:34:23)\n#1      main (file:///Users/tharineemunkwamdee/projects/test_dart/bin/test_generic_field_extract.dart:29:3)\n#2      _delayEntrypointInvocation.<anonymous closure> (dart:isolate-patch/isolate_patch.dart:296:19)\n#3      _RawReceivePort._handleMessage (dart:isolate-patch/isolate_patch.dart:189:12)\n➜  test_dart \n"
        ]
    },
    {
        "titulo": "How to get the visible/rendered value of a Text-widget while Testing?",
        "score": 0,
        "views": 39,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "testing",
            "flutter-text"
        ],
        "link": "https://stackoverflow.com/questions/79454820/how-to-get-the-visible-rendered-value-of-a-text-widget-while-testing",
        "conteudo_html": "<p>I have kind of an responsive Text-widget which uses as much space as possible, but truncates overflowing Texts.</p>\n<p>To get stable and reliable code-base I want to have an test. which verifies that truncation works. I thought about something like the following example, but as <code>text</code> i get the passed-in content, not the visible (truncated) one.</p>\n<pre><code>@override\nFuture&lt;void&gt; test() async {\n    expect($(MultiLineText), findsOneWidget, reason: 'Cannot find main [MultiLineText] widget');\n\n    String? textContent = $(MultiLineText).$(Text).first.text;\n\n    expect(textContent?.contains('...'), true, reason: 'Cannot find ... ellipsis in too long content.');\n}\n</code></pre>\n<p>Is there a way to get the visible content of a Text widget while Testing?</p>\n",
        "codigo": [
            "text",
            "@override\nFuture<void> test() async {\n    expect($(MultiLineText), findsOneWidget, reason: 'Cannot find main [MultiLineText] widget');\n\n    String? textContent = $(MultiLineText).$(Text).first.text;\n\n    expect(textContent?.contains('...'), true, reason: 'Cannot find ... ellipsis in too long content.');\n}\n"
        ]
    },
    {
        "titulo": "How can I make sure the inputted email is a real one",
        "score": 1,
        "views": 74,
        "respostas": 2,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/79427316/how-can-i-make-sure-the-inputted-email-is-a-real-one",
        "conteudo_html": "<p>I am new to flutter and dart, but have some fundamentals of programing. When I enter a random email with a random password, Firebase will create a user with that email and password via <code>createUserWithEmailAndPassword</code> method without making sure if that email is a real one. How can I make sure the email is real?</p>\n<p>Here is what I did:</p>\n<pre><code>void initState() {\n  late final _email = TextEditingController();\n  late final _firstName = TextEditingController();\n  late final _familyName = TextEditingController();\n  late final _password = TextEditingController();\n  super.initState();\n}\n\n@override\n  void dispose() {\n    _email.dispose();\n    _firstName.dispose();\n    _familyName.dispose();\n    _password.dispose();\n    super.dispose();\n  }\n</code></pre>\n<p>after <code>initstate</code> and <code>dispose</code> , I created a <code>class</code> extends <code>StatefulWidget</code>, which had inside it 4 <code>TextFields</code> with 4 <code>controllers</code> and a <code>button</code> which the <code>onpressed</code> function is :</p>\n<pre><code>onPressed: () async {\n    final email = _email.text.trim();\n    final password = _password.text.trim();\n    try {\n      FirebaseFirestore.instance;\n      final usercredential =\n          await FirebaseAuth.instance\n              .createUserWithEmailAndPassword(\n                  email: email,\n                  password: password);\n      final userEmail =\n          usercredential.user?.email;\n      print(usercredential);\n      if (userEmail == email) {\n        Navigator.pushAndRemoveUntil(\n          context,\n          MaterialPageRoute(\n            builder: (context) =&gt;\n                UsernameAndPhonenumber(),\n          ),\n          (route) =&gt; route.isFirst,\n        );\n      } else {\n        setState(() {\n          msg = &quot;Please verify your email&quot;;\n        });\n      }\n    } on FirebaseAuthException catch (e) {\n      if (e.code == &quot;channel-error&quot;) {\n        setState(() {\n          msg = &quot;Can't be empty&quot;;\n        });\n      } else if (e.code ==\n          &quot;weak-password&quot;) {\n        print(&quot;weak password&quot;);\n        setState(() {\n          msg =\n              &quot;The password provided is too weak.&quot;;\n        });\n      } else if (e.code ==\n          &quot;email-already-in-use&quot;) {\n        print(\n            &quot;The account already exists for that email.&quot;);\n        setState(() {\n          msg =\n              &quot;The account already exists for that email.&quot;;\n        });\n      } else if (e.code ==\n          &quot;invalid-email&quot;) {\n        print(&quot;invalid email&quot;);\n        setState(() {\n          msg = &quot;invalid email&quot;;\n        });\n      } else {\n        print(&quot;SOME ERROR HAPPENED HERE&quot;);\n        print(e.code);\n        print(e.code);\n        setState(() {\n          msg = &quot;unknown erorr occured&quot;;\n        });\n      }\n    }\n  },\n</code></pre>\n",
        "codigo": [
            "createUserWithEmailAndPassword",
            "void initState() {\n  late final _email = TextEditingController();\n  late final _firstName = TextEditingController();\n  late final _familyName = TextEditingController();\n  late final _password = TextEditingController();\n  super.initState();\n}\n\n@override\n  void dispose() {\n    _email.dispose();\n    _firstName.dispose();\n    _familyName.dispose();\n    _password.dispose();\n    super.dispose();\n  }\n",
            "initstate",
            "dispose",
            "class",
            "StatefulWidget",
            "TextFields",
            "controllers",
            "button",
            "onpressed",
            "onPressed: () async {\n    final email = _email.text.trim();\n    final password = _password.text.trim();\n    try {\n      FirebaseFirestore.instance;\n      final usercredential =\n          await FirebaseAuth.instance\n              .createUserWithEmailAndPassword(\n                  email: email,\n                  password: password);\n      final userEmail =\n          usercredential.user?.email;\n      print(usercredential);\n      if (userEmail == email) {\n        Navigator.pushAndRemoveUntil(\n          context,\n          MaterialPageRoute(\n            builder: (context) =>\n                UsernameAndPhonenumber(),\n          ),\n          (route) => route.isFirst,\n        );\n      } else {\n        setState(() {\n          msg = \"Please verify your email\";\n        });\n      }\n    } on FirebaseAuthException catch (e) {\n      if (e.code == \"channel-error\") {\n        setState(() {\n          msg = \"Can't be empty\";\n        });\n      } else if (e.code ==\n          \"weak-password\") {\n        print(\"weak password\");\n        setState(() {\n          msg =\n              \"The password provided is too weak.\";\n        });\n      } else if (e.code ==\n          \"email-already-in-use\") {\n        print(\n            \"The account already exists for that email.\");\n        setState(() {\n          msg =\n              \"The account already exists for that email.\";\n        });\n      } else if (e.code ==\n          \"invalid-email\") {\n        print(\"invalid email\");\n        setState(() {\n          msg = \"invalid email\";\n        });\n      } else {\n        print(\"SOME ERROR HAPPENED HERE\");\n        print(e.code);\n        print(e.code);\n        setState(() {\n          msg = \"unknown erorr occured\";\n        });\n      }\n    }\n  },\n"
        ]
    },
    {
        "titulo": "Flutter Submodules Cause Dart Files to Be Unrecognized in Android Studio",
        "score": 0,
        "views": 25,
        "respostas": 0,
        "tags": [
            "android",
            "flutter",
            "dart",
            "android-studio"
        ],
        "link": "https://stackoverflow.com/questions/79420689/flutter-submodules-cause-dart-files-to-be-unrecognized-in-android-studio",
        "conteudo_html": "<p><strong>Issue:</strong></p>\n<p>I have a Flutter project with git submodules, and Android Studio does not recognize Dart files when I open the project. The issue happens across multiple versions of Android Studio (both Ladybug and Koala).</p>\n<p><strong>Steps to Reproduce:</strong></p>\n<ol>\n<li>Open the Flutter project with submodules in Android Studio.</li>\n<li>Dart files are not recognized, and syntax highlighting, autocompletion, and analysis don’t work.</li>\n<li>To fix this, I disable Dart support for the project and enable Dart support only for the main module.</li>\n<li>This forces Android Studio to reanalyze the Flutter project.</li>\n<li>Then, I navigate to the submodules and enable Dart support for them.</li>\n<li>The issue repeats—Dart files become unrecognized again.</li>\n<li>Restarting Android Studio sometimes triggers the same issue, even randomly.</li>\n</ol>\n<p><strong>Environment:</strong></p>\n<ul>\n<li>Android Studio Ladybug &amp; Koala (multiple versions tested)</li>\n<li>Flutter (latest and older versions tested)</li>\n<li>Dart (latest and older versions tested)</li>\n</ul>\n<p><strong>Question:</strong></p>\n<p>Has anyone encountered this issue with Flutter submodules in Android Studio? Is there a reliable way to ensure that Dart files are always recognized properly without having to disable and re-enable Dart support manually?</p>\n<p><a href=\"/questions/tagged/flutter-doctor\" class=\"s-tag post-tag\" title=\"show questions tagged &#39;flutter-doctor&#39;\" aria-label=\"show questions tagged &#39;flutter-doctor&#39;\" rel=\"tag\" aria-labelledby=\"tag-flutter-doctor-tooltip-container\" data-tag-menu-origin=\"Unknown\">flutter-doctor</a></p>\n<pre><code>C:\\Users\\***&gt;flutter doctor -v\n[√] Flutter (Channel stable, 3.27.3, on Microsoft Windows [Version 10.0.22631.4751], locale en-US)\n    • Flutter version 3.27.3 on channel stable at C:\\Users\\***\\dev\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision c519ee916e (2 weeks ago), 2025-01-21 10:32:23 -0800\n    • Engine revision e672b006cb\n    • Dart version 3.6.1\n    • DevTools version 2.40.2\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 35.0.1)\n    • Android SDK at C:\\Users\\***\\AppData\\Local\\Android\\sdk\n    • Platform android-35, build-tools 35.0.1\n    • Java binary at: C:\\Users\\***\\AppData\\Local\\Programs\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.11+0--11852314)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\n\n[√] Android Studio (version 2024.1)\n    • Android Studio at C:\\Users\\***\\AppData\\Local\\Programs\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.11+0--11852314)\n\n[√] Connected device (4 available)\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 15 (API 35) (emulator)\n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Version 10.0.22631.4751]\n    • Chrome (web)                 • chrome        • web-javascript • Google Chrome 132.0.6834.160\n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 132.0.2957.115\n\n[√] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n</code></pre>\n<p><strong>What I Have Tried:</strong></p>\n<ul>\n<li>Upgrading/downgrading Flutter → No effect.</li>\n<li>Upgrading/downgrading Android Studio → No effect.</li>\n<li>Reinstalling Flutter and Android Studio -&gt; No effect</li>\n<li>Reinstalling Flutter and Dart plugin -&gt; No effect</li>\n<li>Deleting the project and pulling the project -&gt; No effect</li>\n<li>Enabling &quot;Scope Analysis to Current Package&quot; in Dart analysis settings → No effect.</li>\n<li>Creating a fresh Flutter project → Works fine, so the issue seems to be specific to submodules.</li>\n</ul>\n",
        "codigo": [
            "C:\\Users\\***>flutter doctor -v\n[√] Flutter (Channel stable, 3.27.3, on Microsoft Windows [Version 10.0.22631.4751], locale en-US)\n    • Flutter version 3.27.3 on channel stable at C:\\Users\\***\\dev\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision c519ee916e (2 weeks ago), 2025-01-21 10:32:23 -0800\n    • Engine revision e672b006cb\n    • Dart version 3.6.1\n    • DevTools version 2.40.2\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 35.0.1)\n    • Android SDK at C:\\Users\\***\\AppData\\Local\\Android\\sdk\n    • Platform android-35, build-tools 35.0.1\n    • Java binary at: C:\\Users\\***\\AppData\\Local\\Programs\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.11+0--11852314)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the \"Desktop development with C++\" workload, including all of its default components\n\n[√] Android Studio (version 2024.1)\n    • Android Studio at C:\\Users\\***\\AppData\\Local\\Programs\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.11+0--11852314)\n\n[√] Connected device (4 available)\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 15 (API 35) (emulator)\n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Version 10.0.22631.4751]\n    • Chrome (web)                 • chrome        • web-javascript • Google Chrome 132.0.6834.160\n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 132.0.2957.115\n\n[√] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n"
        ]
    },
    {
        "titulo": "I can mock a postgres connection with mockito in dart Unit test",
        "score": 0,
        "views": 32,
        "respostas": 0,
        "tags": [
            "postgresql",
            "dart",
            "unit-testing",
            "mockito"
        ],
        "link": "https://stackoverflow.com/questions/79381240/i-can-mock-a-postgres-connection-with-mockito-in-dart-unit-test",
        "conteudo_html": "<p>I'm trying to run that code:</p>\n<pre><code>class MockPostgres extends Mock implements Connection {}\n\nclass MockDatabase extends Mock implements Database {}\n\nvoid main() {\n  late MockPostgres mockConnection;\n  late Repository&lt;MockEntity&gt; repository;\n\n  setUp(() {\n    mockConnection = MockPostgres();\n    repository = MockRepository();\n\n    repository.connection = mockConnection;\n\n    // Aqui, estamos configurando o mock corretamente.\n    when(mockConnection.execute('SELECT * FROM mock_table'))\n        .thenAnswer((_) async =&gt; Future.value(Result(rows: [\n      ResultRow(\n        values: [1, 'mock_name'],\n        schema: ResultSchema([\n          ResultSchemaColumn(\n              typeOid: 23, type: int as Type&lt;Object&gt;, columnName: 'id'),\n          ResultSchemaColumn(\n              typeOid: 25,\n              type: String as Type&lt;Object&gt;,\n              columnName: 'name'),\n        ]),\n      ),\n      ResultRow(\n        values: [2, 'mock_name_2'],\n        schema: ResultSchema([\n          ResultSchemaColumn(\n              typeOid: 23, type: int as Type&lt;Object&gt;, columnName: 'id'),\n          ResultSchemaColumn(\n              typeOid: 25,\n              type: String as Type&lt;Object&gt;,\n              columnName: 'name'),\n        ]),\n      ),\n    ], affectedRows: 2, schema: ResultSchema([\n      ResultSchemaColumn(\n          typeOid: 23, type: int as Type&lt;Object&gt;, columnName: 'id'),\n      ResultSchemaColumn(\n          typeOid: 25,\n          type: String as Type&lt;Object&gt;,\n          columnName: 'name'),\n    ]))));\n\n  });\n\n  test('should return mock result', () async {\n    final result = await mockConnection.execute('SELECT * FROM mock_table');\n    print(result); // Imprime o retorno do mock\n    expect(result, isA&lt;Result&gt;());\n  });\n}\n</code></pre>\n<p>And i received this answer: PS C:\\Users\\Heron\\open-med-api&gt; dart test --chain-stack-traces .\\test\\core\\repository.dart\n00:00 +0 -1: should return mock result [E]<br />\ntype 'Null' is not a subtype of type 'Future'\ntest\\core\\repository.dart 9:7    MockPostgres.execute\ntest\\core\\repository.dart 24:25  main.&lt;<code>your text</code>fn&gt;</p>\n<p>Why my mock is not working? I can test any repository without make this mocks work.</p>\n<p>I wan that my test works</p>\n",
        "codigo": [
            "class MockPostgres extends Mock implements Connection {}\n\nclass MockDatabase extends Mock implements Database {}\n\nvoid main() {\n  late MockPostgres mockConnection;\n  late Repository<MockEntity> repository;\n\n  setUp(() {\n    mockConnection = MockPostgres();\n    repository = MockRepository();\n\n    repository.connection = mockConnection;\n\n    // Aqui, estamos configurando o mock corretamente.\n    when(mockConnection.execute('SELECT * FROM mock_table'))\n        .thenAnswer((_) async => Future.value(Result(rows: [\n      ResultRow(\n        values: [1, 'mock_name'],\n        schema: ResultSchema([\n          ResultSchemaColumn(\n              typeOid: 23, type: int as Type<Object>, columnName: 'id'),\n          ResultSchemaColumn(\n              typeOid: 25,\n              type: String as Type<Object>,\n              columnName: 'name'),\n        ]),\n      ),\n      ResultRow(\n        values: [2, 'mock_name_2'],\n        schema: ResultSchema([\n          ResultSchemaColumn(\n              typeOid: 23, type: int as Type<Object>, columnName: 'id'),\n          ResultSchemaColumn(\n              typeOid: 25,\n              type: String as Type<Object>,\n              columnName: 'name'),\n        ]),\n      ),\n    ], affectedRows: 2, schema: ResultSchema([\n      ResultSchemaColumn(\n          typeOid: 23, type: int as Type<Object>, columnName: 'id'),\n      ResultSchemaColumn(\n          typeOid: 25,\n          type: String as Type<Object>,\n          columnName: 'name'),\n    ]))));\n\n  });\n\n  test('should return mock result', () async {\n    final result = await mockConnection.execute('SELECT * FROM mock_table');\n    print(result); // Imprime o retorno do mock\n    expect(result, isA<Result>());\n  });\n}\n",
            "your text"
        ]
    },
    {
        "titulo": "It appears that there was a problem signing your application prior to installation on the device",
        "score": 0,
        "views": 135,
        "respostas": 0,
        "tags": [
            "ios",
            "flutter",
            "xcode",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79380355/it-appears-that-there-was-a-problem-signing-your-application-prior-to-installati",
        "conteudo_html": "<p>When I try to run my IOS app on a real device I got the following error even tough I can run it in the simulator. I already have a legit apple account and all signings are set and provisioning profile in my Xcode is correct. Automatic signing is enabled for all including release.</p>\n<pre><code>Failed to build iOS app\nCould not build the precompiled application for the device.\nError (Xcode): No profiles for 'com.example.myApp' were found: Xcode couldn't find any iOS App Development provisioning profiles matching 'com.example.myApp'. Automatic signing is disabled and unable to generate a profile. To enable automatic signing, pass -allowProvisioningUpdates to xcodebuild.\n/Users/myName/Desktop/my_app/ios/Runner.xcodeproj\n2\n\nIt appears that there was a problem signing your application prior to installation on the device.\n\nVerify that the Bundle Identifier in your project is your signing id in Xcode\n  open ios/Runner.xcworkspace\n\nAlso try selecting 'Product &gt; Build' to fix the problem.\n</code></pre>\n<p>I have tried to Run the app in Xcode and it succeeds and install the app into my phone. I can also Product &gt; build in Xcode and it works fine too. I get this error only when I try to run in ide in debug mode.</p>\n<p>The error says:</p>\n<pre><code>To enable automatic signing, pass -allowProvisioningUpdates to xcodebuild.\n    /Users/myName/Desktop/my_app/ios/Runner.xcodeproj\n    2\n</code></pre>\n<p>But I don't know what exactly does that mean and I could not find the <code>allowProvisioningUpdates</code> in my Xcode to enable.</p>\n<p>This is my related screen in Xcode.</p>\n<p><a href=\"https://i.sstatic.net/eXSjMyvI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/eXSjMyvI.png\" alt=\"This is my related screen in Xcode.\" /></a></p>\n<p>Do someone has any idea?</p>\n",
        "codigo": [
            "Failed to build iOS app\nCould not build the precompiled application for the device.\nError (Xcode): No profiles for 'com.example.myApp' were found: Xcode couldn't find any iOS App Development provisioning profiles matching 'com.example.myApp'. Automatic signing is disabled and unable to generate a profile. To enable automatic signing, pass -allowProvisioningUpdates to xcodebuild.\n/Users/myName/Desktop/my_app/ios/Runner.xcodeproj\n2\n\nIt appears that there was a problem signing your application prior to installation on the device.\n\nVerify that the Bundle Identifier in your project is your signing id in Xcode\n  open ios/Runner.xcworkspace\n\nAlso try selecting 'Product > Build' to fix the problem.\n",
            "To enable automatic signing, pass -allowProvisioningUpdates to xcodebuild.\n    /Users/myName/Desktop/my_app/ios/Runner.xcodeproj\n    2\n",
            "allowProvisioningUpdates"
        ]
    },
    {
        "titulo": "Execution failed for task &#39;:flutter_plugin_android_lifecycle:compileDebugJavaWithJavac&#39;",
        "score": 0,
        "views": 207,
        "respostas": 0,
        "tags": [
            "java",
            "flutter",
            "dart",
            "gradle",
            "flutter-plugin"
        ],
        "link": "https://stackoverflow.com/questions/79375341/execution-failed-for-task-flutter-plugin-android-lifecyclecompiledebugjavawit",
        "conteudo_html": "<p>Here is the error that I am facing while launching flutter application on andoid mobile:</p>\n<pre><code>Launching lib\\main.dart on sdk gphone64 x86 64 in debug mode...\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':flutter_plugin_android_lifecycle:compileDebugJavaWithJavac'.\n&gt; Could not resolve all files for configuration ':flutter_plugin_android_lifecycle:androidJdkImage'.\n   &gt; Failed to transform core-for-system-modules.jar to match attributes {artifactType=_internal_android_jdk_image, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for JdkImageTransform: C:\\Users\\HP 445 G8\\AppData\\Local\\Android\\sdk\\platforms\\android-34\\core-for-system-modules.jar.\n         &gt; Error while executing process C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\jlink.exe with arguments {--module-path C:\\Users\\HP 445 G8\\.gradle\\caches\\transforms-3\\ffae58e6f7472c2c8e2cdd6bf43d012d\\transformed\\output\\temp\\jmod --add-modules java.base --output C:\\Users\\HP 445 G8\\.gradle\\caches\\transforms-3\\ffae58e6f7472c2c8e2cdd6bf43d012d\\transformed\\output\\jdkImage --disable-plugin system-modules}\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n\nBUILD FAILED in 9s\nError: Gradle task assembleDebug failed with exit code 1\n\nExited (1).\n</code></pre>\n<p><a href=\"https://i.sstatic.net/3KEkArSl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/3KEkArSl.png\" alt=\"flutter, dart, java version in my system\" /></a></p>\n<p>here is the flutter, dart and java versions that shows in cmd(command-line-interface)</p>\n<p>But when I run <strong>flutter doctor --verbose</strong> in terminal in android studio, then it shows following flutter and java versions</p>\n<pre><code>PS D:\\devlynx flutter projects\\chatblok&gt; flutter doctor --verbose\n[√] Flutter (Channel stable, 3.27.0, on Microsoft Windows [Version 10.0.26100.2894], locale en-US)\n    • Flutter version 3.27.0 on channel stable at D:\\flutter sdks\\flutter_windows_3.27.0-stable\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 8495dee1fd (6 weeks ago), 2024-12-10 14:23:39 -0800\n    • Engine revision 83bacfc525\n    • Dart version 3.6.0\n    • DevTools version 2.40.2\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 35.0.1)\n    • Android SDK at C:\\Users\\HP 445 G8\\AppData\\Local\\Android\\sdk\n    • Platform android-35, build-tools 35.0.1\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 21.0.4+-12508038-b607.1)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\n\n[√] Android Studio (version 2024.2)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.4+-12508038-b607.1)\n\n[√] VS Code (version 1.96.4)\n    • VS Code at C:\\Users\\HP 445 G8\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.102.0\n\n[√] Connected device (4 available)\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 13 (API 33) (emulator)\n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Version 10.0.26100.2894]\n    • Chrome (web)                 • chrome        • web-javascript • Google Chrome 131.0.6778.265\n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 132.0.2957.115\n\n[√] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n\n</code></pre>\n",
        "codigo": [
            "Launching lib\\main.dart on sdk gphone64 x86 64 in debug mode...\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':flutter_plugin_android_lifecycle:compileDebugJavaWithJavac'.\n> Could not resolve all files for configuration ':flutter_plugin_android_lifecycle:androidJdkImage'.\n   > Failed to transform core-for-system-modules.jar to match attributes {artifactType=_internal_android_jdk_image, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\n      > Execution failed for JdkImageTransform: C:\\Users\\HP 445 G8\\AppData\\Local\\Android\\sdk\\platforms\\android-34\\core-for-system-modules.jar.\n         > Error while executing process C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\jlink.exe with arguments {--module-path C:\\Users\\HP 445 G8\\.gradle\\caches\\transforms-3\\ffae58e6f7472c2c8e2cdd6bf43d012d\\transformed\\output\\temp\\jmod --add-modules java.base --output C:\\Users\\HP 445 G8\\.gradle\\caches\\transforms-3\\ffae58e6f7472c2c8e2cdd6bf43d012d\\transformed\\output\\jdkImage --disable-plugin system-modules}\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n> Get more help at https://help.gradle.org.\n\nBUILD FAILED in 9s\nError: Gradle task assembleDebug failed with exit code 1\n\nExited (1).\n",
            "PS D:\\devlynx flutter projects\\chatblok> flutter doctor --verbose\n[√] Flutter (Channel stable, 3.27.0, on Microsoft Windows [Version 10.0.26100.2894], locale en-US)\n    • Flutter version 3.27.0 on channel stable at D:\\flutter sdks\\flutter_windows_3.27.0-stable\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 8495dee1fd (6 weeks ago), 2024-12-10 14:23:39 -0800\n    • Engine revision 83bacfc525\n    • Dart version 3.6.0\n    • DevTools version 2.40.2\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 35.0.1)\n    • Android SDK at C:\\Users\\HP 445 G8\\AppData\\Local\\Android\\sdk\n    • Platform android-35, build-tools 35.0.1\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 21.0.4+-12508038-b607.1)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the \"Desktop development with C++\" workload, including all of its default components\n\n[√] Android Studio (version 2024.2)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.4+-12508038-b607.1)\n\n[√] VS Code (version 1.96.4)\n    • VS Code at C:\\Users\\HP 445 G8\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.102.0\n\n[√] Connected device (4 available)\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 13 (API 33) (emulator)\n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Version 10.0.26100.2894]\n    • Chrome (web)                 • chrome        • web-javascript • Google Chrome 131.0.6778.265\n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 132.0.2957.115\n\n[√] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n\n"
        ]
    },
    {
        "titulo": "Failed to build iOS app when adding firebase_auth",
        "score": 0,
        "views": 170,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "build",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/79342695/failed-to-build-ios-app-when-adding-firebase-auth",
        "conteudo_html": "<p>When removing <strong>firebase_auth</strong> package then project runing on ios, otherwaie giving this error?</p>\n<pre class=\"lang-none prettyprint-override\"><code>Swift Compiler Error (Xcode): Expected declaration\n/Users/tecspine/Flutter%20Projects/plus-one-mobile/ios/Pods/FirebaseAuth/FirebaseAuth/Sources/Swift/Auth/Auth.swift:292:2\n\nSwift Compiler Error (Xcode): Expected declaration\n/Users/tecspine/Flutter%20Projects/plus-one-mobile/ios/Pods/FirebaseAuth/FirebaseAuth/Sources/Swift/AuthProvider/OAuthProvider.swift:42:2\n\nSwift Compiler Error (Xcode): Expected declaration\n/Users/tecspine/Flutter%20Projects/plus-one-mobile/ios/Pods/FirebaseAuth/FirebaseAuth/Sources/Swift/AuthProvider/OAuthProvider.swift:68:2\n\nSwift Compiler Error (Xcode): Expected declaration\n/Users/tecspine/Flutter%20Projects/plus-one-mobile/ios/Pods/FirebaseAuth/FirebaseAuth/Sources/Swift/AuthProvider/OAuthProvider.swift:144:2\n\nSwift Compiler Error (Xcode): Expected declaration\n/Users/tecspine/Flutter%20Projects/plus-one-mobile/ios/Pods/FirebaseAuth/FirebaseAuth/Sources/Swift/AuthProvider/OAuthProvider.swift:181:2\n\nSwift Compiler Error (Xcode): Expected declaration\n/Users/tecspine/Flutter%20Projects/plus-one-mobile/ios/Pods/FirebaseAuth/FirebaseAuth/Sources/Swift/AuthProvider/OAuthProvider.swift:211:2\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>flutter doctor -v\n[✓] Flutter (Channel stable, 3.27.1, on macOS 12.7.6 21H1320 darwin-x64, locale en-PK)\n    • Flutter version 3.27.1 on channel stable at /Users/tecspine/Development/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 17025dd882 (3 weeks ago), 2024-12-17 03:23:09 +0900\n    • Engine revision cb4b5fff73\n    • Dart version 3.6.0\n    • DevTools version 2.40.2\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 35.0.0)\n    • Android SDK at /Users/tecspine/Library/Android/sdk\n    • Platform android-35, build-tools 35.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11609105)\n    • All Android licenses accepted.\n\n[!] Xcode - develop for iOS and macOS (Xcode 14.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14C18\n    ! Flutter recommends a minimum Xcode version of 15.\n      Download the latest version or update via the Mac App Store.\n    • CocoaPods version 1.16.2\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2024.1)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11609105)\n\n[✓] VS Code (version 1.96.1)\n    • VS Code at /Users/tecspine/Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.102.0\n\n[✓] Connected device (3 available)\n    • iPhone 14 Pro (mobile) • F6314460-474D-465E-930D-305B0E56BF9D • ios            • com.apple.CoreSimulator.SimRuntime.iOS-16-2 (simulator)\n    • macOS (desktop)        • macos                                • darwin-x64     • macOS 12.7.6 21H1320 darwin-x64\n    • Chrome (web)           • chrome                               • web-javascript • Google Chrome 131.0.6778.205\n\n[✓] Network resources\n    • All expected network resources are available.\n</code></pre>\n<pre><code>delete podfile,podfile.lock,pod dir\nclear pub cashe\nclear xcode build\nupdating pod\n</code></pre>\n",
        "codigo": [
            "Swift Compiler Error (Xcode): Expected declaration\n/Users/tecspine/Flutter%20Projects/plus-one-mobile/ios/Pods/FirebaseAuth/FirebaseAuth/Sources/Swift/Auth/Auth.swift:292:2\n\nSwift Compiler Error (Xcode): Expected declaration\n/Users/tecspine/Flutter%20Projects/plus-one-mobile/ios/Pods/FirebaseAuth/FirebaseAuth/Sources/Swift/AuthProvider/OAuthProvider.swift:42:2\n\nSwift Compiler Error (Xcode): Expected declaration\n/Users/tecspine/Flutter%20Projects/plus-one-mobile/ios/Pods/FirebaseAuth/FirebaseAuth/Sources/Swift/AuthProvider/OAuthProvider.swift:68:2\n\nSwift Compiler Error (Xcode): Expected declaration\n/Users/tecspine/Flutter%20Projects/plus-one-mobile/ios/Pods/FirebaseAuth/FirebaseAuth/Sources/Swift/AuthProvider/OAuthProvider.swift:144:2\n\nSwift Compiler Error (Xcode): Expected declaration\n/Users/tecspine/Flutter%20Projects/plus-one-mobile/ios/Pods/FirebaseAuth/FirebaseAuth/Sources/Swift/AuthProvider/OAuthProvider.swift:181:2\n\nSwift Compiler Error (Xcode): Expected declaration\n/Users/tecspine/Flutter%20Projects/plus-one-mobile/ios/Pods/FirebaseAuth/FirebaseAuth/Sources/Swift/AuthProvider/OAuthProvider.swift:211:2\n",
            "flutter doctor -v\n[✓] Flutter (Channel stable, 3.27.1, on macOS 12.7.6 21H1320 darwin-x64, locale en-PK)\n    • Flutter version 3.27.1 on channel stable at /Users/tecspine/Development/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 17025dd882 (3 weeks ago), 2024-12-17 03:23:09 +0900\n    • Engine revision cb4b5fff73\n    • Dart version 3.6.0\n    • DevTools version 2.40.2\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 35.0.0)\n    • Android SDK at /Users/tecspine/Library/Android/sdk\n    • Platform android-35, build-tools 35.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11609105)\n    • All Android licenses accepted.\n\n[!] Xcode - develop for iOS and macOS (Xcode 14.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14C18\n    ! Flutter recommends a minimum Xcode version of 15.\n      Download the latest version or update via the Mac App Store.\n    • CocoaPods version 1.16.2\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2024.1)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11609105)\n\n[✓] VS Code (version 1.96.1)\n    • VS Code at /Users/tecspine/Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.102.0\n\n[✓] Connected device (3 available)\n    • iPhone 14 Pro (mobile) • F6314460-474D-465E-930D-305B0E56BF9D • ios            • com.apple.CoreSimulator.SimRuntime.iOS-16-2 (simulator)\n    • macOS (desktop)        • macos                                • darwin-x64     • macOS 12.7.6 21H1320 darwin-x64\n    • Chrome (web)           • chrome                               • web-javascript • Google Chrome 131.0.6778.205\n\n[✓] Network resources\n    • All expected network resources are available.\n",
            "delete podfile,podfile.lock,pod dir\nclear pub cashe\nclear xcode build\nupdating pod\n"
        ]
    },
    {
        "titulo": "Firebase Phone Auth not sending SMS to real phone Numbers",
        "score": 0,
        "views": 56,
        "respostas": 0,
        "tags": [
            "android",
            "flutter",
            "firebase",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/79338929/firebase-phone-auth-not-sending-sms-to-real-phone-numbers",
        "conteudo_html": "<p>I would like to share my approach i am using to send OTP SMS to phone number for phone authentication.</p>\n<p>First, i have sat-up firebase project correctly and enabled Email and Phone authentication, i also sat up billing account and am using Blaze subscription, i have enabled &quot;app check&quot; and configured the SHA-1 and SHA-265, and i have allowed the countries that can receive the OTP.</p>\n<p>OTP works fine with testing mobile numbers through emulator, but when i use my personal number in the emulator i get these errors:</p>\n<pre><code>I/PlayCore( 7150): UID: [10149]  PID: [7150] OnRequestIntegrityTokenCallback : onRequestIntegrityToken\nI/PlayCore( 7150): UID: [10149]  PID: [7150] IntegrityService : Unbind from service.\nW/System  ( 7150): Ignoring header X-Firebase-Locale because its value was null.\nD/EGL_emulation( 7150): app_time_stats: avg=43.46ms min=28.52ms max=86.14ms count=23\nE/FirebaseAuth( 7150): [SmsRetrieverHelper] SMS verification code request failed: unknown status code: 17028 Invalid app info in play_integrity_token\nD/FirebaseAuth( 7150): Invoking original failure callbacks after phone verification failure for +962785522213, error - This app is not authorized to use Firebase Authentication. Please verify that the correct package name, SHA-1, and SHA-256 are configured in the Firebase Console. [ Invalid app info in play_integrity_token ]   \n</code></pre>\n<p>The only thing i didn't do is to add the debug token because am not sure how to get it and add it in firebase, but all other info are good.here is how i implemented the send OTP function:</p>\n<pre><code>  void _sendOtp() async {\n    await _auth.verifyPhoneNumber(\n      phoneNumber: widget.phoneNumber,\n      verificationCompleted: (PhoneAuthCredential credential) async {\n        await _auth.currentUser!.linkWithCredential(credential);\n        _completeRegistration();\n      },\n      verificationFailed: (FirebaseAuthException e) {\n        // Log the error message\n        print(&quot;Verification failed: ${e.message}&quot;);\n\n        // Check if the error contains debug information (Play Integrity token)\n        if (e.message != null &amp;&amp; e.message!.contains(&quot;Invalid app info&quot;)) {\n          print(&quot;Debugging Information:&quot;);\n          print(\n              &quot;This error may indicate an issue with the Play Integrity token or SHA keys.&quot;);\n          print(&quot;Please check your Firebase Console and app configuration.&quot;);\n        }\n      },\n      codeSent: (String verificationId, int? resendToken) {\n        setState(() {\n          _verificationId = verificationId;\n        });\n      },\n      codeAutoRetrievalTimeout: (String verificationId) {\n        setState(() {\n          _verificationId = verificationId;\n        });\n      },\n    );\n  }\n</code></pre>\n<p>Any help would be great.</p>\n",
        "codigo": [
            "I/PlayCore( 7150): UID: [10149]  PID: [7150] OnRequestIntegrityTokenCallback : onRequestIntegrityToken\nI/PlayCore( 7150): UID: [10149]  PID: [7150] IntegrityService : Unbind from service.\nW/System  ( 7150): Ignoring header X-Firebase-Locale because its value was null.\nD/EGL_emulation( 7150): app_time_stats: avg=43.46ms min=28.52ms max=86.14ms count=23\nE/FirebaseAuth( 7150): [SmsRetrieverHelper] SMS verification code request failed: unknown status code: 17028 Invalid app info in play_integrity_token\nD/FirebaseAuth( 7150): Invoking original failure callbacks after phone verification failure for +962785522213, error - This app is not authorized to use Firebase Authentication. Please verify that the correct package name, SHA-1, and SHA-256 are configured in the Firebase Console. [ Invalid app info in play_integrity_token ]   \n",
            "  void _sendOtp() async {\n    await _auth.verifyPhoneNumber(\n      phoneNumber: widget.phoneNumber,\n      verificationCompleted: (PhoneAuthCredential credential) async {\n        await _auth.currentUser!.linkWithCredential(credential);\n        _completeRegistration();\n      },\n      verificationFailed: (FirebaseAuthException e) {\n        // Log the error message\n        print(\"Verification failed: ${e.message}\");\n\n        // Check if the error contains debug information (Play Integrity token)\n        if (e.message != null && e.message!.contains(\"Invalid app info\")) {\n          print(\"Debugging Information:\");\n          print(\n              \"This error may indicate an issue with the Play Integrity token or SHA keys.\");\n          print(\"Please check your Firebase Console and app configuration.\");\n        }\n      },\n      codeSent: (String verificationId, int? resendToken) {\n        setState(() {\n          _verificationId = verificationId;\n        });\n      },\n      codeAutoRetrievalTimeout: (String verificationId) {\n        setState(() {\n          _verificationId = verificationId;\n        });\n      },\n    );\n  }\n"
        ]
    },
    {
        "titulo": "I would like to modify the values of specific elements in a list in an efficient manner",
        "score": 2,
        "views": 74,
        "respostas": 3,
        "tags": [
            "arrays",
            "flutter",
            "list",
            "algorithm",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79332760/i-would-like-to-modify-the-values-of-specific-elements-in-a-list-in-an-efficient",
        "conteudo_html": "<p>How can I make the function more efficient?</p>\n<p>This is all the test code I wrote:</p>\n<pre><code>\n// ignore_for_file: public_member_api_docs, sort_constructors_first\nimport 'package:flutter_test/flutter_test.dart';\n\nvoid main() {\n  test(\n    'find list item and apply math',\n    () {\n      final mockList = &lt;Model&gt;[\n        Model(id: '1', name: 'Cortado', price: 12),\n        Model(id: '2', name: 'Caffe Latte', price: 24),\n        Model(id: '3', name: 'Americano', price: 48),\n        Model(id: '4', name: 'Turkish Coffee', price: 96),\n        Model(id: '5', name: 'Filter Coffee', price: 64),\n        Model(id: '6', name: 'Flat White', price: 128),\n      ];\n\n      final selectItems = [mockList[0], mockList[3]];\n      final result = findAndOperate(\n        mainList: mockList,\n        selectedList: selectItems,\n        operations: Operations.PLUS,\n        value: 40,\n      );\n      print(result);\n    },\n  );\n}\n\nList&lt;Model&gt; findAndOperate({\n  required double value,\n  required Operations operations,\n  required List&lt;Model&gt; mainList,\n  required List&lt;Model&gt; selectedList,\n}) {\n  for (final selectItem in selectedList) {\n    for (final item in mainList) {\n      if (item == selectItem) {\n        final itemIndex = mainList.indexOf(item);\n        switch (operations) {\n          case Operations.PLUS:\n            final changeItem =\n                selectItem.copyWith(price: selectItem.price + value);\n            mainList.removeAt(itemIndex);\n            mainList.insert(itemIndex, changeItem);\n          case Operations.MULTIPLICATION:\n            final changeItem = selectItem.copyWith(\n              price: selectItem.price + (selectItem.price * value),\n            );\n            mainList.removeAt(itemIndex);\n            mainList.insert(itemIndex, changeItem);\n        }\n      }\n    }\n  }\n  return mainList;\n}\n\n// ignore: constant_identifier_names\nenum Operations { PLUS, MULTIPLICATION }\n\n// ignore: one_member_abstracts\n\nclass Model {\n  Model({required this.id, required this.name, required this.price});\n\n  final String id;\n  final String name;\n  final double price;\n\n  Model copyWith({\n    String? id,\n    String? name,\n    double? price,\n  }) {\n    return Model(\n      id: id ?? this.id,\n      name: name ?? this.name,\n      price: price ?? this.price,\n    );\n  }\n\n  @override\n  String toString() =&gt; 'MockModel(id: $id, name: $name, price: $price)';\n\n  @override\n  bool operator ==(covariant Model other) {\n    if (identical(this, other)) return true;\n\n    return other.id == id &amp;&amp; other.name == name &amp;&amp; other.price == price;\n  }\n\n  @override\n  int get hashCode =&gt; id.hashCode ^ name.hashCode ^ price.hashCode;\n}\n</code></pre>\n<p>The function I wrote works as expected, but I'm new to this and I'm curious about what I can improve or learn.</p>\n<p>The result that comes out when I run the function:</p>\n<p>[MockModel(id: 1, name: Cortado, price: 52.0), MockModel(id: 2, name: Caffe Latte, price: 24.0), MockModel(id: 3, name: Americano, price: 48.0), MockModel(id: 4, name: Turkish Coffee, price: 136.0), MockModel(id: 5, name: Filter Coffee, price: 64.0), MockModel(id: 6, name: Flat White, price: 128.0)]</p>\n",
        "codigo": [
            "\n// ignore_for_file: public_member_api_docs, sort_constructors_first\nimport 'package:flutter_test/flutter_test.dart';\n\nvoid main() {\n  test(\n    'find list item and apply math',\n    () {\n      final mockList = <Model>[\n        Model(id: '1', name: 'Cortado', price: 12),\n        Model(id: '2', name: 'Caffe Latte', price: 24),\n        Model(id: '3', name: 'Americano', price: 48),\n        Model(id: '4', name: 'Turkish Coffee', price: 96),\n        Model(id: '5', name: 'Filter Coffee', price: 64),\n        Model(id: '6', name: 'Flat White', price: 128),\n      ];\n\n      final selectItems = [mockList[0], mockList[3]];\n      final result = findAndOperate(\n        mainList: mockList,\n        selectedList: selectItems,\n        operations: Operations.PLUS,\n        value: 40,\n      );\n      print(result);\n    },\n  );\n}\n\nList<Model> findAndOperate({\n  required double value,\n  required Operations operations,\n  required List<Model> mainList,\n  required List<Model> selectedList,\n}) {\n  for (final selectItem in selectedList) {\n    for (final item in mainList) {\n      if (item == selectItem) {\n        final itemIndex = mainList.indexOf(item);\n        switch (operations) {\n          case Operations.PLUS:\n            final changeItem =\n                selectItem.copyWith(price: selectItem.price + value);\n            mainList.removeAt(itemIndex);\n            mainList.insert(itemIndex, changeItem);\n          case Operations.MULTIPLICATION:\n            final changeItem = selectItem.copyWith(\n              price: selectItem.price + (selectItem.price * value),\n            );\n            mainList.removeAt(itemIndex);\n            mainList.insert(itemIndex, changeItem);\n        }\n      }\n    }\n  }\n  return mainList;\n}\n\n// ignore: constant_identifier_names\nenum Operations { PLUS, MULTIPLICATION }\n\n// ignore: one_member_abstracts\n\nclass Model {\n  Model({required this.id, required this.name, required this.price});\n\n  final String id;\n  final String name;\n  final double price;\n\n  Model copyWith({\n    String? id,\n    String? name,\n    double? price,\n  }) {\n    return Model(\n      id: id ?? this.id,\n      name: name ?? this.name,\n      price: price ?? this.price,\n    );\n  }\n\n  @override\n  String toString() => 'MockModel(id: $id, name: $name, price: $price)';\n\n  @override\n  bool operator ==(covariant Model other) {\n    if (identical(this, other)) return true;\n\n    return other.id == id && other.name == name && other.price == price;\n  }\n\n  @override\n  int get hashCode => id.hashCode ^ name.hashCode ^ price.hashCode;\n}\n"
        ]
    },
    {
        "titulo": "Flutter - dyld: lazy symbol binding failed: Symbol not found: _os_log_create",
        "score": 1,
        "views": 30,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "flutter-dependencies",
            "flutter-macos"
        ],
        "link": "https://stackoverflow.com/questions/79329415/flutter-dyld-lazy-symbol-binding-failed-symbol-not-found-os-log-create",
        "conteudo_html": "<p>I am setting up my Macbook Air (Intel Processor) with OS X Capitan for Flutter. All the following tools are installed and working fine if I user <code>--version</code> command to test:</p>\n<ol>\n<li>brew</li>\n<li>ruby</li>\n<li>cocoapods</li>\n<li>xcode</li>\n</ol>\n<p>After extracting Flutter to the development folder as mentioned <a href=\"https://docs.flutter.dev/get-started/install/macos/mobile-ios\" rel=\"nofollow noreferrer\">here</a>, if I run the <code>flutter --version</code> command, I get the following error:</p>\n<pre><code>dyld: lazy symbol binding failed: Symbol not found: _os_log_create\nReferenced from: /Users/jhonny/development/flutter/bin/cache/dart-sdk/bin/dart\nExpected in: /usr/lib/libSystem.B.dylib\ndyld: Symbol not found: _os_log_create\nReferenced from: /Users/jhonny/development/flutter/bin/cache/dart-sdk/bin/dart\nExpected in: /usr/lib/libSystem.B.dylib\nzsh: trace trap  flutter --version\n</code></pre>\n<p>What can be the issue? I am using the Mac OS for the first time. Thanks!</p>\n",
        "codigo": [
            "--version",
            "flutter --version",
            "dyld: lazy symbol binding failed: Symbol not found: _os_log_create\nReferenced from: /Users/jhonny/development/flutter/bin/cache/dart-sdk/bin/dart\nExpected in: /usr/lib/libSystem.B.dylib\ndyld: Symbol not found: _os_log_create\nReferenced from: /Users/jhonny/development/flutter/bin/cache/dart-sdk/bin/dart\nExpected in: /usr/lib/libSystem.B.dylib\nzsh: trace trap  flutter --version\n"
        ]
    },
    {
        "titulo": "Dart: multiplying string Error: In constant expressions, operands of this operator must be of type &#39;num&#39;",
        "score": 0,
        "views": 39,
        "respostas": 1,
        "tags": [
            "dart",
            "variables",
            "constants",
            "final"
        ],
        "link": "https://stackoverflow.com/questions/79323725/dart-multiplying-string-error-in-constant-expressions-operands-of-this-operat",
        "conteudo_html": "<p>I was attempting to test a simple piece of code involving multiplying the constant name by 20\nhowever I noticed I had issues when I entered this code with constants:</p>\n<blockquote>\n<pre><code>void test() {  \nconst String name = &quot;Foo&quot;;\nconst String nameTimes20 = name * 20;   \nprint(nameTimes20); \n}\n</code></pre>\n</blockquote>\n<p>In comparison to this code with final variables:</p>\n<blockquote>\n<pre><code>final String name = &quot;Foo&quot;;   \nfinal String nameTimes20 = name * 20;`\n</code></pre>\n</blockquote>\n<p>I was curious as to why I need to use a final variable rather than a const as all the information needed for the operation is available at compile time.</p>\n",
        "codigo": [
            "void test() {  \nconst String name = \"Foo\";\nconst String nameTimes20 = name * 20;   \nprint(nameTimes20); \n}\n",
            "final String name = \"Foo\";   \nfinal String nameTimes20 = name * 20;`\n"
        ]
    },
    {
        "titulo": "CMake Error: CMAKE_CXX_COMPILER not set when building Flutter app on Ubuntu",
        "score": 2,
        "views": 150,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "ubuntu",
            "sdk",
            "clang++"
        ],
        "link": "https://stackoverflow.com/questions/79321002/cmake-error-cmake-cxx-compiler-not-set-when-building-flutter-app-on-ubuntu",
        "conteudo_html": "<p>Was working on a namer_app example based on the video below.  I created a new project to check as the dart sdk wasn't being referenced in the initial app:</p>\n<pre><code>import 'package:integration_test/integration_test_driver.dart' as driver;  target of uri doesn't exist\n</code></pre>\n<p>That seemed to work, but the flutter sdk is still pointing to the first project (trying to follow <a href=\"https://www.youtube.com/watch?v=VPvVD8t02U8&amp;t=15605s\" rel=\"nofollow noreferrer\">this video</a>)</p>\n<p>Ubuntu 24.04.1\nx64 6.8.1-51-generic\nVS Code - 1.96.1\nChrome - Version 131.0.6778.204 (Official Build) (64-bit)</p>\n<p>VSCode Extensions:</p>\n<ul>\n<li>ADB Interface for VSCode</li>\n<li>bloc</li>\n<li>Colonize</li>\n<li>Dart</li>\n<li>Error Lens</li>\n<li>Flutter</li>\n<li>Flutter Widget Snippets</li>\n<li>Gitlens - Git supercharged</li>\n<li>Java</li>\n<li>Tokyo Night</li>\n</ul>\n<pre><code>Android Studio Ladybug | 2024.2.1 Patch 3\nBuild #AI-242.23339.11.2421.12700392, built on November 22, 2024\nRuntime version: 21.0.3+-12282718-b509.11 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nToolkit: sun.awt.X11.XToolkit\nLinux 6.8.0-51-generic\nGC: G1 Young Generation, G1 Concurrent GC, G1 Old Generation\nMemory: 4002M\nCores: 24\nRegistry:\n  ide.experimental.ui=true\n  i18n.locale=\nNon-Bundled Plugins:\n  Dart (242.24931)\n  de.cusp.cu.curNotesMDs (1.0.0)\n  io.flutter (83.0.3)\nCurrent Desktop: ubuntu:GNOME\n</code></pre>\n<p>in .bashrc</p>\n<pre><code>export PATH=&quot;$PATH:/snap/bin/flutter/bin&quot;\nexport PATH=&quot;$PATH:/usr/bin/java&quot;\nPATH=$PATH:/home/[user]/Projects/namer_app/lib/flutter/bin\n#export JAVA_HOME=/usr/lib/jvm/java-1.21.0-openjdk-amd64\n#export JAVA_HOME=/usr/lib/jvm/java-21-openjdk-amd64\nexport JAVA_HOME=/usr/bin/java\nexport ANDROID_SDK_ROOT=/home/[user]/Android/Sdk\n</code></pre>\n<p>clang version</p>\n<pre><code>clang -v\nUbuntu clang version 18.1.3 (1ubuntu1)\nTarget: x86_64-pc-linux-gnu\nThread model: posix\nInstalledDir: /usr/bin\nFound candidate GCC installation: /usr/bin/../lib/gcc/x86_64-linux-gnu/13\nSelected GCC installation: /usr/bin/../lib/gcc/x86_64-linux-gnu/13\nCandidate multilib: .;@m64\nSelected multilib: .;@m64\n</code></pre>\n<p>in VSCode, flutter doctor response</p>\n<pre><code>[flutter] flutter doctor -v\n[!] Flutter (Channel stable, 3.24.3, on Freedesktop SDK 24.08 (Flatpak runtime) 6.8.0-51-generic, locale en_US.UTF-8)\n    • Flutter version 3.24.3 on channel stable at /home/[user]/Projects/namer_app/lib/flutter\n    ! The flutter binary is not on your path. Consider adding /home/[user]/Projects/namer_app/lib/flutter/bin to your path.\n    ! The dart binary is not on your path. Consider adding /home/[user]/Projects/namer_app/lib/flutter/bin to your path.\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 2663184aa7 (4 months ago), 2024-09-11 16:27:48 -0500\n    • Engine revision 36335019a8\n    • Dart version 3.5.3\n    • DevTools version 2.37.3\n    • If those were intentional, you can disregard the above warnings; however it is recommended to use &quot;git&quot; directly to perform update checks and upgrades.\n\n[!] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /home/brock/Android/Sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /usr/lib/jvm/java-1.21.0-openjdk-amd64/bin/java\n    ✗ Cannot execute /usr/lib/jvm/java-1.21.0-openjdk-amd64/bin/java to determine the version\n\n[✗] Chrome - develop for the web (Cannot find Chrome executable at google-chrome)\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n\n[✗] Linux toolchain - develop for Linux desktop\n    ✗ clang++ is required for Linux development.\n      It is likely available from your distribution (e.g.: apt install clang), or can be downloaded from https://releases.llvm.org/\n    • cmake version 3.31.2\n    • ninja version 1.12.1\n    • pkg-config version 2.3.0\n\n[!] Android Studio (not installed)\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\n      (or visit https://flutter.dev/to/linux-android-setup for detailed instructions).\n\n[✓] VS Code (version 1.96.2)\n    • VS Code at /snap/code/current/usr/share/code\n    • Flutter extension version 3.96.0\n\n[✓] Connected device (1 available)\n    • Linux (desktop) • linux • linux-x64 • Freedesktop SDK 24.08 (Flatpak runtime) 6.8.0-51-generic\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 5 categories.\nexit code 0\n</code></pre>\n<p>Android Studio, Chrome and clang are installed (versions above), so I know flutter doctor isn't thorough when checking.</p>\n<p>I was having java issues, but now clang is causing a issue when debugging.</p>\n<pre><code>Downloading linux-x64-debug/linux-x64-flutter-gtk tools...\nDownloading linux-x64-profile/linux-x64-flutter-gtk tools...\nDownloading linux-x64-release/linux-x64-flutter-gtk tools...\nLaunching lib/main.dart on Linux in debug mode...\nCMake Error at /usr/share/cmake-3.31/Modules/CMakeDetermineCXXCompiler.cmake:48 (message):\n  Could not find compiler set in environment variable CXX:\n\n  clang++.\n\nCall Stack (most recent call first):\n  CMakeLists.txt:3 (project)\n2\n\nCMake Error: CMAKE_CXX_COMPILER not set, after EnableLanguage\nError: Unable to generate build files\n\nExited (1).\n</code></pre>\n<p>The original namer app still has the uri errors when I try to debug it, along with the clang cmake error.</p>\n<p>Was trying some suggestions here</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44909653/visual-studio-code-target-of-uri-doesnt-exist-packageflutter-material-dart\">dart uri</a></li>\n<li>tried <code>sudo apt install default-jre</code></li>\n<li>changed the JAVA_HOME to the last one in .bashrc</li>\n<li>restarted VSCode a few times to reload .bashrc / PATH variable</li>\n<li>just tried adding <code>export CXX=clang++</code> to .bashrc, didn't resolve the clang issue</li>\n</ul>\n<p>Hoping to get this working, it was when I initially started going through the video (a few months ago), but updates broke the java/dart sdk reference.</p>\n",
        "codigo": [
            "import 'package:integration_test/integration_test_driver.dart' as driver;  target of uri doesn't exist\n",
            "Android Studio Ladybug | 2024.2.1 Patch 3\nBuild #AI-242.23339.11.2421.12700392, built on November 22, 2024\nRuntime version: 21.0.3+-12282718-b509.11 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nToolkit: sun.awt.X11.XToolkit\nLinux 6.8.0-51-generic\nGC: G1 Young Generation, G1 Concurrent GC, G1 Old Generation\nMemory: 4002M\nCores: 24\nRegistry:\n  ide.experimental.ui=true\n  i18n.locale=\nNon-Bundled Plugins:\n  Dart (242.24931)\n  de.cusp.cu.curNotesMDs (1.0.0)\n  io.flutter (83.0.3)\nCurrent Desktop: ubuntu:GNOME\n",
            "export PATH=\"$PATH:/snap/bin/flutter/bin\"\nexport PATH=\"$PATH:/usr/bin/java\"\nPATH=$PATH:/home/[user]/Projects/namer_app/lib/flutter/bin\n#export JAVA_HOME=/usr/lib/jvm/java-1.21.0-openjdk-amd64\n#export JAVA_HOME=/usr/lib/jvm/java-21-openjdk-amd64\nexport JAVA_HOME=/usr/bin/java\nexport ANDROID_SDK_ROOT=/home/[user]/Android/Sdk\n",
            "clang -v\nUbuntu clang version 18.1.3 (1ubuntu1)\nTarget: x86_64-pc-linux-gnu\nThread model: posix\nInstalledDir: /usr/bin\nFound candidate GCC installation: /usr/bin/../lib/gcc/x86_64-linux-gnu/13\nSelected GCC installation: /usr/bin/../lib/gcc/x86_64-linux-gnu/13\nCandidate multilib: .;@m64\nSelected multilib: .;@m64\n",
            "[flutter] flutter doctor -v\n[!] Flutter (Channel stable, 3.24.3, on Freedesktop SDK 24.08 (Flatpak runtime) 6.8.0-51-generic, locale en_US.UTF-8)\n    • Flutter version 3.24.3 on channel stable at /home/[user]/Projects/namer_app/lib/flutter\n    ! The flutter binary is not on your path. Consider adding /home/[user]/Projects/namer_app/lib/flutter/bin to your path.\n    ! The dart binary is not on your path. Consider adding /home/[user]/Projects/namer_app/lib/flutter/bin to your path.\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 2663184aa7 (4 months ago), 2024-09-11 16:27:48 -0500\n    • Engine revision 36335019a8\n    • Dart version 3.5.3\n    • DevTools version 2.37.3\n    • If those were intentional, you can disregard the above warnings; however it is recommended to use \"git\" directly to perform update checks and upgrades.\n\n[!] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /home/brock/Android/Sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /usr/lib/jvm/java-1.21.0-openjdk-amd64/bin/java\n    ✗ Cannot execute /usr/lib/jvm/java-1.21.0-openjdk-amd64/bin/java to determine the version\n\n[✗] Chrome - develop for the web (Cannot find Chrome executable at google-chrome)\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n\n[✗] Linux toolchain - develop for Linux desktop\n    ✗ clang++ is required for Linux development.\n      It is likely available from your distribution (e.g.: apt install clang), or can be downloaded from https://releases.llvm.org/\n    • cmake version 3.31.2\n    • ninja version 1.12.1\n    • pkg-config version 2.3.0\n\n[!] Android Studio (not installed)\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\n      (or visit https://flutter.dev/to/linux-android-setup for detailed instructions).\n\n[✓] VS Code (version 1.96.2)\n    • VS Code at /snap/code/current/usr/share/code\n    • Flutter extension version 3.96.0\n\n[✓] Connected device (1 available)\n    • Linux (desktop) • linux • linux-x64 • Freedesktop SDK 24.08 (Flatpak runtime) 6.8.0-51-generic\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 5 categories.\nexit code 0\n",
            "Downloading linux-x64-debug/linux-x64-flutter-gtk tools...\nDownloading linux-x64-profile/linux-x64-flutter-gtk tools...\nDownloading linux-x64-release/linux-x64-flutter-gtk tools...\nLaunching lib/main.dart on Linux in debug mode...\nCMake Error at /usr/share/cmake-3.31/Modules/CMakeDetermineCXXCompiler.cmake:48 (message):\n  Could not find compiler set in environment variable CXX:\n\n  clang++.\n\nCall Stack (most recent call first):\n  CMakeLists.txt:3 (project)\n2\n\nCMake Error: CMAKE_CXX_COMPILER not set, after EnableLanguage\nError: Unable to generate build files\n\nExited (1).\n",
            "sudo apt install default-jre",
            "export CXX=clang++"
        ]
    },
    {
        "titulo": "Unable to trigger listeners in bloc event integration test",
        "score": 1,
        "views": 20,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "bloc"
        ],
        "link": "https://stackoverflow.com/questions/79316661/unable-to-trigger-listeners-in-bloc-event-integration-test",
        "conteudo_html": "<p>I'm doing an integration test, where I want to trigger an event change after a submit button. below is my setup for the test as well as the actual test, I've tried multiple ways and positions to set the setEntriesSavedSate, I'm also using a streamcontroller to controll the stream, but the listeners on my widget is never getting called.</p>\n<pre><code>class HabitsBlocFixture {\n  final mockHabitsBloc = MockHabitsBloc();\n  // Create a single stream controller for the bloc\n  final _streamController = StreamController&lt;HabitsNewState&gt;.broadcast();\n\n  void setupCommonMocks() {\n    registerFallbackValue(FakeHabitEntrySave());\n    when(() =&gt; mockHabitsBloc.close()).thenAnswer((_) async =&gt; Future.value());\n    when(() =&gt; mockHabitsBloc.stream).thenAnswer((_) =&gt; _streamController.stream);\n    when(() =&gt; mockHabitsBloc.add(any())).thenAnswer((_) async =&gt; {});\n  }\n\n  void setEntriesSavedState() {\n    final savedState = HabitsNewState(\n      status: HabitStatus.entriesSaved,\n      habitsWithEntries: sampleHabitsWithEntries,\n      error: null,\n    );\n\n    print('Setting up saved state with status: ${savedState.status}');\n    when(() =&gt; mockHabitsBloc.state).thenReturn(savedState);\n    \n    // Add the state to the stream\n    print('Emitting saved state');\n    _streamController.add(savedState);\n    print('State emitted');\n  }\n\n  void dispose() {\n    _streamController.close();\n  }\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>testWidgets('Can select a habit and save entry', (tester) async {\n      await integrationBase.pumpAndSettleApp(tester, isUserLoggedIn: true, isHabitsLoaded: true);\n      integrationBase.habitsBlocFixture.setLoadedState();\n\n      // Tap the add entry button to show dialog\n      await tester.tap(find.byIcon(Icons.add));\n      await tester.pumpAndSettle();\n\n      // Tap on a habit in the CupertinoBottomDialog\n      await tester.tap(\n        find.descendant(\n          of: find.byType(HabitEntryDialogCupertino),\n          matching: find.text('meditation'),\n        ),\n      );\n      await tester.pump();\n\n      // Set the saved state BEFORE tapping Done\n      integrationBase.habitsBlocFixture.setEntriesSavedState();\n\n      // Tap done button and pump just once\n      await tester.tap(find.text('Done'));\n      await tester.pumpAndSettle();\n\n      // Verify success message\n      expect(find.text(&quot;Way to go! You've added a new habit entry.&quot;), findsOneWidget);\n    });\n</code></pre>\n",
        "codigo": [
            "class HabitsBlocFixture {\n  final mockHabitsBloc = MockHabitsBloc();\n  // Create a single stream controller for the bloc\n  final _streamController = StreamController<HabitsNewState>.broadcast();\n\n  void setupCommonMocks() {\n    registerFallbackValue(FakeHabitEntrySave());\n    when(() => mockHabitsBloc.close()).thenAnswer((_) async => Future.value());\n    when(() => mockHabitsBloc.stream).thenAnswer((_) => _streamController.stream);\n    when(() => mockHabitsBloc.add(any())).thenAnswer((_) async => {});\n  }\n\n  void setEntriesSavedState() {\n    final savedState = HabitsNewState(\n      status: HabitStatus.entriesSaved,\n      habitsWithEntries: sampleHabitsWithEntries,\n      error: null,\n    );\n\n    print('Setting up saved state with status: ${savedState.status}');\n    when(() => mockHabitsBloc.state).thenReturn(savedState);\n    \n    // Add the state to the stream\n    print('Emitting saved state');\n    _streamController.add(savedState);\n    print('State emitted');\n  }\n\n  void dispose() {\n    _streamController.close();\n  }\n}\n",
            "testWidgets('Can select a habit and save entry', (tester) async {\n      await integrationBase.pumpAndSettleApp(tester, isUserLoggedIn: true, isHabitsLoaded: true);\n      integrationBase.habitsBlocFixture.setLoadedState();\n\n      // Tap the add entry button to show dialog\n      await tester.tap(find.byIcon(Icons.add));\n      await tester.pumpAndSettle();\n\n      // Tap on a habit in the CupertinoBottomDialog\n      await tester.tap(\n        find.descendant(\n          of: find.byType(HabitEntryDialogCupertino),\n          matching: find.text('meditation'),\n        ),\n      );\n      await tester.pump();\n\n      // Set the saved state BEFORE tapping Done\n      integrationBase.habitsBlocFixture.setEntriesSavedState();\n\n      // Tap done button and pump just once\n      await tester.tap(find.text('Done'));\n      await tester.pumpAndSettle();\n\n      // Verify success message\n      expect(find.text(\"Way to go! You've added a new habit entry.\"), findsOneWidget);\n    });\n"
        ]
    },
    {
        "titulo": "Flutter doctor --&gt; Android toolchain - develop for Android devices (Android SDK version 36.0.0-rc1)",
        "score": 2,
        "views": 1506,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "dart",
            "android-studio"
        ],
        "link": "https://stackoverflow.com/questions/79292000/flutter-doctor-android-toolchain-develop-for-android-devices-android-sdk",
        "conteudo_html": "<p>I’m trying to run Flutter app using Android Studio from scratch. I’m currently using the latest version, 'Ladybug,' and I’ve also tried installing different Java versions. And also i correctly set the path variables in each time. However, I’m unable to identify the exact issue causing the problem.</p>\n<p><a href=\"https://i.sstatic.net/nutnwkQP.png\" rel=\"nofollow noreferrer\">when i run the flutter app the console shows as follow</a></p>\n<pre><code>Launching lib\\main.dart on sdk gphone64 x86 64 in debug mode...\nRunning Gradle task 'assembleDebug'...\nThe syntax of the command is incorrect.\nError: Gradle task assembleDebug failed with exit code 255\n</code></pre>\n<p>When trigger &quot;flutter doctor -v &quot;</p>\n<pre><code>C:\\flutter\\src\\flutter\\bin&gt;flutter doctor -v\n[√] Flutter (Channel stable, 3.27.0, on Microsoft Windows [Version 10.0.26100.2605], locale en-US)\n    • Flutter version 3.27.0 on channel stable at C:\\flutter\\src\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 8495dee1fd (8 days ago), 2024-12-10 14:23:39 -0800\n    • Engine revision 83bacfc525\n    • Dart version 3.6.0\n    • DevTools version 2.40.2\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[!] Android toolchain - develop for Android devices (Android SDK version 36.0.0-rc1)\n    • Android SDK at C:\\Users\\Gayashan Pathirana\\AppData\\Local\\Android\\Sdk\n    • Platform android-31, build-tools 36.0.0-rc1\n    • Java binary at: &lt;C:\\Program Files\\Java\\jdk-17&gt;\\bin\\java\n    X Cannot execute &lt;C:\\Program Files\\Java\\jdk-17&gt;\\bin\\java to determine the version\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.11.3)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.11.35303.130\n    • Windows 10 SDK version 10.0.22621.0\n\n[√] Android Studio (version 2024.2)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.3+-12282718-b509.11)\n\n[√] IntelliJ IDEA Community Edition (version 2022.3)\n    • IntelliJ at C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.2\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n\n[√] VS Code (version 1.96.0)\n    • VS Code at C:\\Users\\Gayashan Pathirana\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.102.0\n\n[√] Connected device (4 available)\n    • RMX2180 (mobile)  • adb-6PMFVGOFA6I74TC6-WDe0Xb._adb-tls-connect._tcp • android-arm64  • Android 11 (API 30)\n    • Windows (desktop) • windows                                           • windows-x64    • Microsoft Windows\n      [Version 10.0.26100.2605]\n    • Chrome (web)      • chrome                                            • web-javascript • Google Chrome\n      131.0.6778.140\n    • Edge (web)        • edge                                              • web-javascript • Microsoft Edge\n      131.0.2903.99\n\n[√] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n</code></pre>\n",
        "codigo": [
            "Launching lib\\main.dart on sdk gphone64 x86 64 in debug mode...\nRunning Gradle task 'assembleDebug'...\nThe syntax of the command is incorrect.\nError: Gradle task assembleDebug failed with exit code 255\n",
            "C:\\flutter\\src\\flutter\\bin>flutter doctor -v\n[√] Flutter (Channel stable, 3.27.0, on Microsoft Windows [Version 10.0.26100.2605], locale en-US)\n    • Flutter version 3.27.0 on channel stable at C:\\flutter\\src\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 8495dee1fd (8 days ago), 2024-12-10 14:23:39 -0800\n    • Engine revision 83bacfc525\n    • Dart version 3.6.0\n    • DevTools version 2.40.2\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[!] Android toolchain - develop for Android devices (Android SDK version 36.0.0-rc1)\n    • Android SDK at C:\\Users\\Gayashan Pathirana\\AppData\\Local\\Android\\Sdk\n    • Platform android-31, build-tools 36.0.0-rc1\n    • Java binary at: <C:\\Program Files\\Java\\jdk-17>\\bin\\java\n    X Cannot execute <C:\\Program Files\\Java\\jdk-17>\\bin\\java to determine the version\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.11.3)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.11.35303.130\n    • Windows 10 SDK version 10.0.22621.0\n\n[√] Android Studio (version 2024.2)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.3+-12282718-b509.11)\n\n[√] IntelliJ IDEA Community Edition (version 2022.3)\n    • IntelliJ at C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.2\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n\n[√] VS Code (version 1.96.0)\n    • VS Code at C:\\Users\\Gayashan Pathirana\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.102.0\n\n[√] Connected device (4 available)\n    • RMX2180 (mobile)  • adb-6PMFVGOFA6I74TC6-WDe0Xb._adb-tls-connect._tcp • android-arm64  • Android 11 (API 30)\n    • Windows (desktop) • windows                                           • windows-x64    • Microsoft Windows\n      [Version 10.0.26100.2605]\n    • Chrome (web)      • chrome                                            • web-javascript • Google Chrome\n      131.0.6778.140\n    • Edge (web)        • edge                                              • web-javascript • Microsoft Edge\n      131.0.2903.99\n\n[√] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n"
        ]
    },
    {
        "titulo": "Waiting for VM Service port to be available",
        "score": 3,
        "views": 625,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "android-studio",
            "android-emulator"
        ],
        "link": "https://stackoverflow.com/questions/79291639/waiting-for-vm-service-port-to-be-available",
        "conteudo_html": "<p>I try to run a default app on my Android Studio on an Android emulator with API 35, but each time i run the fluter run -v command, the app is stuck in the line: <code>Waiting for VM Service port to be available</code>, and if I execute <code>flutter run</code> it is stuck at <code>Built build/app/outputs/flutter-apk/app-debug.apk</code></p>\n<p>The flutter doctor does not show me any problems. Here output from <code>flutter doctor -v</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[✓] Flutter (Channel stable, 3.27.1, on openSUSE Leap 15.6 6.4.0-150600.21-default, locale en_US.UTF-8)\n    • Flutter version 3.27.1 on channel stable at /home/farouk/flutter_android_dev/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 17025dd882 (2 days ago), 2024-12-17 03:23:09 +0900\n    • Engine revision cb4b5fff73\n    • Dart version 3.6.0\n    • DevTools version 2.40.2\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 35.0.0)\n    • Android SDK at /home/farouk/Android/Sdk\n    • Platform android-35, build-tools 35.0.0\n    • Java binary at: /home/farouk/flutter_android_dev/android-studio/jbr/bin/java\n    • Java version OpenJDK Runtime Environment (build 21.0.3+-12282718-b509.11)\n    • All Android licenses accepted.\n\n[✓] Chrome - develop for the web\n    • CHROME_EXECUTABLE = /usr/bin/firefox\n\n[✗] Linux toolchain - develop for Linux desktop\n    ✗ clang++ is required for Linux development.\n      It is likely available from your distribution (e.g.: apt install clang), or can be downloaded from https://releases.llvm.org/\n    ✗ CMake is required for Linux development.\n      It is likely available from your distribution (e.g.: apt install cmake), or can be downloaded from https://cmake.org/download/\n    ✗ ninja is required for Linux development.\n      It is likely available from your distribution (e.g.: apt install ninja-build), or can be downloaded from https://github.com/ninja-build/ninja/releases\n    • pkg-config version 0.29.2\n    ✗ GTK 3.0 development libraries are required for Linux development.\n      They are likely available from your distribution (e.g.: apt install libgtk-3-dev)\n\n[✓] Android Studio (version 2024.2)\n    • Android Studio at /home/farouk/flutter_android_dev/android-studio\n    • Flutter plugin version 83.0.3\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.3+-12282718-b509.11)\n\n[✓] Connected device (3 available)\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 15 (API 35) (emulator)\n    • Linux (desktop)              • linux         • linux-x64      • openSUSE Leap 15.6 6.4.0-150600.21-default\n    • Chrome (web)                 • chrome        • web-javascript • Mozilla Firefox 115.10.0esr\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n</code></pre>\n<p>And here is the <code>flutter run -v</code> output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[  +14 ms] executing: /home/farouk/Android/Sdk/platform-tools/adb -s emulator-5554 shell am start -a android.intent.action.MAIN -c android.intent.category.LAUNCHER -f 0x20000000 --ez enable-dart-profiling true --ez\nenable-checked-mode true --ez verify-entry-points true com.example.untitled/com.example.untitled.MainActivity\n[  +84 ms] Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x20000000 cmp=com.example.untitled/.MainActivity (has extras) }\n[        ] Waiting for VM Service port to be available...\n</code></pre>\n<p>The app is always in white screen with Flutter logo.</p>\n<p>I found many having the same issue but non of their solutions worked for me,the name of the package in the build.gradle is same as the name in manifest.xml and mainActivity</p>\n",
        "codigo": [
            "Waiting for VM Service port to be available",
            "flutter run",
            "Built build/app/outputs/flutter-apk/app-debug.apk",
            "flutter doctor -v",
            "[✓] Flutter (Channel stable, 3.27.1, on openSUSE Leap 15.6 6.4.0-150600.21-default, locale en_US.UTF-8)\n    • Flutter version 3.27.1 on channel stable at /home/farouk/flutter_android_dev/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 17025dd882 (2 days ago), 2024-12-17 03:23:09 +0900\n    • Engine revision cb4b5fff73\n    • Dart version 3.6.0\n    • DevTools version 2.40.2\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 35.0.0)\n    • Android SDK at /home/farouk/Android/Sdk\n    • Platform android-35, build-tools 35.0.0\n    • Java binary at: /home/farouk/flutter_android_dev/android-studio/jbr/bin/java\n    • Java version OpenJDK Runtime Environment (build 21.0.3+-12282718-b509.11)\n    • All Android licenses accepted.\n\n[✓] Chrome - develop for the web\n    • CHROME_EXECUTABLE = /usr/bin/firefox\n\n[✗] Linux toolchain - develop for Linux desktop\n    ✗ clang++ is required for Linux development.\n      It is likely available from your distribution (e.g.: apt install clang), or can be downloaded from https://releases.llvm.org/\n    ✗ CMake is required for Linux development.\n      It is likely available from your distribution (e.g.: apt install cmake), or can be downloaded from https://cmake.org/download/\n    ✗ ninja is required for Linux development.\n      It is likely available from your distribution (e.g.: apt install ninja-build), or can be downloaded from https://github.com/ninja-build/ninja/releases\n    • pkg-config version 0.29.2\n    ✗ GTK 3.0 development libraries are required for Linux development.\n      They are likely available from your distribution (e.g.: apt install libgtk-3-dev)\n\n[✓] Android Studio (version 2024.2)\n    • Android Studio at /home/farouk/flutter_android_dev/android-studio\n    • Flutter plugin version 83.0.3\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.3+-12282718-b509.11)\n\n[✓] Connected device (3 available)\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 15 (API 35) (emulator)\n    • Linux (desktop)              • linux         • linux-x64      • openSUSE Leap 15.6 6.4.0-150600.21-default\n    • Chrome (web)                 • chrome        • web-javascript • Mozilla Firefox 115.10.0esr\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n",
            "flutter run -v",
            "[  +14 ms] executing: /home/farouk/Android/Sdk/platform-tools/adb -s emulator-5554 shell am start -a android.intent.action.MAIN -c android.intent.category.LAUNCHER -f 0x20000000 --ez enable-dart-profiling true --ez\nenable-checked-mode true --ez verify-entry-points true com.example.untitled/com.example.untitled.MainActivity\n[  +84 ms] Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x20000000 cmp=com.example.untitled/.MainActivity (has extras) }\n[        ] Waiting for VM Service port to be available...\n"
        ]
    },
    {
        "titulo": "Flutter: Show messages at the bottom in ListView without using reverse: true",
        "score": 5,
        "views": 106,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-dependencies"
        ],
        "link": "https://stackoverflow.com/questions/79288739/flutter-show-messages-at-the-bottom-in-listview-without-using-reverse-true",
        "conteudo_html": "<p>Issue Description: I am working on a chat application in Flutter where messages are being displayed using <code>ListView.separated</code>. I want the messages to appear at the bottom of the screen (like a typical chat app). I cannot use the built-in <code>reverse: true</code> property because it causes issues like rebuilding my audio messages unnecessarily.</p>\n<p>Currently, my code looks like this:</p>\n<pre><code>ListView.separated(\n  controller: controller,\n  cacheExtent: 1000,\n  itemCount: state.messages.length,\n  separatorBuilder: (context, index) {\n    if (index == state.messages.length - 1) {\n      return const SizedBox.shrink();\n    }\n\n    final currentMessage = state.messages[index];\n    final nextMessage = state.messages[index + 1];\n\n    final currentDate = currentMessage.timestamp.toLocal();\n    final nextDate = nextMessage.timestamp.toLocal();\n\n    final currentFormattedDate = _formatDate(currentDate);\n    final nextFormattedDate = _formatDate(nextDate);\n\n    return currentFormattedDate != nextFormattedDate\n        ? Center(\n            child: Padding(\n              padding: const EdgeInsets.symmetric(vertical: 8.0),\n              child: Text(\n                currentFormattedDate,\n                style: const TextStyle(color: Colors.grey),\n              ),\n            ),\n          )\n        : const SizedBox.shrink();\n  },\n  itemBuilder: (context, index) {\n    final reverseIndex = state.messages.length - 1 - index;\n    final message = state.messages[reverseIndex];\n    final isMe = DI.find&lt;Tinode&gt;().isMe(message.from);\n    final originalMessageOfReply = state.messages.firstWhereOrNull(\n        (m) =&gt; m.seq == message.replySeq);\n\n    return GestureDetector(\n      onTap: () {\n        if (state.selectedMessageIds.isNotEmpty &amp;&amp; message.seq != null) {\n          context.read&lt;ChatRoomBloc&gt;().add(ToggleMessageSelection(message.seq!));\n        }\n      },\n      onLongPress: () {\n        _openOptionsOverlay(context, chatMessage: message, state: state);\n      },\n      child: Container(\n        color: state.selectedMessageIds.contains(message.seq)\n            ? Colors.blue.withOpacity(0.2)\n            : Colors.transparent,\n        child: MessageBubble(\n          message: message,\n          isMe: isMe,\n          receiver: widget.receiverName,\n          replyMessage: originalMessageOfReply,\n        ),\n      ),\n    );\n  },\n)\n\n\n</code></pre>\n<p>What I Have Tried:</p>\n<p>I’ve tried using <code>reverse: true,</code> and while it works, it rebuilds some components like audio messages, which causes performance issues.\nI tried manually reversing the list, but that didn’t position the messages at the bottom.</p>\n<p><code>Expected Outcome:</code> Messages should be displayed from the bottom of the screen upwards without using reverse: true and without causing unnecessary rebuilds.</p>\n<p><code>Question:</code> How can I achieve this behavior efficiently? Is there a better way to stick messages to the bottom without reversing the ListView?</p>\n",
        "codigo": [
            "ListView.separated",
            "reverse: true",
            "ListView.separated(\n  controller: controller,\n  cacheExtent: 1000,\n  itemCount: state.messages.length,\n  separatorBuilder: (context, index) {\n    if (index == state.messages.length - 1) {\n      return const SizedBox.shrink();\n    }\n\n    final currentMessage = state.messages[index];\n    final nextMessage = state.messages[index + 1];\n\n    final currentDate = currentMessage.timestamp.toLocal();\n    final nextDate = nextMessage.timestamp.toLocal();\n\n    final currentFormattedDate = _formatDate(currentDate);\n    final nextFormattedDate = _formatDate(nextDate);\n\n    return currentFormattedDate != nextFormattedDate\n        ? Center(\n            child: Padding(\n              padding: const EdgeInsets.symmetric(vertical: 8.0),\n              child: Text(\n                currentFormattedDate,\n                style: const TextStyle(color: Colors.grey),\n              ),\n            ),\n          )\n        : const SizedBox.shrink();\n  },\n  itemBuilder: (context, index) {\n    final reverseIndex = state.messages.length - 1 - index;\n    final message = state.messages[reverseIndex];\n    final isMe = DI.find<Tinode>().isMe(message.from);\n    final originalMessageOfReply = state.messages.firstWhereOrNull(\n        (m) => m.seq == message.replySeq);\n\n    return GestureDetector(\n      onTap: () {\n        if (state.selectedMessageIds.isNotEmpty && message.seq != null) {\n          context.read<ChatRoomBloc>().add(ToggleMessageSelection(message.seq!));\n        }\n      },\n      onLongPress: () {\n        _openOptionsOverlay(context, chatMessage: message, state: state);\n      },\n      child: Container(\n        color: state.selectedMessageIds.contains(message.seq)\n            ? Colors.blue.withOpacity(0.2)\n            : Colors.transparent,\n        child: MessageBubble(\n          message: message,\n          isMe: isMe,\n          receiver: widget.receiverName,\n          replyMessage: originalMessageOfReply,\n        ),\n      ),\n    );\n  },\n)\n\n\n",
            "reverse: true,",
            "Expected Outcome:",
            "Question:"
        ]
    },
    {
        "titulo": "Does Map class in Dart really not have a retainWhere() method like List does?",
        "score": 0,
        "views": 44,
        "respostas": 2,
        "tags": [
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79260414/does-map-class-in-dart-really-not-have-a-retainwhere-method-like-list-does",
        "conteudo_html": "<p>It appears that while <code>List</code> and <code>Set</code> in Dart have both a <code>removeWhere()</code> method and a <code>retainWhere()</code> method (which just inverts the filter lambda function but is more readable), <code>Map</code> only seems to have a <code>removeWhere()</code> method. Is this intended or a weird oversight? I'm really confused by this.</p>\n<p>Of course inverting the filter myself isn't really a problem or even writing my own extension to add the method myself, I can't seem to wrap my head around why those classes would have a mismatch like that.</p>\n<p>Edit:</p>\n<p>Here's the extension I wrote if anyone else wants to use it:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>extension MapExtension&lt;K, V&gt; on Map&lt;K, V&gt; {\n  void retainWhere(bool Function(K key, V value) test) {\n    removeWhere((key, value) =&gt; !test(key, value));\n  }\n}\n</code></pre>\n",
        "codigo": [
            "List",
            "Set",
            "removeWhere()",
            "retainWhere()",
            "Map",
            "removeWhere()",
            "extension MapExtension<K, V> on Map<K, V> {\n  void retainWhere(bool Function(K key, V value) test) {\n    removeWhere((key, value) => !test(key, value));\n  }\n}\n"
        ]
    },
    {
        "titulo": "Cannot Build APK in Flutter Project - Error: Execution failed for task &#39;:connectivity:verifyReleaseResources&#39;",
        "score": 1,
        "views": 35,
        "respostas": 0,
        "tags": [
            "java",
            "android",
            "flutter",
            "dart",
            "gradle"
        ],
        "link": "https://stackoverflow.com/questions/79258118/cannot-build-apk-in-flutter-project-error-execution-failed-for-task-connect",
        "conteudo_html": "<p>I’m working on a Flutter project, and I’m encountering the following error when trying to build an APK:</p>\n<pre><code>* What went wrong:\nExecution failed for task ':connectivity:verifyReleaseResources'.\n&gt; A failure occurred while executing com.android.build.gradle.tasks.VerifyLibraryResourcesTask$Action\n   &gt; Android resource linking failed\n     ERROR: /Users/***/Projects/***/build/connectivity/intermediates/merged_res/release/values/values.xml:194: AAPT: error: resource android:attr/lStar not found.\n\n\\[✓\\] Flutter (Channel stable, 3.24.4, on macOS 14.7.1 23H222 darwin-arm64, locale tr-TR)\n• Flutter version 3.24.4 on channel stable at /Users/\\*\\*\\*/Development/flutter\n• Upstream repository https://github.com/flutter/flutter.git\n• Framework revision 603104015d (6 weeks ago), 2024-10-24 08:01:25 -0700\n• Engine revision db49896cf2\n• Dart version 3.5.4\n• DevTools version 2.37.3\n\n\\[✓\\] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n• Android SDK at /Users/\\*\\*\\*/Library/Android/sdk\n• Platform android-34, build-tools 34.0.0\n• Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n• Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b829.9-10027231)\n• All Android licenses accepted.\n\n\\[✓\\] Xcode - develop for iOS and macOS (Xcode 16.1)\n• Xcode at /Applications/Xcode.app/Contents/Developer\n• Build 16B40\n• CocoaPods version 1.16.2\n\n\\[✓\\] Chrome - develop for the web\n• Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n\\[✓\\] Android Studio (version 2022.3)\n• Android Studio at /Applications/Android Studio.app/Contents\n• Flutter plugin can be installed from:\n🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n• Dart plugin can be installed from:\n🔨 https://plugins.jetbrains.com/plugin/6351-dart\n• Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b829.9-10027231)\n\n\\[✓\\] VS Code (version 1.95.2)\n• VS Code at /Applications/Visual Studio Code.app/Contents\n• Flutter extension version 3.102.0\n</code></pre>\n<p>I tried upgrading the Flutter SDK to the latest version and also updated the connectivity package in pubspec.yaml. Additionally, I cleaned the project using flutter clean and rebuilt it, but the error persisted. I expected the build process to complete successfully and generate an APK, but it failed with the same error.</p>\n",
        "codigo": [
            "* What went wrong:\nExecution failed for task ':connectivity:verifyReleaseResources'.\n> A failure occurred while executing com.android.build.gradle.tasks.VerifyLibraryResourcesTask$Action\n   > Android resource linking failed\n     ERROR: /Users/***/Projects/***/build/connectivity/intermediates/merged_res/release/values/values.xml:194: AAPT: error: resource android:attr/lStar not found.\n\n\\[✓\\] Flutter (Channel stable, 3.24.4, on macOS 14.7.1 23H222 darwin-arm64, locale tr-TR)\n• Flutter version 3.24.4 on channel stable at /Users/\\*\\*\\*/Development/flutter\n• Upstream repository https://github.com/flutter/flutter.git\n• Framework revision 603104015d (6 weeks ago), 2024-10-24 08:01:25 -0700\n• Engine revision db49896cf2\n• Dart version 3.5.4\n• DevTools version 2.37.3\n\n\\[✓\\] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n• Android SDK at /Users/\\*\\*\\*/Library/Android/sdk\n• Platform android-34, build-tools 34.0.0\n• Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n• Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b829.9-10027231)\n• All Android licenses accepted.\n\n\\[✓\\] Xcode - develop for iOS and macOS (Xcode 16.1)\n• Xcode at /Applications/Xcode.app/Contents/Developer\n• Build 16B40\n• CocoaPods version 1.16.2\n\n\\[✓\\] Chrome - develop for the web\n• Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n\\[✓\\] Android Studio (version 2022.3)\n• Android Studio at /Applications/Android Studio.app/Contents\n• Flutter plugin can be installed from:\n🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n• Dart plugin can be installed from:\n🔨 https://plugins.jetbrains.com/plugin/6351-dart\n• Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b829.9-10027231)\n\n\\[✓\\] VS Code (version 1.95.2)\n• VS Code at /Applications/Visual Studio Code.app/Contents\n• Flutter extension version 3.102.0\n"
        ]
    },
    {
        "titulo": "App Crashes in Android and when run then very slow",
        "score": 1,
        "views": 59,
        "respostas": 0,
        "tags": [
            "android",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79253663/app-crashes-in-android-and-when-run-then-very-slow",
        "conteudo_html": "<p>When I run my Flutter app on an Android device, the following message appears in the debug console. After that, the app runs, but it is very slow and hangs on my Android device, while it runs perfectly on iOS.</p>\n<pre><code>e: /Users/arleven/.gradle/caches/transforms-3/975288a29268a16cfdce3ed59e808537/transformed/fragment-1.7.1-api.jar!/META-INF/fragment_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/36a29fd5c87a50dba4761ccafb543fa9/transformed/jetified-activity-1.8.1-api.jar!/META-INF/activity_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/bc9b90e24cb2aed3f5a2c3a815096cbd/transformed/jetified-lifecycle-livedata-core-ktx-2.7.0-api.jar!/META-INF/lifecycle-livedata-core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/3e6ca49c8adc65a57dbf049a365c1b7c/transformed/lifecycle-livedata-2.7.0-api.jar!/META-INF/lifecycle-livedata_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/f908b93b95c727abdd764404408d2ac3/transformed/lifecycle-viewmodel-2.7.0-api.jar!/META-INF/lifecycle-viewmodel_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/4e20242732cfa952e26fc62f28c98523/transformed/lifecycle-livedata-core-2.7.0-api.jar!/META-INF/lifecycle-livedata-core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/1c0eb85853973087f70548d23acccadf/transformed/jetified-lifecycle-viewmodel-savedstate-2.7.0-api.jar!/META-INF/lifecycle-viewmodel-savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/6c8242a35b839924004f7bf3943601ad/transformed/jetified-core-ktx-1.13.1-api.jar!/META-INF/core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/37785ff6758f9de1990f99562d346a1a/transformed/core-1.13.1-api.jar!/META-INF/core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/f6bdbb684de0f80f33cf500644e13ab3/transformed/lifecycle-runtime-2.7.0-api.jar!/META-INF/lifecycle-runtime_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/b0cf7e8a2ce12047d9e3085e9e36637e/transformed/jetified-lifecycle-process-2.7.0-api.jar!/META-INF/lifecycle-process_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/modules-2/files-2.1/androidx.lifecycle/lifecycle-common/2.7.0/85334205d65cca70ed0109c3acbd29e22a2d9cb1/lifecycle-common-2.7.0.jar!/META-INF/lifecycle-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/66b5b2ad32773629fc18c7501b5928cf/transformed/jetified-savedstate-1.2.1-api.jar!/META-INF/savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/cbe8d9cf2abbbd08078e6b40bb00a72d/transformed/jetified-window-1.2.0-api.jar!/META-INF/window_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/419ec37ea4f43936258003227a80bafe/transformed/jetified-window-java-1.2.0-api.jar!/META-INF/window-java_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/90a8787c91fbe2318fe1402b356fbb9b/transformed/jetified-kotlinx-coroutines-core-jvm-1.7.1.jar!/META-INF/kotlinx-coroutines-core.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/a4ed5e28ec25a85d910de0787be36f95/transformed/jetified-kotlinx-coroutines-android-1.7.1.jar!/META-INF/kotlinx-coroutines-android.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/08c0c3be0d217c354889f680b09d9d84/transformed/jetified-kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/08c0c3be0d217c354889f680b09d9d84/transformed/jetified-kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/08c0c3be0d217c354889f680b09d9d84/transformed/jetified-kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/e998f235f4576cf96b2e7b37d69598f5/transformed/jetified-kotlin-stdlib-common-1.8.22.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n</code></pre>\n<p>I tried changing the kotlin versions but that did not work\nthis is my build.gradle</p>\n<pre><code>buildscript {\n     ext.kotlin_version = &quot;1.8.0&quot;\n   repositories {\n    google()\n    mavenCentral()\n    maven { url 'https://plugins.gradle.org/m2/' }\n}\n    dependencies {\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n\nplugins {\n    id &quot;com.android.application&quot;\n    id 'kotlin-android'\n    id &quot;dev.flutter.flutter-gradle-plugin&quot;\n}\n\nandroid {\n    namespace = &quot;com.example.vezigo&quot;\n    compileSdk = 34\n    ndkVersion = flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = &quot;1.8&quot;\n    }\n\n    defaultConfig {\n        applicationId = &quot;com.example.vezigo&quot;\n        minSdk = 21\n        targetSdk = 34\n        versionCode = flutter.versionCode\n        versionName = flutter.versionName\n    }\n\n    buildTypes {\n        release {\n            signingConfig = signingConfigs.debug\n            minifyEnabled false\n            shrinkResources false\n        }\n    }\n\n    viewBinding {\n        enabled = true\n    }\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.22&quot;\n    \n}\nconfigurations.all {\n    resolutionStrategy.eachDependency { details -&gt;\n        if (details.requested.group == 'org.jetbrains.kotlin') {\n            details.useVersion &quot;1.8.0&quot;\n        }\n    }\n}\n\n\nflutter {\n    source = &quot;../..&quot;\n}\n\n</code></pre>\n<p>It is working fine on iOS but not on Android. Please provide a solution to fix this.</p>\n",
        "codigo": [
            "e: /Users/arleven/.gradle/caches/transforms-3/975288a29268a16cfdce3ed59e808537/transformed/fragment-1.7.1-api.jar!/META-INF/fragment_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/36a29fd5c87a50dba4761ccafb543fa9/transformed/jetified-activity-1.8.1-api.jar!/META-INF/activity_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/bc9b90e24cb2aed3f5a2c3a815096cbd/transformed/jetified-lifecycle-livedata-core-ktx-2.7.0-api.jar!/META-INF/lifecycle-livedata-core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/3e6ca49c8adc65a57dbf049a365c1b7c/transformed/lifecycle-livedata-2.7.0-api.jar!/META-INF/lifecycle-livedata_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/f908b93b95c727abdd764404408d2ac3/transformed/lifecycle-viewmodel-2.7.0-api.jar!/META-INF/lifecycle-viewmodel_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/4e20242732cfa952e26fc62f28c98523/transformed/lifecycle-livedata-core-2.7.0-api.jar!/META-INF/lifecycle-livedata-core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/1c0eb85853973087f70548d23acccadf/transformed/jetified-lifecycle-viewmodel-savedstate-2.7.0-api.jar!/META-INF/lifecycle-viewmodel-savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/6c8242a35b839924004f7bf3943601ad/transformed/jetified-core-ktx-1.13.1-api.jar!/META-INF/core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/37785ff6758f9de1990f99562d346a1a/transformed/core-1.13.1-api.jar!/META-INF/core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/f6bdbb684de0f80f33cf500644e13ab3/transformed/lifecycle-runtime-2.7.0-api.jar!/META-INF/lifecycle-runtime_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/b0cf7e8a2ce12047d9e3085e9e36637e/transformed/jetified-lifecycle-process-2.7.0-api.jar!/META-INF/lifecycle-process_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/modules-2/files-2.1/androidx.lifecycle/lifecycle-common/2.7.0/85334205d65cca70ed0109c3acbd29e22a2d9cb1/lifecycle-common-2.7.0.jar!/META-INF/lifecycle-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/66b5b2ad32773629fc18c7501b5928cf/transformed/jetified-savedstate-1.2.1-api.jar!/META-INF/savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/cbe8d9cf2abbbd08078e6b40bb00a72d/transformed/jetified-window-1.2.0-api.jar!/META-INF/window_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/419ec37ea4f43936258003227a80bafe/transformed/jetified-window-java-1.2.0-api.jar!/META-INF/window-java_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/90a8787c91fbe2318fe1402b356fbb9b/transformed/jetified-kotlinx-coroutines-core-jvm-1.7.1.jar!/META-INF/kotlinx-coroutines-core.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/a4ed5e28ec25a85d910de0787be36f95/transformed/jetified-kotlinx-coroutines-android-1.7.1.jar!/META-INF/kotlinx-coroutines-android.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/08c0c3be0d217c354889f680b09d9d84/transformed/jetified-kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/08c0c3be0d217c354889f680b09d9d84/transformed/jetified-kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/08c0c3be0d217c354889f680b09d9d84/transformed/jetified-kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: /Users/arleven/.gradle/caches/transforms-3/e998f235f4576cf96b2e7b37d69598f5/transformed/jetified-kotlin-stdlib-common-1.8.22.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n",
            "buildscript {\n     ext.kotlin_version = \"1.8.0\"\n   repositories {\n    google()\n    mavenCentral()\n    maven { url 'https://plugins.gradle.org/m2/' }\n}\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nplugins {\n    id \"com.android.application\"\n    id 'kotlin-android'\n    id \"dev.flutter.flutter-gradle-plugin\"\n}\n\nandroid {\n    namespace = \"com.example.vezigo\"\n    compileSdk = 34\n    ndkVersion = flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n\n    defaultConfig {\n        applicationId = \"com.example.vezigo\"\n        minSdk = 21\n        targetSdk = 34\n        versionCode = flutter.versionCode\n        versionName = flutter.versionName\n    }\n\n    buildTypes {\n        release {\n            signingConfig = signingConfigs.debug\n            minifyEnabled false\n            shrinkResources false\n        }\n    }\n\n    viewBinding {\n        enabled = true\n    }\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.22\"\n    \n}\nconfigurations.all {\n    resolutionStrategy.eachDependency { details ->\n        if (details.requested.group == 'org.jetbrains.kotlin') {\n            details.useVersion \"1.8.0\"\n        }\n    }\n}\n\n\nflutter {\n    source = \"../..\"\n}\n\n"
        ]
    },
    {
        "titulo": "HTTP request get statusCode:400 in flutter_test, but it get status:200 in orignal dart method call",
        "score": 0,
        "views": 79,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "http",
            "network-programming",
            "dio"
        ],
        "link": "https://stackoverflow.com/questions/79194990/http-request-get-statuscode400-in-flutter-test-but-it-get-status200-in-origna",
        "conteudo_html": "<p>It's weird, i tried postman or browser, http get request works fine, but it aways get <code>status: 400</code> in flutter. I just only debug it on web(chrome) Simulator and flutter-test.</p>\n<p>Here is my env:</p>\n<pre><code>Flutter (Channel stable, 3.24.3, on macOS 15.1 24B83 darwin-arm64\nDart version 3.5.3\nDevTools version 2.37.3\n</code></pre>\n<p>Here is the minimized code.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>  Future&lt;String&gt; httpget( String urlStr, String path, Map&lt;String, dynamic&gt; params) async {\n    try {\n      var url = Uri.https(urlStr, path);\n      var response = await http.get(url);\n      print('Response status: ${response.statusCode}');\n      print('Response body: ${response.body}');\n      print('Response header: ${response.headers}');\n\n      return response.body;\n    } catch (e) {\n      print('Error: $e');\n      throw e;\n    }\n  }\n\n  Future&lt;String&gt; dioget(String url, Map&lt;String, dynamic&gt; params) async {\n    try {\n      var dio = Dio();\n      dio.interceptors.add(LogInterceptor());\n      Response response = await dio.get(\n        url,\n        queryParameters: params,\n        options: Options(\n          validateStatus: (int? status) {\n            return status != null;\n          },\n        ),\n      );\n      return response.data;\n    } catch (e) {\n      print('Error: $e');\n      throw e;\n    }\n  }\n\n  test('network test', () async {\n    // http package\n    String url = &quot;httpbin.org&quot;;\n    String path = &quot;get&quot;;\n    await httpget(url, path, {}).then((response) {\n      print(response);\n    });\n\n    // dio package\n    await dioget(&quot;http://httpbin.org/get&quot;, {}).then((response) {\n      print(response);\n    });\n  });\n}\n</code></pre>\n<p>output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>\n*** Response ***\nuri: http://httpbin.org/get\nstatusCode: 400\nheaders:\n</code></pre>\n<p>I can open this link in chrome or postman.\n<a href=\"http://httpbin.org/get\" rel=\"nofollow noreferrer\">http://httpbin.org/get</a></p>\n<p><a href=\"https://i.sstatic.net/YFyqVZqx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/YFyqVZqx.png\" alt=\"enter image description here\" /></a> <a href=\"https://i.sstatic.net/jtmhTbJF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/jtmhTbJF.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>I put this dio get request on a Text widget, i think it's ok.</p>\n<p>But still, flutter-test doesn't work.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class Header extends StatelessWidget {\n  const Header({Key? key}) : super(key: key);\n  Future&lt;String&gt; dioget(String url, Map&lt;String, dynamic&gt; params) async {\n    try {\n      var dio = Dio();\n      dio.interceptors.add(LogInterceptor());\n      Response response = await dio.get(\n        url,\n        queryParameters: params,\n        options: Options(\n          validateStatus: (int? status) {\n            return status != null;\n          },\n        ),\n      );\n      return response.data[&quot;url&quot;];\n    } catch (e) {\n      print('Error: $e');\n      throw e;\n    }\n  }\n  @override\n  Widget build(BuildContext context) =&gt;\n      Container(\n        color: Colors.red.withOpacity(0.5),\n        child: FutureBuilder&lt;String&gt;(\n          future: dioget(&quot;https://httpbin.org/get&quot;, {&quot;test&quot;: &quot;test&quot;}),\n          builder: (BuildContext context, AsyncSnapshot&lt;String&gt; snapshot) {\n            if (snapshot.connectionState == ConnectionState.waiting) {\n              return CircularProgressIndicator();\n            } else if (snapshot.hasError) {\n              return Text('Error: ${snapshot.error}');\n            } else {\n              return Text(snapshot.data ?? 'No data');\n            }\n          },\n        ),\n      );\n}\n</code></pre>\n<p><a href=\"https://i.sstatic.net/YFiJs7wx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/YFiJs7wx.png\" alt=\"enter image description here\" /></a></p>\n",
        "codigo": [
            "status: 400",
            "Flutter (Channel stable, 3.24.3, on macOS 15.1 24B83 darwin-arm64\nDart version 3.5.3\nDevTools version 2.37.3\n",
            "  Future<String> httpget( String urlStr, String path, Map<String, dynamic> params) async {\n    try {\n      var url = Uri.https(urlStr, path);\n      var response = await http.get(url);\n      print('Response status: ${response.statusCode}');\n      print('Response body: ${response.body}');\n      print('Response header: ${response.headers}');\n\n      return response.body;\n    } catch (e) {\n      print('Error: $e');\n      throw e;\n    }\n  }\n\n  Future<String> dioget(String url, Map<String, dynamic> params) async {\n    try {\n      var dio = Dio();\n      dio.interceptors.add(LogInterceptor());\n      Response response = await dio.get(\n        url,\n        queryParameters: params,\n        options: Options(\n          validateStatus: (int? status) {\n            return status != null;\n          },\n        ),\n      );\n      return response.data;\n    } catch (e) {\n      print('Error: $e');\n      throw e;\n    }\n  }\n\n  test('network test', () async {\n    // http package\n    String url = \"httpbin.org\";\n    String path = \"get\";\n    await httpget(url, path, {}).then((response) {\n      print(response);\n    });\n\n    // dio package\n    await dioget(\"http://httpbin.org/get\", {}).then((response) {\n      print(response);\n    });\n  });\n}\n",
            "\n*** Response ***\nuri: http://httpbin.org/get\nstatusCode: 400\nheaders:\n",
            "class Header extends StatelessWidget {\n  const Header({Key? key}) : super(key: key);\n  Future<String> dioget(String url, Map<String, dynamic> params) async {\n    try {\n      var dio = Dio();\n      dio.interceptors.add(LogInterceptor());\n      Response response = await dio.get(\n        url,\n        queryParameters: params,\n        options: Options(\n          validateStatus: (int? status) {\n            return status != null;\n          },\n        ),\n      );\n      return response.data[\"url\"];\n    } catch (e) {\n      print('Error: $e');\n      throw e;\n    }\n  }\n  @override\n  Widget build(BuildContext context) =>\n      Container(\n        color: Colors.red.withOpacity(0.5),\n        child: FutureBuilder<String>(\n          future: dioget(\"https://httpbin.org/get\", {\"test\": \"test\"}),\n          builder: (BuildContext context, AsyncSnapshot<String> snapshot) {\n            if (snapshot.connectionState == ConnectionState.waiting) {\n              return CircularProgressIndicator();\n            } else if (snapshot.hasError) {\n              return Text('Error: ${snapshot.error}');\n            } else {\n              return Text(snapshot.data ?? 'No data');\n            }\n          },\n        ),\n      );\n}\n"
        ]
    },
    {
        "titulo": "How to test dart record patterns?",
        "score": 3,
        "views": 76,
        "respostas": 1,
        "tags": [
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79194987/how-to-test-dart-record-patterns",
        "conteudo_html": "<p>I have a function:\n<code>(int,double?) eva(String);</code></p>\n<p>I can test it with:</p>\n<pre><code>expect(eva(&quot;something&quot;), (4,10));\n// or\nexpect(eva(&quot;something&quot;).$1, isNonZero);\nexpect(eva(&quot;something&quot;).$2, 10);\n</code></pre>\n<p>but not as</p>\n<pre><code>expect(eva(&quot;something&quot;), (isNonZero,10) );\n</code></pre>\n<p>Any tips are welcome.</p>\n<p>EDIT:<br>\nI have a workaround: the function eva() should return a list, and so we can write:</p>\n<pre><code>expect(eva(&quot;something&quot;), [isNonZero,10]);\n</code></pre>\n",
        "codigo": [
            "(int,double?) eva(String);",
            "expect(eva(\"something\"), (4,10));\n// or\nexpect(eva(\"something\").$1, isNonZero);\nexpect(eva(\"something\").$2, 10);\n",
            "expect(eva(\"something\"), (isNonZero,10) );\n",
            "expect(eva(\"something\"), [isNonZero,10]);\n"
        ]
    },
    {
        "titulo": "LateInitializationError: Field &#39;_prefs@29023595&#39; has not been initialized in flutter testing",
        "score": 1,
        "views": 30,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "testing",
            "sharedpreferences",
            "provider"
        ],
        "link": "https://stackoverflow.com/questions/79180792/lateinitializationerror-field-prefs29023595-has-not-been-initialized-in-flu",
        "conteudo_html": "<pre><code>void main() async {\n\n  WidgetsFlutterBinding.ensureInitialized();\n  await SharedPreferenceHelper.initPreference();\n  runApp(\n    MultiProvider(\n      providers: [\n        ChangeNotifierProvider(create: (_) =&gt; ThemeProvider(),),\n        ChangeNotifierProvider(create: (_) =&gt; ApiProvider(),),\n      ],\n      child: const MyApp()\n    )\n  );\n  \n}\n</code></pre>\n<p>This is my main.dart file I used two Providers for Theme of the app and API calling.I used SharedPreference as Singleton class to avoid multiple instance creation.</p>\n<pre><code>class SharedPreferenceHelper {\n  static late SharedPreferences _prefs;\n\n  static Future&lt;void&gt; initPreference() async {\n    _prefs = await SharedPreferences.getInstance();\n  }\n\n  static SharedPreferences getInstance() =&gt; _prefs;\n}\n</code></pre>\n<p>But I have an issue while I testing it this is my testing code and assume in the sign in screen with textfield that only accept 10 numbers as input (only number).</p>\n<pre><code>  testWidgets(&quot;Validate Signin field with different input&quot;, (WidgetTester tester) async {\n    \n\n    // tester.view.devicePixelRatio = 1.0;\n     await tester.pumpWidget(\n      MultiProvider(\n        providers: [\n            ChangeNotifierProvider(create: (_) =&gt; ThemeProvider()),\n            ChangeNotifierProvider(create: (_) =&gt; ApiProvider()),\n          ],\n        child: const MaterialApp(\n          home: SigninScreen(),\n         )\n        )\n      );\n      // print(&quot;Before entering text&quot;);\n    // Enter invalid text \n    await tester.enterText(find.byKey(const Key(&quot;mobile_field&quot;)), &quot;123343&quot;);\n      // print(&quot;After entering text&quot;);\n    // Press the button\n    await tester.tap(find.byType(ButtonWidget));\n    await tester.pumpAndSettle();\n\n    expect(find.text(&quot;Enter a valid user ID&quot;), findsOneWidget);\n\n    // Clear the text field\n    await tester.enterText(find.byKey(const Key(&quot;mobile_field&quot;)), &quot;&quot;);\n    await tester.pump();\n\n    // Check with the empty String\n    await tester.enterText(find.byKey(const Key(&quot;mobile_field&quot;)), &quot;&quot;);\n    await tester.tap(find.byType(ButtonWidget));\n    await tester.pump();\n\n    expect(find.text(&quot;User ID is required&quot;), findsOneWidget);\n    \n    // Clear the text field\n    await tester.enterText(find.byKey(const Key(&quot;mobile_field&quot;)), &quot;&quot;);\n    await tester.pump();\n\n    await tester.enterText(find.byKey(const Key(&quot;mobile_field&quot;)), &quot;9876543210&quot;);\n    await tester.tap(find.byType(ButtonWidget));\n    await tester.pump();\n\n    expect(find.byKey(const Key(&quot;home_screen&quot;)), findsOneWidget);\n\n  });\n\n</code></pre>\n<p>but it shows this error from my API Provider</p>\n<pre><code>class ApiProvider extends ChangeNotifier{\n  // instance of shared preference\n  final SharedPreferences _prefs = SharedPreferenceHelper.getInstance();\n}\n\nThe following LateError was thrown building Consumer&lt;ApiProvider&gt;(dirty, dependencies:\n[_InheritedProviderScope&lt;ApiProvider?&gt;]):\nLateInitializationError: Field '_prefs@29023595' has not been initialized.\n\nThe relevant error-causing widget was:\n  Consumer&lt;ApiProvider&gt; Consumer:file:///D:/Projects/kitafeedback/lib/screens/home_screen.dart:43:13\n\nWhen the exception was thrown, this was the stack:\n#0      SharedPreferenceHelper._prefs (package:kitafeedback/common/shared_preference_helper.dart)\n#1      SharedPreferenceHelper.getInstance (package:kitafeedback/common/shared_preference_helper.dart:10:45)\n#2      new ApiProvider (package:kitafeedback/API/api_provider.dart:18:59)\n</code></pre>\n",
        "codigo": [
            "void main() async {\n\n  WidgetsFlutterBinding.ensureInitialized();\n  await SharedPreferenceHelper.initPreference();\n  runApp(\n    MultiProvider(\n      providers: [\n        ChangeNotifierProvider(create: (_) => ThemeProvider(),),\n        ChangeNotifierProvider(create: (_) => ApiProvider(),),\n      ],\n      child: const MyApp()\n    )\n  );\n  \n}\n",
            "class SharedPreferenceHelper {\n  static late SharedPreferences _prefs;\n\n  static Future<void> initPreference() async {\n    _prefs = await SharedPreferences.getInstance();\n  }\n\n  static SharedPreferences getInstance() => _prefs;\n}\n",
            "  testWidgets(\"Validate Signin field with different input\", (WidgetTester tester) async {\n    \n\n    // tester.view.devicePixelRatio = 1.0;\n     await tester.pumpWidget(\n      MultiProvider(\n        providers: [\n            ChangeNotifierProvider(create: (_) => ThemeProvider()),\n            ChangeNotifierProvider(create: (_) => ApiProvider()),\n          ],\n        child: const MaterialApp(\n          home: SigninScreen(),\n         )\n        )\n      );\n      // print(\"Before entering text\");\n    // Enter invalid text \n    await tester.enterText(find.byKey(const Key(\"mobile_field\")), \"123343\");\n      // print(\"After entering text\");\n    // Press the button\n    await tester.tap(find.byType(ButtonWidget));\n    await tester.pumpAndSettle();\n\n    expect(find.text(\"Enter a valid user ID\"), findsOneWidget);\n\n    // Clear the text field\n    await tester.enterText(find.byKey(const Key(\"mobile_field\")), \"\");\n    await tester.pump();\n\n    // Check with the empty String\n    await tester.enterText(find.byKey(const Key(\"mobile_field\")), \"\");\n    await tester.tap(find.byType(ButtonWidget));\n    await tester.pump();\n\n    expect(find.text(\"User ID is required\"), findsOneWidget);\n    \n    // Clear the text field\n    await tester.enterText(find.byKey(const Key(\"mobile_field\")), \"\");\n    await tester.pump();\n\n    await tester.enterText(find.byKey(const Key(\"mobile_field\")), \"9876543210\");\n    await tester.tap(find.byType(ButtonWidget));\n    await tester.pump();\n\n    expect(find.byKey(const Key(\"home_screen\")), findsOneWidget);\n\n  });\n\n",
            "class ApiProvider extends ChangeNotifier{\n  // instance of shared preference\n  final SharedPreferences _prefs = SharedPreferenceHelper.getInstance();\n}\n\nThe following LateError was thrown building Consumer<ApiProvider>(dirty, dependencies:\n[_InheritedProviderScope<ApiProvider?>]):\nLateInitializationError: Field '_prefs@29023595' has not been initialized.\n\nThe relevant error-causing widget was:\n  Consumer<ApiProvider> Consumer:file:///D:/Projects/kitafeedback/lib/screens/home_screen.dart:43:13\n\nWhen the exception was thrown, this was the stack:\n#0      SharedPreferenceHelper._prefs (package:kitafeedback/common/shared_preference_helper.dart)\n#1      SharedPreferenceHelper.getInstance (package:kitafeedback/common/shared_preference_helper.dart:10:45)\n#2      new ApiProvider (package:kitafeedback/API/api_provider.dart:18:59)\n"
        ]
    },
    {
        "titulo": "Difference between a normal if-case pattern and a if-case pattern with null-check subpattern",
        "score": 1,
        "views": 112,
        "respostas": 1,
        "tags": [
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79179645/difference-between-a-normal-if-case-pattern-and-a-if-case-pattern-with-null-chec",
        "conteudo_html": "<p>I'm having trouble understanding how the null-check works differently from a normal if-case statement, and when and why I would use it over a normal one.<br />\nThe <a href=\"https://dart.dev/language/pattern-types#null-check\" rel=\"nofollow noreferrer\">doc</a> mentions one of the benefits of using this feature is to &quot;match failures without throwing.&quot;</p>\n<p>Here is my short example code:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void test(String? fetchedData) {\n  if (fetchedData case final String name) {\n    log(&quot;My name is : $name&quot;);\n  }\n  if (fetchedData case final String name?) {\n    log(&quot;My name is : $name&quot;);\n  }\n  return;\n}\n</code></pre>\n<p>If you use this code with VSCode and hover on the <code>$name</code> variable, you will see that both are suggested by VSCode to be type promoted to a non-nullable <code>String</code> type, and can be use securely.<br />\nIf my understanding is correct, if I pass <code>null</code> or a type incompatible with <code>String</code>, the if block won't be executed, as the pattern matching will fail, and no error will be thrown.</p>\n",
        "codigo": [
            "void test(String? fetchedData) {\n  if (fetchedData case final String name) {\n    log(\"My name is : $name\");\n  }\n  if (fetchedData case final String name?) {\n    log(\"My name is : $name\");\n  }\n  return;\n}\n",
            "$name",
            "String",
            "null",
            "String"
        ]
    },
    {
        "titulo": "How to Apply a Single Background Image Across Multiple Slivers in Flutter CustomScrollView?",
        "score": 1,
        "views": 71,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79161210/how-to-apply-a-single-background-image-across-multiple-slivers-in-flutter-custom",
        "conteudo_html": "<p>I’m working with a CustomScrollView in Flutter that has multiple slivers, and I need to apply a single background image across the first three slivers only. Here’s the specific setup I’m trying to achieve:</p>\n<p>One background image should cover the first three slivers.\nThe second sliver should be sticky and contain a TabBar.\nThe rest of the slivers (a SliverGrid and SliverList) should not show the background image.\nI initially tried wrapping the first three slivers in a Stack and Column with an Image.asset as the background, but I ran into this error:</p>\n<pre><code>A RenderFlex expected a child of type RenderBox but received a child of type _RenderSliverPinnedPersistentHeaderForWidgets.\n\n</code></pre>\n<pre><code>import 'package:flutter/material.dart';\n\nclass CustomSliverBackgroundPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Stack(\n        children: [\n          // Background image covering the first three slivers\n          Positioned.fill(\n            child: Image.asset(\n              'assets/your_image.png',\n              fit: BoxFit.cover,\n            ),\n          ),\n          \n          // CustomScrollView with slivers\n          CustomScrollView(\n            slivers: [\n              // First Sliver (non-sticky) with transparent background\n              SliverToBoxAdapter(\n                child: Container(\n                  height: 200,\n                  color: Colors.transparent,\n                  child: Center(child: Text('Sliver 1', style: TextStyle(color: Colors.white))),\n                ),\n              ),\n              \n              // Sticky Second Sliver with Tabs\n              SliverPersistentHeader(\n                pinned: true,\n                delegate: _SliverTabBarDelegate(\n                  TabBar(\n                    labelColor: Colors.black,\n                    unselectedLabelColor: Colors.grey,\n                    tabs: [\n                      Tab(text: 'Tab 1'),\n                      Tab(text: 'Tab 2'),\n                      Tab(text: 'Tab 3'),\n                    ],\n                  ),\n                ),\n              ),\n\n              // Third Sliver (non-sticky) with transparent background\n              SliverToBoxAdapter(\n                child: Container(\n                  height: 200,\n                  color: Colors.transparent,\n                  child: Center(child: Text('Sliver 3', style: TextStyle(color: Colors.white))),\n                ),\n              ),\n\n              // Remaining Slivers (without background)\n              SliverGrid(\n                delegate: SliverChildBuilderDelegate(\n                  (context, index) =&gt; Container(\n                    color: Colors.blue[(index % 9) * 100],\n                    child: Center(child: Text('Grid Item $index')),\n                  ),\n                  childCount: 8,\n                ),\n                gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(\n                  crossAxisCount: 2,\n                  mainAxisSpacing: 8,\n                  crossAxisSpacing: 8,\n                  childAspectRatio: 2,\n                ),\n              ),\n              SliverList(\n                delegate: SliverChildBuilderDelegate(\n                  (context, index) =&gt; ListTile(\n                    title: Text('List Item $index'),\n                  ),\n                  childCount: 10,\n                ),\n              ),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n}\n\n// Custom delegate to create sticky tab behavior in second sliver\nclass _SliverTabBarDelegate extends SliverPersistentHeaderDelegate {\n  final TabBar tabBar;\n\n  _SliverTabBarDelegate(this.tabBar);\n\n  @override\n  double get minExtent =&gt; tabBar.preferredSize.height;\n  @override\n  double get maxExtent =&gt; tabBar.preferredSize.height;\n\n  @override\n  Widget build(BuildContext context, double shrinkOffset, bool overlapsContent) {\n    return Container(\n      color: Colors.transparent, // Make transparent to show background image\n      child: tabBar,\n    );\n  }\n\n  @override\n  bool shouldRebuild(covariant SliverPersistentHeaderDelegate oldDelegate) {\n    return false;\n  }\n}\n\n</code></pre>\n<p>With this setup, I want the background image to span the first three slivers, including the sticky second sliver with the TabBar. However, the image doesn’t appear correctly across all three slivers, and I get rendering issues.</p>\n<p>How can I achieve a single background image covering only the first three slivers while keeping the sticky TabBar in the second sliver? Any help would be greatly appreciated!</p>\n<p>However, with this setup, the background image doesn’t appear under the 2nd and 3rd slivers as expected. I need the background to be visible under all three slivers while ensuring the sticky behavior for the TabBar in the second sliver. How can I achieve this? Any advice or suggestions would be much appreciated!</p>\n",
        "codigo": [
            "A RenderFlex expected a child of type RenderBox but received a child of type _RenderSliverPinnedPersistentHeaderForWidgets.\n\n",
            "import 'package:flutter/material.dart';\n\nclass CustomSliverBackgroundPage extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Stack(\n        children: [\n          // Background image covering the first three slivers\n          Positioned.fill(\n            child: Image.asset(\n              'assets/your_image.png',\n              fit: BoxFit.cover,\n            ),\n          ),\n          \n          // CustomScrollView with slivers\n          CustomScrollView(\n            slivers: [\n              // First Sliver (non-sticky) with transparent background\n              SliverToBoxAdapter(\n                child: Container(\n                  height: 200,\n                  color: Colors.transparent,\n                  child: Center(child: Text('Sliver 1', style: TextStyle(color: Colors.white))),\n                ),\n              ),\n              \n              // Sticky Second Sliver with Tabs\n              SliverPersistentHeader(\n                pinned: true,\n                delegate: _SliverTabBarDelegate(\n                  TabBar(\n                    labelColor: Colors.black,\n                    unselectedLabelColor: Colors.grey,\n                    tabs: [\n                      Tab(text: 'Tab 1'),\n                      Tab(text: 'Tab 2'),\n                      Tab(text: 'Tab 3'),\n                    ],\n                  ),\n                ),\n              ),\n\n              // Third Sliver (non-sticky) with transparent background\n              SliverToBoxAdapter(\n                child: Container(\n                  height: 200,\n                  color: Colors.transparent,\n                  child: Center(child: Text('Sliver 3', style: TextStyle(color: Colors.white))),\n                ),\n              ),\n\n              // Remaining Slivers (without background)\n              SliverGrid(\n                delegate: SliverChildBuilderDelegate(\n                  (context, index) => Container(\n                    color: Colors.blue[(index % 9) * 100],\n                    child: Center(child: Text('Grid Item $index')),\n                  ),\n                  childCount: 8,\n                ),\n                gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(\n                  crossAxisCount: 2,\n                  mainAxisSpacing: 8,\n                  crossAxisSpacing: 8,\n                  childAspectRatio: 2,\n                ),\n              ),\n              SliverList(\n                delegate: SliverChildBuilderDelegate(\n                  (context, index) => ListTile(\n                    title: Text('List Item $index'),\n                  ),\n                  childCount: 10,\n                ),\n              ),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n}\n\n// Custom delegate to create sticky tab behavior in second sliver\nclass _SliverTabBarDelegate extends SliverPersistentHeaderDelegate {\n  final TabBar tabBar;\n\n  _SliverTabBarDelegate(this.tabBar);\n\n  @override\n  double get minExtent => tabBar.preferredSize.height;\n  @override\n  double get maxExtent => tabBar.preferredSize.height;\n\n  @override\n  Widget build(BuildContext context, double shrinkOffset, bool overlapsContent) {\n    return Container(\n      color: Colors.transparent, // Make transparent to show background image\n      child: tabBar,\n    );\n  }\n\n  @override\n  bool shouldRebuild(covariant SliverPersistentHeaderDelegate oldDelegate) {\n    return false;\n  }\n}\n\n"
        ]
    },
    {
        "titulo": "Registering user doesn&#39;t fetch anymore in collection &#39;users&#39;",
        "score": 0,
        "views": 39,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "google-cloud-firestore",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/79152819/registering-user-doesnt-fetch-anymore-in-collection-users",
        "conteudo_html": "<p>I am building an app in Flutter, but I have an issue when I try to register and login users. Since I added Stripe, I'm receiving errors in the login and signup screen as:</p>\n<blockquote>\n<p>flutter: Login error: type 'List&lt;Object?&gt;' is not a subtype of type 'PigeonUserDetails?' in type cast</p>\n</blockquote>\n<p>The problem is when I create an account the user appears in Firebase Auth, but it is not added to the 'users' collection in Firestore so it is not redirected to homepage.</p>\n<p>Here is the code for signup:</p>\n<pre><code>class SignUp extends StatefulWidget {\n  const SignUp({Key? key}) : super(key: key);\n\n  @override\n  _SignUpState createState() =&gt; _SignUpState();\n}\n\nclass _SignUpState extends State&lt;SignUp&gt; {\n  final _formKey = GlobalKey&lt;FormState&gt;();\n  final _emailController = TextEditingController();\n  final _passwordController = TextEditingController();\n  final _nameController = TextEditingController();\n  final _instagramController = TextEditingController();\n  bool _isLoading = false;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: Colors.black,\n      body: Stack(\n        children: [\n          // Animated text centered above the widget\n          Positioned(\n            left: 0,\n            right: 0,\n            bottom: MediaQuery.of(context).size.height * 0.8,\n            child: Center(\n              child: DefaultTextStyle(\n                style: TextStyle(\n                  fontSize: 16,\n                  fontWeight: FontWeight.bold,\n                  color: Colors.white,\n                ),\n                child: AnimatedTextKit(\n                  animatedTexts: [\n                    TypewriterAnimatedText(\n                      'Are you ready to start today?',\n                      speed: Duration(milliseconds: 150),\n                    ),\n                  ],\n                  repeatForever: true,\n                  pause: Duration(milliseconds: 2000),\n                  displayFullTextOnTap: true,\n                ),\n              ),\n            ),\n          ),\n          // Content at the bottom\n          Positioned(\n            left: 0,\n            right: 0,\n            bottom: 0,\n            child: Container(\n              padding: EdgeInsets.all(20),\n              decoration: BoxDecoration(\n                color: Colors.white,\n                borderRadius: BorderRadius.only(\n                  topLeft: Radius.circular(30),\n                  topRight: Radius.circular(30),\n                ),\n              ),\n              child: SingleChildScrollView(\n                child: Form(\n                  key: _formKey,\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.stretch,\n                    children: [\n                      Text(\n                        'Sign Up',\n                        style: TextStyle(\n                          fontSize: 32,\n                          fontWeight: FontWeight.bold,\n                          color: Colors.black,\n                        ),\n                        textAlign: TextAlign.center,\n                      ),\n                      SizedBox(height: 20),\n                      _buildTextField('Name', controller: _nameController),\n                      SizedBox(height: 16),\n                      _buildTextField('Instagram Username', controller: _instagramController),\n                      SizedBox(height: 16),\n                      _buildTextField('Email', controller: _emailController, keyboardType: TextInputType.emailAddress),\n                      SizedBox(height: 16),\n                      _buildTextField('Password', controller: _passwordController, obscureText: true),\n                      SizedBox(height: 24),\n                      ElevatedButton(\n                        onPressed: _isLoading ? null : _signUp,\n                        child: _isLoading\n                            ? CircularProgressIndicator(color: Colors.white)\n                            : Text(\n                                'Sign Up',\n                                style: TextStyle(color: Colors.white),\n                              ),\n                        style: ElevatedButton.styleFrom(\n                          backgroundColor: Colors.black,\n                          foregroundColor: Colors.white,\n                          padding: EdgeInsets.symmetric(vertical: 16),\n                          textStyle: TextStyle(fontSize: 18),\n                        ),\n                      ),\n                      SizedBox(height: 16),\n                      TextButton(\n                        onPressed: () {\n                          Navigator.pushReplacementNamed(context, '/login');\n                        },\n                        child: Text(\n                          'Already have an account? Log in',\n                          style: TextStyle(color: Colors.black),\n                        ),\n                      ),\n                    ],\n                  ),\n                ),\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildTextField(String hintText, {bool obscureText = false, TextInputType? keyboardType, required TextEditingController controller}) {\n    return TextFormField(\n      controller: controller,\n      decoration: InputDecoration(\n        hintText: hintText,\n        hintStyle: TextStyle(color: Colors.grey[600]),\n        filled: true,\n        fillColor: Colors.grey[200],\n        border: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: BorderSide.none,\n        ),\n        enabledBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: BorderSide(color: Colors.grey[300]!),\n        ),\n        focusedBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: BorderSide(color: Colors.black),\n        ),\n      ),\n      style: TextStyle(color: Colors.black),\n      obscureText: obscureText,\n      keyboardType: keyboardType,\n      validator: (value) {\n        if (value == null || value.isEmpty) {\n          return 'Please enter $hintText';\n        }\n        return null;\n      },\n    );\n  }\n\n  Future&lt;void&gt; _signUp() async {\n    if (_formKey.currentState!.validate()) {\n      setState(() {\n        _isLoading = true;\n      });\n\n      try {\n        // 1. Create Authentication User\n        final userCredential = await FirebaseAuth.instance.createUserWithEmailAndPassword(\n          email: _emailController.text.trim(),\n          password: _passwordController.text,\n        );\n\n        if (userCredential.user == null) {\n          throw Exception('Failed to create user');\n        }\n\n        // 2. Create User Document in Firestore\n        await FirebaseFirestore.instance\n            .collection('users')\n            .doc(userCredential.user!.uid)\n            .set({\n          'uid': userCredential.user!.uid,\n          'email': _emailController.text.trim(),\n          'name': _nameController.text.trim(),\n          'instagramHandle': _instagramController.text.trim(),\n          'profilePicture': null,\n          'subscribers': 0,\n          'followers': 0,\n          'following': 0,\n          'createdAt': FieldValue.serverTimestamp(),\n        });\n\n        // 3. Verify document creation\n        final userDoc = await FirebaseFirestore.instance\n            .collection('users')\n            .doc(userCredential.user!.uid)\n            .get();\n\n        if (!userDoc.exists) {\n          throw Exception('Failed to create user document');\n        }\n\n        if (mounted) {\n          // 4. Show success message and navigate\n          ScaffoldMessenger.of(context).showSnackBar(\n            const SnackBar(content: Text('Account created successfully!')),\n          );\n\n          // 5. Navigate to HomePage\n          Navigator.pushAndRemoveUntil(\n            context,\n            MaterialPageRoute(builder: (context) =&gt; HomePage()),\n            (route) =&gt; false,\n          );\n        }\n\n      } on FirebaseAuthException catch (e) {\n        print('Firebase Auth Error: ${e.code} - ${e.message}');\n        String errorMessage;\n        \n        switch (e.code) {\n          case 'weak-password':\n            errorMessage = 'The password provided is too weak.';\n            break;\n          case 'email-already-in-use':\n            errorMessage = 'An account already exists for that email.';\n            break;\n          case 'invalid-email':\n            errorMessage = 'The email address is not valid.';\n            break;\n          default:\n            errorMessage = 'An error occurred during sign up.';\n        }\n        \n        if (mounted) {\n          ScaffoldMessenger.of(context).showSnackBar(\n            SnackBar(content: Text(errorMessage)),\n          );\n        }\n      } catch (e) {\n        print('Signup error: $e');\n        if (mounted) {\n          ScaffoldMessenger.of(context).showSnackBar(\n            const SnackBar(\n              content: Text('An error occurred while creating your account.'),\n            ),\n          );\n        }\n      } finally {\n        if (mounted) {\n          setState(() {\n            _isLoading = false;\n          });\n        }\n      }\n    }\n  }\n\n  Future&lt;dynamic&gt; createStripeAccount({required String email, required String name}) async {\n    try {\n      // Make API call to your backend to create Stripe account\n      // This is just a placeholder - implement according to your backend API\n      final response = await http.post(\n        Uri.parse('YOUR_BACKEND_URL/create-stripe-account'),\n        body: {\n          'email': email,\n          'name': name,\n        },\n      );\n\n      if (response.statusCode == 200) {\n        return json.decode(response.body);\n      } else {\n        throw Exception('Failed to create Stripe account');\n      }\n    } catch (e) {\n      throw Exception('Error creating Stripe account: $e');\n    }\n  }\n\n  @override\n  void dispose() {\n    _emailController.dispose();\n    _passwordController.dispose();\n    _nameController.dispose();\n    _instagramController.dispose();\n    super.dispose();\n  }\n}\n</code></pre>\n<p>and here is the code for main:</p>\n<pre><code>Future&lt;void&gt; main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  \n  // Simple Firebase initialization\n  await Firebase.initializeApp();\n  \n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'InfluFit',\n      debugShowCheckedModeBanner: false,\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n        visualDensity: VisualDensity.adaptivePlatformDensity,\n      ),\n      initialRoute: '/',\n      routes: {\n        '/': (context) =&gt; const SplashScreen(),\n        '/first': (context) =&gt; FirstScreen(),\n        '/signup': (context) =&gt; SignUp(),\n        '/login': (context) =&gt; LoginScreen(),\n        '/home': (context) =&gt; HomePage(),\n      },\n    );\n  }\n}\n</code></pre>\n",
        "codigo": [
            "class SignUp extends StatefulWidget {\n  const SignUp({Key? key}) : super(key: key);\n\n  @override\n  _SignUpState createState() => _SignUpState();\n}\n\nclass _SignUpState extends State<SignUp> {\n  final _formKey = GlobalKey<FormState>();\n  final _emailController = TextEditingController();\n  final _passwordController = TextEditingController();\n  final _nameController = TextEditingController();\n  final _instagramController = TextEditingController();\n  bool _isLoading = false;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: Colors.black,\n      body: Stack(\n        children: [\n          // Animated text centered above the widget\n          Positioned(\n            left: 0,\n            right: 0,\n            bottom: MediaQuery.of(context).size.height * 0.8,\n            child: Center(\n              child: DefaultTextStyle(\n                style: TextStyle(\n                  fontSize: 16,\n                  fontWeight: FontWeight.bold,\n                  color: Colors.white,\n                ),\n                child: AnimatedTextKit(\n                  animatedTexts: [\n                    TypewriterAnimatedText(\n                      'Are you ready to start today?',\n                      speed: Duration(milliseconds: 150),\n                    ),\n                  ],\n                  repeatForever: true,\n                  pause: Duration(milliseconds: 2000),\n                  displayFullTextOnTap: true,\n                ),\n              ),\n            ),\n          ),\n          // Content at the bottom\n          Positioned(\n            left: 0,\n            right: 0,\n            bottom: 0,\n            child: Container(\n              padding: EdgeInsets.all(20),\n              decoration: BoxDecoration(\n                color: Colors.white,\n                borderRadius: BorderRadius.only(\n                  topLeft: Radius.circular(30),\n                  topRight: Radius.circular(30),\n                ),\n              ),\n              child: SingleChildScrollView(\n                child: Form(\n                  key: _formKey,\n                  child: Column(\n                    crossAxisAlignment: CrossAxisAlignment.stretch,\n                    children: [\n                      Text(\n                        'Sign Up',\n                        style: TextStyle(\n                          fontSize: 32,\n                          fontWeight: FontWeight.bold,\n                          color: Colors.black,\n                        ),\n                        textAlign: TextAlign.center,\n                      ),\n                      SizedBox(height: 20),\n                      _buildTextField('Name', controller: _nameController),\n                      SizedBox(height: 16),\n                      _buildTextField('Instagram Username', controller: _instagramController),\n                      SizedBox(height: 16),\n                      _buildTextField('Email', controller: _emailController, keyboardType: TextInputType.emailAddress),\n                      SizedBox(height: 16),\n                      _buildTextField('Password', controller: _passwordController, obscureText: true),\n                      SizedBox(height: 24),\n                      ElevatedButton(\n                        onPressed: _isLoading ? null : _signUp,\n                        child: _isLoading\n                            ? CircularProgressIndicator(color: Colors.white)\n                            : Text(\n                                'Sign Up',\n                                style: TextStyle(color: Colors.white),\n                              ),\n                        style: ElevatedButton.styleFrom(\n                          backgroundColor: Colors.black,\n                          foregroundColor: Colors.white,\n                          padding: EdgeInsets.symmetric(vertical: 16),\n                          textStyle: TextStyle(fontSize: 18),\n                        ),\n                      ),\n                      SizedBox(height: 16),\n                      TextButton(\n                        onPressed: () {\n                          Navigator.pushReplacementNamed(context, '/login');\n                        },\n                        child: Text(\n                          'Already have an account? Log in',\n                          style: TextStyle(color: Colors.black),\n                        ),\n                      ),\n                    ],\n                  ),\n                ),\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildTextField(String hintText, {bool obscureText = false, TextInputType? keyboardType, required TextEditingController controller}) {\n    return TextFormField(\n      controller: controller,\n      decoration: InputDecoration(\n        hintText: hintText,\n        hintStyle: TextStyle(color: Colors.grey[600]),\n        filled: true,\n        fillColor: Colors.grey[200],\n        border: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: BorderSide.none,\n        ),\n        enabledBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: BorderSide(color: Colors.grey[300]!),\n        ),\n        focusedBorder: OutlineInputBorder(\n          borderRadius: BorderRadius.circular(8),\n          borderSide: BorderSide(color: Colors.black),\n        ),\n      ),\n      style: TextStyle(color: Colors.black),\n      obscureText: obscureText,\n      keyboardType: keyboardType,\n      validator: (value) {\n        if (value == null || value.isEmpty) {\n          return 'Please enter $hintText';\n        }\n        return null;\n      },\n    );\n  }\n\n  Future<void> _signUp() async {\n    if (_formKey.currentState!.validate()) {\n      setState(() {\n        _isLoading = true;\n      });\n\n      try {\n        // 1. Create Authentication User\n        final userCredential = await FirebaseAuth.instance.createUserWithEmailAndPassword(\n          email: _emailController.text.trim(),\n          password: _passwordController.text,\n        );\n\n        if (userCredential.user == null) {\n          throw Exception('Failed to create user');\n        }\n\n        // 2. Create User Document in Firestore\n        await FirebaseFirestore.instance\n            .collection('users')\n            .doc(userCredential.user!.uid)\n            .set({\n          'uid': userCredential.user!.uid,\n          'email': _emailController.text.trim(),\n          'name': _nameController.text.trim(),\n          'instagramHandle': _instagramController.text.trim(),\n          'profilePicture': null,\n          'subscribers': 0,\n          'followers': 0,\n          'following': 0,\n          'createdAt': FieldValue.serverTimestamp(),\n        });\n\n        // 3. Verify document creation\n        final userDoc = await FirebaseFirestore.instance\n            .collection('users')\n            .doc(userCredential.user!.uid)\n            .get();\n\n        if (!userDoc.exists) {\n          throw Exception('Failed to create user document');\n        }\n\n        if (mounted) {\n          // 4. Show success message and navigate\n          ScaffoldMessenger.of(context).showSnackBar(\n            const SnackBar(content: Text('Account created successfully!')),\n          );\n\n          // 5. Navigate to HomePage\n          Navigator.pushAndRemoveUntil(\n            context,\n            MaterialPageRoute(builder: (context) => HomePage()),\n            (route) => false,\n          );\n        }\n\n      } on FirebaseAuthException catch (e) {\n        print('Firebase Auth Error: ${e.code} - ${e.message}');\n        String errorMessage;\n        \n        switch (e.code) {\n          case 'weak-password':\n            errorMessage = 'The password provided is too weak.';\n            break;\n          case 'email-already-in-use':\n            errorMessage = 'An account already exists for that email.';\n            break;\n          case 'invalid-email':\n            errorMessage = 'The email address is not valid.';\n            break;\n          default:\n            errorMessage = 'An error occurred during sign up.';\n        }\n        \n        if (mounted) {\n          ScaffoldMessenger.of(context).showSnackBar(\n            SnackBar(content: Text(errorMessage)),\n          );\n        }\n      } catch (e) {\n        print('Signup error: $e');\n        if (mounted) {\n          ScaffoldMessenger.of(context).showSnackBar(\n            const SnackBar(\n              content: Text('An error occurred while creating your account.'),\n            ),\n          );\n        }\n      } finally {\n        if (mounted) {\n          setState(() {\n            _isLoading = false;\n          });\n        }\n      }\n    }\n  }\n\n  Future<dynamic> createStripeAccount({required String email, required String name}) async {\n    try {\n      // Make API call to your backend to create Stripe account\n      // This is just a placeholder - implement according to your backend API\n      final response = await http.post(\n        Uri.parse('YOUR_BACKEND_URL/create-stripe-account'),\n        body: {\n          'email': email,\n          'name': name,\n        },\n      );\n\n      if (response.statusCode == 200) {\n        return json.decode(response.body);\n      } else {\n        throw Exception('Failed to create Stripe account');\n      }\n    } catch (e) {\n      throw Exception('Error creating Stripe account: $e');\n    }\n  }\n\n  @override\n  void dispose() {\n    _emailController.dispose();\n    _passwordController.dispose();\n    _nameController.dispose();\n    _instagramController.dispose();\n    super.dispose();\n  }\n}\n",
            "Future<void> main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  \n  // Simple Firebase initialization\n  await Firebase.initializeApp();\n  \n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'InfluFit',\n      debugShowCheckedModeBanner: false,\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n        visualDensity: VisualDensity.adaptivePlatformDensity,\n      ),\n      initialRoute: '/',\n      routes: {\n        '/': (context) => const SplashScreen(),\n        '/first': (context) => FirstScreen(),\n        '/signup': (context) => SignUp(),\n        '/login': (context) => LoginScreen(),\n        '/home': (context) => HomePage(),\n      },\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Android Back Button closes my Flutter app",
        "score": 0,
        "views": 207,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "dart",
            "auto-route"
        ],
        "link": "https://stackoverflow.com/questions/79135319/android-back-button-closes-my-flutter-app",
        "conteudo_html": "<p>The error occurs with <strong>auto_route: ^9.2.2</strong>\nPreviously <strong>auto_route: ^5.0.3</strong> was used and everything worked fine.\nI am using AutoTabsScaffold() for routing and what happens now is that when the back button is pressed in android the application closes, which did not happen before.</p>\n<p>this is an example of how I have the routes in my app</p>\n<pre><code>    AutoRoute(\n                  path: 'a',\n                  page: A.page,\n                  children: [\n                    AutoRoute(\n                      initial: true,\n                      page: B.page,\n                    ),\n                    AutoRoute(\n                      page: C.page,\n                    ),\n                    AutoRoute(\n                      page: D.page,\n                    ),\n              \n                    AutoRoute(\n                      page: E.page,\n                    ),\n                    AutoRoute(\n                      page: F.page,\n                    ),\n                  ],\n                ),\n\n\n\nAutoTabsScaffold(\n                routes: [\n                  B(),\n                  C(),\n                  D(),\n                  E(),\n                  F(),\n                ],\n                bottomNavigationBuilder: (_, tabsRouter) {\n                  return BottomNavigationBar(...);\n                }, `enter code here`\n              ),\n</code></pre>\n<pre><code>[√] Flutter (Channel stable, 3.24.3, on Microsoft Windows [Versi¢n 10.0.22631.3880], locale es-419)\n    • Flutter version 3.24.3 on channel stable at C:\\Users\\Liam\\dev\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 2663184aa7 (7 weeks ago), 2024-09-11 16:27:48 -0500\n    • Engine revision 36335019a8\n    • Dart version 3.5.3\n    • DevTools version 2.37.3\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\n    • Android SDK at C:\\Users\\Liam\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 33.0.1\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\n\n[√] Android Studio (version 2022.3)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n\n[√] VS Code (version 1.94.2)\n    • VS Code at C:\\Users\\Liam\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.96.0\n\n[√] Network resources\n    • All expected network resources are available.\n</code></pre>\n<p>I have already <strong>tried adding PopScope()</strong> in the App() component and also in each individual widget but this does not prevent the app from closing.\nI also tried putting <strong>android:enableOnBackInvokedCallback=“false”</strong> and nothing.</p>\n",
        "codigo": [
            "    AutoRoute(\n                  path: 'a',\n                  page: A.page,\n                  children: [\n                    AutoRoute(\n                      initial: true,\n                      page: B.page,\n                    ),\n                    AutoRoute(\n                      page: C.page,\n                    ),\n                    AutoRoute(\n                      page: D.page,\n                    ),\n              \n                    AutoRoute(\n                      page: E.page,\n                    ),\n                    AutoRoute(\n                      page: F.page,\n                    ),\n                  ],\n                ),\n\n\n\nAutoTabsScaffold(\n                routes: [\n                  B(),\n                  C(),\n                  D(),\n                  E(),\n                  F(),\n                ],\n                bottomNavigationBuilder: (_, tabsRouter) {\n                  return BottomNavigationBar(...);\n                }, `enter code here`\n              ),\n",
            "[√] Flutter (Channel stable, 3.24.3, on Microsoft Windows [Versi¢n 10.0.22631.3880], locale es-419)\n    • Flutter version 3.24.3 on channel stable at C:\\Users\\Liam\\dev\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 2663184aa7 (7 weeks ago), 2024-09-11 16:27:48 -0500\n    • Engine revision 36335019a8\n    • Dart version 3.5.3\n    • DevTools version 2.37.3\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\n    • Android SDK at C:\\Users\\Liam\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 33.0.1\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the \"Desktop development with C++\" workload, including all of its default components\n\n[√] Android Studio (version 2022.3)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n\n[√] VS Code (version 1.94.2)\n    • VS Code at C:\\Users\\Liam\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.96.0\n\n[√] Network resources\n    • All expected network resources are available.\n"
        ]
    },
    {
        "titulo": "How do I work around parameter contravariance when declaring callbacks on generic classess?",
        "score": 0,
        "views": 26,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "generics"
        ],
        "link": "https://stackoverflow.com/questions/79134729/how-do-i-work-around-parameter-contravariance-when-declaring-callbacks-on-generi",
        "conteudo_html": "<p>I'm trying to write a generic class called <code>MultiConfigWidget</code> where <code>T extends Config</code>, and in that generic class, have a callback that serves as a builder with the signature <code>Widget Function(BuildContext, T)</code>.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MultiConfigWidget&lt;T extends Config&gt; extends StatelessWidget {\n  // ...\n  final T config;\n  final Widget Function(BuildContext, T) builder;\n  // ...\n  @override\n  Widget build(BuildContext) =&gt; builder(context, config)\n}\n</code></pre>\n<p>Assume <code>DerivedConfig</code> extends <code>Config</code>. When I try to use my class in the following way, I get a type error:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>MultiConfigWidget&lt;DerivedConfig&gt;(\n  builder: (BuildContext context, DerivedConfig config) =&gt; \n    SomeConfigurableWidget( // Expects config to be DerivedConfig\n      config: config,\n    ),\n),\n</code></pre>\n<p>If I change the signature of <code>builder</code> to <code>Widget Function(BuildContext, Config)</code>, it fixes the runtime error, but <code>SomeConfigurableWidget</code> needs <code>config</code> to be of type <code>DerivedConfig</code>.</p>\n<p>I'm aware that the type error is because the argument to builder expects a subtype of <code>Widget Function(Config)</code>, and <code>Widget Function(DerivedConfig)</code> is NOT a subtype since parameters are contravariant.</p>\n<p>But, to my reasoning, an instance of <code>MultiConfigWidget</code> is guaranteed to execute the <code>builder</code> callback with an argument of type <code>T</code>, NOT with the base type. Since it's never going to execute <code>builder(context, instanceOfBaseType)</code>, and is only ever going to execute <code>builder(context, instanceOfT)</code>, I'm having trouble understanding why I'm getting the error at runtime.</p>\n<p>How can I initialize <code>builder</code> with a function that takes <code>T</code> as a parameter, and calls it with the runtime type of <code>T</code>, instead of the base type from the generic?</p>\n<p>Edit: I can work around this issue with something like:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MultiConfigWidget&lt;T extends Config&gt; extends StatelessWidget {\n  final Widget Function(BuildContext, Config) builder;\n  @override\n  Widget build(BuildContext) =&gt; builder(context, config)\n}\n\nMultiConfigWidget&lt;DerivedConfig&gt;(\n  builder: (context, config) =&gt; \n    SomeConfigurableWidget( // Expects config to be DerivedConfig\n      config: config as DerivedConfig,\n    ),\n),\n\n</code></pre>\n<p>Which gives me no type errors, and no runtime errors. Is there a way to accomplish this without resorting to a cast?</p>\n",
        "codigo": [
            "MultiConfigWidget",
            "T extends Config",
            "Widget Function(BuildContext, T)",
            "class MultiConfigWidget<T extends Config> extends StatelessWidget {\n  // ...\n  final T config;\n  final Widget Function(BuildContext, T) builder;\n  // ...\n  @override\n  Widget build(BuildContext) => builder(context, config)\n}\n",
            "DerivedConfig",
            "Config",
            "MultiConfigWidget<DerivedConfig>(\n  builder: (BuildContext context, DerivedConfig config) => \n    SomeConfigurableWidget( // Expects config to be DerivedConfig\n      config: config,\n    ),\n),\n",
            "builder",
            "Widget Function(BuildContext, Config)",
            "SomeConfigurableWidget",
            "config",
            "DerivedConfig",
            "Widget Function(Config)",
            "Widget Function(DerivedConfig)",
            "MultiConfigWidget",
            "builder",
            "T",
            "builder(context, instanceOfBaseType)",
            "builder(context, instanceOfT)",
            "builder",
            "T",
            "T",
            "class MultiConfigWidget<T extends Config> extends StatelessWidget {\n  final Widget Function(BuildContext, Config) builder;\n  @override\n  Widget build(BuildContext) => builder(context, config)\n}\n\nMultiConfigWidget<DerivedConfig>(\n  builder: (context, config) => \n    SomeConfigurableWidget( // Expects config to be DerivedConfig\n      config: config as DerivedConfig,\n    ),\n),\n\n"
        ]
    },
    {
        "titulo": "How to send variable by method result for Main",
        "score": -1,
        "views": 24,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79122589/how-to-send-variable-by-method-result-for-main",
        "conteudo_html": "<p>My problem consists of a Main() method that calls a static Future from another class/file, which has the function of doing a post/get in php and returns a &quot;response.body&quot;, but after finishing the call, it returns to my Main and continues the process.</p>\n<p>If I try to mention a variable, it always returns NULL, because the value is lost when returned to Main.</p>\n<p>My problem is how to send the &quot;response.body&quot; to my main within a variable so that I can treat it and use it in other processes.</p>\n<p><strong>Below is a practical model of the problem.</strong></p>\n<p>Every result is a NULL variable</p>\n<pre><code>*file_1 -----------:*\nvoid main(List&lt;String&gt; args) {\n  \n  var result;  \n\n  method.test();\n  print(result);\n \n}\n\n*file_2 -----------:*\n\nclass method {\nstatic Future&lt;String&gt; test() async{\n    var result = '1';\n    return result;\n\n  }\n}\n</code></pre>\n",
        "codigo": [
            "*file_1 -----------:*\nvoid main(List<String> args) {\n  \n  var result;  \n\n  method.test();\n  print(result);\n \n}\n\n*file_2 -----------:*\n\nclass method {\nstatic Future<String> test() async{\n    var result = '1';\n    return result;\n\n  }\n}\n"
        ]
    },
    {
        "titulo": "Could not get unknown property &#39;org&#39; for root project &#39;android&#39; of type org.gradle.api.Project",
        "score": 1,
        "views": 77,
        "respostas": 0,
        "tags": [
            "android",
            "flutter",
            "dart",
            "gradle",
            "build.gradle"
        ],
        "link": "https://stackoverflow.com/questions/79111509/could-not-get-unknown-property-org-for-root-project-android-of-type-org-grad",
        "conteudo_html": "<p>I recently tried running an old Flutter project and encountered a Gradle compatibility error. To fix it, I upgraded the Java version in my Flutter environment to 17. However, now I am getting a new error related to Gradle.</p>\n<p>I also created a new Flutter project and the same compatibility mismatch between Java and Gradle appears. The error persists despite switching to Java 17.</p>\n<p>Has anyone experienced a similar issue or know how to resolve this ?</p>\n<pre><code>\nPS D:\\programming\\android\\test&gt; flutter run \nLaunching lib\\main.dart on SM G610F in debug mode...\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'D:\\programming\\android\\test\\android\\build.gradle' line: 20\n\n* What went wrong:\nA problem occurred evaluating root project 'android'.\n&gt; Could not get unknown property 'org' for root project 'android' of type org.gradle.api.Project.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n\nBUILD FAILED in 5s\nRunning Gradle task 'assembleDebug'...                              6.2s\nError: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>this is my flutter doctor -v</p>\n<pre><code>\n[√] Flutter (Channel stable, 3.24.3, on Microsoft Windows [Version 10.0.22631.4317], locale en-IN)\n    • Flutter version 3.24.3 on channel stable at C:\\flutter\\src\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 2663184aa7 (6 weeks ago), 2024-09-11 16:27:48 -0500\n    • Engine revision 36335019a8\n    • Dart version 3.5.3\n    • DevTools version 2.37.3\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 35.0.0)\n    • Android SDK at C:\\Users\\karti\\AppData\\Local\\Android\\sdk\n    • Platform android-35, build-tools 35.0.0\n    • Java binary at: C:\\Program Files\\Java\\jdk-17\\bin\\java\n    • Java version Java(TM) SE Runtime Environment (build 17.0.12+8-LTS-286)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\n\n[√] Android Studio (version 2024.2)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.3+-12282718-b509.11)\n\n[√] IntelliJ IDEA Community Edition (version 2024.2)\n    • IntelliJ at C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2024.2.3\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin version 242.22855.32\n\n[√] VS Code (version 1.94.2)\n    • VS Code at C:\\Users\\karti\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.99.20240930\n\n[√] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.22631.4317]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 130.0.6723.59\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 130.0.2849.46\n\n[√] Network resources\n    • All expected network resources are available.\n</code></pre>\n<p>this is android level gradle</p>\n<pre><code>allprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = &quot;../build&quot;\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(&quot;:app&quot;)\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.buildDir\n}\n\n\n\n\n</code></pre>\n<p>this is app level gradle</p>\n<pre><code>allprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = &quot;../build&quot;\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(&quot;:app&quot;)\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.buildDir\n}\n\n\n\n\n</code></pre>\n<p>this is gradle.wrapper.properties</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.5-all.zip\n\n\n\n</code></pre>\n<p>If you need any more code or configuration details, let me know. I’m happy to provide them.</p>\n",
        "codigo": [
            "\nPS D:\\programming\\android\\test> flutter run \nLaunching lib\\main.dart on SM G610F in debug mode...\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'D:\\programming\\android\\test\\android\\build.gradle' line: 20\n\n* What went wrong:\nA problem occurred evaluating root project 'android'.\n> Could not get unknown property 'org' for root project 'android' of type org.gradle.api.Project.\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n> Get more help at https://help.gradle.org.\n\nBUILD FAILED in 5s\nRunning Gradle task 'assembleDebug'...                              6.2s\nError: Gradle task assembleDebug failed with exit code 1\n",
            "\n[√] Flutter (Channel stable, 3.24.3, on Microsoft Windows [Version 10.0.22631.4317], locale en-IN)\n    • Flutter version 3.24.3 on channel stable at C:\\flutter\\src\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 2663184aa7 (6 weeks ago), 2024-09-11 16:27:48 -0500\n    • Engine revision 36335019a8\n    • Dart version 3.5.3\n    • DevTools version 2.37.3\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 35.0.0)\n    • Android SDK at C:\\Users\\karti\\AppData\\Local\\Android\\sdk\n    • Platform android-35, build-tools 35.0.0\n    • Java binary at: C:\\Program Files\\Java\\jdk-17\\bin\\java\n    • Java version Java(TM) SE Runtime Environment (build 17.0.12+8-LTS-286)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the \"Desktop development with C++\" workload, including all of its default components\n\n[√] Android Studio (version 2024.2)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.3+-12282718-b509.11)\n\n[√] IntelliJ IDEA Community Edition (version 2024.2)\n    • IntelliJ at C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2024.2.3\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin version 242.22855.32\n\n[√] VS Code (version 1.94.2)\n    • VS Code at C:\\Users\\karti\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.99.20240930\n\n[√] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.22631.4317]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 130.0.6723.59\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 130.0.2849.46\n\n[√] Network resources\n    • All expected network resources are available.\n",
            "allprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = \"../build\"\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n}\nsubprojects {\n    project.evaluationDependsOn(\":app\")\n}\n\ntasks.register(\"clean\", Delete) {\n    delete rootProject.buildDir\n}\n\n\n\n\n",
            "allprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = \"../build\"\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n}\nsubprojects {\n    project.evaluationDependsOn(\":app\")\n}\n\ntasks.register(\"clean\", Delete) {\n    delete rootProject.buildDir\n}\n\n\n\n\n",
            "distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.5-all.zip\n\n\n\n"
        ]
    },
    {
        "titulo": "Invalid `Podfile` file: syntax error, unexpected `end&#39;",
        "score": 0,
        "views": 45,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-dependencies",
            "flutter-animation"
        ],
        "link": "https://stackoverflow.com/questions/79101866/invalid-podfile-file-syntax-error-unexpected-end",
        "conteudo_html": "<p>[!] Invalid <code>Podfile</code> file: syntax error, unexpected `end'.</p>\n<pre><code> #  \n</code></pre>\n<pre><code></code></pre>\n<p>odfile:25\n#  -------------------------------------------\n#    end\n&gt;  end\n#<br />\n#  -------------------------------------------</p>\n<pre><code>/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-core-1.15.2/lib/cocoapods-core/podfile.rb:335:in `rescue in block in from_ruby'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-core-1.15.2/lib/cocoapods-core/podfile.rb:329:in `block in from_ruby'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-core-1.15.2/lib/cocoapods-core/podfile.rb:50:in `instance_eval'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-core-1.15.2/lib/cocoapods-core/podfile.rb:50:in `initialize'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-core-1.15.2/lib/cocoapods-core/podfile.rb:327:in `new'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-core-1.15.2/lib/cocoapods-core/podfile.rb:327:in `from_ruby'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-core-1.15.2/lib/cocoapods-core/podfile.rb:293:in `from_file'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-1.15.2/lib/cocoapods/config.rb:206:in `podfile'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:160:in `verify_podfile_exists!'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-1.15.2/lib/cocoapods/command/install.rb:46:in `run'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/claide-1.1.0/lib/claide/command.rb:334:in `run'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:52:in `run'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-1.15.2/bin/pod:55:in `&lt;top (required)&gt;'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/bin/pod:25:in `load'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/bin/pod:25:in `&lt;main&gt;'\n</code></pre>\n<p>Error running pod install\nError launching application on iPhone 16 Pro Max.</p>\n<p>Hello,</p>\n<p>Has anyone had this error from a Flutter mobile project?</p>\n",
        "codigo": [
            "Podfile",
            " #  \n",
            "",
            "/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-core-1.15.2/lib/cocoapods-core/podfile.rb:335:in `rescue in block in from_ruby'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-core-1.15.2/lib/cocoapods-core/podfile.rb:329:in `block in from_ruby'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-core-1.15.2/lib/cocoapods-core/podfile.rb:50:in `instance_eval'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-core-1.15.2/lib/cocoapods-core/podfile.rb:50:in `initialize'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-core-1.15.2/lib/cocoapods-core/podfile.rb:327:in `new'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-core-1.15.2/lib/cocoapods-core/podfile.rb:327:in `from_ruby'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-core-1.15.2/lib/cocoapods-core/podfile.rb:293:in `from_file'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-1.15.2/lib/cocoapods/config.rb:206:in `podfile'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:160:in `verify_podfile_exists!'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-1.15.2/lib/cocoapods/command/install.rb:46:in `run'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/claide-1.1.0/lib/claide/command.rb:334:in `run'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:52:in `run'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/gems/cocoapods-1.15.2/bin/pod:55:in `<top (required)>'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/bin/pod:25:in `load'\n/opt/homebrew/Cellar/cocoapods/1.15.2_1/libexec/bin/pod:25:in `<main>'\n"
        ]
    },
    {
        "titulo": "Cannot execute -h\\bin\\java to determine the version",
        "score": 2,
        "views": 2121,
        "respostas": 2,
        "tags": [
            "java",
            "flutter",
            "dart",
            "android-studio"
        ],
        "link": "https://stackoverflow.com/questions/79100865/cannot-execute-h-bin-java-to-determine-the-version",
        "conteudo_html": "<h3>Steps to reproduce</h3>\n<ol>\n<li>set <code>JAVA_HOME</code> variable to <code>C:\\Program Files\\Android\\Android Studio\\jbr</code></li>\n<li>run <code>PS C:\\&gt; flutter doctor --android-licenses</code></li>\n<li>get the error</li>\n<li>try to set <code>JAVA_HOME</code> variable to <code>C:\\Program Files\\Java\\jdk-23</code></li>\n<li>get the same error</li>\n</ol>\n<h3>Actual results</h3>\n<pre class=\"lang-none prettyprint-override\"><code>PS C:\\Users\\tri36&gt; flutter doctor --android-licenses\n\nERROR: JAVA_HOME is set to an invalid directory: -h\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\nAndroid sdkmanager tool was found, but failed to run\n(C:\\Users\\tri36\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\latest\\bin\\sdkmanager.bat): &quot;exited code 1&quot;.\nTry re-installing or updating your Android SDK,\nvisit https://flutter.dev/to/windows-android-setup for detailed instructions.\n</code></pre>\n<h3>Logs</h3>\n\nLogs\n<pre class=\"lang-none prettyprint-override\"><code>\nERROR: JAVA_HOME is set to an invalid directory: -h\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\nAndroid sdkmanager tool was found, but failed to run\n(C:\\Users\\tri36\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\latest\\bin\\sdkmanager.bat): &quot;exited code 1&quot;.\nTry re-installing or updating your Android SDK,\nvisit https://flutter.dev/to/windows-android-setup for detailed instructions.\n\n#0      throwToolExit (package:flutter_tools/src/base/common.dart:10:3)\n#1      AndroidLicenseValidator.runLicenseManager (package:flutter_tools/src/android/android_workflow.dart:410:9)\n&lt;asynchronous suspension&gt;\n#2      DoctorCommand.runCommand (package:flutter_tools/src/commands/doctor.dart:49:26)\n&lt;asynchronous suspension&gt;\n#3      FlutterCommand.run.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command.dart:1408:27)\n&lt;asynchronous suspension&gt;\n#4      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:153:19)\n&lt;asynchronous suspension&gt;\n#5      CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n&lt;asynchronous suspension&gt;\n#6      FlutterCommandRunner.runCommand.&lt;anonymous closure&gt;\n(package:flutter_tools/src/runner/flutter_command_runner.dart:420:9)\n&lt;asynchronous suspension&gt;\n#7      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:153:19)\n&lt;asynchronous suspension&gt;\n#8      FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:364:5)\n&lt;asynchronous suspension&gt;\n#9      run.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:flutter_tools/runner.dart:130:9)\n&lt;asynchronous suspension&gt;\n#10     AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:153:19)\n&lt;asynchronous suspension&gt;\n#11     main (package:flutter_tools/executable.dart:93:3)\n&lt;asynchronous suspension&gt;\n\n</code></pre>\n\n<h3>Flutter Doctor output</h3>\n\nDoctor output\n<pre class=\"lang-none prettyprint-override\"><code>\n[✓] Flutter (Channel stable, 3.24.3, on Microsoft Windows [Version 10.0.19045.5011], locale en-US)\n    • Flutter version 3.24.3 on channel stable at C:\\Users\\tri36\\dev\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 2663184aa7 (5 weeks ago), 2024-09-11 16:27:48 -0500\n    • Engine revision 36335019a8\n    • Dart version 3.5.3\n    • DevTools version 2.37.3\n\n[✓] Windows Version (Installed version of Windows is version 10 or higher)\n\n[!] Android toolchain - develop for Android devices (Android SDK version 35.0.0)\n    • Android SDK at C:\\Users\\tri36\\AppData\\Local\\Android\\Sdk\n    • Platform android-35, build-tools 35.0.0\n    • ANDROID_HOME = C:\\Users\\tri36\\AppData\\Local\\Android\\Sdk\n    • Java binary at: -h\\bin\\java\n    ✗ Cannot execute -h\\bin\\java to determine the version\n\n[✓] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[✓] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.11.5)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.11.35327.3\n    • Windows 10 SDK version 10.0.22621.0\n\n[✓] Android Studio (version 2024.2)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.3+-12282718-b509.11)\n\n[✓] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.19045.5011]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 129.0.6668.101\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 129.0.2792.89\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n\n</code></pre>\n\n<p>solove this problem</p>\n",
        "codigo": [
            "JAVA_HOME",
            "C:\\Program Files\\Android\\Android Studio\\jbr",
            "PS C:\\> flutter doctor --android-licenses",
            "JAVA_HOME",
            "C:\\Program Files\\Java\\jdk-23",
            "PS C:\\Users\\tri36> flutter doctor --android-licenses\n\nERROR: JAVA_HOME is set to an invalid directory: -h\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\nAndroid sdkmanager tool was found, but failed to run\n(C:\\Users\\tri36\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\latest\\bin\\sdkmanager.bat): \"exited code 1\".\nTry re-installing or updating your Android SDK,\nvisit https://flutter.dev/to/windows-android-setup for detailed instructions.\n",
            "\nERROR: JAVA_HOME is set to an invalid directory: -h\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\nAndroid sdkmanager tool was found, but failed to run\n(C:\\Users\\tri36\\AppData\\Local\\Android\\Sdk\\cmdline-tools\\latest\\bin\\sdkmanager.bat): \"exited code 1\".\nTry re-installing or updating your Android SDK,\nvisit https://flutter.dev/to/windows-android-setup for detailed instructions.\n\n#0      throwToolExit (package:flutter_tools/src/base/common.dart:10:3)\n#1      AndroidLicenseValidator.runLicenseManager (package:flutter_tools/src/android/android_workflow.dart:410:9)\n<asynchronous suspension>\n#2      DoctorCommand.runCommand (package:flutter_tools/src/commands/doctor.dart:49:26)\n<asynchronous suspension>\n#3      FlutterCommand.run.<anonymous closure> (package:flutter_tools/src/runner/flutter_command.dart:1408:27)\n<asynchronous suspension>\n#4      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:153:19)\n<asynchronous suspension>\n#5      CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n<asynchronous suspension>\n#6      FlutterCommandRunner.runCommand.<anonymous closure>\n(package:flutter_tools/src/runner/flutter_command_runner.dart:420:9)\n<asynchronous suspension>\n#7      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:153:19)\n<asynchronous suspension>\n#8      FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:364:5)\n<asynchronous suspension>\n#9      run.<anonymous closure>.<anonymous closure> (package:flutter_tools/runner.dart:130:9)\n<asynchronous suspension>\n#10     AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:153:19)\n<asynchronous suspension>\n#11     main (package:flutter_tools/executable.dart:93:3)\n<asynchronous suspension>\n\n",
            "\n[✓] Flutter (Channel stable, 3.24.3, on Microsoft Windows [Version 10.0.19045.5011], locale en-US)\n    • Flutter version 3.24.3 on channel stable at C:\\Users\\tri36\\dev\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 2663184aa7 (5 weeks ago), 2024-09-11 16:27:48 -0500\n    • Engine revision 36335019a8\n    • Dart version 3.5.3\n    • DevTools version 2.37.3\n\n[✓] Windows Version (Installed version of Windows is version 10 or higher)\n\n[!] Android toolchain - develop for Android devices (Android SDK version 35.0.0)\n    • Android SDK at C:\\Users\\tri36\\AppData\\Local\\Android\\Sdk\n    • Platform android-35, build-tools 35.0.0\n    • ANDROID_HOME = C:\\Users\\tri36\\AppData\\Local\\Android\\Sdk\n    • Java binary at: -h\\bin\\java\n    ✗ Cannot execute -h\\bin\\java to determine the version\n\n[✓] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[✓] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.11.5)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.11.35327.3\n    • Windows 10 SDK version 10.0.22621.0\n\n[✓] Android Studio (version 2024.2)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 21.0.3+-12282718-b509.11)\n\n[✓] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.19045.5011]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 129.0.6668.101\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 129.0.2792.89\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n\n"
        ]
    },
    {
        "titulo": "How to use custom controller to delete indexed dynamically created container widgets",
        "score": 0,
        "views": 27,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "indexing",
            "dynamic",
            "controller"
        ],
        "link": "https://stackoverflow.com/questions/79083263/how-to-use-custom-controller-to-delete-indexed-dynamically-created-container-wid",
        "conteudo_html": "<p>I am new to creating custom controllers, but I'm trying to dynamically create/remove container widgets while being able to add data to each one independently of each other. When I remove the widgets, I am trying to specifically select which one to remove and research suggested creating indexed controllers is what I am after, but I'm having issues implementing this.</p>\n<p>The custom controller is this:</p>\n<pre><code>class WidgetController extends ChangeNotifier {\n\n  void removeWidget(controller, index) {\n    controller[index].dispose();\n    controller.removeAt(index);\n  }\n\n  void addWidget(controller) {\n    controller.add(WidgetController());\n  }\n}\n</code></pre>\n<p>The dynamic container widget that is to be created/removed is this:</p>\n<pre><code>class DynamicWidget extends StatefulWidget {\n  const DynamicWidget({\n    required this.controller,\n    required this.index,\n    super.key,\n  });\n\n  final List&lt;WidgetController&gt; controller;\n  final int index;\n\n  @override\n  State&lt;DynamicWidget&gt; createState() =&gt; _DynamicWidget();\n}\n\nclass _DynamicWidget extends State&lt;DynamicWidget&gt; {\n  _DynamicWidget();\n\n  int num = 1;\n\n  @override\n  Widget build(BuildContext context) {\n    return Expanded(\n      child: Container(\n        \n        decoration: BoxDecoration(\n          borderRadius: BorderRadius.circular(15),\n          color: Colors.redAccent.shade100,\n        ),\n        child: Row(\n          children: [\n      \n            Text(num.toString()),\n      \n            IconButton(\n              onPressed: (() {\n                setState(() {\n                  num = num + 1;\n                });\n              }),\n              icon: const Icon(Icons.add),\n            ),\n      \n            IconButton(\n              onPressed: () {\n                setState(() { // REMOVING WIDGET\n                  WidgetController().removeWidget(widget.controller, widget.index);\n                });\n              },\n              icon: const Icon(Icons.close),\n            ),\n      \n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>And the code that calls this widget is this:</p>\n<pre><code>class Test extends StatefulWidget {\n  const Test({super.key});\n\n  @override\n  State&lt;Test&gt; createState() =&gt; _Test();\n}\n\nclass _Test extends State&lt;Test&gt; {\n\n  List&lt;WidgetController&gt; controller = [WidgetController()];\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: SafeArea(\n        child: SingleChildScrollView(\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              \n              ListView.builder(\n                padding: const EdgeInsets.symmetric(horizontal: 15),\n                shrinkWrap: true,\n                itemCount: controller.length,\n                itemBuilder: (context, index) {\n                  return Padding(\n                    padding: const EdgeInsets.only(top: 15),\n                    child: Row(\n                      children: [\n                        DynamicWidget(controller: controller, index: index,),\n                      ],\n                    ),\n                  );\n                },\n              ),\n\n              const SizedBox(\n                height: 50,\n              ),\n\n              Center(\n                child: TextButton(\n                  onPressed: () {\n                    setState(() { // ADDING WIDGET\n                      WidgetController().addWidget(controller);\n                    });\n                  },\n                  child: const Text('Add More'),\n                ),\n              ),\n\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>The issues I'm running into are:</p>\n<ol>\n<li>I can add widgets fine, but cannot visually remove them (widgets are being removed behind the scenes, but not updating in app UI until I refresh by adding another widget)</li>\n<li>I'm not sure the indexing is working properly. I think only the end of the widget list is being removed, not the specific widget I am trying to remove</li>\n</ol>\n<p>If anyone can alter my code above to fix these issues, it would be very appreciated. I have trying mapping but found that when you add something to one of the created widgets, it is added to all of them.</p>\n<p>Please note, this is a simplified version of the source code</p>\n",
        "codigo": [
            "class WidgetController extends ChangeNotifier {\n\n  void removeWidget(controller, index) {\n    controller[index].dispose();\n    controller.removeAt(index);\n  }\n\n  void addWidget(controller) {\n    controller.add(WidgetController());\n  }\n}\n",
            "class DynamicWidget extends StatefulWidget {\n  const DynamicWidget({\n    required this.controller,\n    required this.index,\n    super.key,\n  });\n\n  final List<WidgetController> controller;\n  final int index;\n\n  @override\n  State<DynamicWidget> createState() => _DynamicWidget();\n}\n\nclass _DynamicWidget extends State<DynamicWidget> {\n  _DynamicWidget();\n\n  int num = 1;\n\n  @override\n  Widget build(BuildContext context) {\n    return Expanded(\n      child: Container(\n        \n        decoration: BoxDecoration(\n          borderRadius: BorderRadius.circular(15),\n          color: Colors.redAccent.shade100,\n        ),\n        child: Row(\n          children: [\n      \n            Text(num.toString()),\n      \n            IconButton(\n              onPressed: (() {\n                setState(() {\n                  num = num + 1;\n                });\n              }),\n              icon: const Icon(Icons.add),\n            ),\n      \n            IconButton(\n              onPressed: () {\n                setState(() { // REMOVING WIDGET\n                  WidgetController().removeWidget(widget.controller, widget.index);\n                });\n              },\n              icon: const Icon(Icons.close),\n            ),\n      \n          ],\n        ),\n      ),\n    );\n  }\n}\n",
            "class Test extends StatefulWidget {\n  const Test({super.key});\n\n  @override\n  State<Test> createState() => _Test();\n}\n\nclass _Test extends State<Test> {\n\n  List<WidgetController> controller = [WidgetController()];\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: SafeArea(\n        child: SingleChildScrollView(\n          child: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              \n              ListView.builder(\n                padding: const EdgeInsets.symmetric(horizontal: 15),\n                shrinkWrap: true,\n                itemCount: controller.length,\n                itemBuilder: (context, index) {\n                  return Padding(\n                    padding: const EdgeInsets.only(top: 15),\n                    child: Row(\n                      children: [\n                        DynamicWidget(controller: controller, index: index,),\n                      ],\n                    ),\n                  );\n                },\n              ),\n\n              const SizedBox(\n                height: 50,\n              ),\n\n              Center(\n                child: TextButton(\n                  onPressed: () {\n                    setState(() { // ADDING WIDGET\n                      WidgetController().addWidget(controller);\n                    });\n                  },\n                  child: const Text('Add More'),\n                ),\n              ),\n\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Mocking SupabaseClient&#39;s rpc Method with Mockito in Dart",
        "score": 0,
        "views": 80,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "supabase"
        ],
        "link": "https://stackoverflow.com/questions/79080181/mocking-supabaseclients-rpc-method-with-mockito-in-dart",
        "conteudo_html": "<p>I'm trying to mock the <code>SupabaseClient</code> class in my Dart project to verify that the <code>rpc</code> method is called with the correct parameters. I’m using the Mockito package for this, but I'm running into an issue with the overridden <code>rpc</code> method.</p>\n<p>Here's the overridden <code>rpc</code> method I have:</p>\n<pre><code>@override\n_i2.PostgrestFilterBuilder&lt;T&gt; rpc&lt;T&gt;(\n  String? fn, {\n  Map&lt;String, dynamic&gt;? params,\n}) =&gt;\n    (super.noSuchMethod(\n      Invocation.method(\n        #rpc,\n        [fn],\n        {#params: params},\n      ),\n      returnValue: _FakePostgrestFilterBuilder_7&lt;T&gt;(\n        this,\n        Invocation.method(\n          #rpc,\n          [fn],\n          {#params: params},\n        ),\n      ),\n      returnValueForMissingStub: _FakePostgrestFilterBuilder_7&lt;T&gt;(\n        this,\n        Invocation.method(\n          #rpc,\n          [fn],\n          {#params: params},\n        ),\n      ),\n    ) as _i2.PostgrestFilterBuilder&lt;T&gt;);\n</code></pre>\n<p>To facilitate the mocking, I've also mocked the <code>PostgrestFilterBuilder</code> class. My test setup looks like this:</p>\n<pre><code>void main() {\n  final MockSupabaseClient supabase = MockSupabaseClient();\n  final MockPostgrestFilterBuilder&lt;List&lt;Map&lt;String, dynamic&gt;&gt;&gt; postgrestFilterBuilder = MockPostgrestFilterBuilder();\n  final RemoteDataSource remoteDataSource = RemoteDataSourceImpl(supabase: supabase);\n\n  test('fetch quiz items test', () async {\n    when(\n      supabase.rpc&lt;List&lt;Map&lt;String, dynamic&gt;&gt;&gt;('get_exams_by_topic', params: {'topic_param': 'topic'})\n    ).thenAnswer((realInvocation) =&gt; postgrestFilterBuilder);\n\n    await remoteDataSource.fetchQuizItems(topic: 'topic');\n\n    verify(supabase.rpc('get_exams_by_topic', params: {'topic_param': 'topic'}));\n  });\n}\n</code></pre>\n<p>However, I encountered the following error during the test:</p>\n<pre><code>MissingStubError: 'then'\nNo stub was found which matches the arguments of this method call:\nthen(Closure: (List&lt;Map&lt;String, dynamic&gt;&gt;) =&gt; dynamic, {onError: Closure: (Object, StackTrace) =&gt; dynamic})\n</code></pre>\n<p>How can I properly mock the <code>rpc</code> method of the <code>SupabaseClient</code> class to avoid this <code>MissingStubError</code>? What adjustments do I need to make to ensure that the mocked method returns the correct type?</p>\n",
        "codigo": [
            "SupabaseClient",
            "rpc",
            "rpc",
            "rpc",
            "@override\n_i2.PostgrestFilterBuilder<T> rpc<T>(\n  String? fn, {\n  Map<String, dynamic>? params,\n}) =>\n    (super.noSuchMethod(\n      Invocation.method(\n        #rpc,\n        [fn],\n        {#params: params},\n      ),\n      returnValue: _FakePostgrestFilterBuilder_7<T>(\n        this,\n        Invocation.method(\n          #rpc,\n          [fn],\n          {#params: params},\n        ),\n      ),\n      returnValueForMissingStub: _FakePostgrestFilterBuilder_7<T>(\n        this,\n        Invocation.method(\n          #rpc,\n          [fn],\n          {#params: params},\n        ),\n      ),\n    ) as _i2.PostgrestFilterBuilder<T>);\n",
            "PostgrestFilterBuilder",
            "void main() {\n  final MockSupabaseClient supabase = MockSupabaseClient();\n  final MockPostgrestFilterBuilder<List<Map<String, dynamic>>> postgrestFilterBuilder = MockPostgrestFilterBuilder();\n  final RemoteDataSource remoteDataSource = RemoteDataSourceImpl(supabase: supabase);\n\n  test('fetch quiz items test', () async {\n    when(\n      supabase.rpc<List<Map<String, dynamic>>>('get_exams_by_topic', params: {'topic_param': 'topic'})\n    ).thenAnswer((realInvocation) => postgrestFilterBuilder);\n\n    await remoteDataSource.fetchQuizItems(topic: 'topic');\n\n    verify(supabase.rpc('get_exams_by_topic', params: {'topic_param': 'topic'}));\n  });\n}\n",
            "MissingStubError: 'then'\nNo stub was found which matches the arguments of this method call:\nthen(Closure: (List<Map<String, dynamic>>) => dynamic, {onError: Closure: (Object, StackTrace) => dynamic})\n",
            "rpc",
            "SupabaseClient",
            "MissingStubError"
        ]
    },
    {
        "titulo": "Issue with In-App Purchase Discount Promo Code Process for iOS in Flutter App (purchase-stream listener is not firing 2nd time)",
        "score": 1,
        "views": 333,
        "respostas": 0,
        "tags": [
            "ios",
            "flutter",
            "xcode",
            "dart",
            "flutter-in-app-purchase"
        ],
        "link": "https://stackoverflow.com/questions/79074644/issue-with-in-app-purchase-discount-promo-code-process-for-ios-in-flutter-app-p",
        "conteudo_html": "<p>I am facing an issue while reviewing the In-App Purchase discount promo code process for iOS. It is working well on Android.</p>\n<p>We have integrated the In-App Purchase mechanism in our Flutter app and now want to verify it on iOS. On iOS, we display the <code>PromoCodeRedemptionSheet</code> (provided by Apple’s In-App Purchase Kit framework) where the user can enter a promo code.</p>\n<p>After entering the code and successfully applying it, once the redemption sheet is dismissed, we are not receiving the callback in the listener for the <code>PurchaseUpdated</code> event.</p>\n<p>It worked fine the first time, but the issue occurs when we attempt to review the process again.</p>\n<p><strong>Note:</strong> To verify the promo code mechanism during debugging, we added a <code>StoreKit</code> file in Xcode and are using that StoreKit configuration to simulate the purchase process. When the redemption sheet opens, all the promo codes created in the Apple Developer Console are displayed, allowing the user to select one. The selected offer code is applied, and the user sees the sandbox payment sheet. After a successful payment, we see the &quot;Thank You&quot; screen with a &quot;Close&quot; button. However, after tapping the &quot;Close&quot; button and dismissing the redemption sheet, the callback is not received at the app level in the purchase stream.</p>\n<pre><code>class OfferCodeScreenForIosState extends State&lt;OfferCodeScreenForIos&gt; {\n  final InAppPurchase _iap = InAppPurchase.instance;\n  late StreamSubscription&lt;List&lt;PurchaseDetails&gt;&gt; _subscription;\n  bool _isAvailable = false;\n  List&lt;ProductDetails&gt; _products = [];\n  bool _loading = true;\n\n  @override\n  void initState() {\n    super.initState();\n    printf(&quot;Offer_Code_ScreenFor_iOS &gt; initState&quot;);\n\n    // Set up a listener for purchases\n    final purchaseUpdated = _iap.purchaseStream;\n\n    _subscription = purchaseUpdated.listen((purchases) {\n**//// THIS IS NOT WORKING WHEN PURCHASING THE DIFFERENT IN-APP SECOND TIME**\n      printf(&quot;Offer_Code_ScreenFor_iOS &gt; purchaseUpdated.listen&quot;);\n      _handlePurchaseUpdates(purchases);\n    }, onError: (error) {\n      // Handle error\n      printf(&quot;Purchase Error: $error&quot;);\n    });\n\n    // Initialize In-App Purchases\n    _initializeStore();\n  }\n\n  Future&lt;void&gt; _initializeStore() async {\n    // Check availability of the store\n    _isAvailable = await _iap.isAvailable();\n    if (_isAvailable) {\n      const Set&lt;String&gt; ids = {\n        '{{INAPP_PURCHASE_PRODUCT_ID}}',\n      };\n      final ProductDetailsResponse response =\n          await _iap.queryProductDetails(ids);\n\n      if (response.notFoundIDs.isNotEmpty) {\n        printf(&quot;Not found IDs: ${response.notFoundIDs}&quot;);\n      }\n\n      setState(() {\n        _products = response.productDetails;\n        _loading = false;\n      });\n    }\n  }\n\n  Future&lt;void&gt; _redeemOfferCode() async {\n    if (await SKPaymentQueueWrapper.canMakePayments()) {\n      try {\n        final iapStoreKitPlatformAddition =\n            _iap.getPlatformAddition&lt;InAppPurchaseStoreKitPlatformAddition&gt;();\n\n        await iapStoreKitPlatformAddition.presentCodeRedemptionSheet();\n      } catch (e) {\n        printf(&quot;Error presenting Offer Code Redemption Sheet: $e&quot;);\n      }\n    } else {\n      printf(&quot;In-App Purchases are disabled on this device.&quot;);\n    }\n  }\n\n  // Handle purchase updates\n  void _handlePurchaseUpdates(List&lt;PurchaseDetails&gt; purchases) {\n    for (var purchase in purchases) {\n      if (purchase.status == PurchaseStatus.purchased) {\n        printf(&quot;Purchase successful: ${purchase.productID}&quot;);\n//// COMPLETING PURCHASE FOR TESTING BUT WE WILL NEED TO VERIFY SERVER VERIFICATION DATA HERE\n        _iap.completePurchase(purchase);\n\n      } else if (purchase.status == PurchaseStatus.pending) {\n        printf(\n            &quot;Purchase status pending purchaseID: ${purchase.purchaseID}&quot;);\n      } else if (purchase.status == PurchaseStatus.restored) {\n        printf(&quot;Purchase Restored: ${purchase.purchaseID}&quot;);\n      } else if (purchase.status == PurchaseStatus.canceled) {\n        printf(&quot;Purchase Cancelled: ${purchase.purchaseID}&quot;);\n      } else if (purchase.status == PurchaseStatus.error) {\n        printf(&quot;Purchase error: ${purchase.error?.message}&quot;);\n      }\n    }\n  }\n}\n</code></pre>\n",
        "codigo": [
            "PromoCodeRedemptionSheet",
            "PurchaseUpdated",
            "StoreKit",
            "class OfferCodeScreenForIosState extends State<OfferCodeScreenForIos> {\n  final InAppPurchase _iap = InAppPurchase.instance;\n  late StreamSubscription<List<PurchaseDetails>> _subscription;\n  bool _isAvailable = false;\n  List<ProductDetails> _products = [];\n  bool _loading = true;\n\n  @override\n  void initState() {\n    super.initState();\n    printf(\"Offer_Code_ScreenFor_iOS > initState\");\n\n    // Set up a listener for purchases\n    final purchaseUpdated = _iap.purchaseStream;\n\n    _subscription = purchaseUpdated.listen((purchases) {\n**//// THIS IS NOT WORKING WHEN PURCHASING THE DIFFERENT IN-APP SECOND TIME**\n      printf(\"Offer_Code_ScreenFor_iOS > purchaseUpdated.listen\");\n      _handlePurchaseUpdates(purchases);\n    }, onError: (error) {\n      // Handle error\n      printf(\"Purchase Error: $error\");\n    });\n\n    // Initialize In-App Purchases\n    _initializeStore();\n  }\n\n  Future<void> _initializeStore() async {\n    // Check availability of the store\n    _isAvailable = await _iap.isAvailable();\n    if (_isAvailable) {\n      const Set<String> ids = {\n        '{{INAPP_PURCHASE_PRODUCT_ID}}',\n      };\n      final ProductDetailsResponse response =\n          await _iap.queryProductDetails(ids);\n\n      if (response.notFoundIDs.isNotEmpty) {\n        printf(\"Not found IDs: ${response.notFoundIDs}\");\n      }\n\n      setState(() {\n        _products = response.productDetails;\n        _loading = false;\n      });\n    }\n  }\n\n  Future<void> _redeemOfferCode() async {\n    if (await SKPaymentQueueWrapper.canMakePayments()) {\n      try {\n        final iapStoreKitPlatformAddition =\n            _iap.getPlatformAddition<InAppPurchaseStoreKitPlatformAddition>();\n\n        await iapStoreKitPlatformAddition.presentCodeRedemptionSheet();\n      } catch (e) {\n        printf(\"Error presenting Offer Code Redemption Sheet: $e\");\n      }\n    } else {\n      printf(\"In-App Purchases are disabled on this device.\");\n    }\n  }\n\n  // Handle purchase updates\n  void _handlePurchaseUpdates(List<PurchaseDetails> purchases) {\n    for (var purchase in purchases) {\n      if (purchase.status == PurchaseStatus.purchased) {\n        printf(\"Purchase successful: ${purchase.productID}\");\n//// COMPLETING PURCHASE FOR TESTING BUT WE WILL NEED TO VERIFY SERVER VERIFICATION DATA HERE\n        _iap.completePurchase(purchase);\n\n      } else if (purchase.status == PurchaseStatus.pending) {\n        printf(\n            \"Purchase status pending purchaseID: ${purchase.purchaseID}\");\n      } else if (purchase.status == PurchaseStatus.restored) {\n        printf(\"Purchase Restored: ${purchase.purchaseID}\");\n      } else if (purchase.status == PurchaseStatus.canceled) {\n        printf(\"Purchase Cancelled: ${purchase.purchaseID}\");\n      } else if (purchase.status == PurchaseStatus.error) {\n        printf(\"Purchase error: ${purchase.error?.message}\");\n      }\n    }\n  }\n}\n"
        ]
    },
    {
        "titulo": "Unit Testing a Bloc in Flutter: States Not Emitting as Expected",
        "score": 0,
        "views": 43,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "tags",
            "bloc",
            "flutter-bloc"
        ],
        "link": "https://stackoverflow.com/questions/79067577/unit-testing-a-bloc-in-flutter-states-not-emitting-as-expected",
        "conteudo_html": "<p>I'm working on a Flutter application using the BLoC pattern, and I'm currently facing an issue with my AuthenticationBloc during unit testing. My unit test is supposed to emit two states: loading and success, but it only emits the loading state. Here’s the relevant code for my AuthenticationBloc and the unit test:</p>\n<pre><code>dart\n\nclass AuthenticationBloc\n    extends Bloc&lt;AuthenticationEvent, AuthenticationState&gt; {\n  AuthenticationBloc(this.registerUseCase, this.refreshTokenUseCase)\n      : super(AuthenticationState.initial()) {\n    on&lt;Register&gt;(onRegister);\n  }\n  final RegisterUseCase registerUseCase;\n  final RefreshTokenUseCase refreshTokenUseCase;\n\n  Future&lt;void&gt; onRegister(\n      Register event, Emitter&lt;AuthenticationState&gt; emit) async {\n    //  await HiveStorage().clearBox();\n    emit(AuthenticationState(state: StateStatus.loading));\n    if (event.isConnected) {\n      bool isValidUser = false;\n      UserData? storageUserData = await getUserStorage(event);\n      final now = DateTime.now();\n      if (storageUserData == null) {\n        await HiveStorage().clearBox();\n        // await HiveStorage().putLastDate(date: now);\n        isValidUser = false;\n      } else {\n        final lastDate = await HiveStorage().getLastDate();\n        if (lastDate != null) {\n          if (lastDate.add(const Duration(days: 15)).isBefore(now)) {\n            await HiveStorage().clearBox();\n            isValidUser = false;\n            // await HiveStorage().putLastDate(date: now);\n          } else {\n            isValidUser = true;\n          }\n        } else {\n          await HiveStorage().clearBox();\n          isValidUser = false;\n          // await HiveStorage().putLastDate(date: now);\n        }\n      }\n      String? storageFirebaseToken = await getFirebaseToken();\n      if (isValidUser &amp;&amp; storageFirebaseToken != null) {\n        if (event.registerRequest.firebaseToken != storageFirebaseToken) {\n          Completer&lt;void&gt; completer = Completer&lt;void&gt;();\n          try {\n            RefreshTokenRequest refreshTokenRequest = RefreshTokenRequest(\n                firebaseToken: event.registerRequest.firebaseToken);\n            Endpoints.token = storageUserData!.token!;\n            String? token;\n            final result =\n                await refreshTokenUseCase.call(params: refreshTokenRequest);\n            result.fold((l) {\n              emit(state.copyWith(\n                  state: StateStatus.success, userData: storageUserData));\n              completer.complete();\n            }, (r) async {\n              token = r;\n              await HiveStorage().putFirebaseToken(\n                  firebaseToken: event.registerRequest.firebaseToken);\n              storageUserData = storageUserData!.copyWith(token: token);\n              await HiveStorage().putUserData(\n                  userData:\n                      UserDateHiveMapper().toHiveUserData(storageUserData!));\n              emit(state.copyWith(\n                  state: StateStatus.success, userData: storageUserData));\n\n              completer.complete();\n            });\n          } catch (e) {\n            print(e);\n            emit(state.copyWith(\n                state: StateStatus.success, userData: storageUserData));\n            completer.complete();\n          }\n          await completer.future;\n        } else {\n          emit(state.copyWith(\n              state: StateStatus.success, userData: storageUserData));\n        }\n      } else {\n        Completer&lt;void&gt; completer = Completer&lt;void&gt;();\n        try {\n          UserData? userData;\n          final result =\n              await registerUseCase.call(params: event.registerRequest);\n          result.fold((l) {\n            emit(state.copyWith(state: StateStatus.error));\n            completer.complete();\n          }, (r) async {\n            userData = r;\n\n            await HiveStorage()\n                .putFirebaseToken(\n                    firebaseToken: event.registerRequest.firebaseToken)\n                .whenComplete(() {\n              return HiveStorage().putLastDate(date: now);\n            }).whenComplete(() {\n              return HiveStorage().putUserData(\n                  userData: UserDateHiveMapper().toHiveUserData(userData!));\n            });\n\n            emit(\n                state.copyWith(state: StateStatus.success, userData: userData));\n            completer.complete();\n          });\n        } catch (e) {\n          emit(state.copyWith(state: StateStatus.error));\n          completer.complete();\n        }\n        await completer.future;\n      }\n    } else {\n      await getStorageUserData(event, emit);\n    }\n  }\n\n  Future&lt;UserData?&gt; getUserStorage(Register event) async {\n    UserData? storageUserData = await HiveStorage().getUserData();\n    return storageUserData != null\n        ? storageUserData.user!.msisdn == event.registerRequest.msisdn\n            ? storageUserData\n            : null\n        : null;\n  }\n\n  Future&lt;String?&gt; getFirebaseToken() async {\n    String? storageFirebaseToken = await HiveStorage().getFirebaseToken();\n    return storageFirebaseToken;\n  }\n\n  Future&lt;void&gt; getStorageUserData(\n      Register event, Emitter&lt;AuthenticationState&gt; emit) async {\n    Completer&lt;void&gt; completer = Completer&lt;void&gt;();\n    UserData? storageUserData = await getUserStorage(event);\n    final now = DateTime.now();\n    if (storageUserData != null) {\n      DateTime? lastDate = await HiveStorage().getLastDate();\n      if (lastDate != null) {\n        if (lastDate.add(const Duration(days: 15)).isBefore(now)) {\n          await HiveStorage().clearBox();\n          emit(state.copyWith(state: StateStatus.error));\n          completer.complete();\n        } else {\n          emit(state.copyWith(\n              state: StateStatus.success, userData: storageUserData));\n          completer.complete();\n        }\n      } else {\n        await HiveStorage().clearBox();\n        emit(state.copyWith(state: StateStatus.error));\n        completer.complete();\n      }\n    } else {\n      await HiveStorage().clearBox();\n      emit(state.copyWith(state: StateStatus.error));\n      completer.complete();\n    }\n    await completer.future;\n  }\n}\n</code></pre>\n<pre><code>Future&lt;void&gt; initHiveForTest() async {\n  final directory = Directory.systemTemp.createTempSync();\n  Hive.init(directory.path);\n  registerAdapters();\n  await Hive.openBox('orange_im');\n}\n\nvoid registerAdapters() {\n  Hive.registerAdapter(HiveUserDataAdapter());\n  Hive.registerAdapter(HiveProfileAdapter());\n}\n\nvoid main() async {\n  TestWidgetsFlutterBinding.ensureInitialized();\n\n  await initHiveForTest();\n\n  late AuthenticationBloc authenticationBloc;\n  late MockRegisterUseCase mockRegisterUseCase;\n  late MockHiveStorage mockHiveStorage;\n  late MockRefreshTokenUseCase mockRefreshTokenUseCase;\n  final userDateHiveMapper = UserDateHiveMapper();\n  setUp(() async {\n    mockRegisterUseCase = MockRegisterUseCase();\n    mockHiveStorage = MockHiveStorage();\n    mockRefreshTokenUseCase = MockRefreshTokenUseCase();\n\n    when(mockHiveStorage.putUserData(userData: anyNamed('userData')))\n        .thenAnswer((_) async =&gt; Future.value());\n    when(mockHiveStorage.putUserData(userData: anyNamed('userData')))\n        .thenAnswer((_) async =&gt; Future.value());\n    when(mockHiveStorage.putLastDate(date: anyNamed('date')))\n        .thenAnswer((_) async =&gt; Future.value());\n    authenticationBloc =\n        AuthenticationBloc(mockRegisterUseCase, mockRefreshTokenUseCase);\n  });\n\n  tearDown(() async {\n    await Hive.box('orange_im').clear();\n    await authenticationBloc.close();\n  });\n\n  group('AuthenticationBloc - onRegister event', () {\n    const tRegisterRequest = RegisterRequest(\n      msisdn: 'msi123456',\n      name: 'Joe Kae',\n      avatarUrl: &quot;http://example.com/avatar_test.png&quot;,\n      firebaseToken: 'test_token1',\n    );\n\n    const tUserData = UserData(\n      token: 'token',\n      user: Profile(\n        msisdn: &quot;msi123456&quot;,\n        name: &quot;Joe Kae&quot;,\n        isArchived: false,\n        isCreator: false,\n        deletedAt: null,\n        avatarURL: &quot;http://example.com/avatar_test.png&quot;,\n        lastActive: null,\n        isActive: false,\n        orangeUser: null,\n        isBlocked: false,\n      ),\n    );\n    blocTest&lt;AuthenticationBloc, AuthenticationState&gt;(\n      'emits [success] when user data is retrieved from storage and date is valid',\n      build: () {\n        when(mockRegisterUseCase.call(params: anyNamed('params')))\n            .thenAnswer((_) async =&gt; Right(tUserData));\n\n        when(mockHiveStorage.getUserData()).thenAnswer((_) async =&gt; null);\n        when(mockHiveStorage.getFirebaseToken())\n            .thenAnswer((_) async =&gt; 'test_token1');\n\n        when(mockHiveStorage.putFirebaseToken(\n                firebaseToken: anyNamed('firebaseToken')))\n            .thenAnswer((_) async =&gt; Future.value());\n\n        // Convert UserData to HiveUserData using the mapper\n        final hiveUserData = userDateHiveMapper.toHiveUserData(tUserData);\n\n        when(mockHiveStorage.putUserData(userData: hiveUserData))\n            .thenAnswer((_) async =&gt; Future.value()); // Store user data\n\n        when(mockHiveStorage.putLastDate(date: anyNamed('date')))\n            .thenAnswer((_) async =&gt; Future.value());\n\n        return authenticationBloc;\n      },\n      act: (bloc) {\n        bloc.add(\n            Register(registerRequest: tRegisterRequest, isConnected: true));\n      },\n      expect: () =&gt; [\n        AuthenticationState(state: StateStatus.loading), // Loading state\n        AuthenticationState(state: StateStatus.success, userData: tUserData),\n      ],\n      verify: (bloc) {\n        verifyNever(mockRegisterUseCase.call(params: tRegisterRequest))\n            .called(1);\n        verifyNever(\n                mockHiveStorage.putFirebaseToken(firebaseToken: 'test_token1'))\n            .called(1);\n        // Verify user data was stored\n        verifyNever(mockHiveStorage.putLastDate(date: anyNamed('date')))\n            .called(1);\n      },\n    );\n  });\n}\n\n</code></pre>\n<p>Expected vs Actual Results\nDuring testing, I expect the following sequence of states:</p>\n<p>Expected:</p>\n<pre><code>[\n  _$AuthenticationStateImpl:AuthenticationState(state: StateStatus.loading, userData: null),\n  _$AuthenticationStateImpl:AuthenticationState(state: StateStatus.success, userData: UserData(...))\n]\n</code></pre>\n<p>Actual:</p>\n<pre><code>[\n  _$AuthenticationStateImpl:AuthenticationState(state: StateStatus.loading, userData: null)\n]\n</code></pre>\n",
        "codigo": [
            "dart\n\nclass AuthenticationBloc\n    extends Bloc<AuthenticationEvent, AuthenticationState> {\n  AuthenticationBloc(this.registerUseCase, this.refreshTokenUseCase)\n      : super(AuthenticationState.initial()) {\n    on<Register>(onRegister);\n  }\n  final RegisterUseCase registerUseCase;\n  final RefreshTokenUseCase refreshTokenUseCase;\n\n  Future<void> onRegister(\n      Register event, Emitter<AuthenticationState> emit) async {\n    //  await HiveStorage().clearBox();\n    emit(AuthenticationState(state: StateStatus.loading));\n    if (event.isConnected) {\n      bool isValidUser = false;\n      UserData? storageUserData = await getUserStorage(event);\n      final now = DateTime.now();\n      if (storageUserData == null) {\n        await HiveStorage().clearBox();\n        // await HiveStorage().putLastDate(date: now);\n        isValidUser = false;\n      } else {\n        final lastDate = await HiveStorage().getLastDate();\n        if (lastDate != null) {\n          if (lastDate.add(const Duration(days: 15)).isBefore(now)) {\n            await HiveStorage().clearBox();\n            isValidUser = false;\n            // await HiveStorage().putLastDate(date: now);\n          } else {\n            isValidUser = true;\n          }\n        } else {\n          await HiveStorage().clearBox();\n          isValidUser = false;\n          // await HiveStorage().putLastDate(date: now);\n        }\n      }\n      String? storageFirebaseToken = await getFirebaseToken();\n      if (isValidUser && storageFirebaseToken != null) {\n        if (event.registerRequest.firebaseToken != storageFirebaseToken) {\n          Completer<void> completer = Completer<void>();\n          try {\n            RefreshTokenRequest refreshTokenRequest = RefreshTokenRequest(\n                firebaseToken: event.registerRequest.firebaseToken);\n            Endpoints.token = storageUserData!.token!;\n            String? token;\n            final result =\n                await refreshTokenUseCase.call(params: refreshTokenRequest);\n            result.fold((l) {\n              emit(state.copyWith(\n                  state: StateStatus.success, userData: storageUserData));\n              completer.complete();\n            }, (r) async {\n              token = r;\n              await HiveStorage().putFirebaseToken(\n                  firebaseToken: event.registerRequest.firebaseToken);\n              storageUserData = storageUserData!.copyWith(token: token);\n              await HiveStorage().putUserData(\n                  userData:\n                      UserDateHiveMapper().toHiveUserData(storageUserData!));\n              emit(state.copyWith(\n                  state: StateStatus.success, userData: storageUserData));\n\n              completer.complete();\n            });\n          } catch (e) {\n            print(e);\n            emit(state.copyWith(\n                state: StateStatus.success, userData: storageUserData));\n            completer.complete();\n          }\n          await completer.future;\n        } else {\n          emit(state.copyWith(\n              state: StateStatus.success, userData: storageUserData));\n        }\n      } else {\n        Completer<void> completer = Completer<void>();\n        try {\n          UserData? userData;\n          final result =\n              await registerUseCase.call(params: event.registerRequest);\n          result.fold((l) {\n            emit(state.copyWith(state: StateStatus.error));\n            completer.complete();\n          }, (r) async {\n            userData = r;\n\n            await HiveStorage()\n                .putFirebaseToken(\n                    firebaseToken: event.registerRequest.firebaseToken)\n                .whenComplete(() {\n              return HiveStorage().putLastDate(date: now);\n            }).whenComplete(() {\n              return HiveStorage().putUserData(\n                  userData: UserDateHiveMapper().toHiveUserData(userData!));\n            });\n\n            emit(\n                state.copyWith(state: StateStatus.success, userData: userData));\n            completer.complete();\n          });\n        } catch (e) {\n          emit(state.copyWith(state: StateStatus.error));\n          completer.complete();\n        }\n        await completer.future;\n      }\n    } else {\n      await getStorageUserData(event, emit);\n    }\n  }\n\n  Future<UserData?> getUserStorage(Register event) async {\n    UserData? storageUserData = await HiveStorage().getUserData();\n    return storageUserData != null\n        ? storageUserData.user!.msisdn == event.registerRequest.msisdn\n            ? storageUserData\n            : null\n        : null;\n  }\n\n  Future<String?> getFirebaseToken() async {\n    String? storageFirebaseToken = await HiveStorage().getFirebaseToken();\n    return storageFirebaseToken;\n  }\n\n  Future<void> getStorageUserData(\n      Register event, Emitter<AuthenticationState> emit) async {\n    Completer<void> completer = Completer<void>();\n    UserData? storageUserData = await getUserStorage(event);\n    final now = DateTime.now();\n    if (storageUserData != null) {\n      DateTime? lastDate = await HiveStorage().getLastDate();\n      if (lastDate != null) {\n        if (lastDate.add(const Duration(days: 15)).isBefore(now)) {\n          await HiveStorage().clearBox();\n          emit(state.copyWith(state: StateStatus.error));\n          completer.complete();\n        } else {\n          emit(state.copyWith(\n              state: StateStatus.success, userData: storageUserData));\n          completer.complete();\n        }\n      } else {\n        await HiveStorage().clearBox();\n        emit(state.copyWith(state: StateStatus.error));\n        completer.complete();\n      }\n    } else {\n      await HiveStorage().clearBox();\n      emit(state.copyWith(state: StateStatus.error));\n      completer.complete();\n    }\n    await completer.future;\n  }\n}\n",
            "Future<void> initHiveForTest() async {\n  final directory = Directory.systemTemp.createTempSync();\n  Hive.init(directory.path);\n  registerAdapters();\n  await Hive.openBox('orange_im');\n}\n\nvoid registerAdapters() {\n  Hive.registerAdapter(HiveUserDataAdapter());\n  Hive.registerAdapter(HiveProfileAdapter());\n}\n\nvoid main() async {\n  TestWidgetsFlutterBinding.ensureInitialized();\n\n  await initHiveForTest();\n\n  late AuthenticationBloc authenticationBloc;\n  late MockRegisterUseCase mockRegisterUseCase;\n  late MockHiveStorage mockHiveStorage;\n  late MockRefreshTokenUseCase mockRefreshTokenUseCase;\n  final userDateHiveMapper = UserDateHiveMapper();\n  setUp(() async {\n    mockRegisterUseCase = MockRegisterUseCase();\n    mockHiveStorage = MockHiveStorage();\n    mockRefreshTokenUseCase = MockRefreshTokenUseCase();\n\n    when(mockHiveStorage.putUserData(userData: anyNamed('userData')))\n        .thenAnswer((_) async => Future.value());\n    when(mockHiveStorage.putUserData(userData: anyNamed('userData')))\n        .thenAnswer((_) async => Future.value());\n    when(mockHiveStorage.putLastDate(date: anyNamed('date')))\n        .thenAnswer((_) async => Future.value());\n    authenticationBloc =\n        AuthenticationBloc(mockRegisterUseCase, mockRefreshTokenUseCase);\n  });\n\n  tearDown(() async {\n    await Hive.box('orange_im').clear();\n    await authenticationBloc.close();\n  });\n\n  group('AuthenticationBloc - onRegister event', () {\n    const tRegisterRequest = RegisterRequest(\n      msisdn: 'msi123456',\n      name: 'Joe Kae',\n      avatarUrl: \"http://example.com/avatar_test.png\",\n      firebaseToken: 'test_token1',\n    );\n\n    const tUserData = UserData(\n      token: 'token',\n      user: Profile(\n        msisdn: \"msi123456\",\n        name: \"Joe Kae\",\n        isArchived: false,\n        isCreator: false,\n        deletedAt: null,\n        avatarURL: \"http://example.com/avatar_test.png\",\n        lastActive: null,\n        isActive: false,\n        orangeUser: null,\n        isBlocked: false,\n      ),\n    );\n    blocTest<AuthenticationBloc, AuthenticationState>(\n      'emits [success] when user data is retrieved from storage and date is valid',\n      build: () {\n        when(mockRegisterUseCase.call(params: anyNamed('params')))\n            .thenAnswer((_) async => Right(tUserData));\n\n        when(mockHiveStorage.getUserData()).thenAnswer((_) async => null);\n        when(mockHiveStorage.getFirebaseToken())\n            .thenAnswer((_) async => 'test_token1');\n\n        when(mockHiveStorage.putFirebaseToken(\n                firebaseToken: anyNamed('firebaseToken')))\n            .thenAnswer((_) async => Future.value());\n\n        // Convert UserData to HiveUserData using the mapper\n        final hiveUserData = userDateHiveMapper.toHiveUserData(tUserData);\n\n        when(mockHiveStorage.putUserData(userData: hiveUserData))\n            .thenAnswer((_) async => Future.value()); // Store user data\n\n        when(mockHiveStorage.putLastDate(date: anyNamed('date')))\n            .thenAnswer((_) async => Future.value());\n\n        return authenticationBloc;\n      },\n      act: (bloc) {\n        bloc.add(\n            Register(registerRequest: tRegisterRequest, isConnected: true));\n      },\n      expect: () => [\n        AuthenticationState(state: StateStatus.loading), // Loading state\n        AuthenticationState(state: StateStatus.success, userData: tUserData),\n      ],\n      verify: (bloc) {\n        verifyNever(mockRegisterUseCase.call(params: tRegisterRequest))\n            .called(1);\n        verifyNever(\n                mockHiveStorage.putFirebaseToken(firebaseToken: 'test_token1'))\n            .called(1);\n        // Verify user data was stored\n        verifyNever(mockHiveStorage.putLastDate(date: anyNamed('date')))\n            .called(1);\n      },\n    );\n  });\n}\n\n",
            "[\n  _$AuthenticationStateImpl:AuthenticationState(state: StateStatus.loading, userData: null),\n  _$AuthenticationStateImpl:AuthenticationState(state: StateStatus.success, userData: UserData(...))\n]\n",
            "[\n  _$AuthenticationStateImpl:AuthenticationState(state: StateStatus.loading, userData: null)\n]\n"
        ]
    },
    {
        "titulo": "Error running pod install (when trying to run Flutter app target platform macOS or iOS)",
        "score": -1,
        "views": 345,
        "respostas": 1,
        "tags": [
            "ios",
            "flutter",
            "macos",
            "dart",
            "cocoapods"
        ],
        "link": "https://stackoverflow.com/questions/79057102/error-running-pod-install-when-trying-to-run-flutter-app-target-platform-macos",
        "conteudo_html": "<p>Whenever I try to run my flutter app for target platform macOS I get the following output in the debug console where its says Error running pod install:</p>\n<pre><code>Launching lib/main.dart on macOS in debug mode...\nCocoaPods' output:\n↳\n      Preparing\n\n    Analyzing dependencies\n\n    Inspecting targets to integrate\n      Using `ARCHS` setting to build architectures of target `Pods-Runner`: (``)\n      Using `ARCHS` setting to build architectures of target `Pods-RunnerTests`: (``)\n\n    Fetching external sources\n    -&gt; Fetching podspec for `FlutterMacOS` from `Flutter/ephemeral`\n    -&gt; Fetching podspec for `path_provider_foundation` from `Flutter/ephemeral/.symlinks/plugins/path_provider_foundation/darwin`\n\n    Resolving dependencies of `Podfile`\n\nError output from CocoaPods:\n↳\n    /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require': cannot load such file -- ffi_c (LoadError)\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/ffi.rb:5:in `rescue in &lt;top (required)&gt;'\n        from /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/ffi.rb:2:in `&lt;top (required)&gt;'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ethon-0.16.0/lib/ethon.rb:3:in `&lt;top (required)&gt;'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/typhoeus-1.4.1/lib/typhoeus.rb:2:in `&lt;top (required)&gt;'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:440:in `download_typhoeus_impl_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:372:in `download_and_save_with_retries_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:365:in `download_file_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:338:in `download_file'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:53:in `refresh_metadata'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source.rb:31:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:30:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `new'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `block in source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:322:in `source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `block in aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `map'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:26:in `aggregate'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:60:in `all'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface/error_report.rb:173:in `repo_information'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface/error_report.rb:77:in `stack'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface/error_report.rb:24:in `report'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:66:in `report_error'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:396:in `handle_exception'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:337:in `rescue in run'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:324:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:52:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/bin/pod:55:in `&lt;top (required)&gt;'\n        from /usr/local/bin/pod:23:in `load'\n        from /usr/local/bin/pod:23:in `&lt;main&gt;'\n    /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require': dlopen(/Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/2.6/ffi_c.bundle, 0x0009): tried: '/Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/2.6/ffi_c.bundle' (mach-o file, but is an incompatible architecture (have (arm64), need (x86_64h))) - /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/2.6/ffi_c.bundle (LoadError)\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/ffi.rb:3:in `&lt;top (required)&gt;'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ethon-0.16.0/lib/ethon.rb:3:in `&lt;top (required)&gt;'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/typhoeus-1.4.1/lib/typhoeus.rb:2:in `&lt;top (required)&gt;'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:440:in `download_typhoeus_impl_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:372:in `download_and_save_with_retries_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:365:in `download_file_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:338:in `download_file'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:53:in `refresh_metadata'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source.rb:31:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:30:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `new'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `block in source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:322:in `source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `block in aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `map'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:26:in `aggregate'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:60:in `all'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface/error_report.rb:173:in `repo_information'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface/error_report.rb:77:in `stack'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface/error_report.rb:24:in `report'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:66:in `report_error'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:396:in `handle_exception'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:337:in `rescue in run'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:324:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:52:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/bin/pod:55:in `&lt;top (required)&gt;'\n        from /usr/local/bin/pod:23:in `load'\n        from /usr/local/bin/pod:23:in `&lt;main&gt;'\n    /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require': cannot load such file -- ffi_c (LoadError)\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/ffi.rb:5:in `rescue in &lt;top (required)&gt;'\n        from /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/ffi.rb:2:in `&lt;top (required)&gt;'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ethon-0.16.0/lib/ethon.rb:3:in `&lt;top (required)&gt;'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/typhoeus-1.4.1/lib/typhoeus.rb:2:in `&lt;top (required)&gt;'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:440:in `download_typhoeus_impl_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:372:in `download_and_save_with_retries_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:365:in `download_file_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:338:in `download_file'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:53:in `refresh_metadata'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source.rb:31:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:30:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `new'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `block in source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:322:in `source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `block in aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `map'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:26:in `aggregate'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:60:in `all'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:393:in `source_with_url'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/sources_manager.rb:22:in `find_or_create_source_with_url'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:179:in `block in sources'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:178:in `map'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:178:in `sources'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:1081:in `block in resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:64:in `section'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:1080:in `resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:125:in `analyze'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:422:in `analyze'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:244:in `block in resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:64:in `section'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:243:in `resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:162:in `install!'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command/install.rb:52:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:334:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:52:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/bin/pod:55:in `&lt;top (required)&gt;'\n        from /usr/local/bin/pod:23:in `load'\n        from /usr/local/bin/pod:23:in `&lt;main&gt;'\n    /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require': dlopen(/Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/2.6/ffi_c.bundle, 0x0009): tried: '/Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/2.6/ffi_c.bundle' (mach-o file, but is an incompatible architecture (have (arm64), need (x86_64h))) - /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/2.6/ffi_c.bundle (LoadError)\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/ffi.rb:3:in `&lt;top (required)&gt;'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ethon-0.16.0/lib/ethon.rb:3:in `&lt;top (required)&gt;'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/typhoeus-1.4.1/lib/typhoeus.rb:2:in `&lt;top (required)&gt;'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:440:in `download_typhoeus_impl_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:372:in `download_and_save_with_retries_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:365:in `download_file_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:338:in `download_file'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:53:in `refresh_metadata'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source.rb:31:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:30:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `new'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `block in source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:322:in `source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `block in aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `map'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:26:in `aggregate'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:60:in `all'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:393:in `source_with_url'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/sources_manager.rb:22:in `find_or_create_source_with_url'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:179:in `block in sources'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:178:in `map'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:178:in `sources'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:1081:in `block in resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:64:in `section'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:1080:in `resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:125:in `analyze'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:422:in `analyze'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:244:in `block in resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:64:in `section'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:243:in `resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:162:in `install!'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command/install.rb:52:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:334:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:52:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/bin/pod:55:in `&lt;top (required)&gt;'\n        from /usr/local/bin/pod:23:in `load'\n        from /usr/local/bin/pod:23:in `&lt;main&gt;'\n\nError: Error running pod install\n\nExited (1).\n</code></pre>\n<p>I already had some trouble installing cocoapods in the first place.\nWhen I ran <code>sudo gem install cocoapods</code> in terminal (zsh) I got the following:</p>\n<pre><code>Fetching cocoapods-deintegrate-1.0.5.gem\nFetching cocoapods-search-1.0.1.gem\nFetching cocoapods-downloader-2.1.gem\nFetching cocoapods-plugins-1.0.0.gem\nFetching cocoapods-trunk-1.6.0.gem\nFetching cocoapods-core-1.15.2.gem\nFetching cocoapods-try-1.2.0.gem\nFetching cocoapods-1.15.2.gem\nSuccessfully installed cocoapods-try-1.2.0\nSuccessfully installed cocoapods-trunk-1.6.0\nSuccessfully installed cocoapods-search-1.0.1\nSuccessfully installed cocoapods-plugins-1.0.0\nSuccessfully installed cocoapods-downloader-2.1\nSuccessfully installed cocoapods-deintegrate-1.0.5\nERROR:  Error installing cocoapods:\n    The last version of drb (&gt;= 0) to support your Ruby &amp; RubyGems was 2.0.6. Try installing it with `gem install drb -v 2.0.6` and then running the current command again\n    drb requires Ruby version &gt;= 2.7.0. The current ruby version is 2.6.10.210.\n</code></pre>\n<p>So then I ran <code>sudo gem install drb -v 2.0.6</code>:</p>\n<pre><code>Fetching drb-2.0.6.gem\nSuccessfully installed drb-2.0.6\nParsing documentation for drb-2.0.6\nInstalling ri documentation for drb-2.0.6\nDone installing documentation for drb after 0 seconds\n1 gem installed\n</code></pre>\n<p>followed by <code>sudo gem install cocoapods</code> and got the following:</p>\n<pre><code>ERROR:  Error installing cocoapods:\n    The last version of activesupport (&gt;= 5.0, &lt; 8) to support your Ruby &amp; RubyGems was 6.1.7.8. Try installing it with `gem install activesupport -v 6.1.7.8` and then running the current command again\n    activesupport requires Ruby version &gt;= 3.1.0. The current ruby version is 2.6.10.210.\n</code></pre>\n<p>So I ran <code>sudo gem install activesupport -v 6.1.7.8</code>:</p>\n<pre><code>Fetching activesupport-6.1.7.8.gem\nSuccessfully installed activesupport-6.1.7.8\nParsing documentation for activesupport-6.1.7.8\nInstalling ri documentation for activesupport-6.1.7.8\nDone installing documentation for activesupport after 2 seconds\n1 gem installed\n</code></pre>\n<p>followed by <code>sudo gem install cocoapods</code> and got:</p>\n<pre><code>Successfully installed cocoapods-core-1.15.2\nSuccessfully installed cocoapods-1.15.2\nParsing documentation for cocoapods-core-1.15.2\nInstalling ri documentation for cocoapods-core-1.15.2\nParsing documentation for cocoapods-1.15.2\nInstalling ri documentation for cocoapods-1.15.2\nDone installing documentation for cocoapods-core, cocoapods after 3 seconds\n2 gems installed\n</code></pre>\n<p>With this done, I assume cocoapods should be installed and in working order. So I tried to run the app with target platform macOS and this is where it didn't work (getting &quot;Error running pod install&quot;). After some searching around I tried the steps mentioned <a href=\"https://stackoverflow.com/questions/54135078/how-to-solve-error-running-pod-install-in-flutter-on-mac\">here</a>:</p>\n<pre><code>flutter clean\nrm -Rf macos/Pods\nrm -Rf macos/.symlinks\nrm -Rf macos/Flutter/Flutter.framework\nrm -Rf macos/Flutter/Flutter.podspec\nflutter pub get\ncd macos\npod install\n</code></pre>\n<p>Then I tried running the app again via vscode ui and via terminal (I tried zsh AND bash) in vscode and it still get the same error.</p>\n<p>Here is my <code>flutter doctor -v</code>:</p>\n<pre><code>[✓] Flutter (Channel stable, 3.24.3, on macOS 12.7.6 21H1320 darwin-x64, locale en-GB)\n• Flutter version 3.24.3 on channel stable at /Users/jan/src/flutter\n• Upstream repository https://github.com/flutter/flutter.git\n• Framework revision 2663184aa7 (3 weeks ago), 2024-09-11 16:27:48 -0500\n• Engine revision 36335019a8\n• Dart version 3.5.3\n• DevTools version 2.37.3\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n• Android SDK at /Users/jan/Library/Android/sdk\n• Platform android-34, build-tools 34.0.0\n• Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n• Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11572160)\n• All Android licenses accepted.\n\n[!] Xcode - develop for iOS and macOS (Xcode 14.2)\n• Xcode at /Applications/Xcode.app/Contents/Developer\n• Build 14C18\n! Flutter recommends a minimum Xcode version of 15.\nDownload the latest version or update via the Mac App Store.\n• CocoaPods version 1.15.2\n\n[✓] Chrome - develop for the web\n• Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2023.3)\n• Android Studio at /Applications/Android Studio.app/Contents\n• Flutter plugin can be installed from:\n🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n• Dart plugin can be installed from:\n🔨 https://plugins.jetbrains.com/plugin/6351-dart\n• Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11572160)\n\n[✓] IntelliJ IDEA Community Edition (version 2023.2.1)\n• IntelliJ at /Users/jan/Applications/IntelliJ IDEA Community Edition.app\n• Flutter plugin can be installed from:\n🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n• Dart plugin can be installed from:\n🔨 https://plugins.jetbrains.com/plugin/6351-dart\n\n[✓] VS Code (version 1.94.0)\n• VS Code at /Applications/Visual Studio Code.app/Contents\n• Flutter extension version 3.98.0\n\n[✓] Connected device (2 available)\n• macOS (desktop) • macos  • darwin-x64     • macOS 12.7.6 21H1320 darwin-x64\n• Chrome (web)    • chrome • web-javascript • Google Chrome 125.0.6422.61\n\n[✓] Network resources\n• All expected network resources are available.\n\n! Doctor found issues in 1 category.\n</code></pre>\n",
        "codigo": [
            "Launching lib/main.dart on macOS in debug mode...\nCocoaPods' output:\n↳\n      Preparing\n\n    Analyzing dependencies\n\n    Inspecting targets to integrate\n      Using `ARCHS` setting to build architectures of target `Pods-Runner`: (``)\n      Using `ARCHS` setting to build architectures of target `Pods-RunnerTests`: (``)\n\n    Fetching external sources\n    -> Fetching podspec for `FlutterMacOS` from `Flutter/ephemeral`\n    -> Fetching podspec for `path_provider_foundation` from `Flutter/ephemeral/.symlinks/plugins/path_provider_foundation/darwin`\n\n    Resolving dependencies of `Podfile`\n\nError output from CocoaPods:\n↳\n    /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require': cannot load such file -- ffi_c (LoadError)\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/ffi.rb:5:in `rescue in <top (required)>'\n        from /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/ffi.rb:2:in `<top (required)>'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ethon-0.16.0/lib/ethon.rb:3:in `<top (required)>'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/typhoeus-1.4.1/lib/typhoeus.rb:2:in `<top (required)>'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:440:in `download_typhoeus_impl_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:372:in `download_and_save_with_retries_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:365:in `download_file_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:338:in `download_file'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:53:in `refresh_metadata'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source.rb:31:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:30:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `new'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `block in source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:322:in `source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `block in aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `map'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:26:in `aggregate'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:60:in `all'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface/error_report.rb:173:in `repo_information'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface/error_report.rb:77:in `stack'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface/error_report.rb:24:in `report'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:66:in `report_error'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:396:in `handle_exception'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:337:in `rescue in run'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:324:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:52:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/bin/pod:55:in `<top (required)>'\n        from /usr/local/bin/pod:23:in `load'\n        from /usr/local/bin/pod:23:in `<main>'\n    /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require': dlopen(/Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/2.6/ffi_c.bundle, 0x0009): tried: '/Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/2.6/ffi_c.bundle' (mach-o file, but is an incompatible architecture (have (arm64), need (x86_64h))) - /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/2.6/ffi_c.bundle (LoadError)\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/ffi.rb:3:in `<top (required)>'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ethon-0.16.0/lib/ethon.rb:3:in `<top (required)>'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/typhoeus-1.4.1/lib/typhoeus.rb:2:in `<top (required)>'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:440:in `download_typhoeus_impl_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:372:in `download_and_save_with_retries_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:365:in `download_file_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:338:in `download_file'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:53:in `refresh_metadata'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source.rb:31:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:30:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `new'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `block in source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:322:in `source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `block in aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `map'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:26:in `aggregate'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:60:in `all'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface/error_report.rb:173:in `repo_information'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface/error_report.rb:77:in `stack'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface/error_report.rb:24:in `report'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:66:in `report_error'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:396:in `handle_exception'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:337:in `rescue in run'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:324:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:52:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/bin/pod:55:in `<top (required)>'\n        from /usr/local/bin/pod:23:in `load'\n        from /usr/local/bin/pod:23:in `<main>'\n    /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require': cannot load such file -- ffi_c (LoadError)\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/ffi.rb:5:in `rescue in <top (required)>'\n        from /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/ffi.rb:2:in `<top (required)>'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ethon-0.16.0/lib/ethon.rb:3:in `<top (required)>'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/typhoeus-1.4.1/lib/typhoeus.rb:2:in `<top (required)>'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:440:in `download_typhoeus_impl_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:372:in `download_and_save_with_retries_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:365:in `download_file_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:338:in `download_file'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:53:in `refresh_metadata'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source.rb:31:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:30:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `new'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `block in source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:322:in `source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `block in aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `map'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:26:in `aggregate'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:60:in `all'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:393:in `source_with_url'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/sources_manager.rb:22:in `find_or_create_source_with_url'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:179:in `block in sources'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:178:in `map'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:178:in `sources'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:1081:in `block in resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:64:in `section'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:1080:in `resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:125:in `analyze'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:422:in `analyze'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:244:in `block in resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:64:in `section'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:243:in `resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:162:in `install!'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command/install.rb:52:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:334:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:52:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/bin/pod:55:in `<top (required)>'\n        from /usr/local/bin/pod:23:in `load'\n        from /usr/local/bin/pod:23:in `<main>'\n    /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require': dlopen(/Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/2.6/ffi_c.bundle, 0x0009): tried: '/Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/2.6/ffi_c.bundle' (mach-o file, but is an incompatible architecture (have (arm64), need (x86_64h))) - /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/2.6/ffi_c.bundle (LoadError)\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ffi-1.17.0-arm64-darwin/lib/ffi.rb:3:in `<top (required)>'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/ethon-0.16.0/lib/ethon.rb:3:in `<top (required)>'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/typhoeus-1.4.1/lib/typhoeus.rb:2:in `<top (required)>'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:440:in `download_typhoeus_impl_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:372:in `download_and_save_with_retries_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:365:in `download_file_async'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:338:in `download_file'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:53:in `refresh_metadata'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source.rb:31:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/cdn_source.rb:30:in `initialize'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `new'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:315:in `block in source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:322:in `source_from_path'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `block in aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `map'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:331:in `aggregate_with_repos'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:26:in `aggregate'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:60:in `all'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-core-1.15.2/lib/cocoapods-core/source/manager.rb:393:in `source_with_url'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/sources_manager.rb:22:in `find_or_create_source_with_url'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:179:in `block in sources'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:178:in `map'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:178:in `sources'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:1081:in `block in resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:64:in `section'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:1080:in `resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer/analyzer.rb:125:in `analyze'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:422:in `analyze'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:244:in `block in resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:64:in `section'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:243:in `resolve_dependencies'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:162:in `install!'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command/install.rb:52:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/claide-1.1.0/lib/claide/command.rb:334:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:52:in `run'\n        from /Library/Ruby/Gems/2.6.0/gems/cocoapods-1.15.2/bin/pod:55:in `<top (required)>'\n        from /usr/local/bin/pod:23:in `load'\n        from /usr/local/bin/pod:23:in `<main>'\n\nError: Error running pod install\n\nExited (1).\n",
            "sudo gem install cocoapods",
            "Fetching cocoapods-deintegrate-1.0.5.gem\nFetching cocoapods-search-1.0.1.gem\nFetching cocoapods-downloader-2.1.gem\nFetching cocoapods-plugins-1.0.0.gem\nFetching cocoapods-trunk-1.6.0.gem\nFetching cocoapods-core-1.15.2.gem\nFetching cocoapods-try-1.2.0.gem\nFetching cocoapods-1.15.2.gem\nSuccessfully installed cocoapods-try-1.2.0\nSuccessfully installed cocoapods-trunk-1.6.0\nSuccessfully installed cocoapods-search-1.0.1\nSuccessfully installed cocoapods-plugins-1.0.0\nSuccessfully installed cocoapods-downloader-2.1\nSuccessfully installed cocoapods-deintegrate-1.0.5\nERROR:  Error installing cocoapods:\n    The last version of drb (>= 0) to support your Ruby & RubyGems was 2.0.6. Try installing it with `gem install drb -v 2.0.6` and then running the current command again\n    drb requires Ruby version >= 2.7.0. The current ruby version is 2.6.10.210.\n",
            "sudo gem install drb -v 2.0.6",
            "Fetching drb-2.0.6.gem\nSuccessfully installed drb-2.0.6\nParsing documentation for drb-2.0.6\nInstalling ri documentation for drb-2.0.6\nDone installing documentation for drb after 0 seconds\n1 gem installed\n",
            "sudo gem install cocoapods",
            "ERROR:  Error installing cocoapods:\n    The last version of activesupport (>= 5.0, < 8) to support your Ruby & RubyGems was 6.1.7.8. Try installing it with `gem install activesupport -v 6.1.7.8` and then running the current command again\n    activesupport requires Ruby version >= 3.1.0. The current ruby version is 2.6.10.210.\n",
            "sudo gem install activesupport -v 6.1.7.8",
            "Fetching activesupport-6.1.7.8.gem\nSuccessfully installed activesupport-6.1.7.8\nParsing documentation for activesupport-6.1.7.8\nInstalling ri documentation for activesupport-6.1.7.8\nDone installing documentation for activesupport after 2 seconds\n1 gem installed\n",
            "sudo gem install cocoapods",
            "Successfully installed cocoapods-core-1.15.2\nSuccessfully installed cocoapods-1.15.2\nParsing documentation for cocoapods-core-1.15.2\nInstalling ri documentation for cocoapods-core-1.15.2\nParsing documentation for cocoapods-1.15.2\nInstalling ri documentation for cocoapods-1.15.2\nDone installing documentation for cocoapods-core, cocoapods after 3 seconds\n2 gems installed\n",
            "flutter clean\nrm -Rf macos/Pods\nrm -Rf macos/.symlinks\nrm -Rf macos/Flutter/Flutter.framework\nrm -Rf macos/Flutter/Flutter.podspec\nflutter pub get\ncd macos\npod install\n",
            "flutter doctor -v",
            "[✓] Flutter (Channel stable, 3.24.3, on macOS 12.7.6 21H1320 darwin-x64, locale en-GB)\n• Flutter version 3.24.3 on channel stable at /Users/jan/src/flutter\n• Upstream repository https://github.com/flutter/flutter.git\n• Framework revision 2663184aa7 (3 weeks ago), 2024-09-11 16:27:48 -0500\n• Engine revision 36335019a8\n• Dart version 3.5.3\n• DevTools version 2.37.3\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n• Android SDK at /Users/jan/Library/Android/sdk\n• Platform android-34, build-tools 34.0.0\n• Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n• Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11572160)\n• All Android licenses accepted.\n\n[!] Xcode - develop for iOS and macOS (Xcode 14.2)\n• Xcode at /Applications/Xcode.app/Contents/Developer\n• Build 14C18\n! Flutter recommends a minimum Xcode version of 15.\nDownload the latest version or update via the Mac App Store.\n• CocoaPods version 1.15.2\n\n[✓] Chrome - develop for the web\n• Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2023.3)\n• Android Studio at /Applications/Android Studio.app/Contents\n• Flutter plugin can be installed from:\n🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n• Dart plugin can be installed from:\n🔨 https://plugins.jetbrains.com/plugin/6351-dart\n• Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11572160)\n\n[✓] IntelliJ IDEA Community Edition (version 2023.2.1)\n• IntelliJ at /Users/jan/Applications/IntelliJ IDEA Community Edition.app\n• Flutter plugin can be installed from:\n🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n• Dart plugin can be installed from:\n🔨 https://plugins.jetbrains.com/plugin/6351-dart\n\n[✓] VS Code (version 1.94.0)\n• VS Code at /Applications/Visual Studio Code.app/Contents\n• Flutter extension version 3.98.0\n\n[✓] Connected device (2 available)\n• macOS (desktop) • macos  • darwin-x64     • macOS 12.7.6 21H1320 darwin-x64\n• Chrome (web)    • chrome • web-javascript • Google Chrome 125.0.6422.61\n\n[✓] Network resources\n• All expected network resources are available.\n\n! Doctor found issues in 1 category.\n"
        ]
    },
    {
        "titulo": "Why when i try to upgrade flutter sdk version in idx, the emulator gets error",
        "score": 0,
        "views": 140,
        "respostas": 0,
        "tags": [
            "android",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/79045298/why-when-i-try-to-upgrade-flutter-sdk-version-in-idx-the-emulator-gets-error",
        "conteudo_html": "<p>First i'm trying to change the dart version in pubpec.yaml</p>\n<pre><code>sdk: '&gt;=3.5.0 &lt;4.0.0'\n</code></pre>\n<p>After that i'm change the package in dev.nix flutter package</p>\n<pre><code>channel = &quot;unstable&quot;; # or &quot;unstable&quot;\n  # Use https://search.nixos.org/packages to find packages\n  packages = [\n    pkgs.flutter\n    pkgs.nodePackages.firebase-tools\n    pkgs.jdk17\n    pkgs.unzip\n  ];\n</code></pre>\n<p>And this the error</p>\n<pre><code>&lt;IDX&gt; ✘ Preview failed to start\n2024-10-02T03:35:38Z [android] &lt;IDX&gt; Starting preview...\n2024-10-02T03:35:38Z [web] &lt;IDX&gt; Starting preview...\n2024-10-02T03:35:38Z [android] Flutter daemon started\n2024-10-02T03:35:38Z [web] Flutter daemon started\n2024-10-02T03:35:38Z [android] No supported devices found with name or id matching 'localhost:5555'.\n2024-10-02T03:35:38Z [android] The following devices were found:\n2024-10-02T03:35:39Z [android] Android SDK built for x86 (mobile) • emulator-5554 • android-x86 • Android 10 (API 29) (emulator)\n2024-10-02T03:35:39Z [android] Linux (desktop)                    • linux         • linux-x64   • IDX GNU/Linux 6.1.100+\n2024-10-02T03:35:39Z [android] &lt;IDX&gt; ✘ Preview failed to start\n2024-10-02T03:35:40Z [web] Launching lib/main.dart on Web Server in debug mode...\n2024-10-02T03:35:40Z [web] Error: \n2024-10-02T03:35:40Z [web] \n2024-10-02T03:35:40Z [web] Error: Oops; flutter has exited unexpectedly: &quot;Null check operator used on a null value&quot;.\n2024-10-02T03:35:40Z [web] \n2024-10-02T03:35:47Z [web] Error: A crash report has been written to /home/user/myapp/flutter_05.log\n2024-10-02T03:35:47Z [web] \n2024-10-02T03:35:47Z [web] This crash may already be reported. Check GitHub for similar crashes.\n2024-10-02T03:35:47Z [web] https://github.com/flutter/flutter/issues?q=is%3Aissue+Null+check+operator+used+on+a+null+value\n2024-10-02T03:35:47Z [web] To report your crash to the Flutter team, first read the guide to filing a bug.\n2024-10-02T03:35:47Z [web] https://flutter.dev/to/report-bugs\n2024-10-02T03:35:47Z [web] Create a new GitHub issue by pasting this link into your browser and completing the issue template. Thank you!\n2024-10-02T03:35:47Z [web] https://github.com/flutter/flutter/issues/new?title=%5Btool_crash%5D+_TypeError%3A+%28%230++++++currentPackageConfig+%28package%3Aflutter_tools%2Fsrc%2Fdart%2Fpackage_map.dart%3A16%3A56%29%29&amp;body=%23%23+Command%0A%60%60%60sh%0Aflutter+run+--machine+-d+web-server+--web-hostname+0.0.0.0+--web-port+9002%0A%60%60%60%0A%0A%23%23+Steps+to+Reproduce%0A1.+...%0A2.+...%0A3.+...%0A%0A%23%23+Logs%0A_TypeError%3A+%28%230++++++currentPackageConfig+%28package%3Aflutter_tools%2Fsrc%2Fdart%2Fpackage_map.dart%3A16%3A56%29%29%0A%60%60%60console%0A%230++++++currentPackageConfig+%28package%3Aflutter_tools%2Fsrc%2Fdart%2Fpackage_map.dart%3A16%3A56%29%0A%231++++++_loadDwdsDirectory+%28package%3Aflutter_tools%2Fsrc%2Fisolated%2Fdevfs_web.dart%3A1234%3A45%29%0A%232++++++WebAssetServer.start+%28package%3Aflutter_tools%2Fsrc%2Fisolated%2Fdevfs_web.dart%3A270%3A15%29%0A%3Casynchronous+suspension%3E%0A%233++++++WebDevFS.create+%28package%3Aflutter_tools%2Fsrc%2Fisolated%2Fdevfs_web.dart%3A860%3A22%29%0A%3Casynchronous+suspension%3E%0A%234++++++ResidentWebRunner.run.%3Canonymous+closure%3E+%28package%3Aflutter_tools%2Fsrc%2Fisolated%2Fresident_web_runner.dart%3A328%3A19%29%0A%3Casynchronous+suspension%3E%0A%235++++++asyncGuard.%3Canonymous+closure%3E+%28package%3Aflutter_tools%2Fsrc%2Fbase%2Fasync_guard.dart%3A111%3A24%29%0A%3Casynchronous+suspension%3E%0A%60%60%60%0A%60%60%60console%0A%5B%E2%9C%93%5D+Flutter+%28Channel+stable%2C+3.24.1%2C+on+IDX+GNU%2FLinux+6.1.100%2B%2C+locale+en_US%29%0A++++%E2%80%A2+Flutter+version+3.24.1+on+channel+stable+at+%2Fnix%2Fstore%2Fivslg1wbqmfcfhaxabdi36bd3cjvhnbq-flutter-wrapped-3.24.1-sdk-links%0A++++%E2%80%A2+Upstream+repository+https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter.git%0A++++%E2%80%A2+Framework+revision+nixpkgs000+%28%29%2C+1970-01-01+00%3A00%3A00%0A++++%E2%80%A2+Engine+revision+c9b9d5780d%0A++++%E2%80%A2+Dart+version+3.5.1%0A++++%E2%80%A2+DevTools+version+2.37.2%0A%0A%5B%21%5D+Android+toolchain+-+develop+for+Android+devices+%28Android+SDK+version+30.0.3%29%0A++++%E2%80%A2+Android+SDK+at+%2Fopt%2Fandroid%0A++++%E2%80%A2+Platform+android-34%2C+build-tools+30.0.3%0A++++%E2%80%A2+ANDROID_SDK_ROOT+%3D+%2Fopt%2Fandroid%0A++++%E2%80%A2+Java+binary+at%3A+%2Fusr%2Fbin%2Fjava%0A++++%E2%80%A2+Java+version+OpenJDK+Runtime+Environment+%28build+17.0.11%2B9-nixos%29%0A++++%21+Some+Android+licenses+not+accepted.+To+resolve+this%2C+run%3A+flutter+doctor+--android-licenses%0A%0A%5B%E2%9C%97%5D+Chrome+-+develop+for+the+web+%28Cannot+find+Chrome+executable+at+google-chrome%29%0A++++%21+Cannot+find+Chrome.+Try+setting+CHROME_EXECUTABLE+to+a+Chrome+executable.%0A%0A%5B%E2%9C%93%5D+Linux+toolchain+-+develop+for+Linux+desktop%0A++++%E2%80%A2+clang+version+18.1.8%0A++++%E2%80%A2+cmake+version+3.29.6%0A++++%E2%80%A2+ninja+version+1.12.1%0A++++%E2%80%A2+pkg-config+version+0.29.2%0A%0A%5B%21%5D+Android+Studio+%28not+installed%29%0A++++%E2%80%A2+Android+Studio+not+found%3B+download+from+https%3A%2F%2Fdeveloper.android.com%2Fstudio%2Findex.html%0A++++++%28or+visit+https%3A%2F%2Fflutter.dev%2Fto%2Flinux-android-setup+for+detailed+instructions%29.%0A%0A%5B%E2%9C%93%5D+Connected+device+%283+available%29%0A++++%E2%80%A2+Android+SDK+built+for+x86+%28mobile%29+%E2%80%A2+emulator-5554+%E2%80%A2+android-x86++++%E2%80%A2+Android+10+%28API+29%29+%28emulator%29%0A++++%E2%80%A2+Linux+%28desktop%29++++++++++++++++++++%E2%80%A2+linux+++++++++%E2%80%A2+linux-x64++++++%E2%80%A2+IDX+GNU%2FLinux+6.1.100%2B%0A++++%E2%80%A2+Web+Server+%28web%29+++++++++++++++++++%E2%80%A2+web-server++++%E2%80%A2+web-javascript+%E2%80%A2+Flutter+Tools%0A%0A%5B%E2%9C%93%5D+Network+resources%0A++++%E2%80%A2+All+expected+network+resources+are+available.%0A%0A%21+Doctor+found+issues+in+3+categories.%0A%0A%60%60%60%0A%0A%23%23+Flutter+Application+Metadata%0A%2A%2AType%2A%2A%3A+app%0A%2A%2AVersion%2A%2A%3A+1.0.0%2B1%0A%2A%2AMaterial%2A%2A%3A+true%0A%2A%2AAndroid+X%2A%2A%3A+false%0A%2A%2AModule%2A%2A%3A+false%0A%2A%2APlugin%2A%2A%3A+false%0A%2A%2AAndroid+package%2A%2A%3A+null%0A%2A%2AiOS+bundle+identifier%2A%2A%3A+null%0A%2A%2ACreation+channel%2A%2A%3A+stable%0A%2A%2ACreation+framework+version%2A%2A%3A+761747bfc538b5af34aa0d3fac380f1bc331ec49%0A%0A&amp;labels=tool%2Csevere%3A+crash\n2024-10-02T03:35:47Z [web] &lt;IDX&gt; ✘ Preview failed to start\n</code></pre>\n<p>I expect the emulator can running and try new feature in flutter</p>\n",
        "codigo": [
            "sdk: '>=3.5.0 <4.0.0'\n",
            "channel = \"unstable\"; # or \"unstable\"\n  # Use https://search.nixos.org/packages to find packages\n  packages = [\n    pkgs.flutter\n    pkgs.nodePackages.firebase-tools\n    pkgs.jdk17\n    pkgs.unzip\n  ];\n",
            "<IDX> ✘ Preview failed to start\n2024-10-02T03:35:38Z [android] <IDX> Starting preview...\n2024-10-02T03:35:38Z [web] <IDX> Starting preview...\n2024-10-02T03:35:38Z [android] Flutter daemon started\n2024-10-02T03:35:38Z [web] Flutter daemon started\n2024-10-02T03:35:38Z [android] No supported devices found with name or id matching 'localhost:5555'.\n2024-10-02T03:35:38Z [android] The following devices were found:\n2024-10-02T03:35:39Z [android] Android SDK built for x86 (mobile) • emulator-5554 • android-x86 • Android 10 (API 29) (emulator)\n2024-10-02T03:35:39Z [android] Linux (desktop)                    • linux         • linux-x64   • IDX GNU/Linux 6.1.100+\n2024-10-02T03:35:39Z [android] <IDX> ✘ Preview failed to start\n2024-10-02T03:35:40Z [web] Launching lib/main.dart on Web Server in debug mode...\n2024-10-02T03:35:40Z [web] Error: \n2024-10-02T03:35:40Z [web] \n2024-10-02T03:35:40Z [web] Error: Oops; flutter has exited unexpectedly: \"Null check operator used on a null value\".\n2024-10-02T03:35:40Z [web] \n2024-10-02T03:35:47Z [web] Error: A crash report has been written to /home/user/myapp/flutter_05.log\n2024-10-02T03:35:47Z [web] \n2024-10-02T03:35:47Z [web] This crash may already be reported. Check GitHub for similar crashes.\n2024-10-02T03:35:47Z [web] https://github.com/flutter/flutter/issues?q=is%3Aissue+Null+check+operator+used+on+a+null+value\n2024-10-02T03:35:47Z [web] To report your crash to the Flutter team, first read the guide to filing a bug.\n2024-10-02T03:35:47Z [web] https://flutter.dev/to/report-bugs\n2024-10-02T03:35:47Z [web] Create a new GitHub issue by pasting this link into your browser and completing the issue template. Thank you!\n2024-10-02T03:35:47Z [web] https://github.com/flutter/flutter/issues/new?title=%5Btool_crash%5D+_TypeError%3A+%28%230++++++currentPackageConfig+%28package%3Aflutter_tools%2Fsrc%2Fdart%2Fpackage_map.dart%3A16%3A56%29%29&body=%23%23+Command%0A%60%60%60sh%0Aflutter+run+--machine+-d+web-server+--web-hostname+0.0.0.0+--web-port+9002%0A%60%60%60%0A%0A%23%23+Steps+to+Reproduce%0A1.+...%0A2.+...%0A3.+...%0A%0A%23%23+Logs%0A_TypeError%3A+%28%230++++++currentPackageConfig+%28package%3Aflutter_tools%2Fsrc%2Fdart%2Fpackage_map.dart%3A16%3A56%29%29%0A%60%60%60console%0A%230++++++currentPackageConfig+%28package%3Aflutter_tools%2Fsrc%2Fdart%2Fpackage_map.dart%3A16%3A56%29%0A%231++++++_loadDwdsDirectory+%28package%3Aflutter_tools%2Fsrc%2Fisolated%2Fdevfs_web.dart%3A1234%3A45%29%0A%232++++++WebAssetServer.start+%28package%3Aflutter_tools%2Fsrc%2Fisolated%2Fdevfs_web.dart%3A270%3A15%29%0A%3Casynchronous+suspension%3E%0A%233++++++WebDevFS.create+%28package%3Aflutter_tools%2Fsrc%2Fisolated%2Fdevfs_web.dart%3A860%3A22%29%0A%3Casynchronous+suspension%3E%0A%234++++++ResidentWebRunner.run.%3Canonymous+closure%3E+%28package%3Aflutter_tools%2Fsrc%2Fisolated%2Fresident_web_runner.dart%3A328%3A19%29%0A%3Casynchronous+suspension%3E%0A%235++++++asyncGuard.%3Canonymous+closure%3E+%28package%3Aflutter_tools%2Fsrc%2Fbase%2Fasync_guard.dart%3A111%3A24%29%0A%3Casynchronous+suspension%3E%0A%60%60%60%0A%60%60%60console%0A%5B%E2%9C%93%5D+Flutter+%28Channel+stable%2C+3.24.1%2C+on+IDX+GNU%2FLinux+6.1.100%2B%2C+locale+en_US%29%0A++++%E2%80%A2+Flutter+version+3.24.1+on+channel+stable+at+%2Fnix%2Fstore%2Fivslg1wbqmfcfhaxabdi36bd3cjvhnbq-flutter-wrapped-3.24.1-sdk-links%0A++++%E2%80%A2+Upstream+repository+https%3A%2F%2Fgithub.com%2Fflutter%2Fflutter.git%0A++++%E2%80%A2+Framework+revision+nixpkgs000+%28%29%2C+1970-01-01+00%3A00%3A00%0A++++%E2%80%A2+Engine+revision+c9b9d5780d%0A++++%E2%80%A2+Dart+version+3.5.1%0A++++%E2%80%A2+DevTools+version+2.37.2%0A%0A%5B%21%5D+Android+toolchain+-+develop+for+Android+devices+%28Android+SDK+version+30.0.3%29%0A++++%E2%80%A2+Android+SDK+at+%2Fopt%2Fandroid%0A++++%E2%80%A2+Platform+android-34%2C+build-tools+30.0.3%0A++++%E2%80%A2+ANDROID_SDK_ROOT+%3D+%2Fopt%2Fandroid%0A++++%E2%80%A2+Java+binary+at%3A+%2Fusr%2Fbin%2Fjava%0A++++%E2%80%A2+Java+version+OpenJDK+Runtime+Environment+%28build+17.0.11%2B9-nixos%29%0A++++%21+Some+Android+licenses+not+accepted.+To+resolve+this%2C+run%3A+flutter+doctor+--android-licenses%0A%0A%5B%E2%9C%97%5D+Chrome+-+develop+for+the+web+%28Cannot+find+Chrome+executable+at+google-chrome%29%0A++++%21+Cannot+find+Chrome.+Try+setting+CHROME_EXECUTABLE+to+a+Chrome+executable.%0A%0A%5B%E2%9C%93%5D+Linux+toolchain+-+develop+for+Linux+desktop%0A++++%E2%80%A2+clang+version+18.1.8%0A++++%E2%80%A2+cmake+version+3.29.6%0A++++%E2%80%A2+ninja+version+1.12.1%0A++++%E2%80%A2+pkg-config+version+0.29.2%0A%0A%5B%21%5D+Android+Studio+%28not+installed%29%0A++++%E2%80%A2+Android+Studio+not+found%3B+download+from+https%3A%2F%2Fdeveloper.android.com%2Fstudio%2Findex.html%0A++++++%28or+visit+https%3A%2F%2Fflutter.dev%2Fto%2Flinux-android-setup+for+detailed+instructions%29.%0A%0A%5B%E2%9C%93%5D+Connected+device+%283+available%29%0A++++%E2%80%A2+Android+SDK+built+for+x86+%28mobile%29+%E2%80%A2+emulator-5554+%E2%80%A2+android-x86++++%E2%80%A2+Android+10+%28API+29%29+%28emulator%29%0A++++%E2%80%A2+Linux+%28desktop%29++++++++++++++++++++%E2%80%A2+linux+++++++++%E2%80%A2+linux-x64++++++%E2%80%A2+IDX+GNU%2FLinux+6.1.100%2B%0A++++%E2%80%A2+Web+Server+%28web%29+++++++++++++++++++%E2%80%A2+web-server++++%E2%80%A2+web-javascript+%E2%80%A2+Flutter+Tools%0A%0A%5B%E2%9C%93%5D+Network+resources%0A++++%E2%80%A2+All+expected+network+resources+are+available.%0A%0A%21+Doctor+found+issues+in+3+categories.%0A%0A%60%60%60%0A%0A%23%23+Flutter+Application+Metadata%0A%2A%2AType%2A%2A%3A+app%0A%2A%2AVersion%2A%2A%3A+1.0.0%2B1%0A%2A%2AMaterial%2A%2A%3A+true%0A%2A%2AAndroid+X%2A%2A%3A+false%0A%2A%2AModule%2A%2A%3A+false%0A%2A%2APlugin%2A%2A%3A+false%0A%2A%2AAndroid+package%2A%2A%3A+null%0A%2A%2AiOS+bundle+identifier%2A%2A%3A+null%0A%2A%2ACreation+channel%2A%2A%3A+stable%0A%2A%2ACreation+framework+version%2A%2A%3A+761747bfc538b5af34aa0d3fac380f1bc331ec49%0A%0A&labels=tool%2Csevere%3A+crash\n2024-10-02T03:35:47Z [web] <IDX> ✘ Preview failed to start\n"
        ]
    },
    {
        "titulo": "problem to transform from epsg:3116 to lat, long (epsg:4326) in dart-flutter",
        "score": 1,
        "views": 72,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "epsg"
        ],
        "link": "https://stackoverflow.com/questions/79032903/problem-to-transform-from-epsg3116-to-lat-long-epsg4326-in-dart-flutter",
        "conteudo_html": "<p>I was trying to convert from epsg:3116(gcm_magna) to epsg:4326(lat and long) using the lib but the outputs were inaccurate. Can some one explain me or correct me?</p>\n<pre><code>\n    var destProjection = Projection.get('EPSG:4326')!; // WGS84 (EPSG:4326)\n\n    // Definir las coordenadas en EPSG:3116\n    var point = Point(x: 846358.4308, y: 1639765.33);\n\n    // Convertir las coordenadas de EPSG:3116 a EPSG:4326\n    var transformedPoint = srcProjection.transform(destProjection, point);\n\n    print('Latitud: ${transformedPoint.y}, Longitud: ${transformedPoint.x}');```\n\nmy inputs were: (x: 846358.4308, y: 1639765.33) and the expected outputs are Lat: 10.377944565887024, Long: -75.48036335262766. But I have Lat: 14.809695868343415, Long: -71.7825948906633\n</code></pre>\n",
        "codigo": [
            "\n    var destProjection = Projection.get('EPSG:4326')!; // WGS84 (EPSG:4326)\n\n    // Definir las coordenadas en EPSG:3116\n    var point = Point(x: 846358.4308, y: 1639765.33);\n\n    // Convertir las coordenadas de EPSG:3116 a EPSG:4326\n    var transformedPoint = srcProjection.transform(destProjection, point);\n\n    print('Latitud: ${transformedPoint.y}, Longitud: ${transformedPoint.x}');```\n\nmy inputs were: (x: 846358.4308, y: 1639765.33) and the expected outputs are Lat: 10.377944565887024, Long: -75.48036335262766. But I have Lat: 14.809695868343415, Long: -71.7825948906633\n"
        ]
    },
    {
        "titulo": "Unable to retrieve user ID after login in Flutter REST API",
        "score": 0,
        "views": 47,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "error-handling",
            "bloc"
        ],
        "link": "https://stackoverflow.com/questions/79028338/unable-to-retrieve-user-id-after-login-in-flutter-rest-api",
        "conteudo_html": "<p>I am very new to developing apps on flutter, bloc. I have a problem where I am trying to retrieve the <code>userId</code> for alert_my.dart page, but I am unable to get the <code>userId</code>. I am using API so using the token. I decode and take the id and save it as <code>userId</code>, but I am unable to get the <code>userId</code> on alert_my.dart page. I hope you can help me.</p>\n<pre><code>//login_cubit.dart\nimport 'package:flutter_bloc/flutter_bloc.dart';\nimport 'package:dartz/dartz.dart';\nimport 'package:shared_preferences/shared_preferences.dart';\nimport 'package:jwt_decoder/jwt_decoder.dart';\nimport '../../domain/use cases/login_user_usecase.dart';\nimport '../../domain/entities/user.dart';\nimport '../../../../../core/errors/failure.dart';\nimport 'package:equatable/equatable.dart';\n\npart 'login_state.dart';\n\nclass LoginCubit extends Cubit&lt;LoginState&gt; {\n  final LoginUserUseCase loginUserUseCase;\n\n  LoginCubit({required this.loginUserUseCase}) : super(LoginInitial());\n\n  Future&lt;void&gt; loginUser({\n    required String email,\n    required String password,\n  }) async {\n    emit(LoginLoading());\n\n    try {\n      final Either&lt;Failure, User?&gt; result = await loginUserUseCase(\n        email: email,\n        password: password,\n      );\n\n      result.fold(\n        (failure) {\n          emit(LoginError(message: _mapFailureToMessage(failure)));\n        },\n        (user) async {\n          if (user != null &amp;&amp; user.token != null) {\n            // Decode the JWT token to extract the user ID\n            String userId = _extractUserIdFromToken(user.token!);\n\n            // Save the user token and userId to SharedPreferences\n            await _saveUserCredentials(user.token!, userId);\n            emit(LoginLoaded(user: user));\n          } else {\n            emit(LoginError(message: 'Failed to retrieve user.'));\n          }\n        },\n      );\n    } catch (e) {\n      emit(LoginError(message: e.toString()));\n    }\n  }\n\n  // Function to decode the JWT token and extract the user ID\n  String _extractUserIdFromToken(String token) {\n    Map&lt;String, dynamic&gt; decodedToken = JwtDecoder.decode(token);\n    print(&quot;Decoded token: $decodedToken&quot;); // Debug print\n    return decodedToken['id']; // Extract the 'id' from the decoded token\n  }\n\n  // Save token and userId to SharedPreferences\n  Future&lt;void&gt; _saveUserCredentials(String token, String userId) async {\n    final prefs = await SharedPreferences.getInstance();\n\n    // Remove previous token and user ID if they exist\n     await prefs.remove('user_token'); \n     await prefs.remove('user_id');\n\n    // Save new credentials\n    await prefs.setString('user_token', token);\n    await prefs.setString('user_id', userId);\n\n    // Verify successful save\n    print(&quot;User ID saved: $userId&quot;);\n    print(&quot;Token saved: $token&quot;);\n  }\n\n// Retrieve userId from SharedPreferences\nFuture&lt;String?&gt; getUserId() async {\n  final prefs = await SharedPreferences.getInstance();\n  String? userId = prefs.getString('user_id');\n  \n  if (userId == null) {\n    print(&quot;No User ID found in SharedPreferences&quot;);\n  } else {\n    print(&quot;User ID retrieved: $userId&quot;);\n  }\n  \n  return userId;\n}\n\n\n  // Map the failure to a user-friendly error message\n  String _mapFailureToMessage(Failure failure) {\n    if (failure is ServerFailure) {\n      return 'Server error occurred. Please try again later.';\n    } else if (failure is NetworkFailure) {\n      return 'Please check your internet connection.';\n    } else {\n      return 'Unexpected error occurred. Please try again.';\n    }\n  }\n}\n\n</code></pre>\n<pre><code>//login_screen.dart\nimport 'package:flutter/material.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart';\nimport 'package:shared_preferences/shared_preferences.dart';\nimport '../../presentation/bloc/login_cubit.dart';\n\nclass LoginScreen extends StatefulWidget {\n  const LoginScreen({Key? key}) : super(key: key);\n\n  @override\n  _LoginScreenState createState() =&gt; _LoginScreenState();\n}\n\nclass _LoginScreenState extends State&lt;LoginScreen&gt; {\n  final _formKey = GlobalKey&lt;FormState&gt;();\n  final Map&lt;String, String&gt; _loginData = {};\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: BlocListener&lt;LoginCubit, LoginState&gt;(\n        listener: (context, state) async {\n          if (state is LoginLoaded) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              const SnackBar(content: Text('Login successful!')),\n            );\n\n            // Save user details to SharedPreferences\n            final prefs = await SharedPreferences.getInstance();\n            await prefs.setString('user_token', state.user.token ?? '');\n            await prefs.setString(\n                'user_id', state.user.userId); // Save only necessary details\n\n            // Navigate to AlertMyPage and pass the user object\n            Navigator.pushReplacementNamed(\n              context,\n              '/alert_my',\n              arguments: state.user, // Pass the User object to AlertMyPage\n            );\n          } else if (state is LoginError) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              SnackBar(content: Text(state.message)),\n            );\n          }\n        },\n        child: Center(\n          child: SingleChildScrollView(\n            child: Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: [\n                Column(\n                  children: [\n                    Image.asset(\n                      'assets/KMS.png',\n                      height: 300, // Adjust the height of the logo here\n                    ),\n                    Text(\n                      'Login to Continue',\n                      style: TextStyle(\n                        fontWeight: FontWeight.w700,\n                        fontSize: 14,\n                        color: Color(0xFF828282),\n                      ),\n                    ),\n                  ],\n                ),\n                const SizedBox(height: 20),\n                Padding(\n                  padding: const EdgeInsets.all(20.0),\n                  child: Form(\n                    key: _formKey,\n                    child: Column(\n                      crossAxisAlignment: CrossAxisAlignment.center,\n                      children: [\n                        TextFormField(\n                          decoration: InputDecoration(\n                            labelText: 'Email',\n                            filled: true,\n                            fillColor: Color(0xFFF3F8FF),\n                            border: OutlineInputBorder(\n                              borderRadius: BorderRadius.circular(8),\n                            ),\n                          ),\n                          onSaved: (value) =&gt; _loginData['email'] = value!,\n                          validator: (value) {\n                            if (value == null || value.isEmpty) {\n                              return 'Please enter your email';\n                            }\n                            return null;\n                          },\n                        ),\n                        const SizedBox(height: 20),\n                        TextFormField(\n                          obscureText: true,\n                          decoration: InputDecoration(\n                            labelText: 'Password',\n                            filled: true,\n                            fillColor: Color(0xFFF3F8FF),\n                            border: OutlineInputBorder(\n                              borderRadius: BorderRadius.circular(8),\n                            ),\n                          ),\n                          onSaved: (value) =&gt; _loginData['password'] = value!,\n                          validator: (value) {\n                            if (value == null || value.isEmpty) {\n                              return 'Please enter your password';\n                            }\n                            return null;\n                          },\n                        ),\n                      ],\n                    ),\n                  ),\n                ),\n                Container(\n                  padding: EdgeInsets.only(left: 200),\n                  child: TextButton(\n                    onPressed: () {\n                      // Add forgot password functionality if needed\n                    },\n                    child: Text(\n                      'FORGOT PASSWORD?',\n                      style: TextStyle(\n                        color: Color(0xFF3E4044),\n                        fontWeight: FontWeight.w500,\n                        fontSize: 11,\n                        decoration: TextDecoration.underline,\n                      ),\n                    ),\n                  ),\n                ),\n                const SizedBox(height: 1),\n                ElevatedButton(\n                  onPressed: () {\n                    if (_formKey.currentState!.validate()) {\n                      _formKey.currentState!.save();\n                      // Trigger login action\n                      context.read&lt;LoginCubit&gt;().loginUser(\n                            email: _loginData['email']!,\n                            password: _loginData['password']!,\n                          );\n                    }\n                  },\n                  style: ElevatedButton.styleFrom(\n                    backgroundColor: Color(0xFF2B479A), // Adjust button color\n                    fixedSize: const Size(315, 45), // Button size\n                    shape: RoundedRectangleBorder(\n                      borderRadius: BorderRadius.zero,\n                    ),\n                  ),\n                  child: const Text(\n                    'LOGIN',\n                    style: TextStyle(\n                      fontWeight: FontWeight.bold,\n                      fontSize: 16,\n                      color: Colors.white, // Text color\n                    ),\n                  ),\n                ),\n                const SizedBox(height: 10),\n                Container(\n                  child: TextButton(\n                    onPressed: () {\n                      Navigator.pushNamed(context, '/register_screen');\n                    },\n                    child: const Text(\n                      'Don\\'t have an account? Register',\n                      style: TextStyle(\n                        color: Color(0xFF3E4044),\n                        fontWeight: FontWeight.w500,\n                        fontSize: 12,\n                      ),\n                    ),\n                  ),\n                ),\n                const SizedBox(height: 20),\n              ],\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}\n\n</code></pre>\n<pre><code>//alert_my.dart\nimport 'package:flutter/material.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart';\nimport '../../../authentication/register/domain/entities/user.dart';\nimport '../../../authentication/register/presentation/bloc/login_cubit.dart';\n\nclass AlertMyPage extends StatelessWidget {\n  const AlertMyPage({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text(&quot;Alert Page&quot;),\n      ),\n      body: FutureBuilder&lt;String?&gt;(\n        future: _getUserIdAfterDelay(context),\n        builder: (context, snapshot) {\n          if (snapshot.connectionState == ConnectionState.waiting) {\n            return const Center(child: CircularProgressIndicator());\n          }\n          if (snapshot.hasError || snapshot.data == null) {\n            return const Center(child: Text('Error: User not found'));\n          }\n\n          final String userId = snapshot.data!;\n          final User user = ModalRoute.of(context)!.settings.arguments as User;\n\n          return Padding(\n            padding: const EdgeInsets.symmetric(horizontal: 27.0),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.start,\n              children: &lt;Widget&gt;[\n                Row(\n                  children: [\n                    ClipOval(\n                      child: Image.asset(\n                        'assets/profile_picture.png',\n                        fit: BoxFit.cover,\n                        width: 60,\n                        height: 60,\n                      ),\n                    ),\n                    const SizedBox(width: 20),\n                    Column(\n                      crossAxisAlignment: CrossAxisAlignment.start,\n                      children: [\n                        const Text(\n                          'Welcome back,',\n                          style: TextStyle(fontSize: 15),\n                        ),\n                        Text(\n                          user.fullName,\n                          style: const TextStyle(\n                              fontSize: 20, fontWeight: FontWeight.w600),\n                        ),\n                        const SizedBox(height: 5),\n                        Text(\n                          'User ID: $userId',\n                          style:\n                              TextStyle(fontSize: 16, color: Colors.grey[600]),\n                        ),\n                      ],\n                    ),\n                  ],\n                ),\n                const SizedBox(height: 25),\n                const Padding(\n                  padding: EdgeInsets.only(top: 6.0, left: 3.0),\n                  child: Text(\n                    'My Aqua Farms',\n                    style: TextStyle(fontSize: 19, fontWeight: FontWeight.w700),\n                  ),\n                ),\n                const SizedBox(height: 20),\n                Expanded(\n                  child: ListView(\n                    children: [\n                      FarmCard(\n                        farmName: 'Felda Bukit Ramun',\n                        pondNumber: 1,\n                        alert: 'Voltage Drop',\n                      ),\n                      const SizedBox(height: 16),\n                      FarmCard(\n                        farmName: 'Felda Bukit Ramun',\n                        pondNumber: 2,\n                        alert: 'Voltage Drop',\n                      ),\n                      const SizedBox(height: 16),\n                      FarmCard(\n                        farmName: 'Felda Bukit Ramun',\n                        pondNumber: 3,\n                        alert: 'Voltage Drop',\n                      ),\n                    ],\n                  ),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }\n\n  Future&lt;String?&gt; _getUserIdAfterDelay(BuildContext context) async {\n    // Simulate a delay\n    await Future.delayed(const Duration(milliseconds: 500));\n    // Ensure this returns the user ID correctly\n    String? userId = await context.read&lt;LoginCubit&gt;().getUserId();\n    print(&quot;User ID retrieved in AlertMyPage: $userId&quot;); // Debug statement\n    return userId;\n  }\n}\n\nclass FarmCard extends StatelessWidget {\n  final String farmName;\n  final int pondNumber;\n  final String alert;\n\n  const FarmCard({\n    required this.farmName,\n    required this.pondNumber,\n    required this.alert,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      height: 105,\n      decoration: BoxDecoration(\n        borderRadius: BorderRadius.circular(15),\n        color: const Color(0xFFfffbfe),\n        boxShadow: [\n          BoxShadow(\n            color: Colors.grey.withOpacity(0.5),\n            spreadRadius: 2,\n            blurRadius: 5,\n          ),\n        ],\n      ),\n      child: Row(\n        children: [\n          Expanded(\n            flex: 3,\n            child: Padding(\n              padding: const EdgeInsets.all(16.0),\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  Text(farmName,\n                      style: const TextStyle(\n                          fontSize: 18, fontWeight: FontWeight.w700)),\n                  const SizedBox(height: 2),\n                  Text('Pond: $pondNumber',\n                      style: const TextStyle(fontSize: 15)),\n                  Text('Alert: $alert', style: const TextStyle(fontSize: 15)),\n                ],\n              ),\n            ),\n          ),\n          const Expanded(\n            flex: 1,\n            child: Padding(\n              padding: EdgeInsets.only(left: 19.0),\n              child: Icon(Icons.flash_on, color: Colors.black),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n\n</code></pre>\n<p>Debug Console:</p>\n<blockquote>\n<p>/flutter ( 5809): Response Code: 200</p>\n<p>I/flutter ( 5809): Response Body: {&quot;userDetails&quot;:{&quot;Name&quot;:&quot;Test\nDeveloper\n50&quot;,&quot;email&quot;:&quot;testdeveloper50@gmail.com&quot;,&quot;token&quot;:&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjcyNDM0NzU4NDQyMzUxNDExMjAiLCJlbWFpbCI6InRlc3RkZXZlbG9wZXI1MEBnbWFpbC5jb20iLCJpYXQiOjE3MjczNjc2ODgsImV4cCI6MTcyNzM4OTI4OH0.35ysGilTolHb7iYFUjb1zy8P3qiU-WR0TnDAak8XlKo&quot;,&quot;description&quot;:&quot;Log\nIn Success!&quot;}}</p>\n<p>I/flutter ( 5809): Decoded token: {id: 7243475844235141120, email:\ntestdeveloper50@gmail.com, iat: 1727367688, exp: 1727389288}</p>\n<p>I/flutter ( 5809): User ID saved: 7243475844235141120</p>\n<p>I/flutter ( 5809): Token saved:\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjcyNDM0NzU4NDQyMzUxNDExMjAiLCJlbWFpbCI6InRlc3RkZXZlbG9wZXI1MEBnbWFpbC5jb20iLCJpYXQiOjE3MjczNjc2ODgsImV4cCI6MTcyNzM4OTI4OH0.35ysGilTolHb7iYFUjb1zy8P3qiU-WR0TnDAak8XlKo</p>\n<p>D/EGL_emulation( 5809): app_time_stats: avg=26.26ms min=2.33ms\nmax=445.00ms count=32</p>\n<p>W/WindowOnBackDispatcher( 5809): OnBackInvokedCallback is not enabled\nfor the application.</p>\n<p>W/WindowOnBackDispatcher( 5809): Set\n'android:enableOnBackInvokedCallback=&quot;true&quot;' in the application\nmanifest.</p>\n<p>I/ImeTracker( 5809): com.example.kms:b59ac922: onRequestHide at\nORIGIN_CLIENT_HIDE_SOFT_INPUT reason HIDE_SOFT_INPUT</p>\n<p>I/flutter ( 5809): User ID retrieved:</p>\n<p>I/flutter ( 5809): User ID retrieved in AlertMyPage:</p>\n</blockquote>\n",
        "codigo": [
            "userId",
            "userId",
            "userId",
            "userId",
            "//login_cubit.dart\nimport 'package:flutter_bloc/flutter_bloc.dart';\nimport 'package:dartz/dartz.dart';\nimport 'package:shared_preferences/shared_preferences.dart';\nimport 'package:jwt_decoder/jwt_decoder.dart';\nimport '../../domain/use cases/login_user_usecase.dart';\nimport '../../domain/entities/user.dart';\nimport '../../../../../core/errors/failure.dart';\nimport 'package:equatable/equatable.dart';\n\npart 'login_state.dart';\n\nclass LoginCubit extends Cubit<LoginState> {\n  final LoginUserUseCase loginUserUseCase;\n\n  LoginCubit({required this.loginUserUseCase}) : super(LoginInitial());\n\n  Future<void> loginUser({\n    required String email,\n    required String password,\n  }) async {\n    emit(LoginLoading());\n\n    try {\n      final Either<Failure, User?> result = await loginUserUseCase(\n        email: email,\n        password: password,\n      );\n\n      result.fold(\n        (failure) {\n          emit(LoginError(message: _mapFailureToMessage(failure)));\n        },\n        (user) async {\n          if (user != null && user.token != null) {\n            // Decode the JWT token to extract the user ID\n            String userId = _extractUserIdFromToken(user.token!);\n\n            // Save the user token and userId to SharedPreferences\n            await _saveUserCredentials(user.token!, userId);\n            emit(LoginLoaded(user: user));\n          } else {\n            emit(LoginError(message: 'Failed to retrieve user.'));\n          }\n        },\n      );\n    } catch (e) {\n      emit(LoginError(message: e.toString()));\n    }\n  }\n\n  // Function to decode the JWT token and extract the user ID\n  String _extractUserIdFromToken(String token) {\n    Map<String, dynamic> decodedToken = JwtDecoder.decode(token);\n    print(\"Decoded token: $decodedToken\"); // Debug print\n    return decodedToken['id']; // Extract the 'id' from the decoded token\n  }\n\n  // Save token and userId to SharedPreferences\n  Future<void> _saveUserCredentials(String token, String userId) async {\n    final prefs = await SharedPreferences.getInstance();\n\n    // Remove previous token and user ID if they exist\n     await prefs.remove('user_token'); \n     await prefs.remove('user_id');\n\n    // Save new credentials\n    await prefs.setString('user_token', token);\n    await prefs.setString('user_id', userId);\n\n    // Verify successful save\n    print(\"User ID saved: $userId\");\n    print(\"Token saved: $token\");\n  }\n\n// Retrieve userId from SharedPreferences\nFuture<String?> getUserId() async {\n  final prefs = await SharedPreferences.getInstance();\n  String? userId = prefs.getString('user_id');\n  \n  if (userId == null) {\n    print(\"No User ID found in SharedPreferences\");\n  } else {\n    print(\"User ID retrieved: $userId\");\n  }\n  \n  return userId;\n}\n\n\n  // Map the failure to a user-friendly error message\n  String _mapFailureToMessage(Failure failure) {\n    if (failure is ServerFailure) {\n      return 'Server error occurred. Please try again later.';\n    } else if (failure is NetworkFailure) {\n      return 'Please check your internet connection.';\n    } else {\n      return 'Unexpected error occurred. Please try again.';\n    }\n  }\n}\n\n",
            "//login_screen.dart\nimport 'package:flutter/material.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart';\nimport 'package:shared_preferences/shared_preferences.dart';\nimport '../../presentation/bloc/login_cubit.dart';\n\nclass LoginScreen extends StatefulWidget {\n  const LoginScreen({Key? key}) : super(key: key);\n\n  @override\n  _LoginScreenState createState() => _LoginScreenState();\n}\n\nclass _LoginScreenState extends State<LoginScreen> {\n  final _formKey = GlobalKey<FormState>();\n  final Map<String, String> _loginData = {};\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: BlocListener<LoginCubit, LoginState>(\n        listener: (context, state) async {\n          if (state is LoginLoaded) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              const SnackBar(content: Text('Login successful!')),\n            );\n\n            // Save user details to SharedPreferences\n            final prefs = await SharedPreferences.getInstance();\n            await prefs.setString('user_token', state.user.token ?? '');\n            await prefs.setString(\n                'user_id', state.user.userId); // Save only necessary details\n\n            // Navigate to AlertMyPage and pass the user object\n            Navigator.pushReplacementNamed(\n              context,\n              '/alert_my',\n              arguments: state.user, // Pass the User object to AlertMyPage\n            );\n          } else if (state is LoginError) {\n            ScaffoldMessenger.of(context).showSnackBar(\n              SnackBar(content: Text(state.message)),\n            );\n          }\n        },\n        child: Center(\n          child: SingleChildScrollView(\n            child: Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: [\n                Column(\n                  children: [\n                    Image.asset(\n                      'assets/KMS.png',\n                      height: 300, // Adjust the height of the logo here\n                    ),\n                    Text(\n                      'Login to Continue',\n                      style: TextStyle(\n                        fontWeight: FontWeight.w700,\n                        fontSize: 14,\n                        color: Color(0xFF828282),\n                      ),\n                    ),\n                  ],\n                ),\n                const SizedBox(height: 20),\n                Padding(\n                  padding: const EdgeInsets.all(20.0),\n                  child: Form(\n                    key: _formKey,\n                    child: Column(\n                      crossAxisAlignment: CrossAxisAlignment.center,\n                      children: [\n                        TextFormField(\n                          decoration: InputDecoration(\n                            labelText: 'Email',\n                            filled: true,\n                            fillColor: Color(0xFFF3F8FF),\n                            border: OutlineInputBorder(\n                              borderRadius: BorderRadius.circular(8),\n                            ),\n                          ),\n                          onSaved: (value) => _loginData['email'] = value!,\n                          validator: (value) {\n                            if (value == null || value.isEmpty) {\n                              return 'Please enter your email';\n                            }\n                            return null;\n                          },\n                        ),\n                        const SizedBox(height: 20),\n                        TextFormField(\n                          obscureText: true,\n                          decoration: InputDecoration(\n                            labelText: 'Password',\n                            filled: true,\n                            fillColor: Color(0xFFF3F8FF),\n                            border: OutlineInputBorder(\n                              borderRadius: BorderRadius.circular(8),\n                            ),\n                          ),\n                          onSaved: (value) => _loginData['password'] = value!,\n                          validator: (value) {\n                            if (value == null || value.isEmpty) {\n                              return 'Please enter your password';\n                            }\n                            return null;\n                          },\n                        ),\n                      ],\n                    ),\n                  ),\n                ),\n                Container(\n                  padding: EdgeInsets.only(left: 200),\n                  child: TextButton(\n                    onPressed: () {\n                      // Add forgot password functionality if needed\n                    },\n                    child: Text(\n                      'FORGOT PASSWORD?',\n                      style: TextStyle(\n                        color: Color(0xFF3E4044),\n                        fontWeight: FontWeight.w500,\n                        fontSize: 11,\n                        decoration: TextDecoration.underline,\n                      ),\n                    ),\n                  ),\n                ),\n                const SizedBox(height: 1),\n                ElevatedButton(\n                  onPressed: () {\n                    if (_formKey.currentState!.validate()) {\n                      _formKey.currentState!.save();\n                      // Trigger login action\n                      context.read<LoginCubit>().loginUser(\n                            email: _loginData['email']!,\n                            password: _loginData['password']!,\n                          );\n                    }\n                  },\n                  style: ElevatedButton.styleFrom(\n                    backgroundColor: Color(0xFF2B479A), // Adjust button color\n                    fixedSize: const Size(315, 45), // Button size\n                    shape: RoundedRectangleBorder(\n                      borderRadius: BorderRadius.zero,\n                    ),\n                  ),\n                  child: const Text(\n                    'LOGIN',\n                    style: TextStyle(\n                      fontWeight: FontWeight.bold,\n                      fontSize: 16,\n                      color: Colors.white, // Text color\n                    ),\n                  ),\n                ),\n                const SizedBox(height: 10),\n                Container(\n                  child: TextButton(\n                    onPressed: () {\n                      Navigator.pushNamed(context, '/register_screen');\n                    },\n                    child: const Text(\n                      'Don\\'t have an account? Register',\n                      style: TextStyle(\n                        color: Color(0xFF3E4044),\n                        fontWeight: FontWeight.w500,\n                        fontSize: 12,\n                      ),\n                    ),\n                  ),\n                ),\n                const SizedBox(height: 20),\n              ],\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}\n\n",
            "//alert_my.dart\nimport 'package:flutter/material.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart';\nimport '../../../authentication/register/domain/entities/user.dart';\nimport '../../../authentication/register/presentation/bloc/login_cubit.dart';\n\nclass AlertMyPage extends StatelessWidget {\n  const AlertMyPage({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text(\"Alert Page\"),\n      ),\n      body: FutureBuilder<String?>(\n        future: _getUserIdAfterDelay(context),\n        builder: (context, snapshot) {\n          if (snapshot.connectionState == ConnectionState.waiting) {\n            return const Center(child: CircularProgressIndicator());\n          }\n          if (snapshot.hasError || snapshot.data == null) {\n            return const Center(child: Text('Error: User not found'));\n          }\n\n          final String userId = snapshot.data!;\n          final User user = ModalRoute.of(context)!.settings.arguments as User;\n\n          return Padding(\n            padding: const EdgeInsets.symmetric(horizontal: 27.0),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.start,\n              children: <Widget>[\n                Row(\n                  children: [\n                    ClipOval(\n                      child: Image.asset(\n                        'assets/profile_picture.png',\n                        fit: BoxFit.cover,\n                        width: 60,\n                        height: 60,\n                      ),\n                    ),\n                    const SizedBox(width: 20),\n                    Column(\n                      crossAxisAlignment: CrossAxisAlignment.start,\n                      children: [\n                        const Text(\n                          'Welcome back,',\n                          style: TextStyle(fontSize: 15),\n                        ),\n                        Text(\n                          user.fullName,\n                          style: const TextStyle(\n                              fontSize: 20, fontWeight: FontWeight.w600),\n                        ),\n                        const SizedBox(height: 5),\n                        Text(\n                          'User ID: $userId',\n                          style:\n                              TextStyle(fontSize: 16, color: Colors.grey[600]),\n                        ),\n                      ],\n                    ),\n                  ],\n                ),\n                const SizedBox(height: 25),\n                const Padding(\n                  padding: EdgeInsets.only(top: 6.0, left: 3.0),\n                  child: Text(\n                    'My Aqua Farms',\n                    style: TextStyle(fontSize: 19, fontWeight: FontWeight.w700),\n                  ),\n                ),\n                const SizedBox(height: 20),\n                Expanded(\n                  child: ListView(\n                    children: [\n                      FarmCard(\n                        farmName: 'Felda Bukit Ramun',\n                        pondNumber: 1,\n                        alert: 'Voltage Drop',\n                      ),\n                      const SizedBox(height: 16),\n                      FarmCard(\n                        farmName: 'Felda Bukit Ramun',\n                        pondNumber: 2,\n                        alert: 'Voltage Drop',\n                      ),\n                      const SizedBox(height: 16),\n                      FarmCard(\n                        farmName: 'Felda Bukit Ramun',\n                        pondNumber: 3,\n                        alert: 'Voltage Drop',\n                      ),\n                    ],\n                  ),\n                ),\n              ],\n            ),\n          );\n        },\n      ),\n    );\n  }\n\n  Future<String?> _getUserIdAfterDelay(BuildContext context) async {\n    // Simulate a delay\n    await Future.delayed(const Duration(milliseconds: 500));\n    // Ensure this returns the user ID correctly\n    String? userId = await context.read<LoginCubit>().getUserId();\n    print(\"User ID retrieved in AlertMyPage: $userId\"); // Debug statement\n    return userId;\n  }\n}\n\nclass FarmCard extends StatelessWidget {\n  final String farmName;\n  final int pondNumber;\n  final String alert;\n\n  const FarmCard({\n    required this.farmName,\n    required this.pondNumber,\n    required this.alert,\n  });\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      height: 105,\n      decoration: BoxDecoration(\n        borderRadius: BorderRadius.circular(15),\n        color: const Color(0xFFfffbfe),\n        boxShadow: [\n          BoxShadow(\n            color: Colors.grey.withOpacity(0.5),\n            spreadRadius: 2,\n            blurRadius: 5,\n          ),\n        ],\n      ),\n      child: Row(\n        children: [\n          Expanded(\n            flex: 3,\n            child: Padding(\n              padding: const EdgeInsets.all(16.0),\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  Text(farmName,\n                      style: const TextStyle(\n                          fontSize: 18, fontWeight: FontWeight.w700)),\n                  const SizedBox(height: 2),\n                  Text('Pond: $pondNumber',\n                      style: const TextStyle(fontSize: 15)),\n                  Text('Alert: $alert', style: const TextStyle(fontSize: 15)),\n                ],\n              ),\n            ),\n          ),\n          const Expanded(\n            flex: 1,\n            child: Padding(\n              padding: EdgeInsets.only(left: 19.0),\n              child: Icon(Icons.flash_on, color: Colors.black),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n\n"
        ]
    },
    {
        "titulo": "DateFormat parseStrict does not fail on incomplete input for year",
        "score": 0,
        "views": 35,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "date"
        ],
        "link": "https://stackoverflow.com/questions/78996712/dateformat-parsestrict-does-not-fail-on-incomplete-input-for-year",
        "conteudo_html": "<p>Why does <code>parseStrict</code> not fail on the input <code>11/11/1</code> which does not fulfill the <code>DateFormat</code> pattern requirement of <code>dd/MM/yyyy</code>? I expected that it will fail until <code>11/11/1111</code> is inputted. Instead, I see that it is reading the year as <code>0001</code>. Should we check the length of the string before calling <code>parseStrict</code> or is there a workaround?</p>\n<pre><code>try {\n  final dateValue = DateFormat('dd/MM/yyyy').parseStrict('11/11/1');\n  // dateValue is DateTime(0001-11-11 00:00:00.000)\n} on Exception catch (_) {\n  // I expect to reach this line but it is not throwing Exception.\n  print(&quot;parseStrict fails&quot;);\n}\n\n</code></pre>\n",
        "codigo": [
            "parseStrict",
            "11/11/1",
            "DateFormat",
            "dd/MM/yyyy",
            "11/11/1111",
            "0001",
            "parseStrict",
            "try {\n  final dateValue = DateFormat('dd/MM/yyyy').parseStrict('11/11/1');\n  // dateValue is DateTime(0001-11-11 00:00:00.000)\n} on Exception catch (_) {\n  // I expect to reach this line but it is not throwing Exception.\n  print(\"parseStrict fails\");\n}\n\n"
        ]
    },
    {
        "titulo": "Exception: Error fetching player match history: TypeError: &quot;players&quot;: type &#39;String&#39; is not a subtype of type &#39;int&#39; (not fetching any int)",
        "score": 0,
        "views": 67,
        "respostas": 1,
        "tags": [
            "json",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78985508/exception-error-fetching-player-match-history-typeerror-players-type-stri",
        "conteudo_html": "<p>I am trying to run my app but I keep getting this error:</p>\n<blockquote>\n<p><strong>Error: TypeError: &quot;players&quot;: type 'String' is not a subtype of type 'int'\nError fetching match history: Exception: Error fetching player match history: TypeError: &quot;players&quot;: type 'String' is not a subtype of type 'int'</strong></p>\n</blockquote>\n<p>I am trying to display the name tag and current tier patched of the players in the JSON response.</p>\n<p><a href=\"https://api.henrikdev.xyz/valorant/v3/matches/ap/Gunner/GG69?size=1&amp;api_key=HDEV-990890cf-68cf-4263-afce-446dadda0b13\" rel=\"nofollow noreferrer\">https://api.henrikdev.xyz/valorant/v3/matches/ap/Gunner/GG69?size=1&amp;api_key=HDEV-990890cf-68cf-4263-afce-446dadda0b13</a></p>\n<p>(It has my API key; don't mess with it] in listview tiles, and get the error above.</p>\n<pre><code>class Player {\n  final String name;\n  final String tag;\n  final String rank;\n\n  Player({required this.name, required this.tag, required this.rank});\n\n  factory Player.fromJson(Map&lt;String, dynamic&gt; json) {\n    return Player(\n      name: json['name'],\n      tag: json['tag'],\n      rank: json['currenttier_patched'], // Use 'rank_patched' instead of 'rank'\n    );\n  }\n}\n\n\nclass PlayerMatchHistory {\n  final List&lt;Player&gt; players;\n\n  PlayerMatchHistory({required this.players});\n\n  factory PlayerMatchHistory.fromJson(Map&lt;String, dynamic&gt; json) {\n    var data = json['data']; // Get the first element of the 'data' list\n    var playersJson = data['players']; // Get the 'all_players' field from the 'players' object\n\n    if (playersJson is List) {\n      List&lt;Player&gt; playersList = playersJson.map((playerJson) =&gt; Player.fromJson(playerJson)).toList();\n      return PlayerMatchHistory(players: playersList);\n    } else {\n      throw Exception('Expected all_players to be a List but got a ${playersJson.runtimeType}');\n    }\n  }\n}\n</code></pre>\n<p>UI screen</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'package:valorant_app/viewmodel/match_vm.dart';\n\nclass PlayerMatchHistoryScreen extends StatefulWidget {\n  final String playerName;\n  final String tag;\n\n  const PlayerMatchHistoryScreen({\n    Key? key,\n    required this.playerName,\n    required this.tag,\n  }) : super(key: key);\n\n  @override\n  _PlayerMatchHistoryScreenState createState() =&gt; _PlayerMatchHistoryScreenState();\n}\n\nclass _PlayerMatchHistoryScreenState extends State&lt;PlayerMatchHistoryScreen&gt; {\n  bool _isListViewVisible = false;\n\n  @override\n  Widget build(BuildContext context) {\n    final viewModel = Provider.of&lt;PlayerMatchHistoryViewModel&gt;(context);\n\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Player Match History'),\n      ),\n      body: FutureBuilder(\n        future: viewModel.fetchMatchHistory(widget.playerName, widget.tag),\n        builder: (context, snapshot) {\n          if (snapshot.connectionState == ConnectionState.done) {\n            if (viewModel.isLoading) {\n              return const Center(child: Text(&quot;Loading...&quot;));\n            } else if (snapshot.hasError) {\n              return Center(child: Text('Error: ${snapshot.error}'));\n            } else if (viewModel.matchHistory == null || viewModel.matchHistory!.players.isEmpty) {\n              return const Center(child: Text('No match history available.'));\n            } else {\n              WidgetsBinding.instance.addPostFrameCallback((_) {\n                setState(() {\n                  _isListViewVisible = true;\n                });\n              });\n              return _isListViewVisible\n                  ? ListView.builder(\n                      itemCount: viewModel.matchHistory!.players.length,\n                      itemBuilder: (context, index) {\n                        final player = viewModel.matchHistory!.players[index];\n                        return ListTile(\n                          title: Text('${player.name}#${player.tag}'),\n                          subtitle: Text('Current Rank: ${player.rank}'),\n                        );\n                      },\n                    )\n                  : Container();\n            }\n          } else {\n            return const Center(child: CircularProgressIndicator());\n          }\n        },\n      ),\n    );\n  }\n}\n</code></pre>\n<p>MAIN</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'package:valorant_app/pages/player_screen.dart';\nimport 'package:valorant_app/service/api.dart';\nimport 'package:valorant_app/repo/repo.dart';\nimport 'package:valorant_app/viewmodel/match_vm.dart';\nimport 'package:valorant_app/viewmodel/valo_vm.dart';\n//import 'package:valorant_app/pages/player_screen.dart';\nimport 'package:valorant_app/pages/player_history.dart'; // Import the new screen\n\nvoid main() {\n  // Define base URLs and API key\n  const baseUrl = 'https://api.henrikdev.xyz/valorant/v2/mmr';\n  const baseUrl2 = 'https://api.henrikdev.xyz/valorant/v3/matches'; // Correct Base URL\n  const apiKey = 'HDEV-990890cf-68cf-4263-afce-446dadda0b13'; // Replace with your actual API Key\n\n  // Initialize the API service and repository\n  final apiService = ValorantApiService(baseUrl: baseUrl, baseUrl2: baseUrl2, apiKey: apiKey);\n  final repository = ValorantRepository(apiService: apiService);\n\n  runApp(\n    MultiProvider(\n      providers: [\n        ChangeNotifierProvider(\n          create: (_) =&gt; PlayerViewModel(repository: repository),\n        ),\n        ChangeNotifierProvider(\n          create: (_) =&gt; PlayerMatchHistoryViewModel(repository: repository),\n        ),\n      ],\n      child: const MyApp(),\n    ),\n  );\n}\n</code></pre>\n<p><em>main</em></p>\n<pre><code>class MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Valorant Player Info',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: const PlayerMatchHistoryScreen(playerName: 'Gunner', tag: 'GG69', ) // Initial screen can be changed to match history if needed\n      \n    );\n  }\n}\n</code></pre>\n<p><em>MODEL/JSON  output</em></p>\n<pre class=\"lang-json prettyprint-override\"><code> &quot;players&quot;: {\n        &quot;all_players&quot;: [\n          {\n            &quot;puuid&quot;: &quot;3c4b8e9c-8a7b-5dfc-b68d-4fba11b39291&quot;,\n            &quot;name&quot;: &quot;GUNNER&quot;,\n            &quot;tag&quot;: &quot;GG69&quot;,\n            &quot;team&quot;: &quot;Blue&quot;,\n            &quot;level&quot;: 111,\n            &quot;character&quot;: &quot;Breach&quot;,\n            &quot;currenttier&quot;: 9,\n            &quot;currenttier_patched&quot;: &quot;Silver 1&quot;,\n            &quot;player_card&quot;: &quot;72f9b137-41f1-ef95-853a-798212f064ee&quot;,\n            &quot;player_title&quot;: &quot;129190d4-42fa-4e79-75e3-ffb5679d1dc2&quot;,\n            &quot;party_id&quot;: &quot;5052b7eb-098e-4943-ac25-08fe747f17cf&quot;,\n            &quot;session_playtime&quot;: {\n              &quot;minutes&quot;: 46,\n              &quot;seconds&quot;: 2760,\n              &quot;milliseconds&quot;: 2760000\n            },\n</code></pre>\n<p>I have tried to solve it using various AI tools but nothing helped. I am new to Flutter and this is my first project without following any tutorial so that's all I can do. I also tried searching some threads on same issue nothing helped.</p>\n<p>What I am expecting is to display the name, tag and current tier patch (rank) of the players in list view as I have shared the code to UI screen above.</p>\n",
        "codigo": [
            "class Player {\n  final String name;\n  final String tag;\n  final String rank;\n\n  Player({required this.name, required this.tag, required this.rank});\n\n  factory Player.fromJson(Map<String, dynamic> json) {\n    return Player(\n      name: json['name'],\n      tag: json['tag'],\n      rank: json['currenttier_patched'], // Use 'rank_patched' instead of 'rank'\n    );\n  }\n}\n\n\nclass PlayerMatchHistory {\n  final List<Player> players;\n\n  PlayerMatchHistory({required this.players});\n\n  factory PlayerMatchHistory.fromJson(Map<String, dynamic> json) {\n    var data = json['data']; // Get the first element of the 'data' list\n    var playersJson = data['players']; // Get the 'all_players' field from the 'players' object\n\n    if (playersJson is List) {\n      List<Player> playersList = playersJson.map((playerJson) => Player.fromJson(playerJson)).toList();\n      return PlayerMatchHistory(players: playersList);\n    } else {\n      throw Exception('Expected all_players to be a List but got a ${playersJson.runtimeType}');\n    }\n  }\n}\n",
            "import 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'package:valorant_app/viewmodel/match_vm.dart';\n\nclass PlayerMatchHistoryScreen extends StatefulWidget {\n  final String playerName;\n  final String tag;\n\n  const PlayerMatchHistoryScreen({\n    Key? key,\n    required this.playerName,\n    required this.tag,\n  }) : super(key: key);\n\n  @override\n  _PlayerMatchHistoryScreenState createState() => _PlayerMatchHistoryScreenState();\n}\n\nclass _PlayerMatchHistoryScreenState extends State<PlayerMatchHistoryScreen> {\n  bool _isListViewVisible = false;\n\n  @override\n  Widget build(BuildContext context) {\n    final viewModel = Provider.of<PlayerMatchHistoryViewModel>(context);\n\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Player Match History'),\n      ),\n      body: FutureBuilder(\n        future: viewModel.fetchMatchHistory(widget.playerName, widget.tag),\n        builder: (context, snapshot) {\n          if (snapshot.connectionState == ConnectionState.done) {\n            if (viewModel.isLoading) {\n              return const Center(child: Text(\"Loading...\"));\n            } else if (snapshot.hasError) {\n              return Center(child: Text('Error: ${snapshot.error}'));\n            } else if (viewModel.matchHistory == null || viewModel.matchHistory!.players.isEmpty) {\n              return const Center(child: Text('No match history available.'));\n            } else {\n              WidgetsBinding.instance.addPostFrameCallback((_) {\n                setState(() {\n                  _isListViewVisible = true;\n                });\n              });\n              return _isListViewVisible\n                  ? ListView.builder(\n                      itemCount: viewModel.matchHistory!.players.length,\n                      itemBuilder: (context, index) {\n                        final player = viewModel.matchHistory!.players[index];\n                        return ListTile(\n                          title: Text('${player.name}#${player.tag}'),\n                          subtitle: Text('Current Rank: ${player.rank}'),\n                        );\n                      },\n                    )\n                  : Container();\n            }\n          } else {\n            return const Center(child: CircularProgressIndicator());\n          }\n        },\n      ),\n    );\n  }\n}\n",
            "import 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'package:valorant_app/pages/player_screen.dart';\nimport 'package:valorant_app/service/api.dart';\nimport 'package:valorant_app/repo/repo.dart';\nimport 'package:valorant_app/viewmodel/match_vm.dart';\nimport 'package:valorant_app/viewmodel/valo_vm.dart';\n//import 'package:valorant_app/pages/player_screen.dart';\nimport 'package:valorant_app/pages/player_history.dart'; // Import the new screen\n\nvoid main() {\n  // Define base URLs and API key\n  const baseUrl = 'https://api.henrikdev.xyz/valorant/v2/mmr';\n  const baseUrl2 = 'https://api.henrikdev.xyz/valorant/v3/matches'; // Correct Base URL\n  const apiKey = 'HDEV-990890cf-68cf-4263-afce-446dadda0b13'; // Replace with your actual API Key\n\n  // Initialize the API service and repository\n  final apiService = ValorantApiService(baseUrl: baseUrl, baseUrl2: baseUrl2, apiKey: apiKey);\n  final repository = ValorantRepository(apiService: apiService);\n\n  runApp(\n    MultiProvider(\n      providers: [\n        ChangeNotifierProvider(\n          create: (_) => PlayerViewModel(repository: repository),\n        ),\n        ChangeNotifierProvider(\n          create: (_) => PlayerMatchHistoryViewModel(repository: repository),\n        ),\n      ],\n      child: const MyApp(),\n    ),\n  );\n}\n",
            "class MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Valorant Player Info',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: const PlayerMatchHistoryScreen(playerName: 'Gunner', tag: 'GG69', ) // Initial screen can be changed to match history if needed\n      \n    );\n  }\n}\n",
            " \"players\": {\n        \"all_players\": [\n          {\n            \"puuid\": \"3c4b8e9c-8a7b-5dfc-b68d-4fba11b39291\",\n            \"name\": \"GUNNER\",\n            \"tag\": \"GG69\",\n            \"team\": \"Blue\",\n            \"level\": 111,\n            \"character\": \"Breach\",\n            \"currenttier\": 9,\n            \"currenttier_patched\": \"Silver 1\",\n            \"player_card\": \"72f9b137-41f1-ef95-853a-798212f064ee\",\n            \"player_title\": \"129190d4-42fa-4e79-75e3-ffb5679d1dc2\",\n            \"party_id\": \"5052b7eb-098e-4943-ac25-08fe747f17cf\",\n            \"session_playtime\": {\n              \"minutes\": 46,\n              \"seconds\": 2760,\n              \"milliseconds\": 2760000\n            },\n"
        ]
    },
    {
        "titulo": "Flutter Firebase Phone Auth not sending SMS Code",
        "score": 4,
        "views": 1266,
        "respostas": 3,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/78981223/flutter-firebase-phone-auth-not-sending-sms-code",
        "conteudo_html": "<p>My Flutter Firebase Phone Auth is not working anymore. I don't know, but there may be some updates to the Firebase backend that I'm not aware of. I used to receive a verification code on a real device, but now I don't anymore.\nIn my code, on a registration screen, I put in a phone number and press a button. Then, when phone number verification is complete, it should send me to the OTP page.\nI'm being sent to the OTP page alright, but I don't receive the SMS code on my phone.</p>\n<p><strong>Phone verification method</strong></p>\n<pre><code>sendPhoneNumber(\n    BuildContext context,\n    String phoneNumber,\n    navigateToOTPScreen,\n  ) async {\n    try {\n      await FirebaseAuth.instance.verifyPhoneNumber(\n        phoneNumber: phoneNumber,\n        verificationCompleted: (PhoneAuthCredential phoneAuthCredential) async {\n          await FirebaseAuth.instance.signInWithCredential(phoneAuthCredential);\n        },\n        verificationFailed: (error) {\n          Fluttertoast.showToast(\n              msg: &quot;An error occured ...${error.message}&quot;,\n              backgroundColor: Colors.red,\n              textColor: Colors.black);\n          print(error.message);\n          throw Exception(error.message);\n        },\n        codeSent: (verificationId, forceResendingToken) {\n          appData.verificationId = verificationId;\n          Navigator.push(\n            context,\n            MaterialPageRoute(\n              builder: (context) =&gt; navigateToOTPScreen,\n            ),\n          );\n        },\n        codeAutoRetrievalTimeout: (verificationId) {},\n      );\n    } on FirebaseException catch (e) {\n      Fluttertoast.showToast(\n          msg: &quot;${e.message}&quot;,\n          backgroundColor: Colors.red,\n          textColor: Colors.black);\n    }\n  }\n</code></pre>\n<p>I've tried this on both Android and IOS real devices. My <code>Phone</code>sign-in method on the Firebase console is enabled, and the SHA-1 and SHA-256 key for Android are in place.\nMy <code>Play Integrity</code> for Android is also registered,d but I don't know what seems to be the problem.</p>\n",
        "codigo": [
            "sendPhoneNumber(\n    BuildContext context,\n    String phoneNumber,\n    navigateToOTPScreen,\n  ) async {\n    try {\n      await FirebaseAuth.instance.verifyPhoneNumber(\n        phoneNumber: phoneNumber,\n        verificationCompleted: (PhoneAuthCredential phoneAuthCredential) async {\n          await FirebaseAuth.instance.signInWithCredential(phoneAuthCredential);\n        },\n        verificationFailed: (error) {\n          Fluttertoast.showToast(\n              msg: \"An error occured ...${error.message}\",\n              backgroundColor: Colors.red,\n              textColor: Colors.black);\n          print(error.message);\n          throw Exception(error.message);\n        },\n        codeSent: (verificationId, forceResendingToken) {\n          appData.verificationId = verificationId;\n          Navigator.push(\n            context,\n            MaterialPageRoute(\n              builder: (context) => navigateToOTPScreen,\n            ),\n          );\n        },\n        codeAutoRetrievalTimeout: (verificationId) {},\n      );\n    } on FirebaseException catch (e) {\n      Fluttertoast.showToast(\n          msg: \"${e.message}\",\n          backgroundColor: Colors.red,\n          textColor: Colors.black);\n    }\n  }\n",
            "Phone",
            "Play Integrity"
        ]
    },
    {
        "titulo": "Execution order confusion in Flutter tests: Future&lt;void&gt; runs before test groups",
        "score": 0,
        "views": 47,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "testing",
            "automated-tests"
        ],
        "link": "https://stackoverflow.com/questions/78971977/execution-order-confusion-in-flutter-tests-futurevoid-runs-before-test-groups",
        "conteudo_html": "<p>I have a test folder in my flitter project which contains the following :</p>\n<pre><code>group ('beneficiary methods tests', () {\n\ntest('insert beneficiary test',()async{…}\n\ntest('update beneficiary test',()async{…}\n\ntest('get beneficiary test',()async{…}\n\n});\n\nawait deleteDatabase('testingDB');\n</code></pre>\n<p>What I’m expecting is to run the code line by line , meaning that the deletion of the database will be after each test’s execution , however this is not happening the tests depend’s on the database and they’re failing with the following error</p>\n<pre><code>SafLiteFfiException(error,\nBad state: This database\nhas already been closed})\n</code></pre>\n<p>Moving the <strong>await</strong> <strong>deleteDatabase('testingDB');</strong> above the group solved the error but I still want to understand the reason of this behavior</p>\n",
        "codigo": [
            "group ('beneficiary methods tests', () {\n\ntest('insert beneficiary test',()async{…}\n\ntest('update beneficiary test',()async{…}\n\ntest('get beneficiary test',()async{…}\n\n});\n\nawait deleteDatabase('testingDB');\n",
            "SafLiteFfiException(error,\nBad state: This database\nhas already been closed})\n"
        ]
    },
    {
        "titulo": "Kotlin Version Mismatch: Dependencies Compiled with Kotlin 1.8.0, Expected 1.6.0 in Android Project",
        "score": 1,
        "views": 391,
        "respostas": 2,
        "tags": [
            "android",
            "flutter",
            "kotlin",
            "dart",
            "sdk"
        ],
        "link": "https://stackoverflow.com/questions/78971665/kotlin-version-mismatch-dependencies-compiled-with-kotlin-1-8-0-expected-1-6-0",
        "conteudo_html": "<p>After creating a screen to display the user's location on the map, I get the following errors:</p>\n<pre class=\"lang-none prettyprint-override\"><code>e: /path/to/project/.gradle/caches/transforms-3/XXXXXX/transformed/fragment-1.7.1-api.jar!/META-INF/fragment_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n\ne: /path/to/project/.gradle/caches/transforms-3/XXXXXX/transformed/jetified-activity-1.8.1-api.jar!/META-INF/activity_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n\ne: /path/to/project/.gradle/caches/transforms-3/XXXXXX/transformed/jetified-lifecycle-livedata-core-ktx-2.7.0-api.jar!/META-INF/lifecycle-livedata-core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n\ne: /path/to/project/.gradle/caches/transforms-3/XXXXXX/transformed/lifecycle-livedata-2.7.0-api.jar!/META-INF/lifecycle-livedata_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n\ne: /path/to/project/.gradle/caches/transforms-3/XXXXXX/transformed/lifecycle-viewmodel-2.7.0-api.jar!/META-INF/lifecycle-viewmodel_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n\ne: /path/to/project/.gradle/caches/transforms-3/XXXXXX/transformed/core-ktx-1.13.1-api.jar!/META-INF/core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n</code></pre>\n<p>Android/build.gradle</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.9.0'\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:8.0.2&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = &quot;../build&quot;\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(&quot;:app&quot;)\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>Android/app/build.gradle:</p>\n<pre><code>plugins {\n    id &quot;com.android.application&quot;\n    id &quot;kotlin-android&quot;\n    id &quot;dev.flutter.flutter-gradle-plugin&quot;\n}\n\nandroid {\n    namespace = &quot;com.example.projectexample&quot;\n    compileSdk = 34\n\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = &quot;1.8&quot;\n    }\n\n    defaultConfig {\n        applicationId = &quot;com.example.projectexample&quot;\n        minSdk = 21\n        targetSdk = 34\n        versionCode = 1\n        versionName = &quot;1.0.0&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled true\n            shrinkResources true\n            signingConfig signingConfigs.debug\n        }\n\n        debug {\n            minifyEnabled false\n            shrinkResources false\n        }\n    }\n}\n\nflutter {\n    source = &quot;../..&quot;\n}\n\ndependencies {\n    implementation &quot;androidx.core:core-ktx:1.13.0&quot;\n    implementation &quot;androidx.fragment:fragment-ktx:1.7.1&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-core-ktx:2.7.0&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.7.0&quot;\n    implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.7.1&quot;\n}\n</code></pre>\n<p>gradle-wrapper.properties:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.1.1-all.zip\n</code></pre>\n<p>Settings.gradle:</p>\n<pre><code>pluginManagement {\n    def flutterSdkPath = {\n        def properties = new Properties()\n        file(&quot;local.properties&quot;).withInputStream { properties.load(it) }\n        def flutterSdkPath = properties.getProperty(&quot;flutter.sdk&quot;)\n        assert flutterSdkPath != null, &quot;flutter.sdk not set in local.properties&quot;\n        return flutterSdkPath\n    }()\n\n    includeBuild(&quot;$flutterSdkPath/packages/flutter_tools/gradle&quot;)\n\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\nplugins {\n    id &quot;dev.flutter.flutter-plugin-loader&quot; version &quot;1.0.0&quot;\n    id &quot;com.android.application&quot; version &quot;7.3.0&quot; apply false\n    id &quot;org.jetbrains.kotlin.android&quot; version &quot;1.9.0&quot; apply false\n}\n\ninclude &quot;:app&quot;\n</code></pre>\n",
        "codigo": [
            "e: /path/to/project/.gradle/caches/transforms-3/XXXXXX/transformed/fragment-1.7.1-api.jar!/META-INF/fragment_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n\ne: /path/to/project/.gradle/caches/transforms-3/XXXXXX/transformed/jetified-activity-1.8.1-api.jar!/META-INF/activity_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n\ne: /path/to/project/.gradle/caches/transforms-3/XXXXXX/transformed/jetified-lifecycle-livedata-core-ktx-2.7.0-api.jar!/META-INF/lifecycle-livedata-core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n\ne: /path/to/project/.gradle/caches/transforms-3/XXXXXX/transformed/lifecycle-livedata-2.7.0-api.jar!/META-INF/lifecycle-livedata_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n\ne: /path/to/project/.gradle/caches/transforms-3/XXXXXX/transformed/lifecycle-viewmodel-2.7.0-api.jar!/META-INF/lifecycle-viewmodel_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n\ne: /path/to/project/.gradle/caches/transforms-3/XXXXXX/transformed/core-ktx-1.13.1-api.jar!/META-INF/core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n",
            "buildscript {\n    ext.kotlin_version = '1.9.0'\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"com.android.tools.build:gradle:8.0.2\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = \"../build\"\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n}\nsubprojects {\n    project.evaluationDependsOn(\":app\")\n}\n\ntasks.register(\"clean\", Delete) {\n    delete rootProject.buildDir\n}\n",
            "plugins {\n    id \"com.android.application\"\n    id \"kotlin-android\"\n    id \"dev.flutter.flutter-gradle-plugin\"\n}\n\nandroid {\n    namespace = \"com.example.projectexample\"\n    compileSdk = 34\n\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n\n    defaultConfig {\n        applicationId = \"com.example.projectexample\"\n        minSdk = 21\n        targetSdk = 34\n        versionCode = 1\n        versionName = \"1.0.0\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled true\n            shrinkResources true\n            signingConfig signingConfigs.debug\n        }\n\n        debug {\n            minifyEnabled false\n            shrinkResources false\n        }\n    }\n}\n\nflutter {\n    source = \"../..\"\n}\n\ndependencies {\n    implementation \"androidx.core:core-ktx:1.13.0\"\n    implementation \"androidx.fragment:fragment-ktx:1.7.1\"\n    implementation \"androidx.lifecycle:lifecycle-livedata-core-ktx:2.7.0\"\n    implementation \"androidx.lifecycle:lifecycle-viewmodel-ktx:2.7.0\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.7.1\"\n}\n",
            "distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.1.1-all.zip\n",
            "pluginManagement {\n    def flutterSdkPath = {\n        def properties = new Properties()\n        file(\"local.properties\").withInputStream { properties.load(it) }\n        def flutterSdkPath = properties.getProperty(\"flutter.sdk\")\n        assert flutterSdkPath != null, \"flutter.sdk not set in local.properties\"\n        return flutterSdkPath\n    }()\n\n    includeBuild(\"$flutterSdkPath/packages/flutter_tools/gradle\")\n\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\nplugins {\n    id \"dev.flutter.flutter-plugin-loader\" version \"1.0.0\"\n    id \"com.android.application\" version \"7.3.0\" apply false\n    id \"org.jetbrains.kotlin.android\" version \"1.9.0\" apply false\n}\n\ninclude \":app\"\n"
        ]
    },
    {
        "titulo": "Flutter build failing due to Kotlin version mismatch in Gradle",
        "score": 1,
        "views": 1184,
        "respostas": 3,
        "tags": [
            "flutter",
            "kotlin",
            "dart",
            "gradle"
        ],
        "link": "https://stackoverflow.com/questions/78965585/flutter-build-failing-due-to-kotlin-version-mismatch-in-gradle",
        "conteudo_html": "<p>Flutter build fails after updating to new Kotlin version\nI'm working on a Flutter project, and after updating some dependencies, I encountered a build error. I'm using the latest version of Kotlin, and when I run flutter build apk, it fails with the following errors:</p>\n<pre><code>e: C:/Users/Moham/.gradle/caches/transforms-3/1a36c150372f3edd1303b1fe7aa45a27/transformed/fragment-1.7.1-api.jar!/META-INF/fragment_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\nRunning Gradle task 'assembleRelease'...                          251.8s\n\n┌─ Flutter Fix ──────────────────────────────────────────────────────────────────────────────────────────┐\n│ [!] Your project requires a newer version of the Kotlin Gradle plugin.                                 │\n│ Find the latest version on https://kotlinlang.org/docs/releases.html#release-details, then update the  │\n│ version number of the plugin with id &quot;org.jetbrains.kotlin.android&quot; in the plugins block of            │\n│ C:\\flutter_app\\lklk-live\\android\\settings.gradle.                                                      │\n│                                                                                                        │\n│ Alternatively (if your project was created before Flutter 3.19), update                                │\n│ C:\\flutter_app\\lklk-live\\android\\build.gradle                                                          │\n│ ext.kotlin_version = '&lt;latest-version&gt;'                                                                │\n└────────────────────────────────────────────────────────────────────────────────────────────────────────┘\n\n\n</code></pre>\n<p>It seems to suggest that the Kotlin versions are incompatible. Here’s the setup in my build.gradle</p>\n<pre><code>allprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n<p>settings.gradle:</p>\n<pre><code>pluginManagement {\n    def flutterSdkPath = {\n        def properties = new Properties()\n        file(&quot;local.properties&quot;).withInputStream { properties.load(it) }\n        def flutterSdkPath = properties.getProperty(&quot;flutter.sdk&quot;)\n        assert flutterSdkPath != null, &quot;flutter.sdk not set in local.properties&quot;\n        return flutterSdkPath\n    }\n    settings.ext.flutterSdkPath = flutterSdkPath()\n\n    includeBuild(&quot;${settings.ext.flutterSdkPath}/packages/flutter_tools/gradle&quot;)\n\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\nplugins {\n    id &quot;dev.flutter.flutter-plugin-loader&quot; version &quot;1.0.0&quot;\n    id &quot;com.android.application&quot; version &quot;7.3.0&quot; apply false\n    id &quot;org.jetbrains.kotlin.android&quot; version &quot;2.0.20&quot; apply false\n}\n\ninclude &quot;:app&quot;\n\n</code></pre>\n<p>It seems I need to update the Kotlin Gradle plugin, but I’m unsure how to properly resolve this issue. I also see a suggestion to update the plugin in C:\\flutter_app\\lklk-live\\android\\build.gradle, but I’ve already set the kotlin_version to the latest version (2.0.20).</p>\n<p>Has anyone experienced this issue? How can I resolve this Kotlin version incompatibility?\nFlutter (Channel stable, 3.24.0, on Microsoft Windows [Version 10.0.19045.2486], locale en-US)</p>\n",
        "codigo": [
            "e: C:/Users/Moham/.gradle/caches/transforms-3/1a36c150372f3edd1303b1fe7aa45a27/transformed/fragment-1.7.1-api.jar!/META-INF/fragment_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\nRunning Gradle task 'assembleRelease'...                          251.8s\n\n┌─ Flutter Fix ──────────────────────────────────────────────────────────────────────────────────────────┐\n│ [!] Your project requires a newer version of the Kotlin Gradle plugin.                                 │\n│ Find the latest version on https://kotlinlang.org/docs/releases.html#release-details, then update the  │\n│ version number of the plugin with id \"org.jetbrains.kotlin.android\" in the plugins block of            │\n│ C:\\flutter_app\\lklk-live\\android\\settings.gradle.                                                      │\n│                                                                                                        │\n│ Alternatively (if your project was created before Flutter 3.19), update                                │\n│ C:\\flutter_app\\lklk-live\\android\\build.gradle                                                          │\n│ ext.kotlin_version = '<latest-version>'                                                                │\n└────────────────────────────────────────────────────────────────────────────────────────────────────────┘\n\n\n",
            "allprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntasks.register(\"clean\", Delete) {\n    delete rootProject.buildDir\n}\n\n",
            "pluginManagement {\n    def flutterSdkPath = {\n        def properties = new Properties()\n        file(\"local.properties\").withInputStream { properties.load(it) }\n        def flutterSdkPath = properties.getProperty(\"flutter.sdk\")\n        assert flutterSdkPath != null, \"flutter.sdk not set in local.properties\"\n        return flutterSdkPath\n    }\n    settings.ext.flutterSdkPath = flutterSdkPath()\n\n    includeBuild(\"${settings.ext.flutterSdkPath}/packages/flutter_tools/gradle\")\n\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\nplugins {\n    id \"dev.flutter.flutter-plugin-loader\" version \"1.0.0\"\n    id \"com.android.application\" version \"7.3.0\" apply false\n    id \"org.jetbrains.kotlin.android\" version \"2.0.20\" apply false\n}\n\ninclude \":app\"\n\n"
        ]
    },
    {
        "titulo": "Flutter is stuck at &quot;Waiting for VM Service port to be available...&quot;",
        "score": 2,
        "views": 727,
        "respostas": 4,
        "tags": [
            "android",
            "flutter",
            "kotlin",
            "dart",
            "gradle"
        ],
        "link": "https://stackoverflow.com/questions/78953211/flutter-is-stuck-at-waiting-for-vm-service-port-to-be-available",
        "conteudo_html": "<p>I wanted to add widgets to my app and therefore had to gradle sync, upgrade gradle plugin, upgrade sdk, update many things in different files in the android folder and I updated android studio and moved my android sdk folder.\nNow because of all that everything is messed up and I can not even start the app. When I do &quot;flutter run -v&quot; I get this at the end:</p>\n<p>Waiting for VM Service port to be available...</p>\n<p>and then it just stays like that forever</p>\n<p>The package names are correct, MainActivity.kt is fine, I tried reinstalling and restarting everything possible (except vsc), I have no idea what else could be missing</p>\n<p>I even did what chatgpt told me and you know it is bad when not even chatgpt can help you lol</p>\n<p>EDIT:</p>\n<p>this is the last part of the &quot;flutter run -v&quot; output:</p>\n<pre><code>[   +3 ms] Installing build\\app\\outputs\\flutter-apk\\app-debug.apk...\n[   +1 ms] executing: D:\\Brockdish\\Programming\\SDKs\\Android\\platform-tools\\adb.exe -s emulator-5554 install -t -r D:\\Brockdish\\Programming\\Flutter\nProjects\\clothes_ethics_app\\build\\app\\outputs\\flutter-apk\\app-debug.apk\n[+7765 ms] Performing Streamed Install\n                    Success\n[   +2 ms] Installing build\\app\\outputs\\flutter-apk\\app-debug.apk... (completed in 7,8s)\n[   +5 ms] executing: D:\\Brockdish\\Programming\\SDKs\\Android\\platform-tools\\adb.exe -s emulator-5554 shell echo -n d613de727cfacda75e7bd4e15d3f720ebf3e7c66 &gt;\n/data/local/tmp/sky.dev.jusoft.clotho.sha1\n[ +218 ms] executing: D:\\Brockdish\\Programming\\SDKs\\Android\\platform-tools\\adb.exe -s emulator-5554 shell -x logcat -v time -t 1\n[+1482 ms] --------- beginning of main\n                    09-05 18:36:18.886 D/ControlsListingControllerImpl( 1065): ServiceConfig reloaded, count: 0\n[ +162 ms] executing: D:\\Brockdish\\Programming\\SDKs\\Android\\platform-tools\\adb.exe -s emulator-5554 shell am start -a android.intent.action.MAIN -c android.intent.category.LAUNCHER -f\n0x20000000 --ez enable-dart-profiling true --ez enable-checked-mode true --ez verify-entry-points true dev.jusoft.clotho/dev.jusoft.clotho.MainActivity\n[+4143 ms] Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x20000000 cmp=dev.jusoft.clotho/.MainActivity (has extras) }\n[   +2 ms] Waiting for VM Service port to be available...\n</code></pre>\n",
        "codigo": [
            "[   +3 ms] Installing build\\app\\outputs\\flutter-apk\\app-debug.apk...\n[   +1 ms] executing: D:\\Brockdish\\Programming\\SDKs\\Android\\platform-tools\\adb.exe -s emulator-5554 install -t -r D:\\Brockdish\\Programming\\Flutter\nProjects\\clothes_ethics_app\\build\\app\\outputs\\flutter-apk\\app-debug.apk\n[+7765 ms] Performing Streamed Install\n                    Success\n[   +2 ms] Installing build\\app\\outputs\\flutter-apk\\app-debug.apk... (completed in 7,8s)\n[   +5 ms] executing: D:\\Brockdish\\Programming\\SDKs\\Android\\platform-tools\\adb.exe -s emulator-5554 shell echo -n d613de727cfacda75e7bd4e15d3f720ebf3e7c66 >\n/data/local/tmp/sky.dev.jusoft.clotho.sha1\n[ +218 ms] executing: D:\\Brockdish\\Programming\\SDKs\\Android\\platform-tools\\adb.exe -s emulator-5554 shell -x logcat -v time -t 1\n[+1482 ms] --------- beginning of main\n                    09-05 18:36:18.886 D/ControlsListingControllerImpl( 1065): ServiceConfig reloaded, count: 0\n[ +162 ms] executing: D:\\Brockdish\\Programming\\SDKs\\Android\\platform-tools\\adb.exe -s emulator-5554 shell am start -a android.intent.action.MAIN -c android.intent.category.LAUNCHER -f\n0x20000000 --ez enable-dart-profiling true --ez enable-checked-mode true --ez verify-entry-points true dev.jusoft.clotho/dev.jusoft.clotho.MainActivity\n[+4143 ms] Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x20000000 cmp=dev.jusoft.clotho/.MainActivity (has extras) }\n[   +2 ms] Waiting for VM Service port to be available...\n"
        ]
    },
    {
        "titulo": "Could not find a generator for route RouteSettings(&quot;/signup&quot;, null) in the _WidgetsAppState",
        "score": 0,
        "views": 31,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78953085/could-not-find-a-generator-for-route-routesettings-signup-null-in-the-widg",
        "conteudo_html": "<p>I can't solve a problem with &quot;Could not find a generator for route RouteSettings(&quot;/signup&quot;, null) in the _WidgetsAppState.&quot; Here is the code:</p>\n<pre><code>import 'dart:convert';\nimport 'package:flutter/material.dart';\nimport 'package:http/http.dart' as http;\nimport 'package:email_validator/email_validator.dart';\nimport 'package:mymarks_app/services/snack_bar.dart' as service;\nimport 'package:mymarks_app/screens/home_screen.dart';\n\nclass LoginScreen extends StatefulWidget {\n  const LoginScreen({Key? key}) : super(key: key);\n\n  @override\n  State&lt;LoginScreen&gt; createState() =&gt; _LoginScreenState();\n}\n\nclass _LoginScreenState extends State&lt;LoginScreen&gt; {\n  bool isHiddenPassword = true;\n  final emailTextInputController = TextEditingController();\n  final passwordTextInputController = TextEditingController();\n  final formKey = GlobalKey&lt;FormState&gt;();\n\n  @override\n  void dispose() {\n    emailTextInputController.dispose();\n    passwordTextInputController.dispose();\n    super.dispose();\n  }\n\n  void togglePasswordView() {\n    setState(() {\n      isHiddenPassword = !isHiddenPassword;\n    });\n  }\n\n  Future&lt;void&gt; login() async {\n    if (!formKey.currentState!.validate()) return;\n\n    try {\n      var response = await http.post(\n        Uri.parse('http://localhost:3000/login'),\n        headers: {'Content-Type': 'application/json'},\n        body: json.encode({\n          'username': emailTextInputController.text.trim(),\n          'password': passwordTextInputController.text.trim(),\n        }),\n      );\n\n      if (response.statusCode == 200) {\n        final responseData = json.decode(response.body);\n        if (responseData['message'] == 'Успешный вход!') {\n          if (mounted) {\n            Navigator.of(context).pushReplacement(\n              MaterialPageRoute(\n                builder: (context) =&gt; HomeScreen(\n                  userData: responseData,\n                ),\n              ),\n            );\n          }\n        } else {\n          if (mounted) {\n            service.SnackBarService.showSnackBar(\n              context,\n              'Неправильный username или пароль. Повторите попытку',\n              true,\n            );\n          }\n        }\n      } else {\n        if (mounted) {\n          service.SnackBarService.showSnackBar(\n            context,\n            'Произошла ошибка при отправке запроса: ${response.statusCode}',\n            true,\n          );\n        }\n      }\n    } catch (e) {\n      if (mounted) {\n        service.SnackBarService.showSnackBar(\n          context,\n          'Произошла ошибка: ${e.toString()}',\n          true,\n        );\n      }\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      resizeToAvoidBottomInset: false,\n      appBar: AppBar(\n        title: const Text('Войти'),\n      ),\n      body: Padding(\n        padding: const EdgeInsets.all(30.0),\n        child: Form(\n          key: formKey,\n          child: Column(\n            children: [\n              TextFormField(\n                keyboardType: TextInputType.emailAddress,\n                autocorrect: false,\n                controller: emailTextInputController,\n                validator: (email) =&gt;\n                    email != null &amp;&amp; !EmailValidator.validate(email)\n                        ? 'Введите правильный Email'\n                        : null,\n                decoration: const InputDecoration(\n                  border: OutlineInputBorder(),\n                  hintText: 'Введите Email',\n                ),\n              ),\n              const SizedBox(height: 30),\n              TextFormField(\n                autocorrect: false,\n                controller: passwordTextInputController,\n                obscureText: isHiddenPassword,\n                validator: (value) =&gt; value != null &amp;&amp; value.length &lt; 6\n                    ? 'Минимум 6 символов'\n                    : null,\n                autovalidateMode: AutovalidateMode.onUserInteraction,\n                decoration: InputDecoration(\n                  border: const OutlineInputBorder(),\n                  hintText: 'Введите пароль',\n                  suffix: InkWell(\n                    onTap: togglePasswordView,\n                    child: Icon(\n                      isHiddenPassword\n                          ? Icons.visibility_off\n                          : Icons.visibility,\n                      color: Colors.black,\n                    ),\n                  ),\n                ),\n              ),\n              const SizedBox(height: 30),\n              ElevatedButton(\n                onPressed: login,\n                child: const Center(child: Text('Войти')),\n              ),\n              const SizedBox(height: 30),\n              TextButton(\n                onPressed: () =&gt; Navigator.of(context).pushNamed('/signup'),\n                child: const Text(\n                  'Регистрация',\n                  style: TextStyle(\n                    decoration: TextDecoration.underline,\n                  ),\n                ),\n              ),\n              TextButton(\n                onPressed: () =&gt;\n                    Navigator.of(context).pushNamed('/reset_password'),\n                child: const Text('Сбросить пароль'),\n              ),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>That code is login_screen.dart . Here is my routes:</p>\n<pre><code>routes: {\n        '/': (context) =&gt; const MainScreen(),\n        '/account': (context) =&gt; const AccScreen(),\n        '/login': (context) =&gt; const LoginScreen(),\n        '/signup': (context) =&gt; const SignUpScreen(),\n        '/reset_password': (context) =&gt; const ResetPasswordScreen(),\n        '/verify_email': (context) =&gt; const VerifyEmailScreen(),\n        '/homepage': (context) =&gt; const HomeScreen(),\n        '/tlogin': (context) =&gt; const TeacherLogin(),\n        '/tsignup': (context) =&gt; const TeacherSignup(),\n        '/admin_screen': (context) =&gt; const AdminScreen(),\n        '/notauth': (context) =&gt; NotAuthScreen(),\n      },\n      onUnknownRoute: (settings) {\n        return MaterialPageRoute(\n          builder: (context) =&gt; Scaffold(\n            appBar: AppBar(title: const Text('Page Not Found')),\n            body: const Center(child: Text('404: Page not found')),\n          ),\n        );\n      },\n      initialRoute: '/',\n    );\n  }\n}\n</code></pre>\n<p>Please help me!</p>\n<p>I'm expecting to redirect to my signup_screen.dart and I tried some other solves to the questions on stackoverflow.</p>\n",
        "codigo": [
            "import 'dart:convert';\nimport 'package:flutter/material.dart';\nimport 'package:http/http.dart' as http;\nimport 'package:email_validator/email_validator.dart';\nimport 'package:mymarks_app/services/snack_bar.dart' as service;\nimport 'package:mymarks_app/screens/home_screen.dart';\n\nclass LoginScreen extends StatefulWidget {\n  const LoginScreen({Key? key}) : super(key: key);\n\n  @override\n  State<LoginScreen> createState() => _LoginScreenState();\n}\n\nclass _LoginScreenState extends State<LoginScreen> {\n  bool isHiddenPassword = true;\n  final emailTextInputController = TextEditingController();\n  final passwordTextInputController = TextEditingController();\n  final formKey = GlobalKey<FormState>();\n\n  @override\n  void dispose() {\n    emailTextInputController.dispose();\n    passwordTextInputController.dispose();\n    super.dispose();\n  }\n\n  void togglePasswordView() {\n    setState(() {\n      isHiddenPassword = !isHiddenPassword;\n    });\n  }\n\n  Future<void> login() async {\n    if (!formKey.currentState!.validate()) return;\n\n    try {\n      var response = await http.post(\n        Uri.parse('http://localhost:3000/login'),\n        headers: {'Content-Type': 'application/json'},\n        body: json.encode({\n          'username': emailTextInputController.text.trim(),\n          'password': passwordTextInputController.text.trim(),\n        }),\n      );\n\n      if (response.statusCode == 200) {\n        final responseData = json.decode(response.body);\n        if (responseData['message'] == 'Успешный вход!') {\n          if (mounted) {\n            Navigator.of(context).pushReplacement(\n              MaterialPageRoute(\n                builder: (context) => HomeScreen(\n                  userData: responseData,\n                ),\n              ),\n            );\n          }\n        } else {\n          if (mounted) {\n            service.SnackBarService.showSnackBar(\n              context,\n              'Неправильный username или пароль. Повторите попытку',\n              true,\n            );\n          }\n        }\n      } else {\n        if (mounted) {\n          service.SnackBarService.showSnackBar(\n            context,\n            'Произошла ошибка при отправке запроса: ${response.statusCode}',\n            true,\n          );\n        }\n      }\n    } catch (e) {\n      if (mounted) {\n        service.SnackBarService.showSnackBar(\n          context,\n          'Произошла ошибка: ${e.toString()}',\n          true,\n        );\n      }\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      resizeToAvoidBottomInset: false,\n      appBar: AppBar(\n        title: const Text('Войти'),\n      ),\n      body: Padding(\n        padding: const EdgeInsets.all(30.0),\n        child: Form(\n          key: formKey,\n          child: Column(\n            children: [\n              TextFormField(\n                keyboardType: TextInputType.emailAddress,\n                autocorrect: false,\n                controller: emailTextInputController,\n                validator: (email) =>\n                    email != null && !EmailValidator.validate(email)\n                        ? 'Введите правильный Email'\n                        : null,\n                decoration: const InputDecoration(\n                  border: OutlineInputBorder(),\n                  hintText: 'Введите Email',\n                ),\n              ),\n              const SizedBox(height: 30),\n              TextFormField(\n                autocorrect: false,\n                controller: passwordTextInputController,\n                obscureText: isHiddenPassword,\n                validator: (value) => value != null && value.length < 6\n                    ? 'Минимум 6 символов'\n                    : null,\n                autovalidateMode: AutovalidateMode.onUserInteraction,\n                decoration: InputDecoration(\n                  border: const OutlineInputBorder(),\n                  hintText: 'Введите пароль',\n                  suffix: InkWell(\n                    onTap: togglePasswordView,\n                    child: Icon(\n                      isHiddenPassword\n                          ? Icons.visibility_off\n                          : Icons.visibility,\n                      color: Colors.black,\n                    ),\n                  ),\n                ),\n              ),\n              const SizedBox(height: 30),\n              ElevatedButton(\n                onPressed: login,\n                child: const Center(child: Text('Войти')),\n              ),\n              const SizedBox(height: 30),\n              TextButton(\n                onPressed: () => Navigator.of(context).pushNamed('/signup'),\n                child: const Text(\n                  'Регистрация',\n                  style: TextStyle(\n                    decoration: TextDecoration.underline,\n                  ),\n                ),\n              ),\n              TextButton(\n                onPressed: () =>\n                    Navigator.of(context).pushNamed('/reset_password'),\n                child: const Text('Сбросить пароль'),\n              ),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n",
            "routes: {\n        '/': (context) => const MainScreen(),\n        '/account': (context) => const AccScreen(),\n        '/login': (context) => const LoginScreen(),\n        '/signup': (context) => const SignUpScreen(),\n        '/reset_password': (context) => const ResetPasswordScreen(),\n        '/verify_email': (context) => const VerifyEmailScreen(),\n        '/homepage': (context) => const HomeScreen(),\n        '/tlogin': (context) => const TeacherLogin(),\n        '/tsignup': (context) => const TeacherSignup(),\n        '/admin_screen': (context) => const AdminScreen(),\n        '/notauth': (context) => NotAuthScreen(),\n      },\n      onUnknownRoute: (settings) {\n        return MaterialPageRoute(\n          builder: (context) => Scaffold(\n            appBar: AppBar(title: const Text('Page Not Found')),\n            body: const Center(child: Text('404: Page not found')),\n          ),\n        );\n      },\n      initialRoute: '/',\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Kotlin Compatibility Problem When Building APK in Release Mode with Flutter",
        "score": 0,
        "views": 707,
        "respostas": 2,
        "tags": [
            "flutter",
            "kotlin",
            "dart",
            "gradle"
        ],
        "link": "https://stackoverflow.com/questions/78942859/kotlin-compatibility-problem-when-building-apk-in-release-mode-with-flutter",
        "conteudo_html": "<p>I recently replaced my laptop, and I want to build apps with Flutter on it. The new laptop is running Windows 11. I have installed Android Studio and Flutter, and the software versions are as follows:</p>\n<p>Android Studio:</p>\n<ul>\n<li>Koala 2024.1.1 // Patch 2</li>\n<li>Runtime version: 17.0.11+0--11852314 amd64</li>\n<li>VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o</li>\n</ul>\n<p>Flutter:</p>\n<ul>\n<li>Flutter 3.24.1 • channel stable • <a href=\"https://github.com/flutter/flutter.git\" rel=\"nofollow noreferrer\">GitHub Repository</a></li>\n<li>Framework • revision 5874a72aa4 (13 days ago) • 2024-08-20 16:46:00 -0500</li>\n<li>Engine • revision c9b9d5780d</li>\n<li>Tools • Dart 3.5.1 • DevTools 2.37.2</li>\n</ul>\n<p>The installation was successful, and there were no errors when I ran</p>\n<p><strong>flutter doctor:</strong></p>\n<pre><code>Doctor summary (to see all details, run flutter doctor -v):\n[✓] Flutter (Channel stable, 3.24.1, on Microsoft Windows [version] 10.0.22631.4037], locale fr-FR)\n[✓] Windows Version (Installed version of Windows is version 10 or higher)\n[✓] Android toolchain - develop for Android devices (Android SDK version 35.0.0)\n[✓] Chrome - develop for the web\n[✓] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.11.2)\n[✓] Android Studio (version 2024.1)\n[✓] VS Code (version 1.92.2)\n[✓] Connected device (3 available)\n[✓] Network resources\n• No issues found!\n</code></pre>\n<p>However, when I run the base project or any project in debug mode, no problems are detected. But in release mode, I encounter the following issue:</p>\n<pre><code>C:\\Users\\user\\Downloads\\ceciestuntest&gt;flutter build apk\nWarning: This version only understands SDK XML versions up to 3 but an SDK XML file of version 4 was encountered. This can happen if you use versions of Android Studio and the command-line tools that were released at different times.\nRunning Gradle task 'assembleRelease'...                               \\Font asset &quot;MaterialIcons-Regular.otf&quot; was tree-shaken, reducing it from 1645184 to 1384 bytes (99.9% reduction). Tree-shaking can be disabled by providing the --no-tree-shake-icons flag when building your app.\ne: C:/Users/user/.gradle/caches/transforms-3/c683cde5b1f5377825fe27da54e1b718/transformed/fragment-1.7.1/jars/classes.jar!/META-INF/fragment_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/4b07bb875192e8c29c9b76677237c5c8/transformed/jetified-activity-1.8.1/jars/classes.jar!/META-INF/activity_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/455c428e62a6dd75da98c7152f7af462/transformed/jetified-lifecycle-livedata-core-ktx-2.7.0/jars/classes.jar!/META-INF/lifecycle-livedata-core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/0313b4099446464f98d0df0606c58c95/transformed/lifecycle-livedata-2.7.0/jars/classes.jar!/META-INF/lifecycle-livedata_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/2e94595ca22e3aadcdebdc547820608c/transformed/lifecycle-viewmodel-2.7.0/jars/classes.jar!/META-INF/lifecycle-viewmodel_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/ce9e6112a0f9c5113844bb49506e7a06/transformed/lifecycle-livedata-core-2.7.0/jars/classes.jar!/META-INF/lifecycle-livedata-core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/6e7c2231d2ac9b957ecfe9d432e59ed2/transformed/jetified-lifecycle-viewmodel-savedstate-2.7.0/jars/classes.jar!/META-INF/lifecycle-viewmodel-savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/740c93e8e1043856a6b7cb15a7eaa9f0/transformed/jetified-core-ktx-1.13.1/jars/classes.jar!/META-INF/core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/fac84cd5ecf1ec88a8c98571217c9350/transformed/core-1.13.1/jars/classes.jar!/META-INF/core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/98474e5913354eaede53aaa879a4dd8b/transformed/lifecycle-runtime-2.7.0/jars/classes.jar!/META-INF/lifecycle-runtime_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/d674cd90e13def17f77b3f8010d35e09/transformed/jetified-lifecycle-process-2.7.0/jars/classes.jar!/META-INF/lifecycle-process_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/modules-2/files-2.1/androidx.lifecycle/lifecycle-common/2.7.0/85334205d65cca70ed0109c3acbd29e22a2d9cb1/lifecycle-common-2.7.0.jar!/META-INF/lifecycle-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/5292c4072ce6d2ab49b0e25db445cdfe/transformed/jetified-window-java-1.2.0/jars/classes.jar!/META-INF/window-java_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/d47b1192960df52846144d82ac9e1d6f/transformed/jetified-window-1.2.0/jars/classes.jar!/META-INF/window_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-core-jvm/1.7.1/63a0779cf668e2a47d13fda7c3b0c4f8dc7762f4/kotlinx-coroutines-core-jvm-1.7.1.jar!/META-INF/kotlinx-coroutines-core.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-android/1.7.1/c2d86b569f10b7fc7e28d3f50c0eed97897d77a7/kotlinx-coroutines-android-1.7.1.jar!/META-INF/kotlinx-coroutines-android.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/aadceac8ee0316c01a9163bad1a5e0ed/transformed/jetified-savedstate-1.2.1/jars/classes.jar!/META-INF/savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.8.22/1a8e3601703ae14bb58757ea6b2d8e8e5935a586/kotlin-stdlib-common-1.8.22.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n</code></pre>\n<p>I have tried to install other versions of Flutter and Android Studio, but I still have the same issues. I have also tried many solutions found on the internet, but none of them worked. Most of them involved modifying the Gradle configuration, but it didn't help.</p>\n<p>I really hope someone can assist me. Thanks in advance for your help!</p>\n",
        "codigo": [
            "Doctor summary (to see all details, run flutter doctor -v):\n[✓] Flutter (Channel stable, 3.24.1, on Microsoft Windows [version] 10.0.22631.4037], locale fr-FR)\n[✓] Windows Version (Installed version of Windows is version 10 or higher)\n[✓] Android toolchain - develop for Android devices (Android SDK version 35.0.0)\n[✓] Chrome - develop for the web\n[✓] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.11.2)\n[✓] Android Studio (version 2024.1)\n[✓] VS Code (version 1.92.2)\n[✓] Connected device (3 available)\n[✓] Network resources\n• No issues found!\n",
            "C:\\Users\\user\\Downloads\\ceciestuntest>flutter build apk\nWarning: This version only understands SDK XML versions up to 3 but an SDK XML file of version 4 was encountered. This can happen if you use versions of Android Studio and the command-line tools that were released at different times.\nRunning Gradle task 'assembleRelease'...                               \\Font asset \"MaterialIcons-Regular.otf\" was tree-shaken, reducing it from 1645184 to 1384 bytes (99.9% reduction). Tree-shaking can be disabled by providing the --no-tree-shake-icons flag when building your app.\ne: C:/Users/user/.gradle/caches/transforms-3/c683cde5b1f5377825fe27da54e1b718/transformed/fragment-1.7.1/jars/classes.jar!/META-INF/fragment_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/4b07bb875192e8c29c9b76677237c5c8/transformed/jetified-activity-1.8.1/jars/classes.jar!/META-INF/activity_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/455c428e62a6dd75da98c7152f7af462/transformed/jetified-lifecycle-livedata-core-ktx-2.7.0/jars/classes.jar!/META-INF/lifecycle-livedata-core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/0313b4099446464f98d0df0606c58c95/transformed/lifecycle-livedata-2.7.0/jars/classes.jar!/META-INF/lifecycle-livedata_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/2e94595ca22e3aadcdebdc547820608c/transformed/lifecycle-viewmodel-2.7.0/jars/classes.jar!/META-INF/lifecycle-viewmodel_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/ce9e6112a0f9c5113844bb49506e7a06/transformed/lifecycle-livedata-core-2.7.0/jars/classes.jar!/META-INF/lifecycle-livedata-core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/6e7c2231d2ac9b957ecfe9d432e59ed2/transformed/jetified-lifecycle-viewmodel-savedstate-2.7.0/jars/classes.jar!/META-INF/lifecycle-viewmodel-savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/740c93e8e1043856a6b7cb15a7eaa9f0/transformed/jetified-core-ktx-1.13.1/jars/classes.jar!/META-INF/core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/fac84cd5ecf1ec88a8c98571217c9350/transformed/core-1.13.1/jars/classes.jar!/META-INF/core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/98474e5913354eaede53aaa879a4dd8b/transformed/lifecycle-runtime-2.7.0/jars/classes.jar!/META-INF/lifecycle-runtime_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/d674cd90e13def17f77b3f8010d35e09/transformed/jetified-lifecycle-process-2.7.0/jars/classes.jar!/META-INF/lifecycle-process_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/modules-2/files-2.1/androidx.lifecycle/lifecycle-common/2.7.0/85334205d65cca70ed0109c3acbd29e22a2d9cb1/lifecycle-common-2.7.0.jar!/META-INF/lifecycle-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/5292c4072ce6d2ab49b0e25db445cdfe/transformed/jetified-window-java-1.2.0/jars/classes.jar!/META-INF/window-java_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/d47b1192960df52846144d82ac9e1d6f/transformed/jetified-window-1.2.0/jars/classes.jar!/META-INF/window_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-core-jvm/1.7.1/63a0779cf668e2a47d13fda7c3b0c4f8dc7762f4/kotlinx-coroutines-core-jvm-1.7.1.jar!/META-INF/kotlinx-coroutines-core.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-coroutines-android/1.7.1/c2d86b569f10b7fc7e28d3f50c0eed97897d77a7/kotlinx-coroutines-android-1.7.1.jar!/META-INF/kotlinx-coroutines-android.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/transforms-3/aadceac8ee0316c01a9163bad1a5e0ed/transformed/jetified-savedstate-1.2.1/jars/classes.jar!/META-INF/savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/user/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.8.22/1a8e3601703ae14bb58757ea6b2d8e8e5935a586/kotlin-stdlib-common-1.8.22.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n"
        ]
    },
    {
        "titulo": "Flutter tests fail if executed all together",
        "score": 0,
        "views": 32,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78939674/flutter-tests-fail-if-executed-all-together",
        "conteudo_html": "<h3>Test Cases</h3>\n<p>This is the <code>screen_layout_test.dart</code> file that has couple of test cases:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>\nvoid main() {\n  late MockFirebaseCrashlytics firebaseCrashlyticsMock;\n  late MockFirebaseRemoteConfig firebaseRemoteConfigMock;\n\n  setUp(() async {\n    WidgetsFlutterBinding.ensureInitialized();\n\n    firebaseCrashlyticsMock = MockFirebaseCrashlytics();\n    firebaseRemoteConfigMock = MockFirebaseRemoteConfig();\n    Crashlytics.firebaseCrashlytics = firebaseCrashlyticsMock;\n    RemoteConfigFirebase.firebaseRemoteConfig = firebaseRemoteConfigMock;\n\n    await setUpTestHive();\n    await Hive.openBox('app');\n    await Hive.openBox('secureBox');\n    await Hive.openBox('temporary_base_url');\n  });\n\n  tearDown(() async {\n    await tearDownTestHive();\n  });\n\n  testWidgets(\n    '📦 screen_layout renders header when showHeader = true: ',\n    (WidgetTester tester) async =&gt; await tester.setupInitConfigs(\n      (tester) async {\n        const _headerMock = 'HEADER_MOCK';\n\n        final body = ScreenLayout(\n          showHeader: true,\n          header: Text(_headerMock),\n        );\n\n        await tester.createRootWidgetAndPump(body: body);\n        await tester.pumpAndSettle();\n        expect(find.text(_headerMock), findsOneWidget);\n      },\n    ),\n  );\n\n  testWidgets(\n    '📦 screen_layout login modal when isLoggedIn = true in auth state: ',\n    (WidgetTester tester) async =&gt; await tester.setupInitConfigs(\n      (tester) async {\n        MockAuthRepository()..isLoggedIn = true;\n\n        final body = ScreenLayout();\n        await tester.createRootWidgetAndPump(body: body);\n        await tester.pumpAndSettle();\n\n        // Tap the user icon\n        await tester.tap(find.byIcon(AntIcons.userOutlined));\n        await tester.pumpAndSettle();\n\n        // Verify the login modal is displayed\n        expect(find.byType(DSMLoginModal), findsOneWidget);\n      },\n    ),\n  );\n\n  testWidgets(\n    '📦 screen_layout showBackButton = false should hide back button: ',\n    (WidgetTester tester) async =&gt; await tester.setupInitConfigs(\n      (tester) async {\n        final body = ScreenLayout(showBackButton: false);\n        await tester.createRootWidgetAndPump(body: body);\n        await tester.pumpAndSettle();\n\n        // Tap the user icon\n        expect(find.byIcon(AntIcons.arrowLeftOutlined), findsNothing);\n      },\n    ),\n  );\n\n  testWidgets(\n    '📦 screen_layout renders title widget when param is passed: ',\n    (WidgetTester tester) async =&gt; await tester.setupInitConfigs(\n      (tester) async {\n        const _mockTitleText = 'TITLE_MOCK';\n        final body = ScreenLayout(\n          title: Text(_mockTitleText),\n        );\n        await tester.createRootWidgetAndPump(body: body);\n        await tester.pumpAndSettle();\n\n        // Tap the user icon\n        expect(find.text(_mockTitleText), findsOneWidget);\n      },\n    ),\n  );\n\n  testWidgets(\n    '📦 screen_layout renders trailing widget when passed: ',\n    (WidgetTester tester) async =&gt; await tester.setupInitConfigs(\n      (tester) async {\n        const _mockTrailing = Icon(Icons.home);\n        final body = ScreenLayout(\n          trailing: _mockTrailing,\n        );\n        await tester.createRootWidgetAndPump(body: body);\n        await tester.pumpAndSettle();\n\n        // Tap the user icon\n        expect(find.byIcon(Icons.home), findsOneWidget);\n      },\n    ),\n  );\n}\n</code></pre>\n<h3>Extension being used</h3>\n<pre class=\"lang-dart prettyprint-override\"><code>\nextension WidgetTestExtensions on WidgetTester {\n  Future&lt;MultiProvider&gt; createRootWidgetAndPump({\n    required Widget body,\n    AppProvider? appProvider,\n    AuthExpireState? authExpireState,\n    ACLCubit? aclCubit,\n    AuthCubit? authCubit,\n    DSMProvider? dsmProvider,\n    V5SearchQueryReq? query,\n    V5FlightCubit? v5FlightCubit,\n    BookingCubit? bookingCubit,\n    FlightSearchTimerState? flightSearchTimerState,\n    V5SelectedFLightsState? selectedFlights,\n    AddOnProviderState? addOnProvider,\n    Map&lt;String, WidgetBuilder&gt; routes = const &lt;String, WidgetBuilder&gt;{},\n  }) async {\n    final observers = &lt;NavigatorObserver&gt;[];\n\n    final root = MultiProvider(\n      providers: [\n        BlocProvider(\n          create: (_) =&gt; aclCubit ?? ACLCubit()\n            ..emit(\n              ACLState(\n                acl: ACLFetchState(),\n                fetchGeoLocation: ACLGeoLocationState(),\n                fetchOriginAirport: ACLOriginAirportState(),\n              ),\n            ),\n        ),\n        BlocProvider(\n          create: (_) =&gt; v5FlightCubit ?? V5FlightCubit()\n            ..emit(\n              V5FlightState(\n                rules: V5FlightFareRules(),\n                search: V5FlightSearchState(),\n                calenderFare: V5FlightFareCalenderState(),\n                query: query,\n              ),\n            ),\n        ),\n        BlocProvider(\n          create: (_) =&gt; bookingCubit ?? BookingCubit()\n            ..emit(\n              BookingState(\n                initiate: BookingInitiateState(),\n                initiateV4: BookingInitiateV4State(),\n                // can add more default states if needed\n              ),\n            ),\n        ),\n        BlocProvider(\n          create: (_) =&gt; authCubit ?? AuthCubit()\n            ..emit(\n              AuthState(\n                  // can add default data in states if needed\n                  ),\n            ),\n        ),\n        ChangeNotifierProvider(\n          create: (_) =&gt; authExpireState ?? AuthExpireState(),\n        ),\n        ChangeNotifierProvider(\n          create: (_) =&gt; appProvider ?? AppProvider(),\n        ),\n        ChangeNotifierProvider(\n          create: (_) =&gt; selectedFlights ?? V5SelectedFLightsState(),\n        ),\n        ChangeNotifierProvider(\n          create: (_) =&gt; dsmProvider ?? DSMProvider(),\n        ),\n        ChangeNotifierProvider(\n          create: (_) =&gt; flightSearchTimerState ?? FlightSearchTimerState(),\n        ),\n        ChangeNotifierProvider(\n          create: (_) =&gt; addOnProvider ?? AddOnProviderState(),\n        ),\n      ],\n      child: MaterialApp(\n        navigatorObservers: observers,\n        debugShowCheckedModeBanner: false,\n        locale: appProvider?.activeLocale,\n        supportedLocales: AppProvider.locales,\n        localizationsDelegates: [\n          AppLocalizations.delegate,\n          GlobalMaterialLocalizations.delegate,\n          GlobalWidgetsLocalizations.delegate,\n          CountryLocalizations.delegate\n        ],\n        localeResolutionCallback: (locale, supportedLocales) {\n          for (var supportedLocale in supportedLocales) {\n            if (locale != null &amp;&amp;\n                supportedLocale.languageCode == locale.languageCode &amp;&amp;\n                supportedLocale.countryCode == locale.countryCode) {\n              return supportedLocale;\n            }\n          }\n          return supportedLocales.first;\n        },\n        home: Scaffold(body: body),\n        routes: routes,\n      ),\n    );\n    await pumpWidget(root);\n    return root;\n  }\n\n  Future&lt;void&gt; setupInitConfigs(\n    WidgetTestBody body, {\n    Size physicalSize = defaultPhoneSize,\n    double devicePixelRatio = defaultDevicePixelRatio,\n  }) async {\n    await this.pumpWidget(const MaterialApp());\n    final context = this.element(find.byType(MaterialApp));\n\n    /// Needed throughout our app, hence mocking the\n    /// context here for each test as a common function here\n    App.init(context);\n\n    // Satisfy Flutter Flavors\n    AppFlavor.init(PackageInfo(\n      appName: 'appName',\n      packageName: 'appNamePackage',\n      version: '0.7.5',\n      buildNumber: '100',\n    ));\n    await body(this);\n  }\n\n</code></pre>\n<h3>Widget Code</h3>\n<p>And below is the widget code (LENGHTY) but for the sake of reference:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class ScreenLayout extends StatelessWidget {\n  final bool showBackButton;\n  final VoidCallback? onBackPressed;\n  final Future&lt;bool&gt; Function()? onWillPopScope;\n  final Widget? title;\n  final Widget? trailing;\n  final bool showHeader;\n\n  final Widget? header;\n  final Widget? extendedHeader;\n  final Widget? body;\n  final Widget? footer;\n\n  final Widget? bottomNavigationBar;\n  final Widget? floatingActionButton;\n  final Color? scaffoldBackgroundColor;\n  final bool showFooter;\n  final bool fromSearch;\n  final List&lt;Widget&gt;? overlayBuilders;\n\n  final EdgeInsets padding;\n  const ScreenLayout(\n      {Key? key,\n      this.header,\n      this.overlayBuilders,\n      this.title,\n      this.showHeader = true,\n      this.showFooter = false,\n      this.fromSearch = false,\n      this.body = const SizedBox(),\n      this.footer,\n      this.showBackButton = true,\n      this.onBackPressed,\n      this.onWillPopScope,\n      this.trailing,\n      this.padding = EdgeInsets.zero,\n      this.bottomNavigationBar,\n      this.floatingActionButton,\n      this.scaffoldBackgroundColor,\n      this.extendedHeader})\n      : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    App.init(context);\n    final roles = AuthCubit.cubit(context, true).state.data?.data?.role;\n    final isPartnerRole =\n        roles != null &amp;&amp; roles.contains(SastaWalletStatics.partner);\n    final isLoggedIn = AuthCubit.cubit(context, true).repository.isLoggedIn;\n    final state = DSMProvider.state(context);\n    final dsmProvider = DSMProvider.state(context, true);\n\n    return AnnotatedRegion&lt;SystemUiOverlayStyle&gt;(\n      value: SystemUiOverlayStyle(\n        statusBarColor: AppTheme.c.gray1,\n        statusBarBrightness: Brightness.light, // for IOS\n        statusBarIconBrightness: Brightness.dark, // for Android\n      ),\n      child: Scaffold(\n        bottomNavigationBar: bottomNavigationBar,\n        floatingActionButton: floatingActionButton,\n        backgroundColor: scaffoldBackgroundColor ?? AppTheme.c.scaffold,\n        appBar: Platform.isIOS\n            ? PreferredSize(\n                preferredSize: Size.fromHeight(0),\n                child: AppBar(\n                  backgroundColor: AppTheme.c.gray1,\n                  elevation: 0,\n                ),\n              )\n            : null,\n        body: SafeArea(\n          top: true,\n          bottom: false,\n          child: Stack(\n            children: [\n              Column(\n                mainAxisSize: MainAxisSize.min,\n                children: [\n                  if (showHeader)\n                    header ??\n                        Container(\n                          decoration: BoxDecoration(\n                            color: AppTheme.c.gray1,\n                          ),\n                          height: 50,\n                          child: Row(\n                            children: [\n                              if (showBackButton)\n                                IconButton(\n                                  iconSize: 24,\n                                  padding: EdgeInsets.zero,\n                                  onPressed: onBackPressed ??\n                                      () =&gt; Navigator.pop(context),\n                                  icon: Icon(\n                                    AntIcons.arrowLeftOutlined,\n                                    color: AppTheme.c.blue6,\n                                  ),\n                                ),\n                              if (title == null) Space.x1!,\n                              title ??\n                                  CustomPaint(\n                                    painter: HeaderLogoPainter(),\n                                    size: Size(112, 20),\n                                  ),\n                              if (trailing != null) ...[\n                                Space.xm,\n                                trailing!,\n                              ] else ...[\n                                Space.xm,\n                                Row(\n                                  children: [\n                                    GestureDetector(\n                                      onTap: () async {\n                                        await showModalBottomSheet(\n                                          context: context,\n                                          backgroundColor:\n                                              Color.fromRGBO(0, 0, 0, 0),\n                                          isDismissible: false,\n                                          enableDrag: false,\n                                          isScrollControlled: true,\n                                          constraints: BoxConstraints(\n                                            maxHeight: 350,\n                                          ),\n                                          builder: (_) {\n                                            return DSMPriceCurrencyModal();\n                                          },\n                                        );\n                                      },\n                                      child: Row(\n                                        children: [\n                                          SvgPicture.asset(\n                                              dsmProvider.getPriceFlag(),\n                                              height: 12),\n                                          SizedBox(\n                                            width: 4,\n                                          ),\n                                          ClipOval(\n                                            child: Text(\n                                              &quot;${dsmProvider.getPriceCurrency()}&quot;,\n                                              style: V3AppText1.l1!\n                                                  .cl(AppTheme.c.blue6),\n                                            ),\n                                          ),\n                                          SizedBox(\n                                            width: 4,\n                                          ),\n                                          Icon(\n                                            AntIcons.downOutlined,\n                                            size: 12,\n                                            color: AppTheme.c.blue6,\n                                          )\n                                        ],\n                                      ),\n                                    ),\n                                    Space.xf(0.8),\n                                    GestureDetector(\n                                      onTap: () {\n                                        Navigator.pushReplacementNamed(\n                                          context,\n                                          DSMAppRoutes.support,\n                                        );\n                                      },\n                                      child: SvgPicture.asset(\n                                          StaticAssets.customerService,\n                                          colorFilter: ColorFilter.mode(\n                                              AppTheme.c.blue6!,\n                                              BlendMode.srcIn)),\n                                    ),\n                                    if (!this.fromSearch) ...[\n                                      Space.xf(0.8),\n                                      GestureDetector(\n                                        onTapDown:\n                                            (TapDownDetails details) async {\n                                          if (isLoggedIn) {\n                                            final RenderBox renderBox =\n                                                context.findRenderObject()\n                                                    as RenderBox;\n                                            final Offset offset =\n                                                renderBox.localToGlobal(\n                                                    details.globalPosition);\n\n                                            showMenu(\n                                              context: context,\n                                              position: RelativeRect.fromLTRB(\n                                                  offset.dx,\n                                                  offset.dy,\n                                                  0.0,\n                                                  0.0),\n                                              items: &lt;PopupMenuEntry&lt;String&gt;&gt;[\n                                                if (isPartnerRole)\n                                                  PopupMenuItem&lt;String&gt;(\n                                                    enabled: false,\n                                                    child: STTag(\n                                                      fontFamily: 'Mulish',\n                                                      label: 'Partner',\n                                                      rounded: false,\n                                                      filled: true,\n                                                      labelColor:\n                                                          AppTheme.c.orange9,\n                                                      borderColor:\n                                                          AppTheme.c.orange3,\n                                                      backgroundColor:\n                                                          AppTheme.c.orange1,\n                                                    ),\n                                                  ),\n                                                PopupMenuItem&lt;String&gt;(\n                                                  value: 'Option 1',\n                                                  child: Text(\n                                                    'Cancel Booking',\n                                                    style: V3AppText1.l1,\n                                                  ),\n                                                ),\n                                                PopupMenuItem&lt;String&gt;(\n                                                  value: 'Option 2',\n                                                  child: Text(\n                                                    'Edit Profile',\n                                                    style: V3AppText1.l1,\n                                                  ),\n                                                ),\n                                                PopupMenuItem&lt;String&gt;(\n                                                  value: 'Option 3',\n                                                  child: Text(\n                                                    'Logout',\n                                                    style: V3AppText1.l1!\n                                                        .cl(AppTheme.c.blue6),\n                                                  ),\n                                                ),\n                                              ],\n                                            ).then((String? selectedValue) {\n                                              if (selectedValue != null) {\n                                                switch (selectedValue) {\n                                                  case 'Option 1':\n                                                    BookingAddOnsProvider.state(\n                                                            context)\n                                                        .resetSelection();\n                                                    BookingAddOnsProvider.state(\n                                                            context)\n                                                        .resetSelectionAfterPostBooking();\n                                                    BookingAddOnsProvider.state(\n                                                            context)\n                                                        .reset();\n                                                    BookingCubit.cubit(context)\n                                                        .reset();\n                                                    Navigator.of(context)\n                                                        .pushNamedAndRemoveUntil(\n                                                      AppRoutes.bookings,\n                                                      (Route&lt;dynamic&gt; route) =&gt;\n                                                          false,\n                                                    );\n                                                    break;\n                                                  case 'Option 2':\n                                                    Navigator.pushNamed(\n                                                      context,\n                                                      DSMAppRoutes.editAccount,\n                                                    );\n                                                    break;\n                                                  case 'Option 3':\n                                                    Analytics.logItemClicked(\n                                                      AnalyticsScreens.ACCOUNT,\n                                                      AnalyticsItems.LOGOUT,\n                                                    );\n\n                                                    final isFromEditProfile =\n                                                        NavigationHistoryObserver()\n                                                            .history\n                                                            .any((route) =&gt;\n                                                                route.settings\n                                                                    .name ==\n                                                                DSMAppRoutes\n                                                                    .editAccount);\n\n                                                    if (isFromEditProfile) {\n                                                      Navigator.pop(context);\n                                                    }\n                                                    AuthCubit.cubit(context)\n                                                        .logOut();\n                                                    break;\n                                                  default:\n                                                    break;\n                                                }\n                                              }\n                                            });\n                                          } else {\n                                            await showModalBottomSheet(\n                                              context: context,\n                                              backgroundColor:\n                                                  Color.fromRGBO(0, 0, 0, 0),\n                                              isDismissible: false,\n                                              enableDrag: false,\n                                              isScrollControlled: true,\n                                              constraints: BoxConstraints(\n                                                  maxHeight: 410),\n                                              builder: (_) {\n                                                return ListenableProvider.value(\n                                                  value: state,\n                                                  builder: (context, child) {\n                                                    return Padding(\n                                                      padding: EdgeInsets.only(\n                                                          bottom: MediaQuery.of(\n                                                                  context)\n                                                              .viewInsets\n                                                              .bottom),\n                                                      child: DSMLoginModal(),\n                                                    );\n                                                  },\n                                                );\n                                              },\n                                            );\n                                          }\n                                        },\n                                        child: Icon(\n                                          AntIcons.userOutlined,\n                                          color: AppTheme.c.blue6,\n                                        ),\n                                      ),\n                                    ],\n                                    Space.xf(0.8),\n                                  ],\n                                ),\n                              ]\n                            ],\n                          ),\n                        ),\n                  if (extendedHeader != null) extendedHeader!,\n                  if (body != null)\n                    Expanded(\n                      child: body!,\n                    ),\n                ],\n              ),\n              if (showFooter &amp;&amp; footer == null)\n                Footer()\n              else\n                Positioned(\n                  bottom: 0,\n                  child: Container(\n                    height: AppDimensions.normalize(25).toDouble(),\n                    decoration: UIProps.boxCard,\n                    child: footer,\n                  ),\n                ),\n              ...(this.overlayBuilders ?? []),\n              AuthExpireUI(),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>And for some reason, if I execute one by one, they work fine but fails if I execute all together from <code>main()</code></p>\n",
        "codigo": [
            "screen_layout_test.dart",
            "\nvoid main() {\n  late MockFirebaseCrashlytics firebaseCrashlyticsMock;\n  late MockFirebaseRemoteConfig firebaseRemoteConfigMock;\n\n  setUp(() async {\n    WidgetsFlutterBinding.ensureInitialized();\n\n    firebaseCrashlyticsMock = MockFirebaseCrashlytics();\n    firebaseRemoteConfigMock = MockFirebaseRemoteConfig();\n    Crashlytics.firebaseCrashlytics = firebaseCrashlyticsMock;\n    RemoteConfigFirebase.firebaseRemoteConfig = firebaseRemoteConfigMock;\n\n    await setUpTestHive();\n    await Hive.openBox('app');\n    await Hive.openBox('secureBox');\n    await Hive.openBox('temporary_base_url');\n  });\n\n  tearDown(() async {\n    await tearDownTestHive();\n  });\n\n  testWidgets(\n    '📦 screen_layout renders header when showHeader = true: ',\n    (WidgetTester tester) async => await tester.setupInitConfigs(\n      (tester) async {\n        const _headerMock = 'HEADER_MOCK';\n\n        final body = ScreenLayout(\n          showHeader: true,\n          header: Text(_headerMock),\n        );\n\n        await tester.createRootWidgetAndPump(body: body);\n        await tester.pumpAndSettle();\n        expect(find.text(_headerMock), findsOneWidget);\n      },\n    ),\n  );\n\n  testWidgets(\n    '📦 screen_layout login modal when isLoggedIn = true in auth state: ',\n    (WidgetTester tester) async => await tester.setupInitConfigs(\n      (tester) async {\n        MockAuthRepository()..isLoggedIn = true;\n\n        final body = ScreenLayout();\n        await tester.createRootWidgetAndPump(body: body);\n        await tester.pumpAndSettle();\n\n        // Tap the user icon\n        await tester.tap(find.byIcon(AntIcons.userOutlined));\n        await tester.pumpAndSettle();\n\n        // Verify the login modal is displayed\n        expect(find.byType(DSMLoginModal), findsOneWidget);\n      },\n    ),\n  );\n\n  testWidgets(\n    '📦 screen_layout showBackButton = false should hide back button: ',\n    (WidgetTester tester) async => await tester.setupInitConfigs(\n      (tester) async {\n        final body = ScreenLayout(showBackButton: false);\n        await tester.createRootWidgetAndPump(body: body);\n        await tester.pumpAndSettle();\n\n        // Tap the user icon\n        expect(find.byIcon(AntIcons.arrowLeftOutlined), findsNothing);\n      },\n    ),\n  );\n\n  testWidgets(\n    '📦 screen_layout renders title widget when param is passed: ',\n    (WidgetTester tester) async => await tester.setupInitConfigs(\n      (tester) async {\n        const _mockTitleText = 'TITLE_MOCK';\n        final body = ScreenLayout(\n          title: Text(_mockTitleText),\n        );\n        await tester.createRootWidgetAndPump(body: body);\n        await tester.pumpAndSettle();\n\n        // Tap the user icon\n        expect(find.text(_mockTitleText), findsOneWidget);\n      },\n    ),\n  );\n\n  testWidgets(\n    '📦 screen_layout renders trailing widget when passed: ',\n    (WidgetTester tester) async => await tester.setupInitConfigs(\n      (tester) async {\n        const _mockTrailing = Icon(Icons.home);\n        final body = ScreenLayout(\n          trailing: _mockTrailing,\n        );\n        await tester.createRootWidgetAndPump(body: body);\n        await tester.pumpAndSettle();\n\n        // Tap the user icon\n        expect(find.byIcon(Icons.home), findsOneWidget);\n      },\n    ),\n  );\n}\n",
            "\nextension WidgetTestExtensions on WidgetTester {\n  Future<MultiProvider> createRootWidgetAndPump({\n    required Widget body,\n    AppProvider? appProvider,\n    AuthExpireState? authExpireState,\n    ACLCubit? aclCubit,\n    AuthCubit? authCubit,\n    DSMProvider? dsmProvider,\n    V5SearchQueryReq? query,\n    V5FlightCubit? v5FlightCubit,\n    BookingCubit? bookingCubit,\n    FlightSearchTimerState? flightSearchTimerState,\n    V5SelectedFLightsState? selectedFlights,\n    AddOnProviderState? addOnProvider,\n    Map<String, WidgetBuilder> routes = const <String, WidgetBuilder>{},\n  }) async {\n    final observers = <NavigatorObserver>[];\n\n    final root = MultiProvider(\n      providers: [\n        BlocProvider(\n          create: (_) => aclCubit ?? ACLCubit()\n            ..emit(\n              ACLState(\n                acl: ACLFetchState(),\n                fetchGeoLocation: ACLGeoLocationState(),\n                fetchOriginAirport: ACLOriginAirportState(),\n              ),\n            ),\n        ),\n        BlocProvider(\n          create: (_) => v5FlightCubit ?? V5FlightCubit()\n            ..emit(\n              V5FlightState(\n                rules: V5FlightFareRules(),\n                search: V5FlightSearchState(),\n                calenderFare: V5FlightFareCalenderState(),\n                query: query,\n              ),\n            ),\n        ),\n        BlocProvider(\n          create: (_) => bookingCubit ?? BookingCubit()\n            ..emit(\n              BookingState(\n                initiate: BookingInitiateState(),\n                initiateV4: BookingInitiateV4State(),\n                // can add more default states if needed\n              ),\n            ),\n        ),\n        BlocProvider(\n          create: (_) => authCubit ?? AuthCubit()\n            ..emit(\n              AuthState(\n                  // can add default data in states if needed\n                  ),\n            ),\n        ),\n        ChangeNotifierProvider(\n          create: (_) => authExpireState ?? AuthExpireState(),\n        ),\n        ChangeNotifierProvider(\n          create: (_) => appProvider ?? AppProvider(),\n        ),\n        ChangeNotifierProvider(\n          create: (_) => selectedFlights ?? V5SelectedFLightsState(),\n        ),\n        ChangeNotifierProvider(\n          create: (_) => dsmProvider ?? DSMProvider(),\n        ),\n        ChangeNotifierProvider(\n          create: (_) => flightSearchTimerState ?? FlightSearchTimerState(),\n        ),\n        ChangeNotifierProvider(\n          create: (_) => addOnProvider ?? AddOnProviderState(),\n        ),\n      ],\n      child: MaterialApp(\n        navigatorObservers: observers,\n        debugShowCheckedModeBanner: false,\n        locale: appProvider?.activeLocale,\n        supportedLocales: AppProvider.locales,\n        localizationsDelegates: [\n          AppLocalizations.delegate,\n          GlobalMaterialLocalizations.delegate,\n          GlobalWidgetsLocalizations.delegate,\n          CountryLocalizations.delegate\n        ],\n        localeResolutionCallback: (locale, supportedLocales) {\n          for (var supportedLocale in supportedLocales) {\n            if (locale != null &&\n                supportedLocale.languageCode == locale.languageCode &&\n                supportedLocale.countryCode == locale.countryCode) {\n              return supportedLocale;\n            }\n          }\n          return supportedLocales.first;\n        },\n        home: Scaffold(body: body),\n        routes: routes,\n      ),\n    );\n    await pumpWidget(root);\n    return root;\n  }\n\n  Future<void> setupInitConfigs(\n    WidgetTestBody body, {\n    Size physicalSize = defaultPhoneSize,\n    double devicePixelRatio = defaultDevicePixelRatio,\n  }) async {\n    await this.pumpWidget(const MaterialApp());\n    final context = this.element(find.byType(MaterialApp));\n\n    /// Needed throughout our app, hence mocking the\n    /// context here for each test as a common function here\n    App.init(context);\n\n    // Satisfy Flutter Flavors\n    AppFlavor.init(PackageInfo(\n      appName: 'appName',\n      packageName: 'appNamePackage',\n      version: '0.7.5',\n      buildNumber: '100',\n    ));\n    await body(this);\n  }\n\n",
            "class ScreenLayout extends StatelessWidget {\n  final bool showBackButton;\n  final VoidCallback? onBackPressed;\n  final Future<bool> Function()? onWillPopScope;\n  final Widget? title;\n  final Widget? trailing;\n  final bool showHeader;\n\n  final Widget? header;\n  final Widget? extendedHeader;\n  final Widget? body;\n  final Widget? footer;\n\n  final Widget? bottomNavigationBar;\n  final Widget? floatingActionButton;\n  final Color? scaffoldBackgroundColor;\n  final bool showFooter;\n  final bool fromSearch;\n  final List<Widget>? overlayBuilders;\n\n  final EdgeInsets padding;\n  const ScreenLayout(\n      {Key? key,\n      this.header,\n      this.overlayBuilders,\n      this.title,\n      this.showHeader = true,\n      this.showFooter = false,\n      this.fromSearch = false,\n      this.body = const SizedBox(),\n      this.footer,\n      this.showBackButton = true,\n      this.onBackPressed,\n      this.onWillPopScope,\n      this.trailing,\n      this.padding = EdgeInsets.zero,\n      this.bottomNavigationBar,\n      this.floatingActionButton,\n      this.scaffoldBackgroundColor,\n      this.extendedHeader})\n      : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    App.init(context);\n    final roles = AuthCubit.cubit(context, true).state.data?.data?.role;\n    final isPartnerRole =\n        roles != null && roles.contains(SastaWalletStatics.partner);\n    final isLoggedIn = AuthCubit.cubit(context, true).repository.isLoggedIn;\n    final state = DSMProvider.state(context);\n    final dsmProvider = DSMProvider.state(context, true);\n\n    return AnnotatedRegion<SystemUiOverlayStyle>(\n      value: SystemUiOverlayStyle(\n        statusBarColor: AppTheme.c.gray1,\n        statusBarBrightness: Brightness.light, // for IOS\n        statusBarIconBrightness: Brightness.dark, // for Android\n      ),\n      child: Scaffold(\n        bottomNavigationBar: bottomNavigationBar,\n        floatingActionButton: floatingActionButton,\n        backgroundColor: scaffoldBackgroundColor ?? AppTheme.c.scaffold,\n        appBar: Platform.isIOS\n            ? PreferredSize(\n                preferredSize: Size.fromHeight(0),\n                child: AppBar(\n                  backgroundColor: AppTheme.c.gray1,\n                  elevation: 0,\n                ),\n              )\n            : null,\n        body: SafeArea(\n          top: true,\n          bottom: false,\n          child: Stack(\n            children: [\n              Column(\n                mainAxisSize: MainAxisSize.min,\n                children: [\n                  if (showHeader)\n                    header ??\n                        Container(\n                          decoration: BoxDecoration(\n                            color: AppTheme.c.gray1,\n                          ),\n                          height: 50,\n                          child: Row(\n                            children: [\n                              if (showBackButton)\n                                IconButton(\n                                  iconSize: 24,\n                                  padding: EdgeInsets.zero,\n                                  onPressed: onBackPressed ??\n                                      () => Navigator.pop(context),\n                                  icon: Icon(\n                                    AntIcons.arrowLeftOutlined,\n                                    color: AppTheme.c.blue6,\n                                  ),\n                                ),\n                              if (title == null) Space.x1!,\n                              title ??\n                                  CustomPaint(\n                                    painter: HeaderLogoPainter(),\n                                    size: Size(112, 20),\n                                  ),\n                              if (trailing != null) ...[\n                                Space.xm,\n                                trailing!,\n                              ] else ...[\n                                Space.xm,\n                                Row(\n                                  children: [\n                                    GestureDetector(\n                                      onTap: () async {\n                                        await showModalBottomSheet(\n                                          context: context,\n                                          backgroundColor:\n                                              Color.fromRGBO(0, 0, 0, 0),\n                                          isDismissible: false,\n                                          enableDrag: false,\n                                          isScrollControlled: true,\n                                          constraints: BoxConstraints(\n                                            maxHeight: 350,\n                                          ),\n                                          builder: (_) {\n                                            return DSMPriceCurrencyModal();\n                                          },\n                                        );\n                                      },\n                                      child: Row(\n                                        children: [\n                                          SvgPicture.asset(\n                                              dsmProvider.getPriceFlag(),\n                                              height: 12),\n                                          SizedBox(\n                                            width: 4,\n                                          ),\n                                          ClipOval(\n                                            child: Text(\n                                              \"${dsmProvider.getPriceCurrency()}\",\n                                              style: V3AppText1.l1!\n                                                  .cl(AppTheme.c.blue6),\n                                            ),\n                                          ),\n                                          SizedBox(\n                                            width: 4,\n                                          ),\n                                          Icon(\n                                            AntIcons.downOutlined,\n                                            size: 12,\n                                            color: AppTheme.c.blue6,\n                                          )\n                                        ],\n                                      ),\n                                    ),\n                                    Space.xf(0.8),\n                                    GestureDetector(\n                                      onTap: () {\n                                        Navigator.pushReplacementNamed(\n                                          context,\n                                          DSMAppRoutes.support,\n                                        );\n                                      },\n                                      child: SvgPicture.asset(\n                                          StaticAssets.customerService,\n                                          colorFilter: ColorFilter.mode(\n                                              AppTheme.c.blue6!,\n                                              BlendMode.srcIn)),\n                                    ),\n                                    if (!this.fromSearch) ...[\n                                      Space.xf(0.8),\n                                      GestureDetector(\n                                        onTapDown:\n                                            (TapDownDetails details) async {\n                                          if (isLoggedIn) {\n                                            final RenderBox renderBox =\n                                                context.findRenderObject()\n                                                    as RenderBox;\n                                            final Offset offset =\n                                                renderBox.localToGlobal(\n                                                    details.globalPosition);\n\n                                            showMenu(\n                                              context: context,\n                                              position: RelativeRect.fromLTRB(\n                                                  offset.dx,\n                                                  offset.dy,\n                                                  0.0,\n                                                  0.0),\n                                              items: <PopupMenuEntry<String>>[\n                                                if (isPartnerRole)\n                                                  PopupMenuItem<String>(\n                                                    enabled: false,\n                                                    child: STTag(\n                                                      fontFamily: 'Mulish',\n                                                      label: 'Partner',\n                                                      rounded: false,\n                                                      filled: true,\n                                                      labelColor:\n                                                          AppTheme.c.orange9,\n                                                      borderColor:\n                                                          AppTheme.c.orange3,\n                                                      backgroundColor:\n                                                          AppTheme.c.orange1,\n                                                    ),\n                                                  ),\n                                                PopupMenuItem<String>(\n                                                  value: 'Option 1',\n                                                  child: Text(\n                                                    'Cancel Booking',\n                                                    style: V3AppText1.l1,\n                                                  ),\n                                                ),\n                                                PopupMenuItem<String>(\n                                                  value: 'Option 2',\n                                                  child: Text(\n                                                    'Edit Profile',\n                                                    style: V3AppText1.l1,\n                                                  ),\n                                                ),\n                                                PopupMenuItem<String>(\n                                                  value: 'Option 3',\n                                                  child: Text(\n                                                    'Logout',\n                                                    style: V3AppText1.l1!\n                                                        .cl(AppTheme.c.blue6),\n                                                  ),\n                                                ),\n                                              ],\n                                            ).then((String? selectedValue) {\n                                              if (selectedValue != null) {\n                                                switch (selectedValue) {\n                                                  case 'Option 1':\n                                                    BookingAddOnsProvider.state(\n                                                            context)\n                                                        .resetSelection();\n                                                    BookingAddOnsProvider.state(\n                                                            context)\n                                                        .resetSelectionAfterPostBooking();\n                                                    BookingAddOnsProvider.state(\n                                                            context)\n                                                        .reset();\n                                                    BookingCubit.cubit(context)\n                                                        .reset();\n                                                    Navigator.of(context)\n                                                        .pushNamedAndRemoveUntil(\n                                                      AppRoutes.bookings,\n                                                      (Route<dynamic> route) =>\n                                                          false,\n                                                    );\n                                                    break;\n                                                  case 'Option 2':\n                                                    Navigator.pushNamed(\n                                                      context,\n                                                      DSMAppRoutes.editAccount,\n                                                    );\n                                                    break;\n                                                  case 'Option 3':\n                                                    Analytics.logItemClicked(\n                                                      AnalyticsScreens.ACCOUNT,\n                                                      AnalyticsItems.LOGOUT,\n                                                    );\n\n                                                    final isFromEditProfile =\n                                                        NavigationHistoryObserver()\n                                                            .history\n                                                            .any((route) =>\n                                                                route.settings\n                                                                    .name ==\n                                                                DSMAppRoutes\n                                                                    .editAccount);\n\n                                                    if (isFromEditProfile) {\n                                                      Navigator.pop(context);\n                                                    }\n                                                    AuthCubit.cubit(context)\n                                                        .logOut();\n                                                    break;\n                                                  default:\n                                                    break;\n                                                }\n                                              }\n                                            });\n                                          } else {\n                                            await showModalBottomSheet(\n                                              context: context,\n                                              backgroundColor:\n                                                  Color.fromRGBO(0, 0, 0, 0),\n                                              isDismissible: false,\n                                              enableDrag: false,\n                                              isScrollControlled: true,\n                                              constraints: BoxConstraints(\n                                                  maxHeight: 410),\n                                              builder: (_) {\n                                                return ListenableProvider.value(\n                                                  value: state,\n                                                  builder: (context, child) {\n                                                    return Padding(\n                                                      padding: EdgeInsets.only(\n                                                          bottom: MediaQuery.of(\n                                                                  context)\n                                                              .viewInsets\n                                                              .bottom),\n                                                      child: DSMLoginModal(),\n                                                    );\n                                                  },\n                                                );\n                                              },\n                                            );\n                                          }\n                                        },\n                                        child: Icon(\n                                          AntIcons.userOutlined,\n                                          color: AppTheme.c.blue6,\n                                        ),\n                                      ),\n                                    ],\n                                    Space.xf(0.8),\n                                  ],\n                                ),\n                              ]\n                            ],\n                          ),\n                        ),\n                  if (extendedHeader != null) extendedHeader!,\n                  if (body != null)\n                    Expanded(\n                      child: body!,\n                    ),\n                ],\n              ),\n              if (showFooter && footer == null)\n                Footer()\n              else\n                Positioned(\n                  bottom: 0,\n                  child: Container(\n                    height: AppDimensions.normalize(25).toDouble(),\n                    decoration: UIProps.boxCard,\n                    child: footer,\n                  ),\n                ),\n              ...(this.overlayBuilders ?? []),\n              AuthExpireUI(),\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n",
            "main()"
        ]
    },
    {
        "titulo": "Create a class for user registration using Google email/password authentication",
        "score": 0,
        "views": 49,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78936350/create-a-class-for-user-registration-using-google-email-password-authentication",
        "conteudo_html": "<p>I am trying to create a class for adding a user to the Firebase firestore by using the Google email/password. I have the code as part of another screen but I want to pull it out and create a class. I'm not sure how I can do this.</p>\n<p>I have tried to create a class but it is more complicated than I know how to do.</p>\n<p>I want to pass the email and password to the class but I am not sure how to do that with what I have done.</p>\n<p>I also use a snackbar to show if there are any errors creating the account but I don't know how I can include all of this in a class.</p>\n<p>I am making a mess of this class. It works if I don't try to make a class out of it so maybe I should just leave it?</p>\n<p>Here is the code:</p>\n<pre><code>class UserRegistration extends ConsumerStatefulWidget {\n  final String email;\n  final String password;\n  final _auth = FirebaseAuth.instance;\n  bool showSpinner = false;\n  bool registrationFail = false;\n  String errorMessage = &quot;&quot;;\n\n  @override\n  void register_user() {\n    try {\n        final newUser = await _auth.createUserWithEmailAndPassword(\n            email: widget.email, password: widget.password);\n        if (newUser != null) {\n          ref\n              .read(usersNotifierProvider.notifier)\n              .updateuserID(newUser.user!.uid);\n          ref\n              .read(usersNotifierProvider.notifier)\n              .updateEmail(newUser.user!.email!);\n          ref.read(globalsNotifierProvider.notifier).updatenewUser(true);\n          ref.read(globalsNotifierProvider.notifier).updatenewCompany(true);\n\n          /// Send the email verification\n          Navigator.of(context).pushReplacement(MaterialPageRoute(\n              builder: (context) =&gt; const VerifyEmailScreen()));\n        } else {\n          setState(() {\n            registrationFail = true;\n          });\n        }\n        setState(() {\n          showSpinner = false;\n        });\n      } on FirebaseAuthException catch (error) {\n        switch (error.code) {\n          case &quot;ERROR_INVALID_EMAIL&quot;:\n          case &quot;invalid-email&quot;:\n            errorMessage = &quot;Your email address appears to be malformed.&quot;;\n            break;\n          case &quot;email-already-in-use&quot;:\n            errorMessage = &quot;Email is already in use.&quot;;\n            break;\n          case &quot;ERROR_WRONG_PASSWORD&quot;:\n          case &quot;wrong-password&quot;:\n            errorMessage = &quot;Your password is wrong.&quot;;\n            break;\n          case &quot;weak-password&quot;:\n            errorMessage = &quot;Weak password&quot;;\n            break;\n          case &quot;ERROR_USER_NOT_FOUND&quot;:\n          case &quot;user-not-found&quot;:\n            errorMessage = &quot;User with this email doesn't exist.&quot;;\n            break;\n          case &quot;ERROR_USER_DISABLED&quot;:\n          case &quot;user-disabled&quot;:\n            errorMessage = &quot;User with this email has been disabled.&quot;;\n            break;\n          case &quot;ERROR_TOO_MANY_REQUESTS&quot;:\n          case &quot;too-many-requests&quot;:\n            errorMessage = &quot;Too many requests. Try again later.&quot;;\n            break;\n          case &quot;ERROR_OPERATION_NOT_ALLOWED&quot;:\n          case &quot;operation-not-allowed&quot;:\n            errorMessage = &quot;Signing in with Email and Password is not enabled.&quot;;\n            break;\n          default:\n            errorMessage = &quot;An undefined Error happened. Please try again.&quot;;\n        }\n\n        if (errorMessage != &quot;&quot;) {\n          ScaffoldMessenger.of(context).showSnackBar((SnackBar(\n            content: Center(\n              child: Text(\n                errorMessage,\n                style: const TextStyle(\n                    color: Colors.black, fontWeight: FontWeight.w900),\n              ),\n            ),\n            behavior: SnackBarBehavior.floating,\n            margin: EdgeInsets.only(\n              bottom: MediaQuery.of(context).size.height - 100,\n              left: 10,\n              right: 10,\n            ),\n            backgroundColor: Colors.redAccent,\n          )));\n        }\n      }\n    }\n}\n</code></pre>\n<p>Any help you can give me would be very much appreciated. Thanks</p>\n",
        "codigo": [
            "class UserRegistration extends ConsumerStatefulWidget {\n  final String email;\n  final String password;\n  final _auth = FirebaseAuth.instance;\n  bool showSpinner = false;\n  bool registrationFail = false;\n  String errorMessage = \"\";\n\n  @override\n  void register_user() {\n    try {\n        final newUser = await _auth.createUserWithEmailAndPassword(\n            email: widget.email, password: widget.password);\n        if (newUser != null) {\n          ref\n              .read(usersNotifierProvider.notifier)\n              .updateuserID(newUser.user!.uid);\n          ref\n              .read(usersNotifierProvider.notifier)\n              .updateEmail(newUser.user!.email!);\n          ref.read(globalsNotifierProvider.notifier).updatenewUser(true);\n          ref.read(globalsNotifierProvider.notifier).updatenewCompany(true);\n\n          /// Send the email verification\n          Navigator.of(context).pushReplacement(MaterialPageRoute(\n              builder: (context) => const VerifyEmailScreen()));\n        } else {\n          setState(() {\n            registrationFail = true;\n          });\n        }\n        setState(() {\n          showSpinner = false;\n        });\n      } on FirebaseAuthException catch (error) {\n        switch (error.code) {\n          case \"ERROR_INVALID_EMAIL\":\n          case \"invalid-email\":\n            errorMessage = \"Your email address appears to be malformed.\";\n            break;\n          case \"email-already-in-use\":\n            errorMessage = \"Email is already in use.\";\n            break;\n          case \"ERROR_WRONG_PASSWORD\":\n          case \"wrong-password\":\n            errorMessage = \"Your password is wrong.\";\n            break;\n          case \"weak-password\":\n            errorMessage = \"Weak password\";\n            break;\n          case \"ERROR_USER_NOT_FOUND\":\n          case \"user-not-found\":\n            errorMessage = \"User with this email doesn't exist.\";\n            break;\n          case \"ERROR_USER_DISABLED\":\n          case \"user-disabled\":\n            errorMessage = \"User with this email has been disabled.\";\n            break;\n          case \"ERROR_TOO_MANY_REQUESTS\":\n          case \"too-many-requests\":\n            errorMessage = \"Too many requests. Try again later.\";\n            break;\n          case \"ERROR_OPERATION_NOT_ALLOWED\":\n          case \"operation-not-allowed\":\n            errorMessage = \"Signing in with Email and Password is not enabled.\";\n            break;\n          default:\n            errorMessage = \"An undefined Error happened. Please try again.\";\n        }\n\n        if (errorMessage != \"\") {\n          ScaffoldMessenger.of(context).showSnackBar((SnackBar(\n            content: Center(\n              child: Text(\n                errorMessage,\n                style: const TextStyle(\n                    color: Colors.black, fontWeight: FontWeight.w900),\n              ),\n            ),\n            behavior: SnackBarBehavior.floating,\n            margin: EdgeInsets.only(\n              bottom: MediaQuery.of(context).size.height - 100,\n              left: 10,\n              right: 10,\n            ),\n            backgroundColor: Colors.redAccent,\n          )));\n        }\n      }\n    }\n}\n"
        ]
    },
    {
        "titulo": "RustDesk &amp; Flutter web build errors | .dart files causing errors when attempting a web build",
        "score": 0,
        "views": 481,
        "respostas": 1,
        "tags": [
            "javascript",
            "flutter",
            "dart",
            "debian",
            "yarnpkg"
        ],
        "link": "https://stackoverflow.com/questions/78933659/rustdesk-flutter-web-build-errors-dart-files-causing-errors-when-attempting",
        "conteudo_html": "<p>I'm having a lot of issues with the &quot;flutter build web --release&quot; command. This is for making a web build so that I may utilize the RustDesk web client services. I've been having a lot of issues with .dart files not being properly read in JS format. Here are the following errors when attempting to start the web build:</p>\n<pre><code>ptech@rustdeskdev:~/FOO/rustdesk/flutter$ flutter build web --release\n\nWarning: In index.html:97: Local variable for &quot;serviceWorkerVersion&quot; is deprecated. Use &quot;{{flutter_service_worker_version}}&quot; template token instead. See\nhttps://docs.flutter.dev/platform-integration/web/initialization for more details.\nTarget dart2js failed: ProcessException: Process exited abnormally with exit code 1:\n../../../.pub-cache/hosted/pub.dev/firebase_core-3.4.0/lib/src/firebase_app.dart:18:25:\nError: Member not found: 'FirebaseAppPlatform.verify'.\n    FirebaseAppPlatform.verify(_delegate);\n                        ^^^^^^\nlib/pages/scan_page.dart:54:58:\nError: Member not found: 'abgr'.\n                            .getBytes(format: img.Format.abgr)\n                                                         ^^^^\nlib/pages/scan_page.dart:48:41:\nError: The argument type 'Uint8List' can't be assigned to the parameter type 'String'.\n - 'Uint8List' is from 'dart:typed_data'.\n                        File(file.path).readAsBytesSync(), file.path)!;\n                                        ^\nlib/pages/scan_page.dart:48:65:\nError: The argument type 'String' can't be assigned to the parameter type 'Uint8List'.\n - 'Uint8List' is from 'dart:typed_data'.\n                        File(file.path).readAsBytesSync(), file.path)!;\n                                                                ^\nlib/pages/scan_page.dart:54:39:\nError: No named parameter with the name 'format'.\n                            .getBytes(format: img.Format.abgr)\n                                      ^^^^^^\n../../../.pub-cache/hosted/pub.dev/dash_chat-1.1.16/lib/src/message_listview.dart:247:72:\nError: The argument type 'String?' can't be assigned to the parameter type 'String' because 'String?' is nullable and 'String' isn't.\n                                                                      .text));\n                                                                       ^\n../../../.pub-cache/hosted/pub.dev/dash_chat-1.1.16/lib/src/widgets/message_container.dart:107:43:\nError: The getter 'accentColor' isn't defined for the class 'ThemeData'.\n - 'ThemeData' is from 'package:flutter/src/material/theme_data.dart' ('../../../rustdesk/flutter/flutter/packages/flutter/lib/src/material/theme_data.dart').\n                      ? Theme.of(context).accentColor\n                                          ^^^^^^^^^^^\n../../../.pub-cache/hosted/pub.dev/dash_chat-1.1.16/lib/src/widgets/quick_reply.dart:43:60:\nError: The getter 'accentColor' isn't defined for the class 'ThemeData'.\n - 'ThemeData' is from 'package:flutter/src/material/theme_data.dart' ('../../../rustdesk/flutter/flutter/packages/flutter/lib/src/material/theme_data.dart').\n                      width: 1.0, color: Theme.of(context).accentColor),\n                                                           ^^^^^^^^^^^\n../../../.pub-cache/hosted/pub.dev/dash_chat-1.1.16/lib/src/widgets/quick_reply.dart:51:46:\nError: The getter 'accentColor' isn't defined for the class 'ThemeData'.\n - 'ThemeData' is from 'package:flutter/src/material/theme_data.dart' ('../../../rustdesk/flutter/flutter/packages/flutter/lib/src/material/theme_data.dart').\n                    color: Theme.of(context).accentColor,\n                                             ^^^^^^^^^^^\nError: Compilation failed.\n  Command: /home/ptech/rustdesk/flutter/flutter/bin/cache/dart-sdk/bin/dart /home/ptech/rustdesk/flutter/flutter/bin/cache/dart-sdk/bin/snapshots/dart2js.dart.snapshot\n  --platform-binaries=/home/ptech/rustdesk/flutter/flutter/bin/cache/flutter_web_sdk/kernel --invoker=flutter_tool -Ddart.vm.product=true -DFLUTTER_WEB_AUTO_DETECT=false -DFLUTTER_WEB_USE_SKIA=true\n  -DFLUTTER_WEB_CANVASKIT_URL=https://www.gstatic.com/flutter-canvaskit/9c3f66d822e499ee2109dd08b099554bdf2bc93f/ --native-null-assertions --no-source-maps -o\n  /home/ptech/FOO/rustdesk/flutter/.dart_tool/flutter_build/5fe9e7ee08d54441cabe9828f988da50/app.dill --packages=/home/ptech/FOO/rustdesk/flutter/.dart_tool/package_config.json --cfe-only\n  /home/ptech/FOO/rustdesk/flutter/.dart_tool/flutter_build/5fe9e7ee08d54441cabe9828f988da50/main.dart\n#0      RunResult.throwException (package:flutter_tools/src/base/process.dart:122:5)\n#1      _DefaultProcessUtils.run (package:flutter_tools/src/base/process.dart:389:19)\n&lt;asynchronous suspension&gt;\n#2      Dart2JSTarget.build (package:flutter_tools/src/build_system/targets/web.dart:202:5)\n&lt;asynchronous suspension&gt;\n#3      _BuildInstance._invokeInternal (package:flutter_tools/src/build_system/build_system.dart:891:9)\n&lt;asynchronous suspension&gt;\n#4      Future.wait.&lt;anonymous closure&gt; (dart:async/future.dart:520:21)\n&lt;asynchronous suspension&gt;\n#5      _BuildInstance.invokeTarget (package:flutter_tools/src/build_system/build_system.dart:829:32)\n&lt;asynchronous suspension&gt;\n#6      Future.wait.&lt;anonymous closure&gt; (dart:async/future.dart:520:21)\n&lt;asynchronous suspension&gt;\n#7      _BuildInstance.invokeTarget (package:flutter_tools/src/build_system/build_system.dart:829:32)\n&lt;asynchronous suspension&gt;\n#8      FlutterBuildSystem.build (package:flutter_tools/src/build_system/build_system.dart:651:16)\n&lt;asynchronous suspension&gt;\n#9      WebBuilder.buildWeb (package:flutter_tools/src/web/compile.dart:92:34)\n&lt;asynchronous suspension&gt;\n#10     BuildWebCommand.runCommand (package:flutter_tools/src/commands/build_web.dart:230:5)\n&lt;asynchronous suspension&gt;\n#11     FlutterCommand.run.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command.dart:1450:27)\n&lt;asynchronous suspension&gt;\n#12     AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:153:19)\n&lt;asynchronous suspension&gt;\n#13     CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n&lt;asynchronous suspension&gt;\n#14     FlutterCommandRunner.runCommand.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command_runner.dart:421:9)\n&lt;asynchronous suspension&gt;\n#15     AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:153:19)\n&lt;asynchronous suspension&gt;\n#16     FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:364:5)\n&lt;asynchronous suspension&gt;\n#17     run.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:flutter_tools/runner.dart:130:9)\n&lt;asynchronous suspension&gt;\n#18     AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:153:19)\n&lt;asynchronous suspension&gt;\n#19     main (package:flutter_tools/executable.dart:94:3)\n&lt;asynchronous suspension&gt;\n\nCompiling lib/main.dart for the Web...                             13.5s\nError: Failed to compile application for the Web.\n</code></pre>\n<p>For added context, I am attempting to follow along with these following steps on how to get this build working correctly:</p>\n<pre><code>git clone https://github.com/JelleBuning/rustdesk.git\ncd rustdesk\ngit switch fix_build\ncd flutter/web/js\n\n# Install protoc first, see: https://google.github.io/proto-lens/installing-protoc.html\nnpm install ts-proto\n# Only works with vite &lt;= 2.8, see: https://github.com/vitejs/vite/blob/main/docs/guide/build.md#chunking-strategy\nnpm install vite@2.8\n\n# Required for yarn build\nnpm install yarn -g\nnpm install typescript -g\nnpm install protoc -g\n\nyarn build\n\ncd ..\n\n# About details of YUV converter, check this https://github.com/rustdesk/rustdesk/issues/364#issuecomment-1023562050\nwget https://github.com/rustdesk/doc.rustdesk.com/releases/download/console/web_deps.tar.gz\n# Decompress to the current directory\ntar xzf web_deps.tar.gz\n\ncd ..\n\nflutter build web --release\ncd build/web\n# You could use any server, just an example\npython -m http.server 8000\n</code></pre>\n<p>I am currently on the &quot;flutter build web --release&quot; step where I begin to run into my issues with getting this completed.</p>\n<p>I have dart2js which is supposed to be helping compile the JS within the .dart files to be in a readable state, though when I compile the .dart files, I get an incredibly long list of errors for each and every .dart file present on the dev server even when specifying it to only compile one file in a given directory. Example:<br />\nptech@rustdeskdev:~/FOO/rustdesk/flutter$ dart compile js ~/FOO/rustdesk/flutter/lib/pages/scan_page.dart</p>\n<p>I just need a little bit of assistance with understanding what it is I'm doing wrong when it comes to these .dart files and why they seem to keep failing.</p>\n",
        "codigo": [
            "ptech@rustdeskdev:~/FOO/rustdesk/flutter$ flutter build web --release\n\nWarning: In index.html:97: Local variable for \"serviceWorkerVersion\" is deprecated. Use \"{{flutter_service_worker_version}}\" template token instead. See\nhttps://docs.flutter.dev/platform-integration/web/initialization for more details.\nTarget dart2js failed: ProcessException: Process exited abnormally with exit code 1:\n../../../.pub-cache/hosted/pub.dev/firebase_core-3.4.0/lib/src/firebase_app.dart:18:25:\nError: Member not found: 'FirebaseAppPlatform.verify'.\n    FirebaseAppPlatform.verify(_delegate);\n                        ^^^^^^\nlib/pages/scan_page.dart:54:58:\nError: Member not found: 'abgr'.\n                            .getBytes(format: img.Format.abgr)\n                                                         ^^^^\nlib/pages/scan_page.dart:48:41:\nError: The argument type 'Uint8List' can't be assigned to the parameter type 'String'.\n - 'Uint8List' is from 'dart:typed_data'.\n                        File(file.path).readAsBytesSync(), file.path)!;\n                                        ^\nlib/pages/scan_page.dart:48:65:\nError: The argument type 'String' can't be assigned to the parameter type 'Uint8List'.\n - 'Uint8List' is from 'dart:typed_data'.\n                        File(file.path).readAsBytesSync(), file.path)!;\n                                                                ^\nlib/pages/scan_page.dart:54:39:\nError: No named parameter with the name 'format'.\n                            .getBytes(format: img.Format.abgr)\n                                      ^^^^^^\n../../../.pub-cache/hosted/pub.dev/dash_chat-1.1.16/lib/src/message_listview.dart:247:72:\nError: The argument type 'String?' can't be assigned to the parameter type 'String' because 'String?' is nullable and 'String' isn't.\n                                                                      .text));\n                                                                       ^\n../../../.pub-cache/hosted/pub.dev/dash_chat-1.1.16/lib/src/widgets/message_container.dart:107:43:\nError: The getter 'accentColor' isn't defined for the class 'ThemeData'.\n - 'ThemeData' is from 'package:flutter/src/material/theme_data.dart' ('../../../rustdesk/flutter/flutter/packages/flutter/lib/src/material/theme_data.dart').\n                      ? Theme.of(context).accentColor\n                                          ^^^^^^^^^^^\n../../../.pub-cache/hosted/pub.dev/dash_chat-1.1.16/lib/src/widgets/quick_reply.dart:43:60:\nError: The getter 'accentColor' isn't defined for the class 'ThemeData'.\n - 'ThemeData' is from 'package:flutter/src/material/theme_data.dart' ('../../../rustdesk/flutter/flutter/packages/flutter/lib/src/material/theme_data.dart').\n                      width: 1.0, color: Theme.of(context).accentColor),\n                                                           ^^^^^^^^^^^\n../../../.pub-cache/hosted/pub.dev/dash_chat-1.1.16/lib/src/widgets/quick_reply.dart:51:46:\nError: The getter 'accentColor' isn't defined for the class 'ThemeData'.\n - 'ThemeData' is from 'package:flutter/src/material/theme_data.dart' ('../../../rustdesk/flutter/flutter/packages/flutter/lib/src/material/theme_data.dart').\n                    color: Theme.of(context).accentColor,\n                                             ^^^^^^^^^^^\nError: Compilation failed.\n  Command: /home/ptech/rustdesk/flutter/flutter/bin/cache/dart-sdk/bin/dart /home/ptech/rustdesk/flutter/flutter/bin/cache/dart-sdk/bin/snapshots/dart2js.dart.snapshot\n  --platform-binaries=/home/ptech/rustdesk/flutter/flutter/bin/cache/flutter_web_sdk/kernel --invoker=flutter_tool -Ddart.vm.product=true -DFLUTTER_WEB_AUTO_DETECT=false -DFLUTTER_WEB_USE_SKIA=true\n  -DFLUTTER_WEB_CANVASKIT_URL=https://www.gstatic.com/flutter-canvaskit/9c3f66d822e499ee2109dd08b099554bdf2bc93f/ --native-null-assertions --no-source-maps -o\n  /home/ptech/FOO/rustdesk/flutter/.dart_tool/flutter_build/5fe9e7ee08d54441cabe9828f988da50/app.dill --packages=/home/ptech/FOO/rustdesk/flutter/.dart_tool/package_config.json --cfe-only\n  /home/ptech/FOO/rustdesk/flutter/.dart_tool/flutter_build/5fe9e7ee08d54441cabe9828f988da50/main.dart\n#0      RunResult.throwException (package:flutter_tools/src/base/process.dart:122:5)\n#1      _DefaultProcessUtils.run (package:flutter_tools/src/base/process.dart:389:19)\n<asynchronous suspension>\n#2      Dart2JSTarget.build (package:flutter_tools/src/build_system/targets/web.dart:202:5)\n<asynchronous suspension>\n#3      _BuildInstance._invokeInternal (package:flutter_tools/src/build_system/build_system.dart:891:9)\n<asynchronous suspension>\n#4      Future.wait.<anonymous closure> (dart:async/future.dart:520:21)\n<asynchronous suspension>\n#5      _BuildInstance.invokeTarget (package:flutter_tools/src/build_system/build_system.dart:829:32)\n<asynchronous suspension>\n#6      Future.wait.<anonymous closure> (dart:async/future.dart:520:21)\n<asynchronous suspension>\n#7      _BuildInstance.invokeTarget (package:flutter_tools/src/build_system/build_system.dart:829:32)\n<asynchronous suspension>\n#8      FlutterBuildSystem.build (package:flutter_tools/src/build_system/build_system.dart:651:16)\n<asynchronous suspension>\n#9      WebBuilder.buildWeb (package:flutter_tools/src/web/compile.dart:92:34)\n<asynchronous suspension>\n#10     BuildWebCommand.runCommand (package:flutter_tools/src/commands/build_web.dart:230:5)\n<asynchronous suspension>\n#11     FlutterCommand.run.<anonymous closure> (package:flutter_tools/src/runner/flutter_command.dart:1450:27)\n<asynchronous suspension>\n#12     AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:153:19)\n<asynchronous suspension>\n#13     CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n<asynchronous suspension>\n#14     FlutterCommandRunner.runCommand.<anonymous closure> (package:flutter_tools/src/runner/flutter_command_runner.dart:421:9)\n<asynchronous suspension>\n#15     AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:153:19)\n<asynchronous suspension>\n#16     FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:364:5)\n<asynchronous suspension>\n#17     run.<anonymous closure>.<anonymous closure> (package:flutter_tools/runner.dart:130:9)\n<asynchronous suspension>\n#18     AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:153:19)\n<asynchronous suspension>\n#19     main (package:flutter_tools/executable.dart:94:3)\n<asynchronous suspension>\n\nCompiling lib/main.dart for the Web...                             13.5s\nError: Failed to compile application for the Web.\n",
            "git clone https://github.com/JelleBuning/rustdesk.git\ncd rustdesk\ngit switch fix_build\ncd flutter/web/js\n\n# Install protoc first, see: https://google.github.io/proto-lens/installing-protoc.html\nnpm install ts-proto\n# Only works with vite <= 2.8, see: https://github.com/vitejs/vite/blob/main/docs/guide/build.md#chunking-strategy\nnpm install vite@2.8\n\n# Required for yarn build\nnpm install yarn -g\nnpm install typescript -g\nnpm install protoc -g\n\nyarn build\n\ncd ..\n\n# About details of YUV converter, check this https://github.com/rustdesk/rustdesk/issues/364#issuecomment-1023562050\nwget https://github.com/rustdesk/doc.rustdesk.com/releases/download/console/web_deps.tar.gz\n# Decompress to the current directory\ntar xzf web_deps.tar.gz\n\ncd ..\n\nflutter build web --release\ncd build/web\n# You could use any server, just an example\npython -m http.server 8000\n"
        ]
    },
    {
        "titulo": "Error Compiling Flutter APK: resource android:attr/lStar not found",
        "score": 5,
        "views": 5096,
        "respostas": 5,
        "tags": [
            "android",
            "flutter",
            "dart",
            "tflite"
        ],
        "link": "https://stackoverflow.com/questions/78928993/error-compiling-flutter-apk-resource-androidattr-lstar-not-found",
        "conteudo_html": "<p>I'm working on an older Flutter application that was removed from the Play Store due to outdated API levels. I'm currently trying to update and re-release it, but I've encountered these issues during the update process.\nI need to maintain the Android minimum API level at 33, as required by the Play Store.</p>\n<p>I'm encountering an issue while trying to compile an APK in Flutter. The error occurs during the <code>:tflite:verifyReleaseResources </code>task, stating that the <code>android:attr/lStar</code> resource could not be found. Below is the full error message:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':tflite:verifyReleaseResources'.\n&gt; A failure occurred while executing com.android.build.gradle.tasks.VerifyLibraryResourcesTask$Action\n   &gt; Android resource linking failed\n     ERROR:/Users/nico/Development/novo aqua/aquahelp/build/tflite/intermediates/merged_res/release/values/values.xml:194: AAPT: error: resource android:attr/lStar not found.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\nBUILD FAILED in 22s\nRunning Gradle task 'assembleRelease'...                           22.8s\nGradle task assembleRelease failed with exit code 1\n</code></pre>\n<p>Additionally, I received several warnings about deprecated APIs in the tflite plugin that I looked around for solutions but couldn't get very far with the fixes.</p>\n<pre><code>Note: /Users/nico/.pub-cache/hosted/pub.dev/tflite-1.1.2/android/src/main/java/sq/flutter/tflite/TflitePlugin.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: /Users/nico/.pub-cache/hosted/pub.dev/tflite-1.1.2/android/src/main/java/sq/flutter/tflite/TflitePlugin.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n</code></pre>\n<p>I’ve tried <code>running flutter clean</code> and <code>flutter build apk</code> but the error persists. I also noticed that 14 packages have newer versions that are incompatible with the current dependency constraints.</p>\n<p>This is the build.gradle in the android/app folder:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.8.22'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.6.3'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nplugins {\n    id &quot;com.android.application&quot;\n    id &quot;kotlin-android&quot;\n    // The Flutter Gradle Plugin must be applied after the Android and Kotlin Gradle plugins.\n    id &quot;dev.flutter.flutter-gradle-plugin&quot;\n}\n\ndef localProperties = new Properties()\ndef localPropertiesFile = rootProject.file(&quot;local.properties&quot;)\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader(&quot;UTF-8&quot;) { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterVersionCode = localProperties.getProperty(&quot;flutter.versionCode&quot;)\nif (flutterVersionCode == null) {\n    flutterVersionCode = &quot;1&quot;\n}\n\ndef flutterVersionName = localProperties.getProperty(&quot;flutter.versionName&quot;)\nif (flutterVersionName == null) {\n    flutterVersionName = &quot;1.0&quot;\n}\n\nandroid {\n    namespace = &quot;com.example.aquahelp&quot;\n    compileSdk = 33\n    ndkVersion = flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n        allWarningsAsErrors false\n        lintOptions {\n            disable 'Deprecation'\n            disable 'Unsafe'\n        }\n    }\n\n    defaultConfig {\n        applicationId = &quot;com.example.aquahelp&quot;\n        minSdk = 26\n        targetSdk = 33\n        versionCode = flutterVersionCode.toInteger()\n        versionName = flutterVersionName\n    }\n\n    buildTypes {\n        release {\n            signingConfig = signingConfigs.debug\n        }\n    }\n}\n\ndependencies {\n    implementation &quot;androidx.appcompat:appcompat:1.4.0&quot; // Atualize para androidx\n    implementation &quot;androidx.core:core-ktx:1.7.0&quot; // Atualize para androidx\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:1.8.22&quot; // Certifique-se de que a versão do Kotlin seja compatível\n}\n\nflutter {\n    source = &quot;../..&quot;\n}\n\ntasks.withType(JavaCompile) {\n    options.compilerArgs &lt;&lt; &quot;-Xlint:deprecation&quot; &lt;&lt; &quot;-Xlint:unchecked&quot;\n}\n</code></pre>\n<p>The build.gradle in the android folder:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.8.22'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.6.3'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n</code></pre>\n<p>My pubspec.yaml</p>\n<pre><code>name: aquahelp\ndescription: A new Flutter project.\nversion: 1.0.0\n\nenvironment:\n  sdk: '&gt;=3.2.6 &lt;4.0.0'\n\ndependencies: \n  flutter:\n    sdk: flutter\n  flutter_localizations:\n    sdk: flutter\n  intl: ^0.19.0\n  percent_indicator: ^4.2.3\n  image_picker: ^1.1.2\n  url_launcher: ^6.3.0\n  cupertino_icons: ^1.0.2\n  flutter_plugin_android_lifecycle: ^2.0.21\n  tflite_flutter: ^0.9.0\n  tflite_flutter_helper: ^0.3.0\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  #flutter_launcher_icons: &quot;^0.13.1&quot;\n\nflutter_icons:\n  android: &quot;launcher_icon&quot;\n  ios: true\n  image_path: &quot;icons/icon.png&quot;\n\nflutter:\n  uses-material-design: true\n  assets:\n    - assets/labels.txt\n    - assets/labels2.txt\n    - assets/model_unquant.tflite\n</code></pre>\n<p>I’ve tried cleaning the project and rebuilding the APK, checking the dependency versions, and reviewing the build.gradle files to make sure everything is set up correctly. I also updated dependencies and made sure the Kotlin version and Gradle plugin are compatible.</p>\n<p>I also noticed that 14 packages have newer versions that are incompatible with the current dependency constraints.</p>\n<pre><code>Resolving dependencies... \nDownloading packages... \n  collection 1.18.0 (1.19.0 available)\n  ffi 2.1.2 (2.1.3 available)\n  flutter_plugin_android_lifecycle 2.0.21 (2.0.22 available)\n  http_parser 4.0.2 (4.1.0 available)\n  image_picker_android 0.8.12+11 (0.8.12+13 available)\n  leak_tracker 10.0.5 (10.0.7 available)\n  leak_tracker_flutter_testing 3.0.5 (3.0.8 available)\n  material_color_utilities 0.11.1 (0.12.0 available)\n  mime 1.0.5 (1.0.6 available)\n  quiver 3.2.1 (3.2.2 available)\n  string_scanner 1.2.0 (1.3.0 available)\n  test_api 0.7.2 (0.7.3 available)\n  url_launcher_android 6.3.8 (6.3.10 available)\n  vm_service 14.2.4 (14.2.5 available)\nGot dependencies!\n14 packages have newer versions incompatible with dependency constraints.\n</code></pre>\n<p>As I'm still learning how to work with Flutter and Gradle, I'm unsure how to resolve this issue. Any guidance or suggestions on how to fix this and successfully compile the APK would be greatly appreciated. Thank you!</p>\n",
        "codigo": [
            ":tflite:verifyReleaseResources ",
            "android:attr/lStar",
            "FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':tflite:verifyReleaseResources'.\n> A failure occurred while executing com.android.build.gradle.tasks.VerifyLibraryResourcesTask$Action\n   > Android resource linking failed\n     ERROR:/Users/nico/Development/novo aqua/aquahelp/build/tflite/intermediates/merged_res/release/values/values.xml:194: AAPT: error: resource android:attr/lStar not found.\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\nBUILD FAILED in 22s\nRunning Gradle task 'assembleRelease'...                           22.8s\nGradle task assembleRelease failed with exit code 1\n",
            "Note: /Users/nico/.pub-cache/hosted/pub.dev/tflite-1.1.2/android/src/main/java/sq/flutter/tflite/TflitePlugin.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: /Users/nico/.pub-cache/hosted/pub.dev/tflite-1.1.2/android/src/main/java/sq/flutter/tflite/TflitePlugin.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n",
            "running flutter clean",
            "flutter build apk",
            "buildscript {\n    ext.kotlin_version = '1.8.22'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.6.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nplugins {\n    id \"com.android.application\"\n    id \"kotlin-android\"\n    // The Flutter Gradle Plugin must be applied after the Android and Kotlin Gradle plugins.\n    id \"dev.flutter.flutter-gradle-plugin\"\n}\n\ndef localProperties = new Properties()\ndef localPropertiesFile = rootProject.file(\"local.properties\")\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader(\"UTF-8\") { reader ->\n        localProperties.load(reader)\n    }\n}\n\ndef flutterVersionCode = localProperties.getProperty(\"flutter.versionCode\")\nif (flutterVersionCode == null) {\n    flutterVersionCode = \"1\"\n}\n\ndef flutterVersionName = localProperties.getProperty(\"flutter.versionName\")\nif (flutterVersionName == null) {\n    flutterVersionName = \"1.0\"\n}\n\nandroid {\n    namespace = \"com.example.aquahelp\"\n    compileSdk = 33\n    ndkVersion = flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n        allWarningsAsErrors false\n        lintOptions {\n            disable 'Deprecation'\n            disable 'Unsafe'\n        }\n    }\n\n    defaultConfig {\n        applicationId = \"com.example.aquahelp\"\n        minSdk = 26\n        targetSdk = 33\n        versionCode = flutterVersionCode.toInteger()\n        versionName = flutterVersionName\n    }\n\n    buildTypes {\n        release {\n            signingConfig = signingConfigs.debug\n        }\n    }\n}\n\ndependencies {\n    implementation \"androidx.appcompat:appcompat:1.4.0\" // Atualize para androidx\n    implementation \"androidx.core:core-ktx:1.7.0\" // Atualize para androidx\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:1.8.22\" // Certifique-se de que a versão do Kotlin seja compatível\n}\n\nflutter {\n    source = \"../..\"\n}\n\ntasks.withType(JavaCompile) {\n    options.compilerArgs << \"-Xlint:deprecation\" << \"-Xlint:unchecked\"\n}\n",
            "buildscript {\n    ext.kotlin_version = '1.8.22'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.6.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n",
            "name: aquahelp\ndescription: A new Flutter project.\nversion: 1.0.0\n\nenvironment:\n  sdk: '>=3.2.6 <4.0.0'\n\ndependencies: \n  flutter:\n    sdk: flutter\n  flutter_localizations:\n    sdk: flutter\n  intl: ^0.19.0\n  percent_indicator: ^4.2.3\n  image_picker: ^1.1.2\n  url_launcher: ^6.3.0\n  cupertino_icons: ^1.0.2\n  flutter_plugin_android_lifecycle: ^2.0.21\n  tflite_flutter: ^0.9.0\n  tflite_flutter_helper: ^0.3.0\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  #flutter_launcher_icons: \"^0.13.1\"\n\nflutter_icons:\n  android: \"launcher_icon\"\n  ios: true\n  image_path: \"icons/icon.png\"\n\nflutter:\n  uses-material-design: true\n  assets:\n    - assets/labels.txt\n    - assets/labels2.txt\n    - assets/model_unquant.tflite\n",
            "Resolving dependencies... \nDownloading packages... \n  collection 1.18.0 (1.19.0 available)\n  ffi 2.1.2 (2.1.3 available)\n  flutter_plugin_android_lifecycle 2.0.21 (2.0.22 available)\n  http_parser 4.0.2 (4.1.0 available)\n  image_picker_android 0.8.12+11 (0.8.12+13 available)\n  leak_tracker 10.0.5 (10.0.7 available)\n  leak_tracker_flutter_testing 3.0.5 (3.0.8 available)\n  material_color_utilities 0.11.1 (0.12.0 available)\n  mime 1.0.5 (1.0.6 available)\n  quiver 3.2.1 (3.2.2 available)\n  string_scanner 1.2.0 (1.3.0 available)\n  test_api 0.7.2 (0.7.3 available)\n  url_launcher_android 6.3.8 (6.3.10 available)\n  vm_service 14.2.4 (14.2.5 available)\nGot dependencies!\n14 packages have newer versions incompatible with dependency constraints.\n"
        ]
    },
    {
        "titulo": "How do I unit test for controller initial state when AsyncData is a List&lt;Object&gt;",
        "score": 0,
        "views": 68,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "riverpod"
        ],
        "link": "https://stackoverflow.com/questions/78928914/how-do-i-unit-test-for-controller-initial-state-when-asyncdata-is-a-listobject",
        "conteudo_html": "<p>I have a test testing for the initial state of a controller. It keeps failing saying no matching calls, but my other controller tests using the same code are fine (the difference is they have an AsyncValue type of void and a null default value whereas this is a list with an empty list default value, can someone please help? My test and controller code are below. The test finds 1 call which matches the same types as what I verify but for some reason, it just won't accept it. My test code is below:</p>\n<h3>Test file</h3>\n<pre><code>test('initial state is AsyncValue.data', () async {\n  // assert\n  var service = MockSpaceService();\n  var container = makeProviderContainer(service);\n  var listener = Listener&lt;AsyncValue&lt;List&lt;Space&gt;&gt;&gt;();\n  container.listen(spaceListControllerProvider, listener.call,\n      fireImmediately: true);\n  verify(\n    () =&gt; listener(null, const AsyncData&lt;List&lt;Space&gt;&gt;([])),\n  );\n  verifyNoMoreInteractions(listener);\n});\n</code></pre>\n<h3>Controller file</h3>\n<pre><code>@riverpod\nclass SpaceListController extends _$SpaceListController {\n  @override\n  FutureOr&lt;List&lt;Space&gt;&gt; build() =&gt; [];\n}\n</code></pre>\n<h3>Error</h3>\n<pre><code>No matching calls. All calls: Listener&lt;AsyncValue&lt;List&lt;Space&gt;&gt;&gt;.call(null, AsyncData&lt;List&lt;Space&gt;&gt;(value: []))\n(If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)\npackage:matcher                                                          fail\npackage:mocktail/src/mocktail.dart 728:7                                 _VerifyCall._checkWith\npackage:mocktail/src/mocktail.dart 519:18                                _makeVerify.&lt;fn&gt;\ntest\\features\\spaces\\presentation\\space_list_controller_test.dart 58:13  main.&lt;fn&gt;.&lt;fn&gt;\n</code></pre>\n",
        "codigo": [
            "test('initial state is AsyncValue.data', () async {\n  // assert\n  var service = MockSpaceService();\n  var container = makeProviderContainer(service);\n  var listener = Listener<AsyncValue<List<Space>>>();\n  container.listen(spaceListControllerProvider, listener.call,\n      fireImmediately: true);\n  verify(\n    () => listener(null, const AsyncData<List<Space>>([])),\n  );\n  verifyNoMoreInteractions(listener);\n});\n",
            "@riverpod\nclass SpaceListController extends _$SpaceListController {\n  @override\n  FutureOr<List<Space>> build() => [];\n}\n",
            "No matching calls. All calls: Listener<AsyncValue<List<Space>>>.call(null, AsyncData<List<Space>>(value: []))\n(If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)\npackage:matcher                                                          fail\npackage:mocktail/src/mocktail.dart 728:7                                 _VerifyCall._checkWith\npackage:mocktail/src/mocktail.dart 519:18                                _makeVerify.<fn>\ntest\\features\\spaces\\presentation\\space_list_controller_test.dart 58:13  main.<fn>.<fn>\n"
        ]
    },
    {
        "titulo": "Unit testing dart Timer issue, or bad code",
        "score": 1,
        "views": 45,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78895135/unit-testing-dart-timer-issue-or-bad-code",
        "conteudo_html": "<p>I have the following class:</p>\n<pre><code>class MyDebounceBuffer&lt;T&gt; {\n  MyDebounceBuffer({required this.duration});\n\n  final Duration duration;\n\n  final _controller = StreamController&lt;List&lt;T&gt;&gt;.broadcast();\n  Stream&lt;List&lt;T&gt;&gt; get stream =&gt; _controller.stream;\n\n  final _buffer = List&lt;T&gt;.empty(growable: true);\n\n  Timer? _timer;\n\n  void add(T item) {\n    _timer?.cancel();\n    _buffer.add(item);\n    _timer = Timer(duration, () =&gt; emit());\n  }\n\n  void emit() {\n    _timer?.cancel();\n    _controller.add(_buffer);\n    _buffer.clear();\n  }\n}\n</code></pre>\n<p>It is supposed to behave similarly to the debounceBuffer in <a href=\"https://pub.dev/packages/stream_transform\" rel=\"nofollow noreferrer\">Pub.dev stream_transform</a> except that it has the option to emit immediately.</p>\n<p>When we unit test the code - if fails!</p>\n<pre><code>test('MyDebounceBuffer example', () async {\n    final controller = MyDebounceBuffer&lt;int&gt;(duration: const Duration(milliseconds: 10));\n\n    var emitted = false;\n    controller.stream.listen(expectAsync1(\n      (p0) {\n        expect(p0, [0, 1, 2, 3]);\n        emitted = true;\n      },\n    ));\n    controller.add(0);\n    await Future.delayed(const Duration(milliseconds: 5));\n    controller.add(1);\n    await Future.delayed(const Duration(milliseconds: 5));\n    controller.add(2);\n    await Future.delayed(const Duration(milliseconds: 5));\n    controller.add(3);\n    // Extend the duration of the test to capture the debounceBuffer emission\n    await Future.delayed(const Duration(milliseconds: 20));\n    expect(emitted, true);\n  });\n</code></pre>\n<p>We end up with an empty list being emitted. I can re-write the code to use a new List per event, but I would like to understand what is happening here, or is there a better way to do this?</p>\n",
        "codigo": [
            "class MyDebounceBuffer<T> {\n  MyDebounceBuffer({required this.duration});\n\n  final Duration duration;\n\n  final _controller = StreamController<List<T>>.broadcast();\n  Stream<List<T>> get stream => _controller.stream;\n\n  final _buffer = List<T>.empty(growable: true);\n\n  Timer? _timer;\n\n  void add(T item) {\n    _timer?.cancel();\n    _buffer.add(item);\n    _timer = Timer(duration, () => emit());\n  }\n\n  void emit() {\n    _timer?.cancel();\n    _controller.add(_buffer);\n    _buffer.clear();\n  }\n}\n",
            "test('MyDebounceBuffer example', () async {\n    final controller = MyDebounceBuffer<int>(duration: const Duration(milliseconds: 10));\n\n    var emitted = false;\n    controller.stream.listen(expectAsync1(\n      (p0) {\n        expect(p0, [0, 1, 2, 3]);\n        emitted = true;\n      },\n    ));\n    controller.add(0);\n    await Future.delayed(const Duration(milliseconds: 5));\n    controller.add(1);\n    await Future.delayed(const Duration(milliseconds: 5));\n    controller.add(2);\n    await Future.delayed(const Duration(milliseconds: 5));\n    controller.add(3);\n    // Extend the duration of the test to capture the debounceBuffer emission\n    await Future.delayed(const Duration(milliseconds: 20));\n    expect(emitted, true);\n  });\n"
        ]
    },
    {
        "titulo": "Unable to build apk nor app bundle after flutter update",
        "score": 1,
        "views": 1049,
        "respostas": 3,
        "tags": [
            "android",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78883589/unable-to-build-apk-nor-app-bundle-after-flutter-update",
        "conteudo_html": "<p>I'm getting the following error when I try to build my apk:</p>\n<pre><code>Execution failed for task ':assets_audio_player_web:verifyReleaseResources'.\n&gt; A failure occurred while executing com.android.build.gradle.tasks.VerifyLibraryResourcesTask$Action\n   &gt; Android resource linking failed\n     ERROR:C:\\Users\\lubya\\.gradle\\caches\\transforms-3\\ba0a6fe31cd4794ca72feaf033c059c8\\transformed\\core-1.13.1\\res\\values\\values.xml:113:5-122:25: AAPT: error: resource android:attr/lStar not found.\n</code></pre>\n<p>I got a bunch of other errors which I managed to fix. I also changed my ext.kotlin_version in my build.gradle from 1.6.10 to 1.7.0 in case that is of any relevance.</p>\n<p>Relevant lines in pubsec.yaml:</p>\n<pre><code>dependencies:\n  flutter:\n    sdk: flutter\n  assets_audio_player: ^3.0.8\n</code></pre>\n<p>I tried to fix the other errors but this one never left.\nI expected to build the apk.</p>\n",
        "codigo": [
            "Execution failed for task ':assets_audio_player_web:verifyReleaseResources'.\n> A failure occurred while executing com.android.build.gradle.tasks.VerifyLibraryResourcesTask$Action\n   > Android resource linking failed\n     ERROR:C:\\Users\\lubya\\.gradle\\caches\\transforms-3\\ba0a6fe31cd4794ca72feaf033c059c8\\transformed\\core-1.13.1\\res\\values\\values.xml:113:5-122:25: AAPT: error: resource android:attr/lStar not found.\n",
            "dependencies:\n  flutter:\n    sdk: flutter\n  assets_audio_player: ^3.0.8\n"
        ]
    },
    {
        "titulo": "Laravel API is returning a recaptcha bot verification response",
        "score": 0,
        "views": 383,
        "respostas": 1,
        "tags": [
            "laravel",
            "flutter",
            "dart",
            "bots",
            "recaptcha"
        ],
        "link": "https://stackoverflow.com/questions/78881606/laravel-api-is-returning-a-recaptcha-bot-verification-response",
        "conteudo_html": "<p>I have an issue with my Laravel API where by out of the blue it started returning a bot verification response and seems I have failed to get over this problem.</p>\n<p><img src=\"https://i.sstatic.net/tnSvAlyf.png\" alt=\"API recaptcha bot verification response\" /></p>\n<p>I am testing a Laravel API in postman and other API testing tools and also trying to consume it in my mobile app with flutter but  out of the blue, the API started  returning a recaptcha bot verification response instead of the responses expected and I have totally failed to find a working solution for this and fortunately if I access the API with a browser it returns the data.</p>\n<p><strong>Could there be anyone with a solution?</strong></p>\n<p><strong>Response returned:</strong></p>\n<pre><code>\\&lt;!DOCTYPE html\\&gt;\n\\&lt;html\\&gt;\n\n\\&lt;head\\&gt;\n\\&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;\\&gt;\n\\&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;\\&gt;\n\\&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=windows-1252&quot;\\&gt;\n\\&lt;title\\&gt;Bot Verification\\&lt;/title\\&gt;\n\\&lt;script\\&gt;\nfunction onSubmit() {\ndocument.getElementById('lsrecaptcha-form').submit();\n}\n\n        var onloadCallback = function() {\n            var cont = grecaptcha.render('recaptchadiv', {\n                'sitekey': '6Le6iOkhAAAAAEy2qFOqtynWjdr3vsIScExJ_Maz',\n                'callback': onSubmit,\n                'size': 'invisible'\n            });\n            grecaptcha.execute(cont);\n        };\n    &lt;/script&gt;enter image description here\n        body {\n            height: 100%;\n        }\n    \n        .panel {\n            padding: 30px;\n            max-width: 425px;\n            margin: 10% auto;\n            box-shadow: 0 0 2px 2px rgba(0, 0, 0, 0.2);\n        }\n    \n        .title {\n            font-size: 1.5em;\n            font-weight: 100;\n            margin-top: 10px;\n            text-align: center;\n        }\n    \n        .recaptcha-center {\n            margin-top: 35px;\n            margin-bottom: 20px;\n            margin-left: 13%;\n            margin-right: 13%;\n            display: block;\n        }\n    &lt;/style&gt;\n\n\\&lt;/head\\&gt;\n\n\\&lt;body\\&gt;\n\\&lt;div class=&quot;panel&quot;\\&gt;\n\\&lt;h3 class=&quot;title&quot;\\&gt;Verifying that you are not a robot...\\&lt;/h3\\&gt;\n\\&lt;form id=&quot;lsrecaptcha-form&quot; method=&quot;POST&quot; action=&quot;/.lsrecap/recaptcha?&quot;\\&gt;\n\\&lt;div id=&quot;recaptchadiv&quot; class=&quot;recaptcha-center&quot;\\&gt;\\&lt;/div\\&gt;\n\\&lt;/form\\&gt;\n\\&lt;/div\\&gt;\n\\&lt;script src=&quot;https://www.recaptcha.net/recaptcha/api.js?onload=onloadCallback&amp;render=explicit&quot; async defer\\&gt;\n\\&lt;/script\\&gt;`\n\\&lt;/body\\&gt;\n\n\\&lt;/html\\&gt;\n</code></pre>\n<p><img src=\"https://i.sstatic.net/T3uwkCJj.png\" alt=\"Response returned\" /></p>\n<p>I tried consuming the API in postman and my mobile flutter app but it doesn't return the expected data instead it returns  a recaptcha bot verification response.</p>\n",
        "codigo": [
            "\\<!DOCTYPE html\\>\n\\<html\\>\n\n\\<head\\>\n\\<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"\\>\n\\<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"\\>\n\\<meta http-equiv=\"Content-Type\" content=\"text/html; charset=windows-1252\"\\>\n\\<title\\>Bot Verification\\</title\\>\n\\<script\\>\nfunction onSubmit() {\ndocument.getElementById('lsrecaptcha-form').submit();\n}\n\n        var onloadCallback = function() {\n            var cont = grecaptcha.render('recaptchadiv', {\n                'sitekey': '6Le6iOkhAAAAAEy2qFOqtynWjdr3vsIScExJ_Maz',\n                'callback': onSubmit,\n                'size': 'invisible'\n            });\n            grecaptcha.execute(cont);\n        };\n    </script>enter image description here\n        body {\n            height: 100%;\n        }\n    \n        .panel {\n            padding: 30px;\n            max-width: 425px;\n            margin: 10% auto;\n            box-shadow: 0 0 2px 2px rgba(0, 0, 0, 0.2);\n        }\n    \n        .title {\n            font-size: 1.5em;\n            font-weight: 100;\n            margin-top: 10px;\n            text-align: center;\n        }\n    \n        .recaptcha-center {\n            margin-top: 35px;\n            margin-bottom: 20px;\n            margin-left: 13%;\n            margin-right: 13%;\n            display: block;\n        }\n    </style>\n\n\\</head\\>\n\n\\<body\\>\n\\<div class=\"panel\"\\>\n\\<h3 class=\"title\"\\>Verifying that you are not a robot...\\</h3\\>\n\\<form id=\"lsrecaptcha-form\" method=\"POST\" action=\"/.lsrecap/recaptcha?\"\\>\n\\<div id=\"recaptchadiv\" class=\"recaptcha-center\"\\>\\</div\\>\n\\</form\\>\n\\</div\\>\n\\<script src=\"https://www.recaptcha.net/recaptcha/api.js?onload=onloadCallback&render=explicit\" async defer\\>\n\\</script\\>`\n\\</body\\>\n\n\\</html\\>\n"
        ]
    },
    {
        "titulo": "How to use CustomScrollView in a GoRouter ShellRoute?",
        "score": 0,
        "views": 287,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-sliver",
            "flutter-go-router"
        ],
        "link": "https://stackoverflow.com/questions/78881363/how-to-use-customscrollview-in-a-gorouter-shellroute",
        "conteudo_html": "<p>I had the idea to create a CustomScrollView within a GoRouter's ShellRoute so that I could have a reusable SliverAppBar that doesn't have to be re-rendered on every route. Unfortunately, returning a SliverList from the GoRoute within a ShellRoute causes issues because GoRouter embeds the Widget returned by GoRoute#builder into some other classes...</p>\n<p>Minimal example:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\nimport 'package:go_router/go_router.dart';\n\nvoid main() {\n  runApp(const App());\n}\n\nclass App extends StatelessWidget {\n  const App({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    var title = 'Flutter Demo';\n    return MaterialApp.router(\n        title: title,\n        theme: ThemeData(\n          colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n          useMaterial3: true,\n        ),\n        routerConfig:\n            GoRouter(navigatorKey: GlobalKey&lt;NavigatorState&gt;(), routes: [\n          ShellRoute(\n              navigatorKey: GlobalKey&lt;NavigatorState&gt;(),\n              builder:\n                  (BuildContext context, GoRouterState state, Widget child) {\n                return CustomScrollView(slivers: [\n                  SliverAppBar(\n                    expandedHeight: 300.0,\n                    flexibleSpace: FlexibleSpaceBar(\n                      background: Container(\n                        color: Colors.red,\n                        child: const Text(&quot;Shrinkable&quot;),\n                      ),\n                    ),\n                  ),\n                  child\n                ]);\n              },\n              routes: [\n                GoRoute(\n                    path: &quot;/&quot;,\n                    builder: (BuildContext context, GoRouterState state) {\n                      return SliverList(\n                          delegate:\n                              SliverChildListDelegate([const Text(&quot;data&quot;)]));\n                    })\n              ])\n        ]));\n  }\n}\n</code></pre>\n<p>Error logs:</p>\n<pre><code>======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building NotificationListener&lt;NavigationNotification&gt;:\nA RenderViewport expected a child of type RenderSliver but received a child of type RenderPointerListener.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderViewport that expected a RenderSliver child was created by: Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener&lt;ScrollMetricsNotification&gt; ← RepaintBoundary ← CustomPaint-[GlobalKey#dedf6] ← ⋯\nThe RenderPointerListener that did not match the expected child type was created by: Listener ← NotificationListener&lt;NavigationNotification&gt; ← HeroControllerScope ← Navigator-[LabeledGlobalKey&lt;NavigatorState&gt;#0220d] ← HeroControllerScope ← GoRouterStateRegistryScope ← _CustomNavigator-[GlobalObjectKey int#0220d] ← Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← ⋯\nThe relevant error-causing widget was: \n  Navigator-[LabeledGlobalKey&lt;NavigatorState&gt;#0220d] Navigator:file:///C:/Users/Pete/AppData/Local/Pub/Cache/hosted/pub.dev/go_router-14.2.3/lib/src/builder.dart:429:16\n\n======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building HeroControllerScope:\nA RenderViewport expected a child of type RenderSliver but received a child of type RenderErrorBox.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderViewport that expected a RenderSliver child was created by: Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener&lt;ScrollMetricsNotification&gt; ← RepaintBoundary ← CustomPaint-[GlobalKey#dedf6] ← ⋯\nThe RenderErrorBox that did not match the expected child type was created by: ErrorWidget-[#4bbd6] ← NotificationListener&lt;NavigationNotification&gt; ← HeroControllerScope ← Navigator-[LabeledGlobalKey&lt;NavigatorState&gt;#0220d] ← HeroControllerScope ← GoRouterStateRegistryScope ← _CustomNavigator-[GlobalObjectKey int#0220d] ← Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← ⋯\nThe relevant error-causing widget was: \n  Navigator-[LabeledGlobalKey&lt;NavigatorState&gt;#0220d] Navigator:file:///C:/Users/Pete/AppData/Local/Pub/Cache/hosted/pub.dev/go_router-14.2.3/lib/src/builder.dart:429:16\n\n======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building Navigator-[LabeledGlobalKey&lt;NavigatorState&gt;#0220d](dependencies: [HeroControllerScope, UnmanagedRestorationScope], state: NavigatorState#e0a51(tickers: tracking 1 ticker)):\nA RenderViewport expected a child of type RenderSliver but received a child of type RenderErrorBox.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderViewport that expected a RenderSliver child was created by: Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener&lt;ScrollMetricsNotification&gt; ← RepaintBoundary ← CustomPaint-[GlobalKey#dedf6] ← ⋯\nThe RenderErrorBox that did not match the expected child type was created by: ErrorWidget-[#9b449] ← HeroControllerScope ← Navigator-[LabeledGlobalKey&lt;NavigatorState&gt;#0220d] ← HeroControllerScope ← GoRouterStateRegistryScope ← _CustomNavigator-[GlobalObjectKey int#0220d] ← Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#e2d46] ← ⋯\nThe relevant error-causing widget was: \n  Navigator-[LabeledGlobalKey&lt;NavigatorState&gt;#0220d] Navigator:file:///C:/Users/Pete/AppData/Local/Pub/Cache/hosted/pub.dev/go_router-14.2.3/lib/src/builder.dart:429:16\n\n======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building HeroControllerScope:\nA RenderViewport expected a child of type RenderSliver but received a child of type RenderErrorBox.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderViewport that expected a RenderSliver child was created by: Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener&lt;ScrollMetricsNotification&gt; ← RepaintBoundary ← CustomPaint-[GlobalKey#dedf6] ← ⋯\nThe RenderErrorBox that did not match the expected child type was created by: ErrorWidget-[#dbfa8] ← Navigator-[LabeledGlobalKey&lt;NavigatorState&gt;#0220d] ← HeroControllerScope ← GoRouterStateRegistryScope ← _CustomNavigator-[GlobalObjectKey int#0220d] ← Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#e2d46] ← Listener ← ⋯\nThe relevant error-causing widget was: \n  HeroControllerScope HeroControllerScope:file:///C:/Users/Pete/AppData/Local/Pub/Cache/hosted/pub.dev/go_router-14.2.3/lib/src/builder.dart:427:14\n\n======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building GoRouterStateRegistryScope:\nA RenderViewport expected a child of type RenderSliver but received a child of type RenderErrorBox.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderViewport that expected a RenderSliver child was created by: Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener&lt;ScrollMetricsNotification&gt; ← RepaintBoundary ← CustomPaint-[GlobalKey#dedf6] ← ⋯\nThe RenderErrorBox that did not match the expected child type was created by: ErrorWidget-[#a23b2] ← HeroControllerScope ← GoRouterStateRegistryScope ← _CustomNavigator-[GlobalObjectKey int#0220d] ← Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#e2d46] ← Listener ← _ScrollableScope ← ⋯\nThe relevant error-causing widget was: \n  GoRouterStateRegistryScope GoRouterStateRegistryScope:file:///C:/Users/Pete/AppData/Local/Pub/Cache/hosted/pub.dev/go_router-14.2.3/lib/src/builder.dart:425:12\n\n======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building _CustomNavigator-[GlobalObjectKey int#0220d](state: _CustomNavigatorState#4988d):\nA RenderViewport expected a child of type RenderSliver but received a child of type RenderErrorBox.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderViewport that expected a RenderSliver child was created by: Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener&lt;ScrollMetricsNotification&gt; ← RepaintBoundary ← CustomPaint-[GlobalKey#dedf6] ← ⋯\nThe RenderErrorBox that did not match the expected child type was created by: ErrorWidget-[#2da42] ← GoRouterStateRegistryScope ← _CustomNavigator-[GlobalObjectKey int#0220d] ← Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← ⋯\nThe relevant error-causing widget was: \n  _CustomNavigator-[GlobalObjectKey int#0220d] _CustomNavigator:file:///C:/Users/Pete/AppData/Local/Pub/Cache/hosted/pub.dev/go_router-14.2.3/lib/src/builder.dart:276:16\n\n======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#e2d46](state: RawGestureDetectorState#cc3be(gestures: &lt;none&gt;, behavior: opaque)):\nA RenderViewport expected a child of type RenderSliver but received a child of type RenderErrorBox.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderViewport that expected a RenderSliver child was created by: Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener&lt;ScrollMetricsNotification&gt; ← RepaintBoundary ← CustomPaint-[GlobalKey#dedf6] ← ⋯\nThe RenderErrorBox that did not match the expected child type was created by: ErrorWidget-[#413d0] ← _CustomNavigator-[GlobalObjectKey int#0220d] ← Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey&lt;RawGestureDetectorState&gt;#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener&lt;ScrollMetricsNotification&gt; ← ⋯\nThe relevant error-causing widget was: \n  CustomScrollView CustomScrollView:file:///D:/code/playground/flutter/go_router_slivers/lib/main.dart:26:24\n</code></pre>\n<p>If I try to wrap the ShellRoute#child inside of a SliverToBoxAdapter, then I get the sort of reverse error, albeit a much smaller one:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\nimport 'package:go_router/go_router.dart';\n\nvoid main() {\n  runApp(const App());\n}\n\nclass App extends StatelessWidget {\n  const App({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    var title = 'Flutter Demo';\n    return MaterialApp.router(\n        title: title,\n        theme: ThemeData(\n          colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n          useMaterial3: true,\n        ),\n        routerConfig:\n            GoRouter(navigatorKey: GlobalKey&lt;NavigatorState&gt;(), routes: [\n          ShellRoute(\n              navigatorKey: GlobalKey&lt;NavigatorState&gt;(),\n              builder:\n                  (BuildContext context, GoRouterState state, Widget child) {\n                return CustomScrollView(slivers: [\n                  SliverAppBar(\n                    expandedHeight: 300.0,\n                    flexibleSpace: FlexibleSpaceBar(\n                      background: Container(\n                        color: Colors.red,\n                        child: const Text(&quot;Shrinkable&quot;),\n                      ),\n                    ),\n                  ),\n                  SliverToBoxAdapter(child: child) // &lt;-- wrapped this time\n                ]);\n              },\n              routes: [\n                GoRoute(\n                    path: &quot;/&quot;,\n                    builder: (BuildContext context, GoRouterState state) {\n                      return SliverList(\n                          delegate:\n                              SliverChildListDelegate([const Text(&quot;data&quot;)]));\n                    })\n              ])\n        ]));\n  }\n}\n</code></pre>\n<p>Error logs:</p>\n<pre><code>======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building Builder:\nA RenderSemanticsAnnotations expected a child of type RenderBox but received a child of type RenderSliverList.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderSemanticsAnnotations that expected a RenderBox child was created by: Semantics ← Builder ← RepaintBoundary-[GlobalKey#fd14b] ← IgnorePointer ← AnimatedBuilder ← SnapshotWidget ← _ZoomExitTransition ← SnapshotWidget ← _ZoomEnterTransition ← DualTransitionBuilder ← SnapshotWidget ← _ZoomExitTransition ← ⋯\nThe RenderSliverList that did not match the expected child type was created by: SliverList ← Builder ← Semantics ← Builder ← RepaintBoundary-[GlobalKey#fd14b] ← IgnorePointer ← AnimatedBuilder ← SnapshotWidget ← _ZoomExitTransition ← SnapshotWidget ← _ZoomEnterTransition ← DualTransitionBuilder ← ⋯\nThe relevant error-causing widget was: \n  Builder Builder:file:///C:/Users/Pete/AppData/Local/Pub/Cache/hosted/pub.dev/go_router-14.2.3/lib/src/builder.dart:256:9\n</code></pre>\n<p>This is my first foray into the land of Slivers, so I'm at a loss. Do I need to give up and just rebuild the CustomScrollView on each individual route, along with the SliverAppBar? Any advice is appreciated. TIA :)</p>\n",
        "codigo": [
            "import 'package:flutter/material.dart';\nimport 'package:go_router/go_router.dart';\n\nvoid main() {\n  runApp(const App());\n}\n\nclass App extends StatelessWidget {\n  const App({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    var title = 'Flutter Demo';\n    return MaterialApp.router(\n        title: title,\n        theme: ThemeData(\n          colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n          useMaterial3: true,\n        ),\n        routerConfig:\n            GoRouter(navigatorKey: GlobalKey<NavigatorState>(), routes: [\n          ShellRoute(\n              navigatorKey: GlobalKey<NavigatorState>(),\n              builder:\n                  (BuildContext context, GoRouterState state, Widget child) {\n                return CustomScrollView(slivers: [\n                  SliverAppBar(\n                    expandedHeight: 300.0,\n                    flexibleSpace: FlexibleSpaceBar(\n                      background: Container(\n                        color: Colors.red,\n                        child: const Text(\"Shrinkable\"),\n                      ),\n                    ),\n                  ),\n                  child\n                ]);\n              },\n              routes: [\n                GoRoute(\n                    path: \"/\",\n                    builder: (BuildContext context, GoRouterState state) {\n                      return SliverList(\n                          delegate:\n                              SliverChildListDelegate([const Text(\"data\")]));\n                    })\n              ])\n        ]));\n  }\n}\n",
            "======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building NotificationListener<NavigationNotification>:\nA RenderViewport expected a child of type RenderSliver but received a child of type RenderPointerListener.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderViewport that expected a RenderSliver child was created by: Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey<RawGestureDetectorState>#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener<ScrollMetricsNotification> ← RepaintBoundary ← CustomPaint-[GlobalKey#dedf6] ← ⋯\nThe RenderPointerListener that did not match the expected child type was created by: Listener ← NotificationListener<NavigationNotification> ← HeroControllerScope ← Navigator-[LabeledGlobalKey<NavigatorState>#0220d] ← HeroControllerScope ← GoRouterStateRegistryScope ← _CustomNavigator-[GlobalObjectKey int#0220d] ← Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← ⋯\nThe relevant error-causing widget was: \n  Navigator-[LabeledGlobalKey<NavigatorState>#0220d] Navigator:file:///C:/Users/Pete/AppData/Local/Pub/Cache/hosted/pub.dev/go_router-14.2.3/lib/src/builder.dart:429:16\n\n======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building HeroControllerScope:\nA RenderViewport expected a child of type RenderSliver but received a child of type RenderErrorBox.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderViewport that expected a RenderSliver child was created by: Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey<RawGestureDetectorState>#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener<ScrollMetricsNotification> ← RepaintBoundary ← CustomPaint-[GlobalKey#dedf6] ← ⋯\nThe RenderErrorBox that did not match the expected child type was created by: ErrorWidget-[#4bbd6] ← NotificationListener<NavigationNotification> ← HeroControllerScope ← Navigator-[LabeledGlobalKey<NavigatorState>#0220d] ← HeroControllerScope ← GoRouterStateRegistryScope ← _CustomNavigator-[GlobalObjectKey int#0220d] ← Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← ⋯\nThe relevant error-causing widget was: \n  Navigator-[LabeledGlobalKey<NavigatorState>#0220d] Navigator:file:///C:/Users/Pete/AppData/Local/Pub/Cache/hosted/pub.dev/go_router-14.2.3/lib/src/builder.dart:429:16\n\n======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building Navigator-[LabeledGlobalKey<NavigatorState>#0220d](dependencies: [HeroControllerScope, UnmanagedRestorationScope], state: NavigatorState#e0a51(tickers: tracking 1 ticker)):\nA RenderViewport expected a child of type RenderSliver but received a child of type RenderErrorBox.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderViewport that expected a RenderSliver child was created by: Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey<RawGestureDetectorState>#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener<ScrollMetricsNotification> ← RepaintBoundary ← CustomPaint-[GlobalKey#dedf6] ← ⋯\nThe RenderErrorBox that did not match the expected child type was created by: ErrorWidget-[#9b449] ← HeroControllerScope ← Navigator-[LabeledGlobalKey<NavigatorState>#0220d] ← HeroControllerScope ← GoRouterStateRegistryScope ← _CustomNavigator-[GlobalObjectKey int#0220d] ← Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey<RawGestureDetectorState>#e2d46] ← ⋯\nThe relevant error-causing widget was: \n  Navigator-[LabeledGlobalKey<NavigatorState>#0220d] Navigator:file:///C:/Users/Pete/AppData/Local/Pub/Cache/hosted/pub.dev/go_router-14.2.3/lib/src/builder.dart:429:16\n\n======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building HeroControllerScope:\nA RenderViewport expected a child of type RenderSliver but received a child of type RenderErrorBox.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderViewport that expected a RenderSliver child was created by: Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey<RawGestureDetectorState>#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener<ScrollMetricsNotification> ← RepaintBoundary ← CustomPaint-[GlobalKey#dedf6] ← ⋯\nThe RenderErrorBox that did not match the expected child type was created by: ErrorWidget-[#dbfa8] ← Navigator-[LabeledGlobalKey<NavigatorState>#0220d] ← HeroControllerScope ← GoRouterStateRegistryScope ← _CustomNavigator-[GlobalObjectKey int#0220d] ← Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey<RawGestureDetectorState>#e2d46] ← Listener ← ⋯\nThe relevant error-causing widget was: \n  HeroControllerScope HeroControllerScope:file:///C:/Users/Pete/AppData/Local/Pub/Cache/hosted/pub.dev/go_router-14.2.3/lib/src/builder.dart:427:14\n\n======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building GoRouterStateRegistryScope:\nA RenderViewport expected a child of type RenderSliver but received a child of type RenderErrorBox.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderViewport that expected a RenderSliver child was created by: Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey<RawGestureDetectorState>#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener<ScrollMetricsNotification> ← RepaintBoundary ← CustomPaint-[GlobalKey#dedf6] ← ⋯\nThe RenderErrorBox that did not match the expected child type was created by: ErrorWidget-[#a23b2] ← HeroControllerScope ← GoRouterStateRegistryScope ← _CustomNavigator-[GlobalObjectKey int#0220d] ← Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey<RawGestureDetectorState>#e2d46] ← Listener ← _ScrollableScope ← ⋯\nThe relevant error-causing widget was: \n  GoRouterStateRegistryScope GoRouterStateRegistryScope:file:///C:/Users/Pete/AppData/Local/Pub/Cache/hosted/pub.dev/go_router-14.2.3/lib/src/builder.dart:425:12\n\n======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building _CustomNavigator-[GlobalObjectKey int#0220d](state: _CustomNavigatorState#4988d):\nA RenderViewport expected a child of type RenderSliver but received a child of type RenderErrorBox.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderViewport that expected a RenderSliver child was created by: Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey<RawGestureDetectorState>#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener<ScrollMetricsNotification> ← RepaintBoundary ← CustomPaint-[GlobalKey#dedf6] ← ⋯\nThe RenderErrorBox that did not match the expected child type was created by: ErrorWidget-[#2da42] ← GoRouterStateRegistryScope ← _CustomNavigator-[GlobalObjectKey int#0220d] ← Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey<RawGestureDetectorState>#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← ⋯\nThe relevant error-causing widget was: \n  _CustomNavigator-[GlobalObjectKey int#0220d] _CustomNavigator:file:///C:/Users/Pete/AppData/Local/Pub/Cache/hosted/pub.dev/go_router-14.2.3/lib/src/builder.dart:276:16\n\n======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building RawGestureDetector-[LabeledGlobalKey<RawGestureDetectorState>#e2d46](state: RawGestureDetectorState#cc3be(gestures: <none>, behavior: opaque)):\nA RenderViewport expected a child of type RenderSliver but received a child of type RenderErrorBox.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderViewport that expected a RenderSliver child was created by: Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey<RawGestureDetectorState>#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener<ScrollMetricsNotification> ← RepaintBoundary ← CustomPaint-[GlobalKey#dedf6] ← ⋯\nThe RenderErrorBox that did not match the expected child type was created by: ErrorWidget-[#413d0] ← _CustomNavigator-[GlobalObjectKey int#0220d] ← Viewport ← IgnorePointer-[GlobalKey#e9fba] ← Semantics ← Listener ← _GestureSemantics ← RawGestureDetector-[LabeledGlobalKey<RawGestureDetectorState>#e2d46] ← Listener ← _ScrollableScope ← _ScrollSemantics-[GlobalKey#e77c7] ← NotificationListener<ScrollMetricsNotification> ← ⋯\nThe relevant error-causing widget was: \n  CustomScrollView CustomScrollView:file:///D:/code/playground/flutter/go_router_slivers/lib/main.dart:26:24\n",
            "import 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\nimport 'package:go_router/go_router.dart';\n\nvoid main() {\n  runApp(const App());\n}\n\nclass App extends StatelessWidget {\n  const App({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    var title = 'Flutter Demo';\n    return MaterialApp.router(\n        title: title,\n        theme: ThemeData(\n          colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n          useMaterial3: true,\n        ),\n        routerConfig:\n            GoRouter(navigatorKey: GlobalKey<NavigatorState>(), routes: [\n          ShellRoute(\n              navigatorKey: GlobalKey<NavigatorState>(),\n              builder:\n                  (BuildContext context, GoRouterState state, Widget child) {\n                return CustomScrollView(slivers: [\n                  SliverAppBar(\n                    expandedHeight: 300.0,\n                    flexibleSpace: FlexibleSpaceBar(\n                      background: Container(\n                        color: Colors.red,\n                        child: const Text(\"Shrinkable\"),\n                      ),\n                    ),\n                  ),\n                  SliverToBoxAdapter(child: child) // <-- wrapped this time\n                ]);\n              },\n              routes: [\n                GoRoute(\n                    path: \"/\",\n                    builder: (BuildContext context, GoRouterState state) {\n                      return SliverList(\n                          delegate:\n                              SliverChildListDelegate([const Text(\"data\")]));\n                    })\n              ])\n        ]));\n  }\n}\n",
            "======== Exception caught by widgets library =======================================================\nThe following assertion was thrown building Builder:\nA RenderSemanticsAnnotations expected a child of type RenderBox but received a child of type RenderSliverList.\n\nRenderObjects expect specific types of children because they coordinate with their children during layout and paint. For example, a RenderSliver cannot be the child of a RenderBox because a RenderSliver does not understand the RenderBox layout protocol.\nThe RenderSemanticsAnnotations that expected a RenderBox child was created by: Semantics ← Builder ← RepaintBoundary-[GlobalKey#fd14b] ← IgnorePointer ← AnimatedBuilder ← SnapshotWidget ← _ZoomExitTransition ← SnapshotWidget ← _ZoomEnterTransition ← DualTransitionBuilder ← SnapshotWidget ← _ZoomExitTransition ← ⋯\nThe RenderSliverList that did not match the expected child type was created by: SliverList ← Builder ← Semantics ← Builder ← RepaintBoundary-[GlobalKey#fd14b] ← IgnorePointer ← AnimatedBuilder ← SnapshotWidget ← _ZoomExitTransition ← SnapshotWidget ← _ZoomEnterTransition ← DualTransitionBuilder ← ⋯\nThe relevant error-causing widget was: \n  Builder Builder:file:///C:/Users/Pete/AppData/Local/Pub/Cache/hosted/pub.dev/go_router-14.2.3/lib/src/builder.dart:256:9\n"
        ]
    },
    {
        "titulo": "How to Subclass FirebaseAuth User Class in Flutter",
        "score": 0,
        "views": 69,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/78880639/how-to-subclass-firebaseauth-user-class-in-flutter",
        "conteudo_html": "<p>I'm new to Flutter/Dart and cannot figure out how to subclass the FirebaseAuth User class. I have been watching a rather old Firebase tutorial so I have had to change things a bit as the API has changed over the years.</p>\n<p>The tutorial simply wanted me to do this:</p>\n<pre><code>class User {\n\n  final String uid;\n  \n  User({ this.uid });\n\n}\n</code></pre>\n<p>But since the new FirebaseAuth API has a class named User I figured I would simply subclass it as such:</p>\n<pre><code>import 'package:firebase_auth/firebase_auth.dart';\n\nclass BrewUser extends User {\n  final String uid;\n\n  BrewUser({required this.uid});\n}\n</code></pre>\n<p>The error on the constructor of BrewUser is:</p>\n<blockquote>\n<p>The class 'User' doesn't have an unnamed constructor.\nTry defining an unnamed constructor in 'User', or invoking a different constructor.dartundefined_constructor_in_initializer</p>\n</blockquote>\n<p>The only constructor I see in the User class is private and looks like this:</p>\n<pre><code>  User._(this._auth, this._delegate) {\n    UserPlatform.verify(_delegate);\n  }\n</code></pre>\n",
        "codigo": [
            "class User {\n\n  final String uid;\n  \n  User({ this.uid });\n\n}\n",
            "import 'package:firebase_auth/firebase_auth.dart';\n\nclass BrewUser extends User {\n  final String uid;\n\n  BrewUser({required this.uid});\n}\n",
            "  User._(this._auth, this._delegate) {\n    UserPlatform.verify(_delegate);\n  }\n"
        ]
    },
    {
        "titulo": "Issues loading url in webiew",
        "score": 0,
        "views": 52,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "webview"
        ],
        "link": "https://stackoverflow.com/questions/78880556/issues-loading-url-in-webiew",
        "conteudo_html": "<p>I am trying to load a custom url return from the backend in the frontend using webview in my app. The problem is webview does not load the url, but when I open the url in a web browswer, it loads</p>\n<p>below is the code for the webview</p>\n<pre><code>class MainPaymentScreen extends StatefulWidget {\n  const MainPaymentScreen({super.key});\n\n  @override\n  State&lt;MainPaymentScreen&gt; createState() =&gt; _MainPaymentScreenState();\n}\n\nclass _MainPaymentScreenState extends State&lt;MainPaymentScreen&gt; {\n  String? _url;\n  late WebViewController _webViewController;\n  late AuthorizationUrl provider;\n  bool _hasError = false;\n\n  @override\n  void initState() {\n    super.initState();\n    _webViewController = WebViewController()\n      ..setJavaScriptMode(JavaScriptMode.unrestricted)\n      ..setBackgroundColor(Color(0x00000000))\n      ..setNavigationDelegate(\n        NavigationDelegate(\n          onWebResourceError: (error) {\n            setState(() {\n              _hasError = true;\n            });\n            Center(child: Text('An error occurred'),);\n          },\n          onPageFinished: (url) {\n            setState(() {\n              _hasError = false;\n            });\n          },\n          onNavigationRequest: (request) {\n            if (request.url.startsWith('http://www.youtube.com')) {\n              return NavigationDecision.prevent;\n            }\n            return NavigationDecision.navigate;\n          },\n        ),\n      );\n  }\n\n  @override\n  void didChangeDependencies() {\n    super.didChangeDependencies();\n\n    // Access the provider and update the URL\n    provider = Provider.of&lt;AuthorizationUrl&gt;(context);\n    final newUrl = provider.authorization_url;\n\n    // Load the URL only if it has changed\n    if (_url != newUrl &amp;&amp; newUrl.isNotEmpty) {\n      _url = newUrl;\n      print(newUrl);\n      _webViewController.loadRequest(Uri.parse(_url!));\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: SafeArea(\n        child: _url == null\n            ? Center(child: CircularProgressIndicator())\n            : _hasError\n                ? Center(child: Text('An error occurred'))\n                : WebViewWidget(controller: _webViewController),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>code for retrieving the url and storing the url from the backend</p>\n<pre><code>class PaymentService {\n  static Future&lt;void&gt; sendPayment(\n    BuildContext context, {\n    required String amount,\n    required String email,\n    required String currency,\n  }) async {\n    http.Response? response;\n    try {\n      final paymentEndpoint = 'http://10.0.2.2:3000/api/v1/receive-payment';\n      response = await http.post(Uri.parse(paymentEndpoint),\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ${EnvironConfig.secretKey}',\n          },\n          body: jsonEncode({\n            &quot;amount&quot;: amount,\n            &quot;email&quot;: email,\n            &quot;currency&quot;: currency,\n          }));\n\n      if (response.statusCode == 200) {\n        final responseData = jsonDecode(response.body);\n\n        final authUrl = responseData['authorization_url'];\n        final reference = responseData['reference'];\n\n        if (authUrl != null &amp;&amp; reference != null) {\n          Provider.of&lt;AuthorizationUrl&gt;(context, listen: false).authUrl(authUrl);\n          // Provider.of&lt;AuthorizationUrl&gt;(context, listen: false).setReference(reference);\n\n          // verifyPayment(reference: reference);\n\n          \n\n          print(&quot;Authorization URL: $authUrl&quot;);\n          print(&quot;Reference: $reference&quot;);\n        } else {\n          print(&quot;Authorization URL or Reference is null.&quot;);\n        }\n      } else {\n        print(&quot;Failed to send payment. Status code: ${response.statusCode}&quot;);\n        print(&quot;Response body: ${response.body}&quot;);\n      }\n    } catch (e) {\n      print(&quot;Exception occurred: $e&quot;);\n    }\n  }\n}\n</code></pre>\n<p>my androidManifest file</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n   android:usesCleartextTraffic=&quot;true&quot;\n \n</code></pre>\n",
        "codigo": [
            "class MainPaymentScreen extends StatefulWidget {\n  const MainPaymentScreen({super.key});\n\n  @override\n  State<MainPaymentScreen> createState() => _MainPaymentScreenState();\n}\n\nclass _MainPaymentScreenState extends State<MainPaymentScreen> {\n  String? _url;\n  late WebViewController _webViewController;\n  late AuthorizationUrl provider;\n  bool _hasError = false;\n\n  @override\n  void initState() {\n    super.initState();\n    _webViewController = WebViewController()\n      ..setJavaScriptMode(JavaScriptMode.unrestricted)\n      ..setBackgroundColor(Color(0x00000000))\n      ..setNavigationDelegate(\n        NavigationDelegate(\n          onWebResourceError: (error) {\n            setState(() {\n              _hasError = true;\n            });\n            Center(child: Text('An error occurred'),);\n          },\n          onPageFinished: (url) {\n            setState(() {\n              _hasError = false;\n            });\n          },\n          onNavigationRequest: (request) {\n            if (request.url.startsWith('http://www.youtube.com')) {\n              return NavigationDecision.prevent;\n            }\n            return NavigationDecision.navigate;\n          },\n        ),\n      );\n  }\n\n  @override\n  void didChangeDependencies() {\n    super.didChangeDependencies();\n\n    // Access the provider and update the URL\n    provider = Provider.of<AuthorizationUrl>(context);\n    final newUrl = provider.authorization_url;\n\n    // Load the URL only if it has changed\n    if (_url != newUrl && newUrl.isNotEmpty) {\n      _url = newUrl;\n      print(newUrl);\n      _webViewController.loadRequest(Uri.parse(_url!));\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: SafeArea(\n        child: _url == null\n            ? Center(child: CircularProgressIndicator())\n            : _hasError\n                ? Center(child: Text('An error occurred'))\n                : WebViewWidget(controller: _webViewController),\n      ),\n    );\n  }\n}\n",
            "class PaymentService {\n  static Future<void> sendPayment(\n    BuildContext context, {\n    required String amount,\n    required String email,\n    required String currency,\n  }) async {\n    http.Response? response;\n    try {\n      final paymentEndpoint = 'http://10.0.2.2:3000/api/v1/receive-payment';\n      response = await http.post(Uri.parse(paymentEndpoint),\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ${EnvironConfig.secretKey}',\n          },\n          body: jsonEncode({\n            \"amount\": amount,\n            \"email\": email,\n            \"currency\": currency,\n          }));\n\n      if (response.statusCode == 200) {\n        final responseData = jsonDecode(response.body);\n\n        final authUrl = responseData['authorization_url'];\n        final reference = responseData['reference'];\n\n        if (authUrl != null && reference != null) {\n          Provider.of<AuthorizationUrl>(context, listen: false).authUrl(authUrl);\n          // Provider.of<AuthorizationUrl>(context, listen: false).setReference(reference);\n\n          // verifyPayment(reference: reference);\n\n          \n\n          print(\"Authorization URL: $authUrl\");\n          print(\"Reference: $reference\");\n        } else {\n          print(\"Authorization URL or Reference is null.\");\n        }\n      } else {\n        print(\"Failed to send payment. Status code: ${response.statusCode}\");\n        print(\"Response body: ${response.body}\");\n      }\n    } catch (e) {\n      print(\"Exception occurred: $e\");\n    }\n  }\n}\n",
            "<uses-permission android:name=\"android.permission.INTERNET\"/>\n   android:usesCleartextTraffic=\"true\"\n \n"
        ]
    },
    {
        "titulo": "Create class with try/catch",
        "score": 0,
        "views": 50,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78875361/create-class-with-try-catch",
        "conteudo_html": "<p>I am trying to refactor my code by creating a class that registers a user using the Google email method so it is more manageable.</p>\n<p>I have a couple of problems:</p>\n<ol>\n<li><p>I want to use a <code>try/catch</code> so I can catch any errors.</p>\n</li>\n<li><p>I need to use <code>await</code> but I am getting this error:</p>\n<p><em><em>The await expression can only be used in an async function.\nTry marking the function body with either 'async' or 'async</em>'.</em>*</p>\n</li>\n</ol>\n<p>Below is the code I am trying to breakout and create a new class with:</p>\n<pre><code>class RegisterUser {\n  final _auth = FirebaseAuth.instance;\n  bool registrationFail = false;\n  String errorMessage = &quot;&quot;;\n\n  try {\n    final newUser = await _auth.createUserWithEmailAndPassword(\n        email: widget.email, password: widget.password);\n    if (newUser != null) {\n        ref\n            .read(usersNotifierProvider.notifier)\n            .updateuserID(newUser.user!.uid);\n        ref\n            .read(usersNotifierProvider.notifier)\n            .updateEmail(newUser.user!.email!);\n\n        /// Send the email verification\n        Navigator.of(context).pushReplacement(MaterialPageRoute(\n            builder: (context) =&gt; const VerifyEmailScreen()));\n    } else {\n      setState(() {\n        registrationFail = true;\n      });\n    }\n    setState(() {\n      showSpinner = false;\n    });\n  } on FirebaseAuthException catch (error) {\n    switch (error.code) {\n      case &quot;ERROR_INVALID_EMAIL&quot;:\n      case &quot;invalid-email&quot;:\n        errorMessage =\n            &quot;Your email address appears to be malformed.&quot;;\n        break;\n      case &quot;email-already-in-use&quot;:\n        errorMessage = &quot;Email is already in use.&quot;;\n        break;\n      case &quot;ERROR_WRONG_PASSWORD&quot;:\n      case &quot;wrong-password&quot;:\n        errorMessage = &quot;Your password is wrong.&quot;;\n        break;\n      case &quot;weak-password&quot;:\n        errorMessage = &quot;Weak password&quot;;\n        break;\n      case &quot;ERROR_USER_NOT_FOUND&quot;:\n      case &quot;user-not-found&quot;:\n        errorMessage = &quot;User with this email doesn't exist.&quot;;\n        break;\n      case &quot;ERROR_USER_DISABLED&quot;:\n      case &quot;user-disabled&quot;:\n        errorMessage =\n            &quot;User with this email has been disabled.&quot;;\n        break;\n      case &quot;ERROR_TOO_MANY_REQUESTS&quot;:\n      case &quot;too-many-requests&quot;:\n        errorMessage = &quot;Too many requests. Try again later.&quot;;\n        break;\n      case &quot;ERROR_OPERATION_NOT_ALLOWED&quot;:\n      case &quot;operation-not-allowed&quot;:\n        errorMessage =\n            &quot;Signing in with Email and Password is not enabled.&quot;;\n        break;\n      default:\n        errorMessage =\n            &quot;An undefined Error happened. Please try again.&quot;;\n    }\n\n    if (errorMessage != &quot;&quot;) {\n      ScaffoldMessenger.of(context).showSnackBar((SnackBar(\n        content: Center(\n          child: Text(\n            errorMessage,\n            style: const TextStyle(\n                color: Colors.black,\n                fontWeight: FontWeight.w900),\n          ),\n        ),\n        behavior: SnackBarBehavior.floating,\n        margin: EdgeInsets.only(\n          bottom: MediaQuery.of(context).size.height - 100,\n          left: 10,\n          right: 10,\n        ),\n        backgroundColor: Colors.redAccent,\n      )\n      )\n      ); \n    }\n  }\n}\n</code></pre>\n<p>How do I create a class for this?\nThanks</p>\n",
        "codigo": [
            "try/catch",
            "await",
            "class RegisterUser {\n  final _auth = FirebaseAuth.instance;\n  bool registrationFail = false;\n  String errorMessage = \"\";\n\n  try {\n    final newUser = await _auth.createUserWithEmailAndPassword(\n        email: widget.email, password: widget.password);\n    if (newUser != null) {\n        ref\n            .read(usersNotifierProvider.notifier)\n            .updateuserID(newUser.user!.uid);\n        ref\n            .read(usersNotifierProvider.notifier)\n            .updateEmail(newUser.user!.email!);\n\n        /// Send the email verification\n        Navigator.of(context).pushReplacement(MaterialPageRoute(\n            builder: (context) => const VerifyEmailScreen()));\n    } else {\n      setState(() {\n        registrationFail = true;\n      });\n    }\n    setState(() {\n      showSpinner = false;\n    });\n  } on FirebaseAuthException catch (error) {\n    switch (error.code) {\n      case \"ERROR_INVALID_EMAIL\":\n      case \"invalid-email\":\n        errorMessage =\n            \"Your email address appears to be malformed.\";\n        break;\n      case \"email-already-in-use\":\n        errorMessage = \"Email is already in use.\";\n        break;\n      case \"ERROR_WRONG_PASSWORD\":\n      case \"wrong-password\":\n        errorMessage = \"Your password is wrong.\";\n        break;\n      case \"weak-password\":\n        errorMessage = \"Weak password\";\n        break;\n      case \"ERROR_USER_NOT_FOUND\":\n      case \"user-not-found\":\n        errorMessage = \"User with this email doesn't exist.\";\n        break;\n      case \"ERROR_USER_DISABLED\":\n      case \"user-disabled\":\n        errorMessage =\n            \"User with this email has been disabled.\";\n        break;\n      case \"ERROR_TOO_MANY_REQUESTS\":\n      case \"too-many-requests\":\n        errorMessage = \"Too many requests. Try again later.\";\n        break;\n      case \"ERROR_OPERATION_NOT_ALLOWED\":\n      case \"operation-not-allowed\":\n        errorMessage =\n            \"Signing in with Email and Password is not enabled.\";\n        break;\n      default:\n        errorMessage =\n            \"An undefined Error happened. Please try again.\";\n    }\n\n    if (errorMessage != \"\") {\n      ScaffoldMessenger.of(context).showSnackBar((SnackBar(\n        content: Center(\n          child: Text(\n            errorMessage,\n            style: const TextStyle(\n                color: Colors.black,\n                fontWeight: FontWeight.w900),\n          ),\n        ),\n        behavior: SnackBarBehavior.floating,\n        margin: EdgeInsets.only(\n          bottom: MediaQuery.of(context).size.height - 100,\n          left: 10,\n          right: 10,\n        ),\n        backgroundColor: Colors.redAccent,\n      )\n      )\n      ); \n    }\n  }\n}\n"
        ]
    },
    {
        "titulo": "Issue with updating cart total in flutter/dart app",
        "score": 0,
        "views": 82,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "oop"
        ],
        "link": "https://stackoverflow.com/questions/78873202/issue-with-updating-cart-total-in-flutter-dart-app",
        "conteudo_html": "<p>I'm making a cart page for my e-commerce app, when I try to print out the total of the items in the cart on the debug console it prints out the expected result even after increasing/decreasing the quantity of items,  but in the UI  the total amount doesnt update accordingly when i click on the decrease/increase quantity button. E.g let's say the total of my item is $2222, the total will display that number but when increase the quantity of the item to 2 nothing happens even though the quantity of the item has changed, then when i click it after that the total amount updates this time but then the calculation will be wrong because it didnt calculate the total when the quantity of the item was at 2.</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'package:watch_hub/models/cart.dart';\nimport 'package:watch_hub/services/database.dart';\n\nclass GetPrice {\n//I USE THIS STATIC VARIABLE TO ASSIGN THE TOTAL TO IT AND DISPLAY IN THE CART PAGE\n  static num price = 0;\n}\n\nclass CartList extends StatefulWidget {\n  const CartList({super.key});\n\n  @override\n  State&lt;CartList&gt; createState() =&gt; _CartListState();\n}\n\nclass _CartListState extends State&lt;CartList&gt; {\n  int? counter;\n  static int? price;\n  @override\n  Widget build(BuildContext context) {\n    final cart = Provider.of&lt;List&lt;Cart&gt;&gt;(context);\n    double maxWidth = MediaQuery.sizeOf(context).width;\n\n    List totalPriceList = [];\n  \n    // cart.sort();\n\n    cart.forEach((cart) {\n      print(&quot;cart model is ${cart.brand}&quot;);\n    });\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(&quot;Cart&quot;),\n      ),\n      body: ListView.builder(\n        itemCount: cart.length,\n        itemBuilder: (\n          context,\n          index,\n        ) {\n          int? price;\n          int? initialQuantity = cart[index].quantity;\n          GetPrice.quantity = cart[index].quantity;\n          totalPriceList.add(cart[index].price! * cart[index].quantity!);\n\n          totalPriceList.reduce((value, element) {\n            GetPrice.price = element + value;\n          });\n\n       //WHEN I PRINT THIS I GET THE EXPECTED RESULT EVEN AFTER CHANGING QUANTITIES IT OUTPUTS THE CORRECT RESULT EVERYTIME\n          print(&quot;total is ${GetPrice.price.toString()}&quot;);\n\n          return Column(\n            children: [\n              Container(\n                // height: 50,\n                child: ListTile(\n                    leading: CircleAvatar(\n                      backgroundImage: NetworkImage(\n                        cart[index].image!,\n                      ),\n                    ),\n                    title: Text(\n                      cart[index].model!,\n                      style: TextStyle(fontSize: 20),\n                    ),\n                    subtitle: Text(\n                      cart[index].brand!,\n                      style: TextStyle(fontSize: 20),\n                    ),\n                    trailing: Row(\n                      mainAxisSize: MainAxisSize.min,\n                      children: [\n                        IconButton.filled(\n                          style:\n                              IconButton.styleFrom(backgroundColor: Colors.red),\n                          onPressed: () {\n                            setState(() {\n                              cart[index].quantity = cart[index].quantity! - 1;\n                            });\n                          },\n                          icon: Icon(Icons.remove),\n                        ),\n                        Column(\n                          children: [\n                            Text(\n                              cart[index].price.toString(),\n                              style: TextStyle(fontSize: 20),\n                            ),\n                            Text(\n                              &quot;QTY: ${cart[index].quantity.toString()}&quot;,\n                              style: TextStyle(fontSize: 16),\n                            )\n                          ],\n                        ),\n                        IconButton.filled(\n                          style: IconButton.styleFrom(\n                              backgroundColor: Colors.green),\n                          onPressed: () {\n                            setState(() {\n                              cart[index].quantity = cart[index].quantity! + 1;\n                           \n                            });\n                            // print(&quot;total is $price&quot;);\n                          },\n                          icon: Icon(Icons.add),\n                        ),\n                      ],\n                    )),\n              ),\n            ],\n          );\n        },\n      ),\n      bottomSheet: Container(\n        height: 130,\n        color: Colors.brown[400],\n        child: Column(\n          children: &lt;Widget&gt;[\n            Row(\n              mainAxisAlignment: MainAxisAlignment.spaceBetween,\n              children: &lt;Widget&gt;[\n                const Padding(\n                  padding: EdgeInsets.all(8.0),\n                  child: Text(\n                    &quot;Total &quot;,\n                    style: TextStyle(fontSize: 25, color: Colors.white),\n                  ),\n                ),\n                Padding(\n                  padding: EdgeInsets.all(8.0),\n                //THIS IS WHERE I DISPLAY THE TOTAL IN THE CART PAGE\n                  child: Text(\n                    &quot;\\$${GetPrice.price.toString()}&quot;,\n                    style: const TextStyle(fontSize: 25, color: Colors.white),\n                  ),\n                ),\n              ],\n            ),\n            Row(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: [\n                SizedBox(\n                  width: 200,\n                  child: FloatingActionButton(\n                    onPressed: () {},\n                    child: Text(&quot;Make Order&quot;),\n                  ),\n                )\n              ],\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n",
        "codigo": [
            "import 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'package:watch_hub/models/cart.dart';\nimport 'package:watch_hub/services/database.dart';\n\nclass GetPrice {\n//I USE THIS STATIC VARIABLE TO ASSIGN THE TOTAL TO IT AND DISPLAY IN THE CART PAGE\n  static num price = 0;\n}\n\nclass CartList extends StatefulWidget {\n  const CartList({super.key});\n\n  @override\n  State<CartList> createState() => _CartListState();\n}\n\nclass _CartListState extends State<CartList> {\n  int? counter;\n  static int? price;\n  @override\n  Widget build(BuildContext context) {\n    final cart = Provider.of<List<Cart>>(context);\n    double maxWidth = MediaQuery.sizeOf(context).width;\n\n    List totalPriceList = [];\n  \n    // cart.sort();\n\n    cart.forEach((cart) {\n      print(\"cart model is ${cart.brand}\");\n    });\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(\"Cart\"),\n      ),\n      body: ListView.builder(\n        itemCount: cart.length,\n        itemBuilder: (\n          context,\n          index,\n        ) {\n          int? price;\n          int? initialQuantity = cart[index].quantity;\n          GetPrice.quantity = cart[index].quantity;\n          totalPriceList.add(cart[index].price! * cart[index].quantity!);\n\n          totalPriceList.reduce((value, element) {\n            GetPrice.price = element + value;\n          });\n\n       //WHEN I PRINT THIS I GET THE EXPECTED RESULT EVEN AFTER CHANGING QUANTITIES IT OUTPUTS THE CORRECT RESULT EVERYTIME\n          print(\"total is ${GetPrice.price.toString()}\");\n\n          return Column(\n            children: [\n              Container(\n                // height: 50,\n                child: ListTile(\n                    leading: CircleAvatar(\n                      backgroundImage: NetworkImage(\n                        cart[index].image!,\n                      ),\n                    ),\n                    title: Text(\n                      cart[index].model!,\n                      style: TextStyle(fontSize: 20),\n                    ),\n                    subtitle: Text(\n                      cart[index].brand!,\n                      style: TextStyle(fontSize: 20),\n                    ),\n                    trailing: Row(\n                      mainAxisSize: MainAxisSize.min,\n                      children: [\n                        IconButton.filled(\n                          style:\n                              IconButton.styleFrom(backgroundColor: Colors.red),\n                          onPressed: () {\n                            setState(() {\n                              cart[index].quantity = cart[index].quantity! - 1;\n                            });\n                          },\n                          icon: Icon(Icons.remove),\n                        ),\n                        Column(\n                          children: [\n                            Text(\n                              cart[index].price.toString(),\n                              style: TextStyle(fontSize: 20),\n                            ),\n                            Text(\n                              \"QTY: ${cart[index].quantity.toString()}\",\n                              style: TextStyle(fontSize: 16),\n                            )\n                          ],\n                        ),\n                        IconButton.filled(\n                          style: IconButton.styleFrom(\n                              backgroundColor: Colors.green),\n                          onPressed: () {\n                            setState(() {\n                              cart[index].quantity = cart[index].quantity! + 1;\n                           \n                            });\n                            // print(\"total is $price\");\n                          },\n                          icon: Icon(Icons.add),\n                        ),\n                      ],\n                    )),\n              ),\n            ],\n          );\n        },\n      ),\n      bottomSheet: Container(\n        height: 130,\n        color: Colors.brown[400],\n        child: Column(\n          children: <Widget>[\n            Row(\n              mainAxisAlignment: MainAxisAlignment.spaceBetween,\n              children: <Widget>[\n                const Padding(\n                  padding: EdgeInsets.all(8.0),\n                  child: Text(\n                    \"Total \",\n                    style: TextStyle(fontSize: 25, color: Colors.white),\n                  ),\n                ),\n                Padding(\n                  padding: EdgeInsets.all(8.0),\n                //THIS IS WHERE I DISPLAY THE TOTAL IN THE CART PAGE\n                  child: Text(\n                    \"\\$${GetPrice.price.toString()}\",\n                    style: const TextStyle(fontSize: 25, color: Colors.white),\n                  ),\n                ),\n              ],\n            ),\n            Row(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: [\n                SizedBox(\n                  width: 200,\n                  child: FloatingActionButton(\n                    onPressed: () {},\n                    child: Text(\"Make Order\"),\n                  ),\n                )\n              ],\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "How to make Dialog content take up minimum space, like in bottom sheets?",
        "score": 0,
        "views": 47,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "user-interface"
        ],
        "link": "https://stackoverflow.com/questions/78859807/how-to-make-dialog-content-take-up-minimum-space-like-in-bottom-sheets",
        "conteudo_html": "<p>I am trying to show some scrollable content in either a dialog or bottom sheet depending on screen size. In the bottom sheet, the children widgets correctly takes up the minimum amount of space needed, i.e. the bottom sheet has the same height as the content. However, in the Dialog, the children widgets and thus the Dialog itself are always as big as possible regardless of whether the widgets need that much space, taking up the whole screen.</p>\n<p>Screenshot of bottom sheet behaviour:\n<a href=\"https://i.sstatic.net/A2xSv28J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/A2xSv28J.png\" alt=\"The bottom sheet is automatically resized to take up minimum space -- desirable\" /></a></p>\n<p>Screenshot of dialog behaviour:\n<a href=\"https://i.sstatic.net/t39x3ayf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/t39x3ayf.png\" alt=\"The dialog always takes up as much space as possible -- undesirable\" /></a></p>\n<pre class=\"lang-dart prettyprint-override\"><code>// Doesn't work as expected (used in showDialog())\nclass GutHealthScoreDialog extends StatelessWidget {\n  static List&lt;Widget&gt; widgets(\n      BuildContext context) {\n    final report = Report.of(context);\n    return [\n      Row(\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: [\n          for (var (ecologicalParameter, value)\n              in report.ecologicalParameterList)\n            Expanded(\n              child: StatisticsCardMedium(\n                title: ecologicalParameter,\n                value: value,\n                quantifier: &quot;%&quot;,\n              ),\n            )\n        ],\n      ),\n    ];\n  }\n\n  const GutHealthScoreDialog({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return DismissibleDialog(\n        child: PageContent(\n      title: &quot;Gut Health Score&quot;.i18n,\n      safeAreaTop: false,\n      children: widgets(context),\n    ));\n  }\n}\n\n// Works as expected (used in showModalBottomSheet())\nclass GutHealthScoreSheet extends StatelessWidget {\n  const GutHealthScoreSheet({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return PageContent(\n      title: &quot;Gut Health Score&quot;.i18n,\n      safeAreaTop: false,\n      safeAreaBottom: true,\n      children: GutHealthScoreDialog.widgets(context),\n    );\n  }\n}\n\nclass DismissibleDialog extends StatelessWidget {\n  const DismissibleDialog({super.key, required this.child});\n\n  final Widget child;\n\n  @override\n  Widget build(BuildContext context) {\n    var dialogContext = context;\n    return Dialog(\n      clipBehavior: Clip.hardEdge,\n      child: Stack(\n        children: [\n          child,\n          Align(\n            alignment: Alignment.topRight,\n            child: Padding(\n              padding: spacious,\n              child: CloseButton(\n                style: ButtonStyle(\n                    backgroundColor: WidgetStatePropertyAll(\n                        Theme.of(context).colorScheme.surfaceContainerHigh)),\n                onPressed: pop(dialogContext),\n              ),\n            ),\n          )\n        ],\n      ),\n    );\n  }\n}\n\nclass PageContent extends StatelessWidget {\n  final String? title;\n  final Widget? titleWidget;\n  final EdgeInsets? titlePadding;\n  final List&lt;Widget&gt; children;\n  final EdgeInsets? padding;\n  final MainAxisSize columnSize;\n  final MainAxisAlignment verticalAlignment;\n  final CrossAxisAlignment horizontalAlignment;\n  final bool safeAreaTop;\n  final bool safeAreaBottom;\n  final bool scrollable;\n\n  const PageContent(\n      {super.key,\n      this.title,\n      this.children = const [],\n      this.padding,\n      this.titlePadding,\n      this.verticalAlignment = MainAxisAlignment.start,\n      this.horizontalAlignment = CrossAxisAlignment.center,\n      this.columnSize = MainAxisSize.max,\n      this.safeAreaTop = true,\n      this.scrollable = true,\n      this.safeAreaBottom = false})\n      : titleWidget = null;\n\n  const PageContent.withTitleWidget(\n      {super.key,\n      this.titleWidget,\n      this.titlePadding,\n      this.children = const [],\n      this.padding,\n      this.verticalAlignment = MainAxisAlignment.start,\n      this.horizontalAlignment = CrossAxisAlignment.center,\n      this.columnSize = MainAxisSize.max,\n      this.safeAreaTop = true,\n      this.scrollable = true,\n      this.safeAreaBottom = false})\n      : title = null;\n\n  @override\n  Widget build(BuildContext context) {\n    return SafeArea(\n        top: safeAreaTop,\n        bottom: safeAreaBottom,\n        child: scrollable\n            ? SingleChildScrollView(\n                child: Column(\n                  mainAxisAlignment: verticalAlignment,\n                  crossAxisAlignment: horizontalAlignment,\n                  mainAxisSize: columnSize,\n            children: [\n              titleWidget != null\n                  ? PageTitle.withTitleWidget(\n                      titleWidget,\n                      padding: titlePadding,\n                    )\n                  : title != null\n                      ? PageTitle(\n                          title,\n                          padding: titlePadding,\n                        )\n                      : const SizedBox.shrink(),\n              for (var child in children)\n                Padding(\n                  padding: padding != null\n                      ? padding!\n                      : comfortableListChildren,\n                  child: child,\n                ),\n            ],\n                ),\n              )\n            : Column(\n                mainAxisAlignment: verticalAlignment,\n                crossAxisAlignment: horizontalAlignment,\n                mainAxisSize: columnSize,\n                children: [\n                  titleWidget != null\n                      ? PageTitle.withTitleWidget(\n                          titleWidget,\n                          padding: titlePadding,\n                        )\n                      : title != null\n                          ? PageTitle(\n                              title,\n                              padding: titlePadding,\n                            )\n                          : const SizedBox.shrink(),\n                  for (var child in children)\n                    Padding(\n                      padding:\n                          padding != null ? padding! : comfortableListChildren,\n                      child: child,\n                    ),\n                ],\n              ));\n  }\n}\n</code></pre>\n",
        "codigo": [
            "// Doesn't work as expected (used in showDialog())\nclass GutHealthScoreDialog extends StatelessWidget {\n  static List<Widget> widgets(\n      BuildContext context) {\n    final report = Report.of(context);\n    return [\n      Row(\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: [\n          for (var (ecologicalParameter, value)\n              in report.ecologicalParameterList)\n            Expanded(\n              child: StatisticsCardMedium(\n                title: ecologicalParameter,\n                value: value,\n                quantifier: \"%\",\n              ),\n            )\n        ],\n      ),\n    ];\n  }\n\n  const GutHealthScoreDialog({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return DismissibleDialog(\n        child: PageContent(\n      title: \"Gut Health Score\".i18n,\n      safeAreaTop: false,\n      children: widgets(context),\n    ));\n  }\n}\n\n// Works as expected (used in showModalBottomSheet())\nclass GutHealthScoreSheet extends StatelessWidget {\n  const GutHealthScoreSheet({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return PageContent(\n      title: \"Gut Health Score\".i18n,\n      safeAreaTop: false,\n      safeAreaBottom: true,\n      children: GutHealthScoreDialog.widgets(context),\n    );\n  }\n}\n\nclass DismissibleDialog extends StatelessWidget {\n  const DismissibleDialog({super.key, required this.child});\n\n  final Widget child;\n\n  @override\n  Widget build(BuildContext context) {\n    var dialogContext = context;\n    return Dialog(\n      clipBehavior: Clip.hardEdge,\n      child: Stack(\n        children: [\n          child,\n          Align(\n            alignment: Alignment.topRight,\n            child: Padding(\n              padding: spacious,\n              child: CloseButton(\n                style: ButtonStyle(\n                    backgroundColor: WidgetStatePropertyAll(\n                        Theme.of(context).colorScheme.surfaceContainerHigh)),\n                onPressed: pop(dialogContext),\n              ),\n            ),\n          )\n        ],\n      ),\n    );\n  }\n}\n\nclass PageContent extends StatelessWidget {\n  final String? title;\n  final Widget? titleWidget;\n  final EdgeInsets? titlePadding;\n  final List<Widget> children;\n  final EdgeInsets? padding;\n  final MainAxisSize columnSize;\n  final MainAxisAlignment verticalAlignment;\n  final CrossAxisAlignment horizontalAlignment;\n  final bool safeAreaTop;\n  final bool safeAreaBottom;\n  final bool scrollable;\n\n  const PageContent(\n      {super.key,\n      this.title,\n      this.children = const [],\n      this.padding,\n      this.titlePadding,\n      this.verticalAlignment = MainAxisAlignment.start,\n      this.horizontalAlignment = CrossAxisAlignment.center,\n      this.columnSize = MainAxisSize.max,\n      this.safeAreaTop = true,\n      this.scrollable = true,\n      this.safeAreaBottom = false})\n      : titleWidget = null;\n\n  const PageContent.withTitleWidget(\n      {super.key,\n      this.titleWidget,\n      this.titlePadding,\n      this.children = const [],\n      this.padding,\n      this.verticalAlignment = MainAxisAlignment.start,\n      this.horizontalAlignment = CrossAxisAlignment.center,\n      this.columnSize = MainAxisSize.max,\n      this.safeAreaTop = true,\n      this.scrollable = true,\n      this.safeAreaBottom = false})\n      : title = null;\n\n  @override\n  Widget build(BuildContext context) {\n    return SafeArea(\n        top: safeAreaTop,\n        bottom: safeAreaBottom,\n        child: scrollable\n            ? SingleChildScrollView(\n                child: Column(\n                  mainAxisAlignment: verticalAlignment,\n                  crossAxisAlignment: horizontalAlignment,\n                  mainAxisSize: columnSize,\n            children: [\n              titleWidget != null\n                  ? PageTitle.withTitleWidget(\n                      titleWidget,\n                      padding: titlePadding,\n                    )\n                  : title != null\n                      ? PageTitle(\n                          title,\n                          padding: titlePadding,\n                        )\n                      : const SizedBox.shrink(),\n              for (var child in children)\n                Padding(\n                  padding: padding != null\n                      ? padding!\n                      : comfortableListChildren,\n                  child: child,\n                ),\n            ],\n                ),\n              )\n            : Column(\n                mainAxisAlignment: verticalAlignment,\n                crossAxisAlignment: horizontalAlignment,\n                mainAxisSize: columnSize,\n                children: [\n                  titleWidget != null\n                      ? PageTitle.withTitleWidget(\n                          titleWidget,\n                          padding: titlePadding,\n                        )\n                      : title != null\n                          ? PageTitle(\n                              title,\n                              padding: titlePadding,\n                            )\n                          : const SizedBox.shrink(),\n                  for (var child in children)\n                    Padding(\n                      padding:\n                          padding != null ? padding! : comfortableListChildren,\n                      child: child,\n                    ),\n                ],\n              ));\n  }\n}\n"
        ]
    },
    {
        "titulo": "Opening new screen is not being executed",
        "score": 0,
        "views": 37,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "stripe-payments"
        ],
        "link": "https://stackoverflow.com/questions/78859644/opening-new-screen-is-not-being-executed",
        "conteudo_html": "<p>I have a Flutter app that I want to add Stripe to so I can charge users. I have added Stripe to the registration page so when a new user registers, they can enter their payment information.</p>\n<p>Here is the code where I try to go to the Stripe screen:</p>\n<pre><code> onPressed: () async {\n                    setState(() {\n                      showSpinner = true;\n                    });\n                    try {\n\n                      final newUser =\n                          await _auth.createUserWithEmailAndPassword(\n                              email: email, password: password);\n                      if (newUser != null) {\n                        \n                        Navigator.of(context).pushReplacement(MaterialPageRoute(\n                            builder: (context) =&gt; const StripePaymentScreen()));\n\n                        Navigator.of(context).pushReplacement(MaterialPageRoute(\n                            builder: (context) =&gt; const VerifyEmailScreen()));\n                      } else {\n                        setState(() {\n                          registrationFail = true;\n                        });\n                      }\n                      setState(() {\n                        showSpinner = false;\n                      });\n                    } on FirebaseAuthException catch (error) {\n</code></pre>\n<p>So, if the user account for the app is created successfully, I want to go to the Stripe screen but it executes the code but the screen does not display. I want the Stripe screen to display, let the user enter their information, and then the code can proceed and sent the verification email.</p>\n<p>What am I doing wrong?</p>\n<p>Here is the Stripe code:</p>\n<pre><code>class StripePaymentScreen extends StatefulWidget {\n  const StripePaymentScreen({super.key});\n\n  @override\n  _StripePaymentScreenState createState() =&gt; _StripePaymentScreenState();\n}\n\nclass _StripePaymentScreenState extends State&lt;StripePaymentScreen&gt; {\n  Map&lt;String, dynamic&gt;? paymentIntent;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Stripe Payment'),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: [\n            TextButton(\n              child: const Text('Make Payment'),\n              onPressed: () async {\n                await makePayment();\n                Navigator.pop(context); // return to User Registration Screen\n              },\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n\n  Future&lt;void&gt; makePayment() async {\n    try {\n      paymentIntent = await createPaymentIntent('100', 'USD');\n\n      //STEP 2: Initialize Payment Sheet\n      await Stripe.instance\n          .initPaymentSheet(\n              paymentSheetParameters: SetupPaymentSheetParameters(\n                  paymentIntentClientSecret: paymentIntent![\n                      'client_secret'], //Gotten from payment intent\n                  style: ThemeMode.dark,\n                  merchantDisplayName: 'Ikay'))\n          .then((value) {});\n\n      //STEP 3: Display Payment sheet\n      displayPaymentSheet();\n    } catch (err) {\n      throw Exception(err);\n    }\n  }\n\n  displayPaymentSheet() async {\n    try {\n      await Stripe.instance.presentPaymentSheet().then((value) {\n        showDialog(\n            context: context,\n            builder: (_) =&gt; const AlertDialog(\n                  content: Column(\n                    mainAxisSize: MainAxisSize.min,\n                    children: [\n                      Icon(\n                        Icons.check_circle,\n                        color: Colors.green,\n                        size: 100.0,\n                      ),\n                      SizedBox(height: 10.0),\n                      Text(&quot;Payment Successful!&quot;),\n                    ],\n                  ),\n                ));\n\n        paymentIntent = null;\n      }).onError((error, stackTrace) {\n        throw Exception(error);\n      });\n    } on StripeException catch (e) {\n      //print('Error is:---&gt; $e');\n      const AlertDialog(\n        content: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: [\n            Row(\n              children: [\n                Icon(\n                  Icons.cancel,\n                  color: Colors.red,\n                ),\n                Text(&quot;Payment Failed&quot;),\n              ],\n            ),\n          ],\n        ),\n      );\n    } catch (e) {\n      print('$e');\n    }\n  }\n\n  createPaymentIntent(String amount, String currency) async {\n    try {\n      //Request body\n      Map&lt;String, dynamic&gt; body = {\n        'amount': calculateAmount(amount),\n        'currency': currency,\n      };\n\n      //Make post request to Stripe\n      var response = await http.post(\n        Uri.parse('https://api.stripe.com/v1/payment_intents'),\n        headers: {\n          'Authorization': 'Bearer ${dotenv.env['STRIPE_SECRET']}',\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: body,\n      );\n      return json.decode(response.body);\n    } catch (err) {\n      throw Exception(err.toString());\n    }\n  }\n\n  calculateAmount(String amount) {\n    final calculatedAmout = (int.parse(amount)) * 100;\n    return calculatedAmout.toString();\n  }\n}\n</code></pre>\n",
        "codigo": [
            " onPressed: () async {\n                    setState(() {\n                      showSpinner = true;\n                    });\n                    try {\n\n                      final newUser =\n                          await _auth.createUserWithEmailAndPassword(\n                              email: email, password: password);\n                      if (newUser != null) {\n                        \n                        Navigator.of(context).pushReplacement(MaterialPageRoute(\n                            builder: (context) => const StripePaymentScreen()));\n\n                        Navigator.of(context).pushReplacement(MaterialPageRoute(\n                            builder: (context) => const VerifyEmailScreen()));\n                      } else {\n                        setState(() {\n                          registrationFail = true;\n                        });\n                      }\n                      setState(() {\n                        showSpinner = false;\n                      });\n                    } on FirebaseAuthException catch (error) {\n",
            "class StripePaymentScreen extends StatefulWidget {\n  const StripePaymentScreen({super.key});\n\n  @override\n  _StripePaymentScreenState createState() => _StripePaymentScreenState();\n}\n\nclass _StripePaymentScreenState extends State<StripePaymentScreen> {\n  Map<String, dynamic>? paymentIntent;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Stripe Payment'),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: [\n            TextButton(\n              child: const Text('Make Payment'),\n              onPressed: () async {\n                await makePayment();\n                Navigator.pop(context); // return to User Registration Screen\n              },\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n\n  Future<void> makePayment() async {\n    try {\n      paymentIntent = await createPaymentIntent('100', 'USD');\n\n      //STEP 2: Initialize Payment Sheet\n      await Stripe.instance\n          .initPaymentSheet(\n              paymentSheetParameters: SetupPaymentSheetParameters(\n                  paymentIntentClientSecret: paymentIntent![\n                      'client_secret'], //Gotten from payment intent\n                  style: ThemeMode.dark,\n                  merchantDisplayName: 'Ikay'))\n          .then((value) {});\n\n      //STEP 3: Display Payment sheet\n      displayPaymentSheet();\n    } catch (err) {\n      throw Exception(err);\n    }\n  }\n\n  displayPaymentSheet() async {\n    try {\n      await Stripe.instance.presentPaymentSheet().then((value) {\n        showDialog(\n            context: context,\n            builder: (_) => const AlertDialog(\n                  content: Column(\n                    mainAxisSize: MainAxisSize.min,\n                    children: [\n                      Icon(\n                        Icons.check_circle,\n                        color: Colors.green,\n                        size: 100.0,\n                      ),\n                      SizedBox(height: 10.0),\n                      Text(\"Payment Successful!\"),\n                    ],\n                  ),\n                ));\n\n        paymentIntent = null;\n      }).onError((error, stackTrace) {\n        throw Exception(error);\n      });\n    } on StripeException catch (e) {\n      //print('Error is:---> $e');\n      const AlertDialog(\n        content: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: [\n            Row(\n              children: [\n                Icon(\n                  Icons.cancel,\n                  color: Colors.red,\n                ),\n                Text(\"Payment Failed\"),\n              ],\n            ),\n          ],\n        ),\n      );\n    } catch (e) {\n      print('$e');\n    }\n  }\n\n  createPaymentIntent(String amount, String currency) async {\n    try {\n      //Request body\n      Map<String, dynamic> body = {\n        'amount': calculateAmount(amount),\n        'currency': currency,\n      };\n\n      //Make post request to Stripe\n      var response = await http.post(\n        Uri.parse('https://api.stripe.com/v1/payment_intents'),\n        headers: {\n          'Authorization': 'Bearer ${dotenv.env['STRIPE_SECRET']}',\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: body,\n      );\n      return json.decode(response.body);\n    } catch (err) {\n      throw Exception(err.toString());\n    }\n  }\n\n  calculateAmount(String amount) {\n    final calculatedAmout = (int.parse(amount)) * 100;\n    return calculatedAmout.toString();\n  }\n}\n"
        ]
    },
    {
        "titulo": "Flutter , stream letters to a single sentence",
        "score": 0,
        "views": 59,
        "respostas": 1,
        "tags": [
            "string",
            "flutter",
            "dart",
            "stream",
            "stringbuffer"
        ],
        "link": "https://stackoverflow.com/questions/78840338/flutter-stream-letters-to-a-single-sentence",
        "conteudo_html": "<p>I'm getting a stream of words from server. The objective is to combine the words into a single sentence dynamically. Now what happens is as follows, the values are appended, but the entire string is duplicated whenever a new letter is added.</p>\n<pre><code>eg: hi , how are you ?  // stream of words or letters\n\n\n\nExpected : hi, how are you?\n</code></pre>\n<p>what im getting is as follows</p>\n<pre><code>hi\nhi,\nhi, how\nhi, how are\nhi, how are you\nhi, how are you ?\n</code></pre>\n<p>My objective is dynamically add this to a string so i can pass that to the ui to render</p>\n<pre><code>StringBuffer buffer = StringBuffer();\nString newPart = '';\n\nsubscription = _channel.stream.listen(\n    (message) {\n      final actualMessage = message['message']; // from where i get data or values\n      if (actualMessage != 'END') {\n        newPart += actualMessage;\n        buffer.clear();\n        buffer.write(newPart);\n        debugPrint(buffer.toString().trim());\n        add(UiEvent.response(\n            message: buffer.toString().trim()));\n      }\n    },\n    onError: (error) {\n      debugPrint(&quot;stream Error $error&quot;);\n    },\n  );\n</code></pre>\n<p>i need to dynamically append data and send it to ui. what am i missing? how can i implement this correctly?</p>\n",
        "codigo": [
            "eg: hi , how are you ?  // stream of words or letters\n\n\n\nExpected : hi, how are you?\n",
            "hi\nhi,\nhi, how\nhi, how are\nhi, how are you\nhi, how are you ?\n",
            "StringBuffer buffer = StringBuffer();\nString newPart = '';\n\nsubscription = _channel.stream.listen(\n    (message) {\n      final actualMessage = message['message']; // from where i get data or values\n      if (actualMessage != 'END') {\n        newPart += actualMessage;\n        buffer.clear();\n        buffer.write(newPart);\n        debugPrint(buffer.toString().trim());\n        add(UiEvent.response(\n            message: buffer.toString().trim()));\n      }\n    },\n    onError: (error) {\n      debugPrint(\"stream Error $error\");\n    },\n  );\n"
        ]
    },
    {
        "titulo": "Verify in Python created digital signature (library rsa, SHA256, PKS1) using Dart (PointyCastle)",
        "score": 0,
        "views": 96,
        "respostas": 0,
        "tags": [
            "python",
            "dart",
            "rsa",
            "digital-signature",
            "pointycastle"
        ],
        "link": "https://stackoverflow.com/questions/78839672/verify-in-python-created-digital-signature-library-rsa-sha256-pks1-using-dar",
        "conteudo_html": "<p>`Hello everyone!\nI have the following problem: For a project I need to digitally encrypt data (a string) in Python and verify the digital signature in Dart (Flutter). My approach so far:\nPython: Library 'rsa' , keypair in PEM format created with OpenSSL</p>\n<ul>\n<li>PKS#1 version 1.5</li>\n<li>hash method SHA-256</li>\n</ul>\n<p>Dart: Library PointyCastle with, as far as I know, the same configuration (PKS1 and SHA-256)</p>\n<p>Unfortunately, I just can't get my signature created in Python to be checked in Dart. When I try to convert the signatures into the same format, I always get the result that they do not match.</p>\n<p>Does anyone have an idea? Or an alternative solution?</p>\n<p>Thank you very much in advance!! :))</p>\n<p>Python Code:</p>\n<pre><code>import rsa\n\nprivate_key_data = b'''-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAsX6ZR0quM+PYPzni6f0EjUGu/3ccRfJUbTfV+iaEeLF5dbba\nEBy912EPGa9V6SRT4aXvEzo5KT9qrekFX9ETLqaYaiKUy6NwswLDi8e6hhCGP+pU\nWhRV3dB9fYkqtKbp+WO6CWte2Y8bj2iYLAGGxJgqg7ejwFWs6oiWNfOzGwgFlJXv\nRQOB9z3BOsLmjxcnOLxf1Z9GIYAxyoowQHtEmimEDDQAOlvC0fG6EeKGRc+IZaFK\n9IIp1eOcT2vWO760j9UGMGNvh+S/BNrAvf8fUgf5+1F33S0HU0g9xZ2jfU1DQ/MC\nlwvI7pP8GY0jvWRwETwZ49tn4DCAmjfF/0OXqQIDAQABAoIBAHy+qSN9zSkS/SyS\nlnQ1KznL7B4HrItMYSHRmEWTRI8+zEp7FI82ZAY3ZNF8dTjCG2H/qSMuTHY859EK\ncIiC/KRQ2dXeMA1e9Roa2ywmV2VZv8C0BEy69g5LNadA/A6zMMXh3SI5oBPvjEMi\nE7D58anB+D9SlXfbvwemr0uD12Eq+a5aM58DWT5aFsjS2VAeHzgaATcmonEz23Wp\naOw5sODrD7jGvj+vGllo7DQp37ieN4ZL66KrxYlRlG4v0i8EXrc6wt9dOJEbybvR\n/JRHmUNomyLMvxoSImVm`your text`0NGmKSIy9Qc2tKKLNjoJRnvJ9kSSKbgqDh9lAPRX3gNG\nWcSyJgECgYEA5X/pyv+4D4VNV1Jlj+lwLTp3Olk9CRbBkttZQTJI0382sVnV+Mze\nYWcz65oQt5guj36sVmkL7rpe3znjep23LyCZHl/S3rdIG4NUzrfSJ+lVxTZn5fDv\ntaGhQMNuPDEoHQVSx58YXgZemPUwA6QhvYWIy+ZOXo3xsNQPcAHOADkCgYEAxf1l\ndKHUWXgfj6nW6aZjmG1sM1R0xV5j7vA7MMk4IIXAMo+9E1/8zWTxZdEL93AJJmhw\nOGHNd7ScseFrdFLIVCBejacUW0oyLTwM2J9rQGbXKeD97ICE7OWwvFsNN7gf85Du\nBT/Zfa+hlj9IujIoaBm4Bv76hsSrEVcyPtoccvECgYEAx5Dkn4ag6rYzG/TlpjAL\nQPkvRojlH2svZuHhCmWMmIVt7Oi+vTyBQFf6+Swez1fBXTx85iMwoiZka16uZiiR\na6TAIX6YIt1kEbCxZZTJZbVsxTJbRMOv3tSvIV8QE713MU04v6ekC9ckGYRUfUYT\npPdijlQ139k0y1yMFA0tslkCgYEAiMP0zG9pd3BCJQRGX9o/XDDiGEcT7q64S3qI\n+LdW3ShnTsX57yNURzGeix2vrXon5+8m7dupijIqN7omdxEkLvC5QBKVPkZviM29\ndfoRpUglA1nXLgLNT7OOtV4UMFQxRhfsQ5YKkAa9kUMf4vb48IgrljGWL3g1T2Iz\nZDVYh5ECgYA7vsI5z/zHcyCL0MvGxi19RE4kzs1YsXahNkJRlX00tueexfEXlRjB\ntAFCDlgUmW3fIBWhyUpgzNEMzGdEp43ehq6qvStoG4PJY5BW77oIY2OX1RZZfewE\nwBKrWCJxOx2eXKKfprmXGznnracY+60T/N+Ib2lKwoSk5eGkJizp2A==\n-----END RSA PRIVATE KEY-----'''\n\npublic_key_data = b'''-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsX6ZR0quM+PYPzni6f0E\njUGu/3ccRfJUbTfV+iaEeLF5dbbaEBy912EPGa9V6SRT4aXvEzo5KT9qrekFX9ET\nLqaYaiKUy6NwswLDi8e6hhCGP+pUWhRV3dB9fYkqtKbp+WO6CWte2Y8bj2iYLAGG\nxJgqg7ejwFWs6oiWNfOzGwgFlJXvRQOB9z3BOsLmjxcnOLxf1Z9GIYAxyoowQHtE\nmimEDDQAOlvC0fG6EeKGRc+IZaFK9IIp1eOcT2vWO760j9UGMGNvh+S/BNrAvf8f\nUgf5+1F33S0HU0g9xZ2jfU1DQ/MClwvI7pP8GY0jvWRwETwZ49tn4DCAmjfF/0OX\nqQIDAQAB\n-----END PUBLIC KEY-----'''\n\n# Load keys\nprivate_key = rsa.PrivateKey.load_pkcs1(private_key_data)\npublic_key = rsa.PublicKey.load_pkcs1_openssl_pem(public_key_data)\n\n\n# Message which should be signed\nmessage = &quot;H&quot;\nmessage_bytes = message.encode()\nprint(f'Data: {message_bytes}')\n\nsignature = rsa.sign(message_bytes, private_key, 'SHA-256')\n</code></pre>\n<p>Dart Code: (same keys)</p>\n<pre><code>import 'dart:convert' show utf8; \nimport 'dart:convert' show base64; \nimport 'dart:convert' show base64Decode; \nimport 'dart:typed_data';\nimport 'package:encrypt/encrypt.dart' show RSAKeyParser;\nimport 'package:pointycastle/export.dart';\nimport 'dart:io'; \n\n\n \nUint8List rsaSign(RSAPrivateKey privateKey, String dataToSign) {\n\n  final signer = RSASigner(SHA256Digest(), '0609608648016503040201'); // \n\n  signer.init(true, PrivateKeyParameter&lt;RSAPrivateKey&gt;(privateKey)); // true=sign\n\n  final sig = signer.generateSignature(utf8.encode(dataToSign));  \n\n  return sig.bytes;\n}\n\nbool rsaVerify(\n\n    RSAPublicKey publicKey, String signedData, Uint8List signature) { \n      \n  final sig = RSASignature(signature);\n\n  final verifier = RSASigner(SHA256Digest(), '0609608648016503040201'); \n\n  verifier.init(false, PublicKeyParameter&lt;RSAPublicKey&gt;(publicKey)); // false=verify\n\n  try {\n    return verifier.verifySignature(utf8.encode(signedData), sig);\n  } on ArgumentError {\n    return false; \n  }\n}\n\n\nvoid main() async { \n\nString data = &quot;H&quot;; \n \nfinal publicKeyData =  '''-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwo3ANSEHUrMJ+M6+vEny\ni+DuRisaNivtEFMhyyQ+c7iE2ooeMk33+krgK3j7A/zQ5MArOk2rHvZNFnXpcGmR\nXTtcfO1d/SrQ+q3q7cjW7BJNlu4OKBWP2Y7utkbWTDrfLl66nNc46rzKqdpaYJOn\nb61Wl+zjEJ5bCmfV4ZRrbgFvnkPGIaZfQuhmiBb1VLP0ZXsKvnpO1dJhX41pg9dL\n0Z8xQqbFNxOn9nPbmHxO9thjsxgN3bdY2RKu2AqILj3B2XpogfL2H8wdiaMAltQ7\nsjJBy5T02+x6j0ehaxGA7BI3am30YLyN3KbHOdiNvl6mwXv5NuR17DJQAsf7Nla/\n9wIDAQAB\n-----END PUBLIC KEY-----''';\n\nfinal pubKey = RSAKeyParser().parse(publicKeyData) as RSAPublicKey;\n\n\nfinal privateKeyData = '''-----BEGIN PRIVATE KEY-----\nMIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDCjcA1IQdSswn4\nzr68SfKL4O5GKxo2K+0QUyHLJD5zuITaih4yTff6SuArePsD/NDkwCs6Tase9k0W\ndelwaZFdO1x87V39KtD6rertyNbsEk2W7g4oFY/Zju62RtZMOt8uXrqc1zjqvMqp\n2lpgk6dvrVaX7OMQnlsKZ9XhlGtuAW+eQ8Yhpl9C6GaIFvVUs/Rlewq+ek7V0mFf\njWmD10vRnzFCpsU3E6f2c9uYfE722GOzGA3dt1jZEq7YCoguPcHZemiB8vYfzB2J\nowCW1DuyMkHLlPTb7HqPR6FrEYDsEjdqbfRgvI3cpsc52I2+XqbBe/k25HXsMlAC\nx/s2Vr/3AgMBAAECggEAcbx+tlCVwGIMnVj4Jokwc1fO1FSUYUDyuQ1wfxq0K+Ce\nQkhmeNAd/UPSo3d5f45H7MLvQolvVY116YCLNP1yTsfKPPpjbQKf4zzTT6mPA7l7\nhJWszwAz9WLa6NKmqy/rk2crv08O5iPycrPFDBql0uLJ8c05vVhmLsIfRl4HI+pL\nWq0CCGh21C5pCD4shURVygSLzyaaBjo6S+zRMmbdDbanbyPX7AYIK1cBRVGUB/H4\n7aj9LJ8G1Ng5WoH/UcWBr0iQxwmc974eitLimZtHRZJ7NOEXF73LmtqPjWk9Btip\n+yMuocFC4ekLjgKTml0XQ9WUG0mjai0kVybmpcEVqQKBgQDwNls+i8VzQYj9SqTt\nSzHkUVyJ7BCTZ0Dq60yYqQLUhJOTJireyZW4s1NebiyqlR3da8NNOY11IulPH5lm\nCW9UrgFJ2xZwiDM0jgm011K7lwR3zvDJ4e2aTiLSNZiI6BSctcYS04JC6grED5PQ\n2+YMaZYx6B0X0gxX3iELLRxp5QKBgQDPVyy2dJ60ILcntsCSJ1647Oot3NcvhdG3\n11thwvtwHTnEkrd3zfvzwa+Rq2lI2B3nY0Srpk6hNVsooXscR1iEKc7ERr9qdjAM\n9UFCoXw+Hh7Zl9nXzyp+FL+vK3ilKR+dqQ4Z0c9613tV0ZR83d6QJAcbl8kv4O9a\n/56zR9u0qwKBgQCsyCxxnM/1y1nh92MSXFgSxoMtoeN6Y3bKg12hIVCr1IDiAz4q\n6g0LwdFhxxXRzVih//WHArLBYs823p/USU0PN+otWa2WXCGY1+IbdhZIYKQSGYQR\ncrUZnMJnOa3yLB1Ha2iB+ilkQDxmMl48iS+8Fea3FyJ2E9xVB631AAnEEQKBgQDA\nVcOadVALFBYS9wpoCbFqpgsOBEBxSxeiDFous+r+s321Bcy/jAresZsl6/Y8po4G\n6ST4fcuO66nmZPWI4/4Oi6HMnTxPi9dDDfc90gMotFQ10RE5immGj8TIv/CodR9o\n5zu3Y9OtxloY39N4iXA+Ec2uIP12NpiSt3EGKfB7BQKBgQCVBfnkxCYZqCwML/MX\nOgKroAA4VwS5oRiVTxq5vzJhMRTHOBLlMvjrevv/lhJoZsiuYEEoohPBxzBIHF0C\nmjzSXTmxgpEP/GdjTNOES9I4DCsWxiLPiBruaOkwIP6nzu9aprMmKqPD7rnkeUTp\n33AF8Ou3YRJ3Ux83Z/RJu87vpw==\n-----END PRIVATE KEY-----''';\n\nfinal privKey = RSAKeyParser().parse(privateKeyData) as RSAPrivateKey;\n\nUint8List signature = rsaSign(privKey,data); \n\nbool verifiedSignature = rsaVerify(pubKey, data, signature); \n\nif (verifiedSignature == true) {\n  print(&quot;Signature successfully verified&quot;); \n} else {\n  print(&quot;Signatur could not be verified.&quot;); \n}\n}\n</code></pre>\n",
        "codigo": [
            "import rsa\n\nprivate_key_data = b'''-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAsX6ZR0quM+PYPzni6f0EjUGu/3ccRfJUbTfV+iaEeLF5dbba\nEBy912EPGa9V6SRT4aXvEzo5KT9qrekFX9ETLqaYaiKUy6NwswLDi8e6hhCGP+pU\nWhRV3dB9fYkqtKbp+WO6CWte2Y8bj2iYLAGGxJgqg7ejwFWs6oiWNfOzGwgFlJXv\nRQOB9z3BOsLmjxcnOLxf1Z9GIYAxyoowQHtEmimEDDQAOlvC0fG6EeKGRc+IZaFK\n9IIp1eOcT2vWO760j9UGMGNvh+S/BNrAvf8fUgf5+1F33S0HU0g9xZ2jfU1DQ/MC\nlwvI7pP8GY0jvWRwETwZ49tn4DCAmjfF/0OXqQIDAQABAoIBAHy+qSN9zSkS/SyS\nlnQ1KznL7B4HrItMYSHRmEWTRI8+zEp7FI82ZAY3ZNF8dTjCG2H/qSMuTHY859EK\ncIiC/KRQ2dXeMA1e9Roa2ywmV2VZv8C0BEy69g5LNadA/A6zMMXh3SI5oBPvjEMi\nE7D58anB+D9SlXfbvwemr0uD12Eq+a5aM58DWT5aFsjS2VAeHzgaATcmonEz23Wp\naOw5sODrD7jGvj+vGllo7DQp37ieN4ZL66KrxYlRlG4v0i8EXrc6wt9dOJEbybvR\n/JRHmUNomyLMvxoSImVm`your text`0NGmKSIy9Qc2tKKLNjoJRnvJ9kSSKbgqDh9lAPRX3gNG\nWcSyJgECgYEA5X/pyv+4D4VNV1Jlj+lwLTp3Olk9CRbBkttZQTJI0382sVnV+Mze\nYWcz65oQt5guj36sVmkL7rpe3znjep23LyCZHl/S3rdIG4NUzrfSJ+lVxTZn5fDv\ntaGhQMNuPDEoHQVSx58YXgZemPUwA6QhvYWIy+ZOXo3xsNQPcAHOADkCgYEAxf1l\ndKHUWXgfj6nW6aZjmG1sM1R0xV5j7vA7MMk4IIXAMo+9E1/8zWTxZdEL93AJJmhw\nOGHNd7ScseFrdFLIVCBejacUW0oyLTwM2J9rQGbXKeD97ICE7OWwvFsNN7gf85Du\nBT/Zfa+hlj9IujIoaBm4Bv76hsSrEVcyPtoccvECgYEAx5Dkn4ag6rYzG/TlpjAL\nQPkvRojlH2svZuHhCmWMmIVt7Oi+vTyBQFf6+Swez1fBXTx85iMwoiZka16uZiiR\na6TAIX6YIt1kEbCxZZTJZbVsxTJbRMOv3tSvIV8QE713MU04v6ekC9ckGYRUfUYT\npPdijlQ139k0y1yMFA0tslkCgYEAiMP0zG9pd3BCJQRGX9o/XDDiGEcT7q64S3qI\n+LdW3ShnTsX57yNURzGeix2vrXon5+8m7dupijIqN7omdxEkLvC5QBKVPkZviM29\ndfoRpUglA1nXLgLNT7OOtV4UMFQxRhfsQ5YKkAa9kUMf4vb48IgrljGWL3g1T2Iz\nZDVYh5ECgYA7vsI5z/zHcyCL0MvGxi19RE4kzs1YsXahNkJRlX00tueexfEXlRjB\ntAFCDlgUmW3fIBWhyUpgzNEMzGdEp43ehq6qvStoG4PJY5BW77oIY2OX1RZZfewE\nwBKrWCJxOx2eXKKfprmXGznnracY+60T/N+Ib2lKwoSk5eGkJizp2A==\n-----END RSA PRIVATE KEY-----'''\n\npublic_key_data = b'''-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsX6ZR0quM+PYPzni6f0E\njUGu/3ccRfJUbTfV+iaEeLF5dbbaEBy912EPGa9V6SRT4aXvEzo5KT9qrekFX9ET\nLqaYaiKUy6NwswLDi8e6hhCGP+pUWhRV3dB9fYkqtKbp+WO6CWte2Y8bj2iYLAGG\nxJgqg7ejwFWs6oiWNfOzGwgFlJXvRQOB9z3BOsLmjxcnOLxf1Z9GIYAxyoowQHtE\nmimEDDQAOlvC0fG6EeKGRc+IZaFK9IIp1eOcT2vWO760j9UGMGNvh+S/BNrAvf8f\nUgf5+1F33S0HU0g9xZ2jfU1DQ/MClwvI7pP8GY0jvWRwETwZ49tn4DCAmjfF/0OX\nqQIDAQAB\n-----END PUBLIC KEY-----'''\n\n# Load keys\nprivate_key = rsa.PrivateKey.load_pkcs1(private_key_data)\npublic_key = rsa.PublicKey.load_pkcs1_openssl_pem(public_key_data)\n\n\n# Message which should be signed\nmessage = \"H\"\nmessage_bytes = message.encode()\nprint(f'Data: {message_bytes}')\n\nsignature = rsa.sign(message_bytes, private_key, 'SHA-256')\n",
            "import 'dart:convert' show utf8; \nimport 'dart:convert' show base64; \nimport 'dart:convert' show base64Decode; \nimport 'dart:typed_data';\nimport 'package:encrypt/encrypt.dart' show RSAKeyParser;\nimport 'package:pointycastle/export.dart';\nimport 'dart:io'; \n\n\n \nUint8List rsaSign(RSAPrivateKey privateKey, String dataToSign) {\n\n  final signer = RSASigner(SHA256Digest(), '0609608648016503040201'); // \n\n  signer.init(true, PrivateKeyParameter<RSAPrivateKey>(privateKey)); // true=sign\n\n  final sig = signer.generateSignature(utf8.encode(dataToSign));  \n\n  return sig.bytes;\n}\n\nbool rsaVerify(\n\n    RSAPublicKey publicKey, String signedData, Uint8List signature) { \n      \n  final sig = RSASignature(signature);\n\n  final verifier = RSASigner(SHA256Digest(), '0609608648016503040201'); \n\n  verifier.init(false, PublicKeyParameter<RSAPublicKey>(publicKey)); // false=verify\n\n  try {\n    return verifier.verifySignature(utf8.encode(signedData), sig);\n  } on ArgumentError {\n    return false; \n  }\n}\n\n\nvoid main() async { \n\nString data = \"H\"; \n \nfinal publicKeyData =  '''-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwo3ANSEHUrMJ+M6+vEny\ni+DuRisaNivtEFMhyyQ+c7iE2ooeMk33+krgK3j7A/zQ5MArOk2rHvZNFnXpcGmR\nXTtcfO1d/SrQ+q3q7cjW7BJNlu4OKBWP2Y7utkbWTDrfLl66nNc46rzKqdpaYJOn\nb61Wl+zjEJ5bCmfV4ZRrbgFvnkPGIaZfQuhmiBb1VLP0ZXsKvnpO1dJhX41pg9dL\n0Z8xQqbFNxOn9nPbmHxO9thjsxgN3bdY2RKu2AqILj3B2XpogfL2H8wdiaMAltQ7\nsjJBy5T02+x6j0ehaxGA7BI3am30YLyN3KbHOdiNvl6mwXv5NuR17DJQAsf7Nla/\n9wIDAQAB\n-----END PUBLIC KEY-----''';\n\nfinal pubKey = RSAKeyParser().parse(publicKeyData) as RSAPublicKey;\n\n\nfinal privateKeyData = '''-----BEGIN PRIVATE KEY-----\nMIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQDCjcA1IQdSswn4\nzr68SfKL4O5GKxo2K+0QUyHLJD5zuITaih4yTff6SuArePsD/NDkwCs6Tase9k0W\ndelwaZFdO1x87V39KtD6rertyNbsEk2W7g4oFY/Zju62RtZMOt8uXrqc1zjqvMqp\n2lpgk6dvrVaX7OMQnlsKZ9XhlGtuAW+eQ8Yhpl9C6GaIFvVUs/Rlewq+ek7V0mFf\njWmD10vRnzFCpsU3E6f2c9uYfE722GOzGA3dt1jZEq7YCoguPcHZemiB8vYfzB2J\nowCW1DuyMkHLlPTb7HqPR6FrEYDsEjdqbfRgvI3cpsc52I2+XqbBe/k25HXsMlAC\nx/s2Vr/3AgMBAAECggEAcbx+tlCVwGIMnVj4Jokwc1fO1FSUYUDyuQ1wfxq0K+Ce\nQkhmeNAd/UPSo3d5f45H7MLvQolvVY116YCLNP1yTsfKPPpjbQKf4zzTT6mPA7l7\nhJWszwAz9WLa6NKmqy/rk2crv08O5iPycrPFDBql0uLJ8c05vVhmLsIfRl4HI+pL\nWq0CCGh21C5pCD4shURVygSLzyaaBjo6S+zRMmbdDbanbyPX7AYIK1cBRVGUB/H4\n7aj9LJ8G1Ng5WoH/UcWBr0iQxwmc974eitLimZtHRZJ7NOEXF73LmtqPjWk9Btip\n+yMuocFC4ekLjgKTml0XQ9WUG0mjai0kVybmpcEVqQKBgQDwNls+i8VzQYj9SqTt\nSzHkUVyJ7BCTZ0Dq60yYqQLUhJOTJireyZW4s1NebiyqlR3da8NNOY11IulPH5lm\nCW9UrgFJ2xZwiDM0jgm011K7lwR3zvDJ4e2aTiLSNZiI6BSctcYS04JC6grED5PQ\n2+YMaZYx6B0X0gxX3iELLRxp5QKBgQDPVyy2dJ60ILcntsCSJ1647Oot3NcvhdG3\n11thwvtwHTnEkrd3zfvzwa+Rq2lI2B3nY0Srpk6hNVsooXscR1iEKc7ERr9qdjAM\n9UFCoXw+Hh7Zl9nXzyp+FL+vK3ilKR+dqQ4Z0c9613tV0ZR83d6QJAcbl8kv4O9a\n/56zR9u0qwKBgQCsyCxxnM/1y1nh92MSXFgSxoMtoeN6Y3bKg12hIVCr1IDiAz4q\n6g0LwdFhxxXRzVih//WHArLBYs823p/USU0PN+otWa2WXCGY1+IbdhZIYKQSGYQR\ncrUZnMJnOa3yLB1Ha2iB+ilkQDxmMl48iS+8Fea3FyJ2E9xVB631AAnEEQKBgQDA\nVcOadVALFBYS9wpoCbFqpgsOBEBxSxeiDFous+r+s321Bcy/jAresZsl6/Y8po4G\n6ST4fcuO66nmZPWI4/4Oi6HMnTxPi9dDDfc90gMotFQ10RE5immGj8TIv/CodR9o\n5zu3Y9OtxloY39N4iXA+Ec2uIP12NpiSt3EGKfB7BQKBgQCVBfnkxCYZqCwML/MX\nOgKroAA4VwS5oRiVTxq5vzJhMRTHOBLlMvjrevv/lhJoZsiuYEEoohPBxzBIHF0C\nmjzSXTmxgpEP/GdjTNOES9I4DCsWxiLPiBruaOkwIP6nzu9aprMmKqPD7rnkeUTp\n33AF8Ou3YRJ3Ux83Z/RJu87vpw==\n-----END PRIVATE KEY-----''';\n\nfinal privKey = RSAKeyParser().parse(privateKeyData) as RSAPrivateKey;\n\nUint8List signature = rsaSign(privKey,data); \n\nbool verifiedSignature = rsaVerify(pubKey, data, signature); \n\nif (verifiedSignature == true) {\n  print(\"Signature successfully verified\"); \n} else {\n  print(\"Signatur could not be verified.\"); \n}\n}\n"
        ]
    },
    {
        "titulo": "(MissingPluginException) in unit test for Flutter using Path Provider and Hive",
        "score": 1,
        "views": 306,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "flutter-hive",
            "path-provider"
        ],
        "link": "https://stackoverflow.com/questions/78839180/missingpluginexception-in-unit-test-for-flutter-using-path-provider-and-hive",
        "conteudo_html": "<p>I'am tryng to run my unit test for this project, and it's giving me this error message:</p>\n<pre><code>MissingPluginException(No implementation found for method getApplicationDocumentsDirectory on channel plugins.flutter.io/path_provider)\npackage:flutter/src/services/platform_channel.dart 332:7  MethodChannel._invokeMethod\nLateInitializationError: Field 'todoBox' has not been initialized.\ntest\\unit_test\\todo_unit_test.dart        todoBox\ntest\\unit_test\\todo_unit_test.dart 35:13  main.&lt;fn&gt;\n</code></pre>\n<p>How can I solve this error?</p>\n<p>**\nHere is the code:\n**</p>\n<pre><code>import 'dart:io';\n\nimport 'package:flutter/widgets.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:hive/hive.dart';\nimport 'package:mocktail/mocktail.dart';\nimport 'package:path_provider/path_provider.dart';\nimport 'package:todo_app/src/modules/adapter/todo_adapter.dart';\n\nlate TodoItemMock todoItemMock;\nlate Box&lt;TodoItemMock&gt; todoBox;\n\nclass TodoItemMock extends Mock implements TodoItem {}\n\n\nclass HiveConfig {\n  static start() async {\n    Directory dir = await getApplicationDocumentsDirectory();\n    Hive.init(dir.path);\n  }\n}\n\nvoid main() {\n  WidgetsFlutterBinding.ensureInitialized();\n  setUp(\n    () async {\n      await HiveConfig.start();\n      Hive.registerAdapter(TodoItemAdapter());\n      todoBox = await Hive.openBox&lt;TodoItemMock&gt;('todoBox');\n    },\n  );\n\n  tearDownAll(\n    () async {\n      await todoBox.close();\n    },\n  );\n\n  test('Get no results from the Box', () async {\n    expect(todoBox.get(0), completion(findsNothing));\n  });\n}\n</code></pre>\n<p>I tried to make a Mock for the path provider but it's not possible to call the class to mock it</p>\n",
        "codigo": [
            "MissingPluginException(No implementation found for method getApplicationDocumentsDirectory on channel plugins.flutter.io/path_provider)\npackage:flutter/src/services/platform_channel.dart 332:7  MethodChannel._invokeMethod\nLateInitializationError: Field 'todoBox' has not been initialized.\ntest\\unit_test\\todo_unit_test.dart        todoBox\ntest\\unit_test\\todo_unit_test.dart 35:13  main.<fn>\n",
            "import 'dart:io';\n\nimport 'package:flutter/widgets.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:hive/hive.dart';\nimport 'package:mocktail/mocktail.dart';\nimport 'package:path_provider/path_provider.dart';\nimport 'package:todo_app/src/modules/adapter/todo_adapter.dart';\n\nlate TodoItemMock todoItemMock;\nlate Box<TodoItemMock> todoBox;\n\nclass TodoItemMock extends Mock implements TodoItem {}\n\n\nclass HiveConfig {\n  static start() async {\n    Directory dir = await getApplicationDocumentsDirectory();\n    Hive.init(dir.path);\n  }\n}\n\nvoid main() {\n  WidgetsFlutterBinding.ensureInitialized();\n  setUp(\n    () async {\n      await HiveConfig.start();\n      Hive.registerAdapter(TodoItemAdapter());\n      todoBox = await Hive.openBox<TodoItemMock>('todoBox');\n    },\n  );\n\n  tearDownAll(\n    () async {\n      await todoBox.close();\n    },\n  );\n\n  test('Get no results from the Box', () async {\n    expect(todoBox.get(0), completion(findsNothing));\n  });\n}\n"
        ]
    },
    {
        "titulo": "Riverpod: How to properly show error message under field on API error",
        "score": 1,
        "views": 119,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "riverpod"
        ],
        "link": "https://stackoverflow.com/questions/78828013/riverpod-how-to-properly-show-error-message-under-field-on-api-error",
        "conteudo_html": "<p>I'm trying to create a verify OTP screen. The <code>submit</code> button will call the API to verify the OTP and on error I want to show error message under text field and clear the error when typing again. This is what I have done so far. It works first time but on further attempts to submit it keeps showing error under field since the controller is in error state. I feel like I'm missing a core point of doing this declaratively. I keep thinking imperatively. Is there a neat solution to this, Thanks.</p>\n<pre><code>// submit_controller.dart\n\nclass SubmitController extends AsyncNotifier&lt;void&gt; {\n\n  @override\n  FutureOr&lt;void&gt; build() {}\n\n  Future&lt;void&gt; submit(String otp) async {\n    state = const AsyncValue.loading();\n    try {\n// This will actually be a call to some repository method to verify otp.\n      await Future.delayed(const Duration(seconds: 3));\n      throw Exception('Invalid OTP');\n\n    } catch (error, st) {\n      state = AsyncError(error, st);\n    }\n  }\n}\n</code></pre>\n<pre><code>// main.dart\n\nclass HomePage extends ConsumerStatefulWidget {\n  ...\n  @override\n  Widget build(BuildContext context) {\n    final submit = ref.watch(submitControllerProvider);\n\n    ref.listen(submitControllerProvider, (_, state) {\n      final error = (state.error as Exception).toString();\n      if (error == 'Exception: Invalid OTP') {\n        isError = true;\n        controller.clear();\n      }\n    });\n\n    return Scaffold(\n      body: Center(\n        child: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: [\n            TextField(\n              enabled: !submit.isLoading,\n              controller: controller,\n              onChanged: (value) =&gt; setState(() {\n                isError = false;\n              }),\n            ),\n            isError\n                ? const Text(\n                    'Invalid OTP',\n                    style: TextStyle(color: Colors.red),\n                  )\n                : const SizedBox.shrink(),\n            TextButton(\n                onPressed: () {\n                  ref.read(submitControllerProvider.notifier).submit(controller.text);\n                },\n                child: const Text('Submit')),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n",
        "codigo": [
            "submit",
            "// submit_controller.dart\n\nclass SubmitController extends AsyncNotifier<void> {\n\n  @override\n  FutureOr<void> build() {}\n\n  Future<void> submit(String otp) async {\n    state = const AsyncValue.loading();\n    try {\n// This will actually be a call to some repository method to verify otp.\n      await Future.delayed(const Duration(seconds: 3));\n      throw Exception('Invalid OTP');\n\n    } catch (error, st) {\n      state = AsyncError(error, st);\n    }\n  }\n}\n",
            "// main.dart\n\nclass HomePage extends ConsumerStatefulWidget {\n  ...\n  @override\n  Widget build(BuildContext context) {\n    final submit = ref.watch(submitControllerProvider);\n\n    ref.listen(submitControllerProvider, (_, state) {\n      final error = (state.error as Exception).toString();\n      if (error == 'Exception: Invalid OTP') {\n        isError = true;\n        controller.clear();\n      }\n    });\n\n    return Scaffold(\n      body: Center(\n        child: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: [\n            TextField(\n              enabled: !submit.isLoading,\n              controller: controller,\n              onChanged: (value) => setState(() {\n                isError = false;\n              }),\n            ),\n            isError\n                ? const Text(\n                    'Invalid OTP',\n                    style: TextStyle(color: Colors.red),\n                  )\n                : const SizedBox.shrink(),\n            TextButton(\n                onPressed: () {\n                  ref.read(submitControllerProvider.notifier).submit(controller.text);\n                },\n                child: const Text('Submit')),\n          ],\n        ),\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Flutter:TextEditingController not updating ListView with API data",
        "score": 0,
        "views": 40,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "texteditingcontroller"
        ],
        "link": "https://stackoverflow.com/questions/78817683/fluttertexteditingcontroller-not-updating-listview-with-api-data",
        "conteudo_html": "<p>I'm working on a Flutter application where I need to fetch and display a list of movies based on user input in a search field. The <code>TextEditingController</code> should trigger an API call to fetch movie data and update the <code>ListView</code> with the results. However, the list remains empty even after the API call is made.</p>\n<p>Here's my code:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\n// Assume these classes are defined elsewhere\nimport 'api_call.dart';\nimport 'constants.dart';\nimport 'movie_model.dart';\nimport 'search_tile.dart';\n\nclass SearchMovies extends StatefulWidget {\n  const SearchMovies({super.key});\n\n  @override\n  State&lt;SearchMovies&gt; createState() =&gt; _SearchMoviesState();\n}\n\nclass _SearchMoviesState extends State&lt;SearchMovies&gt; {\n  String text = '';\n  List&lt;MovieModel&gt; searchMoviesList = [];\n  final TextEditingController _searchController = TextEditingController();\n\n  @override\n  void initState() {\n    super.initState();\n    _searchController.addListener(_onTextChanged);\n  }\n\n  @override\n  void dispose() {\n    _searchController.removeListener(_onTextChanged);\n    _searchController.dispose();\n    super.dispose();\n  }\n\n  void _onTextChanged() {\n    fetchMovies(_searchController.text);\n  }\n\n  Future&lt;void&gt; fetchMovies(String query) async {\n    if (query.isEmpty) {\n      setState(() {\n        searchMoviesList.clear();\n      });\n      return;\n    }\n\n    try {\n      print('Fetching movies for query: $query');\n      var movieResponse = await ApiCall(Constants.search + query).getData();\n      print('API response: $movieResponse');\n      setState(() {\n        searchMoviesList.clear();\n        List&lt;dynamic&gt; movieResults = movieResponse['results'];\n        for (var element in movieResults) {\n          searchMoviesList.add(MovieModel.fromJson(element));\n        }\n        print('Updated searchMoviesList: $searchMoviesList');\n      });\n    } catch (error) {\n      print('Error fetching movies: $error');\n      setState(() {\n        searchMoviesList.clear();\n      });\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Column(\n          children: [\n            TextFormField(\n              controller: _searchController,\n              onChanged: (value) {\n                setState(() {\n                  text = value;\n                });\n              },\n              decoration: const InputDecoration(\n                hintText: 'Search for movies',\n                focusedBorder: UnderlineInputBorder(\n                  borderSide: BorderSide(color: Colors.red),\n                ),\n              ),\n            ),\n          ],\n        ),\n      ),\n      body: ListView.builder(\n        itemCount: searchMoviesList.length,\n        itemBuilder: (BuildContext context, int index) {\n          return SearchTile(searchMoviesList: searchMoviesList, index: index);\n        },\n      ),\n    );\n  }\n}\n\n\n\nI have tried debugging the fetchmovies() methods. But 'movieResponse'-used to store API result, is giving empty list. I am expecting that after every character result list to be updated. API used:  static String search = 'https://api.themoviedb.org/3/search/movie?api_key=XXXXXXX&amp;query=';\n</code></pre>\n",
        "codigo": [
            "TextEditingController",
            "ListView",
            "import 'package:flutter/material.dart';\n// Assume these classes are defined elsewhere\nimport 'api_call.dart';\nimport 'constants.dart';\nimport 'movie_model.dart';\nimport 'search_tile.dart';\n\nclass SearchMovies extends StatefulWidget {\n  const SearchMovies({super.key});\n\n  @override\n  State<SearchMovies> createState() => _SearchMoviesState();\n}\n\nclass _SearchMoviesState extends State<SearchMovies> {\n  String text = '';\n  List<MovieModel> searchMoviesList = [];\n  final TextEditingController _searchController = TextEditingController();\n\n  @override\n  void initState() {\n    super.initState();\n    _searchController.addListener(_onTextChanged);\n  }\n\n  @override\n  void dispose() {\n    _searchController.removeListener(_onTextChanged);\n    _searchController.dispose();\n    super.dispose();\n  }\n\n  void _onTextChanged() {\n    fetchMovies(_searchController.text);\n  }\n\n  Future<void> fetchMovies(String query) async {\n    if (query.isEmpty) {\n      setState(() {\n        searchMoviesList.clear();\n      });\n      return;\n    }\n\n    try {\n      print('Fetching movies for query: $query');\n      var movieResponse = await ApiCall(Constants.search + query).getData();\n      print('API response: $movieResponse');\n      setState(() {\n        searchMoviesList.clear();\n        List<dynamic> movieResults = movieResponse['results'];\n        for (var element in movieResults) {\n          searchMoviesList.add(MovieModel.fromJson(element));\n        }\n        print('Updated searchMoviesList: $searchMoviesList');\n      });\n    } catch (error) {\n      print('Error fetching movies: $error');\n      setState(() {\n        searchMoviesList.clear();\n      });\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Column(\n          children: [\n            TextFormField(\n              controller: _searchController,\n              onChanged: (value) {\n                setState(() {\n                  text = value;\n                });\n              },\n              decoration: const InputDecoration(\n                hintText: 'Search for movies',\n                focusedBorder: UnderlineInputBorder(\n                  borderSide: BorderSide(color: Colors.red),\n                ),\n              ),\n            ),\n          ],\n        ),\n      ),\n      body: ListView.builder(\n        itemCount: searchMoviesList.length,\n        itemBuilder: (BuildContext context, int index) {\n          return SearchTile(searchMoviesList: searchMoviesList, index: index);\n        },\n      ),\n    );\n  }\n}\n\n\n\nI have tried debugging the fetchmovies() methods. But 'movieResponse'-used to store API result, is giving empty list. I am expecting that after every character result list to be updated. API used:  static String search = 'https://api.themoviedb.org/3/search/movie?api_key=XXXXXXX&query=';\n"
        ]
    },
    {
        "titulo": "Running my google fonts using widget test separately works, but fails when ran together",
        "score": 1,
        "views": 151,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "testing",
            "google-fonts"
        ],
        "link": "https://stackoverflow.com/questions/78814319/running-my-google-fonts-using-widget-test-separately-works-but-fails-when-ran-t",
        "conteudo_html": "<p>I have the following tests. They both pass if I run them separately. But if I run the together at once the second test fails because isEnabled == true. Upon further inspection it looks like it never gets to the line where isEnabled is set to true because it seems to keep hanging on <code>await GoogleFonts.pendingFonts();</code> in the onEdit. But the test does end. Why is this happening and what can I do to fix it?</p>\n<pre><code>// Flutter imports:\nimport 'package:flutter/material.dart';\n\n// Package imports:\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:google_fonts/google_fonts.dart';\n\nvoid main() {\n  setUpAll(() async {\n    GoogleFonts.config.allowRuntimeFetching = false;\n  });\n\n  testWidgets('should load', (WidgetTester tester) async {\n    //Act\n    await tester.pumpWidget(\n      MaterialApp(\n        home: SpecialTextWidget(\n          shouldEdit: false,\n        ),\n      ),\n    );\n\n    //Assert\n    final textWidgetFinder = find.byType(SpecialTextWidget);\n    final loadedState = tester.state(textWidgetFinder) as SpecialTextWidgetState;\n    expect(textWidgetFinder, findsOneWidget);\n    expect(loadedState.isEnabled, true);\n  });\n\n  testWidgets('should handle edits', (WidgetTester tester) async {\n    //Act\n    await tester.pumpWidget(\n      MaterialApp(\n        home: SpecialTextWidget(\n          shouldEdit: true,\n        ),\n      ),\n    );\n    await tester.pump();\n\n    //Assert\n    final textWidgetFinder = find.byType(SpecialTextWidget);\n    final editedState = tester.state(textWidgetFinder) as SpecialTextWidgetState;\n    expect(textWidgetFinder, findsOneWidget);\n    expect(editedState.isEnabled, false);\n  });\n}\n\nclass SpecialTextWidget extends StatefulWidget {\n  final bool _shouldEdit;\n\n  const SpecialTextWidget({\n    super.key,\n    bool shouldEdit = false,\n  }) : _shouldEdit = shouldEdit;\n\n  @override\n  State&lt;SpecialTextWidget&gt; createState() =&gt; SpecialTextWidgetState();\n}\n\nclass SpecialTextWidgetState extends State&lt;SpecialTextWidget&gt; {\n  late bool _isInitialized;\n  late bool _isEnabled;\n  String? _data;\n  TextStyle? _style;\n\n  @visibleForTesting\n  bool get isEnabled =&gt; _isEnabled;\n\n  @override\n  void initState() {\n    _isInitialized = false;\n    _isEnabled = false;\n    super.initState();\n  }\n\n  @override\n  void didChangeDependencies() {\n    if (!_isInitialized) {\n      initialize();\n      _isInitialized = true;\n    }\n    super.didChangeDependencies();\n  }\n\n  Future&lt;void&gt; initialize() async {\n    await onLoad(\n      fontFamily: 'Roboto',\n      fontSize: 14.0,\n      fontWeight: FontWeight.normal,\n      fontStyle: FontStyle.normal,\n      color: Colors.black,\n      isEnabled: true,\n      data: 'Hello',\n    );\n    if (widget._shouldEdit) {\n      await onEdit(\n        fontFamily: 'Open Sans',\n        fontSize: 16.0,\n        fontWeight: FontWeight.bold,\n        fontStyle: FontStyle.italic,\n        color: Colors.white,\n        isEnabled: false,\n        data: 'Hello World',\n      );\n    }\n  }\n\n  Future&lt;void&gt; onLoad({\n    required String fontFamily,\n    required double fontSize,\n    required FontWeight fontWeight,\n    required FontStyle fontStyle,\n    required Color color,\n    required bool isEnabled,\n    required String data,\n  }) async {\n    final textStyle = GoogleFonts.getFont(\n      fontFamily,\n      fontSize: fontSize,\n      fontWeight: fontWeight,\n      fontStyle: fontStyle,\n      color: color,\n    );\n    await GoogleFonts.pendingFonts();\n    setState(() {\n      _isEnabled = isEnabled;\n      _data = data;\n      _style = textStyle;\n    });\n  }\n\n  Future&lt;void&gt; onEdit({\n    required String fontFamily,\n    required double fontSize,\n    required FontWeight fontWeight,\n    required FontStyle fontStyle,\n    required Color color,\n    required bool isEnabled,\n    required String data,\n  }) async {\n    var updatedStyle = _style;\n    updatedStyle = GoogleFonts.getFont(\n      fontFamily,\n      fontSize: fontSize,\n      fontWeight: fontWeight,\n      fontStyle: fontStyle,\n      color: color,\n    );\n    await GoogleFonts.pendingFonts();\n    setState(() {\n      _isEnabled = isEnabled;\n      _data = data;\n      _style = updatedStyle;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    if (!_isEnabled) {\n      return SizedBox.shrink();\n    }\n\n    return Text(\n      _data!,\n      style: _style,\n    );\n  }\n}\n</code></pre>\n",
        "codigo": [
            "await GoogleFonts.pendingFonts();",
            "// Flutter imports:\nimport 'package:flutter/material.dart';\n\n// Package imports:\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:google_fonts/google_fonts.dart';\n\nvoid main() {\n  setUpAll(() async {\n    GoogleFonts.config.allowRuntimeFetching = false;\n  });\n\n  testWidgets('should load', (WidgetTester tester) async {\n    //Act\n    await tester.pumpWidget(\n      MaterialApp(\n        home: SpecialTextWidget(\n          shouldEdit: false,\n        ),\n      ),\n    );\n\n    //Assert\n    final textWidgetFinder = find.byType(SpecialTextWidget);\n    final loadedState = tester.state(textWidgetFinder) as SpecialTextWidgetState;\n    expect(textWidgetFinder, findsOneWidget);\n    expect(loadedState.isEnabled, true);\n  });\n\n  testWidgets('should handle edits', (WidgetTester tester) async {\n    //Act\n    await tester.pumpWidget(\n      MaterialApp(\n        home: SpecialTextWidget(\n          shouldEdit: true,\n        ),\n      ),\n    );\n    await tester.pump();\n\n    //Assert\n    final textWidgetFinder = find.byType(SpecialTextWidget);\n    final editedState = tester.state(textWidgetFinder) as SpecialTextWidgetState;\n    expect(textWidgetFinder, findsOneWidget);\n    expect(editedState.isEnabled, false);\n  });\n}\n\nclass SpecialTextWidget extends StatefulWidget {\n  final bool _shouldEdit;\n\n  const SpecialTextWidget({\n    super.key,\n    bool shouldEdit = false,\n  }) : _shouldEdit = shouldEdit;\n\n  @override\n  State<SpecialTextWidget> createState() => SpecialTextWidgetState();\n}\n\nclass SpecialTextWidgetState extends State<SpecialTextWidget> {\n  late bool _isInitialized;\n  late bool _isEnabled;\n  String? _data;\n  TextStyle? _style;\n\n  @visibleForTesting\n  bool get isEnabled => _isEnabled;\n\n  @override\n  void initState() {\n    _isInitialized = false;\n    _isEnabled = false;\n    super.initState();\n  }\n\n  @override\n  void didChangeDependencies() {\n    if (!_isInitialized) {\n      initialize();\n      _isInitialized = true;\n    }\n    super.didChangeDependencies();\n  }\n\n  Future<void> initialize() async {\n    await onLoad(\n      fontFamily: 'Roboto',\n      fontSize: 14.0,\n      fontWeight: FontWeight.normal,\n      fontStyle: FontStyle.normal,\n      color: Colors.black,\n      isEnabled: true,\n      data: 'Hello',\n    );\n    if (widget._shouldEdit) {\n      await onEdit(\n        fontFamily: 'Open Sans',\n        fontSize: 16.0,\n        fontWeight: FontWeight.bold,\n        fontStyle: FontStyle.italic,\n        color: Colors.white,\n        isEnabled: false,\n        data: 'Hello World',\n      );\n    }\n  }\n\n  Future<void> onLoad({\n    required String fontFamily,\n    required double fontSize,\n    required FontWeight fontWeight,\n    required FontStyle fontStyle,\n    required Color color,\n    required bool isEnabled,\n    required String data,\n  }) async {\n    final textStyle = GoogleFonts.getFont(\n      fontFamily,\n      fontSize: fontSize,\n      fontWeight: fontWeight,\n      fontStyle: fontStyle,\n      color: color,\n    );\n    await GoogleFonts.pendingFonts();\n    setState(() {\n      _isEnabled = isEnabled;\n      _data = data;\n      _style = textStyle;\n    });\n  }\n\n  Future<void> onEdit({\n    required String fontFamily,\n    required double fontSize,\n    required FontWeight fontWeight,\n    required FontStyle fontStyle,\n    required Color color,\n    required bool isEnabled,\n    required String data,\n  }) async {\n    var updatedStyle = _style;\n    updatedStyle = GoogleFonts.getFont(\n      fontFamily,\n      fontSize: fontSize,\n      fontWeight: fontWeight,\n      fontStyle: fontStyle,\n      color: color,\n    );\n    await GoogleFonts.pendingFonts();\n    setState(() {\n      _isEnabled = isEnabled;\n      _data = data;\n      _style = updatedStyle;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    if (!_isEnabled) {\n      return SizedBox.shrink();\n    }\n\n    return Text(\n      _data!,\n      style: _style,\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Destructuring in Dart not working as expected",
        "score": 1,
        "views": 130,
        "respostas": 1,
        "tags": [
            "dart",
            "destructuring"
        ],
        "link": "https://stackoverflow.com/questions/78790355/destructuring-in-dart-not-working-as-expected",
        "conteudo_html": "<p>I am going through the language tour and, coming from a mostly Javascript background, I'm having trouble understanding how to destructure this record.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>(int, String, {String b, String c}) rec = (7, c:&quot;testc&quot;, &quot;positionaltest&quot;, b:&quot;testb&quot;);\nString (:b) = rec; \nprint(b); // Expecting &quot;testb&quot;\n</code></pre>\n<p>Apparently, Dart is trying to assign the entire record rather than destructuring, because if I try to grab a positional value instead, it doesn't throw an error. Instead, it assigns the entire record to the variable.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>(int, String, {String b, String c}) rec = (7, c:&quot;testc&quot;, &quot;positionaltest&quot;, b:&quot;testb&quot;);\nString (a) = rec; \nprint(a); // Expecting 7\n</code></pre>\n<p>So far I've only gotten to <a href=\"https://dart.dev/language/records\" rel=\"nofollow noreferrer\">the Records page</a>, and this is my first encounter with destructuring in Dart.</p>\n<p>Why are my examples not working as I expect, and what is the correct way to do them?</p>\n<p>Using Dart 3.4.4</p>\n",
        "codigo": [
            "(int, String, {String b, String c}) rec = (7, c:\"testc\", \"positionaltest\", b:\"testb\");\nString (:b) = rec; \nprint(b); // Expecting \"testb\"\n",
            "(int, String, {String b, String c}) rec = (7, c:\"testc\", \"positionaltest\", b:\"testb\");\nString (a) = rec; \nprint(a); // Expecting 7\n"
        ]
    },
    {
        "titulo": "Title: TypeError in Flutter Test: Null is not a subtype of Future&lt;String&gt;",
        "score": 0,
        "views": 66,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "mockito",
            "widget"
        ],
        "link": "https://stackoverflow.com/questions/78762909/title-typeerror-in-flutter-test-null-is-not-a-subtype-of-futurestring",
        "conteudo_html": "<p>I'm writing a Flutter test where I'm trying to mock a method that calculates the BMI. Despite using when(...).thenReturn(...) to return a future value, I'm encountering the following error:</p>\n<p><code>══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════ The following _TypeError was thrown running a test: type 'Null' is not a subtype of type 'Future&lt;String&gt;'</code></p>\n<h3>How It Works</h3>\n<ol>\n<li><p><strong>User Interaction:</strong></p>\n<ul>\n<li>The user opens the app and enters their weight and height in the provided text fields.</li>\n<li>The user presses the &quot;Calculate BMI&quot; button.</li>\n</ul>\n</li>\n<li><p><strong>Frontend Processing:</strong></p>\n<ul>\n<li>The app sends a request to the backend API with the weight and height as parameters.</li>\n<li>The app uses the Provider package to manage state and the ApiService to handle the HTTP request.</li>\n</ul>\n</li>\n<li><p><strong>Backend Processing:</strong></p>\n<ul>\n<li>The Spring Boot application receives the request and processes the BMI calculation.</li>\n<li>The result is sent back to the app as a response.</li>\n</ul>\n</li>\n<li><p><strong>Result Display:</strong></p>\n<ul>\n<li>The app displays the BMI result and changes the text color based on the BMI category.</li>\n</ul>\n</li>\n</ol>\n<p>Here is relevant part of my code:</p>\n<p><strong>widget_test.dart</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>// Define a mock class for ApiService using Mockito\nclass MockApiService extends Mock implements ApiService {}\nvoid main() {\n  testWidgets('BMI Calculator Test', (WidgetTester tester) async {\n    final MockApiService mockApiService = MockApiService();\n\n    // Mock response for calculateBMI method\n    when(mockApiService.calculateBMI(88, 186)).thenReturn(Future.value('22.2'));\n\n    await tester.pumpWidget(\n      ChangeNotifierProvider(\n        create: (context) =&gt; mockApiService,\n        child: MaterialApp(\n          home: BmiCalculatorApp(),\n        ),\n      ),\n    );\n\n    // Verify if 'Calculate BMI' button is found on the screen\n    expect(find.text('Calculate BMI'), findsOneWidget);\n\n    // Find the ElevatedButton widget with 'Calculate BMI' text and tap it\n    await tester.tap(find.widgetWithText(ElevatedButton, 'Calculate BMI'));\n    await tester.pump();\n\n    // Wait for the async operation to complete\n    await tester.pump(Duration(seconds: 1));\n\n    // Verify if 'BMI result:' text is found exactly once on the screen\n    expect(find.text('Your BMI is 22.2'), findsOneWidget);\n  });\n}\n</code></pre>\n<p><strong>api_service.dart</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:mockito/mockito.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\n// Define a service class\nclass ApiService {\n  Future&lt;String&gt; calculateBMI(int weight, int height) async {\n    // Implementation that calculates BMI\n    return ((weight / (height / 100 * height / 100)).toStringAsFixed(1));\n  }\n}\n\n// Define a mock class\nclass MockApiService extends Mock implements ApiService {}\n\nvoid main() {\n  // Create an instance of the mock class\n  final mockApiService = MockApiService();\n\n  // Set up the mock to return a specific value\n  when(mockApiService.calculateBMI(88, 186)).thenReturn(Future.value('22.2'));\n\n  // Test case\n  test('Calculate BMI', () async {\n    final result = await mockApiService.calculateBMI(88, 186);\n    expect(result, '22.2');\n  });\n}\n</code></pre>\n<p><strong>main.dart</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'api_service.dart'; // Import the ApiService class\n\nvoid main() {\n  runApp(\n    // This is the entry point of my Flutter application.\n    ChangeNotifierProvider( // This widget is used to provide a ChangeNotifier to its descendants. ChangeNotifierProvider: Listens for changes in the information and updates the app automatically.\n      create: (context) =&gt; ApiService(baseUrl: 'http://localhost:8080'), // Create an instance of ApiService with a base URL.\n      child: MaterialApp( // A widget that configures the MaterialApp.\n        home: BmiCalculatorApp(), // Set BmiCalculatorApp as the home screen of the app.\n      ),\n    ),\n  );\n}\n\nclass BmiCalculatorApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold( // Scaffold widget provides a standard app layout structure.\n      appBar: AppBar( // AppBar is the top bar of the app that typically contains the title and actions.\n        title: Text('BMI Calculator'), // Title of the AppBar.\n      ),\n      body: BmiCalculator(), // The main content of the app is BmiCalculator widget.\n    );\n  }\n}\n\nclass BmiCalculator extends StatefulWidget {\n  @override\n  _BmiCalculatorState createState() =&gt; _BmiCalculatorState();\n}\n\nclass _BmiCalculatorState extends State&lt;BmiCalculator&gt; {\n  final TextEditingController _weightController = TextEditingController(); // Controller to manage weight input.\n  final TextEditingController _heightController = TextEditingController(); // Controller to manage height input.\n  String _message = &quot;Please enter your height and weight&quot;; // Initial message displayed to the user.\n  Color _messageColor = Colors.black; // Color of the message text.\n\n  @override\n  void initState() {\n    super.initState(); // super.initState() This method call ensures that the initialization process of the parent class (State) is executed. The parent class State may have some essential setup that needs to be done for your widget to function correctly.\n    // No need to initialize ApiService here anymore\n  }\n\n  void _calculateBMI() async {\n    double weight = double.parse(_weightController.text); // Get weight value from TextField.\n    double height = double.parse(_heightController.text); // Get height value from TextField.\n\n    try {\n      // Use Provider.of to get ApiService instance.\n      final ApiService apiService = Provider.of&lt;ApiService&gt;(context, listen: false); // Get ApiService instance.\n      String result = await apiService.calculateBMI(weight, height); // Call calculateBMI method from ApiService.\n\n      // Extract the BMI value from the result string.\n\n      double bmi = double.parse(result.split(' ').last);\n\n      // Determine the color based on the BMI value.\n      if (bmi &lt; 18.5) {\n        _messageColor = Colors.orange; // Underweight\n      } else if (bmi &lt; 25) {\n        _messageColor = Colors.green; // Healthy Weight\n      } else if (bmi &lt; 30) {\n        _messageColor = Colors.red; // Overweight\n      } else {\n        _messageColor = Colors.grey; // Obese\n      }\n\n      setState(() {\n        _message = result; // Update _message with the result.\n      });\n    } catch (e) {\n      setState(() {\n        _message = 'Error: $e'; // If an error occurs, update _message with error message.\n        _messageColor = Colors.black; // Set color to black for error message.\n      });\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Padding(\n      padding: const EdgeInsets.all(16.0), // Padding around the entire Column widget.\n      child: Column( // Column widget to arrange children widgets vertically.\n        crossAxisAlignment: CrossAxisAlignment.stretch, // Stretch widgets horizontally.\n        children: &lt;Widget&gt;[\n          TextField( // TextField widget for weight input.\n            controller: _weightController, // Controller to manage text input.\n            decoration: InputDecoration( // Decoration for TextField.\n              labelText: 'Weight (kg)', // Label text for TextField.\n            ),\n            keyboardType: TextInputType.number, // Allow numeric input.\n          ),\n          TextField( // TextField widget for height input.\n            controller: _heightController, // Controller to manage text input.\n            decoration: InputDecoration( // Decoration for TextField.\n              labelText: 'Height (cm)', // Label text for TextField.\n            ),\n            keyboardType: TextInputType.number, // Allow numeric input.\n          ),\n          SizedBox(height: 20), // Empty space with a height of 20 pixels.\n          ElevatedButton( // ElevatedButton widget for BMI calculation.\n            onPressed: _calculateBMI, // Function to execute when button is pressed.\n            child: Text('Calculate BMI'), // Text displayed on the button.\n          ),\n          SizedBox(height: 20), // Empty space with a height of 20 pixels.\n          Text( // Text widget to display BMI calculation result or error message.\n            _message, // Text to display.\n            textAlign: TextAlign.center, // Center-align the text.\n            style: TextStyle(fontSize: 24, color: _messageColor), // Font size and color of the text.\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n<p><strong>pubspec.yaml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>remove all comments: \nname: bmi_calculator\ndescription: &quot;A new Flutter project.&quot;\n\n\nversion: 1.0.0+1\n\nenvironment:\n  sdk: '&gt;=3.4.3 &lt;4.0.0'\n\ndependencies:\n  flutter:\n    sdk: flutter\n\n  http: ^0.13.3\n  provider: ^5.0.0\n\n  cupertino_icons: ^1.0.6\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  mockito: ^5.0.7\n  \n  flutter_lints: ^3.0.0\n\n  uses-material-design: true\n</code></pre>\n<h3>What I Have Tried:</h3>\n<ol>\n<li><p><strong>Using <code>thenAnswer</code></strong>:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>when(mockApiService.calculateBMI(88, 186)).thenAnswer((_) async =&gt; '22.2');\n</code></pre>\n</li>\n<li><p><strong>Using <code>thenReturn</code> with Generic</strong>:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>when(mockApiService.calculateBMI(any, any)).thenReturn(Future&lt;String&gt;.value('22.2'));\n</code></pre>\n</li>\n<li><p><strong>Verifying Arguments</strong>:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>when(mockApiService.calculateBMI(88, 186)).thenAnswer((invocation) async {\n  final int weight = invocation.positionalArguments[0];\n  final int height = invocation.positionalArguments[1];\n  return '22.2';\n});\n</code></pre>\n</li>\n</ol>\n<h3>Issue:</h3>\n<pre><code>Despite these attempts, I am still encountering the type 'Null' is not a subtype of type 'Future&lt;String&gt;' error.My main.dart \n</code></pre>\n<p><strong>Question:</strong></p>\n<pre><code>How can I resolve this TypeError and correctly mock the calculateBMI method to return the expected future value?\n</code></pre>\n<p>My Flutter program runs perfectly, but I can't seem to pass the test in <strong>widget_test.dart</strong></p>\n",
        "codigo": [
            "══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════ The following _TypeError was thrown running a test: type 'Null' is not a subtype of type 'Future<String>'",
            "// Define a mock class for ApiService using Mockito\nclass MockApiService extends Mock implements ApiService {}\nvoid main() {\n  testWidgets('BMI Calculator Test', (WidgetTester tester) async {\n    final MockApiService mockApiService = MockApiService();\n\n    // Mock response for calculateBMI method\n    when(mockApiService.calculateBMI(88, 186)).thenReturn(Future.value('22.2'));\n\n    await tester.pumpWidget(\n      ChangeNotifierProvider(\n        create: (context) => mockApiService,\n        child: MaterialApp(\n          home: BmiCalculatorApp(),\n        ),\n      ),\n    );\n\n    // Verify if 'Calculate BMI' button is found on the screen\n    expect(find.text('Calculate BMI'), findsOneWidget);\n\n    // Find the ElevatedButton widget with 'Calculate BMI' text and tap it\n    await tester.tap(find.widgetWithText(ElevatedButton, 'Calculate BMI'));\n    await tester.pump();\n\n    // Wait for the async operation to complete\n    await tester.pump(Duration(seconds: 1));\n\n    // Verify if 'BMI result:' text is found exactly once on the screen\n    expect(find.text('Your BMI is 22.2'), findsOneWidget);\n  });\n}\n",
            "import 'package:mockito/mockito.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\n// Define a service class\nclass ApiService {\n  Future<String> calculateBMI(int weight, int height) async {\n    // Implementation that calculates BMI\n    return ((weight / (height / 100 * height / 100)).toStringAsFixed(1));\n  }\n}\n\n// Define a mock class\nclass MockApiService extends Mock implements ApiService {}\n\nvoid main() {\n  // Create an instance of the mock class\n  final mockApiService = MockApiService();\n\n  // Set up the mock to return a specific value\n  when(mockApiService.calculateBMI(88, 186)).thenReturn(Future.value('22.2'));\n\n  // Test case\n  test('Calculate BMI', () async {\n    final result = await mockApiService.calculateBMI(88, 186);\n    expect(result, '22.2');\n  });\n}\n",
            "import 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'api_service.dart'; // Import the ApiService class\n\nvoid main() {\n  runApp(\n    // This is the entry point of my Flutter application.\n    ChangeNotifierProvider( // This widget is used to provide a ChangeNotifier to its descendants. ChangeNotifierProvider: Listens for changes in the information and updates the app automatically.\n      create: (context) => ApiService(baseUrl: 'http://localhost:8080'), // Create an instance of ApiService with a base URL.\n      child: MaterialApp( // A widget that configures the MaterialApp.\n        home: BmiCalculatorApp(), // Set BmiCalculatorApp as the home screen of the app.\n      ),\n    ),\n  );\n}\n\nclass BmiCalculatorApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold( // Scaffold widget provides a standard app layout structure.\n      appBar: AppBar( // AppBar is the top bar of the app that typically contains the title and actions.\n        title: Text('BMI Calculator'), // Title of the AppBar.\n      ),\n      body: BmiCalculator(), // The main content of the app is BmiCalculator widget.\n    );\n  }\n}\n\nclass BmiCalculator extends StatefulWidget {\n  @override\n  _BmiCalculatorState createState() => _BmiCalculatorState();\n}\n\nclass _BmiCalculatorState extends State<BmiCalculator> {\n  final TextEditingController _weightController = TextEditingController(); // Controller to manage weight input.\n  final TextEditingController _heightController = TextEditingController(); // Controller to manage height input.\n  String _message = \"Please enter your height and weight\"; // Initial message displayed to the user.\n  Color _messageColor = Colors.black; // Color of the message text.\n\n  @override\n  void initState() {\n    super.initState(); // super.initState() This method call ensures that the initialization process of the parent class (State) is executed. The parent class State may have some essential setup that needs to be done for your widget to function correctly.\n    // No need to initialize ApiService here anymore\n  }\n\n  void _calculateBMI() async {\n    double weight = double.parse(_weightController.text); // Get weight value from TextField.\n    double height = double.parse(_heightController.text); // Get height value from TextField.\n\n    try {\n      // Use Provider.of to get ApiService instance.\n      final ApiService apiService = Provider.of<ApiService>(context, listen: false); // Get ApiService instance.\n      String result = await apiService.calculateBMI(weight, height); // Call calculateBMI method from ApiService.\n\n      // Extract the BMI value from the result string.\n\n      double bmi = double.parse(result.split(' ').last);\n\n      // Determine the color based on the BMI value.\n      if (bmi < 18.5) {\n        _messageColor = Colors.orange; // Underweight\n      } else if (bmi < 25) {\n        _messageColor = Colors.green; // Healthy Weight\n      } else if (bmi < 30) {\n        _messageColor = Colors.red; // Overweight\n      } else {\n        _messageColor = Colors.grey; // Obese\n      }\n\n      setState(() {\n        _message = result; // Update _message with the result.\n      });\n    } catch (e) {\n      setState(() {\n        _message = 'Error: $e'; // If an error occurs, update _message with error message.\n        _messageColor = Colors.black; // Set color to black for error message.\n      });\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Padding(\n      padding: const EdgeInsets.all(16.0), // Padding around the entire Column widget.\n      child: Column( // Column widget to arrange children widgets vertically.\n        crossAxisAlignment: CrossAxisAlignment.stretch, // Stretch widgets horizontally.\n        children: <Widget>[\n          TextField( // TextField widget for weight input.\n            controller: _weightController, // Controller to manage text input.\n            decoration: InputDecoration( // Decoration for TextField.\n              labelText: 'Weight (kg)', // Label text for TextField.\n            ),\n            keyboardType: TextInputType.number, // Allow numeric input.\n          ),\n          TextField( // TextField widget for height input.\n            controller: _heightController, // Controller to manage text input.\n            decoration: InputDecoration( // Decoration for TextField.\n              labelText: 'Height (cm)', // Label text for TextField.\n            ),\n            keyboardType: TextInputType.number, // Allow numeric input.\n          ),\n          SizedBox(height: 20), // Empty space with a height of 20 pixels.\n          ElevatedButton( // ElevatedButton widget for BMI calculation.\n            onPressed: _calculateBMI, // Function to execute when button is pressed.\n            child: Text('Calculate BMI'), // Text displayed on the button.\n          ),\n          SizedBox(height: 20), // Empty space with a height of 20 pixels.\n          Text( // Text widget to display BMI calculation result or error message.\n            _message, // Text to display.\n            textAlign: TextAlign.center, // Center-align the text.\n            style: TextStyle(fontSize: 24, color: _messageColor), // Font size and color of the text.\n          ),\n        ],\n      ),\n    );\n  }\n}\n",
            "remove all comments: \nname: bmi_calculator\ndescription: \"A new Flutter project.\"\n\n\nversion: 1.0.0+1\n\nenvironment:\n  sdk: '>=3.4.3 <4.0.0'\n\ndependencies:\n  flutter:\n    sdk: flutter\n\n  http: ^0.13.3\n  provider: ^5.0.0\n\n  cupertino_icons: ^1.0.6\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  mockito: ^5.0.7\n  \n  flutter_lints: ^3.0.0\n\n  uses-material-design: true\n",
            "thenAnswer",
            "when(mockApiService.calculateBMI(88, 186)).thenAnswer((_) async => '22.2');\n",
            "thenReturn",
            "when(mockApiService.calculateBMI(any, any)).thenReturn(Future<String>.value('22.2'));\n",
            "when(mockApiService.calculateBMI(88, 186)).thenAnswer((invocation) async {\n  final int weight = invocation.positionalArguments[0];\n  final int height = invocation.positionalArguments[1];\n  return '22.2';\n});\n",
            "Despite these attempts, I am still encountering the type 'Null' is not a subtype of type 'Future<String>' error.My main.dart \n",
            "How can I resolve this TypeError and correctly mock the calculateBMI method to return the expected future value?\n"
        ]
    },
    {
        "titulo": "Plugin [id: &#39;com.android.application&#39;, version: &#39;7.3.0&#39;, apply: false] was not found in any of the following sources: - Gradle Core Plugins (plugin",
        "score": 3,
        "views": 2759,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "dart",
            "gradle"
        ],
        "link": "https://stackoverflow.com/questions/78757525/plugin-id-com-android-application-version-7-3-0-apply-false-was-not-f",
        "conteudo_html": "<p>I just created a new flutter project. Without modifying any thing, I tried to run the project in a physical device (SM N975F (mobile) • RF8M802FS2E • android-arm64  • Android 12 (API 31)), but I got Build <strong>failed with an exception error</strong>. I have be stuck here for a week now.</p>\n<p><strong>Below is the full error description:</strong></p>\n<pre><code>    FAILURE: Build failed with an exception.\n\n* Where:\nSettings file '/Users/sule/Desktop/smcsw/android/settings.gradle' line: 21\n\n* What went wrong:\nPlugin [id: 'com.android.application', version: '7.3.0', apply: false] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Included Builds (None of the included builds contain this plugin)\n- Plugin Repositories (could not resolve plugin artifact 'com.android.application:com.android.application.gradle.plugin:7.3.0')\n  Searched in the following repositories:\n    Google\n    MavenRepo\n    Gradle Central Plugin Repository\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 3s\nRunning Gradle task 'assembleDebug'...                              4.4s\nError: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p><strong>Below is the my flutter doctor detail:</strong></p>\n<pre><code>[✓] Flutter (Channel stable, 3.22.2, on Mac OS X 10.15.7 19H2 darwin-x64, locale en-GB)\n    • Flutter version 3.22.2 on channel stable at /usr/local/Caskroom/flutter/3.22.2/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 761747bfc5 (6 weeks ago), 2024-06-05 22:15:13 +0200\n    • Engine revision edd8546116\n    • Dart version 3.4.3\n    • DevTools version 2.34.3\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /Users/sule/Library/Android/sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11609105)\n    • All Android licenses accepted.\n\n[!] Xcode - develop for iOS and macOS (Xcode 11.3.1)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 11C505\n    ✗ Flutter requires Xcode 14 or higher.\n      Download the latest version or update via the Mac App Store.\n    ! CocoaPods 1.11.3 out of date (1.13.0 is recommended).\n        CocoaPods is used to retrieve the iOS and macOS platform side's plugin code that responds to\n        your plugin usage on the Dart side.\n        Without CocoaPods, plugins will not work on iOS or macOS.\n        For more info, see https://flutter.dev/platform-plugins\n      To upgrade see https://guides.cocoapods.org/using/getting-started.html#updating-cocoapods for\n      instructions.\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2024.1)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11609105)\n\n[✓] VS Code (version 1.91.1)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.48.0\n\n[✓] Connected device (3 available)\n    • SM N975F (mobile) • RF8M802FS2E • android-arm64  • Android 12 (API 31)\n    • macOS (desktop)   • macos       • darwin-x64     • Mac OS X 10.15.7 19H2 darwin-x64\n    • Chrome (web)      • chrome      • web-javascript • Google Chrome 126.0.6478.127\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n</code></pre>\n<p><strong>Below is my Android/app/build.gradle:</strong></p>\n<pre><code>plugins {\n    id &quot;com.android.application&quot;\n    id &quot;kotlin-android&quot;\n    // The Flutter Gradle Plugin must be applied after the Android and Kotlin Gradle plugins.\n    id &quot;dev.flutter.flutter-gradle-plugin&quot;\n}\n\ndef localProperties = new Properties()\ndef localPropertiesFile = rootProject.file(&quot;local.properties&quot;)\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader(&quot;UTF-8&quot;) { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterVersionCode = localProperties.getProperty(&quot;flutter.versionCode&quot;)\nif (flutterVersionCode == null) {\n    flutterVersionCode = &quot;1&quot;\n}\n\ndef flutterVersionName = localProperties.getProperty(&quot;flutter.versionName&quot;)\nif (flutterVersionName == null) {\n    flutterVersionName = &quot;1.0&quot;\n}\n\nandroid {\n    namespace = &quot;com.example.smcsw&quot;\n    compileSdk = flutter.compileSdkVersion\n    ndkVersion = flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId = &quot;com.example.smcsw&quot;\n        // You can update the following values to match your application needs.\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.\n        minSdk = flutter.minSdkVersion\n        targetSdk = flutter.targetSdkVersion\n        versionCode = flutterVersionCode.toInteger()\n        versionName = flutterVersionName\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig = signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source = &quot;../..&quot;\n} \n</code></pre>\n<p><strong>Below is my Android/build.gradle:</strong></p>\n<pre><code>allprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = &quot;../build&quot; \nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(&quot;:app&quot;)\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>Below is my Android/settings.gradle:</strong></p>\n<pre><code>pluginManagement {\n    def flutterSdkPath = {\n        def properties = new Properties()\n        file(&quot;local.properties&quot;).withInputStream { properties.load(it) }\n        def flutterSdkPath = properties.getProperty(&quot;flutter.sdk&quot;)\n        assert flutterSdkPath != null, &quot;flutter.sdk not set in local.properties&quot;\n        return flutterSdkPath\n    }()\n\n    includeBuild(&quot;$flutterSdkPath/packages/flutter_tools/gradle&quot;)\n\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\nplugins {\n    id &quot;dev.flutter.flutter-plugin-loader&quot; version &quot;1.0.0&quot;\n    id &quot;com.android.application&quot; version &quot;7.3.0&quot; apply false\n    id &quot;org.jetbrains.kotlin.android&quot; version &quot;1.7.10&quot; apply false\n}\n</code></pre>\n<p><strong>Below is my Android/gradle.properties:</strong></p>\n<pre><code>org.gradle.jvmargs=-Xmx4G -XX:+HeapDumpOnOutOfMemoryError\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p><strong>Below is my my gradle-wrapper.propertes:</strong></p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.3-all.zip\n</code></pre>\n<p>I have been stuck here for a week now. I have tried changing the builds, the distribution url and search endlessly online but no help. Please assist me.</p>\n",
        "codigo": [
            "    FAILURE: Build failed with an exception.\n\n* Where:\nSettings file '/Users/sule/Desktop/smcsw/android/settings.gradle' line: 21\n\n* What went wrong:\nPlugin [id: 'com.android.application', version: '7.3.0', apply: false] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Included Builds (None of the included builds contain this plugin)\n- Plugin Repositories (could not resolve plugin artifact 'com.android.application:com.android.application.gradle.plugin:7.3.0')\n  Searched in the following repositories:\n    Google\n    MavenRepo\n    Gradle Central Plugin Repository\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 3s\nRunning Gradle task 'assembleDebug'...                              4.4s\nError: Gradle task assembleDebug failed with exit code 1\n",
            "[✓] Flutter (Channel stable, 3.22.2, on Mac OS X 10.15.7 19H2 darwin-x64, locale en-GB)\n    • Flutter version 3.22.2 on channel stable at /usr/local/Caskroom/flutter/3.22.2/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 761747bfc5 (6 weeks ago), 2024-06-05 22:15:13 +0200\n    • Engine revision edd8546116\n    • Dart version 3.4.3\n    • DevTools version 2.34.3\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /Users/sule/Library/Android/sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11609105)\n    • All Android licenses accepted.\n\n[!] Xcode - develop for iOS and macOS (Xcode 11.3.1)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 11C505\n    ✗ Flutter requires Xcode 14 or higher.\n      Download the latest version or update via the Mac App Store.\n    ! CocoaPods 1.11.3 out of date (1.13.0 is recommended).\n        CocoaPods is used to retrieve the iOS and macOS platform side's plugin code that responds to\n        your plugin usage on the Dart side.\n        Without CocoaPods, plugins will not work on iOS or macOS.\n        For more info, see https://flutter.dev/platform-plugins\n      To upgrade see https://guides.cocoapods.org/using/getting-started.html#updating-cocoapods for\n      instructions.\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2024.1)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.10+0-17.0.10b1087.21-11609105)\n\n[✓] VS Code (version 1.91.1)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.48.0\n\n[✓] Connected device (3 available)\n    • SM N975F (mobile) • RF8M802FS2E • android-arm64  • Android 12 (API 31)\n    • macOS (desktop)   • macos       • darwin-x64     • Mac OS X 10.15.7 19H2 darwin-x64\n    • Chrome (web)      • chrome      • web-javascript • Google Chrome 126.0.6478.127\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n",
            "plugins {\n    id \"com.android.application\"\n    id \"kotlin-android\"\n    // The Flutter Gradle Plugin must be applied after the Android and Kotlin Gradle plugins.\n    id \"dev.flutter.flutter-gradle-plugin\"\n}\n\ndef localProperties = new Properties()\ndef localPropertiesFile = rootProject.file(\"local.properties\")\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader(\"UTF-8\") { reader ->\n        localProperties.load(reader)\n    }\n}\n\ndef flutterVersionCode = localProperties.getProperty(\"flutter.versionCode\")\nif (flutterVersionCode == null) {\n    flutterVersionCode = \"1\"\n}\n\ndef flutterVersionName = localProperties.getProperty(\"flutter.versionName\")\nif (flutterVersionName == null) {\n    flutterVersionName = \"1.0\"\n}\n\nandroid {\n    namespace = \"com.example.smcsw\"\n    compileSdk = flutter.compileSdkVersion\n    ndkVersion = flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId = \"com.example.smcsw\"\n        // You can update the following values to match your application needs.\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.\n        minSdk = flutter.minSdkVersion\n        targetSdk = flutter.targetSdkVersion\n        versionCode = flutterVersionCode.toInteger()\n        versionName = flutterVersionName\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig = signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source = \"../..\"\n} \n",
            "allprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = \"../build\" \nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n}\nsubprojects {\n    project.evaluationDependsOn(\":app\")\n}\n\ntasks.register(\"clean\", Delete) {\n    delete rootProject.buildDir\n}\n",
            "pluginManagement {\n    def flutterSdkPath = {\n        def properties = new Properties()\n        file(\"local.properties\").withInputStream { properties.load(it) }\n        def flutterSdkPath = properties.getProperty(\"flutter.sdk\")\n        assert flutterSdkPath != null, \"flutter.sdk not set in local.properties\"\n        return flutterSdkPath\n    }()\n\n    includeBuild(\"$flutterSdkPath/packages/flutter_tools/gradle\")\n\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\nplugins {\n    id \"dev.flutter.flutter-plugin-loader\" version \"1.0.0\"\n    id \"com.android.application\" version \"7.3.0\" apply false\n    id \"org.jetbrains.kotlin.android\" version \"1.7.10\" apply false\n}\n",
            "org.gradle.jvmargs=-Xmx4G -XX:+HeapDumpOnOutOfMemoryError\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n",
            "distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6.3-all.zip\n"
        ]
    },
    {
        "titulo": "Flutter/Tensorflow missmatching shapes error",
        "score": 0,
        "views": 76,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "machine-learning",
            "artificial-intelligence",
            "tensorflow-lite"
        ],
        "link": "https://stackoverflow.com/questions/78727055/flutter-tensorflow-missmatching-shapes-error",
        "conteudo_html": "<p>I'm making a flutter app running a tensorflow Lite model. I got the following error:</p>\n<p><code>Cannot copy from a TensorFlowLite tensor (Identity) with shape [1, 2] to a Java object with shape [1, 215].</code></p>\n<p>Backstory: My trained algorithm uses 215 columns and outputs 1 or 0. Below you can find a screenshot using netron.app: <a href=\"https://i.sstatic.net/2sP0ElM6.png\" rel=\"nofollow noreferrer\">Netron graph</a></p>\n<p>I cannot understand why the thing wants to copy the shape [1,2] (output) into the input Java class. The code for this is so high level that I cannot debug it properly. I can't find my way around the Tensorflow Lite documentation for flutter, it only describes input arguments of the function breaking the code. Below is the function that is breaking, the error is in the <code>runModelOnBinary()</code> function. Any general direction/help/experience?</p>\n<pre><code>void evaluateModel() async {\n    try {\n           \n\n      // Generate random input data with 215 columns to match the expected input size of 860 bytes\n      List&lt;double&gt; inputData = List.generate(215, (index) =&gt; Random().nextInt(2).toDouble());\n\n      // Convert List&lt;double&gt; to Float32List\n      Float32List inputBytes = Float32List.fromList(inputData);\n\n      // Convert Float32List to Uint8List\n      Uint8List inputUint8List = inputBytes.buffer.asUint8List();\n      print(inputData);\n      // Run the model on the input data\n      var output = await Tflite.runModelOnBinary(\n        binary: inputUint8List,\n        numResults: 2, // Adjust this as necessary\n      );\n      print(&quot;here2&quot;);\n      // Handle null or empty output\n      if (output == null || output.isEmpty) {\n        var result = output?[0]; \n/* ChatGPT told me to do so, previously was taking the output var as the printable result. \nI don't think there is much difference for this issue as it's after the code breaks*/\n        setState(() {\n          _output = &quot;Predicted: ${result['label']} (${result['confidence']})&quot;;\n        });\n      } else {\n        setState(() {\n          _output = output.toString();\n        });\n      }\n    } catch (e) {\n      // Catch any errors and display them\n      setState(() {\n        _output = &quot;Error running model: $e&quot;;\n      });\n    }\n  }\n</code></pre>\n<p>I have tried adjusting the numResults argument, looking at documentation and even chatGippidy, which suggested to do var result = output?[0], put everything is too vague and doesn't go into how this particular stack works.</p>\n",
        "codigo": [
            "Cannot copy from a TensorFlowLite tensor (Identity) with shape [1, 2] to a Java object with shape [1, 215].",
            "runModelOnBinary()",
            "void evaluateModel() async {\n    try {\n           \n\n      // Generate random input data with 215 columns to match the expected input size of 860 bytes\n      List<double> inputData = List.generate(215, (index) => Random().nextInt(2).toDouble());\n\n      // Convert List<double> to Float32List\n      Float32List inputBytes = Float32List.fromList(inputData);\n\n      // Convert Float32List to Uint8List\n      Uint8List inputUint8List = inputBytes.buffer.asUint8List();\n      print(inputData);\n      // Run the model on the input data\n      var output = await Tflite.runModelOnBinary(\n        binary: inputUint8List,\n        numResults: 2, // Adjust this as necessary\n      );\n      print(\"here2\");\n      // Handle null or empty output\n      if (output == null || output.isEmpty) {\n        var result = output?[0]; \n/* ChatGPT told me to do so, previously was taking the output var as the printable result. \nI don't think there is much difference for this issue as it's after the code breaks*/\n        setState(() {\n          _output = \"Predicted: ${result['label']} (${result['confidence']})\";\n        });\n      } else {\n        setState(() {\n          _output = output.toString();\n        });\n      }\n    } catch (e) {\n      // Catch any errors and display them\n      setState(() {\n        _output = \"Error running model: $e\";\n      });\n    }\n  }\n"
        ]
    },
    {
        "titulo": "flutter pub upgrade is not upgrading my dependencies",
        "score": 0,
        "views": 138,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78718404/flutter-pub-upgrade-is-not-upgrading-my-dependencies",
        "conteudo_html": "<p>AFter I load a flutter project from GitHub and run flutter get pub I am getting this in the terminal window:</p>\n<pre><code> PS C:\\deal_diligence\\deal_diligence&gt; flutter pub get\nFlutter assets will be downloaded from\nhttps://storage.flutter-io.cn. Make sure you trust this     \nsource!\nResolving dependencies... (1.1s)\nNote: web is pinned to version 0.4.2 by flutter_test from the flutter SDK.\nSee https://dart.dev/go/sdk-version-pinning for details.    \n\n\nBecause every version of flutter_test from sdk depends on   \n  web 0.4.2 and deal_diligence depends on web ^0.5.0,       \n  flutter_test from sdk is forbidden.\nSo, because deal_diligence depends on flutter_test from     \n  sdk, version solving failed.\n</code></pre>\n<p>I have tried several of the solutions I found here in stackoverflow.com but nothing works.</p>\n<p>I have tried flutter pub upgrade but I get the same error.</p>\n<p>This is the output of flutter doctor:</p>\n<pre><code>PS C:\\deal_diligence\\deal_diligence&gt; flutter doctor -v\nFlutter assets will be downloaded from\nhttps://storage.flutter-io.cn. Make sure you trust this     \nsource!\n[√] Flutter (Channel stable, 3.16.8, on Microsoft Windows\n    [Version 10.0.22631.3810], locale en-US)\n    • Flutter version 3.16.8 on channel stable at\n      c:\\src\\flutter\\flutter\n    • Upstream repository\n      https://github.com/flutter/flutter.git\n    • Framework revision 67457e669f (6 months ago),\n      2024-01-16 16:22:29 -0800\n    • Engine revision 6e2ea58a5c\n    • Dart version 3.2.5\n    • DevTools version 2.28.5\n    • Pub download mirror https://pub.flutter-io.cn\n    • Flutter download mirror https://storage.flutter-io.cn\n\n[√] Windows Version (Installed version of Windows is version\n    10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android\n    SDK version 30.0.3)\n    • Android SDK at\n      C:\\Users\\nkane\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 30.0.3\n    • Java binary at: C:\\Program Files\\Android\\Android      \n      Studio1\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build       \n      17.0.7+0-b2043.56-10550314)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program\n      Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio     \n    Community 2022 17.8.5)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual    \n      Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.8.34511.84    \n    • Windows 10 SDK version 10.0.22621.0\n\n[√] Android Studio (version 2020.3)\n    • Android Studio at C:\\Program Files\\Android\\Android    \n      Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter    \n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart       \n    • Java version OpenJDK Runtime Environment (build       \n      11.0.10+0-b96-7249189)\n\n[√] Android Studio (version 2023.1)\n    • Android Studio at C:\\Program Files\\Android\\Android    \n      Studio1\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter    \n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart       \n    • Java version OpenJDK Runtime Environment (build       \n      17.0.7+0-b2043.56-10550314)\n\n[√] VS Code (version 1.91.0)\n    • VS Code at\n      C:\\Users\\nkane\\AppData\\Local\\Programs\\Microsoft VS    \n      Code\n    • Flutter extension version 3.92.0\n\n[√] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    •        \n      Microsoft Windows [Version 10.0.22631.3810]\n    • Chrome (web)      • chrome  • web-javascript • Google \n      Chrome 126.0.6478.127\n    • Edge (web)        • edge    • web-javascript •        \n      Microsoft Edge 126.0.2592.87\n\n[√] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n<p>Here are the dependencies in the pubspec.yaml file:</p>\n<pre><code>dependencies:\n  flutter:\n    sdk: flutter\n\n\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons: ^1.0.2\n  flutter_riverpod: ^2.4.3\n  # firebase_auth: ^4.10.1\n  firebase_auth: ^4.19.5\n  # cloud_firestore: ^4.9.3\n  cloud_firestore: ^4.17.3\n  # firebase_core: ^2.17.0\n  firebase_core: ^2.31.0\n  firebase_core_web: ^2.17.0\n  modal_progress_hud_nsn: ^0.5.1\n  mask_text_input_formatter: ^2.5.0\n  uuid: ^4.1.0\n  url_launcher: ^6.1.14\n  intl: ^0.19.0\n  webview_flutter: ^4.4.1\n  web: ^0.4.2\n  table_calendar: ^3.0.9\n  persistent_bottom_nav_bar_v2: ^5.2.3\n  # firebase_messaging: ^14.7.4\n  firebase_messaging: ^14.9.2\n  flutter_local_notifications: ^17.1.2\n  google_fonts: ^6.2.0\n  flutter_dotenv: ^5.1.0\n  http: ^1.1.0\n  purchases_flutter: ^6.5.1\n  googleapis: ^13.1.0\n  googleapis_auth: ^1.4.1\n  add_2_calendar: ^3.0.1\n  mailer: ^6.0.1\n  google_sign_in: ^6.2.1\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  # The &quot;flutter_lints&quot; package below contains a set of recommended lints to\n  # encourage good coding practices. The lint set provided by the package is\n  # activated in the `analysis_options.yaml` file located at the root of your\n  # package. See that file for information about deactivating specific lint\n  # rules and activating additional ones.\n  flutter_lints: ^4.0.0\n  change_app_package_name: ^1.1.0\n</code></pre>\n<p>What can I do to get these dependencies to register?\nThanks</p>\n",
        "codigo": [
            " PS C:\\deal_diligence\\deal_diligence> flutter pub get\nFlutter assets will be downloaded from\nhttps://storage.flutter-io.cn. Make sure you trust this     \nsource!\nResolving dependencies... (1.1s)\nNote: web is pinned to version 0.4.2 by flutter_test from the flutter SDK.\nSee https://dart.dev/go/sdk-version-pinning for details.    \n\n\nBecause every version of flutter_test from sdk depends on   \n  web 0.4.2 and deal_diligence depends on web ^0.5.0,       \n  flutter_test from sdk is forbidden.\nSo, because deal_diligence depends on flutter_test from     \n  sdk, version solving failed.\n",
            "PS C:\\deal_diligence\\deal_diligence> flutter doctor -v\nFlutter assets will be downloaded from\nhttps://storage.flutter-io.cn. Make sure you trust this     \nsource!\n[√] Flutter (Channel stable, 3.16.8, on Microsoft Windows\n    [Version 10.0.22631.3810], locale en-US)\n    • Flutter version 3.16.8 on channel stable at\n      c:\\src\\flutter\\flutter\n    • Upstream repository\n      https://github.com/flutter/flutter.git\n    • Framework revision 67457e669f (6 months ago),\n      2024-01-16 16:22:29 -0800\n    • Engine revision 6e2ea58a5c\n    • Dart version 3.2.5\n    • DevTools version 2.28.5\n    • Pub download mirror https://pub.flutter-io.cn\n    • Flutter download mirror https://storage.flutter-io.cn\n\n[√] Windows Version (Installed version of Windows is version\n    10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android\n    SDK version 30.0.3)\n    • Android SDK at\n      C:\\Users\\nkane\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 30.0.3\n    • Java binary at: C:\\Program Files\\Android\\Android      \n      Studio1\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build       \n      17.0.7+0-b2043.56-10550314)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program\n      Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio     \n    Community 2022 17.8.5)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual    \n      Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.8.34511.84    \n    • Windows 10 SDK version 10.0.22621.0\n\n[√] Android Studio (version 2020.3)\n    • Android Studio at C:\\Program Files\\Android\\Android    \n      Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter    \n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart       \n    • Java version OpenJDK Runtime Environment (build       \n      11.0.10+0-b96-7249189)\n\n[√] Android Studio (version 2023.1)\n    • Android Studio at C:\\Program Files\\Android\\Android    \n      Studio1\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter    \n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart       \n    • Java version OpenJDK Runtime Environment (build       \n      17.0.7+0-b2043.56-10550314)\n\n[√] VS Code (version 1.91.0)\n    • VS Code at\n      C:\\Users\\nkane\\AppData\\Local\\Programs\\Microsoft VS    \n      Code\n    • Flutter extension version 3.92.0\n\n[√] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    •        \n      Microsoft Windows [Version 10.0.22631.3810]\n    • Chrome (web)      • chrome  • web-javascript • Google \n      Chrome 126.0.6478.127\n    • Edge (web)        • edge    • web-javascript •        \n      Microsoft Edge 126.0.2592.87\n\n[√] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n",
            "dependencies:\n  flutter:\n    sdk: flutter\n\n\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons: ^1.0.2\n  flutter_riverpod: ^2.4.3\n  # firebase_auth: ^4.10.1\n  firebase_auth: ^4.19.5\n  # cloud_firestore: ^4.9.3\n  cloud_firestore: ^4.17.3\n  # firebase_core: ^2.17.0\n  firebase_core: ^2.31.0\n  firebase_core_web: ^2.17.0\n  modal_progress_hud_nsn: ^0.5.1\n  mask_text_input_formatter: ^2.5.0\n  uuid: ^4.1.0\n  url_launcher: ^6.1.14\n  intl: ^0.19.0\n  webview_flutter: ^4.4.1\n  web: ^0.4.2\n  table_calendar: ^3.0.9\n  persistent_bottom_nav_bar_v2: ^5.2.3\n  # firebase_messaging: ^14.7.4\n  firebase_messaging: ^14.9.2\n  flutter_local_notifications: ^17.1.2\n  google_fonts: ^6.2.0\n  flutter_dotenv: ^5.1.0\n  http: ^1.1.0\n  purchases_flutter: ^6.5.1\n  googleapis: ^13.1.0\n  googleapis_auth: ^1.4.1\n  add_2_calendar: ^3.0.1\n  mailer: ^6.0.1\n  google_sign_in: ^6.2.1\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  # The \"flutter_lints\" package below contains a set of recommended lints to\n  # encourage good coding practices. The lint set provided by the package is\n  # activated in the `analysis_options.yaml` file located at the root of your\n  # package. See that file for information about deactivating specific lint\n  # rules and activating additional ones.\n  flutter_lints: ^4.0.0\n  change_app_package_name: ^1.1.0\n"
        ]
    },
    {
        "titulo": "Mockito BlocTest &quot;type &#39;Null&#39; is not a subtype of type &#39;Future&lt;UserModel&gt;&#39;&quot;",
        "score": 0,
        "views": 43,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "mockito",
            "bloc"
        ],
        "link": "https://stackoverflow.com/questions/78713244/mockito-bloctest-type-null-is-not-a-subtype-of-type-futureusermodel",
        "conteudo_html": "<p>I am mocking my sign up function which utilizes firebase. My issue is that when I call the  builder in the BlocTest, somehow it is getting null as the value. I don't understand, as kMockTeacher is defined as a UserModel in my user_model.dart:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>final kMockTeacher = UserModel(\n    firstName: 'Logan',\n    lastName: 'V',\n    email: 'logan@getstream.io',\n    role: UserRole.teacher,\n    token: '',\n    id: '1');\n</code></pre>\n<p><strong>build: () in auth_test.dart</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code> when(\n          authService.signUpWithEmailAndPassword(registrationModel),\n        ).thenReturn(\n          Future&lt;UserModel&gt;.value(kMockTeacher),\n        );\n</code></pre>\n<p><strong>services.dart</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;UserModel&gt; signUpWithEmailAndPassword(\n    final UserRegistrationModel user,\n  );\n</code></pre>\n<p><strong>auth_test.dart:</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:bloc_test/bloc_test.dart';\nimport 'package:edtech/backend/services/services.dart';\nimport 'package:edtech/blocs/auth_cubit/auth_bloc.dart';\nimport 'package:edtech/models/models.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\n\nclass MockedDatabaseService extends Mock implements DatabaseService {}\n\nclass MockedAuthService extends Mock implements AuthService {}\n\nvoid main() {\n  group(&quot;Test Sign Up functions&quot;, () {\n    late AuthService authService;\n    late DatabaseService databaseService;\n    late AuthBloc bloc;\n    late UserRegistrationModel registrationModel;\n\n    setUpAll(() {\n      authService = MockedAuthService();\n      databaseService = MockedDatabaseService();\n      registrationModel = UserRegistrationModel(\n          password: 'password',\n          firstName: kMockTeacher.firstName,\n          lastName: kMockTeacher.lastName,\n          email: kMockTeacher.email,\n          role: kMockTeacher.role);\n      bloc = AuthBloc(UnAuthenticatedState(), authService);\n    });\n\n    blocTest&lt;AuthBloc, AuthState&gt;(\n      'emits AuthLoading followed by AuthenticatedState',\n\n      build: () {\n        when(\n          authService.signUpWithEmailAndPassword(registrationModel),\n        ).thenReturn(\n          Future&lt;UserModel&gt;.value(kMockTeacher),\n        );\n\n        return bloc;\n      },\n      act: (bloc) =&gt; bloc.signUp(user: registrationModel),\n      expect: () =&gt; [\n        AuthLoadingState(),\n        AuthenticatedState(user: kMockTeacher),\n      ],\n    );\n\n    tearDown(() {\n      bloc.close();\n    });\n  });\n}\n</code></pre>\n<p>I have ran the test in debug mode attempting to get the value of <code>Future&lt;UserModel&gt;.value(kMockTeacher)</code>, but compilation fails before I can get it.</p>\n",
        "codigo": [
            "final kMockTeacher = UserModel(\n    firstName: 'Logan',\n    lastName: 'V',\n    email: 'logan@getstream.io',\n    role: UserRole.teacher,\n    token: '',\n    id: '1');\n",
            " when(\n          authService.signUpWithEmailAndPassword(registrationModel),\n        ).thenReturn(\n          Future<UserModel>.value(kMockTeacher),\n        );\n",
            "Future<UserModel> signUpWithEmailAndPassword(\n    final UserRegistrationModel user,\n  );\n",
            "import 'package:bloc_test/bloc_test.dart';\nimport 'package:edtech/backend/services/services.dart';\nimport 'package:edtech/blocs/auth_cubit/auth_bloc.dart';\nimport 'package:edtech/models/models.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\n\nclass MockedDatabaseService extends Mock implements DatabaseService {}\n\nclass MockedAuthService extends Mock implements AuthService {}\n\nvoid main() {\n  group(\"Test Sign Up functions\", () {\n    late AuthService authService;\n    late DatabaseService databaseService;\n    late AuthBloc bloc;\n    late UserRegistrationModel registrationModel;\n\n    setUpAll(() {\n      authService = MockedAuthService();\n      databaseService = MockedDatabaseService();\n      registrationModel = UserRegistrationModel(\n          password: 'password',\n          firstName: kMockTeacher.firstName,\n          lastName: kMockTeacher.lastName,\n          email: kMockTeacher.email,\n          role: kMockTeacher.role);\n      bloc = AuthBloc(UnAuthenticatedState(), authService);\n    });\n\n    blocTest<AuthBloc, AuthState>(\n      'emits AuthLoading followed by AuthenticatedState',\n\n      build: () {\n        when(\n          authService.signUpWithEmailAndPassword(registrationModel),\n        ).thenReturn(\n          Future<UserModel>.value(kMockTeacher),\n        );\n\n        return bloc;\n      },\n      act: (bloc) => bloc.signUp(user: registrationModel),\n      expect: () => [\n        AuthLoadingState(),\n        AuthenticatedState(user: kMockTeacher),\n      ],\n    );\n\n    tearDown(() {\n      bloc.close();\n    });\n  });\n}\n",
            "Future<UserModel>.value(kMockTeacher)"
        ]
    },
    {
        "titulo": "how to migrate to null-safety - Expected a value of type List&lt;ClassroomRoutineModel&gt; , but got one of type List &lt;dynamic&gt;",
        "score": 0,
        "views": 31,
        "respostas": 1,
        "tags": [
            "json",
            "flutter",
            "dart",
            "null-safety"
        ],
        "link": "https://stackoverflow.com/questions/78711430/how-to-migrate-to-null-safety-expected-a-value-of-type-listclassroomroutinemo",
        "conteudo_html": "<p>I'm trying to migrate an old project to null-safety, and I'm struggling with loading data from assets,\nHere is my code :</p>\n<pre><code>ClassroomModel _$ClassroomModelFromJson(Map&lt;String, dynamic&gt; json) {\nreturn ClassroomModel(\ntitle: json['title'] as String,\ndescription: json['description'] as String,\ncoverImage: json['coverImage'] as String,\nclassroomRoutines: json['classroomRoutines'].toList()\n      ?.map((e) =&gt; e == null\n  ? null\n  : ClassroomRoutineModel.fromJson(e as Map&lt;String, dynamic&gt;))\n  ?.toList(),\ntimeBetweenAsanas: json['timeBetweenAsanas'] as int,\nisPredefined: json['isPredefined'] as bool,  \n );  \n}\n\nMap&lt;String, dynamic&gt; _$ClassroomModelToJson(ClassroomModel instance) =&gt;\n&lt;String, dynamic&gt;{\n  'title': instance.title,\n  'description': instance.description,\n  'coverImage': instance.coverImage,\n  'timeBetweenAsanas': instance.timeBetweenAsanas,\n  'isPredefined': instance.isPredefined,\n  'classroomRoutines': instance.classroomRoutines!.map((e) =&gt; e.toJson()),\n};\n\n\nfactory ClassroomModel.fromJSON(Map&lt;String, dynamic&gt; json) =&gt; _$ClassroomModelFromJson(json); \n\nMap&lt;String, dynamic&gt; toJSON() =&gt; _$ClassroomModelToJson(this);\n\n\nFuture&lt;List&lt;ClassroomModel&gt;&gt; _loadClassroomsFromJSON() async {\n\nfinal jsonString = await rootBundle.loadString(DataAssets.classroomsJson);\nfinal List&lt;dynamic&gt; jsonDecoded = json.decode(jsonString);\n\nreturn jsonDecoded.map((e) =&gt; ClassroomModel.fromJSON(e)).toList(); }\n</code></pre>\n<p>I got this</p>\n<pre><code>Error : Expected a value of type List&lt;ClassroomRoutineModel&gt; , but got one of type List &lt;dynamic&gt; \n</code></pre>\n<p>Thank you so much for your help</p>\n",
        "codigo": [
            "ClassroomModel _$ClassroomModelFromJson(Map<String, dynamic> json) {\nreturn ClassroomModel(\ntitle: json['title'] as String,\ndescription: json['description'] as String,\ncoverImage: json['coverImage'] as String,\nclassroomRoutines: json['classroomRoutines'].toList()\n      ?.map((e) => e == null\n  ? null\n  : ClassroomRoutineModel.fromJson(e as Map<String, dynamic>))\n  ?.toList(),\ntimeBetweenAsanas: json['timeBetweenAsanas'] as int,\nisPredefined: json['isPredefined'] as bool,  \n );  \n}\n\nMap<String, dynamic> _$ClassroomModelToJson(ClassroomModel instance) =>\n<String, dynamic>{\n  'title': instance.title,\n  'description': instance.description,\n  'coverImage': instance.coverImage,\n  'timeBetweenAsanas': instance.timeBetweenAsanas,\n  'isPredefined': instance.isPredefined,\n  'classroomRoutines': instance.classroomRoutines!.map((e) => e.toJson()),\n};\n\n\nfactory ClassroomModel.fromJSON(Map<String, dynamic> json) => _$ClassroomModelFromJson(json); \n\nMap<String, dynamic> toJSON() => _$ClassroomModelToJson(this);\n\n\nFuture<List<ClassroomModel>> _loadClassroomsFromJSON() async {\n\nfinal jsonString = await rootBundle.loadString(DataAssets.classroomsJson);\nfinal List<dynamic> jsonDecoded = json.decode(jsonString);\n\nreturn jsonDecoded.map((e) => ClassroomModel.fromJSON(e)).toList(); }\n",
            "Error : Expected a value of type List<ClassroomRoutineModel> , but got one of type List <dynamic> \n"
        ]
    },
    {
        "titulo": "Not able to install BoringSSL-GRPC (0.0.32)",
        "score": 0,
        "views": 701,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "boringssl"
        ],
        "link": "https://stackoverflow.com/questions/78682594/not-able-to-install-boringssl-grpc-0-0-32",
        "conteudo_html": "<p>Comparing resolved specification to the sandbox manifest\nA BoringSSL-GRPC\nA Firebase\nA FirebaseAppCheckInterop\nA FirebaseAuth\nA FirebaseAuthInterop\nA FirebaseCore\nA FirebaseCoreExtension\nA FirebaseCoreInternal\nA FirebaseDynamicLinks\nA FirebaseFirestore\nA FirebaseFirestoreInternal\nA FirebaseFunctions\nA FirebaseInstallations\nA FirebaseMessaging\nA FirebaseMessagingInterop\nA FirebaseSharedSwift\nA FirebaseStorage\nA Flutter\nA GTMSessionFetcher\nA Google-Mobile-Ads-SDK\nA GoogleAppMeasurement\nA GoogleDataTransport\nA GoogleMaps\nA GoogleUserMessagingPlatform\nA GoogleUtilities\nA PhoneNumberKit\nA PromisesObjC\nA RecaptchaInterop\nA TOCropViewController\nA Toast\nA abseil\nA cloud_firestore\nA cloud_functions\nA firebase_auth\nA firebase_core\nA firebase_dynamic_links\nA firebase_messaging\nA firebase_storage\nA flutter_local_notifications\nA fluttertoast\nA gRPC-C++\nA gRPC-Core\nA geolocator_apple\nA google_maps_flutter_ios\nA google_mobile_ads\nA image_cropper\nA image_gallery_saver\nA image_picker_ios\nA leveldb-library\nA libphonenumber_plugin\nA nanopb\nA package_info_plus\nA path_provider_foundation\nA permission_handler_apple\nA printing\nA rive_common\nA share_plus\nA shared_preferences_foundation\nA sqflite\nA url_launcher_ios\nA video_player_avfoundation</p>\n<pre><code>Downloading dependencies\n\n-&gt; Installing BoringSSL-GRPC (0.0.32)\n &gt; Git download\n &gt; Git download\n     $ /usr/local/bin/git clone https://github.com/google/boringssl.git /var/folders/fg/nkf873b15rl4gkd24n7vh5cc0000gn/T/d20240629-37065-fhuz3l --template=\n\n[!] Error installing BoringSSL-GRPC\n[!] /usr/local/bin/git clone https://github.com/google/boringssl.git /var/folders/fg/nkf873b15rl4gkd24n7vh5cc0000gn/T/d20240629-37065-fhuz3l --template=\n\nCloning into '/var/folders/fg/nkf873b15rl4gkd24n7vh5cc0000gn/T/d20240629-37065-fhuz3l'...\nerror: 2399 bytes of body are still expected\nfetch-pack: unexpected disconnect while reading sideband packet\nfatal: early EOF\nfatal: fetch-pack: invalid index-pack output\n\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:144:in `rescue in execute_command'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:141:in `execute_command'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-downloader-2.1/lib/cocoapods-downloader/base.rb:175:in `block in executable'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-downloader-2.1/lib/cocoapods-downloader/git.rb:107:in `block in clone'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:175:in `block in ui_sub_action'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:64:in `section'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:174:in `ui_sub_action'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-downloader-2.1/lib/cocoapods-downloader/git.rb:105:in `clone'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-downloader-2.1/lib/cocoapods-downloader/git.rb:73:in `download!'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-downloader-2.1/lib/cocoapods-downloader/base.rb:83:in `block in download'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:159:in `block in ui_action'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:64:in `section'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:158:in `ui_action'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-downloader-2.1/lib/cocoapods-downloader/base.rb:81:in `download'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:110:in `download_source'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:77:in `download_request'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader/cache.rb:256:in `download'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader/cache.rb:239:in `block in uncached_pod'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader/cache.rb:266:in `in_tmpdir'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader/cache.rb:238:in `uncached_pod'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader/cache.rb:33:in `download_pod'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:42:in `download'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer/pod_source_downloader.rb:69:in `download!'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer/pod_source_installer.rb:117:in `download_source'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer/pod_source_installer.rb:67:in `install!'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:621:in `install_source_of_pod'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:539:in `block (2 levels) in install_pod_sources'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:86:in `titled_section'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:538:in `block in install_pod_sources'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:535:in `each'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:535:in `install_pod_sources'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:258:in `block in download_dependencies'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:64:in `section'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:257:in `download_dependencies'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:163:in `install!'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/command/install.rb:52:in `run'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/claide-1.1.0/lib/claide/command.rb:334:in `run'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:52:in `run'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/bin/pod:55:in `&lt;top (required)&gt;'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/bin/pod:25:in `load'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/bin/pod:25:in `&lt;main&gt;'\n</code></pre>\n<p>Error output from CocoaPods:\n↳\nCloning into '/var/folders/fg/nkf873b15rl4gkd24n7vh5cc0000gn/T/d20240629-37065-fhuz3l'...\nerror: 2399 bytes of body are still expected\nfetch-pack: unexpected disconnect while reading sideband packet\nfatal: early EOF\nfatal: fetch-pack: invalid index-pack output</p>\n<p>I was trying to launch an app and it was on pod install and then, i got this error. Tried various solutions to this but still the same. The line &quot;error: 2981 bytes of body are still expected&quot; comes out with different numbers after &quot;pod install&quot;.</p>\n",
        "codigo": [
            "Downloading dependencies\n\n-> Installing BoringSSL-GRPC (0.0.32)\n > Git download\n > Git download\n     $ /usr/local/bin/git clone https://github.com/google/boringssl.git /var/folders/fg/nkf873b15rl4gkd24n7vh5cc0000gn/T/d20240629-37065-fhuz3l --template=\n\n[!] Error installing BoringSSL-GRPC\n[!] /usr/local/bin/git clone https://github.com/google/boringssl.git /var/folders/fg/nkf873b15rl4gkd24n7vh5cc0000gn/T/d20240629-37065-fhuz3l --template=\n\nCloning into '/var/folders/fg/nkf873b15rl4gkd24n7vh5cc0000gn/T/d20240629-37065-fhuz3l'...\nerror: 2399 bytes of body are still expected\nfetch-pack: unexpected disconnect while reading sideband packet\nfatal: early EOF\nfatal: fetch-pack: invalid index-pack output\n\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:144:in `rescue in execute_command'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:141:in `execute_command'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-downloader-2.1/lib/cocoapods-downloader/base.rb:175:in `block in executable'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-downloader-2.1/lib/cocoapods-downloader/git.rb:107:in `block in clone'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:175:in `block in ui_sub_action'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:64:in `section'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:174:in `ui_sub_action'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-downloader-2.1/lib/cocoapods-downloader/git.rb:105:in `clone'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-downloader-2.1/lib/cocoapods-downloader/git.rb:73:in `download!'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-downloader-2.1/lib/cocoapods-downloader/base.rb:83:in `block in download'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:159:in `block in ui_action'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:64:in `section'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:158:in `ui_action'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-downloader-2.1/lib/cocoapods-downloader/base.rb:81:in `download'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:110:in `download_source'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:77:in `download_request'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader/cache.rb:256:in `download'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader/cache.rb:239:in `block in uncached_pod'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader/cache.rb:266:in `in_tmpdir'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader/cache.rb:238:in `uncached_pod'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader/cache.rb:33:in `download_pod'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/downloader.rb:42:in `download'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer/pod_source_downloader.rb:69:in `download!'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer/pod_source_installer.rb:117:in `download_source'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer/pod_source_installer.rb:67:in `install!'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:621:in `install_source_of_pod'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:539:in `block (2 levels) in install_pod_sources'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:86:in `titled_section'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:538:in `block in install_pod_sources'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:535:in `each'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:535:in `install_pod_sources'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:258:in `block in download_dependencies'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/user_interface.rb:64:in `section'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:257:in `download_dependencies'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/installer.rb:163:in `install!'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/command/install.rb:52:in `run'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/claide-1.1.0/lib/claide/command.rb:334:in `run'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/lib/cocoapods/command.rb:52:in `run'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/gems/cocoapods-1.15.2/bin/pod:55:in `<top (required)>'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/bin/pod:25:in `load'\n/usr/local/Cellar/cocoapods/1.15.2/libexec/bin/pod:25:in `<main>'\n"
        ]
    },
    {
        "titulo": "type &#39;Null&#39; is not a subtype of type &#39;Future&lt;bool&gt;&#39; in flutter",
        "score": 0,
        "views": 174,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "debugging",
            "mockito",
            "sharedpreferences"
        ],
        "link": "https://stackoverflow.com/questions/78682161/type-null-is-not-a-subtype-of-type-futurebool-in-flutter",
        "conteudo_html": "<pre><code>    group('localTodos', () {\n          final List&lt;TodoModel&gt; todos = [\n            const TodoModel(id: 1, title: &quot;Test Todo 1&quot;, completed: false, userId: 1),\n            const TodoModel(id: 2, title: &quot;Test Todo 2&quot;, completed: true, userId: 1),\n          ];\n    \n          test('should call SharedPreferences to save the data', () async {\n            final expectedJsonString = json.encode(todos.map((todo) =&gt; todo.toJson()).toList());\n    \n            print('Test setup complete');\n            when(mockSharedPreferences.setString(prefKey, expectedJsonString)).thenAnswer((_) async =&gt; true);\n    \n            await localDataSource.localTodos(todos);\n    \n            print('After localTodos method call');\n    \n            // Ensure we verify setString was called once\n            verify(mockSharedPreferences.setString(prefKey, expectedJsonString)).called(1);\n          });\n        });\n\n     @override\n  Future&lt;List&lt;TodoModel&gt;&gt; getLocalTodos() async {\n    final jsonString = sharedPreferences.getString('SAVED_TODOS');\n    if (jsonString != null) {\n      List decodedJson = json.decode(jsonString);\n      return decodedJson.map&lt;TodoModel&gt;((json) =&gt; TodoModel.fromJson(json)).toList();\n    } else {\n      throw Exception('No saved todos found');\n    }\n  }\n\n@override\n  Future&lt;void&gt; localTodos(List&lt;TodoModel&gt; todos) async {\n    final List&lt;Map&lt;String, dynamic&gt;&gt; todoList = todos.map((todo) =&gt; todo.toJson()).toList();\n    await sharedPreferences.setString('SAVED_TODOS', json.encode(todoList));\n  }\n</code></pre>\n<p>Was writing a test for a todo app with sharedpref, ijust added the code for the datasource. There are other tests like one for getting all saved todos and it runs fine, my problem lies with this test</p>\n",
        "codigo": [
            "    group('localTodos', () {\n          final List<TodoModel> todos = [\n            const TodoModel(id: 1, title: \"Test Todo 1\", completed: false, userId: 1),\n            const TodoModel(id: 2, title: \"Test Todo 2\", completed: true, userId: 1),\n          ];\n    \n          test('should call SharedPreferences to save the data', () async {\n            final expectedJsonString = json.encode(todos.map((todo) => todo.toJson()).toList());\n    \n            print('Test setup complete');\n            when(mockSharedPreferences.setString(prefKey, expectedJsonString)).thenAnswer((_) async => true);\n    \n            await localDataSource.localTodos(todos);\n    \n            print('After localTodos method call');\n    \n            // Ensure we verify setString was called once\n            verify(mockSharedPreferences.setString(prefKey, expectedJsonString)).called(1);\n          });\n        });\n\n     @override\n  Future<List<TodoModel>> getLocalTodos() async {\n    final jsonString = sharedPreferences.getString('SAVED_TODOS');\n    if (jsonString != null) {\n      List decodedJson = json.decode(jsonString);\n      return decodedJson.map<TodoModel>((json) => TodoModel.fromJson(json)).toList();\n    } else {\n      throw Exception('No saved todos found');\n    }\n  }\n\n@override\n  Future<void> localTodos(List<TodoModel> todos) async {\n    final List<Map<String, dynamic>> todoList = todos.map((todo) => todo.toJson()).toList();\n    await sharedPreferences.setString('SAVED_TODOS', json.encode(todoList));\n  }\n"
        ]
    },
    {
        "titulo": "RSA decryption does not work when saved as base64",
        "score": 1,
        "views": 171,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "base64",
            "rsa"
        ],
        "link": "https://stackoverflow.com/questions/78668531/rsa-decryption-does-not-work-when-saved-as-base64",
        "conteudo_html": "<p>I'm trying to encrypt data, save the encrypted data as a base64 string and then use the base64 string to decrypt it again. This works when I base64 encode and decode in the same function but this won't work if I take the base64 string from my sql database.</p>\n<p>To simulate this I created this example:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>//THIS DOES WORK\nvar normal_text = &quot;hi&quot;;\nvar bytes = utf8.encode(normal_text);\nvar encoded = rsaEncrypt(publicRSA, bytes);\nvar base64_encoded = base64Encode(encoded);\ndebugPrint(base64_encoded); // used this in var base64\nvar encrypted_bytes = base64Decode(base64_encoded);\ndebugPrint(encrypted_bytes.toString());\nvar decoded = rsaDecrypt(privateRSA, encrypted_bytes);\ndebugPrint(utf8.decode(decoded).toString());\n\n\n//THIS DOES NOT WORK\nvar base64 = &quot;&quot;;\nvar encrypted_bytes2 = base64Decode(base64);\ndebugPrint(encrypted_bytes2.toString());\nvar decoded2 = rsaDecrypt(privateRSA, encrypted_bytes2);\ndebugPrint(utf8.decode(decoded2).toString());\n</code></pre>\n<p>Results:</p>\n<pre><code>flutter: T+xdCQMsicw4E/kaQ7jD2ZLLMrP7j2DMQCCxT6K0i6ULi/UIGjsx5PFSeu+e4zftF9u0w6aZowedTeU3+topgPyPVeor/fQWfqe+LEarfph56Ws1mOPQLjXcRlH3mZBfmjLC5OKOm/UmqJxCtQoVk+c3xeT4uOFauJb7i2jQaTB3VZqe800Uk0bBEufUTMNO7ywvDVjq5gPUvYHbQ9i27laig38yiR/p2TQIUw/Wc/AXdA+7mSJA+/F0IKTpHVegFKmAUi1+ERRlaZs5ny2hS1Mt9og4BjfAGkWXB2Hxz5KMySFGDkOtDdWCwxiFroapK/nQ72Gh50nfKYenecWBjw==\nflutter: [79, 236, 93, 9, 3, 44, 137, 204, 56, 19, 249, 26, 67, 184, 195, 217, 146, 203, 50, 179, 251, 143, 96, 204, 64, 32, 177, 79, 162, 180, 139, 165, 11, 139, 245, 8, 26, 59, 49, 228, 241, 82, 122, 239, 158, 227, 55, 237, 23, 219, 180, 195, 166, 153, 163, 7, 157, 77, 229, 55, 250, 218, 41, 128, 252, 143, 85, 234, 43, 253, 244, 22, 126, 167, 190, 44, 70, 171, 126, 152, 121, 233, 107, 53, 152, 227, 208, 46, 53, 220, 70, 81, 247, 153, 144, 95, 154, 50, 194, 228, 226, 142, 155, 245, 38, 168, 156, 66, 181, 10, 21, 147, 231, 55, 197, 228, 248, 184, 225, 90, 184, 150, 251, 139, 104, 208, 105, 48, 119, 85, 154, 158, 243, 77, 20, 147, 70, 193, 18, 231, 212, 76, 195, 78, 239, 44, 47, 13, 88, 234, 230, 3, 212, 189, 129, 219, 67, 216, 182, 238, 86, 162, 131, 127, 50, 137, 31, 233, 217, 52, 8, 83, 15, 214, 115, 240, 23, 116, 15, 187, 153, 34, 64, 251, 241, 116, 32, 164, 233, 29, 87, 160, 20, 169, 128, 82, 45, 126, 17, 20, 101, 105, 155, 57, 159, 45, 161, 75, 83, 45, 246, 136, 56, 6, 55, 192, 26, 69, 151, 7, 97, 241, 207, 146, 140, 201, 33, 70, 14, 67, 173, 13, 213, 130, 195, 24, 133, 174, 134, 169, 43, 249, 208, 239, 97, 161, 231, 73, 223, 41, 135, 167, 121, 197, 129, 143]\nflutter: hi\nflutter: []\nflutter: \n</code></pre>\n<p>Then running it again and using the <code>debugPrinted</code> base64 string as input for the second part:</p>\n<pre><code>//THIS DOES WORK\nvar normal_text = &quot;hi&quot;;\nvar bytes = utf8.encode(normal_text);\nvar encoded = rsaEncrypt(publicRSA, bytes);\nvar base64_encoded = base64Encode(encoded);\ndebugPrint(base64_encoded); // used this in var base64\nvar encrypted_bytes = base64Decode(base64_encoded);\ndebugPrint(encrypted_bytes.toString());\nvar decoded = rsaDecrypt(privateRSA, encrypted_bytes);\ndebugPrint(utf8.decode(decoded).toString());\n\n\n//THIS DOES NOT WORK\nvar base64 = &quot;T+xdCQMsicw4E/kaQ7jD2ZLLMrP7j2DMQCCxT6K0i6ULi/UIGjsx5PFSeu+e4zftF9u0w6aZowedTeU3+topgPyPVeor/fQWfqe+LEarfph56Ws1mOPQLjXcRlH3mZBfmjLC5OKOm/UmqJxCtQoVk+c3xeT4uOFauJb7i2jQaTB3VZqe800Uk0bBEufUTMNO7ywvDVjq5gPUvYHbQ9i27laig38yiR/p2TQIUw/Wc/AXdA+7mSJA+/F0IKTpHVegFKmAUi1+ERRlaZs5ny2hS1Mt9og4BjfAGkWXB2Hxz5KMySFGDkOtDdWCwxiFroapK/nQ72Gh50nfKYenecWBjw==&quot;;\nvar encrypted_bytes2 = base64Decode(base64);\ndebugPrint(encrypted_bytes2.toString());\nvar decoded2 = rsaDecrypt(privateRSA, encrypted_bytes2);\ndebugPrint(utf8.decode(decoded2).toString());\n</code></pre>\n<p>2nd results:</p>\n<pre><code>flutter: PRt/Zg7KxEGHslGT11Vytd1Y4V+dudvT6XPEYQDTb9tZKGRvk+i7pVut5Nz2+2E3RFNKn/NOgbwht9sPYiKOUVW7PmKmHAjskTHYwjxizDxgl6VTFuhwqJeSSEpoLuRUWJRI/zynp/Np4hi3CvEtPq0ZzIBj19sgOg4p0N99/NawJUTYlvTnKuHb8TpYUzyPqiGVdQAC4oQALa8NVhLtAmkGCHdDIcCsT4jcmARJmv5qugVTrFFwF0GQj0mZn/7oA9iO1Ev22Y0PlmYzvYiBOeO3+qMgtU3b/jfeTDnHDA4OgGMXIw8IiiDWV04w6+r5k6JBG5mwb6eZxK9vjEz4Dw==\nflutter: [61, 27, 127, 102, 14, 202, 196, 65, 135, 178, 81, 147, 215, 85, 114, 181, 221, 88, 225, 95, 157, 185, 219, 211, 233, 115, 196, 97, 0, 211, 111, 219, 89, 40, 100, 111, 147, 232, 187, 165, 91, 173, 228, 220, 246, 251, 97, 55, 68, 83, 74, 159, 243, 78, 129, 188, 33, 183, 219, 15, 98, 34, 142, 81, 85, 187, 62, 98, 166, 28, 8, 236, 145, 49, 216, 194, 60, 98, 204, 60, 96, 151, 165, 83, 22, 232, 112, 168, 151, 146, 72, 74, 104, 46, 228, 84, 88, 148, 72, 255, 60, 167, 167, 243, 105, 226, 24, 183, 10, 241, 45, 62, 173, 25, 204, 128, 99, 215, 219, 32, 58, 14, 41, 208, 223, 125, 252, 214, 176, 37, 68, 216, 150, 244, 231, 42, 225, 219, 241, 58, 88, 83, 60, 143, 170, 33, 149, 117, 0, 2, 226, 132, 0, 45, 175, 13, 86, 18, 237, 2, 105, 6, 8, 119, 67, 33, 192, 172, 79, 136, 220, 152, 4, 73, 154, 254, 106, 186, 5, 83, 172, 81, 112, 23, 65, 144, 143, 73, 153, 159, 254, 232, 3, 216, 142, 212, 75, 246, 217, 141, 15, 150, 102, 51, 189, 136, 129, 57, 227, 183, 250, 163, 32, 181, 77, 219, 254, 55, 222, 76, 57, 199, 12, 14, 14, 128, 99, 23, 35, 15, 8, 138, 32, 214, 87, 78, 48, 235, 234, 249, 147, 162, 65, 27, 153, 176, 111, 167, 153, 196, 175, 111, 140, 76, 248, 15]\nflutter: hi\nflutter: [79, 236, 93, 9, 3, 44, 137, 204, 56, 19, 249, 26, 67, 184, 195, 217, 146, 203, 50, 179, 251, 143, 96, 204, 64, 32, 177, 79, 162, 180, 139, 165, 11, 139, 245, 8, 26, 59, 49, 228, 241, 82, 122, 239, 158, 227, 55, 237, 23, 219, 180, 195, 166, 153, 163, 7, 157, 77, 229, 55, 250, 218, 41, 128, 252, 143, 85, 234, 43, 253, 244, 22, 126, 167, 190, 44, 70, 171, 126, 152, 121, 233, 107, 53, 152, 227, 208, 46, 53, 220, 70, 81, 247, 153, 144, 95, 154, 50, 194, 228, 226, 142, 155, 245, 38, 168, 156, 66, 181, 10, 21, 147, 231, 55, 197, 228, 248, 184, 225, 90, 184, 150, 251, 139, 104, 208, 105, 48, 119, 85, 154, 158, 243, 77, 20, 147, 70, 193, 18, 231, 212, 76, 195, 78, 239, 44, 47, 13, 88, 234, 230, 3, 212, 189, 129, 219, 67, 216, 182, 238, 86, 162, 131, 127, 50, 137, 31, 233, 217, 52, 8, 83, 15, 214, 115, 240, 23, 116, 15, 187, 153, 34, 64, 251, 241, 116, 32, 164, 233, 29, 87, 160, 20, 169, 128, 82, 45, 126, 17, 20, 101, 105, 155, 57, 159, 45, 161, 75, 83, 45, 246, 136, 56, 6, 55, 192, 26, 69, 151, 7, 97, 241, 207, 146, 140, 201, 33, 70, 14, 67, 173, 13, 213, 130, 195, 24, 133, 174, 134, 169, 43, 249, 208, 239, 97, 161, 231, 73, 223, 41, 135, 167, 121, 197, 129, 143]\n[ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: Invalid argument(s): decoding error\n#0      OAEPEncoding._decodeBlock (package:pointycastle/asymmetric/oaep.dart:457:7)\n#1      OAEPEncoding.processBlock (package:pointycastle/asymmetric/oaep.dart:169:14)\n#2      _processInBlocks (package:ee2e/main.dart:46:28)\n#3      rsaDecrypt (package:ee2e/main.dart:105:10)\n#4      main (package:ee2e/main.dart:135:18)\n#5      _runMain.&lt;anonymous closure&gt; (dart:ui/hooks.dart:301:23)\n#6      _delayEntrypointInvocation.&lt;anonymous closure&gt; (dart:isolate-patch/isolate_patch.dart:297:19)\n#7      _RawReceivePort._handleMessage (dart:isolate-patch/isolate_patch.dart:184:12)\n</code></pre>\n<p>The first 2 <code>debugPrint</code>'s are different because of the encryption method but the second array of bytes does match the one in the first example but this time it gives an error while decrypting.</p>\n<p>FULL CODE:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:convert';\nimport 'dart:math';\nimport 'dart:typed_data';\nimport 'package:flutter/cupertino.dart';\nimport 'package:pointycastle/src/platform_check/platform_check.dart';\nimport &quot;package:pointycastle/export.dart&quot;;\nimport 'package:basic_utils/basic_utils.dart';\n\nAsymmetricKeyPair&lt;RSAPublicKey, RSAPrivateKey&gt; generateRSAkeyPair(\n    SecureRandom secureRandom,\n    {int bitLength = 2048}) {\n  // Create an RSA key generator and initialize it\n\n  // final keyGen = KeyGenerator('RSA'); // Get using registry\n  final keyGen = RSAKeyGenerator();\n\n  keyGen.init(ParametersWithRandom(\n      RSAKeyGeneratorParameters(BigInt.parse('65537'), bitLength, 64),\n      secureRandom));\n\n  // Use the generator\n\n  final pair = keyGen.generateKeyPair();\n\n  // Cast the generated key pair into the RSA key types\n\n  final myPublic = pair.publicKey as RSAPublicKey;\n  final myPrivate = pair.privateKey as RSAPrivateKey;\n\n  return AsymmetricKeyPair&lt;RSAPublicKey, RSAPrivateKey&gt;(myPublic, myPrivate);\n}\n\nUint8List _processInBlocks(AsymmetricBlockCipher engine, Uint8List input) {\n  final numBlocks = input.length ~/ engine.inputBlockSize +\n      ((input.length % engine.inputBlockSize != 0) ? 1 : 0);\n\n  final output = Uint8List(numBlocks * engine.outputBlockSize);\n\n  var inputOffset = 0;\n  var outputOffset = 0;\n  while (inputOffset &lt; input.length) {\n    final chunkSize = (inputOffset + engine.inputBlockSize &lt;= input.length)\n        ? engine.inputBlockSize\n        : input.length - inputOffset;\n\n    outputOffset += engine.processBlock(\n        input, inputOffset, chunkSize, output, outputOffset);\n\n    inputOffset += chunkSize;\n  }\n\n  return (output.length == outputOffset)\n      ? output\n      : output.sublist(0, outputOffset);\n}\n\nSecureRandom exampleSecureRandom() {\n\n  final secureRandom = SecureRandom('Fortuna')\n    ..seed(KeyParameter(\n        Platform.instance.platformEntropySource().getBytes(32)));\n  return secureRandom;\n}\n\nUint8List rsaSign(RSAPrivateKey privateKey, Uint8List dataToSign) {\n  //final signer = Signer('SHA-256/RSA'); // Get using registry\n  final signer = RSASigner(SHA256Digest(), '0609608648016503040201');\n\n  // initialize with true, which means sign\n  signer.init(true, PrivateKeyParameter&lt;RSAPrivateKey&gt;(privateKey));\n\n  final sig = signer.generateSignature(dataToSign);\n\n  return sig.bytes;\n}\n\nbool rsaVerify(\n    RSAPublicKey publicKey, Uint8List signedData, Uint8List signature) {\n  //final signer = Signer('SHA-256/RSA'); // Get using registry\n  final sig = RSASignature(signature);\n\n  final verifier = RSASigner(SHA256Digest(), '0609608648016503040201');\n\n  // initialize with false, which means verify\n  verifier.init(false, PublicKeyParameter&lt;RSAPublicKey&gt;(publicKey));\n\n  try {\n    return verifier.verifySignature(signedData, sig);\n  } on ArgumentError {\n    return false; // for Pointy Castle 1.0.2 when signature has been modified\n  }\n}\n\nUint8List rsaEncrypt(RSAPublicKey myPublic, Uint8List dataToEncrypt) {\n  final encryptor = OAEPEncoding(RSAEngine())\n    ..init(true, PublicKeyParameter&lt;RSAPublicKey&gt;(myPublic)); // true=encrypt\n\n  return _processInBlocks(encryptor, dataToEncrypt);\n}\n\nUint8List rsaDecrypt(RSAPrivateKey myPrivate, Uint8List cipherText) {\n  final decryptor = OAEPEncoding(RSAEngine())\n    ..init(false, PrivateKeyParameter&lt;RSAPrivateKey&gt;(myPrivate)); // false=decrypt\n\n  return _processInBlocks(decryptor, cipherText);\n}\n\n main(){\n   final pair = generateRSAkeyPair(exampleSecureRandom());\n   final public = pair.publicKey;\n   final private = pair.privateKey;\n   \n   final privatePEM = CryptoUtils.encodeRSAPrivateKeyToPem(private);\n   final publicPem = CryptoUtils.encodeRSAPublicKeyToPem(public);\n   \n   final privateRSA = CryptoUtils.rsaPrivateKeyFromPem(privatePEM);\n   final publicRSA = CryptoUtils.rsaPublicKeyFromPem(publicPem);\n  \n   //THIS DOES WORK\n   var normal_text = &quot;hi&quot;;\n   var bytes = utf8.encode(normal_text);\n   var encoded = rsaEncrypt(publicRSA, bytes);\n   var base64_encoded = base64Encode(encoded);\n   debugPrint(base64_encoded); // used this in var base64\n   var base64_decoded = base64Decode(base64_encoded);\n   var decoded = rsaDecrypt(privateRSA, base64_decoded);\n\n\n   //THIS DOES NOT WORK\n   var base64 = &quot;v7GAywDddNahHhS4sHqibbKiPOpyn7fHTSFJsHyGxkr5of931db/pL8kQK+35bJ4erEKTxoP1qA1OGM/i47j7Apc4l1gb79X3pwyeocIa1MW94QyJErtUvPMc3BL5whzan6gkExsJ6b1xPe3M4X7N+YoaoQNNTozcF8TT7hXBy/NTjKimruR3AZDXsAe7VvtO+suHMn40ot15WV+jgE9fwKM6pFkgYK5IK6XR0X9K+BKHCXk5tGBy70pqdrKQxeLRLs0AREH+UDHYzuwbwDBym7uVsXBFCLL3P7jf+D4UbQEeECHs27UVQODQ/7Et9YbI1BIM1UOPW2Mts0zltqPDQ==&quot;;\n   var encrypted_base64 = base64Decode(base64);\n   var decoded2 = rsaDecrypt(privateRSA, encrypted_base64);\n\n\n}\n</code></pre>\n",
        "codigo": [
            "//THIS DOES WORK\nvar normal_text = \"hi\";\nvar bytes = utf8.encode(normal_text);\nvar encoded = rsaEncrypt(publicRSA, bytes);\nvar base64_encoded = base64Encode(encoded);\ndebugPrint(base64_encoded); // used this in var base64\nvar encrypted_bytes = base64Decode(base64_encoded);\ndebugPrint(encrypted_bytes.toString());\nvar decoded = rsaDecrypt(privateRSA, encrypted_bytes);\ndebugPrint(utf8.decode(decoded).toString());\n\n\n//THIS DOES NOT WORK\nvar base64 = \"\";\nvar encrypted_bytes2 = base64Decode(base64);\ndebugPrint(encrypted_bytes2.toString());\nvar decoded2 = rsaDecrypt(privateRSA, encrypted_bytes2);\ndebugPrint(utf8.decode(decoded2).toString());\n",
            "flutter: T+xdCQMsicw4E/kaQ7jD2ZLLMrP7j2DMQCCxT6K0i6ULi/UIGjsx5PFSeu+e4zftF9u0w6aZowedTeU3+topgPyPVeor/fQWfqe+LEarfph56Ws1mOPQLjXcRlH3mZBfmjLC5OKOm/UmqJxCtQoVk+c3xeT4uOFauJb7i2jQaTB3VZqe800Uk0bBEufUTMNO7ywvDVjq5gPUvYHbQ9i27laig38yiR/p2TQIUw/Wc/AXdA+7mSJA+/F0IKTpHVegFKmAUi1+ERRlaZs5ny2hS1Mt9og4BjfAGkWXB2Hxz5KMySFGDkOtDdWCwxiFroapK/nQ72Gh50nfKYenecWBjw==\nflutter: [79, 236, 93, 9, 3, 44, 137, 204, 56, 19, 249, 26, 67, 184, 195, 217, 146, 203, 50, 179, 251, 143, 96, 204, 64, 32, 177, 79, 162, 180, 139, 165, 11, 139, 245, 8, 26, 59, 49, 228, 241, 82, 122, 239, 158, 227, 55, 237, 23, 219, 180, 195, 166, 153, 163, 7, 157, 77, 229, 55, 250, 218, 41, 128, 252, 143, 85, 234, 43, 253, 244, 22, 126, 167, 190, 44, 70, 171, 126, 152, 121, 233, 107, 53, 152, 227, 208, 46, 53, 220, 70, 81, 247, 153, 144, 95, 154, 50, 194, 228, 226, 142, 155, 245, 38, 168, 156, 66, 181, 10, 21, 147, 231, 55, 197, 228, 248, 184, 225, 90, 184, 150, 251, 139, 104, 208, 105, 48, 119, 85, 154, 158, 243, 77, 20, 147, 70, 193, 18, 231, 212, 76, 195, 78, 239, 44, 47, 13, 88, 234, 230, 3, 212, 189, 129, 219, 67, 216, 182, 238, 86, 162, 131, 127, 50, 137, 31, 233, 217, 52, 8, 83, 15, 214, 115, 240, 23, 116, 15, 187, 153, 34, 64, 251, 241, 116, 32, 164, 233, 29, 87, 160, 20, 169, 128, 82, 45, 126, 17, 20, 101, 105, 155, 57, 159, 45, 161, 75, 83, 45, 246, 136, 56, 6, 55, 192, 26, 69, 151, 7, 97, 241, 207, 146, 140, 201, 33, 70, 14, 67, 173, 13, 213, 130, 195, 24, 133, 174, 134, 169, 43, 249, 208, 239, 97, 161, 231, 73, 223, 41, 135, 167, 121, 197, 129, 143]\nflutter: hi\nflutter: []\nflutter: \n",
            "debugPrinted",
            "//THIS DOES WORK\nvar normal_text = \"hi\";\nvar bytes = utf8.encode(normal_text);\nvar encoded = rsaEncrypt(publicRSA, bytes);\nvar base64_encoded = base64Encode(encoded);\ndebugPrint(base64_encoded); // used this in var base64\nvar encrypted_bytes = base64Decode(base64_encoded);\ndebugPrint(encrypted_bytes.toString());\nvar decoded = rsaDecrypt(privateRSA, encrypted_bytes);\ndebugPrint(utf8.decode(decoded).toString());\n\n\n//THIS DOES NOT WORK\nvar base64 = \"T+xdCQMsicw4E/kaQ7jD2ZLLMrP7j2DMQCCxT6K0i6ULi/UIGjsx5PFSeu+e4zftF9u0w6aZowedTeU3+topgPyPVeor/fQWfqe+LEarfph56Ws1mOPQLjXcRlH3mZBfmjLC5OKOm/UmqJxCtQoVk+c3xeT4uOFauJb7i2jQaTB3VZqe800Uk0bBEufUTMNO7ywvDVjq5gPUvYHbQ9i27laig38yiR/p2TQIUw/Wc/AXdA+7mSJA+/F0IKTpHVegFKmAUi1+ERRlaZs5ny2hS1Mt9og4BjfAGkWXB2Hxz5KMySFGDkOtDdWCwxiFroapK/nQ72Gh50nfKYenecWBjw==\";\nvar encrypted_bytes2 = base64Decode(base64);\ndebugPrint(encrypted_bytes2.toString());\nvar decoded2 = rsaDecrypt(privateRSA, encrypted_bytes2);\ndebugPrint(utf8.decode(decoded2).toString());\n",
            "flutter: PRt/Zg7KxEGHslGT11Vytd1Y4V+dudvT6XPEYQDTb9tZKGRvk+i7pVut5Nz2+2E3RFNKn/NOgbwht9sPYiKOUVW7PmKmHAjskTHYwjxizDxgl6VTFuhwqJeSSEpoLuRUWJRI/zynp/Np4hi3CvEtPq0ZzIBj19sgOg4p0N99/NawJUTYlvTnKuHb8TpYUzyPqiGVdQAC4oQALa8NVhLtAmkGCHdDIcCsT4jcmARJmv5qugVTrFFwF0GQj0mZn/7oA9iO1Ev22Y0PlmYzvYiBOeO3+qMgtU3b/jfeTDnHDA4OgGMXIw8IiiDWV04w6+r5k6JBG5mwb6eZxK9vjEz4Dw==\nflutter: [61, 27, 127, 102, 14, 202, 196, 65, 135, 178, 81, 147, 215, 85, 114, 181, 221, 88, 225, 95, 157, 185, 219, 211, 233, 115, 196, 97, 0, 211, 111, 219, 89, 40, 100, 111, 147, 232, 187, 165, 91, 173, 228, 220, 246, 251, 97, 55, 68, 83, 74, 159, 243, 78, 129, 188, 33, 183, 219, 15, 98, 34, 142, 81, 85, 187, 62, 98, 166, 28, 8, 236, 145, 49, 216, 194, 60, 98, 204, 60, 96, 151, 165, 83, 22, 232, 112, 168, 151, 146, 72, 74, 104, 46, 228, 84, 88, 148, 72, 255, 60, 167, 167, 243, 105, 226, 24, 183, 10, 241, 45, 62, 173, 25, 204, 128, 99, 215, 219, 32, 58, 14, 41, 208, 223, 125, 252, 214, 176, 37, 68, 216, 150, 244, 231, 42, 225, 219, 241, 58, 88, 83, 60, 143, 170, 33, 149, 117, 0, 2, 226, 132, 0, 45, 175, 13, 86, 18, 237, 2, 105, 6, 8, 119, 67, 33, 192, 172, 79, 136, 220, 152, 4, 73, 154, 254, 106, 186, 5, 83, 172, 81, 112, 23, 65, 144, 143, 73, 153, 159, 254, 232, 3, 216, 142, 212, 75, 246, 217, 141, 15, 150, 102, 51, 189, 136, 129, 57, 227, 183, 250, 163, 32, 181, 77, 219, 254, 55, 222, 76, 57, 199, 12, 14, 14, 128, 99, 23, 35, 15, 8, 138, 32, 214, 87, 78, 48, 235, 234, 249, 147, 162, 65, 27, 153, 176, 111, 167, 153, 196, 175, 111, 140, 76, 248, 15]\nflutter: hi\nflutter: [79, 236, 93, 9, 3, 44, 137, 204, 56, 19, 249, 26, 67, 184, 195, 217, 146, 203, 50, 179, 251, 143, 96, 204, 64, 32, 177, 79, 162, 180, 139, 165, 11, 139, 245, 8, 26, 59, 49, 228, 241, 82, 122, 239, 158, 227, 55, 237, 23, 219, 180, 195, 166, 153, 163, 7, 157, 77, 229, 55, 250, 218, 41, 128, 252, 143, 85, 234, 43, 253, 244, 22, 126, 167, 190, 44, 70, 171, 126, 152, 121, 233, 107, 53, 152, 227, 208, 46, 53, 220, 70, 81, 247, 153, 144, 95, 154, 50, 194, 228, 226, 142, 155, 245, 38, 168, 156, 66, 181, 10, 21, 147, 231, 55, 197, 228, 248, 184, 225, 90, 184, 150, 251, 139, 104, 208, 105, 48, 119, 85, 154, 158, 243, 77, 20, 147, 70, 193, 18, 231, 212, 76, 195, 78, 239, 44, 47, 13, 88, 234, 230, 3, 212, 189, 129, 219, 67, 216, 182, 238, 86, 162, 131, 127, 50, 137, 31, 233, 217, 52, 8, 83, 15, 214, 115, 240, 23, 116, 15, 187, 153, 34, 64, 251, 241, 116, 32, 164, 233, 29, 87, 160, 20, 169, 128, 82, 45, 126, 17, 20, 101, 105, 155, 57, 159, 45, 161, 75, 83, 45, 246, 136, 56, 6, 55, 192, 26, 69, 151, 7, 97, 241, 207, 146, 140, 201, 33, 70, 14, 67, 173, 13, 213, 130, 195, 24, 133, 174, 134, 169, 43, 249, 208, 239, 97, 161, 231, 73, 223, 41, 135, 167, 121, 197, 129, 143]\n[ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: Invalid argument(s): decoding error\n#0      OAEPEncoding._decodeBlock (package:pointycastle/asymmetric/oaep.dart:457:7)\n#1      OAEPEncoding.processBlock (package:pointycastle/asymmetric/oaep.dart:169:14)\n#2      _processInBlocks (package:ee2e/main.dart:46:28)\n#3      rsaDecrypt (package:ee2e/main.dart:105:10)\n#4      main (package:ee2e/main.dart:135:18)\n#5      _runMain.<anonymous closure> (dart:ui/hooks.dart:301:23)\n#6      _delayEntrypointInvocation.<anonymous closure> (dart:isolate-patch/isolate_patch.dart:297:19)\n#7      _RawReceivePort._handleMessage (dart:isolate-patch/isolate_patch.dart:184:12)\n",
            "debugPrint",
            "import 'dart:convert';\nimport 'dart:math';\nimport 'dart:typed_data';\nimport 'package:flutter/cupertino.dart';\nimport 'package:pointycastle/src/platform_check/platform_check.dart';\nimport \"package:pointycastle/export.dart\";\nimport 'package:basic_utils/basic_utils.dart';\n\nAsymmetricKeyPair<RSAPublicKey, RSAPrivateKey> generateRSAkeyPair(\n    SecureRandom secureRandom,\n    {int bitLength = 2048}) {\n  // Create an RSA key generator and initialize it\n\n  // final keyGen = KeyGenerator('RSA'); // Get using registry\n  final keyGen = RSAKeyGenerator();\n\n  keyGen.init(ParametersWithRandom(\n      RSAKeyGeneratorParameters(BigInt.parse('65537'), bitLength, 64),\n      secureRandom));\n\n  // Use the generator\n\n  final pair = keyGen.generateKeyPair();\n\n  // Cast the generated key pair into the RSA key types\n\n  final myPublic = pair.publicKey as RSAPublicKey;\n  final myPrivate = pair.privateKey as RSAPrivateKey;\n\n  return AsymmetricKeyPair<RSAPublicKey, RSAPrivateKey>(myPublic, myPrivate);\n}\n\nUint8List _processInBlocks(AsymmetricBlockCipher engine, Uint8List input) {\n  final numBlocks = input.length ~/ engine.inputBlockSize +\n      ((input.length % engine.inputBlockSize != 0) ? 1 : 0);\n\n  final output = Uint8List(numBlocks * engine.outputBlockSize);\n\n  var inputOffset = 0;\n  var outputOffset = 0;\n  while (inputOffset < input.length) {\n    final chunkSize = (inputOffset + engine.inputBlockSize <= input.length)\n        ? engine.inputBlockSize\n        : input.length - inputOffset;\n\n    outputOffset += engine.processBlock(\n        input, inputOffset, chunkSize, output, outputOffset);\n\n    inputOffset += chunkSize;\n  }\n\n  return (output.length == outputOffset)\n      ? output\n      : output.sublist(0, outputOffset);\n}\n\nSecureRandom exampleSecureRandom() {\n\n  final secureRandom = SecureRandom('Fortuna')\n    ..seed(KeyParameter(\n        Platform.instance.platformEntropySource().getBytes(32)));\n  return secureRandom;\n}\n\nUint8List rsaSign(RSAPrivateKey privateKey, Uint8List dataToSign) {\n  //final signer = Signer('SHA-256/RSA'); // Get using registry\n  final signer = RSASigner(SHA256Digest(), '0609608648016503040201');\n\n  // initialize with true, which means sign\n  signer.init(true, PrivateKeyParameter<RSAPrivateKey>(privateKey));\n\n  final sig = signer.generateSignature(dataToSign);\n\n  return sig.bytes;\n}\n\nbool rsaVerify(\n    RSAPublicKey publicKey, Uint8List signedData, Uint8List signature) {\n  //final signer = Signer('SHA-256/RSA'); // Get using registry\n  final sig = RSASignature(signature);\n\n  final verifier = RSASigner(SHA256Digest(), '0609608648016503040201');\n\n  // initialize with false, which means verify\n  verifier.init(false, PublicKeyParameter<RSAPublicKey>(publicKey));\n\n  try {\n    return verifier.verifySignature(signedData, sig);\n  } on ArgumentError {\n    return false; // for Pointy Castle 1.0.2 when signature has been modified\n  }\n}\n\nUint8List rsaEncrypt(RSAPublicKey myPublic, Uint8List dataToEncrypt) {\n  final encryptor = OAEPEncoding(RSAEngine())\n    ..init(true, PublicKeyParameter<RSAPublicKey>(myPublic)); // true=encrypt\n\n  return _processInBlocks(encryptor, dataToEncrypt);\n}\n\nUint8List rsaDecrypt(RSAPrivateKey myPrivate, Uint8List cipherText) {\n  final decryptor = OAEPEncoding(RSAEngine())\n    ..init(false, PrivateKeyParameter<RSAPrivateKey>(myPrivate)); // false=decrypt\n\n  return _processInBlocks(decryptor, cipherText);\n}\n\n main(){\n   final pair = generateRSAkeyPair(exampleSecureRandom());\n   final public = pair.publicKey;\n   final private = pair.privateKey;\n   \n   final privatePEM = CryptoUtils.encodeRSAPrivateKeyToPem(private);\n   final publicPem = CryptoUtils.encodeRSAPublicKeyToPem(public);\n   \n   final privateRSA = CryptoUtils.rsaPrivateKeyFromPem(privatePEM);\n   final publicRSA = CryptoUtils.rsaPublicKeyFromPem(publicPem);\n  \n   //THIS DOES WORK\n   var normal_text = \"hi\";\n   var bytes = utf8.encode(normal_text);\n   var encoded = rsaEncrypt(publicRSA, bytes);\n   var base64_encoded = base64Encode(encoded);\n   debugPrint(base64_encoded); // used this in var base64\n   var base64_decoded = base64Decode(base64_encoded);\n   var decoded = rsaDecrypt(privateRSA, base64_decoded);\n\n\n   //THIS DOES NOT WORK\n   var base64 = \"v7GAywDddNahHhS4sHqibbKiPOpyn7fHTSFJsHyGxkr5of931db/pL8kQK+35bJ4erEKTxoP1qA1OGM/i47j7Apc4l1gb79X3pwyeocIa1MW94QyJErtUvPMc3BL5whzan6gkExsJ6b1xPe3M4X7N+YoaoQNNTozcF8TT7hXBy/NTjKimruR3AZDXsAe7VvtO+suHMn40ot15WV+jgE9fwKM6pFkgYK5IK6XR0X9K+BKHCXk5tGBy70pqdrKQxeLRLs0AREH+UDHYzuwbwDBym7uVsXBFCLL3P7jf+D4UbQEeECHs27UVQODQ/7Et9YbI1BIM1UOPW2Mts0zltqPDQ==\";\n   var encrypted_base64 = base64Decode(base64);\n   var decoded2 = rsaDecrypt(privateRSA, encrypted_base64);\n\n\n}\n"
        ]
    },
    {
        "titulo": "Black screen while using async operations in redirect GoRouter",
        "score": 1,
        "views": 259,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "gorouter"
        ],
        "link": "https://stackoverflow.com/questions/78667869/black-screen-while-using-async-operations-in-redirect-gorouter",
        "conteudo_html": "<p>I use GoRouter package for routing. I found a problem when I use async operations in redirect, a black screen appears after my native splash screen but before my main page.</p>\n<pre><code>final GoRouter router = GoRouter(\n  initialLocation: '/',\n  routes: &lt;RouteBase&gt;[\n    GoRoute(\n      path: '/',\n      builder: (BuildContext context, GoRouterState state) {\n        return const InitialPage();\n      },\n      redirect: (BuildContext context, GoRouterState state) async {\n        await Future.delayed(const Duration(seconds: 2));\n        // here may be variables for verifying authentication, it's just an example\n        return null;\n      },\n    ),\n    GoRoute(\n      path: '/main',\n      builder: (BuildContext context, GoRouterState state) {\n        return const MainPage();\n      },\n    ),\n  ],\n);\n</code></pre>\n<p>Are there any ways to get rid of this black screen, but use async/await?</p>\n",
        "codigo": [
            "final GoRouter router = GoRouter(\n  initialLocation: '/',\n  routes: <RouteBase>[\n    GoRoute(\n      path: '/',\n      builder: (BuildContext context, GoRouterState state) {\n        return const InitialPage();\n      },\n      redirect: (BuildContext context, GoRouterState state) async {\n        await Future.delayed(const Duration(seconds: 2));\n        // here may be variables for verifying authentication, it's just an example\n        return null;\n      },\n    ),\n    GoRoute(\n      path: '/main',\n      builder: (BuildContext context, GoRouterState state) {\n        return const MainPage();\n      },\n    ),\n  ],\n);\n"
        ]
    },
    {
        "titulo": "How to fix Flutter dependencies for web build",
        "score": 0,
        "views": 135,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-dependencies"
        ],
        "link": "https://stackoverflow.com/questions/78651825/how-to-fix-flutter-dependencies-for-web-build",
        "conteudo_html": "<p>i can't build a flutter app for the web , i got problems about dependencies , i tried to upgrade flutter but it didn't work so i downgrade it back to it's original version.</p>\n<p>here is my pubspec.yaml</p>\n<pre><code>                environment:\n                  sdk: &quot;&gt;=2.12.0 &lt;3.0.0&quot;\n\n                dependencies:\n                  abg_utils: 8.0.8\n                  html_editor_enhanced: 2.5.1\n                  timeago: ^3.1.0\n                  maps_toolkit: ^2.0.0\n                  google_maps_flutter_web: 0.3.2+1\n                  google_maps_flutter: 2.1.1\n                  universal_html: 2.0.8\n                  soundpool: 2.2.0\n                  provider: 6.0.2\n                  image_picker: 0.8.4+7\n                  syncfusion_flutter_charts: 19.2.62\n\n                  flutter:\n                    sdk: flutter\n\n                  flutter_lints: ^1.0.4\n                  cupertino_icons: ^1.0.2\n\n\n                dependency_overrides:\n                  ffi: ^2.0.1\n                  win32: ^3.0.0\n\n\n                dev_dependencies:\n                  flutter_test:\n                    sdk: flutter\n\n                flutter:\n\n                  uses-material-design: true\n\n                  assets:\n                    - assets/\n                    - assets/dashboard2/\n                    - assets/fonts/\n                    - assets/ondemands/\n                    - assets/elements/\n\n\n                  fonts:\n                    - family: Montserrat\n                      fonts:\n                        - asset: assets/fonts/Montserrat-Regular.ttf\n                          weight: 400\n                        - asset: assets/fonts/Montserrat-Bold.ttf\n                          weight: 600\n                        - asset: assets/fonts/Montserrat-ExtraBold.ttf\n                          weight: 800\n                    - family: Harmattan # arabic\n                      fonts:\n                        - asset: assets/fonts/Harmattan-Regular.ttf\n                          weight: 400\n                        - asset: assets/fonts/Harmattan-Bold.ttf\n                          weight: 800\n\n                    - family: NunitoSans\n                      fonts:\n                        - asset: assets/fonts/NunitoSans-Regular.ttf\n                          weight: 400\n                        - asset: assets/fonts/NunitoSans-Bold.ttf\n                          weight: 600\n                        - asset: assets/fonts/NunitoSans-ExtraBold.ttf\n                          weight: 800\n</code></pre>\n<p>and when i run this command <code>flutter build web</code> i got those errors and warning</p>\n<pre><code>                  Target dart2js failed: Exception: Warning: The 'dart2js' entrypoint script is deprecated, please use 'dart compile js' instead.\n              ../../../.pub-cache/hosted/pub.dev/firebase_messaging_web-2.4.4/lib/src/internals.dart:2:1:\n              Error: Error when reading '../../../.pub-cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/internals.dart': Error reading '../../../.pub-cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/internals.dart'  (No such\n              file or directory)\n              export 'package:firebase_core/src/internals.dart' hide guardWebExceptions;\n              ^\n              ../../../.pub-cache/hosted/pub.dev/firebase_messaging_web-2.4.4/lib/src/internals.dart:6:8:\n              Error: Error when reading '../../../.pub-cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/internals.dart': Error reading '../../../.pub-cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/internals.dart'  (No such\n              file or directory)\n              import 'package:firebase_core/src/internals.dart' as internals;\n                     ^\n              ../../../.pub-cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/firebase_app.dart:18:25:\n              Error: Member not found: 'FirebaseAppPlatform.verifyExtends'.\n                  FirebaseAppPlatform.verifyExtends(_delegate);\n                                      ^^^^^^^^^^^^^\n              ../../../.pub-cache/hosted/pub.dev/abg_utils-8.0.8/lib/src/ui/parent_screen.dart:31:22:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                    WidgetsBinding.instance!.addPostFrameCallback((_) {\n                                   ^\n              ../../../.pub-cache/hosted/pub.dev/abg_utils-8.0.8/lib/src/ui/scroller_resizer.dart:64:22:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                    WidgetsBinding.instance!.addPostFrameCallback((_) {\n                                   ^\n              ../../../.pub-cache/hosted/pub.dev/abg_utils-8.0.8/lib/src/ui/dialogs/easy_dialog_2.dart:138:38:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                                    WidgetsBinding.instance!.addPostFrameCallback((_) {\n                                                   ^\n              lib/ui/payouts.dart:38:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/product/product.dart:36:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/product/product.dart:214:34:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                                WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                               ^\n              lib/ui/product/product.dart:265:24:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                      WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                     ^\n              lib/ui/providers/providers_request.dart:40:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/review.dart:23:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/settings/admin_panel_app_settings.dart:23:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/settings/provider_app_settings.dart:23:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/settings/website_app_settings.dart:24:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/subscription.dart:50:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/subscription.dart:209:32:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                              WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                             ^\n              lib/ui/banners/banners.dart:36:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/banners/banners.dart:116:30:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                            WidgetsBinding.instance!.addPostFrameCallback((_) {\n                                           ^\n              lib/ui/blog/blog.dart:40:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n</code></pre>\n<p>PS : i have to use an old flutter version to not break the code , this is my actual version of flutter and dart :</p>\n<pre><code>        flutter --version\n    Flutter 3.7.0 • channel unknown • unknown source\n    Framework • revision b06b8b2710 (1 year, 5 months ago) • 2023-01-23 16:55:55 -0800\n    Engine • revision b24591ed32\n    Tools • Dart 2.19.0 • DevTools 2.20.1\n</code></pre>\n<p>i tried to change many dependencies version but i can't fix it , any idea how to fix this problem.</p>\n",
        "codigo": [
            "                environment:\n                  sdk: \">=2.12.0 <3.0.0\"\n\n                dependencies:\n                  abg_utils: 8.0.8\n                  html_editor_enhanced: 2.5.1\n                  timeago: ^3.1.0\n                  maps_toolkit: ^2.0.0\n                  google_maps_flutter_web: 0.3.2+1\n                  google_maps_flutter: 2.1.1\n                  universal_html: 2.0.8\n                  soundpool: 2.2.0\n                  provider: 6.0.2\n                  image_picker: 0.8.4+7\n                  syncfusion_flutter_charts: 19.2.62\n\n                  flutter:\n                    sdk: flutter\n\n                  flutter_lints: ^1.0.4\n                  cupertino_icons: ^1.0.2\n\n\n                dependency_overrides:\n                  ffi: ^2.0.1\n                  win32: ^3.0.0\n\n\n                dev_dependencies:\n                  flutter_test:\n                    sdk: flutter\n\n                flutter:\n\n                  uses-material-design: true\n\n                  assets:\n                    - assets/\n                    - assets/dashboard2/\n                    - assets/fonts/\n                    - assets/ondemands/\n                    - assets/elements/\n\n\n                  fonts:\n                    - family: Montserrat\n                      fonts:\n                        - asset: assets/fonts/Montserrat-Regular.ttf\n                          weight: 400\n                        - asset: assets/fonts/Montserrat-Bold.ttf\n                          weight: 600\n                        - asset: assets/fonts/Montserrat-ExtraBold.ttf\n                          weight: 800\n                    - family: Harmattan # arabic\n                      fonts:\n                        - asset: assets/fonts/Harmattan-Regular.ttf\n                          weight: 400\n                        - asset: assets/fonts/Harmattan-Bold.ttf\n                          weight: 800\n\n                    - family: NunitoSans\n                      fonts:\n                        - asset: assets/fonts/NunitoSans-Regular.ttf\n                          weight: 400\n                        - asset: assets/fonts/NunitoSans-Bold.ttf\n                          weight: 600\n                        - asset: assets/fonts/NunitoSans-ExtraBold.ttf\n                          weight: 800\n",
            "flutter build web",
            "                  Target dart2js failed: Exception: Warning: The 'dart2js' entrypoint script is deprecated, please use 'dart compile js' instead.\n              ../../../.pub-cache/hosted/pub.dev/firebase_messaging_web-2.4.4/lib/src/internals.dart:2:1:\n              Error: Error when reading '../../../.pub-cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/internals.dart': Error reading '../../../.pub-cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/internals.dart'  (No such\n              file or directory)\n              export 'package:firebase_core/src/internals.dart' hide guardWebExceptions;\n              ^\n              ../../../.pub-cache/hosted/pub.dev/firebase_messaging_web-2.4.4/lib/src/internals.dart:6:8:\n              Error: Error when reading '../../../.pub-cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/internals.dart': Error reading '../../../.pub-cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/internals.dart'  (No such\n              file or directory)\n              import 'package:firebase_core/src/internals.dart' as internals;\n                     ^\n              ../../../.pub-cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/firebase_app.dart:18:25:\n              Error: Member not found: 'FirebaseAppPlatform.verifyExtends'.\n                  FirebaseAppPlatform.verifyExtends(_delegate);\n                                      ^^^^^^^^^^^^^\n              ../../../.pub-cache/hosted/pub.dev/abg_utils-8.0.8/lib/src/ui/parent_screen.dart:31:22:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                    WidgetsBinding.instance!.addPostFrameCallback((_) {\n                                   ^\n              ../../../.pub-cache/hosted/pub.dev/abg_utils-8.0.8/lib/src/ui/scroller_resizer.dart:64:22:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                    WidgetsBinding.instance!.addPostFrameCallback((_) {\n                                   ^\n              ../../../.pub-cache/hosted/pub.dev/abg_utils-8.0.8/lib/src/ui/dialogs/easy_dialog_2.dart:138:38:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                                    WidgetsBinding.instance!.addPostFrameCallback((_) {\n                                                   ^\n              lib/ui/payouts.dart:38:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/product/product.dart:36:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/product/product.dart:214:34:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                                WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                               ^\n              lib/ui/product/product.dart:265:24:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                      WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                     ^\n              lib/ui/providers/providers_request.dart:40:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/review.dart:23:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/settings/admin_panel_app_settings.dart:23:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/settings/provider_app_settings.dart:23:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/settings/website_app_settings.dart:24:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/subscription.dart:50:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/subscription.dart:209:32:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                              WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                             ^\n              lib/ui/banners/banners.dart:36:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n              lib/ui/banners/banners.dart:116:30:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                            WidgetsBinding.instance!.addPostFrameCallback((_) {\n                                           ^\n              lib/ui/blog/blog.dart:40:20:\n              Warning: Operand of null-aware operation '!' has type 'WidgetsBinding' which excludes null.\n               - 'WidgetsBinding' is from 'package:flutter/src/widgets/binding.dart' ('../../../flutter/packages/flutter/lib/src/widgets/binding.dart').\n                  WidgetsBinding.instance!.addPostFrameCallback((_) async {\n                                 ^\n",
            "        flutter --version\n    Flutter 3.7.0 • channel unknown • unknown source\n    Framework • revision b06b8b2710 (1 year, 5 months ago) • 2023-01-23 16:55:55 -0800\n    Engine • revision b24591ed32\n    Tools • Dart 2.19.0 • DevTools 2.20.1\n"
        ]
    },
    {
        "titulo": "type &#39;Null&#39; is not a subtype of type &#39;List&lt;dynamic&gt;&#39; while mockito test and auto_mappr",
        "score": 1,
        "views": 49,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "mockito"
        ],
        "link": "https://stackoverflow.com/questions/78640976/type-null-is-not-a-subtype-of-type-listdynamic-while-mockito-test-and-auto",
        "conteudo_html": "<p>I want to test a repository function which contains a convertList call generated by auto_mappr. When I run the test a type 'Null' is not a subtype of type 'List' is thrown.</p>\n<p>So I created a minimal example to test it:</p>\n<p>entity_mappr.dart:</p>\n<pre><code>import 'package:auto_mappr_annotation/auto_mappr_annotation.dart';\nimport 'entity_mappr.auto_mappr.dart';\n\nclass Entity {}\nclass Model {}\n\n@AutoMappr([\n    MapType&lt;Entity, Model&gt;(),\n    MapType&lt;Model, Entity&gt;(),\n])\nclass Mappr extends $Mappr {}\n\nclass Runner {\n    late Mappr mappr = Mappr();\n    List&lt;Model&gt; call(List&lt;Entity&gt; list) {\n        return mappr.convertList(list);\n    }\n}\n</code></pre>\n<p>entity_mappr_test.dart:</p>\n<pre><code>import 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/annotations.dart';\nimport 'package:mockito/mockito.dart';\nimport 'package:dropdown_full_width/entity_mappr.dart';\n\n@GenerateNiceMocks([MockSpec&lt;Mappr&gt;()])\nimport 'entity_mappr_test.mocks.dart';\n\nvoid main() {\n    final list = List&lt;Entity&gt;.from([Entity(), Entity()]);\n    final mappr = MockMappr();\n    final runner = Runner()..mappr = mappr;\n    group('Mappr', () {\n        test('call() should return a list of Model instances', () {\n        when(mappr.convertList(list))\n            .thenReturn(List&lt;Model&gt;.from([Model(), Model()]));\n        final result = runner.call(list);\n        expect(result, isA&lt;List&lt;Model&gt;&gt;());\n        expect(result.length, 2);\n        expect(result[0], isA&lt;Model&gt;());\n        expect(result[1], isA&lt;Model&gt;());\n        });\n    });\n}\n</code></pre>\n<ul>\n<li>How can I test the call function?</li>\n<li>Why is this exception being thrown?</li>\n</ul>\n<p>Thank you for your help!</p>\n",
        "codigo": [
            "import 'package:auto_mappr_annotation/auto_mappr_annotation.dart';\nimport 'entity_mappr.auto_mappr.dart';\n\nclass Entity {}\nclass Model {}\n\n@AutoMappr([\n    MapType<Entity, Model>(),\n    MapType<Model, Entity>(),\n])\nclass Mappr extends $Mappr {}\n\nclass Runner {\n    late Mappr mappr = Mappr();\n    List<Model> call(List<Entity> list) {\n        return mappr.convertList(list);\n    }\n}\n",
            "import 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/annotations.dart';\nimport 'package:mockito/mockito.dart';\nimport 'package:dropdown_full_width/entity_mappr.dart';\n\n@GenerateNiceMocks([MockSpec<Mappr>()])\nimport 'entity_mappr_test.mocks.dart';\n\nvoid main() {\n    final list = List<Entity>.from([Entity(), Entity()]);\n    final mappr = MockMappr();\n    final runner = Runner()..mappr = mappr;\n    group('Mappr', () {\n        test('call() should return a list of Model instances', () {\n        when(mappr.convertList(list))\n            .thenReturn(List<Model>.from([Model(), Model()]));\n        final result = runner.call(list);\n        expect(result, isA<List<Model>>());\n        expect(result.length, 2);\n        expect(result[0], isA<Model>());\n        expect(result[1], isA<Model>());\n        });\n    });\n}\n"
        ]
    },
    {
        "titulo": "Flutter is not waiting for a await function to be completed before going to next line",
        "score": 0,
        "views": 74,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "asynchronous",
            "async-await"
        ],
        "link": "https://stackoverflow.com/questions/78630848/flutter-is-not-waiting-for-a-await-function-to-be-completed-before-going-to-next",
        "conteudo_html": "<p>can anyone help me understand why flutter is skipping the await part of my code and triggres it a bit late?</p>\n<p>I can try a diffrent way to achieve this goal but I want to learn why after calling the CheckAuth(), it returns false first on the onPressed and then after a few sec it prints print(&quot;Signed in&quot;).</p>\n<pre><code>Future&lt;bool&gt; CheckAuth(context, userTypedVerificationCode) async {\n  bool signedIn = false;\n  String phoneNumberString = &quot;+${getUserPhoneNumber()}&quot;;\n  await FirebaseAuth.instance.verifyPhoneNumber(\n    phoneNumber: phoneNumberString,\n    codeSent: (String verificationId, int? resendToken) async {\n     \n      PhoneAuthCredential credential = PhoneAuthProvider.credential(\n          verificationId: verificationId, smsCode: userTypedVerificationCode);\n\n      \n      await auth.signInWithCredential(credential);\n\n      if (auth.currentUser?.uid != null) {\n        print(&quot;Signed in&quot;);\n        setUid(auth.currentUser!.uid);\n        signedIn = true;\n      } else {\n        signedIn = false;\n      }\n    },\n    \n  );\n\n  if (signedIn) {\n    return Future.value(true);\n  } else {\n    return Future.value(false);\n  }\n}\n</code></pre>\n<pre><code>onPressed: () async {\n  bool isSignedIn = await CheckAuth(context, currentText);\n\n  if (isSignedIn) {\n    Navigator.pushNamed(context, ProfilePage1Screen.id);\n    \n  } else {\n    \n  }\n</code></pre>\n<p>I expected the code to wait for auth.signInWithCredential(credential) to be completed before returning a value for CheckAuth()</p>\n",
        "codigo": [
            "Future<bool> CheckAuth(context, userTypedVerificationCode) async {\n  bool signedIn = false;\n  String phoneNumberString = \"+${getUserPhoneNumber()}\";\n  await FirebaseAuth.instance.verifyPhoneNumber(\n    phoneNumber: phoneNumberString,\n    codeSent: (String verificationId, int? resendToken) async {\n     \n      PhoneAuthCredential credential = PhoneAuthProvider.credential(\n          verificationId: verificationId, smsCode: userTypedVerificationCode);\n\n      \n      await auth.signInWithCredential(credential);\n\n      if (auth.currentUser?.uid != null) {\n        print(\"Signed in\");\n        setUid(auth.currentUser!.uid);\n        signedIn = true;\n      } else {\n        signedIn = false;\n      }\n    },\n    \n  );\n\n  if (signedIn) {\n    return Future.value(true);\n  } else {\n    return Future.value(false);\n  }\n}\n",
            "onPressed: () async {\n  bool isSignedIn = await CheckAuth(context, currentText);\n\n  if (isSignedIn) {\n    Navigator.pushNamed(context, ProfilePage1Screen.id);\n    \n  } else {\n    \n  }\n"
        ]
    },
    {
        "titulo": "Can&#39;t mock camera controller for unit tests",
        "score": 0,
        "views": 138,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "flutter-bloc",
            "flutter-camera"
        ],
        "link": "https://stackoverflow.com/questions/78628564/cant-mock-camera-controller-for-unit-tests",
        "conteudo_html": "<p>By online examples I've wrote <code>CameraBloc</code> implementation:</p>\n<pre><code>class CameraUtils {\n  Future&lt;List&lt;CameraDescription&gt;&gt; getAvailableCameras() async =&gt; await availableCameras();\n\n  Future&lt;CameraDescription&gt; findBestCamera(CameraLensDirection cameraLensDirection) async {\n    final cameras = await getAvailableCameras();\n    return cameras.firstWhere((camera) =&gt; camera.lensDirection == cameraLensDirection);\n  }\n\n  Future&lt;CameraController&gt; createCameraController(CameraDescription camera, ResolutionPreset preset) async {\n    return CameraController(camera, preset, enableAudio: false);\n  }\n\n  Future&lt;bool&gt; requestPermission() async {\n    return await Permission.camera.request().isGranted;\n  }\n}\n\nsealed class CameraState extends Equatable {\n  const CameraState();\n\n  @override\n  List&lt;Object&gt; get props =&gt; [];\n}\n\nfinal class CameraInitial extends CameraState {}\n\nfinal class CameraReady extends CameraState {\n  final CameraController cameraController;\n\n  const CameraReady({required this.cameraController});\n\n  @override\n  List&lt;Object&gt; get props =&gt; [cameraController];\n}\n\nfinal class CameraFailure extends CameraState {\n  final String error;\n\n  const CameraFailure({this.error = &quot;CameraFailure&quot;});\n\n  @override\n  List&lt;Object&gt; get props =&gt; [error];\n}\n\nfinal class CameraPermissionDenied extends CameraState {}\n\nsealed class CameraEvent {}\n\nfinal class CameraStopped extends CameraEvent {}\n\nfinal class CameraInitialized extends CameraEvent {}\n\nclass CameraBloc extends Bloc&lt;CameraEvent, CameraState&gt; {\n  final CameraUtils cameraUtils;\n  final ResolutionPreset resolutionPreset;\n  final CameraLensDirection cameraLensDirection;\n\n  CameraController? _controller;\n\n  CameraBloc({\n    required this.cameraUtils,\n    this.resolutionPreset = ResolutionPreset.high,\n    this.cameraLensDirection = CameraLensDirection.back,\n  }) : super(CameraInitial()) {\n    on&lt;CameraInitialized&gt;(_onCameraInitialized);\n    on&lt;CameraStopped&gt;(_onCameraStopped);\n  }\n\n  Future _onCameraInitialized(\n      CameraInitialized event, Emitter&lt;CameraState&gt; emit) async {\n    try {\n      final isGranted = await cameraUtils.requestPermission();\n\n      if (!isGranted) {\n        emit(CameraPermissionDenied());\n        return;\n      }\n\n      final camera = await cameraUtils.findBestCamera(cameraLensDirection);\n      _controller =\n      await cameraUtils.createCameraController(camera, resolutionPreset);\n      await _controller!.initialize();\n      emit(CameraReady(cameraController: _controller!));\n    } on CameraException catch (error) {\n      _controller?.dispose();\n      emit(CameraFailure(error: error.description ?? error.toString()));\n    } catch (error) {\n      emit(CameraFailure(error: error.toString()));\n    }\n  }\n\n  Future _onCameraStopped(\n      CameraStopped event, Emitter&lt;CameraState&gt; emit) async {\n    _controller?.dispose();\n    emit(CameraInitial());\n  }\n\n  @override\n  Future&lt;void&gt; close() {\n    _controller?.dispose();\n    return super.close();\n  }\n}\n</code></pre>\n<p>There is a nothing special... However, I faced troubles with mocking in unit tests:</p>\n<pre><code>final class MockCameraDescription extends Mock implements CameraDescription {}\nfinal class MockCameraController extends Mock implements CameraController {}\nfinal class MockCameraUtils extends Mock implements CameraUtils {}\n\nvoid main() {\n  late MockCameraDescription camera;\n  late MockCameraController cameraController;\n  late MockCameraUtils cameraUtils;\n\n  setUp(() {\n    camera = MockCameraDescription();\n    cameraController = MockCameraController();\n    cameraUtils = MockCameraUtils();\n\n    // Default responses\n    when(cameraController.initialize()).thenAnswer((_) =&gt; Future.value());\n    when(cameraUtils.createCameraController(camera, ResolutionPreset.max)).thenAnswer((_) =&gt; Future.value(cameraController));\n  });\n\n  group('CameraInitialized', () {\n    blocTest&lt;CameraBloc, CameraState&gt;(\n      'Should initialize the camera controller',\n      build: () =&gt; CameraBloc(cameraUtils: cameraUtils),\n      act: (CameraBloc bloc) =&gt; bloc.add(CameraInitialized()),\n      expect: () =&gt; [CameraReady(cameraController: cameraController)],\n    );\n\n    blocTest&lt;CameraBloc, CameraState&gt;(\n      'Should return a permission denied state',\n      build: () {\n        when(cameraController.initialize()).thenAnswer((_) =&gt; Future.error(\n            CameraException(&quot;cameraPermission&quot;,\n                &quot;MediaRecorderCamera permission not granted&quot;)));\n        return CameraBloc(cameraUtils: cameraUtils);\n      },\n      act: (CameraBloc bloc) =&gt; bloc.add(CameraInitialized()),\n      expect: () =&gt; [CameraPermissionDenied()],\n    );\n\n    blocTest&lt;CameraBloc, CameraState&gt;(\n      'Should throw an error (no camera on device)',\n      build: () {\n        when(cameraUtils.createCameraController(camera, ResolutionPreset.max)).thenAnswer((_) =&gt; Future.error(Exception(&quot;Bad state: no element&quot;)));\n        return CameraBloc(cameraUtils: cameraUtils);\n      },\n      act: (CameraBloc bloc) =&gt; bloc.add(CameraInitialized()),\n      expect: () =&gt; [const CameraFailure(error: &quot;Exception: Bad state: no element&quot;)],\n    );\n  });\n\n  group('CameraStopped', () {\n    blocTest&lt;CameraBloc, CameraState&gt;(\n      'Should dispose the camera',\n      build: () =&gt; CameraBloc(cameraUtils: cameraUtils),\n      act: (CameraBloc bloc) =&gt;\n      bloc..add(CameraInitialized())..add(CameraStopped()),\n      expect: () =&gt; [\n        CameraReady(cameraController: cameraController),\n        CameraInitial(),\n      ],\n    );\n  });\n}\n</code></pre>\n<p>When I try to launch tests they fail with errors:</p>\n<pre><code>test/domain/camera_test.dart 9:13   MockCameraController.initialize\ntest/domain/camera_test.dart 23:27  main.&lt;fn&gt;\n\ntype 'Null' is not a subtype of type 'Future&lt;void&gt;'\n\npackage:mockito/src/mock.dart 1207:5  when\ntest/domain/camera_test.dart 23:5     main.&lt;fn&gt;\n\nBad state: Cannot call `when` within a stub response\n\npackage:mockito/src/mock.dart 1207:5  when\ntest/domain/camera_test.dart 23:5     main.&lt;fn&gt;\n\nBad state: Cannot call `when` within a stub response\n\npackage:mockito/src/mock.dart 1207:5  when\ntest/domain/camera_test.dart 23:5     main.&lt;fn&gt;\n\nBad state: Cannot call `when` within a stub response\n</code></pre>\n<p>I am a beginner in <code>flutter_test</code> and <code>mockito</code> and can't get why. Seems I did the same steps as in their official examples...</p>\n",
        "codigo": [
            "CameraBloc",
            "class CameraUtils {\n  Future<List<CameraDescription>> getAvailableCameras() async => await availableCameras();\n\n  Future<CameraDescription> findBestCamera(CameraLensDirection cameraLensDirection) async {\n    final cameras = await getAvailableCameras();\n    return cameras.firstWhere((camera) => camera.lensDirection == cameraLensDirection);\n  }\n\n  Future<CameraController> createCameraController(CameraDescription camera, ResolutionPreset preset) async {\n    return CameraController(camera, preset, enableAudio: false);\n  }\n\n  Future<bool> requestPermission() async {\n    return await Permission.camera.request().isGranted;\n  }\n}\n\nsealed class CameraState extends Equatable {\n  const CameraState();\n\n  @override\n  List<Object> get props => [];\n}\n\nfinal class CameraInitial extends CameraState {}\n\nfinal class CameraReady extends CameraState {\n  final CameraController cameraController;\n\n  const CameraReady({required this.cameraController});\n\n  @override\n  List<Object> get props => [cameraController];\n}\n\nfinal class CameraFailure extends CameraState {\n  final String error;\n\n  const CameraFailure({this.error = \"CameraFailure\"});\n\n  @override\n  List<Object> get props => [error];\n}\n\nfinal class CameraPermissionDenied extends CameraState {}\n\nsealed class CameraEvent {}\n\nfinal class CameraStopped extends CameraEvent {}\n\nfinal class CameraInitialized extends CameraEvent {}\n\nclass CameraBloc extends Bloc<CameraEvent, CameraState> {\n  final CameraUtils cameraUtils;\n  final ResolutionPreset resolutionPreset;\n  final CameraLensDirection cameraLensDirection;\n\n  CameraController? _controller;\n\n  CameraBloc({\n    required this.cameraUtils,\n    this.resolutionPreset = ResolutionPreset.high,\n    this.cameraLensDirection = CameraLensDirection.back,\n  }) : super(CameraInitial()) {\n    on<CameraInitialized>(_onCameraInitialized);\n    on<CameraStopped>(_onCameraStopped);\n  }\n\n  Future _onCameraInitialized(\n      CameraInitialized event, Emitter<CameraState> emit) async {\n    try {\n      final isGranted = await cameraUtils.requestPermission();\n\n      if (!isGranted) {\n        emit(CameraPermissionDenied());\n        return;\n      }\n\n      final camera = await cameraUtils.findBestCamera(cameraLensDirection);\n      _controller =\n      await cameraUtils.createCameraController(camera, resolutionPreset);\n      await _controller!.initialize();\n      emit(CameraReady(cameraController: _controller!));\n    } on CameraException catch (error) {\n      _controller?.dispose();\n      emit(CameraFailure(error: error.description ?? error.toString()));\n    } catch (error) {\n      emit(CameraFailure(error: error.toString()));\n    }\n  }\n\n  Future _onCameraStopped(\n      CameraStopped event, Emitter<CameraState> emit) async {\n    _controller?.dispose();\n    emit(CameraInitial());\n  }\n\n  @override\n  Future<void> close() {\n    _controller?.dispose();\n    return super.close();\n  }\n}\n",
            "final class MockCameraDescription extends Mock implements CameraDescription {}\nfinal class MockCameraController extends Mock implements CameraController {}\nfinal class MockCameraUtils extends Mock implements CameraUtils {}\n\nvoid main() {\n  late MockCameraDescription camera;\n  late MockCameraController cameraController;\n  late MockCameraUtils cameraUtils;\n\n  setUp(() {\n    camera = MockCameraDescription();\n    cameraController = MockCameraController();\n    cameraUtils = MockCameraUtils();\n\n    // Default responses\n    when(cameraController.initialize()).thenAnswer((_) => Future.value());\n    when(cameraUtils.createCameraController(camera, ResolutionPreset.max)).thenAnswer((_) => Future.value(cameraController));\n  });\n\n  group('CameraInitialized', () {\n    blocTest<CameraBloc, CameraState>(\n      'Should initialize the camera controller',\n      build: () => CameraBloc(cameraUtils: cameraUtils),\n      act: (CameraBloc bloc) => bloc.add(CameraInitialized()),\n      expect: () => [CameraReady(cameraController: cameraController)],\n    );\n\n    blocTest<CameraBloc, CameraState>(\n      'Should return a permission denied state',\n      build: () {\n        when(cameraController.initialize()).thenAnswer((_) => Future.error(\n            CameraException(\"cameraPermission\",\n                \"MediaRecorderCamera permission not granted\")));\n        return CameraBloc(cameraUtils: cameraUtils);\n      },\n      act: (CameraBloc bloc) => bloc.add(CameraInitialized()),\n      expect: () => [CameraPermissionDenied()],\n    );\n\n    blocTest<CameraBloc, CameraState>(\n      'Should throw an error (no camera on device)',\n      build: () {\n        when(cameraUtils.createCameraController(camera, ResolutionPreset.max)).thenAnswer((_) => Future.error(Exception(\"Bad state: no element\")));\n        return CameraBloc(cameraUtils: cameraUtils);\n      },\n      act: (CameraBloc bloc) => bloc.add(CameraInitialized()),\n      expect: () => [const CameraFailure(error: \"Exception: Bad state: no element\")],\n    );\n  });\n\n  group('CameraStopped', () {\n    blocTest<CameraBloc, CameraState>(\n      'Should dispose the camera',\n      build: () => CameraBloc(cameraUtils: cameraUtils),\n      act: (CameraBloc bloc) =>\n      bloc..add(CameraInitialized())..add(CameraStopped()),\n      expect: () => [\n        CameraReady(cameraController: cameraController),\n        CameraInitial(),\n      ],\n    );\n  });\n}\n",
            "test/domain/camera_test.dart 9:13   MockCameraController.initialize\ntest/domain/camera_test.dart 23:27  main.<fn>\n\ntype 'Null' is not a subtype of type 'Future<void>'\n\npackage:mockito/src/mock.dart 1207:5  when\ntest/domain/camera_test.dart 23:5     main.<fn>\n\nBad state: Cannot call `when` within a stub response\n\npackage:mockito/src/mock.dart 1207:5  when\ntest/domain/camera_test.dart 23:5     main.<fn>\n\nBad state: Cannot call `when` within a stub response\n\npackage:mockito/src/mock.dart 1207:5  when\ntest/domain/camera_test.dart 23:5     main.<fn>\n\nBad state: Cannot call `when` within a stub response\n",
            "flutter_test",
            "mockito"
        ]
    },
    {
        "titulo": "Flutter Build Fails with Kotlin Version Incompatibility",
        "score": 2,
        "views": 785,
        "respostas": 2,
        "tags": [
            "flutter",
            "firebase",
            "kotlin",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78624476/flutter-build-fails-with-kotlin-version-incompatibility",
        "conteudo_html": "<p>I am working on a Flutter project and I'm facing an issue related to Kotlin versions. When I try to build my project, I get the following error messages indicating a version mismatch between Kotlin modules:</p>\n<pre><code>e: C:/Users/digit/.gradle/caches/transforms-3/431ce31617111116ed092b20fb775fda/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/digit/.gradle/caches/transforms-3/431ce31617111116ed092b20fb775fda/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/digit/.gradle/caches/transforms-3/431ce31617111116ed092b20fb775fda/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/digit/.gradle/caches/transforms-3/6327b6d5cbee3dd5c434505ea5de9c0a/transformed/jetified-firebase-analytics-ktx-22.0.1-api.jar!/META-INF/java.com.google.android.libraries.firebase.firebase_analytics_ktx_granule.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/digit/.gradle/caches/transforms-3/648640f83817e7438e3934ba83addfe2/transformed/jetified-play-services-measurement-api-22.0.1-api.jar!/META-INF/java.com.google.android.gmscore.integ.client.measurement_api_measurement_api.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/digit/.gradle/caches/transforms-3/c321e7444a5c731da2398570d6ef04f1/transformed/jetified-kotlin-stdlib-common-1.9.0.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nt\n</code></pre>\n<p>Additionally, I receive this message indicating the need for a newer version of the Kotlin Gradle plugin:</p>\n<pre><code>[!] Your project requires a newer version of the Kotlin Gradle plugin.\nFind the latest version on https://kotlinlang.org/docs/releases.html#release-details, then update C:\\Users\\digit\\Documents\\flutter projects\\android\\build.gradle:\next.kotlin_version = '&lt;latest-version&gt;'\n</code></pre>\n<p>My Current Setup\nHere are the relevant parts of my android/build.gradle and android/app/build.gradle files:</p>\n<p>android/build.gradle:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.9.0' // Updated to the latest version\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.2' // Updated Gradle Plugin\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.4.2'\n        classpath 'com.google.dagger:hilt-android-gradle-plugin:2.44'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.buildDir\n}\n\n\n</code></pre>\n<p>android/app/build.gradle:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-kapt'\n    id 'com.google.gms.google-services'\n    id 'com.google.dagger.hilt.android'\n    id 'dev.flutter.flutter-gradle-plugin'\n}\n\ndef localProperties = new Properties()\ndef localPropertiesFile = rootProject.file(&quot;local.properties&quot;)\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader(&quot;UTF-8&quot;) { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterVersionCode = localProperties.getProperty(&quot;flutter.versionCode&quot;)\nif (flutterVersionCode == null) {\n    flutterVersionCode = &quot;1&quot;\n}\n\ndef flutterVersionName = localProperties.getProperty(&quot;flutter.versionName&quot;)\nif (flutterVersionName == null) {\n    flutterVersionName = &quot;1.0&quot;\n}\n\nandroid {\n    namespace = &quot;com.muhasebepro.muhasebe_pro_finall&quot;\n    compileSdkVersion 34\n    ndkVersion = flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        applicationId &quot;com.muhasebepro.muhasebe_pro_finall&quot;\n        minSdkVersion 24\n        targetSdkVersion 34\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    buildTypes {\n        release {\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source = '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\n    implementation platform('com.google.firebase:firebase-bom:31.2.3')\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n\n    implementation 'com.google.dagger:hilt-android:2.44'\n    kapt 'com.google.dagger:hilt-compiler:2.44'\n}\n\napply plugin: 'kotlin-kapt'\n\n</code></pre>\n<p>Steps I Have Tried\nUpdated Kotlin version to 1.9.0 in android/build.gradle.\nEnsured that all dependencies use the same Kotlin version.\nCleaned and rebuilt the project using flutter clean and flutter pub get.</p>\n<p>Request\nHow can I resolve this version mismatch issue and ensure that all modules use the same compatible version of Kotlin?</p>\n<p>What I Tried and Expected\nI am working on a Flutter project and encountered issues related to Kotlin versions during the build process. Here's what I have tried so far:</p>\n<p>Updated Kotlin Version: I updated the Kotlin version to 1.9.0 in my android/build.gradle file as suggested by the error message.\nSynchronized Dependencies: I ensured that all dependencies in my build.gradle files are using the same version of Kotlin.\nCleaned and Rebuilt the Project: I used flutter clean and flutter pub get to clean and fetch the dependencies again, hoping to resolve any conflicts.\nChecked for Duplicate Dependencies: I verified that there are no duplicate dependencies that might be causing the conflict.</p>\n",
        "codigo": [
            "e: C:/Users/digit/.gradle/caches/transforms-3/431ce31617111116ed092b20fb775fda/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/digit/.gradle/caches/transforms-3/431ce31617111116ed092b20fb775fda/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/digit/.gradle/caches/transforms-3/431ce31617111116ed092b20fb775fda/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/digit/.gradle/caches/transforms-3/6327b6d5cbee3dd5c434505ea5de9c0a/transformed/jetified-firebase-analytics-ktx-22.0.1-api.jar!/META-INF/java.com.google.android.libraries.firebase.firebase_analytics_ktx_granule.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/digit/.gradle/caches/transforms-3/648640f83817e7438e3934ba83addfe2/transformed/jetified-play-services-measurement-api-22.0.1-api.jar!/META-INF/java.com.google.android.gmscore.integ.client.measurement_api_measurement_api.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/digit/.gradle/caches/transforms-3/c321e7444a5c731da2398570d6ef04f1/transformed/jetified-kotlin-stdlib-common-1.9.0.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nt\n",
            "[!] Your project requires a newer version of the Kotlin Gradle plugin.\nFind the latest version on https://kotlinlang.org/docs/releases.html#release-details, then update C:\\Users\\digit\\Documents\\flutter projects\\android\\build.gradle:\next.kotlin_version = '<latest-version>'\n",
            "buildscript {\n    ext.kotlin_version = '1.9.0' // Updated to the latest version\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.2' // Updated Gradle Plugin\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.google.gms:google-services:4.4.2'\n        classpath 'com.google.dagger:hilt-android-gradle-plugin:2.44'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntasks.register(\"clean\", Delete) {\n    delete rootProject.buildDir\n}\n\n\n",
            "plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-kapt'\n    id 'com.google.gms.google-services'\n    id 'com.google.dagger.hilt.android'\n    id 'dev.flutter.flutter-gradle-plugin'\n}\n\ndef localProperties = new Properties()\ndef localPropertiesFile = rootProject.file(\"local.properties\")\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader(\"UTF-8\") { reader ->\n        localProperties.load(reader)\n    }\n}\n\ndef flutterVersionCode = localProperties.getProperty(\"flutter.versionCode\")\nif (flutterVersionCode == null) {\n    flutterVersionCode = \"1\"\n}\n\ndef flutterVersionName = localProperties.getProperty(\"flutter.versionName\")\nif (flutterVersionName == null) {\n    flutterVersionName = \"1.0\"\n}\n\nandroid {\n    namespace = \"com.muhasebepro.muhasebe_pro_finall\"\n    compileSdkVersion 34\n    ndkVersion = flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        applicationId \"com.muhasebepro.muhasebe_pro_finall\"\n        minSdkVersion 24\n        targetSdkVersion 34\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    buildTypes {\n        release {\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source = '../..'\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    implementation platform('com.google.firebase:firebase-bom:31.2.3')\n    implementation 'com.google.firebase:firebase-analytics-ktx'\n\n    implementation 'com.google.dagger:hilt-android:2.44'\n    kapt 'com.google.dagger:hilt-compiler:2.44'\n}\n\napply plugin: 'kotlin-kapt'\n\n"
        ]
    },
    {
        "titulo": "Unit Test Flutter: Login API (POST) with email and password as payload",
        "score": 0,
        "views": 96,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "dart",
            "unit-testing"
        ],
        "link": "https://stackoverflow.com/questions/78623223/unit-test-flutter-login-api-post-with-email-and-password-as-payload",
        "conteudo_html": "<p>I am writing this Unit Test in Flutter. It's Login API (POST) with email and password as payload. Do i need to pass password and email as hardcoded as arguments in userLoginApi fieild?</p>\n<pre><code>group(\n    &quot;User Auth - &quot;,\n    () {\n      group(\n        'get Auth function',\n        () {\n          test(\n              'given Login Authentication class when loginApi Func is called'\n              ' status code is 200 then a user model or 1 should be returned',\n              () async {\n            //Arrange\n            // Act\n            final result = await loginController.userLoginApi(password: '12345',email: 'xyz@gmail.com');\n            debugPrint(&quot;resulttt $result&quot;);\n            // Assert\n            expect(result, 1);\n          });\n        },\n      );\n</code></pre>\n<p>Do i need to pass password and email as hardcoded as arguments in userLoginApi fieild?</p>\n",
        "codigo": [
            "group(\n    \"User Auth - \",\n    () {\n      group(\n        'get Auth function',\n        () {\n          test(\n              'given Login Authentication class when loginApi Func is called'\n              ' status code is 200 then a user model or 1 should be returned',\n              () async {\n            //Arrange\n            // Act\n            final result = await loginController.userLoginApi(password: '12345',email: 'xyz@gmail.com');\n            debugPrint(\"resulttt $result\");\n            // Assert\n            expect(result, 1);\n          });\n        },\n      );\n"
        ]
    },
    {
        "titulo": "How can I use a type parameter as a type parameter in Dart?",
        "score": 0,
        "views": 51,
        "respostas": 1,
        "tags": [
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78594081/how-can-i-use-a-type-parameter-as-a-type-parameter-in-dart",
        "conteudo_html": "<p>The following fails:</p>\n<pre><code>class LoaderWidget&lt;T&gt; extends StatefulWidget {\n  final Function&lt; Future&lt;T&gt; &gt;() loader;   // Can't use type parameter T as a type parameter\n...\n}\n</code></pre>\n<p><code>Function&lt; Future&lt;T&gt; &gt;()</code> ... gives the compile error ...\n<code>Expected to find '&gt;'</code></p>\n<p>Is it still not possible in dart to use generic type parameters as type parameters to other types?</p>\n",
        "codigo": [
            "class LoaderWidget<T> extends StatefulWidget {\n  final Function< Future<T> >() loader;   // Can't use type parameter T as a type parameter\n...\n}\n",
            "Function< Future<T> >()",
            "Expected to find '>'"
        ]
    },
    {
        "titulo": "Flutter dynamic path curves and animate",
        "score": 0,
        "views": 76,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "flutter-path"
        ],
        "link": "https://stackoverflow.com/questions/78586156/flutter-dynamic-path-curves-and-animate",
        "conteudo_html": "<p>i have got this path in flutter .</p>\n<p>firstly i would like it to be straight which is accomplished , then the left curve but when i try to curve it again it won't work , i would like the curves to be dynamic left and right based on a number i pass to the custompaint i have . and then animate it to be like its being drawn along the container that holds it .</p>\n<p>here is the code :</p>\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('Scrollable Custom Paint Example'),\n        ),\n        body: Center(\n          child: SingleChildScrollView(\n            child: CustomPaint(\n              size: Size(200, 200), // Set the height as per your requirement\n              painter: DynamicPathPainter(\n                numberOfCurves: 10, // Set the number of curves\n                curveSpacing: 0.1, // Set the spacing between the curves (fraction of the screen height)\n              ),\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}\n\nclass DynamicPathPainter extends CustomPainter {\n  final int numberOfCurves;\n  final double curveSpacing;\n\n  DynamicPathPainter({required this.numberOfCurves, required this.curveSpacing});\n\n  @override\n  void paint(Canvas canvas, Size size) {\n    Paint paint = Paint()\n      ..color = Colors.blue\n      ..style = PaintingStyle.stroke\n      ..strokeWidth = 10.0;\n\n    Path path = Path();\n    path.moveTo(size.width / 2, 0); // Start at the middle top of the screen\n\n    double currentHeight = size.height * 0.3; // Initial straight section height\n    path.lineTo(size.width / 2, currentHeight); // Draw the initial straight line\n\n    // Define control points and end point for the first cubic Bezier curve (curve to the left)\n    Offset controlPoint1 = Offset(size.width / 2, size.height * 0.5);\n    Offset controlPoint2 = Offset(size.width / 2 - 150, size.height * 0.8);\n    Offset endPoint1 = Offset(size.width / 2 - 200, size.height);\n\n    // Add the first cubic Bezier curve\n    path.cubicTo(controlPoint1.dx, controlPoint1.dy, controlPoint2.dx, controlPoint2.dy, endPoint1.dx, endPoint1.dy);\n\n    // Define control points and end point for the second cubic Bezier curve (curve back to the right)\n    Offset controlPoint3 = Offset(size.width / 2 - 250, size.height * 1.2);\n    Offset controlPoint4 = Offset(size.width / 2, size.height * 1.1);\n    Offset endPoint2 = Offset(size.width / 2 + 50, size.height * 1.2);\n\n    // Add the second cubic Bezier curve\n    path.cubicTo(controlPoint3.dx, controlPoint3.dy, controlPoint4.dx, controlPoint4.dy, endPoint2.dx, endPoint2.dy);\n\n    // Define control points and end point for the third cubic Bezier curve (curve back to the right again)\n    Offset controlPoint5 = Offset(size.width, size.height * 1.2);\n    Offset controlPoint6 = Offset(size.width / 2 + 200, size.height * 1.2);\n    Offset endPoint3 = Offset(size.width / 2 + 150, size.height * 1.5);\n\n    // Add the third cubic Bezier curve\n    path.cubicTo(controlPoint5.dx, controlPoint5.dy, controlPoint6.dx, controlPoint6.dy, endPoint3.dx, endPoint3.dy);\n\n    canvas.drawPath(path, paint);\n  }\n\n  @override\n  bool shouldRepaint(covariant CustomPainter oldDelegate) {\n    return false;\n  }\n}\nwhen i try to add anything based on the number of curves the output is not what i expect at all .\n</code></pre>\n<p><a href=\"https://i.sstatic.net/1ZNCL23L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/1ZNCL23L.png\" alt=\"enter image description here\" /></a></p>\n<p>what iam trying to achieve :\n<a href=\"https://i.sstatic.net/iVIHKrbj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/iVIHKrbj.png\" alt=\"enter image description here\" /></a></p>\n",
        "codigo": [
            "import 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('Scrollable Custom Paint Example'),\n        ),\n        body: Center(\n          child: SingleChildScrollView(\n            child: CustomPaint(\n              size: Size(200, 200), // Set the height as per your requirement\n              painter: DynamicPathPainter(\n                numberOfCurves: 10, // Set the number of curves\n                curveSpacing: 0.1, // Set the spacing between the curves (fraction of the screen height)\n              ),\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}\n\nclass DynamicPathPainter extends CustomPainter {\n  final int numberOfCurves;\n  final double curveSpacing;\n\n  DynamicPathPainter({required this.numberOfCurves, required this.curveSpacing});\n\n  @override\n  void paint(Canvas canvas, Size size) {\n    Paint paint = Paint()\n      ..color = Colors.blue\n      ..style = PaintingStyle.stroke\n      ..strokeWidth = 10.0;\n\n    Path path = Path();\n    path.moveTo(size.width / 2, 0); // Start at the middle top of the screen\n\n    double currentHeight = size.height * 0.3; // Initial straight section height\n    path.lineTo(size.width / 2, currentHeight); // Draw the initial straight line\n\n    // Define control points and end point for the first cubic Bezier curve (curve to the left)\n    Offset controlPoint1 = Offset(size.width / 2, size.height * 0.5);\n    Offset controlPoint2 = Offset(size.width / 2 - 150, size.height * 0.8);\n    Offset endPoint1 = Offset(size.width / 2 - 200, size.height);\n\n    // Add the first cubic Bezier curve\n    path.cubicTo(controlPoint1.dx, controlPoint1.dy, controlPoint2.dx, controlPoint2.dy, endPoint1.dx, endPoint1.dy);\n\n    // Define control points and end point for the second cubic Bezier curve (curve back to the right)\n    Offset controlPoint3 = Offset(size.width / 2 - 250, size.height * 1.2);\n    Offset controlPoint4 = Offset(size.width / 2, size.height * 1.1);\n    Offset endPoint2 = Offset(size.width / 2 + 50, size.height * 1.2);\n\n    // Add the second cubic Bezier curve\n    path.cubicTo(controlPoint3.dx, controlPoint3.dy, controlPoint4.dx, controlPoint4.dy, endPoint2.dx, endPoint2.dy);\n\n    // Define control points and end point for the third cubic Bezier curve (curve back to the right again)\n    Offset controlPoint5 = Offset(size.width, size.height * 1.2);\n    Offset controlPoint6 = Offset(size.width / 2 + 200, size.height * 1.2);\n    Offset endPoint3 = Offset(size.width / 2 + 150, size.height * 1.5);\n\n    // Add the third cubic Bezier curve\n    path.cubicTo(controlPoint5.dx, controlPoint5.dy, controlPoint6.dx, controlPoint6.dy, endPoint3.dx, endPoint3.dy);\n\n    canvas.drawPath(path, paint);\n  }\n\n  @override\n  bool shouldRepaint(covariant CustomPainter oldDelegate) {\n    return false;\n  }\n}\nwhen i try to add anything based on the number of curves the output is not what i expect at all .\n"
        ]
    },
    {
        "titulo": "Inactive button still functioning when being clicked in flutter",
        "score": 0,
        "views": 75,
        "respostas": 2,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "google-cloud-firestore",
            "button"
        ],
        "link": "https://stackoverflow.com/questions/78576208/inactive-button-still-functioning-when-being-clicked-in-flutter",
        "conteudo_html": "<p>I have a button in my app, whenever a user clicks on the button in a day, he won't be able to click on the button again for the whole day, and when he clicks on the button, the button will be inactive all throughout the day and will be active tomorrow. i saved the time and date of users last clicked on firestore but my issues here is when the button is inactive, it also execute, please below is my code, what am i getting wrong here. i will really appreciate any help</p>\n<pre><code>@override\n  void initState() {\n    super.initState();\n    _checkButtonStatus();\n  }\n\nverifyAccount() async {\n  final response = await http.post(\n    Uri.parse('http://'),\n     headers: {\n            &quot;Content-type&quot;: &quot;application/x-www-form-urlencoded&quot;, \n            &quot;Accept&quot;: &quot;application/json&quot;,\n          },\n    \n    body:{\n       &quot;accountNo&quot;: widget.valueAccountNo,\n       &quot;accountName&quot;: widget.valueAccountName,\n       &quot;bankName&quot;: widget.valueBankName,\n    });\nvar data = await json.decode(json.encode(response.body));  \n if(data == &quot;Error&quot;){               \n        }\n        else{\n          //Get Your ERROR message's here\n      \n        }\n  }\n\n  Future&lt;void&gt; _checkButtonStatus() async {\n      User? user = _auth.currentUser;\n    _uid = user!.uid;\n    try {\n      DocumentSnapshot documentSnapshot =\n          await _firestore.collection('Withdrawals').doc(_uid).get();\n      if (documentSnapshot.exists) {\n        Timestamp lastPressed = documentSnapshot['date'];\n        DateTime lastPressedDate = lastPressed.toDate();\n        DateTime currentDate = DateTime.now();\n        Duration difference = currentDate.difference(lastPressedDate);\n\n        setState(() {\n          _isButtonActive = difference.inHours &gt;= 24;\n        });\n      }\n    } catch (e) {\n      print(&quot;Error checking button status: $e&quot;);\n    }\n  }\n\n\nFuture&lt;void&gt; _handleButtonPress() async {\n    try {\n      await _firestore.collection('Withdrawals').doc(_uid).set({\n        'date': Timestamp.now(),\n      });\n      setState(() {\n        _isButtonActive = false;\n      });\n    } catch (e) {\n      print(&quot;Error handling button press: $e&quot;);\n    }\n  }\n\n\n\n child: ElevatedButton(\n          child: Text(_isButtonActive ? 'Continue':'Disabled'),\n           onPressed: _isButtonActive ? () async {\n            await _handleButtonPress();\n            verifyAccount();\n          } : null,\n\n        ),\n</code></pre>\n<pre><code>It shouldn't verify or go to verifyAccount() method if the button is inactive, please is there anything am missing or am not doing well please\n   \n</code></pre>\n",
        "codigo": [
            "@override\n  void initState() {\n    super.initState();\n    _checkButtonStatus();\n  }\n\nverifyAccount() async {\n  final response = await http.post(\n    Uri.parse('http://'),\n     headers: {\n            \"Content-type\": \"application/x-www-form-urlencoded\", \n            \"Accept\": \"application/json\",\n          },\n    \n    body:{\n       \"accountNo\": widget.valueAccountNo,\n       \"accountName\": widget.valueAccountName,\n       \"bankName\": widget.valueBankName,\n    });\nvar data = await json.decode(json.encode(response.body));  \n if(data == \"Error\"){               \n        }\n        else{\n          //Get Your ERROR message's here\n      \n        }\n  }\n\n  Future<void> _checkButtonStatus() async {\n      User? user = _auth.currentUser;\n    _uid = user!.uid;\n    try {\n      DocumentSnapshot documentSnapshot =\n          await _firestore.collection('Withdrawals').doc(_uid).get();\n      if (documentSnapshot.exists) {\n        Timestamp lastPressed = documentSnapshot['date'];\n        DateTime lastPressedDate = lastPressed.toDate();\n        DateTime currentDate = DateTime.now();\n        Duration difference = currentDate.difference(lastPressedDate);\n\n        setState(() {\n          _isButtonActive = difference.inHours >= 24;\n        });\n      }\n    } catch (e) {\n      print(\"Error checking button status: $e\");\n    }\n  }\n\n\nFuture<void> _handleButtonPress() async {\n    try {\n      await _firestore.collection('Withdrawals').doc(_uid).set({\n        'date': Timestamp.now(),\n      });\n      setState(() {\n        _isButtonActive = false;\n      });\n    } catch (e) {\n      print(\"Error handling button press: $e\");\n    }\n  }\n\n\n\n child: ElevatedButton(\n          child: Text(_isButtonActive ? 'Continue':'Disabled'),\n           onPressed: _isButtonActive ? () async {\n            await _handleButtonPress();\n            verifyAccount();\n          } : null,\n\n        ),\n",
            "It shouldn't verify or go to verifyAccount() method if the button is inactive, please is there anything am missing or am not doing well please\n   \n"
        ]
    },
    {
        "titulo": "Accessing WorkerGlobalScope instance in web Worker using package:web",
        "score": 1,
        "views": 71,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "dart-html"
        ],
        "link": "https://stackoverflow.com/questions/78566237/accessing-workerglobalscope-instance-in-web-worker-using-packageweb",
        "conteudo_html": "<p>When writing a Web worker using Dart, using the now deprecated <code>dart:html</code> package, it is possible to access the <code>WorkerGlobalScope</code> instance this way:</p>\n<pre><code>import 'dart:html'; // deprecated\n\nvoid test() {\n  WorkerGlobalScope.instance.importScripts(&quot;...&quot;);\n}\n</code></pre>\n<p>Using <code>package:web</code>, how can I do the same?</p>\n<pre><code>import 'package:web/web.dart' as web;\n\nvoid test() {\n  web.WorkerGlobalScope.instance // not working. \n}\n</code></pre>\n<p>I see <code>WorkerGlobalScope</code> is defined in package:web's <code>lib/src/dom/html.dart</code> file, suggesting Worker APIs are supported.\nBut WorkerGlobalScope is an extension, not a class. How can I use it?</p>\n<p>There is a severe lack of documentation on <code>package:web</code>.</p>\n",
        "codigo": [
            "dart:html",
            "WorkerGlobalScope",
            "import 'dart:html'; // deprecated\n\nvoid test() {\n  WorkerGlobalScope.instance.importScripts(\"...\");\n}\n",
            "package:web",
            "import 'package:web/web.dart' as web;\n\nvoid test() {\n  web.WorkerGlobalScope.instance // not working. \n}\n",
            "WorkerGlobalScope",
            "lib/src/dom/html.dart",
            "package:web"
        ]
    },
    {
        "titulo": "Nested Json Serialization Doesn&#39;t Work Event With explicitToJson: TRUE?",
        "score": 0,
        "views": 119,
        "respostas": 1,
        "tags": [
            "json",
            "flutter",
            "dart",
            "jsonserializer",
            "json-serializable"
        ],
        "link": "https://stackoverflow.com/questions/78564200/nested-json-serialization-doesnt-work-event-with-explicittojson-true",
        "conteudo_html": "<p>I am new to flutter and have been developing a small api that would pull data from a local mock database I created. The database has a nested Json within it, and no matter what I did, I can't get it to output anything other than &quot;instance of 'Class'&quot; instead of the actual Json within it. The code gets data from a Json that has mock data on an gym exercise and the sets and reps done</p>\n<p>Here is the first model:</p>\n<pre><code>import 'package:json_annotation/json_annotation.dart';\nimport 'package:workout_card_api/src/models/sets.dart';\n\npart 'exercise.g.dart';\n\n@JsonSerializable(explicitToJson: true)\nclass Exercise {\n  Exercise({\n    required this.exerciseId,\n    required this.exerciseName,\n    required this.exerciseType,\n    required this.setList,\n  });\n\n  int exerciseId;\n  String exerciseName;\n  String exerciseType;\n  List&lt;Sets&gt; setList;\n\n  factory Exercise.fromJson(Map&lt;String, dynamic&gt; json) =&gt;\n      _$ExerciseFromJson(json);\n\n  Map&lt;String, dynamic&gt; toJson() =&gt; _$ExerciseToJson(this);\n}\n\n</code></pre>\n<p>Here is the second model:</p>\n<pre><code>import 'package:json_annotation/json_annotation.dart';\n\npart 'sets.g.dart';\n\n@JsonSerializable()\nclass Sets {\n  Sets({required this.setId, required this.weightKg, required this.reps});\n\n  int setId;\n  int weightKg;\n  int reps;\n\n  factory Sets.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$SetsFromJson(json);\n\n  Map&lt;String, dynamic&gt; toJson() =&gt; _$SetsToJson(this);\n}\n</code></pre>\n<p>Here is the test code:</p>\n<pre><code>void main() {\n  group('Sets', () {\n    late Map&lt;String, dynamic&gt; json;\n\n    setUp(() {\n      json = {'setId': 1, 'weightKg': 30, 'reps': 15};\n    });\n\n    test('set object correct properties', () {\n      final setData = Sets.fromJson(json);\n      expect(setData.setId, 1);\n      expect(setData.weightKg, 30);\n      expect(setData.reps, 15);\n    });\n  });\n\n  group('Exercise', () {\n    late Map&lt;String, dynamic&gt; json;\n\n    setUp(() {\n      json = {\n        'exerciseId': 2,\n        'exerciseName': 'Bicep Curl',\n        'exerciseType': 'Arms',\n        'setList': [\n          {'setId': 1, 'weightKg': 30, 'reps': 15},\n          {'setId': 2, 'weightKg': 30, 'reps': 14},\n          {'setId': 3, 'weightKg': 30, 'reps': 12}\n        ]\n      };\n    });\n\n    test('exercise object correct properties', () {\n      final exerciseData = Exercise.fromJson(json);\n      expect(exerciseData.exerciseId, 2);\n      expect(exerciseData.exerciseName, 'Bicep Curl');\n      expect(exerciseData.exerciseType, 'Arms');\n      expect(exerciseData.setList, [\n        {'setId': 1, 'weightKg': 30, 'reps': 15},\n        {'setId': 2, 'weightKg': 30, 'reps': 14},\n        {'setId': 3, 'weightKg': 30, 'reps': 12}\n      ]);\n    });\n  });\n}\n</code></pre>\n<p>The first part tests the sets model which works fine. The second part tests the exercise model which always outputs the following:</p>\n<pre><code>Expected: [\n            {'setId': 1, 'weightKg': 30, 'reps': 15},\n            {'setId': 2, 'weightKg': 30, 'reps': 14},\n            {'setId': 3, 'weightKg': 30, 'reps': 12}\n          ]\n  Actual: [Instance of 'Sets', Instance of 'Sets', Instance of 'Sets']\n   Which: at location [0] is &lt;Instance of 'Sets'&gt; which expected a map\n</code></pre>\n<p>I tried a lot of things like changing the type from Map&lt;String, dynamic&gt; to Map&lt;String, Object&gt; and creating a seperate build.yaml file. But no luck!</p>\n",
        "codigo": [
            "import 'package:json_annotation/json_annotation.dart';\nimport 'package:workout_card_api/src/models/sets.dart';\n\npart 'exercise.g.dart';\n\n@JsonSerializable(explicitToJson: true)\nclass Exercise {\n  Exercise({\n    required this.exerciseId,\n    required this.exerciseName,\n    required this.exerciseType,\n    required this.setList,\n  });\n\n  int exerciseId;\n  String exerciseName;\n  String exerciseType;\n  List<Sets> setList;\n\n  factory Exercise.fromJson(Map<String, dynamic> json) =>\n      _$ExerciseFromJson(json);\n\n  Map<String, dynamic> toJson() => _$ExerciseToJson(this);\n}\n\n",
            "import 'package:json_annotation/json_annotation.dart';\n\npart 'sets.g.dart';\n\n@JsonSerializable()\nclass Sets {\n  Sets({required this.setId, required this.weightKg, required this.reps});\n\n  int setId;\n  int weightKg;\n  int reps;\n\n  factory Sets.fromJson(Map<String, dynamic> json) => _$SetsFromJson(json);\n\n  Map<String, dynamic> toJson() => _$SetsToJson(this);\n}\n",
            "void main() {\n  group('Sets', () {\n    late Map<String, dynamic> json;\n\n    setUp(() {\n      json = {'setId': 1, 'weightKg': 30, 'reps': 15};\n    });\n\n    test('set object correct properties', () {\n      final setData = Sets.fromJson(json);\n      expect(setData.setId, 1);\n      expect(setData.weightKg, 30);\n      expect(setData.reps, 15);\n    });\n  });\n\n  group('Exercise', () {\n    late Map<String, dynamic> json;\n\n    setUp(() {\n      json = {\n        'exerciseId': 2,\n        'exerciseName': 'Bicep Curl',\n        'exerciseType': 'Arms',\n        'setList': [\n          {'setId': 1, 'weightKg': 30, 'reps': 15},\n          {'setId': 2, 'weightKg': 30, 'reps': 14},\n          {'setId': 3, 'weightKg': 30, 'reps': 12}\n        ]\n      };\n    });\n\n    test('exercise object correct properties', () {\n      final exerciseData = Exercise.fromJson(json);\n      expect(exerciseData.exerciseId, 2);\n      expect(exerciseData.exerciseName, 'Bicep Curl');\n      expect(exerciseData.exerciseType, 'Arms');\n      expect(exerciseData.setList, [\n        {'setId': 1, 'weightKg': 30, 'reps': 15},\n        {'setId': 2, 'weightKg': 30, 'reps': 14},\n        {'setId': 3, 'weightKg': 30, 'reps': 12}\n      ]);\n    });\n  });\n}\n",
            "Expected: [\n            {'setId': 1, 'weightKg': 30, 'reps': 15},\n            {'setId': 2, 'weightKg': 30, 'reps': 14},\n            {'setId': 3, 'weightKg': 30, 'reps': 12}\n          ]\n  Actual: [Instance of 'Sets', Instance of 'Sets', Instance of 'Sets']\n   Which: at location [0] is <Instance of 'Sets'> which expected a map\n"
        ]
    },
    {
        "titulo": "Flutter: How to make PhotoViewGallery photos cover overlaid widgets when zooming",
        "score": 0,
        "views": 569,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-dependencies",
            "android-photoview"
        ],
        "link": "https://stackoverflow.com/questions/78536819/flutter-how-to-make-photoviewgallery-photos-cover-overlaid-widgets-when-zooming",
        "conteudo_html": "<p>I'm building a newspaper app, and want to have a gallery function to display all the images in an article, being able to scroll between them and zoom in as desired, with overlaid information being covered by the image as you zoom in.</p>\n<p>I'm currently using the PhotoViewGallery package. However, I want to overlay a photo index indicator right above the top right of every photo, as well as caption/credit text at the bottom of the screen.</p>\n<p>My issue is that when zooming in on a photo, the overlaid text does not get covered, but stays visible and in place as I zoom in. I cannot put them under the PhotoViewGallery.builder in the stack, since the Gallery creates a black background that would then cover the information I'm trying to overlay.</p>\n<p>Any thoughts on how to achieve this functionality?</p>\n<p>I have tried using ExpandedPageView and then adding zoom functionality to each photo individually with PhotoView, but then I run into the issue of infinite sizing of the PhotoView widgets, since I am using CachedNetworkImage and do not know the size of images before creating the gallery.</p>\n<p>I have also tried using the zoom_pinch_overlay package with ExpandedPageView, but the gesture detection is too slow, and conflicts with the ExpandedPageView, so it works technically but it is cumbersome to interact with as a user.</p>\n<p>This is using photo_view ^0.15.0.</p>\n<p>Here is the relevant code:</p>\n<pre><code>class ZoomableImage extends StatefulWidget {\n  final int initialIndex;\n  final List&lt;Map&lt;String, dynamic&gt;&gt; images;\n\n  const ZoomableImage({super.key, required this.images, required this.initialIndex});\n\n  @override\n  State&lt;ZoomableImage&gt; createState() =&gt; _ZoomableImageState();\n}\n\nclass _ZoomableImageState extends State&lt;ZoomableImage&gt; {\n  \n  late int currentIndex;\n  \n  @override\n  void initState() {\n    super.initState();\n    currentIndex = widget.initialIndex;\n  }\n  \n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: Colors.black, // set background color to black\n      body: GestureDetector(\n        onTap: () {\n          // reset status bar when exiting\n          SystemChrome.setSystemUIOverlayStyle(SystemUiOverlayStyle.dark.copyWith(\n            statusBarColor: Colors.transparent,\n            statusBarIconBrightness: Brightness.dark,\n          ));\n          Navigator.pop(context);\n        },\n        child: Stack(\n          children: [\n            PhotoViewGallery.builder(\n              itemCount: widget.images.length,\n              builder: (context, index) {\n                return PhotoViewGalleryPageOptions(\n                  imageProvider: CachedNetworkImageProvider(widget.images[index]['link']),\n                  minScale: PhotoViewComputedScale.contained,\n                  maxScale: 1.0,\n                  initialScale: PhotoViewComputedScale.contained,\n                  heroAttributes: PhotoViewHeroAttributes(tag: widget.images[index]['link']),\n                  errorBuilder: (context, error, stackTrace) =&gt; const Icon(Icons.error),\n                );\n              },\n              onPageChanged: (index) {\n                setState(() {\n                  currentIndex = index;\n                });\n              },\n              pageController: PageController(initialPage: currentIndex),\n              scrollPhysics: const BouncingScrollPhysics(),\n              loadingBuilder: (context, event) =&gt; Center(\n                child: CircularProgressIndicator(\n                  value: event == null\n                      ? null\n                      : event.cumulativeBytesLoaded / event.expectedTotalBytes!,\n                ),\n              ),\n            ),\n\n            // photo index indicator\n            if (widget.images.length &gt; 1)\n              Positioned(\n                right: 0,\n                top: 266, // TODO: device specify!\n                child: Container(\n                  padding: EdgeInsets.fromLTRB(deviceWidth/56.1, deviceWidth/78.54, deviceWidth/56.1, deviceWidth/78.54),\n                  decoration: BoxDecoration(\n                    color: Colors.black.withOpacity(0.66),\n                    borderRadius: BorderRadius.circular(7),\n                  ),\n                  child: Text(\n                    &quot;${currentIndex + 1}/${widget.images.length}&quot;,\n                    style: TextStyle(fontSize: deviceWidth/32.725, color: Colors.white, letterSpacing: deviceWidth/231, fontFamily: 'Roboto'),\n                  ),\n                ),\n              ),\n              \n            // caption and credit\n            Positioned(\n              bottom: 10,\n              left: 0,\n              right: 0,\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: [\n                  if (widget.images[currentIndex]['caption'] != 'NO_IMAGE_CAPTION' &amp;&amp;\n                      widget.images[currentIndex]['caption']!.isNotEmpty)\n                    Padding(\n                      padding: const EdgeInsets.fromLTRB(12, 0, 12, 0),\n                      child: Text(\n                        widget.images[currentIndex]['caption']!,\n                        maxLines: 10,\n                        overflow: TextOverflow.ellipsis,\n                        style: const TextStyle(\n                          fontSize: 13.5, \n                          color: Colors.white,\n                        ),\n                      ),\n                    ),\n                      \n                    if (widget.images[currentIndex]['credit'] != 'NO_IMAGE_CREDIT' &amp;&amp;\n                        widget.images[currentIndex]['credit']!.isNotEmpty)\n                      Padding(\n                        padding: const EdgeInsets.fromLTRB(12, 5, 12, 0), \n                        child: Text(\n                          widget.images[currentIndex]['credit']!,\n                          overflow: TextOverflow.ellipsis,\n                          maxLines: 10,\n                          style: const TextStyle(\n                            fontSize: 12, \n                            color: Colors.white,\n                            fontStyle: FontStyle.italic,\n                          ),\n                        ),\n                      ),\n                  ]\n              ),\n            ),\n          ]\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>Thanks so much in advance.</p>\n",
        "codigo": [
            "class ZoomableImage extends StatefulWidget {\n  final int initialIndex;\n  final List<Map<String, dynamic>> images;\n\n  const ZoomableImage({super.key, required this.images, required this.initialIndex});\n\n  @override\n  State<ZoomableImage> createState() => _ZoomableImageState();\n}\n\nclass _ZoomableImageState extends State<ZoomableImage> {\n  \n  late int currentIndex;\n  \n  @override\n  void initState() {\n    super.initState();\n    currentIndex = widget.initialIndex;\n  }\n  \n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: Colors.black, // set background color to black\n      body: GestureDetector(\n        onTap: () {\n          // reset status bar when exiting\n          SystemChrome.setSystemUIOverlayStyle(SystemUiOverlayStyle.dark.copyWith(\n            statusBarColor: Colors.transparent,\n            statusBarIconBrightness: Brightness.dark,\n          ));\n          Navigator.pop(context);\n        },\n        child: Stack(\n          children: [\n            PhotoViewGallery.builder(\n              itemCount: widget.images.length,\n              builder: (context, index) {\n                return PhotoViewGalleryPageOptions(\n                  imageProvider: CachedNetworkImageProvider(widget.images[index]['link']),\n                  minScale: PhotoViewComputedScale.contained,\n                  maxScale: 1.0,\n                  initialScale: PhotoViewComputedScale.contained,\n                  heroAttributes: PhotoViewHeroAttributes(tag: widget.images[index]['link']),\n                  errorBuilder: (context, error, stackTrace) => const Icon(Icons.error),\n                );\n              },\n              onPageChanged: (index) {\n                setState(() {\n                  currentIndex = index;\n                });\n              },\n              pageController: PageController(initialPage: currentIndex),\n              scrollPhysics: const BouncingScrollPhysics(),\n              loadingBuilder: (context, event) => Center(\n                child: CircularProgressIndicator(\n                  value: event == null\n                      ? null\n                      : event.cumulativeBytesLoaded / event.expectedTotalBytes!,\n                ),\n              ),\n            ),\n\n            // photo index indicator\n            if (widget.images.length > 1)\n              Positioned(\n                right: 0,\n                top: 266, // TODO: device specify!\n                child: Container(\n                  padding: EdgeInsets.fromLTRB(deviceWidth/56.1, deviceWidth/78.54, deviceWidth/56.1, deviceWidth/78.54),\n                  decoration: BoxDecoration(\n                    color: Colors.black.withOpacity(0.66),\n                    borderRadius: BorderRadius.circular(7),\n                  ),\n                  child: Text(\n                    \"${currentIndex + 1}/${widget.images.length}\",\n                    style: TextStyle(fontSize: deviceWidth/32.725, color: Colors.white, letterSpacing: deviceWidth/231, fontFamily: 'Roboto'),\n                  ),\n                ),\n              ),\n              \n            // caption and credit\n            Positioned(\n              bottom: 10,\n              left: 0,\n              right: 0,\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: [\n                  if (widget.images[currentIndex]['caption'] != 'NO_IMAGE_CAPTION' &&\n                      widget.images[currentIndex]['caption']!.isNotEmpty)\n                    Padding(\n                      padding: const EdgeInsets.fromLTRB(12, 0, 12, 0),\n                      child: Text(\n                        widget.images[currentIndex]['caption']!,\n                        maxLines: 10,\n                        overflow: TextOverflow.ellipsis,\n                        style: const TextStyle(\n                          fontSize: 13.5, \n                          color: Colors.white,\n                        ),\n                      ),\n                    ),\n                      \n                    if (widget.images[currentIndex]['credit'] != 'NO_IMAGE_CREDIT' &&\n                        widget.images[currentIndex]['credit']!.isNotEmpty)\n                      Padding(\n                        padding: const EdgeInsets.fromLTRB(12, 5, 12, 0), \n                        child: Text(\n                          widget.images[currentIndex]['credit']!,\n                          overflow: TextOverflow.ellipsis,\n                          maxLines: 10,\n                          style: const TextStyle(\n                            fontSize: 12, \n                            color: Colors.white,\n                            fontStyle: FontStyle.italic,\n                          ),\n                        ),\n                      ),\n                  ]\n              ),\n            ),\n          ]\n        ),\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Kotlin Gradle Compilation Error: Incompatible Kotlin Version Metadata",
        "score": 0,
        "views": 114,
        "respostas": 1,
        "tags": [
            "flutter",
            "kotlin",
            "dart",
            "gradle"
        ],
        "link": "https://stackoverflow.com/questions/78531387/kotlin-gradle-compilation-error-incompatible-kotlin-version-metadata",
        "conteudo_html": "<p>I am trying to run a Flutter application on my physical device/emulator, but I am getting errors related to Kotlin version incompatibilities in Gradle.</p>\n<p>Environment Details:</p>\n<pre><code>Flutter: 3.19.6\nGradle: 7.4.2\nKotlin: 1.8.0\nJDK: 17\nIDE: VSCODE\n</code></pre>\n<p>android/build.gradle:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.8.0'\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.3.15'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>android/app/build.gradle:</p>\n<pre><code>plugins {\n    id &quot;com.android.application&quot;\n    id &quot;kotlin-android&quot;\n    id &quot;dev.flutter.flutter-gradle-plugin&quot;\n    id &quot;com.google.gms.google-services&quot;\n}\n\ndef localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\nandroid {\n    compileSdkVersion 34\n    namespace &quot;com.example.flutter_pi&quot;\n    // ndkVersion flutter.ndkVersion  // Remova ou configure corretamente se necessário\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        applicationId &quot;com.example.flutter_pi&quot;\n        minSdkVersion 21\n        targetSdkVersion 34\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        multiDexEnabled true\n    }\n\n    buildTypes {\n        release {\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation platform('com.google.firebase:firebase-bom:32.1.1')\n    implementation 'com.google.firebase:firebase-analytics'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>gradle-wrapper.properties:</p>\n<pre class=\"lang-none prettyprint-override\"><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.4.2-bin.zip\n</code></pre>\n<p>error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>e: /home/thmburso/.gradle/caches/transforms-3/9264d74810240ea1f32e96d12ba2e7ba/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /home/thmburso/.gradle/caches/transforms-3/9264d74810240ea1f32e96d12ba2e7ba/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /home/thmburso/.gradle/caches/transforms-3/9264d74810240ea1f32e96d12ba2e7ba/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /home/thmburso/.gradle/caches/transforms-3/92d30563e91dfcaad35707ebf0a5dab0/transformed/jetified-kotlin-stdlib-common-1.9.0.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /home/thmburso/.gradle/caches/transforms-3/e395fb178740444244ef6873c7735de9/transformed/jetified-play-services-measurement-api-21.6.1-api.jar!/META-INF/java.com.google.android.gmscore.integ.client.measurement_api_measurement_api.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugKotlin'.\n&gt; A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n</code></pre>\n<p>I have already tried updating the Kotlin and Gradle versions to 1.8.0 and 7.4.2, respectively, but I keep getting the same error.</p>\n",
        "codigo": [
            "Flutter: 3.19.6\nGradle: 7.4.2\nKotlin: 1.8.0\nJDK: 17\nIDE: VSCODE\n",
            "buildscript {\n    ext.kotlin_version = '1.8.0'\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.google.gms:google-services:4.3.15'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n}\n\ntasks.register(\"clean\", Delete) {\n    delete rootProject.buildDir\n}\n",
            "plugins {\n    id \"com.android.application\"\n    id \"kotlin-android\"\n    id \"dev.flutter.flutter-gradle-plugin\"\n    id \"com.google.gms.google-services\"\n}\n\ndef localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader ->\n        localProperties.load(reader)\n    }\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\nandroid {\n    compileSdkVersion 34\n    namespace \"com.example.flutter_pi\"\n    // ndkVersion flutter.ndkVersion  // Remova ou configure corretamente se necessário\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        applicationId \"com.example.flutter_pi\"\n        minSdkVersion 21\n        targetSdkVersion 34\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        multiDexEnabled true\n    }\n\n    buildTypes {\n        release {\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation platform('com.google.firebase:firebase-bom:32.1.1')\n    implementation 'com.google.firebase:firebase-analytics'\n}\n\napply plugin: 'com.google.gms.google-services'\n",
            "distributionUrl=https\\://services.gradle.org/distributions/gradle-7.4.2-bin.zip\n",
            "e: /home/thmburso/.gradle/caches/transforms-3/9264d74810240ea1f32e96d12ba2e7ba/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /home/thmburso/.gradle/caches/transforms-3/9264d74810240ea1f32e96d12ba2e7ba/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /home/thmburso/.gradle/caches/transforms-3/9264d74810240ea1f32e96d12ba2e7ba/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /home/thmburso/.gradle/caches/transforms-3/92d30563e91dfcaad35707ebf0a5dab0/transformed/jetified-kotlin-stdlib-common-1.9.0.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /home/thmburso/.gradle/caches/transforms-3/e395fb178740444244ef6873c7735de9/transformed/jetified-play-services-measurement-api-21.6.1-api.jar!/META-INF/java.com.google.android.gmscore.integ.client.measurement_api_measurement_api.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugKotlin'.\n> A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n"
        ]
    },
    {
        "titulo": "How to merge 2 lists bei adding the corresponding list items in Dart?",
        "score": 0,
        "views": 92,
        "respostas": 3,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78509132/how-to-merge-2-lists-bei-adding-the-corresponding-list-items-in-dart",
        "conteudo_html": "<p>I need to merge 2 lists, but sum each item in these lists. It would be this here:</p>\n<pre><code>list1 = [1,3,9,7]\n\nlist2 = [1,2,3,4,5]\n\n//what I need: [list1(item1) + list2(item1), list1(item2) + list2(item2)...]\n\nexpected_return: = [2,5,12,11,5]\n</code></pre>\n<p>I managed to just combine the lists</p>\n",
        "codigo": [
            "list1 = [1,3,9,7]\n\nlist2 = [1,2,3,4,5]\n\n//what I need: [list1(item1) + list2(item1), list1(item2) + list2(item2)...]\n\nexpected_return: = [2,5,12,11,5]\n"
        ]
    },
    {
        "titulo": "Test that a Dart stream does not emit anything, without listening to it",
        "score": 0,
        "views": 171,
        "respostas": 0,
        "tags": [
            "dart",
            "unit-testing",
            "testing",
            "stream"
        ],
        "link": "https://stackoverflow.com/questions/78507458/test-that-a-dart-stream-does-not-emit-anything-without-listening-to-it",
        "conteudo_html": "<p>I am currently working on a Flutter app, but my question is solely related to Dart. I need to implement a repository which exposes an outbound stream of data. This repository's responsibility is to call the backend, transform the data, and emit the data in the outbound stream (note, this stream is actually a BehaviorSubject, because of the way to integrate this repository in the application overall architecture).</p>\n<p>The repository needs to call the backend if and only if:</p>\n<ul>\n<li>the user is logged in\nAND</li>\n<li>some &quot;client&quot; has listened to the repository outbound stream</li>\n</ul>\n<p>whenever the user logs in or some &quot;client&quot; listens to the outbound stream.\n(see example code below)</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class Repository {\n  Repository(\n    {required this.backendClient}\n  ) {\n    streamController = BehaviorSubject&lt;DataModel&gt;(\n      onListen: () {\n        conditionallyCallBackend();\n      }\n    );\n  }\n\n  final BackendClient backendClient;\n  late final BehaviorSubject&lt;DataModel&gt; streamController;\n  bool isAuthenticated = false;\n\n  void conditionallyCallBackend() {\n    if(isAuthenticated &amp; streamController.hasListener) {\n      callBackend();\n    }\n  }\n\n  void callBackend() async {\n    await backendClient.callBackend();\n    streamController.add(DataModel());\n  }\n\n  void onUserLogin() {\n    isAuthenticated = true;\n    conditionallyCallBackend();\n  }\n}\n</code></pre>\n<p>This implementation covers my requirements well, but I am having trouble testing those rules, especially when I want to verify that nothing has been emitted in the stream.</p>\n<p>See the following test, which fails:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void main() {\n  group(&quot;test rules&quot;, () {\n      late Repository repository;\n      late BackendClient backendClient;\n\n      setUp(\n        backendClient = MockClient();\n        repository = Repository(backendClient: backendClient);\n      );\n\n      test(&quot;stream does not emit if not listened to (even if logged in)&quot;, () {\n          repository.onUserLogin();\n          unawaited(expectLater(repository.streamController.stream, neverEmits(anything));\n        }\n      );\n    }\n  );\n}\n</code></pre>\n<p>This test fails, because the <code>expectLater</code> function listens to the stream as a side effect. Therefore, <code>conditionallyCallBackend</code> if clause is true, <code>callBackend</code> is called and data is emitted through the stream.</p>\n<p>How would one test that nothing has been emitted through the stream without listening to it? Is the fact that this test is difficult to write a smell that my implementation is incorrect?</p>\n<p>Thanks a lot for your help!</p>\n",
        "codigo": [
            "class Repository {\n  Repository(\n    {required this.backendClient}\n  ) {\n    streamController = BehaviorSubject<DataModel>(\n      onListen: () {\n        conditionallyCallBackend();\n      }\n    );\n  }\n\n  final BackendClient backendClient;\n  late final BehaviorSubject<DataModel> streamController;\n  bool isAuthenticated = false;\n\n  void conditionallyCallBackend() {\n    if(isAuthenticated & streamController.hasListener) {\n      callBackend();\n    }\n  }\n\n  void callBackend() async {\n    await backendClient.callBackend();\n    streamController.add(DataModel());\n  }\n\n  void onUserLogin() {\n    isAuthenticated = true;\n    conditionallyCallBackend();\n  }\n}\n",
            "void main() {\n  group(\"test rules\", () {\n      late Repository repository;\n      late BackendClient backendClient;\n\n      setUp(\n        backendClient = MockClient();\n        repository = Repository(backendClient: backendClient);\n      );\n\n      test(\"stream does not emit if not listened to (even if logged in)\", () {\n          repository.onUserLogin();\n          unawaited(expectLater(repository.streamController.stream, neverEmits(anything));\n        }\n      );\n    }\n  );\n}\n",
            "expectLater",
            "conditionallyCallBackend",
            "callBackend"
        ]
    },
    {
        "titulo": "How do I stop this flutter calendar widget from overflowing in the default test surface?",
        "score": 0,
        "views": 220,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78498496/how-do-i-stop-this-flutter-calendar-widget-from-overflowing-in-the-default-test",
        "conteudo_html": "<p>I have a flutter app with an events list. I am adding a calendar view where the events can be seen as dots on a calendar grid with an events list underneath if a day with events is selected. I got a premade widget from flutter gems here: <a href=\"https://fluttergems.dev/packages/flutter_neat_and_clean_calendar/\" rel=\"nofollow noreferrer\">https://fluttergems.dev/packages/flutter_neat_and_clean_calendar/</a></p>\n<p>src:<br />\n<a href=\"https://github.com/rwbr/flutter_neat_and_clean_calendar/blob/main/lib/flutter_neat_and_clean_calendar.dart\" rel=\"nofollow noreferrer\">https://github.com/rwbr/flutter_neat_and_clean_calendar/blob/main/lib/flutter_neat_and_clean_calendar.dart</a></p>\n<p>This works and looks fine in typical phone dimensions but my tests fail because the test surface that the widget is pumped on is more square. Similarly, rotating the phone will cause this overflow. I want to eventually create a different calendar page for the rotated view. For now, I would like to figure out how to get the calendar to not overflow.</p>\n<p>I tried to wrap the calendar widget in a SingleChildScrollView but this led to the error:</p>\n<pre><code> I/flutter ( 4605): ══╡ EXCEPTION CAUGHT BY RENDERING LIBRARY ╞═════════════════════════════════════════════════════════\nI/flutter ( 4605): The following assertion was thrown during performLayout():\nI/flutter ( 4605): RenderFlex children have non-zero flex but incoming height constraints are unbounded.\nI/flutter ( 4605): When a column is in a parent that does not provide a finite height constraint, for example if it is\nI/flutter ( 4605): in a vertical scrollable, it will try to shrink-wrap its children along the vertical axis. Setting a\nI/flutter ( 4605): flex on a child (e.g. using Expanded) indicates that the child is to expand to fill the remaining\nI/flutter ( 4605): space in the vertical direction.\nI/flutter ( 4605): These two directives are mutually exclusive. If a parent is to shrink-wrap its child, the child\nI/flutter ( 4605): cannot simultaneously expand to fit its parent.\nI/flutter ( 4605): Consider setting mainAxisSize to MainAxisSize.min and using FlexFit.loose fits for the flexible\nI/flutter ( 4605): children (using Flexible rather than Expanded). This will allow the flexible children to size\nI/flutter ( 4605): themselves to less than the infinite remaining space they would otherwise be forced to take, and\nI/flutter ( 4605): then will cause the RenderFlex to shrink-wrap the children rather than expanding to fit the maximum\nI/flutter ( 4605): constraints provided by the parent.\n</code></pre>\n<p>I tried changing the use of Expanded's to Flexible with fit: FlexFit.loose. Perhaps I missed some but I was getting another error that that the size was missing. I also briefly gave up and just set the test surface's dimensions manually to get around the overflow. However I am now trying to get the widget to work on any screen (not necessarily look good, just not overflow). I tried going into the source code and changing the individual parts of the widget (it is a Container with a Column with Children: Row (for top part of calendar), GridView for the calendar days, Row for an expansion button (can collapse/expand the calendar from 30-day view to 7-day view), and then an ListView Builder's event list. I tried wrapping the GridView in a SingleChildScrollView but it still overflows and doesnt allow scrolling. The day GridView is actually wrapped in a GestureDetector. Not sure if this needs to be accounted for.</p>\n<p>This is my calendar page:</p>\n<p><a href=\"https://i.sstatic.net/oTK8HhfA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/oTK8HhfA.png\" alt=\"CalendarPage(), shows a search bar and a calendar\" /></a></p>\n<p>and this is my test code:</p>\n<pre><code>    testWidgets('CalendarPage shows Calendar and Search Bar',\n        (WidgetTester tester) async {\n      // test is fragile due to overlow of calendar when height is too low or high relative to width\n      //await tester.binding.setSurfaceSize(Size(300,497));\n      var numEvents = 7;\n      // Mock event list for testing\n      testEvent(int idx) =&gt; NeatCleanCalendarEvent(&quot;A Test Event ${idx}&quot;,\n          isMultiDay: true,\n          startTime: DateTime.now().add(Duration(hours: idx * idx)),\n          endTime: DateTime.now()\n              .add(Duration(hours: idx * idx))\n              .add(Duration(hours: 25)),\n          description: 'A test event',\n          color: Colors.blue);\n      var mockEvents = List.generate(numEvents, testEvent);\n\n      // Pump the CalendarPage with a mocked event list\n      /*\n      await tester.pumpWidget(MaterialApp(\n          home: Scaffold(body: SingleChildScrollView(child:\n          CalendarPage(eventList: mockEvents))))\n      );\n      */\n      await tester.pumpWidget(MaterialApp(\n          home: Scaffold(body:\n          CalendarPage(eventList: mockEvents)))\n      );\n     \n    \n      expect(find.byType(CalendarPage), findsOneWidget);\n      await tester.pumpAndSettle(); // Rebuild the widget after the state has changed\n\n      // Verify the search bar is present\n      expect(find.byType(TextField), findsOneWidget);\n      expect(find.byType(Calendar), findsOneWidget);\n\n    });\n\n\n</code></pre>\n<p>If anyone could come up with some solutions that get around the overflow, I would really appreciate it!</p>\n<p>(                                           )</p>\n",
        "codigo": [
            " I/flutter ( 4605): ══╡ EXCEPTION CAUGHT BY RENDERING LIBRARY ╞═════════════════════════════════════════════════════════\nI/flutter ( 4605): The following assertion was thrown during performLayout():\nI/flutter ( 4605): RenderFlex children have non-zero flex but incoming height constraints are unbounded.\nI/flutter ( 4605): When a column is in a parent that does not provide a finite height constraint, for example if it is\nI/flutter ( 4605): in a vertical scrollable, it will try to shrink-wrap its children along the vertical axis. Setting a\nI/flutter ( 4605): flex on a child (e.g. using Expanded) indicates that the child is to expand to fill the remaining\nI/flutter ( 4605): space in the vertical direction.\nI/flutter ( 4605): These two directives are mutually exclusive. If a parent is to shrink-wrap its child, the child\nI/flutter ( 4605): cannot simultaneously expand to fit its parent.\nI/flutter ( 4605): Consider setting mainAxisSize to MainAxisSize.min and using FlexFit.loose fits for the flexible\nI/flutter ( 4605): children (using Flexible rather than Expanded). This will allow the flexible children to size\nI/flutter ( 4605): themselves to less than the infinite remaining space they would otherwise be forced to take, and\nI/flutter ( 4605): then will cause the RenderFlex to shrink-wrap the children rather than expanding to fit the maximum\nI/flutter ( 4605): constraints provided by the parent.\n",
            "    testWidgets('CalendarPage shows Calendar and Search Bar',\n        (WidgetTester tester) async {\n      // test is fragile due to overlow of calendar when height is too low or high relative to width\n      //await tester.binding.setSurfaceSize(Size(300,497));\n      var numEvents = 7;\n      // Mock event list for testing\n      testEvent(int idx) => NeatCleanCalendarEvent(\"A Test Event ${idx}\",\n          isMultiDay: true,\n          startTime: DateTime.now().add(Duration(hours: idx * idx)),\n          endTime: DateTime.now()\n              .add(Duration(hours: idx * idx))\n              .add(Duration(hours: 25)),\n          description: 'A test event',\n          color: Colors.blue);\n      var mockEvents = List.generate(numEvents, testEvent);\n\n      // Pump the CalendarPage with a mocked event list\n      /*\n      await tester.pumpWidget(MaterialApp(\n          home: Scaffold(body: SingleChildScrollView(child:\n          CalendarPage(eventList: mockEvents))))\n      );\n      */\n      await tester.pumpWidget(MaterialApp(\n          home: Scaffold(body:\n          CalendarPage(eventList: mockEvents)))\n      );\n     \n    \n      expect(find.byType(CalendarPage), findsOneWidget);\n      await tester.pumpAndSettle(); // Rebuild the widget after the state has changed\n\n      // Verify the search bar is present\n      expect(find.byType(TextField), findsOneWidget);\n      expect(find.byType(Calendar), findsOneWidget);\n\n    });\n\n\n"
        ]
    },
    {
        "titulo": "How do you test animations in flutter?",
        "score": 1,
        "views": 464,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "testing",
            "flutter-animation"
        ],
        "link": "https://stackoverflow.com/questions/78494710/how-do-you-test-animations-in-flutter",
        "conteudo_html": "<p>I didn't find any information, but looking at the flutter code I think it's with <a href=\"https://api.flutter.dev/flutter/flutter_test/AnimationSheetBuilder-class.html\" rel=\"nofollow noreferrer\">AnimationSheetBuilder</a> in a golden tests.</p>\n<p>Is that the correct way? or is there any other way to test animations?</p>\n<p>Thank you</p>\n<p>Like <a href=\"https://github.com/flutter/flutter/blob/cb656c21f082c400a169050f59c30023ae14c5c2/packages/flutter/test/material/progress_indicator_test.dart#L1063-L1084\" rel=\"nofollow noreferrer\">here</a></p>\n<pre class=\"lang-dart prettyprint-override\"><code>  testWidgets('Material3 - Indeterminate CircularProgressIndicator uses expected animation', (WidgetTester tester) async {\n    final AnimationSheetBuilder animationSheet = AnimationSheetBuilder(frameSize: const Size(40, 40));\n    addTearDown(animationSheet.dispose);\n\n    await tester.pumpFrames(animationSheet.record(\n      Theme(\n        data: ThemeData(useMaterial3: true),\n        child: const Directionality(\n          textDirection: TextDirection.ltr,\n          child: Padding(\n            padding: EdgeInsets.all(4),\n            child: CircularProgressIndicator(),\n          ),\n        ),\n      ),\n    ), const Duration(seconds: 2));\n\n    await expectLater(\n      animationSheet.collate(20),\n      matchesGoldenFile('m3_material.circular_progress_indicator.indeterminate.png'),\n    );\n  }, skip: isBrowser); // https://github.com/flutter/flutter/issues/56001\n</code></pre>\n<p>Result for the golden test is the image.</p>\n<p><a href=\"https://i.sstatic.net/9QcgqriK.png\" rel=\"nofollow noreferrer\">Golden test image generated</a></p>\n<p>Thanks</p>\n",
        "codigo": [
            "  testWidgets('Material3 - Indeterminate CircularProgressIndicator uses expected animation', (WidgetTester tester) async {\n    final AnimationSheetBuilder animationSheet = AnimationSheetBuilder(frameSize: const Size(40, 40));\n    addTearDown(animationSheet.dispose);\n\n    await tester.pumpFrames(animationSheet.record(\n      Theme(\n        data: ThemeData(useMaterial3: true),\n        child: const Directionality(\n          textDirection: TextDirection.ltr,\n          child: Padding(\n            padding: EdgeInsets.all(4),\n            child: CircularProgressIndicator(),\n          ),\n        ),\n      ),\n    ), const Duration(seconds: 2));\n\n    await expectLater(\n      animationSheet.collate(20),\n      matchesGoldenFile('m3_material.circular_progress_indicator.indeterminate.png'),\n    );\n  }, skip: isBrowser); // https://github.com/flutter/flutter/issues/56001\n"
        ]
    },
    {
        "titulo": "Type mismatch error when using Mockito with Firestore mocks in Flutter tests",
        "score": 0,
        "views": 87,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "mockito"
        ],
        "link": "https://stackoverflow.com/questions/78493519/type-mismatch-error-when-using-mockito-with-firestore-mocks-in-flutter-tests",
        "conteudo_html": "<p>I'm encountering a type mismatch error when trying to use Mockito with Firestore mocks in my Flutter tests. Specifically, I'm getting the following error:</p>\n<pre><code>The argument type 'MockCollectionReference&lt;Object?&gt;' can't be assigned to the parameter type 'CollectionReference&lt;Map&lt;String, dynamic&gt;&gt;'.\n</code></pre>\n<p>I have a Flutter project using Firestore for data storage.\nI'm trying to mock Firestore and its related classes (CollectionReference, DocumentReference) using Mockito for unit testing.\nWhen setting up the mock interactions (when(...).thenReturn(...)), I'm encountering type mismatch errors related to generics.\nSetup Details:</p>\n<p>I've generated mocks using @GenerateMocks for FirebaseFirestore, CollectionReference, DocumentReference, and other relevant classes.\nIn my test setup (setUp method), I'm using these mocks to stub Firestore method calls (collection, doc).</p>\n<p>Setup Details:</p>\n<p>I've generated mocks using @GenerateMocks for FirebaseFirestore, CollectionReference, DocumentReference, and other relevant classes.\nIn my test setup (setUp method), I'm using these mocks to stub Firestore method calls (collection, doc).</p>\n<p>Code:</p>\n<pre><code>@GenerateMocks([\nFirebaseAuth,\nFirebaseStorage,\nFirebaseMessaging,\nFirebaseFirestore,\nCollectionReference,\nDocumentReference,\nCheckPhoneAuthUserUseCase,\nCheckAnonymousUserUsecase,\nGetCurrentUidUseCase,\nWriteCurrentTaskToLogUseCase,\n])\n\nvoid main() {\n  TestWidgetsFlutterBinding.ensureInitialized();\n  setupFirebaseCoreMocks(); // Mocks initialization for Firebase\n\n  late AdministrationRemoteDataSourceRepositoryImpl repository;\n  late MockCheckPhoneAuthUserUseCase mockCheckPhoneAuthUserUseCase;\n  late MockCheckAnonymousUserUsecase mockCheckAnonymousUserUseCase;\n  late MockGetCurrentUidUseCase mockGetCurrentUidUseCase;\n  late MockWriteCurrentTaskToLogUseCase mockWriteCurrentTaskToLogUseCase;\n  late MockFirebaseFirestore mockFirebaseFirestore;\n  late MockCollectionReference mockCollectionReference;\n  late MockDocumentReference mockDocumentReference;\n  late MockFirebaseMessaging mockFirebaseMessaging;\n  late MockFirebaseStorage mockFirebaseStorage;\n  late MockFirebaseAuth mockFirebaseAuth;\n\n  setUpAll(() async {\n    await Firebase.initializeApp(); // Initialize Firebase app\n  });\n\n  setUp(() {\n    mockCheckPhoneAuthUserUseCase = MockCheckPhoneAuthUserUseCase();\n    mockCheckAnonymousUserUseCase = MockCheckAnonymousUserUsecase();\n    mockGetCurrentUidUseCase = MockGetCurrentUidUseCase();\n    mockWriteCurrentTaskToLogUseCase = MockWriteCurrentTaskToLogUseCase();\n    mockFirebaseFirestore = MockFirebaseFirestore();\n    mockCollectionReference = MockCollectionReference();\n    mockDocumentReference = MockDocumentReference();\n    mockFirebaseAuth = MockFirebaseAuth();\n    mockFirebaseStorage = MockFirebaseStorage();\n    mockFirebaseMessaging = MockFirebaseMessaging();\n\n    repository = AdministrationRemoteDataSourceRepositoryImpl(\n      firebaseFirestore: mockFirebaseFirestore,\n      firebaseMessaging: mockFirebaseMessaging,\n      firebaseAuth: mockFirebaseAuth,\n      firebaseStorage: mockFirebaseStorage,\n      remoteService: null,\n    );\n\n    when(mockFirebaseFirestore.collection(any))\n        .thenReturn(mockCollectionReference);\n    when(mockCollectionReference.doc(any))\n        .thenReturn(mockDocumentReference);\n  });\n\n  group('verifyStore', () {\n    const storeId = 'testStoreId';\n    const currentState = false;\n    const uid = 'testUid';\n\n    test('should return Success when all checks pass and store is verified',\n        () async {\n      // Arrange\n      when(mockCheckPhoneAuthUserUseCase.call()).thenAnswer((_) async =&gt; true);\n      when(mockCheckAnonymousUserUseCase.call()).thenAnswer((_) async =&gt; false);\n      when(mockGetCurrentUidUseCase.call()).thenAnswer((_) async =&gt; uid);\n      when(mockDocumentReference.update(any))\n          .thenAnswer((_) async =&gt; Right(Success(message: &quot;Done&quot;)));\n      when(mockWriteCurrentTaskToLogUseCase.call(any))\n          .thenAnswer((_) async =&gt; null);\n\n      // Act\n      final result = await repository.verifyStore(storeId, currentState);\n\n      // Assert\n      expect(result, Right(Success(message: &quot;Successfully updated&quot;)));\n      verify(mockCheckPhoneAuthUserUseCase.call());\n      verify(mockCheckAnonymousUserUseCase.call());\n      verify(mockGetCurrentUidUseCase.call());\n      verify(mockDocumentReference.update(any));\n      verify(mockWriteCurrentTaskToLogUseCase.call(any));\n    });\n\n    test('should return Failure when user is not authenticated with phone number',\n        () async {\n      // Arrange\n      when(mockCheckPhoneAuthUserUseCase.call()).thenAnswer((_) async =&gt; false);\n\n      // Act\n      final result = await repository.verifyStore(storeId, currentState);\n\n      // Assert\n      expect(result, Left(Failure(message: &quot;Invalid access&quot;)));\n      verify(mockCheckPhoneAuthUserUseCase.call());\n      verifyNever(mockCheckAnonymousUserUseCase.call());\n      verifyNever(mockGetCurrentUidUseCase.call());\n      verifyNever(mockDocumentReference.update(any));\n    });\n\n    test('should return Failure when user is anonymous', () async {\n      // Arrange\n      when(mockCheckPhoneAuthUserUseCase.call()).thenAnswer((_) async =&gt; true);\n      when(mockCheckAnonymousUserUseCase.call()).thenAnswer((_) async =&gt; true);\n\n      // Act\n      final result = await repository.verifyStore(storeId, currentState);\n\n      // Assert\n      expect(result, Left(Failure(message: &quot;Invalid access&quot;)));\n      verify(mockCheckPhoneAuthUserUseCase.call());\n      verify(mockCheckAnonymousUserUseCase.call());\n      verifyNever(mockGetCurrentUidUseCase.call());\n      verifyNever(mockDocumentReference.update(any));\n    });\n\n    test('should return Failure when there is a SocketException', () async {\n      // Arrange\n      when(mockCheckPhoneAuthUserUseCase.call()).thenAnswer((_) async =&gt; true);\n      when(mockCheckAnonymousUserUseCase.call()).thenAnswer((_) async =&gt; false);\n      when(mockGetCurrentUidUseCase.call()).thenAnswer((_) async =&gt; uid);\n      when(mockDocumentReference.update(any)).thenThrow(SocketException('No Internet'));\n\n      // Act\n      final result = await repository.verifyStore(storeId, currentState);\n\n      // Assert\n      expect(result, Left(Failure(message: 'No Internet')));\n      verify(mockCheckPhoneAuthUserUseCase.call());\n      verify(mockCheckAnonymousUserUseCase.call());\n      verify(mockGetCurrentUidUseCase.call());\n      verifyNever(mockDocumentReference.update(any));\n    });\n\n    test('should return Failure when there is an unexpected exception', () async {\n      // Arrange\n      when(mockCheckPhoneAuthUserUseCase.call()).thenAnswer((_) async =&gt; true);\n      when(mockCheckAnonymousUserUseCase.call()).thenAnswer((_) async =&gt; false);\n      when(mockGetCurrentUidUseCase.call()).thenAnswer((_) async =&gt; uid);\n      when(mockDocumentReference.update(any)).thenThrow(Exception('Unexpected error'));\n\n      // Act\n      final result = await repository.verifyStore(storeId, currentState);\n\n      // Assert\n      expect(result, Left(Failure(message: 'Exception: Unexpected error')));\n      verify(mockCheckPhoneAuthUserUseCase.call());\n      verify(mockCheckAnonymousUserUseCase.call());\n      verify(mockGetCurrentUidUseCase.call());\n      verifyNever(mockDocumentReference.update(any));\n    });\n  });\n}\n</code></pre>\n",
        "codigo": [
            "The argument type 'MockCollectionReference<Object?>' can't be assigned to the parameter type 'CollectionReference<Map<String, dynamic>>'.\n",
            "@GenerateMocks([\nFirebaseAuth,\nFirebaseStorage,\nFirebaseMessaging,\nFirebaseFirestore,\nCollectionReference,\nDocumentReference,\nCheckPhoneAuthUserUseCase,\nCheckAnonymousUserUsecase,\nGetCurrentUidUseCase,\nWriteCurrentTaskToLogUseCase,\n])\n\nvoid main() {\n  TestWidgetsFlutterBinding.ensureInitialized();\n  setupFirebaseCoreMocks(); // Mocks initialization for Firebase\n\n  late AdministrationRemoteDataSourceRepositoryImpl repository;\n  late MockCheckPhoneAuthUserUseCase mockCheckPhoneAuthUserUseCase;\n  late MockCheckAnonymousUserUsecase mockCheckAnonymousUserUseCase;\n  late MockGetCurrentUidUseCase mockGetCurrentUidUseCase;\n  late MockWriteCurrentTaskToLogUseCase mockWriteCurrentTaskToLogUseCase;\n  late MockFirebaseFirestore mockFirebaseFirestore;\n  late MockCollectionReference mockCollectionReference;\n  late MockDocumentReference mockDocumentReference;\n  late MockFirebaseMessaging mockFirebaseMessaging;\n  late MockFirebaseStorage mockFirebaseStorage;\n  late MockFirebaseAuth mockFirebaseAuth;\n\n  setUpAll(() async {\n    await Firebase.initializeApp(); // Initialize Firebase app\n  });\n\n  setUp(() {\n    mockCheckPhoneAuthUserUseCase = MockCheckPhoneAuthUserUseCase();\n    mockCheckAnonymousUserUseCase = MockCheckAnonymousUserUsecase();\n    mockGetCurrentUidUseCase = MockGetCurrentUidUseCase();\n    mockWriteCurrentTaskToLogUseCase = MockWriteCurrentTaskToLogUseCase();\n    mockFirebaseFirestore = MockFirebaseFirestore();\n    mockCollectionReference = MockCollectionReference();\n    mockDocumentReference = MockDocumentReference();\n    mockFirebaseAuth = MockFirebaseAuth();\n    mockFirebaseStorage = MockFirebaseStorage();\n    mockFirebaseMessaging = MockFirebaseMessaging();\n\n    repository = AdministrationRemoteDataSourceRepositoryImpl(\n      firebaseFirestore: mockFirebaseFirestore,\n      firebaseMessaging: mockFirebaseMessaging,\n      firebaseAuth: mockFirebaseAuth,\n      firebaseStorage: mockFirebaseStorage,\n      remoteService: null,\n    );\n\n    when(mockFirebaseFirestore.collection(any))\n        .thenReturn(mockCollectionReference);\n    when(mockCollectionReference.doc(any))\n        .thenReturn(mockDocumentReference);\n  });\n\n  group('verifyStore', () {\n    const storeId = 'testStoreId';\n    const currentState = false;\n    const uid = 'testUid';\n\n    test('should return Success when all checks pass and store is verified',\n        () async {\n      // Arrange\n      when(mockCheckPhoneAuthUserUseCase.call()).thenAnswer((_) async => true);\n      when(mockCheckAnonymousUserUseCase.call()).thenAnswer((_) async => false);\n      when(mockGetCurrentUidUseCase.call()).thenAnswer((_) async => uid);\n      when(mockDocumentReference.update(any))\n          .thenAnswer((_) async => Right(Success(message: \"Done\")));\n      when(mockWriteCurrentTaskToLogUseCase.call(any))\n          .thenAnswer((_) async => null);\n\n      // Act\n      final result = await repository.verifyStore(storeId, currentState);\n\n      // Assert\n      expect(result, Right(Success(message: \"Successfully updated\")));\n      verify(mockCheckPhoneAuthUserUseCase.call());\n      verify(mockCheckAnonymousUserUseCase.call());\n      verify(mockGetCurrentUidUseCase.call());\n      verify(mockDocumentReference.update(any));\n      verify(mockWriteCurrentTaskToLogUseCase.call(any));\n    });\n\n    test('should return Failure when user is not authenticated with phone number',\n        () async {\n      // Arrange\n      when(mockCheckPhoneAuthUserUseCase.call()).thenAnswer((_) async => false);\n\n      // Act\n      final result = await repository.verifyStore(storeId, currentState);\n\n      // Assert\n      expect(result, Left(Failure(message: \"Invalid access\")));\n      verify(mockCheckPhoneAuthUserUseCase.call());\n      verifyNever(mockCheckAnonymousUserUseCase.call());\n      verifyNever(mockGetCurrentUidUseCase.call());\n      verifyNever(mockDocumentReference.update(any));\n    });\n\n    test('should return Failure when user is anonymous', () async {\n      // Arrange\n      when(mockCheckPhoneAuthUserUseCase.call()).thenAnswer((_) async => true);\n      when(mockCheckAnonymousUserUseCase.call()).thenAnswer((_) async => true);\n\n      // Act\n      final result = await repository.verifyStore(storeId, currentState);\n\n      // Assert\n      expect(result, Left(Failure(message: \"Invalid access\")));\n      verify(mockCheckPhoneAuthUserUseCase.call());\n      verify(mockCheckAnonymousUserUseCase.call());\n      verifyNever(mockGetCurrentUidUseCase.call());\n      verifyNever(mockDocumentReference.update(any));\n    });\n\n    test('should return Failure when there is a SocketException', () async {\n      // Arrange\n      when(mockCheckPhoneAuthUserUseCase.call()).thenAnswer((_) async => true);\n      when(mockCheckAnonymousUserUseCase.call()).thenAnswer((_) async => false);\n      when(mockGetCurrentUidUseCase.call()).thenAnswer((_) async => uid);\n      when(mockDocumentReference.update(any)).thenThrow(SocketException('No Internet'));\n\n      // Act\n      final result = await repository.verifyStore(storeId, currentState);\n\n      // Assert\n      expect(result, Left(Failure(message: 'No Internet')));\n      verify(mockCheckPhoneAuthUserUseCase.call());\n      verify(mockCheckAnonymousUserUseCase.call());\n      verify(mockGetCurrentUidUseCase.call());\n      verifyNever(mockDocumentReference.update(any));\n    });\n\n    test('should return Failure when there is an unexpected exception', () async {\n      // Arrange\n      when(mockCheckPhoneAuthUserUseCase.call()).thenAnswer((_) async => true);\n      when(mockCheckAnonymousUserUseCase.call()).thenAnswer((_) async => false);\n      when(mockGetCurrentUidUseCase.call()).thenAnswer((_) async => uid);\n      when(mockDocumentReference.update(any)).thenThrow(Exception('Unexpected error'));\n\n      // Act\n      final result = await repository.verifyStore(storeId, currentState);\n\n      // Assert\n      expect(result, Left(Failure(message: 'Exception: Unexpected error')));\n      verify(mockCheckPhoneAuthUserUseCase.call());\n      verify(mockCheckAnonymousUserUseCase.call());\n      verify(mockGetCurrentUidUseCase.call());\n      verifyNever(mockDocumentReference.update(any));\n    });\n  });\n}\n"
        ]
    },
    {
        "titulo": "How can I ensure proper conversion of messages in my Flutter chat app?",
        "score": 0,
        "views": 35,
        "respostas": 0,
        "tags": [
            "android",
            "flutter",
            "firebase",
            "dart",
            "google-cloud-firestore"
        ],
        "link": "https://stackoverflow.com/questions/78477488/how-can-i-ensure-proper-conversion-of-messages-in-my-flutter-chat-app",
        "conteudo_html": "<p>I'm encountering a problem in my Flutter (Dart) code for a chat group I'm building. The issue arises in the chat screen where, upon testing, all messages appear on the right side, even when sent by different users. How can I ensure proper alignment of messages in my Flutter chat app, where messages sent by different users appear on the correct side of the screen, and include relevant user information such as sender name and timestamp? I've included the relevant code snippets below. Any assistance would be greatly appreciated. Thank you!</p>\n<pre><code>\nimport 'package:flutter/foundation.dart';\nimport 'package:flutter/material.dart';\nimport 'package:cloud_firestore/cloud_firestore.dart';\nimport 'package:file_picker/file_picker.dart';\nimport 'package:emoji_picker_flutter/emoji_picker_flutter.dart';\nimport 'package:flutter_sound/flutter_sound.dart';\nimport 'package:intl/intl.dart';\n\n\n\nString formatTime(DateTime time) {\n  return DateFormat('HH:mm').format(time);\n}\n\nclass Message {\n  final String id;\n  final String content;\n  final String senderId;\n  final String senderName;\n  final DateTime timestamp;\n  final String appogee;\n  final String cne;\n\n  Message({\n    required this.id,\n    required this.content,\n    required this.senderId,\n    required this.senderName,\n    required this.timestamp,\n    required this.appogee,\n    required this.cne,\n  });\n}\n\n\n\n\nclass MessageBubble extends StatelessWidget {\n  final Message message;\n  final bool isSentByCurrentUser;\n  final VoidCallback onDeletePressed;\n  final List&lt;QueryDocumentSnapshot&gt; chatGroupId;\n  // ignore: annotate_overrides, overridden_fields\n  final Key? key; // Add Key parameter\n\n  const MessageBubble({\n    this.key, // Pass Key parameter to superclass constructor\n    required this.message,\n    required this.isSentByCurrentUser,\n    required this.onDeletePressed,\n    required this.chatGroupId,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return GestureDetector(\n      onLongPress: () =&gt; _showMessageOptions(context, message, isSentByCurrentUser, chatGroupId),\n      child: Align(\n        alignment: isSentByCurrentUser ? Alignment.centerLeft : Alignment.centerRight, // Swap alignment condition\n        child: _messageBubble(message, context),\n      ),\n    );\n  }\n\n  Widget _messageBubble(Message message, BuildContext context) {\n    return Row(\n    mainAxisAlignment: isSentByCurrentUser ? MainAxisAlignment.start : MainAxisAlignment.end, // Adjust MainAxisAlignment based on isSentByCurrentUser\n      children: [\n        if (!isSentByCurrentUser) ...[\n          Padding(\n            padding: const EdgeInsets.only(right: 8.0),\n            child: Text(\n              message.senderName,\n              style: TextStyle(\n                fontSize: 12,\n                color: Colors.grey[600],\n              ),\n            ),\n          ),\n        ],\n        Flexible(\n          child: Container(\n            padding: EdgeInsets.all(message.content.contains('https://') ? MediaQuery.of(context).size.width * .03 : MediaQuery.of(context).size.width * .04),\n            margin: EdgeInsets.symmetric(horizontal: MediaQuery.of(context).size.width * .04, vertical: MediaQuery.of(context).size.height * .01),\n            decoration: BoxDecoration(\n              color: isSentByCurrentUser ?  Colors.blueGrey : const Color.fromARGB(255, 33, 43, 48),\n              borderRadius: BorderRadius.only(\n                topLeft: Radius.circular(isSentByCurrentUser ? 0 : 30),\n                topRight: Radius.circular(isSentByCurrentUser ? 30 : 0),\n                bottomLeft: const Radius.circular(30),\n                bottomRight: const Radius.circular(30),\n              ),\n            ),\n            child: !message.content.contains('https://')\n                ? Text(\n                    message.content,\n                    style: TextStyle(fontSize: 15, color: isSentByCurrentUser ? Colors.black : Colors.white),\n                  )\n                : ClipRRect(\n                    borderRadius: BorderRadius.circular(15),\n                    child: Image.network(\n                      message.content,\n                      errorBuilder: (context, error, stackTrace) {\n                        return Icon(Icons.image, size: 70, color: isSentByCurrentUser ? Colors.black87 : Colors.white);\n                      },\n                      loadingBuilder: (context, child, loadingProgress) {\n                        if (loadingProgress == null) return child;\n                        return Center(\n                          child: CircularProgressIndicator(\n                            value: loadingProgress.expectedTotalBytes != null ? loadingProgress.cumulativeBytesLoaded / loadingProgress.expectedTotalBytes! : null,\n                          ),\n                        );\n                      },\n                    ),\n                  ),\n          ),\n        ),\n      ],\n    );\n  }\n\n\n  // Add _showMessageOptions method here\n  void _showMessageOptions(BuildContext context, Message message, bool isSentByCurrentUser, List&lt;QueryDocumentSnapshot&gt; chatGroupId) {\n    showDialog(\n      context: context,\n      builder: (BuildContext context) {\n        return AlertDialog(\n          title: const Text('Message Options'),\n          content: Column(\n            mainAxisSize: MainAxisSize.min,\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              Text('Content: ${message.content}'),\n              const SizedBox(height: 8),\n              Text('Sender: ${message.senderName}'),\n              const SizedBox(height: 8),\n              Text('Timestamp: ${message.timestamp}'),\n            ],\n          ),\n          actions: [\n            if (isSentByCurrentUser)\n              TextButton(\n                onPressed: () {\n                  Navigator.of(context).pop();\n                  _showMessageUpdateDialog(context, message, isSentByCurrentUser, chatGroupId);\n                },\n                child: const Text('Update'),\n              ),\n            TextButton(\n              onPressed: () {\n                Navigator.of(context).pop();\n                _deleteMessage(message.id, chatGroupId); // Call the delete callback\n              },\n              child: const Text('Delete'),\n            ),\n            TextButton(\n              onPressed: () {\n                Navigator.of(context).pop();\n              },\n              child: const Text('Close'),\n            ),\n          ],\n        );\n      },\n    );\n  }\n\n  // Add _showMessageUpdateDialog method here\n  void _showMessageUpdateDialog(BuildContext context, Message message, bool isSentByCurrentUser, List&lt;QueryDocumentSnapshot&gt; chatGroupId) {\n    String updatedMsg = message.content;\n\n    showDialog(\n      context: context,\n      builder: (_) =&gt; AlertDialog(\n        title: const Row(\n          children: [\n            Icon(\n              Icons.message,\n              color: Colors.blue,\n              size: 28,\n            ),\n            Text(' Update Message')\n          ],\n        ),\n        content: TextFormField(\n          initialValue: updatedMsg,\n          maxLines: null,\n          onChanged: (value) =&gt; updatedMsg = value,\n          decoration: InputDecoration(\n            border: OutlineInputBorder(\n              borderRadius: BorderRadius.circular(15),\n            ),\n          ),\n        ),\n        actions: [\n          MaterialButton(\n            onPressed: () {\n              Navigator.pop(context);\n            },\n            child: const Text(\n              'Cancel',\n              style: TextStyle(color: Colors.blue, fontSize: 16),\n            ),\n          ),\n          MaterialButton(\n            onPressed: () {\n              Navigator.pop(context);\n              _updateMessage(updatedMsg, message.id, chatGroupId);\n            },\n            child: const Text(\n              'Update',\n              style: TextStyle(color: Colors.blue, fontSize: 16),\n            ),\n          )\n        ],\n      ),\n    );\n  }\n\nvoid _updateMessage(String updatedMsg, String messageId, List&lt;QueryDocumentSnapshot&gt; chatGroupId) {\n  FirebaseFirestore.instance\n    .collection('EST-groupes')\n    .doc(chatGroupId.isNotEmpty ? chatGroupId[0].id : null)\n    .collection('messages')\n    .doc(messageId)\n    .update({\n      'content': updatedMsg,\n    }).then((_) {\n      // Update successful\n      if (kDebugMode) {\n        print('Message updated successfully');\n      }\n    }).catchError((error) {\n      // Handle errors\n      if (kDebugMode) {\n        print('Failed to update message: $error');\n      }\n    });\n}\n\n// In _deleteMessage and _updateMessage methods\nvoid _deleteMessage(String messageId, List&lt;QueryDocumentSnapshot&gt; chatGroupId) {\n  FirebaseFirestore.instance\n    .collection('EST-groupes')\n    .doc(chatGroupId.isNotEmpty ? chatGroupId[0].id : null)\n    .collection('messages')\n    .doc(messageId)\n    .delete()\n    .then((_) {\n      // Deletion successful\n      if (kDebugMode) {\n        print('Message deleted successfully');\n      }\n    })\n    .catchError((error) {\n      // Handle errors\n      if (kDebugMode) {\n        print('Failed to delete message: $error');\n      }\n    });\n}\n\n\n\n}\n\n\n\nclass CommunicationGroupPage extends StatefulWidget {\n  final String cne;\n  final String appogee;\n  final String filiere;\n  final int anneeScolaire;\n  final List&lt;QueryDocumentSnapshot&gt; chatGroupId;\n  final String senderName; // Add senderName parameter\n\n  const CommunicationGroupPage({\n    required this.cne,\n    required this.appogee,\n    required this.filiere,\n    required this.anneeScolaire,\n    required this.chatGroupId,\n    required this.senderName, // Include senderName parameter\n    super.key, // Add key parameter\n  }); // Call super constructor with key parameter\n\n  @override\n  // ignore: library_private_types_in_public_api\n  _CommunicationGroupPageState createState() =&gt; _CommunicationGroupPageState();\n}\n\n\n\nclass _CommunicationGroupPageState extends State&lt;CommunicationGroupPage&gt; {\n  final TextEditingController _messageController = TextEditingController();\n  bool _isSendingMessage = false;\n  late FlutterSoundRecorder _audioRecorder;\n\n  @override\n  void initState() {\n    super.initState();\n    _audioRecorder = FlutterSoundRecorder();\n  }\n\n\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Communication Group'),\n        backgroundColor: const Color.fromARGB(255, 255, 152, 0),\n      ),\n      body: Stack(\n        children: [\n          Image.asset(\n            'lib/images/pattdark.png',\n            width: double.infinity,\n            height: double.infinity,\n            fit: BoxFit.cover,\n          ),\n          Column(\n            children: [\n              Expanded(\n                child: _buildChatInterface(context),\n              ),\n              _buildChatInput(context),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n\n\n  \nWidget _buildChatInterface(BuildContext context) {\n  return StreamBuilder(\n    stream: _getChatMessagesStream(),\n    builder: (context, AsyncSnapshot&lt;QuerySnapshot&gt; snapshot) {\n      if (snapshot.connectionState == ConnectionState.waiting) {\n        return const Center(child: CircularProgressIndicator());\n      }\n      if (!snapshot.hasData || snapshot.data!.docs.isEmpty) {\n        return const Center(child: Text('Say Hi! 👋'));\n      }\n\nfinal List&lt;Message&gt; messages = snapshot.data!.docs.map((doc) {\n  final data = doc.data() as Map&lt;String, dynamic&gt;;\n  return Message(\n    id: doc.id,\n    content: data['content'] ?? '', // Changed 'content' to 'text'\n    senderId: data['sender'] ?? '',\n    senderName: data['senderName'] ?? '', // Using senderName from data\n    timestamp: (data['timestamp'] as Timestamp).toDate(),\n    appogee: data['appogee'] ?? '', // Added 'appogee'\n    cne: data['cne'] ?? '', // Added 'cne'\n  );\n}).toList();\n\n\n      messages.sort((a, b) =&gt; a.timestamp.compareTo(b.timestamp)); // Sort messages by timestamp\n      return ListView.builder(\n        reverse: false, // Show new messages at the bottom\n        itemCount: messages.length,\n        itemBuilder: (context, index) {\n          final message = messages[index];\n    final isSentByCurrentUser = message.senderId == widget.cne; // Assuming widget.cne holds the current user's ID\n          return MessageBubble(\n            message: message,\n            isSentByCurrentUser: isSentByCurrentUser,\n            onDeletePressed: () =&gt; _deleteMessage(message.id),\n            chatGroupId: widget.chatGroupId,\n          );\n        },\n      );\n    },\n  );\n}\n\n\n  Stream&lt;QuerySnapshot&gt; _getChatMessagesStream() {\n    if (widget.chatGroupId.isEmpty) {\n      return FirebaseFirestore.instance.collection('EST-groupes').doc().collection('messages').orderBy('timestamp').snapshots();\n    } else {\n      return FirebaseFirestore.instance.collection('EST-groupes').doc(widget.chatGroupId[0].id).collection('messages').orderBy('timestamp').snapshots();\n    }\n  }\n\n\n\n\n\n\n\n  Widget _buildChatInput(BuildContext context) {\n  return Container(\n    padding: const EdgeInsets.all(8.0),\n    color: Colors.grey[200],\n    child: Row(\n      children: [\n        IconButton(\n          onPressed: () {\n            showModalBottomSheet(\n              context: context,\n              builder: (context) =&gt; EmojiPicker(\n                onEmojiSelected: (category, emoji) {\n                  _messageController.text += emoji.emoji;\n                },\n              ),\n            );\n          },\n          icon: const Icon(Icons.emoji_emotions),\n        ),\n        Expanded(\n          child: GestureDetector(\n            onTapDown: (_) {\n              _startRecordingVoiceMessage();\n            },\n            onTapUp: (_) {\n              _stopRecordingVoiceMessage();\n            },\n            onTapCancel: () {\n              _stopRecordingVoiceMessage();\n            },\n            child: TextField(\n              controller: _messageController,\n              decoration: InputDecoration(\n                hintText: 'Type your message...',\n                border: OutlineInputBorder(\n                  borderRadius: BorderRadius.circular(25.0),\n                  borderSide: BorderSide.none,\n                ),\n                filled: true,\n                fillColor: Colors.white,\n              ),\n              onTap: () {\n                setState(() {\n                  _isSendingMessage = true;\n                });\n              },\n              onChanged: (text) {\n                setState(() {\n                  _isSendingMessage = text.isNotEmpty;\n                });\n              },\n              onSubmitted: (_) {\n                if (_isSendingMessage) {\n                  _sendMessage(context);\n                } else {\n                  _startRecordingVoiceMessage();\n                }\n              },\n            ),\n          ),\n        ),\n        IconButton(\n          onPressed: () async {\n            FilePickerResult? result = await FilePicker.platform.pickFiles();\n            if (result != null) {\n              PlatformFile file = result.files.first;\n              // ignore: use_build_context_synchronously\n              _sendFileMessage(context, file);\n            }\n          },\n          icon: const Icon(Icons.attach_file),\n        ),\nIconButton(\n  onPressed: () {\n    _sendMessage(context);\n    _messageController.clear(); // Clear the message\n\n  },\n  icon: _isSendingMessage ? const Icon(Icons.send) : const Icon(Icons.mic),\n),\n\n\n      ],\n    ),\n  );\n}\n\nvoid _startRecordingVoiceMessage() async {\n    try {\n      await _audioRecorder.openRecorder();\n      await _audioRecorder.startRecorder(toFile: 'path_to_save_recording');\n      // ignore: avoid_print\n      print('Recording started.');\n    } catch (e) {\n      // ignore: avoid_print\n      print('Error starting recording: $e');\n    }\n  }\n  void _stopRecordingVoiceMessage() async {\n    try {\n      await _audioRecorder.stopRecorder();\n      await _audioRecorder.closeRecorder();\n      // ignore: avoid_print\n      print('Recording stopped.');\n\n      // Now you can handle the recorded audio file (e.g., send it in a chat message)\n    } catch (e) {\n      // ignore: avoid_print\n      print('Error stopping recording: $e');\n    }\n  }\n\n\n\n\n  void _sendFileMessage(BuildContext context, PlatformFile file) {\nString senderName = widget.senderName;\n\n    if (kDebugMode) {\n      print('File selected: ${file.name}');\n    }\n    FirebaseFirestore.instance\n        .collection('EST-groupes')\n        .doc(widget.chatGroupId.isNotEmpty ? widget.chatGroupId[0].id : null)\n        .collection('messages')\n        .add({\n      'content': 'File selected: ${file.name}',\n      'sender': senderName,\n      'timestamp': DateTime.now(),\n    });\n  }\n\n  // ignore: unused_element\n  void _sendVoiceMessage() {\n    // ignore: avoid_print\n    print('Voice message sent');\n  }\n\n  Future&lt;void&gt; _sendMessage(BuildContext context) async {\n    String messageText = _messageController.text.trim();\n    if (messageText.isNotEmpty) {\nString senderName = widget.senderName;\n      try {\n        await FirebaseFirestore.instance\n            .collection('EST-groupes')\n            .doc(widget.chatGroupId.isNotEmpty ? widget.chatGroupId[0].id : null)\n            .collection('messages')\n            .add({\n          'content': messageText,\n          'sender': senderName,\n          'senderName': senderName, // Add senderName field\n          'timestamp': DateTime.now(),\n        });\n        _messageController.clear(); // Clear the message\n      } catch (e) {\n        // Handle error\n        if (kDebugMode) {\n          print('Failed to send message: $e');\n        }\n      }\n    }\n  }\n\n\n Future&lt;void&gt; _deleteMessage(String messageId) async {\n    try {\n      await FirebaseFirestore.instance\n          .collection('EST-groupes')\n          .doc(widget.chatGroupId.isNotEmpty ? widget.chatGroupId[0].id : null)\n          .collection('messages')\n          .doc(messageId)\n          .delete();\n    } catch (e) {\n      // Handle error\n      if (kDebugMode) {\n        print('Failed to delete message: $e');\n      }\n    }\n  }\n}\n</code></pre>\n<p>[in the image you see that two uses how there messages are]](<a href=\"https://i.sstatic.net/TMnZC1LJ.jpg\" rel=\"nofollow noreferrer\">https://i.sstatic.net/TMnZC1LJ.jpg</a>)</p>\n",
        "codigo": [
            "\nimport 'package:flutter/foundation.dart';\nimport 'package:flutter/material.dart';\nimport 'package:cloud_firestore/cloud_firestore.dart';\nimport 'package:file_picker/file_picker.dart';\nimport 'package:emoji_picker_flutter/emoji_picker_flutter.dart';\nimport 'package:flutter_sound/flutter_sound.dart';\nimport 'package:intl/intl.dart';\n\n\n\nString formatTime(DateTime time) {\n  return DateFormat('HH:mm').format(time);\n}\n\nclass Message {\n  final String id;\n  final String content;\n  final String senderId;\n  final String senderName;\n  final DateTime timestamp;\n  final String appogee;\n  final String cne;\n\n  Message({\n    required this.id,\n    required this.content,\n    required this.senderId,\n    required this.senderName,\n    required this.timestamp,\n    required this.appogee,\n    required this.cne,\n  });\n}\n\n\n\n\nclass MessageBubble extends StatelessWidget {\n  final Message message;\n  final bool isSentByCurrentUser;\n  final VoidCallback onDeletePressed;\n  final List<QueryDocumentSnapshot> chatGroupId;\n  // ignore: annotate_overrides, overridden_fields\n  final Key? key; // Add Key parameter\n\n  const MessageBubble({\n    this.key, // Pass Key parameter to superclass constructor\n    required this.message,\n    required this.isSentByCurrentUser,\n    required this.onDeletePressed,\n    required this.chatGroupId,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return GestureDetector(\n      onLongPress: () => _showMessageOptions(context, message, isSentByCurrentUser, chatGroupId),\n      child: Align(\n        alignment: isSentByCurrentUser ? Alignment.centerLeft : Alignment.centerRight, // Swap alignment condition\n        child: _messageBubble(message, context),\n      ),\n    );\n  }\n\n  Widget _messageBubble(Message message, BuildContext context) {\n    return Row(\n    mainAxisAlignment: isSentByCurrentUser ? MainAxisAlignment.start : MainAxisAlignment.end, // Adjust MainAxisAlignment based on isSentByCurrentUser\n      children: [\n        if (!isSentByCurrentUser) ...[\n          Padding(\n            padding: const EdgeInsets.only(right: 8.0),\n            child: Text(\n              message.senderName,\n              style: TextStyle(\n                fontSize: 12,\n                color: Colors.grey[600],\n              ),\n            ),\n          ),\n        ],\n        Flexible(\n          child: Container(\n            padding: EdgeInsets.all(message.content.contains('https://') ? MediaQuery.of(context).size.width * .03 : MediaQuery.of(context).size.width * .04),\n            margin: EdgeInsets.symmetric(horizontal: MediaQuery.of(context).size.width * .04, vertical: MediaQuery.of(context).size.height * .01),\n            decoration: BoxDecoration(\n              color: isSentByCurrentUser ?  Colors.blueGrey : const Color.fromARGB(255, 33, 43, 48),\n              borderRadius: BorderRadius.only(\n                topLeft: Radius.circular(isSentByCurrentUser ? 0 : 30),\n                topRight: Radius.circular(isSentByCurrentUser ? 30 : 0),\n                bottomLeft: const Radius.circular(30),\n                bottomRight: const Radius.circular(30),\n              ),\n            ),\n            child: !message.content.contains('https://')\n                ? Text(\n                    message.content,\n                    style: TextStyle(fontSize: 15, color: isSentByCurrentUser ? Colors.black : Colors.white),\n                  )\n                : ClipRRect(\n                    borderRadius: BorderRadius.circular(15),\n                    child: Image.network(\n                      message.content,\n                      errorBuilder: (context, error, stackTrace) {\n                        return Icon(Icons.image, size: 70, color: isSentByCurrentUser ? Colors.black87 : Colors.white);\n                      },\n                      loadingBuilder: (context, child, loadingProgress) {\n                        if (loadingProgress == null) return child;\n                        return Center(\n                          child: CircularProgressIndicator(\n                            value: loadingProgress.expectedTotalBytes != null ? loadingProgress.cumulativeBytesLoaded / loadingProgress.expectedTotalBytes! : null,\n                          ),\n                        );\n                      },\n                    ),\n                  ),\n          ),\n        ),\n      ],\n    );\n  }\n\n\n  // Add _showMessageOptions method here\n  void _showMessageOptions(BuildContext context, Message message, bool isSentByCurrentUser, List<QueryDocumentSnapshot> chatGroupId) {\n    showDialog(\n      context: context,\n      builder: (BuildContext context) {\n        return AlertDialog(\n          title: const Text('Message Options'),\n          content: Column(\n            mainAxisSize: MainAxisSize.min,\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              Text('Content: ${message.content}'),\n              const SizedBox(height: 8),\n              Text('Sender: ${message.senderName}'),\n              const SizedBox(height: 8),\n              Text('Timestamp: ${message.timestamp}'),\n            ],\n          ),\n          actions: [\n            if (isSentByCurrentUser)\n              TextButton(\n                onPressed: () {\n                  Navigator.of(context).pop();\n                  _showMessageUpdateDialog(context, message, isSentByCurrentUser, chatGroupId);\n                },\n                child: const Text('Update'),\n              ),\n            TextButton(\n              onPressed: () {\n                Navigator.of(context).pop();\n                _deleteMessage(message.id, chatGroupId); // Call the delete callback\n              },\n              child: const Text('Delete'),\n            ),\n            TextButton(\n              onPressed: () {\n                Navigator.of(context).pop();\n              },\n              child: const Text('Close'),\n            ),\n          ],\n        );\n      },\n    );\n  }\n\n  // Add _showMessageUpdateDialog method here\n  void _showMessageUpdateDialog(BuildContext context, Message message, bool isSentByCurrentUser, List<QueryDocumentSnapshot> chatGroupId) {\n    String updatedMsg = message.content;\n\n    showDialog(\n      context: context,\n      builder: (_) => AlertDialog(\n        title: const Row(\n          children: [\n            Icon(\n              Icons.message,\n              color: Colors.blue,\n              size: 28,\n            ),\n            Text(' Update Message')\n          ],\n        ),\n        content: TextFormField(\n          initialValue: updatedMsg,\n          maxLines: null,\n          onChanged: (value) => updatedMsg = value,\n          decoration: InputDecoration(\n            border: OutlineInputBorder(\n              borderRadius: BorderRadius.circular(15),\n            ),\n          ),\n        ),\n        actions: [\n          MaterialButton(\n            onPressed: () {\n              Navigator.pop(context);\n            },\n            child: const Text(\n              'Cancel',\n              style: TextStyle(color: Colors.blue, fontSize: 16),\n            ),\n          ),\n          MaterialButton(\n            onPressed: () {\n              Navigator.pop(context);\n              _updateMessage(updatedMsg, message.id, chatGroupId);\n            },\n            child: const Text(\n              'Update',\n              style: TextStyle(color: Colors.blue, fontSize: 16),\n            ),\n          )\n        ],\n      ),\n    );\n  }\n\nvoid _updateMessage(String updatedMsg, String messageId, List<QueryDocumentSnapshot> chatGroupId) {\n  FirebaseFirestore.instance\n    .collection('EST-groupes')\n    .doc(chatGroupId.isNotEmpty ? chatGroupId[0].id : null)\n    .collection('messages')\n    .doc(messageId)\n    .update({\n      'content': updatedMsg,\n    }).then((_) {\n      // Update successful\n      if (kDebugMode) {\n        print('Message updated successfully');\n      }\n    }).catchError((error) {\n      // Handle errors\n      if (kDebugMode) {\n        print('Failed to update message: $error');\n      }\n    });\n}\n\n// In _deleteMessage and _updateMessage methods\nvoid _deleteMessage(String messageId, List<QueryDocumentSnapshot> chatGroupId) {\n  FirebaseFirestore.instance\n    .collection('EST-groupes')\n    .doc(chatGroupId.isNotEmpty ? chatGroupId[0].id : null)\n    .collection('messages')\n    .doc(messageId)\n    .delete()\n    .then((_) {\n      // Deletion successful\n      if (kDebugMode) {\n        print('Message deleted successfully');\n      }\n    })\n    .catchError((error) {\n      // Handle errors\n      if (kDebugMode) {\n        print('Failed to delete message: $error');\n      }\n    });\n}\n\n\n\n}\n\n\n\nclass CommunicationGroupPage extends StatefulWidget {\n  final String cne;\n  final String appogee;\n  final String filiere;\n  final int anneeScolaire;\n  final List<QueryDocumentSnapshot> chatGroupId;\n  final String senderName; // Add senderName parameter\n\n  const CommunicationGroupPage({\n    required this.cne,\n    required this.appogee,\n    required this.filiere,\n    required this.anneeScolaire,\n    required this.chatGroupId,\n    required this.senderName, // Include senderName parameter\n    super.key, // Add key parameter\n  }); // Call super constructor with key parameter\n\n  @override\n  // ignore: library_private_types_in_public_api\n  _CommunicationGroupPageState createState() => _CommunicationGroupPageState();\n}\n\n\n\nclass _CommunicationGroupPageState extends State<CommunicationGroupPage> {\n  final TextEditingController _messageController = TextEditingController();\n  bool _isSendingMessage = false;\n  late FlutterSoundRecorder _audioRecorder;\n\n  @override\n  void initState() {\n    super.initState();\n    _audioRecorder = FlutterSoundRecorder();\n  }\n\n\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Communication Group'),\n        backgroundColor: const Color.fromARGB(255, 255, 152, 0),\n      ),\n      body: Stack(\n        children: [\n          Image.asset(\n            'lib/images/pattdark.png',\n            width: double.infinity,\n            height: double.infinity,\n            fit: BoxFit.cover,\n          ),\n          Column(\n            children: [\n              Expanded(\n                child: _buildChatInterface(context),\n              ),\n              _buildChatInput(context),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n\n\n  \nWidget _buildChatInterface(BuildContext context) {\n  return StreamBuilder(\n    stream: _getChatMessagesStream(),\n    builder: (context, AsyncSnapshot<QuerySnapshot> snapshot) {\n      if (snapshot.connectionState == ConnectionState.waiting) {\n        return const Center(child: CircularProgressIndicator());\n      }\n      if (!snapshot.hasData || snapshot.data!.docs.isEmpty) {\n        return const Center(child: Text('Say Hi! 👋'));\n      }\n\nfinal List<Message> messages = snapshot.data!.docs.map((doc) {\n  final data = doc.data() as Map<String, dynamic>;\n  return Message(\n    id: doc.id,\n    content: data['content'] ?? '', // Changed 'content' to 'text'\n    senderId: data['sender'] ?? '',\n    senderName: data['senderName'] ?? '', // Using senderName from data\n    timestamp: (data['timestamp'] as Timestamp).toDate(),\n    appogee: data['appogee'] ?? '', // Added 'appogee'\n    cne: data['cne'] ?? '', // Added 'cne'\n  );\n}).toList();\n\n\n      messages.sort((a, b) => a.timestamp.compareTo(b.timestamp)); // Sort messages by timestamp\n      return ListView.builder(\n        reverse: false, // Show new messages at the bottom\n        itemCount: messages.length,\n        itemBuilder: (context, index) {\n          final message = messages[index];\n    final isSentByCurrentUser = message.senderId == widget.cne; // Assuming widget.cne holds the current user's ID\n          return MessageBubble(\n            message: message,\n            isSentByCurrentUser: isSentByCurrentUser,\n            onDeletePressed: () => _deleteMessage(message.id),\n            chatGroupId: widget.chatGroupId,\n          );\n        },\n      );\n    },\n  );\n}\n\n\n  Stream<QuerySnapshot> _getChatMessagesStream() {\n    if (widget.chatGroupId.isEmpty) {\n      return FirebaseFirestore.instance.collection('EST-groupes').doc().collection('messages').orderBy('timestamp').snapshots();\n    } else {\n      return FirebaseFirestore.instance.collection('EST-groupes').doc(widget.chatGroupId[0].id).collection('messages').orderBy('timestamp').snapshots();\n    }\n  }\n\n\n\n\n\n\n\n  Widget _buildChatInput(BuildContext context) {\n  return Container(\n    padding: const EdgeInsets.all(8.0),\n    color: Colors.grey[200],\n    child: Row(\n      children: [\n        IconButton(\n          onPressed: () {\n            showModalBottomSheet(\n              context: context,\n              builder: (context) => EmojiPicker(\n                onEmojiSelected: (category, emoji) {\n                  _messageController.text += emoji.emoji;\n                },\n              ),\n            );\n          },\n          icon: const Icon(Icons.emoji_emotions),\n        ),\n        Expanded(\n          child: GestureDetector(\n            onTapDown: (_) {\n              _startRecordingVoiceMessage();\n            },\n            onTapUp: (_) {\n              _stopRecordingVoiceMessage();\n            },\n            onTapCancel: () {\n              _stopRecordingVoiceMessage();\n            },\n            child: TextField(\n              controller: _messageController,\n              decoration: InputDecoration(\n                hintText: 'Type your message...',\n                border: OutlineInputBorder(\n                  borderRadius: BorderRadius.circular(25.0),\n                  borderSide: BorderSide.none,\n                ),\n                filled: true,\n                fillColor: Colors.white,\n              ),\n              onTap: () {\n                setState(() {\n                  _isSendingMessage = true;\n                });\n              },\n              onChanged: (text) {\n                setState(() {\n                  _isSendingMessage = text.isNotEmpty;\n                });\n              },\n              onSubmitted: (_) {\n                if (_isSendingMessage) {\n                  _sendMessage(context);\n                } else {\n                  _startRecordingVoiceMessage();\n                }\n              },\n            ),\n          ),\n        ),\n        IconButton(\n          onPressed: () async {\n            FilePickerResult? result = await FilePicker.platform.pickFiles();\n            if (result != null) {\n              PlatformFile file = result.files.first;\n              // ignore: use_build_context_synchronously\n              _sendFileMessage(context, file);\n            }\n          },\n          icon: const Icon(Icons.attach_file),\n        ),\nIconButton(\n  onPressed: () {\n    _sendMessage(context);\n    _messageController.clear(); // Clear the message\n\n  },\n  icon: _isSendingMessage ? const Icon(Icons.send) : const Icon(Icons.mic),\n),\n\n\n      ],\n    ),\n  );\n}\n\nvoid _startRecordingVoiceMessage() async {\n    try {\n      await _audioRecorder.openRecorder();\n      await _audioRecorder.startRecorder(toFile: 'path_to_save_recording');\n      // ignore: avoid_print\n      print('Recording started.');\n    } catch (e) {\n      // ignore: avoid_print\n      print('Error starting recording: $e');\n    }\n  }\n  void _stopRecordingVoiceMessage() async {\n    try {\n      await _audioRecorder.stopRecorder();\n      await _audioRecorder.closeRecorder();\n      // ignore: avoid_print\n      print('Recording stopped.');\n\n      // Now you can handle the recorded audio file (e.g., send it in a chat message)\n    } catch (e) {\n      // ignore: avoid_print\n      print('Error stopping recording: $e');\n    }\n  }\n\n\n\n\n  void _sendFileMessage(BuildContext context, PlatformFile file) {\nString senderName = widget.senderName;\n\n    if (kDebugMode) {\n      print('File selected: ${file.name}');\n    }\n    FirebaseFirestore.instance\n        .collection('EST-groupes')\n        .doc(widget.chatGroupId.isNotEmpty ? widget.chatGroupId[0].id : null)\n        .collection('messages')\n        .add({\n      'content': 'File selected: ${file.name}',\n      'sender': senderName,\n      'timestamp': DateTime.now(),\n    });\n  }\n\n  // ignore: unused_element\n  void _sendVoiceMessage() {\n    // ignore: avoid_print\n    print('Voice message sent');\n  }\n\n  Future<void> _sendMessage(BuildContext context) async {\n    String messageText = _messageController.text.trim();\n    if (messageText.isNotEmpty) {\nString senderName = widget.senderName;\n      try {\n        await FirebaseFirestore.instance\n            .collection('EST-groupes')\n            .doc(widget.chatGroupId.isNotEmpty ? widget.chatGroupId[0].id : null)\n            .collection('messages')\n            .add({\n          'content': messageText,\n          'sender': senderName,\n          'senderName': senderName, // Add senderName field\n          'timestamp': DateTime.now(),\n        });\n        _messageController.clear(); // Clear the message\n      } catch (e) {\n        // Handle error\n        if (kDebugMode) {\n          print('Failed to send message: $e');\n        }\n      }\n    }\n  }\n\n\n Future<void> _deleteMessage(String messageId) async {\n    try {\n      await FirebaseFirestore.instance\n          .collection('EST-groupes')\n          .doc(widget.chatGroupId.isNotEmpty ? widget.chatGroupId[0].id : null)\n          .collection('messages')\n          .doc(messageId)\n          .delete();\n    } catch (e) {\n      // Handle error\n      if (kDebugMode) {\n        print('Failed to delete message: $e');\n      }\n    }\n  }\n}\n"
        ]
    },
    {
        "titulo": "Problem with context when using navigator in flutter",
        "score": 0,
        "views": 834,
        "respostas": 3,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78473469/problem-with-context-when-using-navigator-in-flutter",
        "conteudo_html": "<p>I am new to flutter and this is my first project. I have writter a basic app that uses firebase to login, register, verify emails, and has an as of now empty home page. The code runs fine but i have a warning in two places. In these lines of code <code>Navigator.of(context).pushNamedAndRemoveUntil(loginRoute, (_) =&gt; false,);</code> and this <code>Navigator.of(context).pushNamedAndRemoveUntil(mainRoute, (route) =&gt; false,);</code> i get this warning: <code>Don't use 'BuildContext's across async gaps. Try rewriting the code to not use the 'BuildContext', or guard the use with a 'mounted' check.</code> I know that using navigator and pushing is not the most optimal technique but as i said it is my first project and this is the most eazy way. I tried using <code>if(!mounted)return;</code> but it didn't work. My app runs fine and does not have any problems but as i saw this warning can cause problems in specific senarios so i want to know how to fix it in case i encounter it again. This is the code of the main file only. I also have files for the login and register that i don't think are important.</p>\n<pre><code>import 'package:project/constants/routes.dart';\nimport 'package:project/firebase_options.dart';\nimport 'package:project/views/loginview.dart';\nimport 'package:project/views/registerview.dart';\nimport 'package:project/views/verifyview.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:firebase_core/firebase_core.dart';\nimport 'package:flutter/material.dart';\nimport 'dart:developer' as devtools show log;\n\nvoid main() {\n  WidgetsFlutterBinding.ensureInitialized();\n  runApp(MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        colorScheme: ColorScheme.fromSeed(seedColor: const Color.fromARGB(255, 58, 133, 183)),\n        useMaterial3: true,\n      ),\n      home: const HomePage(),\n      routes: {\n        loginRoute: (context) =&gt; const LoginView(),\n        registerRoute:(context) =&gt; const RegisterView(),\n        mainRoute:(context) =&gt; const NotesView()\n      },\n    ),\n  );\n}\n\nclass HomePage extends StatelessWidget {\n  const HomePage({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return FutureBuilder(\n        future: Firebase.initializeApp(\n          options: DefaultFirebaseOptions.currentPlatform,\n        ),\n        builder:(context, snapshot) {\n          switch (snapshot.connectionState){\n            case ConnectionState.done:\n            final user = FirebaseAuth.instance.currentUser;\n            if(user != null)\n            {\n              if(user.emailVerified)\n              {\n                return const NotesView();\n              }\n              else\n              {\n                return const VerifyEmailView();\n              }\n            }\n            else \n            {\n              return const LoginView();\n            }\n\n          default: \n            return const CircularProgressIndicator();\n        } \n      },\n    );\n  }\n}\n\nenum MenuAction { logout }\n\nclass NotesView extends StatefulWidget {\n  const NotesView({super.key});\n\n  @override\n  State&lt;NotesView&gt; createState() =&gt; _NotesViewState();\n}\n\nclass _NotesViewState extends State&lt;NotesView&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text(&quot;My notes&quot;),\n        actions: [\n          PopupMenuButton&lt;MenuAction&gt;(\n            onSelected: (value) async {\n              switch (value) {\n                \n                case MenuAction.logout:\n                  final shouldLogOut = await showLogOutDialog(context);\n                  if(shouldLogOut)\n                  {\n                    await FirebaseAuth.instance.signOut();\n                    Navigator.of(context).pushNamedAndRemoveUntil(loginRoute, (_) =&gt; false,);\n                  }\n              }\n            },\n            itemBuilder: (context) {\n              return const [\n                PopupMenuItem&lt;MenuAction&gt;(\n                value: MenuAction.logout,\n                child: Text('Logout'),\n                )\n              ];            \n            },\n          )\n        ]\n      ),\n      body: const Text(&quot;Hello world&quot;), \n    );\n  }\n}\n\nFuture&lt;bool&gt; showLogOutDialog(BuildContext context)\n{\n  return showDialog&lt;bool&gt;(\n    context: context, \n    builder:  (context)\n    {\n      return AlertDialog(title: const Text('Sign Out'), \n        content: const Text('Are you sure you want to sign out?'),\n        actions: [\n            TextButton(onPressed: () {\n              Navigator.of(context).pop(false);\n            }, child: const Text(&quot;Cancel&quot;)),\n            TextButton(onPressed: () {\n              Navigator.of(context).pop(true);\n            }, child: const Text(&quot;Log Out&quot;)),\n        ]\n      );\n    },\n  ).then((value) =&gt; value ?? false);\n}\n</code></pre>\n",
        "codigo": [
            "Navigator.of(context).pushNamedAndRemoveUntil(loginRoute, (_) => false,);",
            "Navigator.of(context).pushNamedAndRemoveUntil(mainRoute, (route) => false,);",
            "Don't use 'BuildContext's across async gaps. Try rewriting the code to not use the 'BuildContext', or guard the use with a 'mounted' check.",
            "if(!mounted)return;",
            "import 'package:project/constants/routes.dart';\nimport 'package:project/firebase_options.dart';\nimport 'package:project/views/loginview.dart';\nimport 'package:project/views/registerview.dart';\nimport 'package:project/views/verifyview.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:firebase_core/firebase_core.dart';\nimport 'package:flutter/material.dart';\nimport 'dart:developer' as devtools show log;\n\nvoid main() {\n  WidgetsFlutterBinding.ensureInitialized();\n  runApp(MaterialApp(\n      title: 'Flutter Demo',\n      theme: ThemeData(\n        colorScheme: ColorScheme.fromSeed(seedColor: const Color.fromARGB(255, 58, 133, 183)),\n        useMaterial3: true,\n      ),\n      home: const HomePage(),\n      routes: {\n        loginRoute: (context) => const LoginView(),\n        registerRoute:(context) => const RegisterView(),\n        mainRoute:(context) => const NotesView()\n      },\n    ),\n  );\n}\n\nclass HomePage extends StatelessWidget {\n  const HomePage({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return FutureBuilder(\n        future: Firebase.initializeApp(\n          options: DefaultFirebaseOptions.currentPlatform,\n        ),\n        builder:(context, snapshot) {\n          switch (snapshot.connectionState){\n            case ConnectionState.done:\n            final user = FirebaseAuth.instance.currentUser;\n            if(user != null)\n            {\n              if(user.emailVerified)\n              {\n                return const NotesView();\n              }\n              else\n              {\n                return const VerifyEmailView();\n              }\n            }\n            else \n            {\n              return const LoginView();\n            }\n\n          default: \n            return const CircularProgressIndicator();\n        } \n      },\n    );\n  }\n}\n\nenum MenuAction { logout }\n\nclass NotesView extends StatefulWidget {\n  const NotesView({super.key});\n\n  @override\n  State<NotesView> createState() => _NotesViewState();\n}\n\nclass _NotesViewState extends State<NotesView> {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text(\"My notes\"),\n        actions: [\n          PopupMenuButton<MenuAction>(\n            onSelected: (value) async {\n              switch (value) {\n                \n                case MenuAction.logout:\n                  final shouldLogOut = await showLogOutDialog(context);\n                  if(shouldLogOut)\n                  {\n                    await FirebaseAuth.instance.signOut();\n                    Navigator.of(context).pushNamedAndRemoveUntil(loginRoute, (_) => false,);\n                  }\n              }\n            },\n            itemBuilder: (context) {\n              return const [\n                PopupMenuItem<MenuAction>(\n                value: MenuAction.logout,\n                child: Text('Logout'),\n                )\n              ];            \n            },\n          )\n        ]\n      ),\n      body: const Text(\"Hello world\"), \n    );\n  }\n}\n\nFuture<bool> showLogOutDialog(BuildContext context)\n{\n  return showDialog<bool>(\n    context: context, \n    builder:  (context)\n    {\n      return AlertDialog(title: const Text('Sign Out'), \n        content: const Text('Are you sure you want to sign out?'),\n        actions: [\n            TextButton(onPressed: () {\n              Navigator.of(context).pop(false);\n            }, child: const Text(\"Cancel\")),\n            TextButton(onPressed: () {\n              Navigator.of(context).pop(true);\n            }, child: const Text(\"Log Out\")),\n        ]\n      );\n    },\n  ).then((value) => value ?? false);\n}\n"
        ]
    },
    {
        "titulo": "How to trigger the undo controller of a text field in flutter test",
        "score": 0,
        "views": 125,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-textformfield",
            "flutter-textinputfield"
        ],
        "link": "https://stackoverflow.com/questions/78470757/how-to-trigger-the-undo-controller-of-a-text-field-in-flutter-test",
        "conteudo_html": "<p>I have this widget containing a <code>TextField</code> and a <code>UndoHistoryController</code> :</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class _MyHomePageState extends State&lt;MyHomePage&gt; {\n  final TextEditingController _controller = TextEditingController();\n  final FocusNode _focusNode = FocusNode();\n  final UndoHistoryController _undoController = UndoHistoryController();\n\n  TextStyle? get enabledStyle =&gt; Theme.of(context).textTheme.bodyMedium;\n  TextStyle? get disabledStyle =&gt; Theme.of(context).textTheme.bodyMedium?.copyWith(color: Colors.grey);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            TextField(\n              maxLines: 4,\n              controller: _controller,\n              focusNode: _focusNode,\n              undoController: _undoController,\n            ),\n            ValueListenableBuilder&lt;UndoHistoryValue&gt;(\n              valueListenable: _undoController,\n              builder: (BuildContext context, UndoHistoryValue value, Widget? child) {\n                return Row(\n                  children: &lt;Widget&gt;[\n                    TextButton(\n                      child: Text('Undo', style: value.canUndo ? enabledStyle : disabledStyle),\n                      onPressed: () {\n                        _undoController.undo();\n                      },\n                    ),\n                    TextButton(\n                      child: Text('Redo', style: value.canRedo ? enabledStyle : disabledStyle),\n                      onPressed: () {\n                        _undoController.redo();\n                      },\n                    ),\n                  ],\n                );\n              },\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>I'm trying to write a test about it:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>testWidgets('The undo history controller should undo and redo the history changes', (WidgetTester tester) async {\n  await tester.pumpWidget(\n    const example.UndoHistoryControllerExampleApp(),\n  );\n\n  expect(find.byType(TextField), findsOne);\n  expect(find.widgetWithText(TextButton, 'Undo'), findsOne);\n  expect(find.widgetWithText(TextButton, 'Redo'), findsOne);\n\n  await tester.enterText(find.byType(TextField), '1st change');\n  await tester.pump();\n  expect(find.text('1st change'), findsOne);\n\n  await tester.enterText(find.byType(TextField), '2nd change');\n  await tester.pump();\n  expect(find.text('2nd change'), findsOne);\n\n  await tester.tap(find.text('Undo'));\n  await tester.pump();\n  expect(find.text('2nd change'), findsOne);\n\n  await tester.tap(find.text('Redo'));\n  await tester.pump();\n  expect(find.text('2nd change'), findsOne);\n});\n</code></pre>\n<p>which fails when at the <code>expect(find.text('2nd change'), findsOne);</code> after the tap on the &quot;Undo&quot; button. It looks like <code>_undoController.value.canUndo</code> is <code>false</code> in the <code>onPressed</code> of the &quot;Undo&quot; button.</p>\n<p>I tried replacing the <code>pump()</code> with <code>pumpAndSettle()</code> or multiple <code>pump()</code>s after each <code>enterText</code> in the test, but it doesn't seem to trigger anything in the undo history controller.</p>\n<p>How to make it work?</p>\n",
        "codigo": [
            "TextField",
            "UndoHistoryController",
            "class _MyHomePageState extends State<MyHomePage> {\n  final TextEditingController _controller = TextEditingController();\n  final FocusNode _focusNode = FocusNode();\n  final UndoHistoryController _undoController = UndoHistoryController();\n\n  TextStyle? get enabledStyle => Theme.of(context).textTheme.bodyMedium;\n  TextStyle? get disabledStyle => Theme.of(context).textTheme.bodyMedium?.copyWith(color: Colors.grey);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            TextField(\n              maxLines: 4,\n              controller: _controller,\n              focusNode: _focusNode,\n              undoController: _undoController,\n            ),\n            ValueListenableBuilder<UndoHistoryValue>(\n              valueListenable: _undoController,\n              builder: (BuildContext context, UndoHistoryValue value, Widget? child) {\n                return Row(\n                  children: <Widget>[\n                    TextButton(\n                      child: Text('Undo', style: value.canUndo ? enabledStyle : disabledStyle),\n                      onPressed: () {\n                        _undoController.undo();\n                      },\n                    ),\n                    TextButton(\n                      child: Text('Redo', style: value.canRedo ? enabledStyle : disabledStyle),\n                      onPressed: () {\n                        _undoController.redo();\n                      },\n                    ),\n                  ],\n                );\n              },\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n",
            "testWidgets('The undo history controller should undo and redo the history changes', (WidgetTester tester) async {\n  await tester.pumpWidget(\n    const example.UndoHistoryControllerExampleApp(),\n  );\n\n  expect(find.byType(TextField), findsOne);\n  expect(find.widgetWithText(TextButton, 'Undo'), findsOne);\n  expect(find.widgetWithText(TextButton, 'Redo'), findsOne);\n\n  await tester.enterText(find.byType(TextField), '1st change');\n  await tester.pump();\n  expect(find.text('1st change'), findsOne);\n\n  await tester.enterText(find.byType(TextField), '2nd change');\n  await tester.pump();\n  expect(find.text('2nd change'), findsOne);\n\n  await tester.tap(find.text('Undo'));\n  await tester.pump();\n  expect(find.text('2nd change'), findsOne);\n\n  await tester.tap(find.text('Redo'));\n  await tester.pump();\n  expect(find.text('2nd change'), findsOne);\n});\n",
            "expect(find.text('2nd change'), findsOne);",
            "_undoController.value.canUndo",
            "false",
            "onPressed",
            "pump()",
            "pumpAndSettle()",
            "pump()",
            "enterText"
        ]
    },
    {
        "titulo": "Flutter Bloc: How to emit FirebaseVerificationCompletedEvent and access credential value?",
        "score": 0,
        "views": 25,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-bloc"
        ],
        "link": "https://stackoverflow.com/questions/78468419/flutter-bloc-how-to-emit-firebaseverificationcompletedevent-and-access-credenti",
        "conteudo_html": "<p>what should I do to emit FirebaseVerificationCompletedEvent and get the credential value? on the page it stuck on FirebaseCodeSend</p>\n<p>here is my bloc :</p>\n<pre><code>class FirebaseOtpBloc extends Bloc&lt;FirebaseOtpEvent, FirebaseOtpState&gt; {\n  FirebaseOtpBloc() : super(FirebaseOtpInitial()) {\n    on&lt;FirebaseVerifyPhoneNumber&gt;(_onFirebaseVerifyPhoneNumber);\n  }\n  void _onFirebaseVerifyPhoneNumber(\n      FirebaseVerifyPhoneNumber event, Emitter&lt;FirebaseOtpState&gt; emit) async {\n    try {\n      emit(FirebaseCodeSend());\n      await FirebaseAuth.instance.verifyPhoneNumber(\n        phoneNumber: event.phoneNumber,\n        verificationCompleted: (PhoneAuthCredential credential) {\n          emit(FirebaseVerificationCompleted(credential));\n        },\n        verificationFailed: (FirebaseAuthException e) {\n          emit(FirebaseVerificationFailed(e.toString()));\n        },\n        codeSent: (String verificationId, int? resendToken) {},\n        codeAutoRetrievalTimeout: (String verificationId) {},\n      );\n    } catch (e) {\n      emit(FirebaseVerificationFailed(e.toString()));\n    }\n  }\n}\n</code></pre>\n",
        "codigo": [
            "class FirebaseOtpBloc extends Bloc<FirebaseOtpEvent, FirebaseOtpState> {\n  FirebaseOtpBloc() : super(FirebaseOtpInitial()) {\n    on<FirebaseVerifyPhoneNumber>(_onFirebaseVerifyPhoneNumber);\n  }\n  void _onFirebaseVerifyPhoneNumber(\n      FirebaseVerifyPhoneNumber event, Emitter<FirebaseOtpState> emit) async {\n    try {\n      emit(FirebaseCodeSend());\n      await FirebaseAuth.instance.verifyPhoneNumber(\n        phoneNumber: event.phoneNumber,\n        verificationCompleted: (PhoneAuthCredential credential) {\n          emit(FirebaseVerificationCompleted(credential));\n        },\n        verificationFailed: (FirebaseAuthException e) {\n          emit(FirebaseVerificationFailed(e.toString()));\n        },\n        codeSent: (String verificationId, int? resendToken) {},\n        codeAutoRetrievalTimeout: (String verificationId) {},\n      );\n    } catch (e) {\n      emit(FirebaseVerificationFailed(e.toString()));\n    }\n  }\n}\n"
        ]
    },
    {
        "titulo": "Receiving double same notification Awesome Notification Flutter",
        "score": 0,
        "views": 597,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "push-notification",
            "awesome-notifications"
        ],
        "link": "https://stackoverflow.com/questions/78467111/receiving-double-same-notification-awesome-notification-flutter",
        "conteudo_html": "<p>I am using flutter awesome notifications and when ever i send notification from firebase or notification sent from my custom backend i receive two notifications one without action button and one with action button i also tried to remove the action button to check if this is causing the issue but still getting same duplicate notifications</p>\n<p>here is my main.dart file where i have done notification initialization:</p>\n<pre><code>Future&lt;void&gt; _firebaseMessagingBackgroundHandler(RemoteMessage message) async {\n  if (message.notification != null) {\n    // log(message.data[&quot;notification_id&quot;]);\n    NotificationService.showNotification(\n        title: message.notification!.title!,\n        body: message.notification!.body!,\n        actionButtons: actionButtons);\n  }\n\n  await Firebase.initializeApp(\n    options: DefaultFirebaseOptions.currentPlatform,\n  );\n}\n\nGlobalKey&lt;NavigatorState&gt; navigatorKey = GlobalKey&lt;NavigatorState&gt;();\nfinal actionButtons = [\n  NotificationActionButton(\n    key: 'Verify',\n    label: 'Confirm Now',\n    enabled: true,\n  ),\n];\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  final id = await cGetDeviceId();\n  CommonData.deviceId = id;\n  await Firebase.initializeApp(\n    options: DefaultFirebaseOptions.currentPlatform,\n  );\n  await NotificationService.initializeNotification();\n  FirebaseMessaging messagingg = FirebaseMessaging.instance;\n  FirebaseMessaging.instance.getInitialMessage().then((value) {\n    if (value?.notification != null) {\n      // log(value!.data[&quot;notification_id&quot;]);\n      NotificationService.showNotification(\n          title: value!.notification!.title!,\n          body: value.notification!.body!,\n          actionButtons: actionButtons);\n    }\n  });\n  FirebaseMessaging.onBackgroundMessage(_firebaseMessagingBackgroundHandler);\n  await messagingg.requestPermission(\n    alert: true,\n    announcement: false,\n    badge: true,\n    carPlay: false,\n    criticalAlert: false,\n    sound: true,\n  );\n  await FirebaseMessaging.instance.setForegroundNotificationPresentationOptions(\n    alert: true,\n    badge: true,\n    sound: true,\n  );\n  FirebaseMessaging.onMessage.listen((RemoteMessage message) {\n    if (message.notification != null) {\n      // log(message.data[&quot;notification_id&quot;]);\n      NotificationService.showNotification(\n          title: message.notification!.title!,\n          body: message.notification!.body!,\n          actionButtons: actionButtons);\n    }\n  });\n  FirebaseMessaging.onMessageOpenedApp.listen((RemoteMessage message) {\n    if (message.notification != null) {\n      // log(message.data[&quot;notification_id&quot;]);\n      NotificationService.showNotification(\n          title: message.notification!.title!,\n          body: message.notification!.body!,\n          actionButtons: actionButtons);\n    }\n  });\n\n  SystemChrome.setPreferredOrientations([DeviceOrientation.portraitUp]);\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MultiProvider(\n        providers: [\n          ChangeNotifierProvider&lt;LoadingManagemet&gt;(\n            create: (context) =&gt; LoadingManagemet(),\n          ),\n          ChangeNotifierProvider&lt;ParkingRemindersSingleton&gt;(\n            create: (context) =&gt; ParkingRemindersSingleton(),\n          ),\n        ],\n        child: MaterialApp(\n          debugShowCheckedModeBanner: false,\n          title: 'Ay Caramba',\n          theme: ThemeData(\n            colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n            useMaterial3: true,\n          ),\n          home: const SplashScreen(),\n        ));\n  }\n}\n</code></pre>\n<p>Here is my notification services files :</p>\n<pre><code>import 'dart:developer';\n\nimport 'package:awesome_notifications/awesome_notifications.dart';\nimport 'package:flutter/material.dart';\n\nclass NotificationService {\n  static Future&lt;void&gt; initializeNotification() async {\n    await AwesomeNotifications().initialize(\n      null,\n      [\n        NotificationChannel(\n          channelGroupKey: 'high_importance_channel',\n          channelKey: 'high_importance_channel',\n          channelName: 'Basic notifications',\n          channelDescription: 'Notification channel for basic tests',\n          defaultColor: const Color(0xFF9D50DD),\n          ledColor: Colors.white,\n          importance: NotificationImportance.Max,\n          channelShowBadge: true,\n          onlyAlertOnce: true,\n          playSound: true,\n          criticalAlerts: true,\n        )\n      ],\n      channelGroups: [\n        NotificationChannelGroup(\n          channelGroupKey: 'high_importance_channel_group',\n          channelGroupName: 'Group 1',\n        )\n      ],\n      debug: true,\n    );\n\n    await AwesomeNotifications().isNotificationAllowed().then(\n      (isAllowed) async {\n        if (!isAllowed) {\n          await AwesomeNotifications().requestPermissionToSendNotifications();\n        }\n      },\n    );\n\n    await AwesomeNotifications().setListeners(\n      onActionReceivedMethod: onActionReceivedMethod,\n      onNotificationCreatedMethod: onNotificationCreatedMethod,\n      onNotificationDisplayedMethod: onNotificationDisplayedMethod,\n      onDismissActionReceivedMethod: onDismissActionReceivedMethod,\n    );\n  }\n\n  /// Use this method to detect when a new notification or a schedule is created\n  static Future&lt;void&gt; onNotificationCreatedMethod(\n      ReceivedNotification receivedNotification) async {\n    debugPrint('onNotificationCreatedMethod');\n  }\n\n  /// Use this method to detect every time that a new notification is displayed\n  static Future&lt;void&gt; onNotificationDisplayedMethod(\n      ReceivedNotification receivedNotification) async {\n    debugPrint('onNotificationDisplayedMethod');\n  }\n\n  /// Use this method to detect if the user dismissed a notification\n  static Future&lt;void&gt; onDismissActionReceivedMethod(\n      ReceivedAction receivedAction) async {\n    debugPrint('onDismissActionReceivedMethod');\n  }\n\n  /// Use this method to detect when the user taps on a notification or action button\n  static Future&lt;void&gt; onActionReceivedMethod(\n      ReceivedAction receivedAction) async {\n    debugPrint('onActionReceivedMethod');\n    final payload = receivedAction.toString();\n    // final notificationId = payload['notification_id'];\n    log('Notification ID: $payload');\n  }\n\n  static Future&lt;void&gt; showNotification({\n    required final String title,\n    required final String body,\n    final String? summary,\n    final Map&lt;String, String&gt;? payload,\n    final ActionType actionType = ActionType.Default,\n    final NotificationLayout notificationLayout = NotificationLayout.Default,\n    final NotificationCategory? category,\n    final String? bigPicture,\n    final List&lt;NotificationActionButton&gt;? actionButtons,\n    final bool scheduled = false,\n    final int? interval,\n  }) async {\n    assert(!scheduled || (scheduled &amp;&amp; interval != null));\n\n    await AwesomeNotifications().createNotification(\n      content: NotificationContent(\n        id: -1,\n        channelKey: 'high_importance_channel',\n        title: title,\n        body: body,\n        actionType: actionType,\n        notificationLayout: notificationLayout,\n        summary: summary,\n        category: category,\n        payload: payload,\n        bigPicture: bigPicture,\n      ),\n      actionButtons: actionButtons,\n      schedule: scheduled\n          ? NotificationInterval(\n              interval: interval,\n              timeZone:\n                  await AwesomeNotifications().getLocalTimeZoneIdentifier(),\n              preciseAlarm: true,\n            )\n          : null,\n    );\n  }\n}\n</code></pre>\n<p>I need help to resolve this and want to achieve like when user click on action button the notification_id logged onto the console so i will use that to utilize in API hitting.</p>\n",
        "codigo": [
            "Future<void> _firebaseMessagingBackgroundHandler(RemoteMessage message) async {\n  if (message.notification != null) {\n    // log(message.data[\"notification_id\"]);\n    NotificationService.showNotification(\n        title: message.notification!.title!,\n        body: message.notification!.body!,\n        actionButtons: actionButtons);\n  }\n\n  await Firebase.initializeApp(\n    options: DefaultFirebaseOptions.currentPlatform,\n  );\n}\n\nGlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();\nfinal actionButtons = [\n  NotificationActionButton(\n    key: 'Verify',\n    label: 'Confirm Now',\n    enabled: true,\n  ),\n];\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  final id = await cGetDeviceId();\n  CommonData.deviceId = id;\n  await Firebase.initializeApp(\n    options: DefaultFirebaseOptions.currentPlatform,\n  );\n  await NotificationService.initializeNotification();\n  FirebaseMessaging messagingg = FirebaseMessaging.instance;\n  FirebaseMessaging.instance.getInitialMessage().then((value) {\n    if (value?.notification != null) {\n      // log(value!.data[\"notification_id\"]);\n      NotificationService.showNotification(\n          title: value!.notification!.title!,\n          body: value.notification!.body!,\n          actionButtons: actionButtons);\n    }\n  });\n  FirebaseMessaging.onBackgroundMessage(_firebaseMessagingBackgroundHandler);\n  await messagingg.requestPermission(\n    alert: true,\n    announcement: false,\n    badge: true,\n    carPlay: false,\n    criticalAlert: false,\n    sound: true,\n  );\n  await FirebaseMessaging.instance.setForegroundNotificationPresentationOptions(\n    alert: true,\n    badge: true,\n    sound: true,\n  );\n  FirebaseMessaging.onMessage.listen((RemoteMessage message) {\n    if (message.notification != null) {\n      // log(message.data[\"notification_id\"]);\n      NotificationService.showNotification(\n          title: message.notification!.title!,\n          body: message.notification!.body!,\n          actionButtons: actionButtons);\n    }\n  });\n  FirebaseMessaging.onMessageOpenedApp.listen((RemoteMessage message) {\n    if (message.notification != null) {\n      // log(message.data[\"notification_id\"]);\n      NotificationService.showNotification(\n          title: message.notification!.title!,\n          body: message.notification!.body!,\n          actionButtons: actionButtons);\n    }\n  });\n\n  SystemChrome.setPreferredOrientations([DeviceOrientation.portraitUp]);\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MultiProvider(\n        providers: [\n          ChangeNotifierProvider<LoadingManagemet>(\n            create: (context) => LoadingManagemet(),\n          ),\n          ChangeNotifierProvider<ParkingRemindersSingleton>(\n            create: (context) => ParkingRemindersSingleton(),\n          ),\n        ],\n        child: MaterialApp(\n          debugShowCheckedModeBanner: false,\n          title: 'Ay Caramba',\n          theme: ThemeData(\n            colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n            useMaterial3: true,\n          ),\n          home: const SplashScreen(),\n        ));\n  }\n}\n",
            "import 'dart:developer';\n\nimport 'package:awesome_notifications/awesome_notifications.dart';\nimport 'package:flutter/material.dart';\n\nclass NotificationService {\n  static Future<void> initializeNotification() async {\n    await AwesomeNotifications().initialize(\n      null,\n      [\n        NotificationChannel(\n          channelGroupKey: 'high_importance_channel',\n          channelKey: 'high_importance_channel',\n          channelName: 'Basic notifications',\n          channelDescription: 'Notification channel for basic tests',\n          defaultColor: const Color(0xFF9D50DD),\n          ledColor: Colors.white,\n          importance: NotificationImportance.Max,\n          channelShowBadge: true,\n          onlyAlertOnce: true,\n          playSound: true,\n          criticalAlerts: true,\n        )\n      ],\n      channelGroups: [\n        NotificationChannelGroup(\n          channelGroupKey: 'high_importance_channel_group',\n          channelGroupName: 'Group 1',\n        )\n      ],\n      debug: true,\n    );\n\n    await AwesomeNotifications().isNotificationAllowed().then(\n      (isAllowed) async {\n        if (!isAllowed) {\n          await AwesomeNotifications().requestPermissionToSendNotifications();\n        }\n      },\n    );\n\n    await AwesomeNotifications().setListeners(\n      onActionReceivedMethod: onActionReceivedMethod,\n      onNotificationCreatedMethod: onNotificationCreatedMethod,\n      onNotificationDisplayedMethod: onNotificationDisplayedMethod,\n      onDismissActionReceivedMethod: onDismissActionReceivedMethod,\n    );\n  }\n\n  /// Use this method to detect when a new notification or a schedule is created\n  static Future<void> onNotificationCreatedMethod(\n      ReceivedNotification receivedNotification) async {\n    debugPrint('onNotificationCreatedMethod');\n  }\n\n  /// Use this method to detect every time that a new notification is displayed\n  static Future<void> onNotificationDisplayedMethod(\n      ReceivedNotification receivedNotification) async {\n    debugPrint('onNotificationDisplayedMethod');\n  }\n\n  /// Use this method to detect if the user dismissed a notification\n  static Future<void> onDismissActionReceivedMethod(\n      ReceivedAction receivedAction) async {\n    debugPrint('onDismissActionReceivedMethod');\n  }\n\n  /// Use this method to detect when the user taps on a notification or action button\n  static Future<void> onActionReceivedMethod(\n      ReceivedAction receivedAction) async {\n    debugPrint('onActionReceivedMethod');\n    final payload = receivedAction.toString();\n    // final notificationId = payload['notification_id'];\n    log('Notification ID: $payload');\n  }\n\n  static Future<void> showNotification({\n    required final String title,\n    required final String body,\n    final String? summary,\n    final Map<String, String>? payload,\n    final ActionType actionType = ActionType.Default,\n    final NotificationLayout notificationLayout = NotificationLayout.Default,\n    final NotificationCategory? category,\n    final String? bigPicture,\n    final List<NotificationActionButton>? actionButtons,\n    final bool scheduled = false,\n    final int? interval,\n  }) async {\n    assert(!scheduled || (scheduled && interval != null));\n\n    await AwesomeNotifications().createNotification(\n      content: NotificationContent(\n        id: -1,\n        channelKey: 'high_importance_channel',\n        title: title,\n        body: body,\n        actionType: actionType,\n        notificationLayout: notificationLayout,\n        summary: summary,\n        category: category,\n        payload: payload,\n        bigPicture: bigPicture,\n      ),\n      actionButtons: actionButtons,\n      schedule: scheduled\n          ? NotificationInterval(\n              interval: interval,\n              timeZone:\n                  await AwesomeNotifications().getLocalTimeZoneIdentifier(),\n              preciseAlarm: true,\n            )\n          : null,\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "How can I ensure proper alignment of messages in my Flutter chat app?",
        "score": 0,
        "views": 69,
        "respostas": 0,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "google-cloud-firestore"
        ],
        "link": "https://stackoverflow.com/questions/78444687/how-can-i-ensure-proper-alignment-of-messages-in-my-flutter-chat-app",
        "conteudo_html": "<p>[in the image you see that two  uses  how there messages are]\n<a href=\"https://i.sstatic.net/oVeHZQA4.jpg\" rel=\"nofollow noreferrer\">1</a>I'm encountering a problem in my Flutter (Dart) code for a chat group I'm building. The issue arises in the chat screen where, upon testing, all messages appear on the right side, even when sent by different users.\nHow can I ensure proper alignment of messages in my Flutter chat app, where messages sent by different users appear on the correct side of the screen, and include relevant user information such as sender name and timestamp?\nI've included the relevant code snippets below. Any assistance would be greatly appreciated. Thank you!</p>\n<pre><code>\n\n\n\nString formatTime(DateTime time) {\n  return DateFormat('HH:mm').format(time);\n}\n\nclass Message {\n  final String id;\n  final String content;\n  final String senderId;\n  final String senderName;\n  final DateTime timestamp;\n  final String appogee;\n  final String cne;\n\n  Message({\n    required this.id,\n    required this.content,\n    required this.senderId,\n    required this.senderName,\n    required this.timestamp,\n    required this.appogee,\n    required this.cne,\n  });\n}\n\nclass MessageBubble extends StatelessWidget {\n  final Message message;\n  final bool isSentByCurrentUser;\n  final VoidCallback onDeletePressed;\n  final List&lt;QueryDocumentSnapshot&gt; chatGroupId;\n  final Key? key;\n\n  const MessageBubble({\n    this.key,\n    required this.message,\n    required this.isSentByCurrentUser,\n    required this.onDeletePressed,\n    required this.chatGroupId,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return GestureDetector(\n      onLongPress: () =&gt; _showMessageOptions(context, message, isSentByCurrentUser, chatGroupId),\n      child: Align(\n        alignment: isSentByCurrentUser ? Alignment.centerLeft : Alignment.centerRight,\n        child: _messageBubble(message, context),\n      ),\n    );\n  }\n\n  Widget _messageBubble(Message message, BuildContext context) {\n    return Row(\n      mainAxisAlignment: isSentByCurrentUser ? MainAxisAlignment.start : MainAxisAlignment.end,\n      children: [\n        if (!isSentByCurrentUser) ...[\n          Padding(\n            padding: const EdgeInsets.only(right: 8.0),\n            child: Text(\n              message.senderName,\n              style: TextStyle(\n                fontSize: 12,\n                color: Colors.grey[600],\n              ),\n            ),\n          ),\n        ],\n        Flexible(\n          child: Container(\n            padding: EdgeInsets.all(message.content.contains('https://') ? MediaQuery.of(context).size.width * .03 : MediaQuery.of(context).size.width * .04),\n            margin: EdgeInsets.symmetric(horizontal: MediaQuery.of(context).size.width * .04, vertical: MediaQuery.of(context).size.height * .01),\n            decoration: BoxDecoration(\n              color: isSentByCurrentUser ?  Colors.blueGrey : const Color.fromARGB(255, 33, 43, 48),\n              borderRadius: BorderRadius.only(\n                topLeft: Radius.circular(isSentByCurrentUser ? 0 : 30),\n                topRight: Radius.circular(isSentByCurrentUser ? 30 : 0),\n                bottomLeft: const Radius.circular(30),\n                bottomRight: const Radius.circular(30),\n              ),\n            ),\n            child: !message.content.contains('https://')\n                ? Text(\n                    message.content,\n                    style: TextStyle(fontSize: 15, color: isSentByCurrentUser ? Colors.black : Colors.white),\n                  )\n                : ClipRRect(\n                    borderRadius: BorderRadius.circular(15),\n                    child: Image.network(\n                      message.content,\n                      errorBuilder: (context, error, stackTrace) {\n                        return Icon(Icons.image, size: 70, color: isSentByCurrentUser ? Colors.black87 : Colors.white);\n                      },\n                      loadingBuilder: (context, child, loadingProgress) {\n                        if (loadingProgress == null) return child;\n                        return Center(\n                          child: CircularProgressIndicator(\n                            value: loadingProgress.expectedTotalBytes != null ? loadingProgress.cumulativeBytesLoaded / loadingProgress.expectedTotalBytes! : null,\n                          ),\n                        );\n                      },\n                    ),\n                  ),\n          ),\n        ),\n      ],\n    );\n  }\n\n  void _showMessageOptions(BuildContext context, Message message, bool isSentByCurrentUser, List&lt;QueryDocumentSnapshot&gt; chatGroupId) {\n    showDialog(\n      context: context,\n      builder: (BuildContext context) {\n        return AlertDialog(\n          title: const Text('Message Options'),\n          content: Column(\n            mainAxisSize: MainAxisSize.min,\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              Text('Content: ${message.content}'),\n              const SizedBox(height: 8),\n              Text('Sender: ${message.senderName}'),\n              const SizedBox(height: 8),\n              Text('Timestamp: ${message.timestamp}'),\n            ],\n          ),\n          actions: [\n            if (isSentByCurrentUser)\n              TextButton(\n                onPressed: () {\n                  Navigator.of(context).pop();\n                  _showMessageUpdateDialog(context, message, isSentByCurrentUser, chatGroupId);\n                },\n                child: const Text('Update'),\n              ),\n            TextButton(\n              onPressed: () {\n                Navigator.of(context).pop();\n                _deleteMessage(message.id, chatGroupId);\n              },\n              child: const Text('Delete'),\n            ),\n            TextButton(\n              onPressed: () {\n                Navigator.of(context).pop();\n              },\n              child: const Text('Close'),\n            ),\n          ],\n        );\n      },\n    );\n  }\n\n  void _showMessageUpdateDialog(BuildContext context, Message message, bool isSentByCurrentUser, List&lt;QueryDocumentSnapshot&gt; chatGroupId) {\n    String updatedMsg = message.content;\n\n    showDialog(\n      context: context,\n      builder: (_) =&gt; AlertDialog(\n        title: const Row(\n          children: [\n            Icon(\n              Icons.message,\n              color: Colors.blue,\n              size: 28,\n            ),\n            Text(' Update Message')\n          ],\n        ),\n        content: TextFormField(\n          initialValue: updatedMsg,\n          maxLines: null,\n          onChanged: (value) =&gt; updatedMsg = value,\n          decoration: InputDecoration(\n            border: OutlineInputBorder(\n              borderRadius: BorderRadius.circular(15),\n            ),\n          ),\n        ),\n        actions: [\n          MaterialButton(\n            onPressed: () {\n              Navigator.pop(context);\n            },\n            child: const Text(\n              'Cancel',\n              style: TextStyle(color: Colors.blue, fontSize: 16),\n            ),\n          ),\n          MaterialButton(\n            onPressed: () {\n              Navigator.pop(context);\n              _updateMessage(updatedMsg, message.id, chatGroupId);\n            },\n            child: const Text(\n              'Update',\n              style: TextStyle(color: Colors.blue, fontSize: 16),\n            ),\n          )\n        ],\n      ),\n    );\n  }\n\n  void _updateMessage(String updatedMsg, String messageId, List&lt;QueryDocumentSnapshot&gt; chatGroupId) {\n    FirebaseFirestore.instance\n      .collection('EST-groupes')\n      .doc(chatGroupId.isNotEmpty ? chatGroupId[0].id : null)\n      .collection('messages')\n      .doc(messageId)\n      .update({\n        'content': updatedMsg,\n      }).then((_) {\n        if (kDebugMode) {\n          print('Message updated successfully');\n        }\n      }).catchError((error) {\n        if (kDebugMode) {\n          print('Failed to update message: $error');\n        }\n      });\n  }\n\n  void _deleteMessage(String messageId, List&lt;QueryDocumentSnapshot&gt; chatGroupId) {\n    FirebaseFirestore.instance\n      .collection('EST-groupes')\n      .doc(chatGroupId.isNotEmpty ? chatGroupId[0].id : null)\n      .collection('messages')\n      .doc(messageId)\n      .delete()\n      .then((_) {\n        if (kDebugMode) {\n          print('Message deleted successfully');\n        }\n      })\n      .catchError((error) {\n        if (kDebugMode) {\n          print('Failed to delete message: $error');\n        }\n      });\n  }\n}\n\nclass CommunicationGroupPage extends StatefulWidget {\n  final String cne;\n  final String appogee;\n  final String filiere;\n  final int anneeScolaire;\n  final List&lt;QueryDocumentSnapshot&gt; chatGroupId;\n  final String senderName;\n\n  const CommunicationGroupPage({\n    required this.cne,\n    required this.appogee,\n    required this.filiere,\n    required this.anneeScolaire,\n    required this.chatGroupId,\n    required this.senderName,\n    super.key,\n  });\n\n  @override\n  _CommunicationGroupPageState createState() =&gt; _CommunicationGroupPageState();\n}\n\nclass _CommunicationGroupPageState extends State&lt;CommunicationGroupPage&gt; {\n  final TextEditingController _messageController = TextEditingController();\n  bool _isSendingMessage = false;\n  late FlutterSoundRecorder _audioRecorder;\n\n  @override\n  void initState() {\n    super.initState();\n    _audioRecorder = FlutterSoundRecorder();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Communication Group'),\n        backgroundColor: const Color.fromARGB(255, 255, 152, 0),\n      ),\n      body: Stack(\n        children: [\n          Image.asset(\n            'lib/images/pattdark.png',\n            width: double.infinity,\n            height: double.infinity,\n            fit: BoxFit.cover,\n          ),\n          Column(\n            children: [\n              Expanded(\n                child: _buildChatInterface(context),\n              ),\n              _buildChatInput(context),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildChatInterface(BuildContext context) {\n    return StreamBuilder(\n      stream: _getChatMessagesStream(),\n      builder: (context, AsyncSnapshot&lt;QuerySnapshot&gt; snapshot) {\n        if (snapshot.connectionState == ConnectionState.waiting) {\n          return const Center(child: CircularProgressIndicator());\n        }\n        if (!snapshot.hasData || snapshot.data!.docs.isEmpty) {\n          return const Center(child: Text('Say Hi! 👋'));\n        }\n\n        final List&lt;Message&gt; messages = snapshot.data!.docs.map((doc) {\n          final data = doc.data() as Map&lt;String, dynamic&gt;;\n          return Message(\n            id: doc.id,\n            content: data['content'] ?? '',\n            senderId: data['sender'] ?? '',\n            senderName: data['senderName'] ?? '',\n            timestamp: (data['timestamp'] as Timestamp).toDate(),\n            appogee: data['appogee'] ?? '',\n            cne: data['cne'] ?? '',\n          );\n        }).toList();\n\n        messages.sort((a, b) =&gt; a.timestamp.compareTo(b.timestamp));\n        return ListView.builder(\n          reverse: false,\n          itemCount: messages.length,\n          itemBuilder: (context, index) {\n            final message = messages[index];\n            final isSentByCurrentUser = message.senderId == widget.cne;\n            return MessageBubble(\n              message: message,\n              isSentByCurrentUser: isSentByCurrentUser,\n              onDeletePressed: () =&gt; _deleteMessage(message.id),\n              chatGroupId: widget.chatGroupId,\n            );\n          },\n        );\n      },\n    );\n  }\n\n  Stream&lt;QuerySnapshot&gt; _getChatMessagesStream() {\n    if (widget.chatGroupId.isEmpty) {\n      return FirebaseFirestore.instance.collection('EST-groupes').doc().collection('messages').orderBy('timestamp').snapshots();\n    } else {\n      return FirebaseFirestore.instance.collection('EST-groupes').doc(widget.chatGroupId[0].id).collection('messages').orderBy('timestamp').snapshots();\n    }\n  }\n\n  Widget _buildChatInput(BuildContext context) {\n    return Container(\n      padding: const EdgeInsets.all(8.0),\n      color: Colors.grey[200],\n      child: Row(\n        children: [\n          IconButton(\n            onPressed: () {\n              showModalBottomSheet(\n                context: context,\n                builder: (context) =&gt; EmojiPicker(\n                  onEmojiSelected: (category, emoji) {\n                    _messageController.text += emoji.emoji;\n                  },\n                ),\n              );\n            },\n            icon: const Icon(Icons.emoji_emotions),\n          ),\n          Expanded(\n            child: GestureDetector(\n              onTapDown: (_) {\n                _startRecordingVoiceMessage();\n              },\n              onTapUp: (_) {\n                _stopRecordingVoiceMessage();\n              },\n              onTapCancel: () {\n                _stopRecordingVoiceMessage();\n              },\n              child: TextField(\n                controller: _messageController,\n                decoration: InputDecoration(\n                  hintText: 'Type your message...',\n                  border: OutlineInputBorder(\n                    borderRadius: BorderRadius.circular(25.0),\n                    borderSide: BorderSide.none,\n                  ),\n                  filled: true,\n                  fillColor: Colors.white,\n                ),\n                onTap: () {\n                  setState(() {\n                    _isSendingMessage = true;\n                  });\n                },\n                onChanged: (text) {\n                  setState(() {\n                    _isSendingMessage = text.isNotEmpty;\n                  });\n                },\n                onSubmitted: (_) {\n                  if (_isSendingMessage) {\n                    _sendMessage(context);\n                  } else {\n                    _startRecordingVoiceMessage();\n                  }\n                },\n              ),\n            ),\n          ),\n          IconButton(\n            onPressed: () async {\n              FilePickerResult? result = await FilePicker.platform.pickFiles();\n              if (result != null) {\n                PlatformFile file = result.files.first;\n                _sendFileMessage(context, file);\n              }\n            },\n            icon: const Icon(Icons.attach_file),\n          ),\n          IconButton(\n            onPressed: () {\n              _sendMessage(context);\n              _messageController.clear();\n            },\n            icon: _isSendingMessage ? const Icon(Icons.send) : const Icon(Icons.mic),\n          ),\n        ],\n      ),\n    );\n  }\n\n  void _startRecordingVoiceMessage() async {\n    try {\n      await _audioRecorder.openRecorder();\n      await _audioRecorder.startRecorder(toFile: 'path_to_save_recording');\n    } catch (e) {\n      print('Error starting recording: $e');\n    }\n  }\n\n  void _stopRecordingVoiceMessage() async {\n    try {\n      await _audioRecorder.stopRecorder();\n      await _audioRecorder.closeRecorder();\n    } catch (e) {\n      print('Error stopping recording: $e');\n    }\n  }\n\n  void _sendFileMessage(BuildContext context, PlatformFile file) {\n    String senderName = widget.senderName;\n\n    if (kDebugMode) {\n      print('File selected: ${file.name}');\n    }\n    FirebaseFirestore.instance\n        .collection('EST-groupes')\n        .doc(widget.chatGroupId.isNotEmpty ? widget.chatGroupId[0].id : null)\n        .collection('messages')\n        .add({\n      'content': 'File selected: ${file.name}',\n      'sender': senderName,\n      'timestamp': DateTime.now(),\n    });\n  }\n\n  void _sendMessage(BuildContext context) async {\n    String messageText = _messageController.text.trim();\n    if (messageText.isNotEmpty) {\n      String senderName = widget.senderName;\n      try {\n        await FirebaseFirestore.instance\n            .collection('EST-groupes')\n            .doc(widget.chatGroupId.isNotEmpty ? widget.chatGroupId[0].id : null)\n            .collection('messages')\n            .add({\n          'content': messageText,\n          'sender': senderName,\n          'senderName': senderName,\n          'timestamp': DateTime.now(),\n        });\n        _messageController.clear();\n      } catch (e) {\n        if (kDebugMode) {\n          print('Failed to send message: $e');\n        }\n      }\n    }\n  }\n\n  Future&lt;void&gt; _deleteMessage(String messageId) async {\n    try {\n      await FirebaseFirestore.instance\n          .collection('EST-groupes')\n          .doc(widget.chatGroupId.isNotEmpty ? widget.chatGroupId[0].id : null)\n          .collection('messages')\n          .doc(messageId)\n          .delete();\n    } catch (e) {\n      if (kDebugMode) {\n        print('Failed to delete message: $e');\n      }\n    }\n  }\n}\n</code></pre>\n",
        "codigo": [
            "\n\n\n\nString formatTime(DateTime time) {\n  return DateFormat('HH:mm').format(time);\n}\n\nclass Message {\n  final String id;\n  final String content;\n  final String senderId;\n  final String senderName;\n  final DateTime timestamp;\n  final String appogee;\n  final String cne;\n\n  Message({\n    required this.id,\n    required this.content,\n    required this.senderId,\n    required this.senderName,\n    required this.timestamp,\n    required this.appogee,\n    required this.cne,\n  });\n}\n\nclass MessageBubble extends StatelessWidget {\n  final Message message;\n  final bool isSentByCurrentUser;\n  final VoidCallback onDeletePressed;\n  final List<QueryDocumentSnapshot> chatGroupId;\n  final Key? key;\n\n  const MessageBubble({\n    this.key,\n    required this.message,\n    required this.isSentByCurrentUser,\n    required this.onDeletePressed,\n    required this.chatGroupId,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return GestureDetector(\n      onLongPress: () => _showMessageOptions(context, message, isSentByCurrentUser, chatGroupId),\n      child: Align(\n        alignment: isSentByCurrentUser ? Alignment.centerLeft : Alignment.centerRight,\n        child: _messageBubble(message, context),\n      ),\n    );\n  }\n\n  Widget _messageBubble(Message message, BuildContext context) {\n    return Row(\n      mainAxisAlignment: isSentByCurrentUser ? MainAxisAlignment.start : MainAxisAlignment.end,\n      children: [\n        if (!isSentByCurrentUser) ...[\n          Padding(\n            padding: const EdgeInsets.only(right: 8.0),\n            child: Text(\n              message.senderName,\n              style: TextStyle(\n                fontSize: 12,\n                color: Colors.grey[600],\n              ),\n            ),\n          ),\n        ],\n        Flexible(\n          child: Container(\n            padding: EdgeInsets.all(message.content.contains('https://') ? MediaQuery.of(context).size.width * .03 : MediaQuery.of(context).size.width * .04),\n            margin: EdgeInsets.symmetric(horizontal: MediaQuery.of(context).size.width * .04, vertical: MediaQuery.of(context).size.height * .01),\n            decoration: BoxDecoration(\n              color: isSentByCurrentUser ?  Colors.blueGrey : const Color.fromARGB(255, 33, 43, 48),\n              borderRadius: BorderRadius.only(\n                topLeft: Radius.circular(isSentByCurrentUser ? 0 : 30),\n                topRight: Radius.circular(isSentByCurrentUser ? 30 : 0),\n                bottomLeft: const Radius.circular(30),\n                bottomRight: const Radius.circular(30),\n              ),\n            ),\n            child: !message.content.contains('https://')\n                ? Text(\n                    message.content,\n                    style: TextStyle(fontSize: 15, color: isSentByCurrentUser ? Colors.black : Colors.white),\n                  )\n                : ClipRRect(\n                    borderRadius: BorderRadius.circular(15),\n                    child: Image.network(\n                      message.content,\n                      errorBuilder: (context, error, stackTrace) {\n                        return Icon(Icons.image, size: 70, color: isSentByCurrentUser ? Colors.black87 : Colors.white);\n                      },\n                      loadingBuilder: (context, child, loadingProgress) {\n                        if (loadingProgress == null) return child;\n                        return Center(\n                          child: CircularProgressIndicator(\n                            value: loadingProgress.expectedTotalBytes != null ? loadingProgress.cumulativeBytesLoaded / loadingProgress.expectedTotalBytes! : null,\n                          ),\n                        );\n                      },\n                    ),\n                  ),\n          ),\n        ),\n      ],\n    );\n  }\n\n  void _showMessageOptions(BuildContext context, Message message, bool isSentByCurrentUser, List<QueryDocumentSnapshot> chatGroupId) {\n    showDialog(\n      context: context,\n      builder: (BuildContext context) {\n        return AlertDialog(\n          title: const Text('Message Options'),\n          content: Column(\n            mainAxisSize: MainAxisSize.min,\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              Text('Content: ${message.content}'),\n              const SizedBox(height: 8),\n              Text('Sender: ${message.senderName}'),\n              const SizedBox(height: 8),\n              Text('Timestamp: ${message.timestamp}'),\n            ],\n          ),\n          actions: [\n            if (isSentByCurrentUser)\n              TextButton(\n                onPressed: () {\n                  Navigator.of(context).pop();\n                  _showMessageUpdateDialog(context, message, isSentByCurrentUser, chatGroupId);\n                },\n                child: const Text('Update'),\n              ),\n            TextButton(\n              onPressed: () {\n                Navigator.of(context).pop();\n                _deleteMessage(message.id, chatGroupId);\n              },\n              child: const Text('Delete'),\n            ),\n            TextButton(\n              onPressed: () {\n                Navigator.of(context).pop();\n              },\n              child: const Text('Close'),\n            ),\n          ],\n        );\n      },\n    );\n  }\n\n  void _showMessageUpdateDialog(BuildContext context, Message message, bool isSentByCurrentUser, List<QueryDocumentSnapshot> chatGroupId) {\n    String updatedMsg = message.content;\n\n    showDialog(\n      context: context,\n      builder: (_) => AlertDialog(\n        title: const Row(\n          children: [\n            Icon(\n              Icons.message,\n              color: Colors.blue,\n              size: 28,\n            ),\n            Text(' Update Message')\n          ],\n        ),\n        content: TextFormField(\n          initialValue: updatedMsg,\n          maxLines: null,\n          onChanged: (value) => updatedMsg = value,\n          decoration: InputDecoration(\n            border: OutlineInputBorder(\n              borderRadius: BorderRadius.circular(15),\n            ),\n          ),\n        ),\n        actions: [\n          MaterialButton(\n            onPressed: () {\n              Navigator.pop(context);\n            },\n            child: const Text(\n              'Cancel',\n              style: TextStyle(color: Colors.blue, fontSize: 16),\n            ),\n          ),\n          MaterialButton(\n            onPressed: () {\n              Navigator.pop(context);\n              _updateMessage(updatedMsg, message.id, chatGroupId);\n            },\n            child: const Text(\n              'Update',\n              style: TextStyle(color: Colors.blue, fontSize: 16),\n            ),\n          )\n        ],\n      ),\n    );\n  }\n\n  void _updateMessage(String updatedMsg, String messageId, List<QueryDocumentSnapshot> chatGroupId) {\n    FirebaseFirestore.instance\n      .collection('EST-groupes')\n      .doc(chatGroupId.isNotEmpty ? chatGroupId[0].id : null)\n      .collection('messages')\n      .doc(messageId)\n      .update({\n        'content': updatedMsg,\n      }).then((_) {\n        if (kDebugMode) {\n          print('Message updated successfully');\n        }\n      }).catchError((error) {\n        if (kDebugMode) {\n          print('Failed to update message: $error');\n        }\n      });\n  }\n\n  void _deleteMessage(String messageId, List<QueryDocumentSnapshot> chatGroupId) {\n    FirebaseFirestore.instance\n      .collection('EST-groupes')\n      .doc(chatGroupId.isNotEmpty ? chatGroupId[0].id : null)\n      .collection('messages')\n      .doc(messageId)\n      .delete()\n      .then((_) {\n        if (kDebugMode) {\n          print('Message deleted successfully');\n        }\n      })\n      .catchError((error) {\n        if (kDebugMode) {\n          print('Failed to delete message: $error');\n        }\n      });\n  }\n}\n\nclass CommunicationGroupPage extends StatefulWidget {\n  final String cne;\n  final String appogee;\n  final String filiere;\n  final int anneeScolaire;\n  final List<QueryDocumentSnapshot> chatGroupId;\n  final String senderName;\n\n  const CommunicationGroupPage({\n    required this.cne,\n    required this.appogee,\n    required this.filiere,\n    required this.anneeScolaire,\n    required this.chatGroupId,\n    required this.senderName,\n    super.key,\n  });\n\n  @override\n  _CommunicationGroupPageState createState() => _CommunicationGroupPageState();\n}\n\nclass _CommunicationGroupPageState extends State<CommunicationGroupPage> {\n  final TextEditingController _messageController = TextEditingController();\n  bool _isSendingMessage = false;\n  late FlutterSoundRecorder _audioRecorder;\n\n  @override\n  void initState() {\n    super.initState();\n    _audioRecorder = FlutterSoundRecorder();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Communication Group'),\n        backgroundColor: const Color.fromARGB(255, 255, 152, 0),\n      ),\n      body: Stack(\n        children: [\n          Image.asset(\n            'lib/images/pattdark.png',\n            width: double.infinity,\n            height: double.infinity,\n            fit: BoxFit.cover,\n          ),\n          Column(\n            children: [\n              Expanded(\n                child: _buildChatInterface(context),\n              ),\n              _buildChatInput(context),\n            ],\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildChatInterface(BuildContext context) {\n    return StreamBuilder(\n      stream: _getChatMessagesStream(),\n      builder: (context, AsyncSnapshot<QuerySnapshot> snapshot) {\n        if (snapshot.connectionState == ConnectionState.waiting) {\n          return const Center(child: CircularProgressIndicator());\n        }\n        if (!snapshot.hasData || snapshot.data!.docs.isEmpty) {\n          return const Center(child: Text('Say Hi! 👋'));\n        }\n\n        final List<Message> messages = snapshot.data!.docs.map((doc) {\n          final data = doc.data() as Map<String, dynamic>;\n          return Message(\n            id: doc.id,\n            content: data['content'] ?? '',\n            senderId: data['sender'] ?? '',\n            senderName: data['senderName'] ?? '',\n            timestamp: (data['timestamp'] as Timestamp).toDate(),\n            appogee: data['appogee'] ?? '',\n            cne: data['cne'] ?? '',\n          );\n        }).toList();\n\n        messages.sort((a, b) => a.timestamp.compareTo(b.timestamp));\n        return ListView.builder(\n          reverse: false,\n          itemCount: messages.length,\n          itemBuilder: (context, index) {\n            final message = messages[index];\n            final isSentByCurrentUser = message.senderId == widget.cne;\n            return MessageBubble(\n              message: message,\n              isSentByCurrentUser: isSentByCurrentUser,\n              onDeletePressed: () => _deleteMessage(message.id),\n              chatGroupId: widget.chatGroupId,\n            );\n          },\n        );\n      },\n    );\n  }\n\n  Stream<QuerySnapshot> _getChatMessagesStream() {\n    if (widget.chatGroupId.isEmpty) {\n      return FirebaseFirestore.instance.collection('EST-groupes').doc().collection('messages').orderBy('timestamp').snapshots();\n    } else {\n      return FirebaseFirestore.instance.collection('EST-groupes').doc(widget.chatGroupId[0].id).collection('messages').orderBy('timestamp').snapshots();\n    }\n  }\n\n  Widget _buildChatInput(BuildContext context) {\n    return Container(\n      padding: const EdgeInsets.all(8.0),\n      color: Colors.grey[200],\n      child: Row(\n        children: [\n          IconButton(\n            onPressed: () {\n              showModalBottomSheet(\n                context: context,\n                builder: (context) => EmojiPicker(\n                  onEmojiSelected: (category, emoji) {\n                    _messageController.text += emoji.emoji;\n                  },\n                ),\n              );\n            },\n            icon: const Icon(Icons.emoji_emotions),\n          ),\n          Expanded(\n            child: GestureDetector(\n              onTapDown: (_) {\n                _startRecordingVoiceMessage();\n              },\n              onTapUp: (_) {\n                _stopRecordingVoiceMessage();\n              },\n              onTapCancel: () {\n                _stopRecordingVoiceMessage();\n              },\n              child: TextField(\n                controller: _messageController,\n                decoration: InputDecoration(\n                  hintText: 'Type your message...',\n                  border: OutlineInputBorder(\n                    borderRadius: BorderRadius.circular(25.0),\n                    borderSide: BorderSide.none,\n                  ),\n                  filled: true,\n                  fillColor: Colors.white,\n                ),\n                onTap: () {\n                  setState(() {\n                    _isSendingMessage = true;\n                  });\n                },\n                onChanged: (text) {\n                  setState(() {\n                    _isSendingMessage = text.isNotEmpty;\n                  });\n                },\n                onSubmitted: (_) {\n                  if (_isSendingMessage) {\n                    _sendMessage(context);\n                  } else {\n                    _startRecordingVoiceMessage();\n                  }\n                },\n              ),\n            ),\n          ),\n          IconButton(\n            onPressed: () async {\n              FilePickerResult? result = await FilePicker.platform.pickFiles();\n              if (result != null) {\n                PlatformFile file = result.files.first;\n                _sendFileMessage(context, file);\n              }\n            },\n            icon: const Icon(Icons.attach_file),\n          ),\n          IconButton(\n            onPressed: () {\n              _sendMessage(context);\n              _messageController.clear();\n            },\n            icon: _isSendingMessage ? const Icon(Icons.send) : const Icon(Icons.mic),\n          ),\n        ],\n      ),\n    );\n  }\n\n  void _startRecordingVoiceMessage() async {\n    try {\n      await _audioRecorder.openRecorder();\n      await _audioRecorder.startRecorder(toFile: 'path_to_save_recording');\n    } catch (e) {\n      print('Error starting recording: $e');\n    }\n  }\n\n  void _stopRecordingVoiceMessage() async {\n    try {\n      await _audioRecorder.stopRecorder();\n      await _audioRecorder.closeRecorder();\n    } catch (e) {\n      print('Error stopping recording: $e');\n    }\n  }\n\n  void _sendFileMessage(BuildContext context, PlatformFile file) {\n    String senderName = widget.senderName;\n\n    if (kDebugMode) {\n      print('File selected: ${file.name}');\n    }\n    FirebaseFirestore.instance\n        .collection('EST-groupes')\n        .doc(widget.chatGroupId.isNotEmpty ? widget.chatGroupId[0].id : null)\n        .collection('messages')\n        .add({\n      'content': 'File selected: ${file.name}',\n      'sender': senderName,\n      'timestamp': DateTime.now(),\n    });\n  }\n\n  void _sendMessage(BuildContext context) async {\n    String messageText = _messageController.text.trim();\n    if (messageText.isNotEmpty) {\n      String senderName = widget.senderName;\n      try {\n        await FirebaseFirestore.instance\n            .collection('EST-groupes')\n            .doc(widget.chatGroupId.isNotEmpty ? widget.chatGroupId[0].id : null)\n            .collection('messages')\n            .add({\n          'content': messageText,\n          'sender': senderName,\n          'senderName': senderName,\n          'timestamp': DateTime.now(),\n        });\n        _messageController.clear();\n      } catch (e) {\n        if (kDebugMode) {\n          print('Failed to send message: $e');\n        }\n      }\n    }\n  }\n\n  Future<void> _deleteMessage(String messageId) async {\n    try {\n      await FirebaseFirestore.instance\n          .collection('EST-groupes')\n          .doc(widget.chatGroupId.isNotEmpty ? widget.chatGroupId[0].id : null)\n          .collection('messages')\n          .doc(messageId)\n          .delete();\n    } catch (e) {\n      if (kDebugMode) {\n        print('Failed to delete message: $e');\n      }\n    }\n  }\n}\n"
        ]
    },
    {
        "titulo": "Error running flutter app on emulator after first run",
        "score": 3,
        "views": 2774,
        "respostas": 3,
        "tags": [
            "android",
            "flutter",
            "dart",
            "android-studio"
        ],
        "link": "https://stackoverflow.com/questions/78438564/error-running-flutter-app-on-emulator-after-first-run",
        "conteudo_html": "<p>When I ran my flutter app on an android emulator for the first time it ran smoothly. However, after the first launch, it shows an error.\nHere is the error:</p>\n<pre><code>✓  Built build/app/outputs/flutter-apk/app-debug.apk.\nI/ample.food_fete( 6664): Compiler allocated 4533KB to compile void android.view.ViewRootImpl.performTraversals()\nConnecting to VM Service at ws://127.0.0.1:41429/ZIJH4M0Maio=/ws\n9\nE/emuglGLESv2_enc( 6664): device/generic/goldfish-opengl/system/GLESv2_enc/GL2Encoder.cpp:s_glGetUniformLocation:2183 GL error 0x502\nW/Parcel  ( 6664): Expecting binder but got null!\n\n</code></pre>\n<p>I have tried to uninstall android studio updating things to the latest but this problem persists. Is there anyone who can help me?</p>\n",
        "codigo": [
            "✓  Built build/app/outputs/flutter-apk/app-debug.apk.\nI/ample.food_fete( 6664): Compiler allocated 4533KB to compile void android.view.ViewRootImpl.performTraversals()\nConnecting to VM Service at ws://127.0.0.1:41429/ZIJH4M0Maio=/ws\n9\nE/emuglGLESv2_enc( 6664): device/generic/goldfish-opengl/system/GLESv2_enc/GL2Encoder.cpp:s_glGetUniformLocation:2183 GL error 0x502\nW/Parcel  ( 6664): Expecting binder but got null!\n\n"
        ]
    },
    {
        "titulo": "Issue with using dot character in keynames flutter sharedpreferences fails test case",
        "score": 0,
        "views": 48,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "sharedpreferences"
        ],
        "link": "https://stackoverflow.com/questions/78429856/issue-with-using-dot-character-in-keynames-flutter-sharedpreferences-fails-test",
        "conteudo_html": "<p>I am saving a list of names to shared preference in flutter, the scenario is previously the application was saving a list of names under a key &quot;flutter.savedName&quot;, but the request has changed to get all the previously saved names under &quot;flutter.savedName&quot; and save under key &quot;models&quot;, the following is the code</p>\n<pre><code>  Future&lt;void&gt; migratePreviousName() async {\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    List&lt;String&gt; namelist = prefs.getStringList(&quot;flutter.savedName&quot;) ?? [];\n    if (namelist.isNotEmpty) {\n      prefs.remove(&quot;flutter.savedName&quot;);\n      await addNames(namelist);\n    }\n  }\n\n  Future&lt;void&gt; addNames(List&lt;String&gt; models) async {\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    List&lt;String&gt;? namelist = (await getAllNames() as List&lt;String&gt;?) ?? [];\n    namelist.addAll(models);\n    prefs.setStringList(&quot;models&quot;, namelist.toList());\n  }\n\n  Future&lt;List&lt;String&gt;&gt; getAllNames() async {\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    return prefs.getStringList(&quot;models&quot;) ?? [];\n  }\n</code></pre>\n<p>and the following is the test case,</p>\n<pre><code>   test(\n      'Migrate Names',\n      () async {\n        SharedPreferences.setMockInitialValues({\n          &quot;flutter.savedName&quot;: [&quot;Nokia&quot;, &quot;Pixel&quot;].toList()\n        });\n        await handler.migratePreviousName();\n        await handler.addNames([&quot;iPhone&quot;, &quot;Samsung&quot;]);\n        final list = await handler.getAllNames();\n        expect(list.length, 4);\n      },\n    );\n</code></pre>\n<p>The test case is failing , but if I change the key name from <strong>&quot;flutter.savedName&quot;</strong> to <strong>&quot;savedName&quot;</strong>, the test case passes. Since the key is existing I need to use <strong>&quot;flutter.savedName&quot;</strong>, Understand it is due to the dot in the key name. Is there a solution ?</p>\n",
        "codigo": [
            "  Future<void> migratePreviousName() async {\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    List<String> namelist = prefs.getStringList(\"flutter.savedName\") ?? [];\n    if (namelist.isNotEmpty) {\n      prefs.remove(\"flutter.savedName\");\n      await addNames(namelist);\n    }\n  }\n\n  Future<void> addNames(List<String> models) async {\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    List<String>? namelist = (await getAllNames() as List<String>?) ?? [];\n    namelist.addAll(models);\n    prefs.setStringList(\"models\", namelist.toList());\n  }\n\n  Future<List<String>> getAllNames() async {\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    return prefs.getStringList(\"models\") ?? [];\n  }\n",
            "   test(\n      'Migrate Names',\n      () async {\n        SharedPreferences.setMockInitialValues({\n          \"flutter.savedName\": [\"Nokia\", \"Pixel\"].toList()\n        });\n        await handler.migratePreviousName();\n        await handler.addNames([\"iPhone\", \"Samsung\"]);\n        final list = await handler.getAllNames();\n        expect(list.length, 4);\n      },\n    );\n"
        ]
    },
    {
        "titulo": "`dart run` fails logging `Compilation did not produce any result...` and crashes with `PathNotFoundException`",
        "score": 1,
        "views": 141,
        "respostas": 2,
        "tags": [
            "dart",
            "server",
            "dart-shelf"
        ],
        "link": "https://stackoverflow.com/questions/78428366/dart-run-fails-logging-compilation-did-not-produce-any-result-and-crashes",
        "conteudo_html": "<p>I'm getting the following while trying to run my API built with Dart on the Ubuntu server:</p>\n<pre class=\"lang-none prettyprint-override\"><code>root@veyilserver:~/veyilapi# dart run\n\nBuilding package executable... (17.7s)\nCompilation did not produce any result. Expected file at /root/veyilapi/.dart_tool/pub/bin/veyilapi/tmpCNPJMW/veyilapi.dart-3.3.4.snapshot.incremental.temp\nBuilt veyilapi:veyilapi.\nCannot rename file to '/root/veyilapi/.dart_tool/pub/bin/veyilapi/veyilapi.dart-3.3.4.snapshot', path = '/root/veyilapi/.dart_tool/pub/bin/veyilapi/tmpCNPJMW/veyilapi.dart-3.3.4.snapshot.incremental.temp' (OS Error: No such file or directory, errno = 2)\nPathNotFoundException: Cannot rename file to '/root/veyilapi/.dart_tool/pub/bin/veyilapi/veyilapi.dart-3.3.4.snapshot', path = '/root/veyilapi/.dart_tool/pub/bin/veyilapi/tmpCNPJMW/veyilapi.dart-3.3.4.snapshot.incremental.temp' (OS Error: No such file or directory, errno = 2)\n</code></pre>\n<p>Everything was functioning perfectly until I restarted the server yesterday. Now, it's completely broken. I tried uninstalling and reinstalling Dart SDK, also tried using a earlier versions (3.3.0 and 3.0.0) , couldn't get over this one.</p>\n<p>Can somebody help with a workaround please?</p>\n<p>I'm sorry but I'm kind of not sure if this is an issue with the language or Dart VM.</p>\n<p>Here's more info about the server and Dart versions I'm using:</p>\n<h2>Dart version and tooling diagnostic info (<code>dart info</code>)</h2>\n<h4>General info</h4>\n<ul>\n<li><code>Dart 3.3.4 (stable) (None) on &quot;linux_x64&quot;</code></li>\n<li><code>on linux / Linux 6.5.0-28-generic #29-Ubuntu SMP PREEMPT_DYNAMIC Thu Mar 28 23:46:48 UTC 2024</code></li>\n<li><code>locale is C.UTF-8</code></li>\n</ul>\n<h4>Process info</h4>\n<p>No Dart processes found.</p>\n<h2>Operating System</h2>\n<p>Ubuntu 23.10 x64</p>\n<h2>Pubspec.yaml</h2>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: veyilapi\ndescription: A simple server setup\nversion: 1.0.0\n\nenvironment:\n  sdk: &quot;&gt;=3.0.0&quot;\n\ndependencies:\n  args: ^2.5.0\n  shelf: ^1.4.1\n  shelf_router: ^1.1.4\n  http: ^1.2.1\n\ndev_dependencies:\n  lints: ^3.0.0\n  test: ^1.25.4\n</code></pre>\n<p>Also, when I tried to run <code>dart compile</code> the following error occurred:</p>\n<pre><code>root@veyilserver:~/veyilapi# dart compile exe bin/veyilapi.dart \nError: AOT compilation failed\nGenerating AOT kernel dill failed!\n</code></pre>\n<hr />\n<h2>What have I already done?</h2>\n<ol start=\"0\">\n<li>Made sure all dependencies are upto date.</li>\n<li>Checked <code>.dart_tools</code> and found its empty.</li>\n<li>Deleted <code>.dart_tools</code> and ran <code>dart pub get</code>.</li>\n<li>Searched around the Internet and found an issue containing similar text <a href=\"https://github.com/dart-lang/sdk/issues/55453\" rel=\"nofollow noreferrer\">dart-lang/sdk#55453</a> which led me to this particular line in the <a href=\"https://github.com/dart-lang/pub/blob/be6868ba132c782d9835b1638a634ecb73428579/lib/src/dart.dart#L165\" rel=\"nofollow noreferrer\">dart-lang/pub</a> repository that logs the particular error line.</li>\n<li>Filed a new issue <a href=\"https://github.com/dart-lang/sdk/issues/55639\" rel=\"nofollow noreferrer\">dart-lang/sdk#55639</a></li>\n<li>Uninstalled Dart SDK from the server and reinstalled.</li>\n<li>Downgraded Dart SDK to older versions and checked if it works.</li>\n<li>(May 5, 06:43) Tried running <code>dart pub cache clean</code> -&gt; <code>dart pub get</code> -&gt; <code>dart run</code></li>\n</ol>\n",
        "codigo": [
            "root@veyilserver:~/veyilapi# dart run\n\nBuilding package executable... (17.7s)\nCompilation did not produce any result. Expected file at /root/veyilapi/.dart_tool/pub/bin/veyilapi/tmpCNPJMW/veyilapi.dart-3.3.4.snapshot.incremental.temp\nBuilt veyilapi:veyilapi.\nCannot rename file to '/root/veyilapi/.dart_tool/pub/bin/veyilapi/veyilapi.dart-3.3.4.snapshot', path = '/root/veyilapi/.dart_tool/pub/bin/veyilapi/tmpCNPJMW/veyilapi.dart-3.3.4.snapshot.incremental.temp' (OS Error: No such file or directory, errno = 2)\nPathNotFoundException: Cannot rename file to '/root/veyilapi/.dart_tool/pub/bin/veyilapi/veyilapi.dart-3.3.4.snapshot', path = '/root/veyilapi/.dart_tool/pub/bin/veyilapi/tmpCNPJMW/veyilapi.dart-3.3.4.snapshot.incremental.temp' (OS Error: No such file or directory, errno = 2)\n",
            "dart info",
            "Dart 3.3.4 (stable) (None) on \"linux_x64\"",
            "on linux / Linux 6.5.0-28-generic #29-Ubuntu SMP PREEMPT_DYNAMIC Thu Mar 28 23:46:48 UTC 2024",
            "locale is C.UTF-8",
            "name: veyilapi\ndescription: A simple server setup\nversion: 1.0.0\n\nenvironment:\n  sdk: \">=3.0.0\"\n\ndependencies:\n  args: ^2.5.0\n  shelf: ^1.4.1\n  shelf_router: ^1.1.4\n  http: ^1.2.1\n\ndev_dependencies:\n  lints: ^3.0.0\n  test: ^1.25.4\n",
            "dart compile",
            "root@veyilserver:~/veyilapi# dart compile exe bin/veyilapi.dart \nError: AOT compilation failed\nGenerating AOT kernel dill failed!\n",
            ".dart_tools",
            ".dart_tools",
            "dart pub get",
            "dart pub cache clean",
            "dart pub get",
            "dart run"
        ]
    },
    {
        "titulo": "build flutter project on arch linux got error: &quot; Dart Error: Can&#39;t load Kernel binary: Invalid SDK hash.&quot;",
        "score": 0,
        "views": 169,
        "respostas": 1,
        "tags": [
            "linux",
            "flutter",
            "dart",
            "archlinux"
        ],
        "link": "https://stackoverflow.com/questions/78426106/build-flutter-project-on-arch-linux-got-error-dart-error-cant-load-kernel-b",
        "conteudo_html": "<p>all error info :</p>\n<pre><code>[ERROR:flutter/shell/common/shell.cc(117)] Dart Error: Can't load Kernel binary: Invalid SDK hash.\n[ERROR:flutter/runtime/dart_isolate.cc(144)] Could not prepare isolate.\n[ERROR:flutter/runtime/runtime_controller.cc(462)] Could not create root isolate.\n[ERROR:flutter/shell/common/shell.cc(669)] Could not launch engine with configuration.\n</code></pre>\n<p>flutter doctor info</p>\n<pre><code>    • Flutter version 3.19.6 on channel stable at /home/bluearc/local/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 54e66469a9 (2 weeks ago), 2024-04-17 13:08:03 -0700\n    • Engine revision c4cd48e186\n    • Dart version 3.3.4\n    • DevTools version 2.31.1\n\n[✗] Android toolchain - develop for Android devices\n    ✗ Unable to locate Android SDK.\n      Install Android Studio from: https://developer.android.com/studio/index.html\n      On first launch it will assist you in installing the Android SDK components.\n      (or visit https://flutter.dev/docs/get-started/install/linux#android-setup for detailed instructions).\n      If the Android SDK has been installed to a custom location, please use\n      `flutter config --android-sdk` to update to that location.\n\n\n[✓] Chrome - develop for the web\n    • CHROME_EXECUTABLE = /usr/bin/google-chrome-stable\n\n[✓] Linux toolchain - develop for Linux desktop\n    • clang version 17.0.6\n    • cmake version 3.29.2\n    • ninja version 1.11.1\n    • pkg-config version 2.1.0\n\n[!] Android Studio (not installed)\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\n      (or visit https://flutter.dev/docs/get-started/install/linux#android-setup for detailed instructions).\n\n[✓] Connected device (2 available)\n    • Linux (desktop) • linux  • linux-x64      • Arch Linux 6.6.8-arch1-1\n    • Chrome (web)    • chrome • web-javascript • Google Chrome 122.0.6261.111\n\n[✓] Network resources\n    • All expected network resources are available.\n</code></pre>\n<p>First, I mistakenly deleted my Flutter SDK folder. Then, I reinstalled it with the new version SDK from flutter.dev but forgot to remove the config files and cache before reinstalling. Now, every Flutter project (including examples) builds for Linux will encounter this error, but web builds are fine. After that, I deleted the SDK and removed all config and cache files to reinstall, but it didn't run.</p>\n<p>I changed my Flutter channel to <code>main</code>, but it didn't solve the issue.</p>\n<p>I also tried to reinstall the Flutter SDK using pacman, but encountered another error:</p>\n<pre><code>Unexpected Kernel Format Version 117 (expected 114)\n#0      BinaryBuilder.readComponent.&lt;anonymous closure&gt; (package:kernel/binary/ast_from_binary.dart:692)\n#1      Timeline.timeSync (dart:developer/timeline.dart:173)\n#2      BinaryBuilder.readComponent (package:kernel/binary/ast_from_binary.dart:679)\n#3      _InitializationFromSdkSummary._prepareSummary (package:front_end/src/fasta/incremental_compiler.dart:2503)\n#4      _InitializationFromUri.initialize (package:front_end/src/fasta/incremental_compiler.dart:2577)\n&lt;asynchronous suspension&gt;\n#5      IncrementalCompiler._ensurePlatformAndInitialize (package:front_end/src/fasta/incremental_compiler.dart:1383)\n&lt;asynchronous suspension&gt;\n#6      IncrementalCompiler.computeDelta.&lt;anonymous closure&gt; (package:front_end/src/fasta/incremental_compiler.dart:270)\n&lt;asynchronous suspension&gt;\n#7      CompilerContext.clear (package:front_end/src/fasta/compiler_context.dart:139)\n&lt;asynchronous suspension&gt;\n#8      IncrementalCompiler.compile (package:vm/incremental_compiler.dart:77)\n&lt;asynchronous suspension&gt;\n#9      FrontendCompiler.compile (package:frontend_server/frontend_server.dart:610)\n&lt;asynchronous suspension&gt;\n#10     listenAndCompile.&lt;anonymous closure&gt; (package:frontend_server/frontend_server.dart:1303)\n&lt;asynchronous suspension&gt;\nthe Dart compiler exited unexpectedly.\nthe Dart compiler exited unexpectedly.\nthe Dart compiler exited unexpectedly.\n</code></pre>\n<p>Methods from comments on this ：https://aur.archlinux.org/packages/flutter-tool, couldn't solve the.</p>\n<p>A smaller question I saw there: <a href=\"https://stackoverflow.com/questions/67074432/cant-load-kernel-binary-invalid-sdk-hash-in-flutter\">Can&#39;t load Kernel binary: Invalid SDK hash in Flutter</a>, but there's something different. Just like: when I run dart fix, I don't get an error, or I don't have another Dart</p>\n<p>I'll soon reach my deadline. Thank you very much for your help.</p>\n",
        "codigo": [
            "[ERROR:flutter/shell/common/shell.cc(117)] Dart Error: Can't load Kernel binary: Invalid SDK hash.\n[ERROR:flutter/runtime/dart_isolate.cc(144)] Could not prepare isolate.\n[ERROR:flutter/runtime/runtime_controller.cc(462)] Could not create root isolate.\n[ERROR:flutter/shell/common/shell.cc(669)] Could not launch engine with configuration.\n",
            "    • Flutter version 3.19.6 on channel stable at /home/bluearc/local/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 54e66469a9 (2 weeks ago), 2024-04-17 13:08:03 -0700\n    • Engine revision c4cd48e186\n    • Dart version 3.3.4\n    • DevTools version 2.31.1\n\n[✗] Android toolchain - develop for Android devices\n    ✗ Unable to locate Android SDK.\n      Install Android Studio from: https://developer.android.com/studio/index.html\n      On first launch it will assist you in installing the Android SDK components.\n      (or visit https://flutter.dev/docs/get-started/install/linux#android-setup for detailed instructions).\n      If the Android SDK has been installed to a custom location, please use\n      `flutter config --android-sdk` to update to that location.\n\n\n[✓] Chrome - develop for the web\n    • CHROME_EXECUTABLE = /usr/bin/google-chrome-stable\n\n[✓] Linux toolchain - develop for Linux desktop\n    • clang version 17.0.6\n    • cmake version 3.29.2\n    • ninja version 1.11.1\n    • pkg-config version 2.1.0\n\n[!] Android Studio (not installed)\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\n      (or visit https://flutter.dev/docs/get-started/install/linux#android-setup for detailed instructions).\n\n[✓] Connected device (2 available)\n    • Linux (desktop) • linux  • linux-x64      • Arch Linux 6.6.8-arch1-1\n    • Chrome (web)    • chrome • web-javascript • Google Chrome 122.0.6261.111\n\n[✓] Network resources\n    • All expected network resources are available.\n",
            "main",
            "Unexpected Kernel Format Version 117 (expected 114)\n#0      BinaryBuilder.readComponent.<anonymous closure> (package:kernel/binary/ast_from_binary.dart:692)\n#1      Timeline.timeSync (dart:developer/timeline.dart:173)\n#2      BinaryBuilder.readComponent (package:kernel/binary/ast_from_binary.dart:679)\n#3      _InitializationFromSdkSummary._prepareSummary (package:front_end/src/fasta/incremental_compiler.dart:2503)\n#4      _InitializationFromUri.initialize (package:front_end/src/fasta/incremental_compiler.dart:2577)\n<asynchronous suspension>\n#5      IncrementalCompiler._ensurePlatformAndInitialize (package:front_end/src/fasta/incremental_compiler.dart:1383)\n<asynchronous suspension>\n#6      IncrementalCompiler.computeDelta.<anonymous closure> (package:front_end/src/fasta/incremental_compiler.dart:270)\n<asynchronous suspension>\n#7      CompilerContext.clear (package:front_end/src/fasta/compiler_context.dart:139)\n<asynchronous suspension>\n#8      IncrementalCompiler.compile (package:vm/incremental_compiler.dart:77)\n<asynchronous suspension>\n#9      FrontendCompiler.compile (package:frontend_server/frontend_server.dart:610)\n<asynchronous suspension>\n#10     listenAndCompile.<anonymous closure> (package:frontend_server/frontend_server.dart:1303)\n<asynchronous suspension>\nthe Dart compiler exited unexpectedly.\nthe Dart compiler exited unexpectedly.\nthe Dart compiler exited unexpectedly.\n"
        ]
    },
    {
        "titulo": "My chrome browser doesn&#39;t show up as a device in flutter",
        "score": 0,
        "views": 531,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "visual-studio-2010"
        ],
        "link": "https://stackoverflow.com/questions/78423070/my-chrome-browser-doesnt-show-up-as-a-device-in-flutter",
        "conteudo_html": "<p>I am currently developing a website using Flutter, and Google Chrome was showing me as an option and it was working well about two months ago. I stopped working on the website and now I have returned to add some features, but I cannot run the project on Chrome. Since the Chrome option is no longer available! I use a Mac M1.</p>\n<p><a href=\"https://i.sstatic.net/f5gVQzL6.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<blockquote>\n<p>here flutter doctor -v</p>\n</blockquote>\n<pre><code>[!] Flutter (Channel stable, 3.19.2, on macOS 13.5 22G74 darwin-arm64, locale\n    en-SA)\n    • Flutter version 3.19.2 on channel stable at /Users/mhmdalnzy/flutter\n    ! Warning: `dart` on your path resolves to\n      /opt/homebrew/Cellar/dart/3.2.4/libexec/bin/dart, which is not inside your\n      current Flutter SDK checkout at /Users/mhmdalnzy/flutter. Consider adding\n      /Users/mhmdalnzy/flutter/bin to the front of your path.\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 7482962148 (9 weeks ago), 2024-02-27 16:51:22 -0500\n    • Engine revision 04817c99c9\n    • Dart version 3.3.0\n    • DevTools version 2.31.1\n    • If those were intentional, you can disregard the above warnings; however\n      it is recommended to use &quot;git&quot; directly to perform update checks and\n      upgrades.\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /Users/mhmdalnzy/Library/Android/sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /Applications/Android\n      Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build\n      17.0.7+0-17.0.7b1000.6-10550314)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 15.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 15C500b\n    • CocoaPods version 1.14.3\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2023.1)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build\n      17.0.7+0-17.0.7b1000.6-10550314)\n\n[✓] VS Code (version 1.88.1)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.88.0\n\n[✓] Connected device (2 available)\n    • macOS (desktop) • macos  • darwin-arm64   • macOS 13.5 22G74 darwin-arm64\n    • Chrome (web)    • chrome • web-javascript • Google Chrome 124.0.6367.119\n    ! Error: Browsing on the local area network for MM. Ensure the device is\n      unlocked and attached with a cable or associated with the same local area\n      network as this Mac.\n      The device must be opted into Developer Mode to connect wirelessly. (code\n      -27)\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n</code></pre>\n<p>I have used several methods but it did not work</p>\n",
        "codigo": [
            "[!] Flutter (Channel stable, 3.19.2, on macOS 13.5 22G74 darwin-arm64, locale\n    en-SA)\n    • Flutter version 3.19.2 on channel stable at /Users/mhmdalnzy/flutter\n    ! Warning: `dart` on your path resolves to\n      /opt/homebrew/Cellar/dart/3.2.4/libexec/bin/dart, which is not inside your\n      current Flutter SDK checkout at /Users/mhmdalnzy/flutter. Consider adding\n      /Users/mhmdalnzy/flutter/bin to the front of your path.\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 7482962148 (9 weeks ago), 2024-02-27 16:51:22 -0500\n    • Engine revision 04817c99c9\n    • Dart version 3.3.0\n    • DevTools version 2.31.1\n    • If those were intentional, you can disregard the above warnings; however\n      it is recommended to use \"git\" directly to perform update checks and\n      upgrades.\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /Users/mhmdalnzy/Library/Android/sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /Applications/Android\n      Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build\n      17.0.7+0-17.0.7b1000.6-10550314)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 15.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 15C500b\n    • CocoaPods version 1.14.3\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2023.1)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build\n      17.0.7+0-17.0.7b1000.6-10550314)\n\n[✓] VS Code (version 1.88.1)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.88.0\n\n[✓] Connected device (2 available)\n    • macOS (desktop) • macos  • darwin-arm64   • macOS 13.5 22G74 darwin-arm64\n    • Chrome (web)    • chrome • web-javascript • Google Chrome 124.0.6367.119\n    ! Error: Browsing on the local area network for MM. Ensure the device is\n      unlocked and attached with a cable or associated with the same local area\n      network as this Mac.\n      The device must be opted into Developer Mode to connect wirelessly. (code\n      -27)\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n"
        ]
    },
    {
        "titulo": "Eye detection using GoogleMlKit (firebase) in flutter",
        "score": 1,
        "views": 343,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "face-detection",
            "firebase-mlkit",
            "eye-detection"
        ],
        "link": "https://stackoverflow.com/questions/78374789/eye-detection-using-googlemlkit-firebase-in-flutter",
        "conteudo_html": "<p>Below code, i am using for detecting face and eye in flutter, i am detecting face successfully using firebase google ml kit but problem is that while detecting eyes (leftEyeOpenProbability and rightEyeOpenProbability) always getting null.</p>\n<p>Below is my code:</p>\n<pre><code> `Future&lt;void&gt; detectFacesInImage(String imagePath) async\n  {\n    final File imageFile = File(imagePath);\n    final InputImage inputImage = InputImage.fromFile(imageFile);\n    final FaceDetector faceDetector = GoogleMlKit.vision.faceDetector();\n   \n    try {\n      final List&lt;Face&gt; faces = await faceDetector.processImage(inputImage);\n      if (faces.isEmpty)\n      {\n              /// No faces detected in the image\n              print('No faces detected in the image');\n              showCustomSnackbar(title: 'error', message: 'No faces detected in the image', backgroundColor: Colors.red);\n              return;\n            }\n\n            for (Face face in faces)\n            {\n              print('enter in face');\n              /// Access the right eye open probability\n              final double? leftEyeOpenProbability = face.leftEyeOpenProbability;\n              if (leftEyeOpenProbability != null) {\n                print('Left eye open probability: $leftEyeOpenProbability');\n              } else {\n                print('Left eye open probability: $leftEyeOpenProbability');\n                showCustomSnackbar(title: 'error', message: 'Left eye open probability not available', backgroundColor: Colors.red);\n                return;\n              }\n              /// Access the right eye open probability\n              final double? rightEyeOpenProbability = face.rightEyeOpenProbability;\n              if (rightEyeOpenProbability != null) {\n                print('Right eye open probability: $rightEyeOpenProbability');\n              } else {\n                print('Right eye open probability: $rightEyeOpenProbability');\n                showCustomSnackbar(title: 'error', message: 'Right eye open probability not available', backgroundColor: Colors.red);\n                return;\n              }\n\n            }\n    } catch (e) {\n      showCustomSnackbar(title: 'error', message: 'Error detecting faces', backgroundColor: Colors.red);\n      print('Error detecting faces: $e');\n    } finally {\n      /// showCustomSnackbar(title: 'error', message: 'succes', backgroundColor: Colors.red);\n      faceDetector.close();\n    }\n  }`\n\nI am expecting when eyes open, it should return some probability value of left and right open.\n</code></pre>\n",
        "codigo": [
            " `Future<void> detectFacesInImage(String imagePath) async\n  {\n    final File imageFile = File(imagePath);\n    final InputImage inputImage = InputImage.fromFile(imageFile);\n    final FaceDetector faceDetector = GoogleMlKit.vision.faceDetector();\n   \n    try {\n      final List<Face> faces = await faceDetector.processImage(inputImage);\n      if (faces.isEmpty)\n      {\n              /// No faces detected in the image\n              print('No faces detected in the image');\n              showCustomSnackbar(title: 'error', message: 'No faces detected in the image', backgroundColor: Colors.red);\n              return;\n            }\n\n            for (Face face in faces)\n            {\n              print('enter in face');\n              /// Access the right eye open probability\n              final double? leftEyeOpenProbability = face.leftEyeOpenProbability;\n              if (leftEyeOpenProbability != null) {\n                print('Left eye open probability: $leftEyeOpenProbability');\n              } else {\n                print('Left eye open probability: $leftEyeOpenProbability');\n                showCustomSnackbar(title: 'error', message: 'Left eye open probability not available', backgroundColor: Colors.red);\n                return;\n              }\n              /// Access the right eye open probability\n              final double? rightEyeOpenProbability = face.rightEyeOpenProbability;\n              if (rightEyeOpenProbability != null) {\n                print('Right eye open probability: $rightEyeOpenProbability');\n              } else {\n                print('Right eye open probability: $rightEyeOpenProbability');\n                showCustomSnackbar(title: 'error', message: 'Right eye open probability not available', backgroundColor: Colors.red);\n                return;\n              }\n\n            }\n    } catch (e) {\n      showCustomSnackbar(title: 'error', message: 'Error detecting faces', backgroundColor: Colors.red);\n      print('Error detecting faces: $e');\n    } finally {\n      /// showCustomSnackbar(title: 'error', message: 'succes', backgroundColor: Colors.red);\n      faceDetector.close();\n    }\n  }`\n\nI am expecting when eyes open, it should return some probability value of left and right open.\n"
        ]
    },
    {
        "titulo": "Flutter FadeInImage Test",
        "score": 4,
        "views": 148,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78361324/flutter-fadeinimage-test",
        "conteudo_html": "<p>I've been trying to write a simple test for <code>FadeInImage</code> but with no luck. I just want to test if <code>kTransparentImage</code> appears as a placeholder. Then after a certain wait time (default 700ms), the URL image appears and <code>kTransparentImage</code> disappears.</p>\n<p>First we'll need to use an <code>HttpClient</code> in order to display network image. I use <code>nock</code>, but feel free to use your own.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:transparent_image/transparent_image.dart';\n\nvoid main() {\n  testWidgets('Test FadeInImage', (tester) async {\n    await tester.pumpWidget(FadeInImage.memoryNetwork(\n      placeholder: kTransparentImage,\n      image: 'https://picsum.photos/id/28/200',\n    ));\n\n    // First: Solve for &quot;provide your own HttpClient implementation&quot; error\n\n    // Second: Test for placeholder image (kTransparentImage)\n    // expect placeholder image: findsOneWidget\n    // expect network image: findsNothing\n\n    // Third: Wait until network image to appear\n\n    // Forth: Test for network image (https://picsum.photos/id/28/200)\n    // expect placeholder image: findsNothing\n    // expect network image: findsOneWidget\n  });\n}\n</code></pre>\n",
        "codigo": [
            "FadeInImage",
            "kTransparentImage",
            "kTransparentImage",
            "HttpClient",
            "nock",
            "import 'package:flutter/material.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:transparent_image/transparent_image.dart';\n\nvoid main() {\n  testWidgets('Test FadeInImage', (tester) async {\n    await tester.pumpWidget(FadeInImage.memoryNetwork(\n      placeholder: kTransparentImage,\n      image: 'https://picsum.photos/id/28/200',\n    ));\n\n    // First: Solve for \"provide your own HttpClient implementation\" error\n\n    // Second: Test for placeholder image (kTransparentImage)\n    // expect placeholder image: findsOneWidget\n    // expect network image: findsNothing\n\n    // Third: Wait until network image to appear\n\n    // Forth: Test for network image (https://picsum.photos/id/28/200)\n    // expect placeholder image: findsNothing\n    // expect network image: findsOneWidget\n  });\n}\n"
        ]
    },
    {
        "titulo": "Flutter Mocktail - How to catch exception that was not throwed in when method?",
        "score": 0,
        "views": 600,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78357870/flutter-mocktail-how-to-catch-exception-that-was-not-throwed-in-when-method",
        "conteudo_html": "<p>im testing this method here</p>\n<pre><code>  @override\n  Future&lt;List&lt;dynamic&gt;&gt; makeRequest(ApiRequestParams params) async {\n    try {\n      final request = await _repository.get(params);\n\n      if (request == null) {\n        throw Exception('Whoops');\n      }\n\n      // Go on...\n    } catch (e) {\n      rethrow;\n    }\n  }\n</code></pre>\n<p>When repository itself doesn't throw, but returns <code>null</code>, I want to <code>makeRequest</code> to <code>throw</code>. But when testing it, I assumme that since I'm not throwing in the <code>when</code> method, <code>makeRequest</code> is throwing and stopping there. So is there a way that I can <code>throw</code> something outside of <code>when</code> and catching it?</p>\n<h2>My test block</h2>\n<pre><code>    test('When api returns null, should throw exception', () async {\n      // stub\n      when(() =&gt; repository.get(requestParams))\n          .thenAnswer((_) =&gt; Future.value(null));\n\n      // arrange\n      final result = await usecase.makeRequest(requestParams);\n\n      // assert\n      verify(() =&gt; repository.get(requestParams)).called(1);\n      expect(result, throwsA(isA&lt;Exception&gt;()));\n    });\n  }); \n</code></pre>\n",
        "codigo": [
            "  @override\n  Future<List<dynamic>> makeRequest(ApiRequestParams params) async {\n    try {\n      final request = await _repository.get(params);\n\n      if (request == null) {\n        throw Exception('Whoops');\n      }\n\n      // Go on...\n    } catch (e) {\n      rethrow;\n    }\n  }\n",
            "null",
            "makeRequest",
            "throw",
            "when",
            "makeRequest",
            "throw",
            "when",
            "    test('When api returns null, should throw exception', () async {\n      // stub\n      when(() => repository.get(requestParams))\n          .thenAnswer((_) => Future.value(null));\n\n      // arrange\n      final result = await usecase.makeRequest(requestParams);\n\n      // assert\n      verify(() => repository.get(requestParams)).called(1);\n      expect(result, throwsA(isA<Exception>()));\n    });\n  }); \n"
        ]
    },
    {
        "titulo": "Flutter: SharedPreferences wrapper class Testing is returning null",
        "score": 0,
        "views": 60,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78354755/flutter-sharedpreferences-wrapper-class-testing-is-returning-null",
        "conteudo_html": "<p>Im having an issue were I have the following <code>Preferences.dart</code></p>\n<p><a href=\"https://gist.github.com/Crdzbird/1c637a41119d19f0a2db80cb41981dd3#file-preferences-dart\" rel=\"nofollow noreferrer\">preferences.dart</a></p>\n<pre><code>/// Wrapper class for the shared preferences.\nclass Preferences {\n  Preferences({required SharedPreferences sharedPreferences})\n      : _sharedPreferences = sharedPreferences;\n  final SharedPreferences _sharedPreferences;\n\n  /// Writes the [value] to the shared preferences.\n  Future&lt;bool&gt; write({required String key, required String value}) =&gt;\n      _sharedPreferences.setString(key, value);\n\n  /// Writes the list of [values] to the shared preferences.\n  Future&lt;bool&gt; writeList({required String key, required List&lt;String&gt; values}) =&gt;\n      _sharedPreferences.setStringList(key, values);\n\n  /// Reads the value from the shared preferences.\n  String? read({required String key}) =&gt; _sharedPreferences.getString(key);\n\n  /// Reads the list of values from the shared preferences.\n  List&lt;String&gt;? readList({required String key}) =&gt;\n      _sharedPreferences.getStringList(key);\n\n  /// Clears the shared preferences.\n  Future&lt;bool&gt; clearAll() =&gt; _sharedPreferences.clear();\n\n  /// Clears the shared preferences for the given [key].\n  Future&lt;bool&gt; clear({required String key}) =&gt; _sharedPreferences.remove(key);\n}\n</code></pre>\n<p>while trying to create the respective test class, im always receiving the following error:</p>\n<p><code>type 'Null' is not a subtype of type 'Future&lt;bool&gt;' test/mocks/mocks.dart 8:7                            MockPreferences.write test/domain/preferences/preferences_test.dart 19:26  main.&lt;fn&gt;</code></p>\n<p>Currently this is the test class that im using:</p>\n<pre><code>import 'package:flutter_test/flutter_test.dart';\nimport 'package:garrapata_app/domain/preferences/preferences.dart';\nimport 'package:shared_preferences/shared_preferences.dart';\nimport 'package:mockito/mockito.dart';\nimport '../../mocks/mocks.dart';\n\nvoid main() {\n  TestWidgetsFlutterBinding.ensureInitialized();\n\n  late Preferences mockPreferences;\n\n  setUpAll(() async {\n    SharedPreferences.setMockInitialValues({'demo': 'demo'});\n    mockPreferences = MockPreferences();\n  });\n\n  test('demo', () {\n    when(mockPreferences.write(key: 'demo', value: 'demo')).thenAnswer((_) async =&gt; true);\n    expect(mockPreferences.write(key: 'demo', value: 'demo'), completion(true));\n  });\n}\n</code></pre>\n<p>Im not sure the reason why is keep getting null, the initialization of the mock values was settled and the assignation was done.</p>\n",
        "codigo": [
            "Preferences.dart",
            "/// Wrapper class for the shared preferences.\nclass Preferences {\n  Preferences({required SharedPreferences sharedPreferences})\n      : _sharedPreferences = sharedPreferences;\n  final SharedPreferences _sharedPreferences;\n\n  /// Writes the [value] to the shared preferences.\n  Future<bool> write({required String key, required String value}) =>\n      _sharedPreferences.setString(key, value);\n\n  /// Writes the list of [values] to the shared preferences.\n  Future<bool> writeList({required String key, required List<String> values}) =>\n      _sharedPreferences.setStringList(key, values);\n\n  /// Reads the value from the shared preferences.\n  String? read({required String key}) => _sharedPreferences.getString(key);\n\n  /// Reads the list of values from the shared preferences.\n  List<String>? readList({required String key}) =>\n      _sharedPreferences.getStringList(key);\n\n  /// Clears the shared preferences.\n  Future<bool> clearAll() => _sharedPreferences.clear();\n\n  /// Clears the shared preferences for the given [key].\n  Future<bool> clear({required String key}) => _sharedPreferences.remove(key);\n}\n",
            "type 'Null' is not a subtype of type 'Future<bool>' test/mocks/mocks.dart 8:7                            MockPreferences.write test/domain/preferences/preferences_test.dart 19:26  main.<fn>",
            "import 'package:flutter_test/flutter_test.dart';\nimport 'package:garrapata_app/domain/preferences/preferences.dart';\nimport 'package:shared_preferences/shared_preferences.dart';\nimport 'package:mockito/mockito.dart';\nimport '../../mocks/mocks.dart';\n\nvoid main() {\n  TestWidgetsFlutterBinding.ensureInitialized();\n\n  late Preferences mockPreferences;\n\n  setUpAll(() async {\n    SharedPreferences.setMockInitialValues({'demo': 'demo'});\n    mockPreferences = MockPreferences();\n  });\n\n  test('demo', () {\n    when(mockPreferences.write(key: 'demo', value: 'demo')).thenAnswer((_) async => true);\n    expect(mockPreferences.write(key: 'demo', value: 'demo'), completion(true));\n  });\n}\n"
        ]
    },
    {
        "titulo": "type &#39;Null&#39; is not a subtype of type &#39;Future&lt;UserPermissionApiResponse&gt;&#39; while writing unit test case in dart using mocktail",
        "score": 0,
        "views": 35,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "mockito",
            "testcase"
        ],
        "link": "https://stackoverflow.com/questions/78353232/type-null-is-not-a-subtype-of-type-futureuserpermissionapiresponse-while-w",
        "conteudo_html": "<p>I am trying to write the unit test case for a method called authenticate which has nested method of the same class called login. Now I want to mock the login method and run the test case. I did that but somehow I am getting the above error.</p>\n<p>Here is the method:</p>\n<pre><code>Future&lt;UserPermissionApiResponse&gt; authenticate(\n      String userId, String password, BuildContext context, Util util) async {\n    if (userId.isNotEmpty &amp;&amp; password.isNotEmpty) {\n\n     \n      String deviceId = await util.getDeviceId();\n\n      /// Calling login API\n      UserPermissionApiResponse userPermissionApiResponse = await logIn(\n          context: context,\n          credentials: password,\n          deviceId: deviceId,\n          userId: userId);\n\n      return userPermissionApiResponse;\n    } else {\n      return UserPermissionApiResponse(result: false, message: constants.invalidCredentialsErrorMsg);\n    }\n</code></pre>\n<p>Here is the test case for the above method:</p>\n<pre><code>test('authenticate method - valid userId and password', () async {\n      // Arrange\n      when(() =&gt; util.getDeviceId())\n          .thenAnswer((_) =&gt; Future.value('deviceId'));\n\n      when(() =&gt; loginRepository.logIn(\n            context: context,\n            credentials: 'password',\n            deviceId: 'deviceId',\n            userId: 'userId',\n          )).thenAnswer((_) =&gt; Future.value(UserPermissionApiResponse(\n            result: true,\n            message: 'Login successful',\n          )));\n\n      // Act\n      final response = await loginRepository.authenticate(\n        'userId',\n        'password',\n        context,\n        util,\n      );\n\n      // Assert\n      expect(response.result, true);\n      expect(response.message, 'Login successful');\n    });\n</code></pre>\n<p>Here is the complete test class:</p>\n<pre><code>class MockBuildContext extends Mock implements BuildContext {}\n\nclass MockUtil extends Mock implements Util {}\n\nclass MockLoginRepositoryImpl extends Mock implements LoginRepositoryImpl {}\n\nvoid main() {\n  TestWidgetsFlutterBinding.ensureInitialized();\n  late LoginRepositoryImpl loginRepository;\n  late BuildContext context;\n  late Util util;\n\n  setUp(() {\n    loginRepository = MockLoginRepositoryImpl();\n    context = MockBuildContext();\n    util = MockUtil();\n  });\n\n  group('authenticate', () {\n    test('authenticate method - valid userId and password', () async {\n      // Arrange\n      when(() =&gt; util.getDeviceId())\n          .thenAnswer((_) =&gt; Future.value('deviceId'));\n\n      when(() =&gt; loginRepository.logIn(\n            context: context,\n            credentials: 'password',\n            deviceId: 'deviceId',\n            userId: 'userId',\n          )).thenAnswer((_) =&gt; Future.value(UserPermissionApiResponse(\n            result: true,\n            message: 'Login successful',\n          )));\n\n      // Act\n      final response = await loginRepository.authenticate(\n        'userId',\n        'password',\n        context,\n        util,\n      );\n\n      // Assert\n      expect(response.result, true);\n      expect(response.message, 'Login successful');\n    });\n  });\n}\n</code></pre>\n<p>I tried mocking the login method but still getting the same issue.</p>\n",
        "codigo": [
            "Future<UserPermissionApiResponse> authenticate(\n      String userId, String password, BuildContext context, Util util) async {\n    if (userId.isNotEmpty && password.isNotEmpty) {\n\n     \n      String deviceId = await util.getDeviceId();\n\n      /// Calling login API\n      UserPermissionApiResponse userPermissionApiResponse = await logIn(\n          context: context,\n          credentials: password,\n          deviceId: deviceId,\n          userId: userId);\n\n      return userPermissionApiResponse;\n    } else {\n      return UserPermissionApiResponse(result: false, message: constants.invalidCredentialsErrorMsg);\n    }\n",
            "test('authenticate method - valid userId and password', () async {\n      // Arrange\n      when(() => util.getDeviceId())\n          .thenAnswer((_) => Future.value('deviceId'));\n\n      when(() => loginRepository.logIn(\n            context: context,\n            credentials: 'password',\n            deviceId: 'deviceId',\n            userId: 'userId',\n          )).thenAnswer((_) => Future.value(UserPermissionApiResponse(\n            result: true,\n            message: 'Login successful',\n          )));\n\n      // Act\n      final response = await loginRepository.authenticate(\n        'userId',\n        'password',\n        context,\n        util,\n      );\n\n      // Assert\n      expect(response.result, true);\n      expect(response.message, 'Login successful');\n    });\n",
            "class MockBuildContext extends Mock implements BuildContext {}\n\nclass MockUtil extends Mock implements Util {}\n\nclass MockLoginRepositoryImpl extends Mock implements LoginRepositoryImpl {}\n\nvoid main() {\n  TestWidgetsFlutterBinding.ensureInitialized();\n  late LoginRepositoryImpl loginRepository;\n  late BuildContext context;\n  late Util util;\n\n  setUp(() {\n    loginRepository = MockLoginRepositoryImpl();\n    context = MockBuildContext();\n    util = MockUtil();\n  });\n\n  group('authenticate', () {\n    test('authenticate method - valid userId and password', () async {\n      // Arrange\n      when(() => util.getDeviceId())\n          .thenAnswer((_) => Future.value('deviceId'));\n\n      when(() => loginRepository.logIn(\n            context: context,\n            credentials: 'password',\n            deviceId: 'deviceId',\n            userId: 'userId',\n          )).thenAnswer((_) => Future.value(UserPermissionApiResponse(\n            result: true,\n            message: 'Login successful',\n          )));\n\n      // Act\n      final response = await loginRepository.authenticate(\n        'userId',\n        'password',\n        context,\n        util,\n      );\n\n      // Assert\n      expect(response.result, true);\n      expect(response.message, 'Login successful');\n    });\n  });\n}\n"
        ]
    },
    {
        "titulo": "Flutter VSCode debug - Resource fork, finder information, or similar detritus not allowed",
        "score": 2,
        "views": 1094,
        "respostas": 1,
        "tags": [
            "ios",
            "flutter",
            "macos",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78346870/flutter-vscode-debug-resource-fork-finder-information-or-similar-detritus-no",
        "conteudo_html": "<p>I am a complete novice with flutter and am trying to build my first app following <a href=\"https://codelabs.developers.google.com/codelabs/flutter-codelab-first?hl=en#3\" rel=\"nofollow noreferrer\">this</a> tutorial. The tutorial provides all the code to start testing but I cannot get past the build stage when debugging (minute 15:15 of <a href=\"https://www.youtube.com/watch?v=8sAyPDLorek\" rel=\"nofollow noreferrer\">this</a> video). I keep getting the error below.</p>\n<pre><code>Launching lib/main.dart on macOS in debug mode...\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app: resource fork, Finder information, or similar detritus not allowed\nCommand CodeSign failed with a nonzero exit code\n** BUILD FAILED **\n\nError: Build process failed\n\nExited (1).\n</code></pre>\n<p>I have found the official Apple solution <a href=\"https://developer.apple.com/library/archive/qa/qa1940/_index.html\" rel=\"nofollow noreferrer\">here</a> which is also referred to in <a href=\"https://stackoverflow.com/questions/39652867/code-sign-error-in-macos-monterey-xcode-resource-fork-finder-information-or\">this</a>, <a href=\"https://stackoverflow.com/questions/61152535/resource-fork-finder-information-or-similar-detritus-not-allowed-on-flutter-io\">this</a>, and <a href=\"https://blog.verslu.is/xamarin/resource-fork-finder-information-similar-detritus-not-allowed/\" rel=\"nofollow noreferrer\">this</a> post.</p>\n<p>I understand what the problem is and have tried running <code>xattr -cr .</code> in the main application directory (/Users/adgb/Documents/dev/flutter_application_1) and the directory referred to in the error (/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app) but when I try to build the application it continues to fail.</p>\n<p>Running the <code>xattr -cr .</code> command in either of the directories outputs no results.</p>\n<pre><code>(base) adgb@adgbs-MacBook-Pro flutter_application_1.app % pwd\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app\n(base) adgb@adgbs-MacBook-Pro flutter_application_1.app % xattr -cr .\n(base) adgb@adgbs-MacBook-Pro flutter_application_1.app %\n</code></pre>\n<pre><code>(base) adgb@adgbs-MacBook-Pro flutter_application_1 % pwd\n/Users/adgb/Documents/dev/flutter_application_1\n(base) adgb@adgbs-MacBook-Pro flutter_application_1 % xattr -cr .\n(base) adgb@adgbs-MacBook-Pro flutter_application_1 %\n</code></pre>\n<p>When I run the <code>xattr -lr</code> command in the directory referred to in the error I get this output:</p>\n<pre><code>(base) adgb@adgbs-MacBook-Pro flutter_application_1.app % xattr -lr /Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app/Contents/Frameworks/FlutterMacOS.framework: com.apple.FinderInfo:\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app/Contents/Frameworks/FlutterMacOS.framework: com.apple.fileprovider.fpfs#P:\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app/Contents/Frameworks/App.framework: com.apple.FinderInfo:\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app/Contents/Frameworks/App.framework: com.apple.fileprovider.fpfs#P:\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app: com.apple.FinderInfo:\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app: com.apple.fileprovider.fpfs#P:\n</code></pre>\n<p>If I run <code>ls -alR@ . &gt; kundapura.txt</code> as per <a href=\"https://stackoverflow.com/questions/39652867/code-sign-error-in-macos-monterey-xcode-resource-fork-finder-information-or\">this</a> post's solution 2. I get this output:</p>\n<pre><code>total 0\ndrwxr-xr-x@ 4 adgb  staff  128 18 Apr 20:44 .\n    com.apple.FinderInfo     32 \n    com.apple.fileprovider.fpfs#P     4 \ndrwxr-xr-x  8 adgb  staff  256 18 Apr 20:27 ..\ndrwxr-xr-x  7 adgb  staff  224 17 Apr 21:50 Contents\n-rw-r--r--  1 adgb  staff    0 18 Apr 20:44 kundapura.txt\n\n./Contents:\ntotal 16\ndrwxr-xr-x   7 adgb  staff   224 17 Apr 21:50 .\ndrwxr-xr-x@  4 adgb  staff   128 18 Apr 20:44 ..\n    com.apple.FinderInfo      32 \n    com.apple.fileprovider.fpfs#P      4 \ndrwxr-xr-x  21 adgb  staff   672 18 Apr 20:28 Frameworks\n-rw-r--r--   1 adgb  staff  1646 17 Apr 21:50 Info.plist\ndrwxr-xr-x   3 adgb  staff    96 17 Apr 21:50 MacOS\n-rw-r--r--   1 adgb  staff     8 17 Apr 21:50 PkgInfo\ndrwxr-xr-x   5 adgb  staff   160 17 Apr 21:50 Resources\n\n./Contents/Frameworks:\ntotal 21936\ndrwxr-xr-x  21 adgb  staff      672 18 Apr 20:28 .\ndrwxr-xr-x   7 adgb  staff      224 17 Apr 21:50 ..\ndrwxr-xr-x@  5 adgb  staff      160 17 Apr 21:50 App.framework\n    com.apple.FinderInfo         32 \n    com.apple.fileprovider.fpfs#P         4 \ndrwxr-xr-x@  5 adgb  staff      160 17 Apr 21:37 FlutterMacOS.framework\n    com.apple.FinderInfo         32 \n    com.apple.fileprovider.fpfs#P         4 \n-rwxr-xr-x   1 adgb  staff   222496 17 Apr 21:50 libswiftAppKit.dylib\n-rwxr-xr-x   1 adgb  staff  6456112 17 Apr 21:50 libswiftCore.dylib\n-rwxr-xr-x   1 adgb  staff    74960 17 Apr 21:50 libswiftCoreAudio.dylib\n-rwxr-xr-x   1 adgb  staff    98688 17 Apr 21:50 libswiftCoreData.dylib\n-rwxr-xr-x   1 adgb  staff    41920 17 Apr 21:50 libswiftCoreFoundation.dylib\n-rwxr-xr-x   1 adgb  staff   190352 17 Apr 21:50 libswiftCoreGraphics.dylib\n-rwxr-xr-x   1 adgb  staff    49856 17 Apr 21:50 libswiftCoreImage.dylib\n-rwxr-xr-x   1 adgb  staff    87328 17 Apr 21:50 libswiftCoreMedia.dylib\n-rwxr-xr-x   1 adgb  staff    98896 17 Apr 21:50 libswiftDarwin.dylib\n-rwxr-xr-x   1 adgb  staff   328080 17 Apr 21:50 libswiftDispatch.dylib\n-rwxr-xr-x   1 adgb  staff  3163200 17 Apr 21:50 libswiftFoundation.dylib\n-rwxr-xr-x   1 adgb  staff    45456 17 Apr 21:50 libswiftIOKit.dylib\n-rwxr-xr-x   1 adgb  staff    84720 17 Apr 21:50 libswiftMetal.dylib\n-rwxr-xr-x   1 adgb  staff    62064 17 Apr 21:50 libswiftObjectiveC.dylib\n-rwxr-xr-x   1 adgb  staff    58160 17 Apr 21:50 libswiftQuartzCore.dylib\n-rwxr-xr-x   1 adgb  staff    45536 17 Apr 21:50 libswiftXPC.dylib\n-rwxr-xr-x   1 adgb  staff    72160 17 Apr 21:50 libswiftos.dylib\n\n./Contents/Frameworks/App.framework:\ntotal 0\ndrwxr-xr-x@  5 adgb  staff  160 17 Apr 21:50 .\n    com.apple.FinderInfo     32 \n    com.apple.fileprovider.fpfs#P     4 \ndrwxr-xr-x  21 adgb  staff  672 18 Apr 20:28 ..\nlrwxr-xr-x   1 adgb  staff   20 17 Apr 21:50 App -&gt; Versions/Current/App\nlrwxr-xr-x   1 adgb  staff   26 17 Apr 21:50 Resources -&gt; Versions/Current/Resources\ndrwxr-xr-x   4 adgb  staff  128 17 Apr 21:50 Versions\n\n./Contents/Frameworks/App.framework/Versions:\ntotal 0\ndrwxr-xr-x  4 adgb  staff  128 17 Apr 21:50 .\ndrwxr-xr-x@ 5 adgb  staff  160 17 Apr 21:50 ..\n    com.apple.FinderInfo     32 \n    com.apple.fileprovider.fpfs#P     4 \ndrwxr-xr-x  5 adgb  staff  160 18 Apr 20:28 A\nlrwxr-xr-x  1 adgb  staff    1 17 Apr 21:50 Current -&gt; A\n\n./Contents/Frameworks/App.framework/Versions/A:\ntotal 48\ndrwxr-xr-x  5 adgb  staff    160 18 Apr 20:28 .\ndrwxr-xr-x  4 adgb  staff    128 17 Apr 21:50 ..\n-rwxr-xr-x  1 adgb  staff  22496 18 Apr 20:28 App\ndrwxr-xr-x  4 adgb  staff    128 17 Apr 21:50 Resources\ndrwxr-xr-x  3 adgb  staff     96 18 Apr 20:28 _CodeSignature\n\n./Contents/Frameworks/App.framework/Versions/A/Resources:\ntotal 8\ndrwxr-xr-x   4 adgb  staff  128 17 Apr 21:50 .\ndrwxr-xr-x   5 adgb  staff  160 18 Apr 20:28 ..\n-rw-r--r--   1 adgb  staff  650 17 Apr 21:50 Info.plist\ndrwxr-xr-x  11 adgb  staff  352 17 Apr 21:50 flutter_assets\n\n./Contents/Frameworks/App.framework/Versions/A/Resources/flutter_assets:\ntotal 93784\ndrwxr-xr-x  11 adgb  staff       352 17 Apr 21:50 .\ndrwxr-xr-x   4 adgb  staff       128 17 Apr 21:50 ..\n-rw-r--r--   1 adgb  staff         2 17 Apr 21:50 AssetManifest.bin\n-rw-r--r--   1 adgb  staff         2 17 Apr 21:50 AssetManifest.json\n-rw-r--r--   1 adgb  staff        82 17 Apr 21:50 FontManifest.json\n-rw-r--r--   1 adgb  staff     79262 17 Apr 21:50 NOTICES.Z\ndrwxr-xr-x   3 adgb  staff        96 17 Apr 21:50 fonts\n-rw-r--r--   1 adgb  staff  10339218 28 Mar 10:20 isolate_snapshot_data\n-rw-r--r--   1 adgb  staff  37560560 17 Apr 21:50 kernel_blob.bin\ndrwxr-xr-x   3 adgb  staff        96 17 Apr 21:50 shaders\n-rw-r--r--   1 adgb  staff     12391 28 Mar 10:20 vm_snapshot_data\n\n./Contents/Frameworks/App.framework/Versions/A/Resources/flutter_assets/fonts:\ntotal 3216\ndrwxr-xr-x   3 adgb  staff       96 17 Apr 21:50 .\ndrwxr-xr-x  11 adgb  staff      352 17 Apr 21:50 ..\n-rw-rw-r--   1 adgb  staff  1645184  7 Sep  2022 MaterialIcons-Regular.otf\n\n./Contents/Frameworks/App.framework/Versions/A/Resources/flutter_assets/shaders:\ntotal 16\ndrwxr-xr-x   3 adgb  staff    96 17 Apr 21:50 .\ndrwxr-xr-x  11 adgb  staff   352 17 Apr 21:50 ..\n-rw-r--r--   1 adgb  staff  7192 17 Apr 21:50 ink_sparkle.frag\n\n./Contents/Frameworks/App.framework/Versions/A/_CodeSignature:\ntotal 16\ndrwxr-xr-x  3 adgb  staff    96 18 Apr 20:28 .\ndrwxr-xr-x  5 adgb  staff   160 18 Apr 20:28 ..\n-rw-r--r--  1 adgb  staff  4902 18 Apr 20:28 CodeResources\n\n./Contents/Frameworks/FlutterMacOS.framework:\ntotal 0\ndrwxr-xr-x@  5 adgb  staff  160 17 Apr 21:37 .\n    com.apple.FinderInfo     32 \n    com.apple.fileprovider.fpfs#P     4 \ndrwxr-xr-x  21 adgb  staff  672 18 Apr 20:28 ..\nlrwxr-xr-x   1 adgb  staff   29 17 Apr 21:37 FlutterMacOS -&gt; Versions/Current/FlutterMacOS\nlrwxr-xr-x   1 adgb  staff   26 17 Apr 21:37 Resources -&gt; Versions/Current/Resources\ndrwxr-xr-x   4 adgb  staff  128 28 Mar 10:53 Versions\n\n./Contents/Frameworks/FlutterMacOS.framework/Versions:\ntotal 0\ndrwxr-xr-x  4 adgb  staff  128 28 Mar 10:53 .\ndrwxr-xr-x@ 5 adgb  staff  160 17 Apr 21:37 ..\n    com.apple.FinderInfo     32 \n    com.apple.fileprovider.fpfs#P     4 \ndrwxr-xr-x  5 adgb  staff  160 18 Apr 20:28 A\nlrwxr-xr-x  1 adgb  staff    1 17 Apr 21:37 Current -&gt; A\n\n./Contents/Frameworks/FlutterMacOS.framework/Versions/A:\ntotal 102616\ndrwxr-xr-x  5 adgb  staff       160 18 Apr 20:28 .\ndrwxr-xr-x  4 adgb  staff       128 28 Mar 10:53 ..\n-rwxr-xr-x  1 adgb  staff  52538272 18 Apr 20:28 FlutterMacOS\ndrwxr-xr-x  4 adgb  staff       128 28 Mar 10:41 Resources\ndrwxr-xr-x  3 adgb  staff        96 28 Mar 10:54 _CodeSignature\n\n./Contents/Frameworks/FlutterMacOS.framework/Versions/A/Resources:\ntotal 1608\ndrwxr-xr-x  4 adgb  staff     128 28 Mar 10:41 .\ndrwxr-xr-x  5 adgb  staff     160 18 Apr 20:28 ..\n-rw-r--r--  1 adgb  staff     717 28 Mar 10:41 Info.plist\n-rw-r--r--  1 adgb  staff  817232 28 Mar 10:41 icudtl.dat\n\n./Contents/Frameworks/FlutterMacOS.framework/Versions/A/_CodeSignature:\ntotal 8\ndrwxr-xr-x  3 adgb  staff    96 28 Mar 10:54 .\ndrwxr-xr-x  5 adgb  staff   160 18 Apr 20:28 ..\n-rw-r--r--  1 adgb  staff  2668 18 Apr 20:28 CodeResources\n\n./Contents/MacOS:\ntotal 144\ndrwxr-xr-x  3 adgb  staff     96 17 Apr 21:50 .\ndrwxr-xr-x  7 adgb  staff    224 17 Apr 21:50 ..\n-rwxr-xr-x  1 adgb  staff  70520 17 Apr 21:50 flutter_application_1\n\n./Contents/Resources:\ntotal 352\ndrwxr-xr-x  5 adgb  staff     160 17 Apr 21:50 .\ndrwxr-xr-x  7 adgb  staff     224 17 Apr 21:50 ..\n-rw-r--r--  1 adgb  staff   21421 17 Apr 21:50 AppIcon.icns\n-rw-r--r--  1 adgb  staff  153352 17 Apr 21:50 Assets.car\ndrwxr-xr-x  3 adgb  staff      96 17 Apr 21:50 Base.lproj\n\n./Contents/Resources/Base.lproj:\ntotal 32\ndrwxr-xr-x  3 adgb  staff     96 17 Apr 21:50 .\ndrwxr-xr-x  5 adgb  staff    160 17 Apr 21:50 ..\n-rw-r--r--  1 adgb  staff  16253 17 Apr 21:50 MainMenu.nib\n</code></pre>\n<p>I have checked my flutter installation with <code>flutter doctor -v</code> and found no issues:</p>\n<pre><code>(base) adgb@adgbs-MacBook-Pro ~ % flutter doctor -v\n[✓] Flutter (Channel stable, 3.19.5, on macOS 14.4.1 23E224 darwin-x64, locale\n    en-AU)\n    • Flutter version 3.19.5 on channel stable at\n      /Users/adgb/development/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 300451adae (3 weeks ago), 2024-03-27 21:54:07 -0500\n    • Engine revision e76c956498\n    • Dart version 3.3.3\n    • DevTools version 2.31.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /Users/adgb/Library/Android/sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /Applications/Android\n      Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build\n      17.0.9+0-17.0.9b1087.7-11185874)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 15.3)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 15E204a\n    • CocoaPods version 1.15.2\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2023.2)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build\n      17.0.9+0-17.0.9b1087.7-11185874)\n\n[✓] VS Code (version 1.88.1)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.86.0\n\n[✓] Connected device (2 available)\n    • macOS (desktop) • macos  • darwin-x64     • macOS 14.4.1 23E224 darwin-x64\n    • Chrome (web)    • chrome • web-javascript • Google Chrome 123.0.6312.124\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n<p>I am at a loss and have no idea how to resolve this issue so that the build completes. Please help!</p>\n",
        "codigo": [
            "Launching lib/main.dart on macOS in debug mode...\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app: resource fork, Finder information, or similar detritus not allowed\nCommand CodeSign failed with a nonzero exit code\n** BUILD FAILED **\n\nError: Build process failed\n\nExited (1).\n",
            "xattr -cr .",
            "xattr -cr .",
            "(base) adgb@adgbs-MacBook-Pro flutter_application_1.app % pwd\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app\n(base) adgb@adgbs-MacBook-Pro flutter_application_1.app % xattr -cr .\n(base) adgb@adgbs-MacBook-Pro flutter_application_1.app %\n",
            "(base) adgb@adgbs-MacBook-Pro flutter_application_1 % pwd\n/Users/adgb/Documents/dev/flutter_application_1\n(base) adgb@adgbs-MacBook-Pro flutter_application_1 % xattr -cr .\n(base) adgb@adgbs-MacBook-Pro flutter_application_1 %\n",
            "xattr -lr",
            "(base) adgb@adgbs-MacBook-Pro flutter_application_1.app % xattr -lr /Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app/Contents/Frameworks/FlutterMacOS.framework: com.apple.FinderInfo:\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app/Contents/Frameworks/FlutterMacOS.framework: com.apple.fileprovider.fpfs#P:\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app/Contents/Frameworks/App.framework: com.apple.FinderInfo:\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app/Contents/Frameworks/App.framework: com.apple.fileprovider.fpfs#P:\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app: com.apple.FinderInfo:\n/Users/adgb/Documents/dev/flutter_application_1/build/macos/Build/Products/Debug/flutter_application_1.app: com.apple.fileprovider.fpfs#P:\n",
            "ls -alR@ . > kundapura.txt",
            "total 0\ndrwxr-xr-x@ 4 adgb  staff  128 18 Apr 20:44 .\n    com.apple.FinderInfo     32 \n    com.apple.fileprovider.fpfs#P     4 \ndrwxr-xr-x  8 adgb  staff  256 18 Apr 20:27 ..\ndrwxr-xr-x  7 adgb  staff  224 17 Apr 21:50 Contents\n-rw-r--r--  1 adgb  staff    0 18 Apr 20:44 kundapura.txt\n\n./Contents:\ntotal 16\ndrwxr-xr-x   7 adgb  staff   224 17 Apr 21:50 .\ndrwxr-xr-x@  4 adgb  staff   128 18 Apr 20:44 ..\n    com.apple.FinderInfo      32 \n    com.apple.fileprovider.fpfs#P      4 \ndrwxr-xr-x  21 adgb  staff   672 18 Apr 20:28 Frameworks\n-rw-r--r--   1 adgb  staff  1646 17 Apr 21:50 Info.plist\ndrwxr-xr-x   3 adgb  staff    96 17 Apr 21:50 MacOS\n-rw-r--r--   1 adgb  staff     8 17 Apr 21:50 PkgInfo\ndrwxr-xr-x   5 adgb  staff   160 17 Apr 21:50 Resources\n\n./Contents/Frameworks:\ntotal 21936\ndrwxr-xr-x  21 adgb  staff      672 18 Apr 20:28 .\ndrwxr-xr-x   7 adgb  staff      224 17 Apr 21:50 ..\ndrwxr-xr-x@  5 adgb  staff      160 17 Apr 21:50 App.framework\n    com.apple.FinderInfo         32 \n    com.apple.fileprovider.fpfs#P         4 \ndrwxr-xr-x@  5 adgb  staff      160 17 Apr 21:37 FlutterMacOS.framework\n    com.apple.FinderInfo         32 \n    com.apple.fileprovider.fpfs#P         4 \n-rwxr-xr-x   1 adgb  staff   222496 17 Apr 21:50 libswiftAppKit.dylib\n-rwxr-xr-x   1 adgb  staff  6456112 17 Apr 21:50 libswiftCore.dylib\n-rwxr-xr-x   1 adgb  staff    74960 17 Apr 21:50 libswiftCoreAudio.dylib\n-rwxr-xr-x   1 adgb  staff    98688 17 Apr 21:50 libswiftCoreData.dylib\n-rwxr-xr-x   1 adgb  staff    41920 17 Apr 21:50 libswiftCoreFoundation.dylib\n-rwxr-xr-x   1 adgb  staff   190352 17 Apr 21:50 libswiftCoreGraphics.dylib\n-rwxr-xr-x   1 adgb  staff    49856 17 Apr 21:50 libswiftCoreImage.dylib\n-rwxr-xr-x   1 adgb  staff    87328 17 Apr 21:50 libswiftCoreMedia.dylib\n-rwxr-xr-x   1 adgb  staff    98896 17 Apr 21:50 libswiftDarwin.dylib\n-rwxr-xr-x   1 adgb  staff   328080 17 Apr 21:50 libswiftDispatch.dylib\n-rwxr-xr-x   1 adgb  staff  3163200 17 Apr 21:50 libswiftFoundation.dylib\n-rwxr-xr-x   1 adgb  staff    45456 17 Apr 21:50 libswiftIOKit.dylib\n-rwxr-xr-x   1 adgb  staff    84720 17 Apr 21:50 libswiftMetal.dylib\n-rwxr-xr-x   1 adgb  staff    62064 17 Apr 21:50 libswiftObjectiveC.dylib\n-rwxr-xr-x   1 adgb  staff    58160 17 Apr 21:50 libswiftQuartzCore.dylib\n-rwxr-xr-x   1 adgb  staff    45536 17 Apr 21:50 libswiftXPC.dylib\n-rwxr-xr-x   1 adgb  staff    72160 17 Apr 21:50 libswiftos.dylib\n\n./Contents/Frameworks/App.framework:\ntotal 0\ndrwxr-xr-x@  5 adgb  staff  160 17 Apr 21:50 .\n    com.apple.FinderInfo     32 \n    com.apple.fileprovider.fpfs#P     4 \ndrwxr-xr-x  21 adgb  staff  672 18 Apr 20:28 ..\nlrwxr-xr-x   1 adgb  staff   20 17 Apr 21:50 App -> Versions/Current/App\nlrwxr-xr-x   1 adgb  staff   26 17 Apr 21:50 Resources -> Versions/Current/Resources\ndrwxr-xr-x   4 adgb  staff  128 17 Apr 21:50 Versions\n\n./Contents/Frameworks/App.framework/Versions:\ntotal 0\ndrwxr-xr-x  4 adgb  staff  128 17 Apr 21:50 .\ndrwxr-xr-x@ 5 adgb  staff  160 17 Apr 21:50 ..\n    com.apple.FinderInfo     32 \n    com.apple.fileprovider.fpfs#P     4 \ndrwxr-xr-x  5 adgb  staff  160 18 Apr 20:28 A\nlrwxr-xr-x  1 adgb  staff    1 17 Apr 21:50 Current -> A\n\n./Contents/Frameworks/App.framework/Versions/A:\ntotal 48\ndrwxr-xr-x  5 adgb  staff    160 18 Apr 20:28 .\ndrwxr-xr-x  4 adgb  staff    128 17 Apr 21:50 ..\n-rwxr-xr-x  1 adgb  staff  22496 18 Apr 20:28 App\ndrwxr-xr-x  4 adgb  staff    128 17 Apr 21:50 Resources\ndrwxr-xr-x  3 adgb  staff     96 18 Apr 20:28 _CodeSignature\n\n./Contents/Frameworks/App.framework/Versions/A/Resources:\ntotal 8\ndrwxr-xr-x   4 adgb  staff  128 17 Apr 21:50 .\ndrwxr-xr-x   5 adgb  staff  160 18 Apr 20:28 ..\n-rw-r--r--   1 adgb  staff  650 17 Apr 21:50 Info.plist\ndrwxr-xr-x  11 adgb  staff  352 17 Apr 21:50 flutter_assets\n\n./Contents/Frameworks/App.framework/Versions/A/Resources/flutter_assets:\ntotal 93784\ndrwxr-xr-x  11 adgb  staff       352 17 Apr 21:50 .\ndrwxr-xr-x   4 adgb  staff       128 17 Apr 21:50 ..\n-rw-r--r--   1 adgb  staff         2 17 Apr 21:50 AssetManifest.bin\n-rw-r--r--   1 adgb  staff         2 17 Apr 21:50 AssetManifest.json\n-rw-r--r--   1 adgb  staff        82 17 Apr 21:50 FontManifest.json\n-rw-r--r--   1 adgb  staff     79262 17 Apr 21:50 NOTICES.Z\ndrwxr-xr-x   3 adgb  staff        96 17 Apr 21:50 fonts\n-rw-r--r--   1 adgb  staff  10339218 28 Mar 10:20 isolate_snapshot_data\n-rw-r--r--   1 adgb  staff  37560560 17 Apr 21:50 kernel_blob.bin\ndrwxr-xr-x   3 adgb  staff        96 17 Apr 21:50 shaders\n-rw-r--r--   1 adgb  staff     12391 28 Mar 10:20 vm_snapshot_data\n\n./Contents/Frameworks/App.framework/Versions/A/Resources/flutter_assets/fonts:\ntotal 3216\ndrwxr-xr-x   3 adgb  staff       96 17 Apr 21:50 .\ndrwxr-xr-x  11 adgb  staff      352 17 Apr 21:50 ..\n-rw-rw-r--   1 adgb  staff  1645184  7 Sep  2022 MaterialIcons-Regular.otf\n\n./Contents/Frameworks/App.framework/Versions/A/Resources/flutter_assets/shaders:\ntotal 16\ndrwxr-xr-x   3 adgb  staff    96 17 Apr 21:50 .\ndrwxr-xr-x  11 adgb  staff   352 17 Apr 21:50 ..\n-rw-r--r--   1 adgb  staff  7192 17 Apr 21:50 ink_sparkle.frag\n\n./Contents/Frameworks/App.framework/Versions/A/_CodeSignature:\ntotal 16\ndrwxr-xr-x  3 adgb  staff    96 18 Apr 20:28 .\ndrwxr-xr-x  5 adgb  staff   160 18 Apr 20:28 ..\n-rw-r--r--  1 adgb  staff  4902 18 Apr 20:28 CodeResources\n\n./Contents/Frameworks/FlutterMacOS.framework:\ntotal 0\ndrwxr-xr-x@  5 adgb  staff  160 17 Apr 21:37 .\n    com.apple.FinderInfo     32 \n    com.apple.fileprovider.fpfs#P     4 \ndrwxr-xr-x  21 adgb  staff  672 18 Apr 20:28 ..\nlrwxr-xr-x   1 adgb  staff   29 17 Apr 21:37 FlutterMacOS -> Versions/Current/FlutterMacOS\nlrwxr-xr-x   1 adgb  staff   26 17 Apr 21:37 Resources -> Versions/Current/Resources\ndrwxr-xr-x   4 adgb  staff  128 28 Mar 10:53 Versions\n\n./Contents/Frameworks/FlutterMacOS.framework/Versions:\ntotal 0\ndrwxr-xr-x  4 adgb  staff  128 28 Mar 10:53 .\ndrwxr-xr-x@ 5 adgb  staff  160 17 Apr 21:37 ..\n    com.apple.FinderInfo     32 \n    com.apple.fileprovider.fpfs#P     4 \ndrwxr-xr-x  5 adgb  staff  160 18 Apr 20:28 A\nlrwxr-xr-x  1 adgb  staff    1 17 Apr 21:37 Current -> A\n\n./Contents/Frameworks/FlutterMacOS.framework/Versions/A:\ntotal 102616\ndrwxr-xr-x  5 adgb  staff       160 18 Apr 20:28 .\ndrwxr-xr-x  4 adgb  staff       128 28 Mar 10:53 ..\n-rwxr-xr-x  1 adgb  staff  52538272 18 Apr 20:28 FlutterMacOS\ndrwxr-xr-x  4 adgb  staff       128 28 Mar 10:41 Resources\ndrwxr-xr-x  3 adgb  staff        96 28 Mar 10:54 _CodeSignature\n\n./Contents/Frameworks/FlutterMacOS.framework/Versions/A/Resources:\ntotal 1608\ndrwxr-xr-x  4 adgb  staff     128 28 Mar 10:41 .\ndrwxr-xr-x  5 adgb  staff     160 18 Apr 20:28 ..\n-rw-r--r--  1 adgb  staff     717 28 Mar 10:41 Info.plist\n-rw-r--r--  1 adgb  staff  817232 28 Mar 10:41 icudtl.dat\n\n./Contents/Frameworks/FlutterMacOS.framework/Versions/A/_CodeSignature:\ntotal 8\ndrwxr-xr-x  3 adgb  staff    96 28 Mar 10:54 .\ndrwxr-xr-x  5 adgb  staff   160 18 Apr 20:28 ..\n-rw-r--r--  1 adgb  staff  2668 18 Apr 20:28 CodeResources\n\n./Contents/MacOS:\ntotal 144\ndrwxr-xr-x  3 adgb  staff     96 17 Apr 21:50 .\ndrwxr-xr-x  7 adgb  staff    224 17 Apr 21:50 ..\n-rwxr-xr-x  1 adgb  staff  70520 17 Apr 21:50 flutter_application_1\n\n./Contents/Resources:\ntotal 352\ndrwxr-xr-x  5 adgb  staff     160 17 Apr 21:50 .\ndrwxr-xr-x  7 adgb  staff     224 17 Apr 21:50 ..\n-rw-r--r--  1 adgb  staff   21421 17 Apr 21:50 AppIcon.icns\n-rw-r--r--  1 adgb  staff  153352 17 Apr 21:50 Assets.car\ndrwxr-xr-x  3 adgb  staff      96 17 Apr 21:50 Base.lproj\n\n./Contents/Resources/Base.lproj:\ntotal 32\ndrwxr-xr-x  3 adgb  staff     96 17 Apr 21:50 .\ndrwxr-xr-x  5 adgb  staff    160 17 Apr 21:50 ..\n-rw-r--r--  1 adgb  staff  16253 17 Apr 21:50 MainMenu.nib\n",
            "flutter doctor -v",
            "(base) adgb@adgbs-MacBook-Pro ~ % flutter doctor -v\n[✓] Flutter (Channel stable, 3.19.5, on macOS 14.4.1 23E224 darwin-x64, locale\n    en-AU)\n    • Flutter version 3.19.5 on channel stable at\n      /Users/adgb/development/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 300451adae (3 weeks ago), 2024-03-27 21:54:07 -0500\n    • Engine revision e76c956498\n    • Dart version 3.3.3\n    • DevTools version 2.31.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /Users/adgb/Library/Android/sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /Applications/Android\n      Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build\n      17.0.9+0-17.0.9b1087.7-11185874)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 15.3)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 15E204a\n    • CocoaPods version 1.15.2\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2023.2)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build\n      17.0.9+0-17.0.9b1087.7-11185874)\n\n[✓] VS Code (version 1.88.1)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.86.0\n\n[✓] Connected device (2 available)\n    • macOS (desktop) • macos  • darwin-x64     • macOS 14.4.1 23E224 darwin-x64\n    • Chrome (web)    • chrome • web-javascript • Google Chrome 123.0.6312.124\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n"
        ]
    },
    {
        "titulo": "How much code should we place into a constructor?",
        "score": 1,
        "views": 50,
        "respostas": 1,
        "tags": [
            "dart",
            "unit-testing"
        ],
        "link": "https://stackoverflow.com/questions/78334734/how-much-code-should-we-place-into-a-constructor",
        "conteudo_html": "<p>How much initialisation code should we place in a constructor? The problem is that putting in a lot of code results in problems during testing because some fields may depend on platform specific things, for example BLE or NFC. For example:</p>\n<pre><code>class MyClass{\n late Hardware hardware;\n\n MyClass()\n {\n   hardware = Hardware();        //platform dependent object \n   hardware.onEvent.listen(..);  //subscribe to hardware events\n    ...\n }\n\n}\n</code></pre>\n<p>Then i want to test MyClass and i am getting problems because Hardware isn't valid during the test.</p>\n<pre><code>test('test something', () {\n  var myClass = MyClass();//errors or bad behaviour here\n  \n   ...\n});\n</code></pre>\n<p>});</p>\n<p>Maybe it has sense to make the constructor as simple as possible and then use an &quot;init&quot; function?</p>\n",
        "codigo": [
            "class MyClass{\n late Hardware hardware;\n\n MyClass()\n {\n   hardware = Hardware();        //platform dependent object \n   hardware.onEvent.listen(..);  //subscribe to hardware events\n    ...\n }\n\n}\n",
            "test('test something', () {\n  var myClass = MyClass();//errors or bad behaviour here\n  \n   ...\n});\n"
        ]
    },
    {
        "titulo": "How to change email for firebase users?",
        "score": 1,
        "views": 1057,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "google-cloud-platform",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/78329272/how-to-change-email-for-firebase-users",
        "conteudo_html": "<p>Now that <code>updateEmail</code> is deprecated for updating the Firebase user's email, how to update the user's email?</p>\n<pre><code> final user = GetCurrentUser().getUser()!;\n\n  AuthCredential credential = EmailAuthProvider.credential(\n    email: oldEmail,\n    password: password,\n  );\n\n\n\n  final UserCredential userAuth = await user.reauthenticateWithCredential(credential);\n  // userAuth.user.updateEmail(newEmail);  // deprecated\n\n\n  await userAuth.user?.verifyBeforeUpdateEmail(newEmail);\n\n  await FirebaseFirestore.instance.collection(&quot;users&quot;).doc(user.uid).update(\n    {\n      &quot;email&quot;: newEmail,\n    },\n  );\n</code></pre>\n<p>This is what I got so far. It worked one time for unknown magical reasons, but never since. I'm getting an exception that the user cannot be found. Other times, I'm getting an update to the Firestore field (meaning the code runs without exceptions), but the Firebase authentication page shows no change to the email.</p>\n<hr />\n<p>Edit:</p>\n<p>The code above is working as far as I can tell. However, it presents another issue with UI.</p>\n<p>If the user did click on the verification link, then the data in Firestore and Firebase Auth are matching and everything is good. But if he didn't, then there's a mismatch in the data stored.</p>\n<p>The Firestore will have the new email, while Firebase Auth will have the old email. As I'm presenting the user with his email address in the profile, this is not good.</p>\n<p>If there's a way to detect the email change in Firebase Auth (or when the user verifies the new email)?, then I can listen to this change and update the Firestore data then.</p>\n<p>The emailVerified field of the &quot;User&quot; class, is a bool and not a stream I can subscriber to.</p>\n<hr />\n",
        "codigo": [
            "updateEmail",
            " final user = GetCurrentUser().getUser()!;\n\n  AuthCredential credential = EmailAuthProvider.credential(\n    email: oldEmail,\n    password: password,\n  );\n\n\n\n  final UserCredential userAuth = await user.reauthenticateWithCredential(credential);\n  // userAuth.user.updateEmail(newEmail);  // deprecated\n\n\n  await userAuth.user?.verifyBeforeUpdateEmail(newEmail);\n\n  await FirebaseFirestore.instance.collection(\"users\").doc(user.uid).update(\n    {\n      \"email\": newEmail,\n    },\n  );\n"
        ]
    },
    {
        "titulo": "&quot;Your project requires a newer version of the Kotlin Gradle plugin.&quot; Although newest version is set",
        "score": 0,
        "views": 2447,
        "respostas": 2,
        "tags": [
            "flutter",
            "kotlin",
            "dart",
            "android-studio",
            "gradle"
        ],
        "link": "https://stackoverflow.com/questions/78323189/your-project-requires-a-newer-version-of-the-kotlin-gradle-plugin-although-ne",
        "conteudo_html": "<p>My flutter code that I have been writing in Android Studio is building fine on iOS. However if I try to run it on an Android simulator, I get a lenghty error message that I don't understand. The last bit of it says</p>\n<pre><code>[!] Your project requires a newer version of the Kotlin Gradle plugin.                     │\n│ Find the latest version on https://kotlinlang.org/docs/releases.html#release-details, then │\n│ update /Users/valerievogt/StudioProjects/chuddyapp/android/build.gradle:                   │\n│ ext.kotlin_version = '&lt;latest-version&gt;'\n</code></pre>\n<p>So I went ahead and added the kotlin version to my android/build.gradle like so:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.9.23'\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n</code></pre>\n<p>This is my settings.gradle:</p>\n<pre><code>pluginManagement {\n    def flutterSdkPath = {\n        def properties = new Properties()\n        file(&quot;local.properties&quot;).withInputStream { properties.load(it) }\n        def flutterSdkPath = properties.getProperty(&quot;flutter.sdk&quot;)\n        assert flutterSdkPath != null, &quot;flutter.sdk not set in local.properties&quot;\n        return flutterSdkPath\n    }\n    settings.ext.flutterSdkPath = flutterSdkPath()\n\n    includeBuild(&quot;${settings.ext.flutterSdkPath}/packages/flutter_tools/gradle&quot;)\n\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\nplugins {\n    id &quot;dev.flutter.flutter-plugin-loader&quot; version &quot;1.0.0&quot;\n    id &quot;com.android.application&quot; version &quot;7.3.0&quot; apply false\n    id &quot;org.jetbrains.kotlin.android&quot; version &quot;1.9.23&quot; apply false\n}\n\ninclude &quot;:app&quot;\n</code></pre>\n<p>The error persists though and nothing has changed.\nI tried updating and upgrading all dependencies, flutter, android sdk, studio and already replaced two packages, but I keep getting this error.</p>\n<p>The whole error message reads like this and is way above my head:</p>\n<pre><code>e: /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /Users/username/.gradle/caches/transforms-3/8e8d6d4aa01a38286ceaa1a7db4d6398/transformed/jetified-kotlin-stdlib-common-1.9.10.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (44, 38): Unresolved reference: ArrayList\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (45, 30): Unresolved reference: HashMap\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (63, 14): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (64, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (65, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (66, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (67, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (68, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (73, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (77, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (78, 15): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (79, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (80, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (81, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (87, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (87, 33): Unresolved reference: startsWith\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (88, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (90, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (91, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (92, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (94, 29): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (95, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (99, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (104, 33): Unresolved reference: startsWith\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (105, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (105, 33): Unresolved reference: startsWith\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (106, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (107, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (109, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (111, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (113, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (115, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (117, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (119, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (120, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (125, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (130, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (132, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (133, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (135, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (140, 57): Unresolved reference: startsWith\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (142, 32): Unresolved reference: HashMap\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (147, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (153, 34): Unresolved reference: startsWith\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (154, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (155, 27): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\n\n[.........deleted some bc of character limit]\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':flutter_tts:compileDebugKotlin'.\n&gt; A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n   &gt; Compilation error. See log for more details\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 19s\n\n┌─ Flutter Fix ──────────────────────────────────────────────────────────────────────────────┐\n│ [!] Your project requires a newer version of the Kotlin Gradle plugin.                     │\n│ Find the latest version on https://kotlinlang.org/docs/releases.html#release-details, then │\n│ update /Users/username/StudioProjects/chuddyapp/android/build.gradle:                   │\n│ ext.kotlin_version = '&lt;latest-version&gt;'                                                    │\n└────────────────────────────────────────────────────────────────────────────────────────────┘\nError: Gradle task assembleDebug failed with exit code 1\n```\n\nWhat steps can I take to solve this? I'm overwhelmed.\n</code></pre>\n",
        "codigo": [
            "[!] Your project requires a newer version of the Kotlin Gradle plugin.                     │\n│ Find the latest version on https://kotlinlang.org/docs/releases.html#release-details, then │\n│ update /Users/valerievogt/StudioProjects/chuddyapp/android/build.gradle:                   │\n│ ext.kotlin_version = '<latest-version>'\n",
            "buildscript {\n    ext.kotlin_version = '1.9.23'\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n",
            "pluginManagement {\n    def flutterSdkPath = {\n        def properties = new Properties()\n        file(\"local.properties\").withInputStream { properties.load(it) }\n        def flutterSdkPath = properties.getProperty(\"flutter.sdk\")\n        assert flutterSdkPath != null, \"flutter.sdk not set in local.properties\"\n        return flutterSdkPath\n    }\n    settings.ext.flutterSdkPath = flutterSdkPath()\n\n    includeBuild(\"${settings.ext.flutterSdkPath}/packages/flutter_tools/gradle\")\n\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\nplugins {\n    id \"dev.flutter.flutter-plugin-loader\" version \"1.0.0\"\n    id \"com.android.application\" version \"7.3.0\" apply false\n    id \"org.jetbrains.kotlin.android\" version \"1.9.23\" apply false\n}\n\ninclude \":app\"\n",
            "e: /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /Users/username/.gradle/caches/transforms-3/8e8d6d4aa01a38286ceaa1a7db4d6398/transformed/jetified-kotlin-stdlib-common-1.9.10.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (44, 38): Unresolved reference: ArrayList\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (45, 30): Unresolved reference: HashMap\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (63, 14): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (64, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (65, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (66, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (67, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (68, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (73, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (77, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (78, 15): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (79, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (80, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (81, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (87, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (87, 33): Unresolved reference: startsWith\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (88, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (90, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (91, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (92, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (94, 29): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (95, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (99, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (104, 33): Unresolved reference: startsWith\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (105, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (105, 33): Unresolved reference: startsWith\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (106, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (107, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (109, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (111, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (113, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (115, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (117, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (119, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (120, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (125, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (130, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (132, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (133, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (135, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (140, 57): Unresolved reference: startsWith\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (142, 32): Unresolved reference: HashMap\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (147, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (153, 34): Unresolved reference: startsWith\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (154, 21): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\ne: /Users/username/.pub-cache/hosted/pub.dev/flutter_tts-4.0.2/android/src/main/kotlin/com/tundralabs/fluttertts/FlutterTtsPlugin.kt: (155, 27): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from /Users/username/.gradle/caches/transforms-3/2ece6433a8ec3065ee1b823ef5a57766/transformed/jetified-kotlin-stdlib-1.9.10.jar!/kotlin/Unit.class\n\n[.........deleted some bc of character limit]\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':flutter_tts:compileDebugKotlin'.\n> A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n   > Compilation error. See log for more details\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 19s\n\n┌─ Flutter Fix ──────────────────────────────────────────────────────────────────────────────┐\n│ [!] Your project requires a newer version of the Kotlin Gradle plugin.                     │\n│ Find the latest version on https://kotlinlang.org/docs/releases.html#release-details, then │\n│ update /Users/username/StudioProjects/chuddyapp/android/build.gradle:                   │\n│ ext.kotlin_version = '<latest-version>'                                                    │\n└────────────────────────────────────────────────────────────────────────────────────────────┘\nError: Gradle task assembleDebug failed with exit code 1\n```\n\nWhat steps can I take to solve this? I'm overwhelmed.\n"
        ]
    },
    {
        "titulo": "Dart has problems with CSV files",
        "score": 0,
        "views": 86,
        "respostas": 1,
        "tags": [
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78319563/dart-has-problems-with-csv-files",
        "conteudo_html": "<p>I have the following <a href=\"https://drive.google.com/file/d/1aZuMVf8w4OpiPMXWDazD2Tfrylbk-w3I/view?usp=sharing\" rel=\"nofollow noreferrer\">CSV file</a> :</p>\n<pre><code>$ cat ../SyncedShazams.csv\n&quot;artist&quot;,&quot;title&quot;,&quot;status&quot;,&quot;date&quot;,&quot;longitude&quot;,&quot;latitude&quot;\n&quot;Queen&quot;,&quot;Fat Bottomed Girls&quot;,&quot;N/A&quot;,&quot;2024-04-09T22:03:30.164Z&quot;,&quot;N/A&quot;,&quot;N/A&quot;\n&quot;W&amp;W &amp; AXMO&quot;,&quot;Heaven Is a Place On Earth&quot;,&quot;N/A&quot;,&quot;2024-04-09T21:59:34.614Z&quot;,&quot;N/A&quot;,&quot;N/A&quot;\n&quot;Kleks &amp; sanah&quot;,&quot;Jestem Twoją Bajką&quot;,&quot;N/A&quot;,&quot;2024-04-07T05:07:22.333Z&quot;,&quot;N/A&quot;,&quot;N/A&quot;\n&quot;Oskar Cyms&quot;,&quot;Nigdy wcześniej&quot;,&quot;N/A&quot;,&quot;2024-04-06T04:49:43.106Z&quot;,&quot;N/A&quot;,&quot;N/A&quot;\n&quot;Heidi Montag&quot;,&quot;I'll Do It&quot;,&quot;N/A&quot;,&quot;2024-04-04T07:23:10.340Z&quot;,&quot;N/A&quot;,&quot;N/A&quot;\n&quot;vowl. &amp; Sace&quot;,&quot;2000&quot;,&quot;N/A&quot;,&quot;2024-04-04T07:22:53.608Z&quot;,&quot;N/A&quot;,&quot;N/A&quot;\n&quot;City High&quot;,&quot;What Would You Do?&quot;,&quot;N/A&quot;,&quot;2024-04-03T20:22:52.658Z&quot;,&quot;N/A&quot;,&quot;N/A&quot;\n&quot;City High&quot;,&quot;What Would You Do?&quot;,&quot;N/A&quot;,&quot;2024-04-03T20:22:32.131Z&quot;,&quot;N/A&quot;,&quot;N/A&quot;\n&quot;Kleks, IGO, Kaśka Sochacka, Mrozu, Artur Rojek, Brodka, Ralph Kaminski, Bedoes 2115 &amp; Sokół&quot;,&quot;Całkiem Nowa Bajka&quot;,&quot;N/A&quot;,&quot;2024-03-29T23:39:11.413Z&quot;,&quot;N/A&quot;,&quot;N/A&quot;\n</code></pre>\n<p>The columns have to be converted as follows:</p>\n<pre><code>Queen - Fat Bottomed Girls\nKleks, IGO, Kaśka Sochacka, Mrozu, Artur Rojek, Brodka, Ralph Kaminski, Bedoes 2115 &amp; Sokół - Całkiem Nowa Bajka\n</code></pre>\n<p>However, the current Dart code only prints <code>HELLO</code> out.</p>\n<pre><code>$ cat bin/shazam.dart\nimport 'package:shazam/shazam.dart' as shazam;\nimport 'dart:io';\nimport 'package:csv/csv.dart';\n\nvoid main() async {\n  try {\n    final String csvData = await readFile('../SyncedShazams.csv'); \n    final List&lt;List&lt;dynamic&gt;&gt; rows = const CsvToListConverter().convert(csvData);\n    print(&quot;HELLO&quot;);\n  \n    // Skip the header and process each row\n    for (var row in rows.skip(1)) {\n      if (row.length &gt; 1) {\n        // Artists and song title are expected to be in the first and second columns respectively\n        print('${row[0]} - ${row[1]}');\n      }\n    }\n  } catch (e) {\n    print('Failed to process CSV: $e');\n  }\n}\n\nFuture&lt;String&gt; readFile(String filePath) async {\n  final file = File(filePath);\n  try {\n    return await file.readAsString();\n  } catch (e) {\n    throw Exception('Failed to read the file: $e');\n  }\n}\n</code></pre>\n<p>Dart output:</p>\n<pre><code>$ dart run\nBuilding package executable... \nBuilt shazam:shazam.\nHELLO\n\n</code></pre>\n<p>What did I miss?</p>\n",
        "codigo": [
            "$ cat ../SyncedShazams.csv\n\"artist\",\"title\",\"status\",\"date\",\"longitude\",\"latitude\"\n\"Queen\",\"Fat Bottomed Girls\",\"N/A\",\"2024-04-09T22:03:30.164Z\",\"N/A\",\"N/A\"\n\"W&W & AXMO\",\"Heaven Is a Place On Earth\",\"N/A\",\"2024-04-09T21:59:34.614Z\",\"N/A\",\"N/A\"\n\"Kleks & sanah\",\"Jestem Twoją Bajką\",\"N/A\",\"2024-04-07T05:07:22.333Z\",\"N/A\",\"N/A\"\n\"Oskar Cyms\",\"Nigdy wcześniej\",\"N/A\",\"2024-04-06T04:49:43.106Z\",\"N/A\",\"N/A\"\n\"Heidi Montag\",\"I'll Do It\",\"N/A\",\"2024-04-04T07:23:10.340Z\",\"N/A\",\"N/A\"\n\"vowl. & Sace\",\"2000\",\"N/A\",\"2024-04-04T07:22:53.608Z\",\"N/A\",\"N/A\"\n\"City High\",\"What Would You Do?\",\"N/A\",\"2024-04-03T20:22:52.658Z\",\"N/A\",\"N/A\"\n\"City High\",\"What Would You Do?\",\"N/A\",\"2024-04-03T20:22:32.131Z\",\"N/A\",\"N/A\"\n\"Kleks, IGO, Kaśka Sochacka, Mrozu, Artur Rojek, Brodka, Ralph Kaminski, Bedoes 2115 & Sokół\",\"Całkiem Nowa Bajka\",\"N/A\",\"2024-03-29T23:39:11.413Z\",\"N/A\",\"N/A\"\n",
            "Queen - Fat Bottomed Girls\nKleks, IGO, Kaśka Sochacka, Mrozu, Artur Rojek, Brodka, Ralph Kaminski, Bedoes 2115 & Sokół - Całkiem Nowa Bajka\n",
            "HELLO",
            "$ cat bin/shazam.dart\nimport 'package:shazam/shazam.dart' as shazam;\nimport 'dart:io';\nimport 'package:csv/csv.dart';\n\nvoid main() async {\n  try {\n    final String csvData = await readFile('../SyncedShazams.csv'); \n    final List<List<dynamic>> rows = const CsvToListConverter().convert(csvData);\n    print(\"HELLO\");\n  \n    // Skip the header and process each row\n    for (var row in rows.skip(1)) {\n      if (row.length > 1) {\n        // Artists and song title are expected to be in the first and second columns respectively\n        print('${row[0]} - ${row[1]}');\n      }\n    }\n  } catch (e) {\n    print('Failed to process CSV: $e');\n  }\n}\n\nFuture<String> readFile(String filePath) async {\n  final file = File(filePath);\n  try {\n    return await file.readAsString();\n  } catch (e) {\n    throw Exception('Failed to read the file: $e');\n  }\n}\n",
            "$ dart run\nBuilding package executable... \nBuilt shazam:shazam.\nHELLO\n\n"
        ]
    },
    {
        "titulo": "Flutter can&#39;t extend dart class with executeLib",
        "score": 0,
        "views": 82,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78282974/flutter-cant-extend-dart-class-with-executelib",
        "conteudo_html": "<p>I want to be able execute dart code from a string, but I can't seem to be able to extend a class within the code in the string.</p>\n<p>Here is a basic example. With this code I get this error: Rejecting promise with error: Unexpected null value.</p>\n<p>But if I remove the extends Animal from the Dog class, It works fine and I don't get this error. Any ideas?</p>\n<pre><code>import 'package:dart_eval/dart_eval.dart';\nimport 'package:dart_eval/dart_eval_bridge.dart';\nimport 'package:dart_eval/dart_eval_extensions.dart';\nimport 'package:dart_eval/stdlib/core.dart';\nimport 'package:flutter/material.dart';\n\nclass Animal {\n}\n\nvoid main(List&lt;String&gt; args) {\n  final source = '''\n    class Dog extends Animal  {\n\n    }\n    Dog test() {\n       final dog = Dog();\n       return dog;\n    }\n    int sum(int a, int b) {\n      return a + b;\n    }\n\n    int calculate() {\n      test();\n      return sum(1, 1);\n    }\n  ''';\n\n  final compiler = Compiler();\n  compiler.defineBridgeClasses([]);\n\n  final program = compiler.compile({'example': {'main.dart': source}});\n\n  final runtime = Runtime.ofProgram(program);\n\n  final result = runtime.executeLib('package:example/main.dart', 'test', []);\n\n  print(result);\n}\n\n</code></pre>\n",
        "codigo": [
            "import 'package:dart_eval/dart_eval.dart';\nimport 'package:dart_eval/dart_eval_bridge.dart';\nimport 'package:dart_eval/dart_eval_extensions.dart';\nimport 'package:dart_eval/stdlib/core.dart';\nimport 'package:flutter/material.dart';\n\nclass Animal {\n}\n\nvoid main(List<String> args) {\n  final source = '''\n    class Dog extends Animal  {\n\n    }\n    Dog test() {\n       final dog = Dog();\n       return dog;\n    }\n    int sum(int a, int b) {\n      return a + b;\n    }\n\n    int calculate() {\n      test();\n      return sum(1, 1);\n    }\n  ''';\n\n  final compiler = Compiler();\n  compiler.defineBridgeClasses([]);\n\n  final program = compiler.compile({'example': {'main.dart': source}});\n\n  final runtime = Runtime.ofProgram(program);\n\n  final result = runtime.executeLib('package:example/main.dart', 'test', []);\n\n  print(result);\n}\n\n"
        ]
    },
    {
        "titulo": "Isolates &amp; Testing in Dart/Flutter : how to verify a call inside an Isolate?",
        "score": 0,
        "views": 553,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "testing",
            "dart-isolates"
        ],
        "link": "https://stackoverflow.com/questions/78277378/isolates-testing-in-dart-flutter-how-to-verify-a-call-inside-an-isolate",
        "conteudo_html": "<p><strong>Situation</strong>:\nI have a class Repository that is responsible for retrieving raw data from the DB and mapping it. The mapping happens in an isolate because, being a synchronous operation but, because of the amount of data, it should be async as recommended <a href=\"https://docs.flutter.dev/cookbook/networking/background-parsing#4-move-this-work-to-a-separate-isolate\" rel=\"nofollow noreferrer\">there</a>. (Note: I use Isolate.run but it's the same as compute).</p>\n<p><strong>Issue</strong>:\nI am using Mocktail package for testing (it would be the same also with Mockito), and apparently the mapping functions happening inside the isolate are called but they are not caught by the Mockito verify method.\nAfter some research, I think it happens because of the fact that isolate don't use the same input mapper object but copy it (<a href=\"https://stackoverflow.com/questions/75058944/access-variables-in-external-scope-when-using-isolation-in-dart\">source</a>): in this case, it copies the mapper object and uses it's method.</p>\n<p><strong>Questions</strong>:</p>\n<ol>\n<li>Is my assumption right that the verify calls are not caught because the isolate copies the mapper object for mapping?</li>\n<li>How would you change the repository code or the testing code to make sure the mapping is called?</li>\n</ol>\n<p>Repository code:</p>\n<pre><code>class Repository{\nfinal Source source;\nfinal Mapper mapper;\nRepository({required this.source, required this.mapper});\n\nFuture&lt;List&lt;MappedData&gt;&gt; getMappedData() async {\n final rawData = source.getRawData();\n final mappedData = await Isolate.run(()=&gt;\n _mapRawData(rawData, mapper);\n );\n return mappedData;\n }\n\n\n static List&lt;MappedData&gt; _mapRawData(List&lt;RawData&gt; rawData, Mapper mapper){\n return rawData.map((e)=&gt; mapper(e)).toList();\n }\n\n}\n</code></pre>\n<p>Testing code</p>\n<pre><code>import 'package:flutter_test/flutter_test.dart';\nimport 'package:mocktail/mocktail.dart';\n\nclass MockSource extends Mock implements Source{}\nclass MockMapper extends Mock implements Mapper{}\n\nvoid main() {\n late MockSource source;\n late MockMapper mapper;\n late Repository repository;\n\n final rawData = [\n RawData(1),\n RawData(2),\n };\n\n final mappedData = [\n MappedData(1),\n MappedData(2),\n ];\n\n setup(){\n source= MockSource();\n mapper = MockMapper();\n repository = Repository (source:source, mapper: mapper);\n }\n\n test(\n      'Repository getMappedData should call source and mapper',\n      () async {\n  //assign\n  when(()=&gt; source.getRawData).thenReturn(rawData);\n  when(()=&gt; mapper(rawData[0])).thenReturn(mappedData[0]);\n  when(()=&gt; mapper(rawData[1])).thenReturn(mappedData[1]);\n  //act\n  final result = await source.getMappedData();\n  //assert\n  expect(result, mappedData);\n  verify(()=&gt; source.getRawData).called(1);\n  verify(()=&gt; mapper(rawData[0])).called(1);\n  verify(()=&gt; mapper(rawData[1])).called(1);\n}\n</code></pre>\n<p>The <code>expect</code> works fine, only the <code>verify</code> methods trigger an error as they are never called.</p>\n",
        "codigo": [
            "class Repository{\nfinal Source source;\nfinal Mapper mapper;\nRepository({required this.source, required this.mapper});\n\nFuture<List<MappedData>> getMappedData() async {\n final rawData = source.getRawData();\n final mappedData = await Isolate.run(()=>\n _mapRawData(rawData, mapper);\n );\n return mappedData;\n }\n\n\n static List<MappedData> _mapRawData(List<RawData> rawData, Mapper mapper){\n return rawData.map((e)=> mapper(e)).toList();\n }\n\n}\n",
            "import 'package:flutter_test/flutter_test.dart';\nimport 'package:mocktail/mocktail.dart';\n\nclass MockSource extends Mock implements Source{}\nclass MockMapper extends Mock implements Mapper{}\n\nvoid main() {\n late MockSource source;\n late MockMapper mapper;\n late Repository repository;\n\n final rawData = [\n RawData(1),\n RawData(2),\n };\n\n final mappedData = [\n MappedData(1),\n MappedData(2),\n ];\n\n setup(){\n source= MockSource();\n mapper = MockMapper();\n repository = Repository (source:source, mapper: mapper);\n }\n\n test(\n      'Repository getMappedData should call source and mapper',\n      () async {\n  //assign\n  when(()=> source.getRawData).thenReturn(rawData);\n  when(()=> mapper(rawData[0])).thenReturn(mappedData[0]);\n  when(()=> mapper(rawData[1])).thenReturn(mappedData[1]);\n  //act\n  final result = await source.getMappedData();\n  //assert\n  expect(result, mappedData);\n  verify(()=> source.getRawData).called(1);\n  verify(()=> mapper(rawData[0])).called(1);\n  verify(()=> mapper(rawData[1])).called(1);\n}\n",
            "expect",
            "verify"
        ]
    },
    {
        "titulo": "What to put as parameter for Widget constructor as follow: &quot; check ????? &quot;",
        "score": -2,
        "views": 36,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78275258/what-to-put-as-parameter-for-widget-constructor-as-follow-check",
        "conteudo_html": "<pre class=\"lang-dart prettyprint-override\"><code>class ReusableCard extends StatelessWidget {\n  ReusableCard(\n      {@required this.colour = Colors.red, this.cardChild = ????????   });\n\n  final Widget cardChild;\n  final Color colour;\n  @override Widget build(BuildContext context) {return Container( child: cardChild, margin: EdgeInsets.all(15.0), decoration: BoxDecoration( color: colour, borderRadius: BorderRadius.circular(10.0)),); }\n\n//*expecting to call that cardChild abstracting it into my main class*//\n</code></pre>\n",
        "codigo": [
            "class ReusableCard extends StatelessWidget {\n  ReusableCard(\n      {@required this.colour = Colors.red, this.cardChild = ????????   });\n\n  final Widget cardChild;\n  final Color colour;\n  @override Widget build(BuildContext context) {return Container( child: cardChild, margin: EdgeInsets.all(15.0), decoration: BoxDecoration( color: colour, borderRadius: BorderRadius.circular(10.0)),); }\n\n//*expecting to call that cardChild abstracting it into my main class*//\n"
        ]
    },
    {
        "titulo": "Golang buildmode CShared, Problem with delegate func, How to Load it",
        "score": 1,
        "views": 105,
        "respostas": 0,
        "tags": [
            "c#",
            "c",
            "windows",
            "dart",
            "go"
        ],
        "link": "https://stackoverflow.com/questions/78265323/golang-buildmode-cshared-problem-with-delegate-func-how-to-load-it",
        "conteudo_html": "<p>tried for create simple function callback in cshared with golang</p>\n<pre class=\"lang-golang prettyprint-override\"><code>package main\n\nimport &quot;C&quot;\nimport &quot;fmt&quot;\n\n//export Callback\ntype Callback func()\n\n//export CallbackEvent\nfunc CallbackEvent(fn Callback) {\n    fn()\n}\n\n//export SumFunc\ntype SumFunc func(C.int, C.int) C.int\n\n//export SumEvent\nfunc SumEvent(fn SumFunc) {\n    var out C.int = fn(1, 2)\n    res := int(out)\n    fmt.Println(res)\n}\n\n//export Sum\nfunc Sum(a, b C.int) C.int {\n    return a + b\n}\n</code></pre>\n<p>but in result build, i got it</p>\n<pre><code>/* End of boilerplate cgo prologue.  */\n\n#ifdef __cplusplus\nextern &quot;C&quot; {\n#endif\n\nextern __declspec(dllexport) void CallbackEvent(void* fn);\nextern __declspec(dllexport) void SumEvent(void* fn);\nextern __declspec(dllexport) int Sum(int a, int b);\nextern __declspec(dllexport) void enforce_binding();\n\n#ifdef __cplusplus\n}\n#endif\n</code></pre>\n<p>it really work? my first time interest about cshared in golang</p>\n<p>try build into cshared, and no warning message, i want it nicely import golang with ffi, but i'm not expected it really work well</p>\n<p>what i'm not expected is <code>void*</code>, make me hard todo something like that</p>\n<p>now im simple tried in program dart, and csharp C#</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:ffi';\nimport 'lib/generated_bindings.dart';\n\nfinal NativeLibrary lib = NativeLibrary(DynamicLibrary.open('lib/example.dll'));\n\ntypedef Callback = Void Function();\n\nvoid Test() {\n  print(&quot;Callback Invoked!&quot;);\n}\n\nvoid main() {\n  print(lib.Sum(1, 2));\n  final CallbackPtr = Pointer.fromFunction&lt;Callback&gt;(Test);\n  final VoidPtr = Pointer&lt;Void&gt;.fromAddress(CallbackPtr.address);\n  lib.CallbackEvent(VoidPtr);\n}\n</code></pre>\n<p>yeah, im using ffigen for shorty impl using native library for dart usage</p>\n<pre><code>$env:CGO_ENABLED=&quot;1&quot;\n$env:GOOS=&quot;windows&quot;\n$env:GOARCH=&quot;amd64&quot;\n$env:CC=&quot;C:\\TDM-GCC-64\\bin\\gcc.exe&quot;\n\ngo build -trimpath -buildmode=c-shared -o build/lib/example.dll lib.go\ndart run ffigen --config .\\ffigen.yaml\n</code></pre>\n<p>the ffigen config like that, (default)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: NativeLibrary\ndescription: Bindings to `lib/example.h`.\noutput: 'lib/generated_bindings.dart'\nheaders:\n  entry-points:\n    - 'lib/example.h'\npreamble: |\n  // ignore_for_file: always_specify_types\n  // ignore_for_file: camel_case_types\n  // ignore_for_file: non_constant_identifier_names\n  // ignore_for_file: unused_field\n  // ignore_for_file: unused_element\ncomments:\n  style: any\n  length: full\n</code></pre>\n<p>what i got it from log after run ffigen, maybe broken or something</p>\n<pre><code>Running in Directory: 'C:\\Users\\n00b\\GolandProjects\\GoNative\\sample_dart_test_case'\nInput Headers: [.\\lib\\example.h]\n[WARNING]: No definition found for declaration - (Cursor) spelling: __crt_locale_data, kind: 2, kindSpelling: StructDecl, type: 105, typeSpelling: struct __crt_locale_data, usr: c:@S@__crt_locale_data\n[WARNING]: No definition found for declaration - (Cursor) spelling: __crt_locale_data, kind: 2, kindSpelling: StructDecl, type: 105, typeSpelling: struct __crt_locale_data, usr: c:@S@__crt_locale_data        \n[WARNING]: No definition found for declaration - (Cursor) spelling: __crt_multibyte_data, kind: 2, kindSpelling: StructDecl, type: 105, typeSpelling: struct __crt_multibyte_data, usr: c:@S@__crt_multibyte_data\n[WARNING]: No definition found for declaration - (Cursor) spelling: __crt_multibyte_data, kind: 2, kindSpelling: StructDecl, type: 105, typeSpelling: struct __crt_multibyte_data, usr: c:@S@__crt_multibyte_data\n[WARNING]: Removed All Struct Members from _C_ldouble_complex(_C_ldouble_complex), struct member has an unsupported type.\n[WARNING]: Skipped Function 'cabsl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'cacosl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'cacoshl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'cargl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'casinl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'casinhl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'catanl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'catanhl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'ccosl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'ccoshl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'cexpl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'cimagl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'clogl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'clog10l', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'conjl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'cpowl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'cprojl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'creall', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'csinl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'csinhl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'csqrtl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'ctanl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'ctanhl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'norml', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function '_LCbuild', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function '_LCmulcc', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function '_LCmulcr', Incomplete struct pass/return by value not supported.\n[WARNING]: Generated declaration '__va_start' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__security_init_cookie' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__security_check_cookie' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__report_gsfailure' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__security_cookie' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_invalid_parameter_noinfo' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_invalid_parameter_noinfo_noreturn' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_invoke_watson' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__crt_locale_data_public' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__crt_locale_pointers' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__crt_locale_data' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__crt_multibyte_data' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_Mbstatet' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_errno' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_set_errno' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_get_errno' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__threadid' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__threadhandle' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_GoString_' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_C_double_complex' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_C_float_complex' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_C_ldouble_complex' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_Dcomplex' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_Fcomplex' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_Cbuild' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_Cmulcc' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_Cmulcr' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_FCbuild' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_FCmulcc' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_FCmulcr' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_VCRT_COMPILER_PREPROCESSOR' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_SAL_VERSION' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__SAL_H_VERSION' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_USE_DECLSPECS_FOR_SAL' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_USE_ATTRIBUTES_FOR_SAL' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_PACKING' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_VCRUNTIME_DISABLED_WARNINGS' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_HAS_EXCEPTIONS' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_WCHAR_T_DEFINED' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_HAS_CXX17' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_HAS_CXX20' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_HAS_CXX23' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_HAS_NODISCARD' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_ARM_WINAPI_PARTITION_DESKTOP_SDK_AVAILABLE' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_BUILD_DESKTOP_APP' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_UCRT_DISABLED_WARNINGS' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_ARGMAX' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_TRUNCATE' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_INT_MAX' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_SIZE_MAX' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__FILEW__' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_FUNCTIONS_REQUIRED' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_HAS_CXX17' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_HAS_C11' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_INTERNAL_NONSTDC_NAMES' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__STDC_SECURE_LIB__' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__GOT_SECURE_LIB__' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__STDC_WANT_SECURE_LIB__' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_SECURECRT_FILL_BUFFER_PATTERN' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_SECURE_CPP_OVERLOAD_STANDARD_NAMES' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_SECURE_CPP_OVERLOAD_STANDARD_NAMES_COUNT' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_SECURE_CPP_OVERLOAD_SECURE_NAMES' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_SECURE_CPP_OVERLOAD_STANDARD_NAMES_MEMORY' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_SECURE_CPP_OVERLOAD_SECURE_NAMES_MEMORY' starts with '_' and therefore will be private.\nFinished, Bindings generated in C:\\Users\\n00b\\GolandProjects\\GoNative\\sample_dart_test_case\\.\\lib\\generated_bindings.dart\n</code></pre>\n<p>after that, i'm run dart script, get output like that</p>\n<pre><code>&gt; dart run .\\main.dart\n3\nunexpected fault address 0xffffffffffffffff\nfatal error: fault\n[signal 0xc0000005 code=0x0 addr=0xffffffffffffffff pc=0x7fff31839c90]\n\ngoroutine 17 gp=0xc00006a380 m=1 mp=0xc000076008 [running, locked to thread]:\nruntime.throw({0x7fff3186a250?, 0xc00006a380?})\n        runtime/panic.go:1023 +0x65 fp=0xc000073e00 sp=0xc000073dd0 pc=0x7fff317e4f05\nruntime.sigpanic()\n        runtime/signal_windows.go:414 +0xd0 fp=0xc000073e48 sp=0xc000073e00 pc=0x7fff317f8fd0\nmain.CallbackEvent(...)\n        ./lib.go:11\n_cgoexp_cece72054328_CallbackEvent(0x7fff317f0b3e?)\n        _cgo_gotypes.go:44 +0x10 fp=0xc000073e58 sp=0xc000073e48 pc=0x7fff31839c90\nruntime.cgocallbackg1(0x7fff31839c80, 0xf4ae6fedd8, 0x0)\n        runtime/cgocall.go:403 +0x2b1 fp=0xc000073f18 sp=0xc000073e58 pc=0x7fff317b5a51\nruntime.cgocallbackg(0x7fff31839c80, 0xf4ae6fedd8, 0x0)\n        runtime/cgocall.go:322 +0x133 fp=0xc000073f90 sp=0xc000073f18 pc=0x7fff317b56f3\nruntime.cgocallbackg(0x7fff31839c80, 0xf4ae6fedd8, 0x0)\n        &lt;autogenerated&gt;:1 +0x2e fp=0xc000073fb8 sp=0xc000073f90 pc=0x7fff3181724e\nruntime.cgocallback(0x0, 0x0, 0x0)\n        runtime/asm_amd64.s:1079 +0xec fp=0xc000073fe0 sp=0xc000073fb8 pc=0x7fff3181272c\nruntime.goexit({})\n        runtime/asm_amd64.s:1695 +0x1 fp=0xc000073fe8 sp=0xc000073fe0 pc=0x7fff318129a1\n\ngoroutine 2 gp=0xc00006a700 m=nil [force gc (idle)]:\nruntime.gopark(0x0?, 0x0?, 0x0?, 0x0?, 0x0?)\n        runtime/proc.go:402 +0xce fp=0xc00006dfa8 sp=0xc00006df88 pc=0x7fff317e7c2e\nruntime.goparkunlock(...)\n        runtime/proc.go:408\nruntime.forcegchelper()\n        runtime/proc.go:326 +0xb8 fp=0xc00006dfe0 sp=0xc00006dfa8 pc=0x7fff317e7ab8\nruntime.goexit({})\n        runtime/asm_amd64.s:1695 +0x1 fp=0xc00006dfe8 sp=0xc00006dfe0 pc=0x7fff318129a1\ncreated by runtime.init.6 in goroutine 1\n        runtime/proc.go:314 +0x1a\n\ngoroutine 3 gp=0xc00006aa80 m=nil [GC sweep wait]:\nruntime.gopark(0x0?, 0x0?, 0x0?, 0x0?, 0x0?)\n        runtime/proc.go:402 +0xce fp=0xc00006ff80 sp=0xc00006ff60 pc=0x7fff317e7c2e\nruntime.goparkunlock(...)\n        runtime/proc.go:408\nruntime.bgsweep(0xc00007a000)\n        runtime/mgcsweep.go:278 +0x94 fp=0xc00006ffc8 sp=0xc00006ff80 pc=0x7fff317d2af4\nruntime.gcenable.gowrap1()\n        runtime/mgc.go:203 +0x25 fp=0xc00006ffe0 sp=0xc00006ffc8 pc=0x7fff317c7605\nruntime.goexit({})\n        runtime/asm_amd64.s:1695 +0x1 fp=0xc00006ffe8 sp=0xc00006ffe0 pc=0x7fff318129a1\ncreated by runtime.gcenable in goroutine 1\n        runtime/mgc.go:203 +0x66\n\ngoroutine 4 gp=0xc00006ac40 m=nil [GC scavenge wait]:\nruntime.gopark(0xc00007a000?, 0x7fff3188ba70?, 0x1?, 0x0?, 0xc00006ac40?)\n        runtime/proc.go:402 +0xce fp=0xc000085f78 sp=0xc000085f58 pc=0x7fff317e7c2e\nruntime.goparkunlock(...)\n        runtime/proc.go:408\nruntime.(*scavengerState).park(0x7fff318fd680)\n        runtime/mgcscavenge.go:425 +0x49 fp=0xc000085fa8 sp=0xc000085f78 pc=0x7fff317d04e9\nruntime.bgscavenge(0xc00007a000)\n        runtime/mgcscavenge.go:653 +0x3c fp=0xc000085fc8 sp=0xc000085fa8 pc=0x7fff317d0a7c\nruntime.gcenable.gowrap2()\n        runtime/mgc.go:204 +0x25 fp=0xc000085fe0 sp=0xc000085fc8 pc=0x7fff317c75a5\nruntime.goexit({})\n        runtime/asm_amd64.s:1695 +0x1 fp=0xc000085fe8 sp=0xc000085fe0 pc=0x7fff318129a1\ncreated by runtime.gcenable in goroutine 1\n        runtime/mgc.go:204 +0xa5\n\ngoroutine 19 gp=0xc00008c380 m=nil [finalizer wait]:\nruntime.gopark(0xc000071e48?, 0x7fff317bdf85?, 0xa8?, 0x1?, 0xc00006a000?)\n        runtime/proc.go:402 +0xce fp=0xc000071e20 sp=0xc000071e00 pc=0x7fff317e7c2e\nruntime.runfinq()\n        runtime/mfinal.go:194 +0x107 fp=0xc000071fe0 sp=0xc000071e20 pc=0x7fff317c6687\nruntime.goexit({})\n        runtime/asm_amd64.s:1695 +0x1 fp=0xc000071fe8 sp=0xc000071fe0 pc=0x7fff318129a1\ncreated by runtime.createfing in goroutine 1\n        runtime/mfinal.go:164 +0x3d\n</code></pre>\n<p>you see, the first function correctly working well, but callback event doesn't work /(0-0)/</p>\n<p>i tried using csharp C#, using anaconda3 CS Kernel for this one moment</p>\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.Runtime.InteropServices;\n\nunsafe \n{\n[DllImport(@&quot;C:\\Users\\n00b\\GolandProjects\\GoNative\\sample_dart_test_case\\lib\\example.dll&quot;, CallingConvention=CallingConvention.Cdecl)]\nstatic extern void CallbackEvent(void* cb);\n\nstatic void CallbackTest() {\n    Console.WriteLine(&quot;Callback Invoked!&quot;);\n}\n\nIntPtr CallbackPtr = Marshal.GetFunctionPointerForDelegate(CallbackTest);\nCallbackEvent((void*)CallbackPtr);\n}\n</code></pre>\n<p>what i got it from this output (Popup currently) like that</p>\n<pre><code>The kernel for Desktop/Concepts Virtual Memory Object Binary Tree/csharp_jupyter_notebook/csharp_load_library.ipynb appears to have died. It will restart automatically.\n</code></pre>\n<p>/(0-0)/ I don't have any idea to load it, or something wrong with my implementation, if u have the answer, make me list too about datatype primitive for the future like</p>\n<pre class=\"lang-golang prettyprint-override\"><code>func Message() string { // handle string in C\n    // ...\n}\n\ntype Bytes []byte\n\nfunc Buffer() Bytes { // handle bytes in C\n    // ...\n}\n</code></pre>\n<p>/(0-0)/ help me Senpai!</p>\n",
        "codigo": [
            "package main\n\nimport \"C\"\nimport \"fmt\"\n\n//export Callback\ntype Callback func()\n\n//export CallbackEvent\nfunc CallbackEvent(fn Callback) {\n    fn()\n}\n\n//export SumFunc\ntype SumFunc func(C.int, C.int) C.int\n\n//export SumEvent\nfunc SumEvent(fn SumFunc) {\n    var out C.int = fn(1, 2)\n    res := int(out)\n    fmt.Println(res)\n}\n\n//export Sum\nfunc Sum(a, b C.int) C.int {\n    return a + b\n}\n",
            "/* End of boilerplate cgo prologue.  */\n\n#ifdef __cplusplus\nextern \"C\" {\n#endif\n\nextern __declspec(dllexport) void CallbackEvent(void* fn);\nextern __declspec(dllexport) void SumEvent(void* fn);\nextern __declspec(dllexport) int Sum(int a, int b);\nextern __declspec(dllexport) void enforce_binding();\n\n#ifdef __cplusplus\n}\n#endif\n",
            "void*",
            "import 'dart:ffi';\nimport 'lib/generated_bindings.dart';\n\nfinal NativeLibrary lib = NativeLibrary(DynamicLibrary.open('lib/example.dll'));\n\ntypedef Callback = Void Function();\n\nvoid Test() {\n  print(\"Callback Invoked!\");\n}\n\nvoid main() {\n  print(lib.Sum(1, 2));\n  final CallbackPtr = Pointer.fromFunction<Callback>(Test);\n  final VoidPtr = Pointer<Void>.fromAddress(CallbackPtr.address);\n  lib.CallbackEvent(VoidPtr);\n}\n",
            "$env:CGO_ENABLED=\"1\"\n$env:GOOS=\"windows\"\n$env:GOARCH=\"amd64\"\n$env:CC=\"C:\\TDM-GCC-64\\bin\\gcc.exe\"\n\ngo build -trimpath -buildmode=c-shared -o build/lib/example.dll lib.go\ndart run ffigen --config .\\ffigen.yaml\n",
            "name: NativeLibrary\ndescription: Bindings to `lib/example.h`.\noutput: 'lib/generated_bindings.dart'\nheaders:\n  entry-points:\n    - 'lib/example.h'\npreamble: |\n  // ignore_for_file: always_specify_types\n  // ignore_for_file: camel_case_types\n  // ignore_for_file: non_constant_identifier_names\n  // ignore_for_file: unused_field\n  // ignore_for_file: unused_element\ncomments:\n  style: any\n  length: full\n",
            "Running in Directory: 'C:\\Users\\n00b\\GolandProjects\\GoNative\\sample_dart_test_case'\nInput Headers: [.\\lib\\example.h]\n[WARNING]: No definition found for declaration - (Cursor) spelling: __crt_locale_data, kind: 2, kindSpelling: StructDecl, type: 105, typeSpelling: struct __crt_locale_data, usr: c:@S@__crt_locale_data\n[WARNING]: No definition found for declaration - (Cursor) spelling: __crt_locale_data, kind: 2, kindSpelling: StructDecl, type: 105, typeSpelling: struct __crt_locale_data, usr: c:@S@__crt_locale_data        \n[WARNING]: No definition found for declaration - (Cursor) spelling: __crt_multibyte_data, kind: 2, kindSpelling: StructDecl, type: 105, typeSpelling: struct __crt_multibyte_data, usr: c:@S@__crt_multibyte_data\n[WARNING]: No definition found for declaration - (Cursor) spelling: __crt_multibyte_data, kind: 2, kindSpelling: StructDecl, type: 105, typeSpelling: struct __crt_multibyte_data, usr: c:@S@__crt_multibyte_data\n[WARNING]: Removed All Struct Members from _C_ldouble_complex(_C_ldouble_complex), struct member has an unsupported type.\n[WARNING]: Skipped Function 'cabsl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'cacosl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'cacoshl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'cargl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'casinl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'casinhl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'catanl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'catanhl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'ccosl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'ccoshl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'cexpl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'cimagl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'clogl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'clog10l', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'conjl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'cpowl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'cprojl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'creall', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'csinl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'csinhl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'csqrtl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'ctanl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'ctanhl', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function 'norml', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function '_LCbuild', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function '_LCmulcc', Incomplete struct pass/return by value not supported.\n[WARNING]: Skipped Function '_LCmulcr', Incomplete struct pass/return by value not supported.\n[WARNING]: Generated declaration '__va_start' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__security_init_cookie' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__security_check_cookie' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__report_gsfailure' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__security_cookie' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_invalid_parameter_noinfo' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_invalid_parameter_noinfo_noreturn' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_invoke_watson' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__crt_locale_data_public' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__crt_locale_pointers' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__crt_locale_data' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__crt_multibyte_data' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_Mbstatet' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_errno' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_set_errno' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_get_errno' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__threadid' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__threadhandle' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_GoString_' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_C_double_complex' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_C_float_complex' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_C_ldouble_complex' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_Dcomplex' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_Fcomplex' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_Cbuild' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_Cmulcc' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_Cmulcr' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_FCbuild' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_FCmulcc' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_FCmulcr' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_VCRT_COMPILER_PREPROCESSOR' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_SAL_VERSION' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__SAL_H_VERSION' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_USE_DECLSPECS_FOR_SAL' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_USE_ATTRIBUTES_FOR_SAL' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_PACKING' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_VCRUNTIME_DISABLED_WARNINGS' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_HAS_EXCEPTIONS' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_WCHAR_T_DEFINED' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_HAS_CXX17' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_HAS_CXX20' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_HAS_CXX23' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_HAS_NODISCARD' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_ARM_WINAPI_PARTITION_DESKTOP_SDK_AVAILABLE' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_BUILD_DESKTOP_APP' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_UCRT_DISABLED_WARNINGS' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_ARGMAX' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_TRUNCATE' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_INT_MAX' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_SIZE_MAX' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__FILEW__' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_FUNCTIONS_REQUIRED' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_HAS_CXX17' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_HAS_C11' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_INTERNAL_NONSTDC_NAMES' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__STDC_SECURE_LIB__' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__GOT_SECURE_LIB__' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '__STDC_WANT_SECURE_LIB__' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_SECURECRT_FILL_BUFFER_PATTERN' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_SECURE_CPP_OVERLOAD_STANDARD_NAMES' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_SECURE_CPP_OVERLOAD_STANDARD_NAMES_COUNT' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_SECURE_CPP_OVERLOAD_SECURE_NAMES' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_SECURE_CPP_OVERLOAD_STANDARD_NAMES_MEMORY' starts with '_' and therefore will be private.\n[WARNING]: Generated declaration '_CRT_SECURE_CPP_OVERLOAD_SECURE_NAMES_MEMORY' starts with '_' and therefore will be private.\nFinished, Bindings generated in C:\\Users\\n00b\\GolandProjects\\GoNative\\sample_dart_test_case\\.\\lib\\generated_bindings.dart\n",
            "> dart run .\\main.dart\n3\nunexpected fault address 0xffffffffffffffff\nfatal error: fault\n[signal 0xc0000005 code=0x0 addr=0xffffffffffffffff pc=0x7fff31839c90]\n\ngoroutine 17 gp=0xc00006a380 m=1 mp=0xc000076008 [running, locked to thread]:\nruntime.throw({0x7fff3186a250?, 0xc00006a380?})\n        runtime/panic.go:1023 +0x65 fp=0xc000073e00 sp=0xc000073dd0 pc=0x7fff317e4f05\nruntime.sigpanic()\n        runtime/signal_windows.go:414 +0xd0 fp=0xc000073e48 sp=0xc000073e00 pc=0x7fff317f8fd0\nmain.CallbackEvent(...)\n        ./lib.go:11\n_cgoexp_cece72054328_CallbackEvent(0x7fff317f0b3e?)\n        _cgo_gotypes.go:44 +0x10 fp=0xc000073e58 sp=0xc000073e48 pc=0x7fff31839c90\nruntime.cgocallbackg1(0x7fff31839c80, 0xf4ae6fedd8, 0x0)\n        runtime/cgocall.go:403 +0x2b1 fp=0xc000073f18 sp=0xc000073e58 pc=0x7fff317b5a51\nruntime.cgocallbackg(0x7fff31839c80, 0xf4ae6fedd8, 0x0)\n        runtime/cgocall.go:322 +0x133 fp=0xc000073f90 sp=0xc000073f18 pc=0x7fff317b56f3\nruntime.cgocallbackg(0x7fff31839c80, 0xf4ae6fedd8, 0x0)\n        <autogenerated>:1 +0x2e fp=0xc000073fb8 sp=0xc000073f90 pc=0x7fff3181724e\nruntime.cgocallback(0x0, 0x0, 0x0)\n        runtime/asm_amd64.s:1079 +0xec fp=0xc000073fe0 sp=0xc000073fb8 pc=0x7fff3181272c\nruntime.goexit({})\n        runtime/asm_amd64.s:1695 +0x1 fp=0xc000073fe8 sp=0xc000073fe0 pc=0x7fff318129a1\n\ngoroutine 2 gp=0xc00006a700 m=nil [force gc (idle)]:\nruntime.gopark(0x0?, 0x0?, 0x0?, 0x0?, 0x0?)\n        runtime/proc.go:402 +0xce fp=0xc00006dfa8 sp=0xc00006df88 pc=0x7fff317e7c2e\nruntime.goparkunlock(...)\n        runtime/proc.go:408\nruntime.forcegchelper()\n        runtime/proc.go:326 +0xb8 fp=0xc00006dfe0 sp=0xc00006dfa8 pc=0x7fff317e7ab8\nruntime.goexit({})\n        runtime/asm_amd64.s:1695 +0x1 fp=0xc00006dfe8 sp=0xc00006dfe0 pc=0x7fff318129a1\ncreated by runtime.init.6 in goroutine 1\n        runtime/proc.go:314 +0x1a\n\ngoroutine 3 gp=0xc00006aa80 m=nil [GC sweep wait]:\nruntime.gopark(0x0?, 0x0?, 0x0?, 0x0?, 0x0?)\n        runtime/proc.go:402 +0xce fp=0xc00006ff80 sp=0xc00006ff60 pc=0x7fff317e7c2e\nruntime.goparkunlock(...)\n        runtime/proc.go:408\nruntime.bgsweep(0xc00007a000)\n        runtime/mgcsweep.go:278 +0x94 fp=0xc00006ffc8 sp=0xc00006ff80 pc=0x7fff317d2af4\nruntime.gcenable.gowrap1()\n        runtime/mgc.go:203 +0x25 fp=0xc00006ffe0 sp=0xc00006ffc8 pc=0x7fff317c7605\nruntime.goexit({})\n        runtime/asm_amd64.s:1695 +0x1 fp=0xc00006ffe8 sp=0xc00006ffe0 pc=0x7fff318129a1\ncreated by runtime.gcenable in goroutine 1\n        runtime/mgc.go:203 +0x66\n\ngoroutine 4 gp=0xc00006ac40 m=nil [GC scavenge wait]:\nruntime.gopark(0xc00007a000?, 0x7fff3188ba70?, 0x1?, 0x0?, 0xc00006ac40?)\n        runtime/proc.go:402 +0xce fp=0xc000085f78 sp=0xc000085f58 pc=0x7fff317e7c2e\nruntime.goparkunlock(...)\n        runtime/proc.go:408\nruntime.(*scavengerState).park(0x7fff318fd680)\n        runtime/mgcscavenge.go:425 +0x49 fp=0xc000085fa8 sp=0xc000085f78 pc=0x7fff317d04e9\nruntime.bgscavenge(0xc00007a000)\n        runtime/mgcscavenge.go:653 +0x3c fp=0xc000085fc8 sp=0xc000085fa8 pc=0x7fff317d0a7c\nruntime.gcenable.gowrap2()\n        runtime/mgc.go:204 +0x25 fp=0xc000085fe0 sp=0xc000085fc8 pc=0x7fff317c75a5\nruntime.goexit({})\n        runtime/asm_amd64.s:1695 +0x1 fp=0xc000085fe8 sp=0xc000085fe0 pc=0x7fff318129a1\ncreated by runtime.gcenable in goroutine 1\n        runtime/mgc.go:204 +0xa5\n\ngoroutine 19 gp=0xc00008c380 m=nil [finalizer wait]:\nruntime.gopark(0xc000071e48?, 0x7fff317bdf85?, 0xa8?, 0x1?, 0xc00006a000?)\n        runtime/proc.go:402 +0xce fp=0xc000071e20 sp=0xc000071e00 pc=0x7fff317e7c2e\nruntime.runfinq()\n        runtime/mfinal.go:194 +0x107 fp=0xc000071fe0 sp=0xc000071e20 pc=0x7fff317c6687\nruntime.goexit({})\n        runtime/asm_amd64.s:1695 +0x1 fp=0xc000071fe8 sp=0xc000071fe0 pc=0x7fff318129a1\ncreated by runtime.createfing in goroutine 1\n        runtime/mfinal.go:164 +0x3d\n",
            "using System;\nusing System.Runtime.InteropServices;\n\nunsafe \n{\n[DllImport(@\"C:\\Users\\n00b\\GolandProjects\\GoNative\\sample_dart_test_case\\lib\\example.dll\", CallingConvention=CallingConvention.Cdecl)]\nstatic extern void CallbackEvent(void* cb);\n\nstatic void CallbackTest() {\n    Console.WriteLine(\"Callback Invoked!\");\n}\n\nIntPtr CallbackPtr = Marshal.GetFunctionPointerForDelegate(CallbackTest);\nCallbackEvent((void*)CallbackPtr);\n}\n",
            "The kernel for Desktop/Concepts Virtual Memory Object Binary Tree/csharp_jupyter_notebook/csharp_load_library.ipynb appears to have died. It will restart automatically.\n",
            "func Message() string { // handle string in C\n    // ...\n}\n\ntype Bytes []byte\n\nfunc Buffer() Bytes { // handle bytes in C\n    // ...\n}\n"
        ]
    },
    {
        "titulo": "I am getting &quot;binding has not yet been initialized&quot; error when trying to connect firebase with flutter",
        "score": 0,
        "views": 560,
        "respostas": 1,
        "tags": [
            "android",
            "ios",
            "flutter",
            "firebase",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78250650/i-am-getting-binding-has-not-yet-been-initialized-error-when-trying-to-connect",
        "conteudo_html": "<p>Please, any help would be appreciated and googling doesn't seem to be producing any proper solutions here. What confuses me even more is that this error now appears even when trying to run apps with no firebase or even async functions, making doing anything else in flutter essentially impossible for me now.\nI have been trying to learn firebase and have followed the steps as shown here without much issues.\nWhen googling the solution for the problem I am facing(error message at the end of the post), a common fix I have seen is adding just this line to the main function.</p>\n<pre><code>\nWidgetsFlutterBinding.ensureInitialized();\n</code></pre>\n<p>However I already have it and I still keep getting the same error again. Here is my void main function.</p>\n<pre><code>void main() async{\nWidgetsFlutterBinding.ensureInitialized();\n await Firebase.initializeApp(\n  options: DefaultFirebaseOptions.currentPlatform,\n);\n  runApp(const App());\n}\n</code></pre>\n<p>Here is the error in question:</p>\n<pre><code>\nLaunching lib\\main.dart on sdk gphone x86 64 in debug mode...\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:309:24: Error: String starting with ' must end with '.\n          ErrorSummary('Binding has not yet been iException has occurred.Exception has occurred.\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:93: Error: Expected ',' before this.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:98: Error: Expected ',' before this.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:106: Error: Expected ',' before this.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:110: Error: Expected ',' before this.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:115: Error: Expected ',' before this.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:115: Error: Undefined name 'initialized'.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:30: Error: 'done' isn't a type.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                             ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:22: Error: Expected identifier, but got 'this'.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                     ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:35: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                  ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:38: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                     ^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:46: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:90: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                         ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:93: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:109: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:116: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:122: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:126: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:105: Error: Undefined name 'the'.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:109: Error: Undefined name 'latter'.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:116: Error: Undefined name 'calls'.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:122: Error: Undefined name 'the'.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:126: Error: Undefined name 'former'.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:145: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:150: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:158: Error: 'done' isn't a type.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:150: Error: Undefined name 'call'.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:163: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:163: Error: 'in' can't be used as an identifier because it's a keyword.\nTry renaming this to be an identifier that isn't a keyword.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:166: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:170: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:184: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:184: Error: Undefined name 'method'.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:196: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^^^^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:216: Error: Expected ',' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:226: Error: 'idempotent' isn't a type.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:216: Error: Undefined name 'method'.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:310:25: Error: Undefined name 'Binding'.\n          FlutterError (Binding has not yet been initialized.\n                        ^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:310:33: Error: Undefined name 'has'.\n          FlutterError (Binding has not yet been initialized.\n                                ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:310:37: Error: Undefined name 'not'.\n          FlutterError (Binding has not yet been initialized.\n                                    ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:310:41: Error: Undefined name 'yet'.\n          FlutterError (Binding has not yet been initialized.\n                                        ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:310:45: Error: Undefined name 'been'.\n          FlutterError (Binding has not yet been initialized.\n                                            ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:26: Error: Undefined name 'getter'.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                         ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:33: Error: Undefined name 'on'.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:36: Error: Undefined name 'the'.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                   ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:40: Error: Undefined name 'ServicesBinding'.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                       ^^^^^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:56: Error: Undefined name 'binding'.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                       ^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:78: Error: Undefined name 'available'.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                             ^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:88: Error: Undefined name 'once'.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                       ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:93: Error: Undefined name 'that'.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:98: Error: Undefined name 'binding'.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:106: Error: Undefined name 'has'.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:110: Error: Undefined name 'been'.\n          The &quot;instance&quot; getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:35: Error: Undefined name 'by'.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                  ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:38: Error: Undefined name 'calling'.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                     ^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:90: Error: Undefined name 'or'.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                         ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:145: Error: Expected identifier, but got 'this'.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:163: Error: Undefined name 'in'.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:166: Error: Undefined name 'the'.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:310:24: Error: Too many positional arguments: 1 allowed, but 34 found.\nTry removing the extra positional arguments.\n          FlutterError (Binding has not yet been initialized.\n                       ^\n../../flutter/packages/flutter/lib/src/foundation/assertions.dart:789:11: Context: Found this candidate, but the arguments don't match.\n  factory FlutterError(String message) {\n          ^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:309:23: Error: Too many positional arguments: 1 allowed, but 2 found.\nTry removing the extra positional arguments.\n          ErrorSummary('Binding has not yet been iException has occurred.Exception has occurred.\n                      ^\n../../flutter/packages/flutter/lib/src/foundation/assertions.dart:311:3: Context: Found this candidate, but the arguments don't match.\n  ErrorSummary(super.message) : super(level: DiagnosticLevel.summary);\n  ^^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:236: Error: Expected ']' before this.\n          Typically, this is done by calling &quot;WidgetsFlutterBinding.ensureInitialized()&quot; or &quot;runApp()&quot; (the latter calls the former). Typically this call is done in the &quot;void main()&quot; method. The &quot;ensureInitialized&quot; method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^\nTarget kernel_snapshot failed: Exception\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript 'C:\\Users\\kaust\\OneDrive\\Documents\\Flutter\\flutter\\packages\\flutter_tools\\gradle\\src\\main\\groovy\\flutter.groovy' line: 1297\n\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuildDebug'.\n&gt; Process 'command 'C:\\Users\\kaust\\OneDrive\\Documents\\Flutter\\flutter\\bin\\flutter.bat'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\nException: Gradle task assembleDebug failed with exit code 1\n\n\nExited (1).\n\n</code></pre>\n<p>Any help would be appreciated.</p>\n<p>As already stated, WidgetsFlutterBinding.ensureInitialized() does not work.</p>\n<p>I am not sure if this helps, but I have tried to run the following gradle command :</p>\n<pre><code>cd android\n./gradlew build --warning-mode all\n</code></pre>\n<p>and get the following output in terminal:</p>\n<pre><code>&gt; Task :gradle:compileGroovy FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':gradle:compileGroovy'.\n&gt; BUG! exception in phase 'semantic analysis' in source unit 'C:\\Users\\kaust\\OneDrive\\Documents\\Flutter\\flutter\\packages\\flutter_tools\\gradle\\src\\main\\groovy\\flutter.groovy' Unsupported class file major version 64\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 8s\n2 actionable tasks: 1 executed, 1 up-to-date\n</code></pre>\n<p>What I find more concerning is that now none of my flutter projects work and all show the same error, even those which do not have firebase connected to them. At this point I am not even sure whether this is an issue with firebase or something else.\nI am not sure how to interpret this, but I hope someone more knowledgeable than me can help me understand.</p>\n",
        "codigo": [
            "\nWidgetsFlutterBinding.ensureInitialized();\n",
            "void main() async{\nWidgetsFlutterBinding.ensureInitialized();\n await Firebase.initializeApp(\n  options: DefaultFirebaseOptions.currentPlatform,\n);\n  runApp(const App());\n}\n",
            "\nLaunching lib\\main.dart on sdk gphone x86 64 in debug mode...\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:309:24: Error: String starting with ' must end with '.\n          ErrorSummary('Binding has not yet been iException has occurred.Exception has occurred.\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:93: Error: Expected ',' before this.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:98: Error: Expected ',' before this.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:106: Error: Expected ',' before this.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:110: Error: Expected ',' before this.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:115: Error: Expected ',' before this.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:115: Error: Undefined name 'initialized'.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:30: Error: 'done' isn't a type.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                             ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:22: Error: Expected identifier, but got 'this'.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                     ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:35: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                  ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:38: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                     ^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:46: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:90: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                         ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:93: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:109: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:116: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:122: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:126: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:105: Error: Undefined name 'the'.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:109: Error: Undefined name 'latter'.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:116: Error: Undefined name 'calls'.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:122: Error: Undefined name 'the'.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:126: Error: Undefined name 'former'.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:145: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:150: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:158: Error: 'done' isn't a type.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:150: Error: Undefined name 'call'.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:163: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:163: Error: 'in' can't be used as an identifier because it's a keyword.\nTry renaming this to be an identifier that isn't a keyword.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:166: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:170: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:184: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:184: Error: Undefined name 'method'.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:196: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^^^^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:216: Error: Expected ',' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:226: Error: 'idempotent' isn't a type.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:216: Error: Undefined name 'method'.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:310:25: Error: Undefined name 'Binding'.\n          FlutterError (Binding has not yet been initialized.\n                        ^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:310:33: Error: Undefined name 'has'.\n          FlutterError (Binding has not yet been initialized.\n                                ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:310:37: Error: Undefined name 'not'.\n          FlutterError (Binding has not yet been initialized.\n                                    ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:310:41: Error: Undefined name 'yet'.\n          FlutterError (Binding has not yet been initialized.\n                                        ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:310:45: Error: Undefined name 'been'.\n          FlutterError (Binding has not yet been initialized.\n                                            ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:26: Error: Undefined name 'getter'.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                         ^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:33: Error: Undefined name 'on'.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:36: Error: Undefined name 'the'.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                   ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:40: Error: Undefined name 'ServicesBinding'.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                       ^^^^^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:56: Error: Undefined name 'binding'.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                       ^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:78: Error: Undefined name 'available'.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                             ^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:88: Error: Undefined name 'once'.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                       ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:93: Error: Undefined name 'that'.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:98: Error: Undefined name 'binding'.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:106: Error: Undefined name 'has'.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:311:110: Error: Undefined name 'been'.\n          The \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:35: Error: Undefined name 'by'.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                  ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:38: Error: Undefined name 'calling'.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                     ^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:90: Error: Undefined name 'or'.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                         ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:145: Error: Expected identifier, but got 'this'.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:163: Error: Undefined name 'in'.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:166: Error: Undefined name 'the'.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:310:24: Error: Too many positional arguments: 1 allowed, but 34 found.\nTry removing the extra positional arguments.\n          FlutterError (Binding has not yet been initialized.\n                       ^\n../../flutter/packages/flutter/lib/src/foundation/assertions.dart:789:11: Context: Found this candidate, but the arguments don't match.\n  factory FlutterError(String message) {\n          ^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:309:23: Error: Too many positional arguments: 1 allowed, but 2 found.\nTry removing the extra positional arguments.\n          ErrorSummary('Binding has not yet been iException has occurred.Exception has occurred.\n                      ^\n../../flutter/packages/flutter/lib/src/foundation/assertions.dart:311:3: Context: Found this candidate, but the arguments don't match.\n  ErrorSummary(super.message) : super(level: DiagnosticLevel.summary);\n  ^^^^^^^^^^^^\n../../flutter/packages/flutter/lib/src/foundation/binding.dart:312:236: Error: Expected ']' before this.\n          Typically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After ca\n                                                                                          ^\nTarget kernel_snapshot failed: Exception\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript 'C:\\Users\\kaust\\OneDrive\\Documents\\Flutter\\flutter\\packages\\flutter_tools\\gradle\\src\\main\\groovy\\flutter.groovy' line: 1297\n\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuildDebug'.\n> Process 'command 'C:\\Users\\kaust\\OneDrive\\Documents\\Flutter\\flutter\\bin\\flutter.bat'' finished with non-zero exit value 1\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\nException: Gradle task assembleDebug failed with exit code 1\n\n\nExited (1).\n\n",
            "cd android\n./gradlew build --warning-mode all\n",
            "> Task :gradle:compileGroovy FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':gradle:compileGroovy'.\n> BUG! exception in phase 'semantic analysis' in source unit 'C:\\Users\\kaust\\OneDrive\\Documents\\Flutter\\flutter\\packages\\flutter_tools\\gradle\\src\\main\\groovy\\flutter.groovy' Unsupported class file major version 64\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 8s\n2 actionable tasks: 1 executed, 1 up-to-date\n"
        ]
    },
    {
        "titulo": "type &#39;Null&#39; is not a subtype of type &#39;Future&lt;List&lt;Job&gt;&gt; when unit testing a throw",
        "score": 0,
        "views": 75,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "testing",
            "bloc"
        ],
        "link": "https://stackoverflow.com/questions/78238600/type-null-is-not-a-subtype-of-type-futurelistjob-when-unit-testing-a-thro",
        "conteudo_html": "<p>i'm trying to unit test a method in my BLoC but i'm encountering a strange error:</p>\n<blockquote>\n<p>No matching calls. All calls: MockAlertBloc.add(AlertError(type 'Null' is not a subtype of type 'Future&lt;List&gt;', null))\n(If you called <code>verify(...).called(0);</code>, please instead use <code>verifyNever(...);</code>.)\npackage:matcher                            fail\npackage:mocktail/src/mocktail.dart 728:7   _VerifyCall._checkWith\npackage:mocktail/src/mocktail.dart 519:18  _makeVerify.\ntest/blocs/job_bloc_test.dart        main..</p>\n</blockquote>\n<p>I debugged it and figured out it was throwed by the jobRepository.getJobs(), which makes no sense because I'm litterally mocking that method in my test.</p>\n<p>Is there anything I'm doing wrong in here ?</p>\n<p>My BLoC method:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>  void _onFetch(JobFetch event, Emitter&lt;JobState&gt; emit) async {\n    JobState oldState = state;\n    try {\n      emit(JobLoading());\n      List&lt;Job&gt; jobs = await jobRepository.getJobs();\n      emit(JobLoaded(jobs: jobs));\n    } catch (e, stacktrace) {\n      emit(oldState);\n      alertBloc.add(AlertError(error: e, stackTrace: stacktrace));\n    }\n  }\n</code></pre>\n<p>and this is my test file:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MockJobRepository extends Mock implements JobRepository {}\n\nclass MockAlertBloc extends MockBloc&lt;AlertEvent, AlertState&gt;\n    implements AlertBloc {}\n\nclass MockAuthBloc extends MockBloc&lt;AuthEvent, AuthState&gt; implements AuthBloc {\n  @override\n  AuthState get state =&gt; AuthLoggedIn();\n}\n\nvoid main() {\n  group('JobBloc', () {\n    late JobRepository jobRepository;\n    late AuthBloc authBloc;\n    late AlertBloc alertBloc;\n    late JobBloc jobBloc;\n\n    setUp(() {\n      jobRepository = MockJobRepository();\n      authBloc = MockAuthBloc();\n      alertBloc = MockAlertBloc();\n      jobBloc = JobBloc(\n        jobRepository: jobRepository,\n        authBloc: authBloc,\n        alertBloc: alertBloc,\n      );\n    });\n\n    test('adds AlertError to AlertBloc when an error occurs during JobFetch',\n        () async {\n      final error = Exception('Error fetching jobs');\n\n      when(() =&gt; jobRepository.getJobs()).thenThrow(error);\n\n      final expectedStates = [\n        JobInitial(), // Old state\n      ];\n\n      final expectedAlertError = AlertError(error: error, stackTrace: null);\n\n      expectLater(\n        jobBloc.stream,\n        emitsInOrder(expectedStates),\n      );\n\n      verify(() =&gt; alertBloc.add(expectedAlertError)).called(1);\n\n      jobBloc.add(const JobFetch());\n    });\n  });\n}\n</code></pre>\n<p>If it can helps, this is my JobRepository</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class JobRepository {\n    final JobProvider jobProvider;\n\n    const JobRepository({required this.jobProvider});\n\n    Future&lt;List&lt;Job&gt;&gt; getJobs() async {\n        List&lt;Job&gt; allJobs = await jobProvider.getJobs(query: {&quot;perPage&quot;: &quot;200&quot;});\n        allJobs.retainWhere((job) {\n            bool? isPublished = job.isPublished;\n            return isPublished != null &amp;&amp;\n                isPublished &amp;&amp;\n        });\n        return allJobs;\n    }\n}\n</code></pre>\n<p>I tried to debug the test, tried to override the getJobs method in the MockJobRepository, to try to pass the test, but it wasn't helping</p>\n<p>EDIT: Solution: I had to add the <code>when(() =&gt; jobRepository.getJobs()).thenThrow(error);</code> into the setup of test, because it wasn't working in the test directly for some reason</p>\n",
        "codigo": [
            "verify(...).called(0);",
            "verifyNever(...);",
            "  void _onFetch(JobFetch event, Emitter<JobState> emit) async {\n    JobState oldState = state;\n    try {\n      emit(JobLoading());\n      List<Job> jobs = await jobRepository.getJobs();\n      emit(JobLoaded(jobs: jobs));\n    } catch (e, stacktrace) {\n      emit(oldState);\n      alertBloc.add(AlertError(error: e, stackTrace: stacktrace));\n    }\n  }\n",
            "class MockJobRepository extends Mock implements JobRepository {}\n\nclass MockAlertBloc extends MockBloc<AlertEvent, AlertState>\n    implements AlertBloc {}\n\nclass MockAuthBloc extends MockBloc<AuthEvent, AuthState> implements AuthBloc {\n  @override\n  AuthState get state => AuthLoggedIn();\n}\n\nvoid main() {\n  group('JobBloc', () {\n    late JobRepository jobRepository;\n    late AuthBloc authBloc;\n    late AlertBloc alertBloc;\n    late JobBloc jobBloc;\n\n    setUp(() {\n      jobRepository = MockJobRepository();\n      authBloc = MockAuthBloc();\n      alertBloc = MockAlertBloc();\n      jobBloc = JobBloc(\n        jobRepository: jobRepository,\n        authBloc: authBloc,\n        alertBloc: alertBloc,\n      );\n    });\n\n    test('adds AlertError to AlertBloc when an error occurs during JobFetch',\n        () async {\n      final error = Exception('Error fetching jobs');\n\n      when(() => jobRepository.getJobs()).thenThrow(error);\n\n      final expectedStates = [\n        JobInitial(), // Old state\n      ];\n\n      final expectedAlertError = AlertError(error: error, stackTrace: null);\n\n      expectLater(\n        jobBloc.stream,\n        emitsInOrder(expectedStates),\n      );\n\n      verify(() => alertBloc.add(expectedAlertError)).called(1);\n\n      jobBloc.add(const JobFetch());\n    });\n  });\n}\n",
            "class JobRepository {\n    final JobProvider jobProvider;\n\n    const JobRepository({required this.jobProvider});\n\n    Future<List<Job>> getJobs() async {\n        List<Job> allJobs = await jobProvider.getJobs(query: {\"perPage\": \"200\"});\n        allJobs.retainWhere((job) {\n            bool? isPublished = job.isPublished;\n            return isPublished != null &&\n                isPublished &&\n        });\n        return allJobs;\n    }\n}\n",
            "when(() => jobRepository.getJobs()).thenThrow(error);"
        ]
    },
    {
        "titulo": "Connected device (the doctor check crashed)",
        "score": 0,
        "views": 281,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "sdk",
            "adb"
        ],
        "link": "https://stackoverflow.com/questions/78223420/connected-device-the-doctor-check-crashed",
        "conteudo_html": "<pre><code>[✓] Flutter (Channel stable, 3.19.3, on Microsoft Windows [Version 10.0.22621.3296],\n    locale id-ID)\n    • Flutter version 3.19.3 on channel stable at D:\\Android\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision ba39319843 (3 weeks ago), 2024-03-07 15:22:21 -0600\n    • Engine revision 2e4ba9c6fb\n    • Dart version 3.3.1\n    • DevTools version 2.31.1\n\n[✓] Windows Version (Installed version of Windows is version 10 or higher)\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at C:\\Users\\awnan\\AppData\\Local\\Android\\sdk\n    • Platform android-UpsideDownCakePrivacySandbox, build-tools 34.0.0\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.9+0--11185874)\n    • All Android licenses accepted.\n\n[✓] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[✓] Android Studio (version 2023.2)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.9+0--11185874)\n\n[✓] VS Code (version 1.87.2)\n    • VS Code at C:\\Users\\awnan\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.84.0\n\n[☠] Connected device (the doctor check crashed)\n    ✗ Due to an error, the doctor check did not complete. If the error message below is\n      not helpful, please let us know about this issue at\n      https://github.com/flutter/flutter/issues.\n    ✗ Error: Unable to run &quot;adb&quot;, check your Android SDK installation and ANDROID_HOME\n      environment variable:\n      C:\\Users\\awnan\\AppData\\Local\\Android\\sdk\\platform-tools\\adb.exe\n    • #0      throwToolExit (package:flutter_tools/src/base/common.dart:10:3)\n      #1      AndroidDevices.pollingGetDevices\n      (package:flutter_tools/src/android/android_device_discovery.dart:75:7)\n      &lt;asynchronous suspension&gt;\n      #2      PollingDeviceDiscovery._populateDevices\n      (package:flutter_tools/src/device.dart:549:36)\n      &lt;asynchronous suspension&gt;\n      #3      Future.wait.&lt;anonymous closure&gt; (dart:async/future.dart:518:21)\n      &lt;asynchronous suspension&gt;\n      #4      DeviceManager.refreshAllDevices\n      (package:flutter_tools/src/device.dart:216:40)\n      &lt;asynchronous suspension&gt;\n      #5      DeviceValidator.validate (package:flutter_tools/src/doctor.dart:739:34)\n      &lt;asynchronous suspension&gt;\n      #6      Future.any.onValue (dart:async/future.dart:608:5)\n      &lt;asynchronous suspension&gt;\n\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n</code></pre>\n<p>i try to found but still not working</p>\n",
        "codigo": [
            "[✓] Flutter (Channel stable, 3.19.3, on Microsoft Windows [Version 10.0.22621.3296],\n    locale id-ID)\n    • Flutter version 3.19.3 on channel stable at D:\\Android\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision ba39319843 (3 weeks ago), 2024-03-07 15:22:21 -0600\n    • Engine revision 2e4ba9c6fb\n    • Dart version 3.3.1\n    • DevTools version 2.31.1\n\n[✓] Windows Version (Installed version of Windows is version 10 or higher)\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at C:\\Users\\awnan\\AppData\\Local\\Android\\sdk\n    • Platform android-UpsideDownCakePrivacySandbox, build-tools 34.0.0\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.9+0--11185874)\n    • All Android licenses accepted.\n\n[✓] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[✓] Android Studio (version 2023.2)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.9+0--11185874)\n\n[✓] VS Code (version 1.87.2)\n    • VS Code at C:\\Users\\awnan\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.84.0\n\n[☠] Connected device (the doctor check crashed)\n    ✗ Due to an error, the doctor check did not complete. If the error message below is\n      not helpful, please let us know about this issue at\n      https://github.com/flutter/flutter/issues.\n    ✗ Error: Unable to run \"adb\", check your Android SDK installation and ANDROID_HOME\n      environment variable:\n      C:\\Users\\awnan\\AppData\\Local\\Android\\sdk\\platform-tools\\adb.exe\n    • #0      throwToolExit (package:flutter_tools/src/base/common.dart:10:3)\n      #1      AndroidDevices.pollingGetDevices\n      (package:flutter_tools/src/android/android_device_discovery.dart:75:7)\n      <asynchronous suspension>\n      #2      PollingDeviceDiscovery._populateDevices\n      (package:flutter_tools/src/device.dart:549:36)\n      <asynchronous suspension>\n      #3      Future.wait.<anonymous closure> (dart:async/future.dart:518:21)\n      <asynchronous suspension>\n      #4      DeviceManager.refreshAllDevices\n      (package:flutter_tools/src/device.dart:216:40)\n      <asynchronous suspension>\n      #5      DeviceValidator.validate (package:flutter_tools/src/doctor.dart:739:34)\n      <asynchronous suspension>\n      #6      Future.any.onValue (dart:async/future.dart:608:5)\n      <asynchronous suspension>\n\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n"
        ]
    },
    {
        "titulo": "Unit testing a broadcast streaming class",
        "score": 1,
        "views": 47,
        "respostas": 1,
        "tags": [
            "dart",
            "unit-testing",
            "async-await",
            "streaming"
        ],
        "link": "https://stackoverflow.com/questions/78180667/unit-testing-a-broadcast-streaming-class",
        "conteudo_html": "<p>I want to unit test a broadcast-streaming repo. This repo yields a StateOk at first and StateError on calling onEvent():</p>\n<pre><code>class Repo {\n  final _controller = StreamController&lt;State&gt;.broadcast();\n\n  Stream&lt;State&gt; get changes async* {\n    yield StateOk();\n    yield* _controller.stream;\n  }\n\n  Future&lt;void&gt; onEvent() async {\n    _controller.add(StateError());\n  }\n}\n\nabstract class State extends Equatable {\n  @override\n  List&lt;Object?&gt; get props =&gt; [];\n}\nclass StateOk extends State {}\nclass StateError extends State {}\n</code></pre>\n<p>When I try to run a unit test like this:</p>\n<pre><code>void main() {\n  test('testError', () async {\n    final Repo repo = Repo();\n    expectLater(\n        repo.changes,\n        emitsInOrder([\n          StateOk(),\n          StateError(),\n        ]));\n\n    //await Future.delayed(const Duration(milliseconds: 1));\n    repo.onEvent();\n  });\n}\n</code></pre>\n<p>the test runs indefinitely.</p>\n<p>If I add the <code>Future.delayed()</code> before calling onEvent, the test completes successfully. So, I first assumed it was a timing issue and we are missing the initial StateOk streaming element and that's why <code>expectLater</code> doesn't complete.</p>\n<p>However, if I remove the StateError() in emitsInOrder(), it works without the additional wait time. This tells me, we are not missing the initial StateOk.\nWhat's going on here?</p>\n",
        "codigo": [
            "class Repo {\n  final _controller = StreamController<State>.broadcast();\n\n  Stream<State> get changes async* {\n    yield StateOk();\n    yield* _controller.stream;\n  }\n\n  Future<void> onEvent() async {\n    _controller.add(StateError());\n  }\n}\n\nabstract class State extends Equatable {\n  @override\n  List<Object?> get props => [];\n}\nclass StateOk extends State {}\nclass StateError extends State {}\n",
            "void main() {\n  test('testError', () async {\n    final Repo repo = Repo();\n    expectLater(\n        repo.changes,\n        emitsInOrder([\n          StateOk(),\n          StateError(),\n        ]));\n\n    //await Future.delayed(const Duration(milliseconds: 1));\n    repo.onEvent();\n  });\n}\n",
            "Future.delayed()",
            "expectLater"
        ]
    },
    {
        "titulo": "Upgrade to latest kotlin version error flutter",
        "score": 0,
        "views": 388,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "kotlin",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78179965/upgrade-to-latest-kotlin-version-error-flutter",
        "conteudo_html": "<p>When I try to run my flutter project it shows me to upgrade to latest version of kotlin but I have already upgraded to latest version of kotlin.</p>\n<p>This is the error message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>The binary version of its metadata is 1.9.0, expected version is 1.7.1.  \n   Flutter Fix ─────────────────────────────────────────────────┐\n│ [!] Your project requires a newer version of the Kotlin       │\n│ Gradle plugin.       \n</code></pre>\n<p>And this my build.gradle android file</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.9.23' // Define Kotlin version here\n\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        // classpath 'com.android.tools.build:gradle:4.2.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot; // Use the Kotlin version here\n        classpath 'com.google.gms:google-services:4.4.1'\n    }\n}\n</code></pre>\n<p>And this is my gradle-wrapper properties</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-8.6-all.zip\n</code></pre>\n<p>I tried to change gradle version and updated all my dependencies to latest version.</p>\n",
        "codigo": [
            "The binary version of its metadata is 1.9.0, expected version is 1.7.1.  \n   Flutter Fix ─────────────────────────────────────────────────┐\n│ [!] Your project requires a newer version of the Kotlin       │\n│ Gradle plugin.       \n",
            "buildscript {\n    ext.kotlin_version = '1.9.23' // Define Kotlin version here\n\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        // classpath 'com.android.tools.build:gradle:4.2.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\" // Use the Kotlin version here\n        classpath 'com.google.gms:google-services:4.4.1'\n    }\n}\n",
            "distributionUrl=https\\://services.gradle.org/distributions/gradle-8.6-all.zip\n"
        ]
    },
    {
        "titulo": "How can I render the Flutter UI for these posts?",
        "score": 0,
        "views": 71,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78135341/how-can-i-render-the-flutter-ui-for-these-posts",
        "conteudo_html": "<p>I'm trying to build a Flutter app that fetches and posts from an API. Here is the code. I can't seem to make the code render the posts on the UI, it comes back as black with a single white box.</p>\n<p>I have been debugging, the posts and fetches work fine and the console logs the JSON being retrieved but somehow it can't render on the UI.</p>\n<pre><code>import 'dart:convert';\nimport 'package:dawgs/Discussion.dart';\nimport 'package:dawgs/components/WallPost.dart';\nimport 'package:flutter/gestures.dart';\nimport 'package:http/http.dart' as http;\nimport 'package:flutter/material.dart';\nimport 'package:dawgs/components/text_field.dart';\nimport 'dart:developer' as developer;\n\nvoid main() {\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'The Buzz',\n      theme: ThemeData(\n        colorScheme:\n            ColorScheme.fromSeed(seedColor: Color.fromARGB(255, 32, 7, 80)),\n        useMaterial3: true,\n      ),\n      home: const MyHomePage(title: 'Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({super.key, required this.title});\n\n  // This widget is the home page of your application. It is stateful, meaning\n  // that it has a State object (defined below) that contains fields that affect\n  // how it looks.\n\n  // This class is the configuration for the state. It holds the values (in this\n  // case the title) provided by the parent (in this case the App widget) and\n  // used by the build method of the State. Fields in a Widget subclass are\n  // always marked &quot;final&quot;.\n\n  final String title;\n\n  @override\n  State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  final titleController = TextEditingController();\n  final messageController = TextEditingController();\n  late Future&lt;List&lt;Discussion&gt;&gt; _future_list_discussions;\n  final backendUrl = &quot;https://team-dawgs.dokku.cse.lehigh.edu&quot;;\n\n  @override\n  void initState() {\n    super.initState();\n    _future_list_discussions = fetchDiscussions();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return build_v3(context);\n  }\n\n   Widget build_v3(BuildContext context) {\n    var fb = FutureBuilder&lt;List&lt;Discussion&gt;&gt;(\n      future: _future_list_discussions,\n      builder:\n          (BuildContext context, AsyncSnapshot&lt;List&lt;Discussion&gt;&gt; snapshot) {\n        Widget child;\n\n        if (snapshot.hasData) {\n          // developer.log('`using` ${snapshot.data}', name: 'my.app.category');\n          // create  listview to show one row per array element of json response\n          child = ListView.builder(\n              //shrinkWrap: true, //expensive! consider refactoring. https://api.flutter.dev/flutter/widgets/ScrollView/shrinkWrap.html\n              padding: const EdgeInsets.all(16.0),\n              itemCount: snapshot.data!.length,\n              itemBuilder: /*1*/ (context, i) {\n                return Card(\n                  child: Padding(\n                      padding: const EdgeInsets.only(\n                          top: 32.0, bottom: 32.0, left: 16.0, right: 16.0),\n                      child: Column(\n                        crossAxisAlignment: CrossAxisAlignment.start,\n                        children: &lt;Widget&gt;[\n                          Text(\n                            snapshot.data![i].title,\n                            style: TextStyle(\n                                fontSize: 22, fontWeight: FontWeight.bold),\n                          ),\n                          Text(\n                            snapshot.data![i].message,\n                            style: TextStyle(\n                                fontSize: 22, fontWeight: FontWeight.bold),\n                          ),\n                        ],\n                      )),\n                );\n              });\n        } else if (snapshot.hasError) {\n          // newly added\n          child = Text('${snapshot.error}');\n        } else {\n          // awaiting snapshot data, return simple text widget\n          // child = Text('Calculating answer...');\n          child = const CircularProgressIndicator(); //show a loading spinner.\n        }\n        return child;\n      },\n    );\n\n    return fb;\n  }\n}\n\n/* // Post Discussion\n            Padding(\n              padding: const EdgeInsets.all(25.0),\n              child: Row(\n                children: [\n                  Expanded(\n                    child: MyTextField(\n                      controller: titleController,\n                      hintText: 'Title now!',\n                      obscureText: false,\n                    ),\n                  ),\n                  SizedBox(width: 10),\n                  Expanded(\n                    child: MyTextField(\n                      controller: messageController,\n                      hintText: 'Content please',\n                      obscureText: false,\n                    ),\n                  ),\n                  IconButton(\n                    onPressed: () {\n                      setState(() {\n                        _future_list_discussions = postDiscussion(\n                          titleController.text,\n                          messageController.text,\n                        );\n                      });\n                    },\n                    icon: const Icon(Icons.arrow_circle_up),\n                  )\n                ],\n              ),\n            )\n          ],\n        ),\n      ),\n    );\n  } */\n\nFuture&lt;List&lt;Discussion&gt;&gt; postDiscussion(String title, String message) async {\n  final response = await http.post(\n    Uri.parse('https://team-dawgs.dokku.cse.lehigh.edu/discussions'),\n    headers: &lt;String, String&gt;{\n      'Content-Type': 'application/json; charset=UTF-8',\n    },\n    body: jsonEncode(&lt;String, String&gt;{\n      'mTitle': title,\n      'mMessage': message,\n    }),\n  );\n\n  if (response.statusCode == 200) {\n    final responseBody = jsonDecode(response.body);\n\n    // Check if the response body is in the expected format\n    if (responseBody is List&lt;dynamic&gt;) {\n      // Map each item in the list to a Discussion object\n      return responseBody.map((item) =&gt; Discussion.fromJson(item)).toList();\n    }\n  }\n\n  // Throw a generic error if any unexpected scenario occurs\n  throw Exception(\n      'Failed to post a discussion. Status code: ${response.statusCode}, Reason: ${response.reasonPhrase}');\n}\n\nFuture&lt;List&lt;Discussion&gt;&gt; fetchDiscussions() async {\n  final response = await http\n      .get(Uri.parse('https://team-dawgs.dokku.cse.lehigh.edu/discussions'));\n\n  if (response.statusCode == 200) {\n    // If the server did return a 200 OK response, then parse the JSON.\n    final List&lt;Discussion&gt; returnData;\n    var res = jsonDecode(response.body);\n    print('json decode: $res');\n\n    if (res is List) {\n      returnData =\n          (res as List&lt;dynamic&gt;).map((x) =&gt; Discussion.fromJson(x)).toList();\n    } else if (res is Map) {\n      returnData = &lt;Discussion&gt;[\n        Discussion.fromJson(res as Map&lt;String, dynamic&gt;)\n      ];\n    } else {\n      developer\n          .log('ERROR: Unexpected json response type (was not a List or Map).');\n      returnData = List.empty();\n    }\n    return returnData;\n  } else {\n    // If the server did not return a 200 OK response,\n    // then throw an exception.\n    throw Exception('Did not receive success status code from request.');\n  }\n}\n</code></pre>\n<p>I tried different ways and different YouTube videos to render it differently but nothing worked. What can I try next?</p>\n",
        "codigo": [
            "import 'dart:convert';\nimport 'package:dawgs/Discussion.dart';\nimport 'package:dawgs/components/WallPost.dart';\nimport 'package:flutter/gestures.dart';\nimport 'package:http/http.dart' as http;\nimport 'package:flutter/material.dart';\nimport 'package:dawgs/components/text_field.dart';\nimport 'dart:developer' as developer;\n\nvoid main() {\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'The Buzz',\n      theme: ThemeData(\n        colorScheme:\n            ColorScheme.fromSeed(seedColor: Color.fromARGB(255, 32, 7, 80)),\n        useMaterial3: true,\n      ),\n      home: const MyHomePage(title: 'Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({super.key, required this.title});\n\n  // This widget is the home page of your application. It is stateful, meaning\n  // that it has a State object (defined below) that contains fields that affect\n  // how it looks.\n\n  // This class is the configuration for the state. It holds the values (in this\n  // case the title) provided by the parent (in this case the App widget) and\n  // used by the build method of the State. Fields in a Widget subclass are\n  // always marked \"final\".\n\n  final String title;\n\n  @override\n  State<MyHomePage> createState() => _MyHomePageState();\n}\n\nclass _MyHomePageState extends State<MyHomePage> {\n  final titleController = TextEditingController();\n  final messageController = TextEditingController();\n  late Future<List<Discussion>> _future_list_discussions;\n  final backendUrl = \"https://team-dawgs.dokku.cse.lehigh.edu\";\n\n  @override\n  void initState() {\n    super.initState();\n    _future_list_discussions = fetchDiscussions();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return build_v3(context);\n  }\n\n   Widget build_v3(BuildContext context) {\n    var fb = FutureBuilder<List<Discussion>>(\n      future: _future_list_discussions,\n      builder:\n          (BuildContext context, AsyncSnapshot<List<Discussion>> snapshot) {\n        Widget child;\n\n        if (snapshot.hasData) {\n          // developer.log('`using` ${snapshot.data}', name: 'my.app.category');\n          // create  listview to show one row per array element of json response\n          child = ListView.builder(\n              //shrinkWrap: true, //expensive! consider refactoring. https://api.flutter.dev/flutter/widgets/ScrollView/shrinkWrap.html\n              padding: const EdgeInsets.all(16.0),\n              itemCount: snapshot.data!.length,\n              itemBuilder: /*1*/ (context, i) {\n                return Card(\n                  child: Padding(\n                      padding: const EdgeInsets.only(\n                          top: 32.0, bottom: 32.0, left: 16.0, right: 16.0),\n                      child: Column(\n                        crossAxisAlignment: CrossAxisAlignment.start,\n                        children: <Widget>[\n                          Text(\n                            snapshot.data![i].title,\n                            style: TextStyle(\n                                fontSize: 22, fontWeight: FontWeight.bold),\n                          ),\n                          Text(\n                            snapshot.data![i].message,\n                            style: TextStyle(\n                                fontSize: 22, fontWeight: FontWeight.bold),\n                          ),\n                        ],\n                      )),\n                );\n              });\n        } else if (snapshot.hasError) {\n          // newly added\n          child = Text('${snapshot.error}');\n        } else {\n          // awaiting snapshot data, return simple text widget\n          // child = Text('Calculating answer...');\n          child = const CircularProgressIndicator(); //show a loading spinner.\n        }\n        return child;\n      },\n    );\n\n    return fb;\n  }\n}\n\n/* // Post Discussion\n            Padding(\n              padding: const EdgeInsets.all(25.0),\n              child: Row(\n                children: [\n                  Expanded(\n                    child: MyTextField(\n                      controller: titleController,\n                      hintText: 'Title now!',\n                      obscureText: false,\n                    ),\n                  ),\n                  SizedBox(width: 10),\n                  Expanded(\n                    child: MyTextField(\n                      controller: messageController,\n                      hintText: 'Content please',\n                      obscureText: false,\n                    ),\n                  ),\n                  IconButton(\n                    onPressed: () {\n                      setState(() {\n                        _future_list_discussions = postDiscussion(\n                          titleController.text,\n                          messageController.text,\n                        );\n                      });\n                    },\n                    icon: const Icon(Icons.arrow_circle_up),\n                  )\n                ],\n              ),\n            )\n          ],\n        ),\n      ),\n    );\n  } */\n\nFuture<List<Discussion>> postDiscussion(String title, String message) async {\n  final response = await http.post(\n    Uri.parse('https://team-dawgs.dokku.cse.lehigh.edu/discussions'),\n    headers: <String, String>{\n      'Content-Type': 'application/json; charset=UTF-8',\n    },\n    body: jsonEncode(<String, String>{\n      'mTitle': title,\n      'mMessage': message,\n    }),\n  );\n\n  if (response.statusCode == 200) {\n    final responseBody = jsonDecode(response.body);\n\n    // Check if the response body is in the expected format\n    if (responseBody is List<dynamic>) {\n      // Map each item in the list to a Discussion object\n      return responseBody.map((item) => Discussion.fromJson(item)).toList();\n    }\n  }\n\n  // Throw a generic error if any unexpected scenario occurs\n  throw Exception(\n      'Failed to post a discussion. Status code: ${response.statusCode}, Reason: ${response.reasonPhrase}');\n}\n\nFuture<List<Discussion>> fetchDiscussions() async {\n  final response = await http\n      .get(Uri.parse('https://team-dawgs.dokku.cse.lehigh.edu/discussions'));\n\n  if (response.statusCode == 200) {\n    // If the server did return a 200 OK response, then parse the JSON.\n    final List<Discussion> returnData;\n    var res = jsonDecode(response.body);\n    print('json decode: $res');\n\n    if (res is List) {\n      returnData =\n          (res as List<dynamic>).map((x) => Discussion.fromJson(x)).toList();\n    } else if (res is Map) {\n      returnData = <Discussion>[\n        Discussion.fromJson(res as Map<String, dynamic>)\n      ];\n    } else {\n      developer\n          .log('ERROR: Unexpected json response type (was not a List or Map).');\n      returnData = List.empty();\n    }\n    return returnData;\n  } else {\n    // If the server did not return a 200 OK response,\n    // then throw an exception.\n    throw Exception('Did not receive success status code from request.');\n  }\n}\n"
        ]
    },
    {
        "titulo": "Flutter - Problem mocking supabase with mocktail",
        "score": 1,
        "views": 230,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "testing",
            "supabase"
        ],
        "link": "https://stackoverflow.com/questions/78128787/flutter-problem-mocking-supabase-with-mocktail",
        "conteudo_html": "<p>I'm trying to mock a query to a table in Supabase with mocktail, and it doesn't work. My problem is mocking the await on the PostgrestTransformBuilder, it doesn't work at all:</p>\n<pre><code>import 'package:flutter_test/flutter_test.dart';\nimport 'package:mocktail/mocktail.dart';\nimport 'package:supabase_flutter/supabase_flutter.dart';\n\nclass MockPostgrestTransformBuilder extends Mock\n    implements PostgrestTransformBuilder&lt;PostgrestList&gt; {}\n\nvoid main() {\n  final mockPostgrestTransformBuilder = MockPostgrestTransformBuilder();\n  final myList = &lt;Map&lt;String, dynamic&gt;&gt;[];\n\n  test('Mocking PostgrestTransformBuilder', () async {\n    // defining the mock\n    when(() async =&gt; mockPostgrestTransformBuilder)\n        .thenAnswer((_) async =&gt; myList);\n\n    // calling the mock\n    final result = await mockPostgrestTransformBuilder;\n\n    // expecting the result\n    expect(result, myList);\n  });\n}\n</code></pre>\n<p>Can anybody help me?</p>\n<p>I have tried a lot of things, and it doesn't work</p>\n<p>Edit: I add here the &quot;real code&quot; I try to test. In this code, that is working perfectly calling Supabase objects, I have been able to mock:</p>\n<ul>\n<li>The SupabaseClient.from</li>\n<li>The SupabaseQueryBuilder.select</li>\n<li>The PostgrestFilterBuilder.order</li>\n</ul>\n<p>But the final mock never works.</p>\n<pre><code>import 'package:supabase_flutter/supabase_flutter.dart';\n\nclass MyService {   const MyService({required this.supabaseClient});   final SupabaseClient supabaseClient;\n\n  /// read the data\n  Future&lt;void&gt; readData() async {\n    final a = supabaseClient.from('table_name');\n    // a is SupabaseQueryBuilder\n    final b = a.select();\n    // b is PostgrestFilterBuilder&lt;List&lt;Map&lt;String, dynamic&gt;&gt;&gt;\n    final c = b.order('column name', ascending: true);\n    // c is PostgrestTransformBuilder&lt;List&lt;Map&lt;String, dynamic&gt;&gt;&gt;\n    final d = await c;\n    // d is List&lt;Map&lt;String, dynamic&gt;&gt;\n    /* ... */\n  }\n  /* ... */\n}\n</code></pre>\n<p>Thanks.</p>\n<hr />\n<p>Edit v2</p>\n<p>I try to put a complete example of the code I'm trying to test. The error I get is <code>type 'Null' is not a subtype of type 'Future&lt;dynamic&gt;'</code>, and I supose it's because I am not mocking the <code>final d = await c;</code>. But I don't know how to mock it...</p>\n<pre><code>import 'package:flutter_test/flutter_test.dart';\nimport 'package:mocktail/mocktail.dart';\nimport 'package:supabase_flutter/supabase_flutter.dart';\n\nclass MockSupabaseClient extends Mock implements SupabaseClient {}\n\nclass MockSupabaseQueryBuilder extends Mock implements SupabaseQueryBuilder {}\n\nclass MockPostgrestFilterBuilder&lt;R&gt; extends Mock\n    implements PostgrestFilterBuilder&lt;R&gt; {}\n\nclass MockPostgrestTransformBuilder&lt;R&gt; extends Mock\n    implements PostgrestTransformBuilder&lt;R&gt; {}\n\nclass MyService {\n  const MyService({required this.supabaseClient});\n  final SupabaseClient supabaseClient;\n\n  Future&lt;List&lt;Map&lt;String, dynamic&gt;&gt;&gt; readData() async {\n    final a = supabaseClient.from('table_name');\n    // a is SupabaseQueryBuilder\n    final b = a.select();\n    // b is PostgrestFilterBuilder&lt;List&lt;Map&lt;String, dynamic&gt;&gt;&gt;\n    final c = b.order('column name', ascending: true);\n    // c is PostgrestTransformBuilder&lt;List&lt;Map&lt;String, dynamic&gt;&gt;&gt;\n    final d = await c;\n    // d is List&lt;Map&lt;String, dynamic&gt;&gt;\n    return d;\n  }\n}\n\nvoid main() {\n  late MockSupabaseClient mockSupabaseClient;\n  late MockSupabaseQueryBuilder mockSupabaseQueryBuilder;\n  late MockPostgrestFilterBuilder&lt;PostgrestList&gt; mockPostgrestFilterBuilder;\n  late MockPostgrestTransformBuilder&lt;PostgrestList&gt;\n      mockPostgrestTransformBuilder;\n  late MyService myService;\n  late Map&lt;String, dynamic&gt; myList;\n\n  setUpAll(() {\n    mockSupabaseClient = MockSupabaseClient();\n    mockSupabaseQueryBuilder = MockSupabaseQueryBuilder();\n    mockPostgrestFilterBuilder = MockPostgrestFilterBuilder();\n    mockPostgrestTransformBuilder = MockPostgrestTransformBuilder();\n    myService = MyService(supabaseClient: mockSupabaseClient);\n  });\n\n  test('Mock test', () async {\n    when(() =&gt; mockSupabaseClient.from(any()))\n        .thenAnswer((_) =&gt; mockSupabaseQueryBuilder);\n    when(() =&gt; mockSupabaseQueryBuilder.select())\n        .thenAnswer((_) =&gt; mockPostgrestFilterBuilder);\n    when(() =&gt; mockPostgrestFilterBuilder.order(any(), ascending: true))\n        .thenAnswer((_) =&gt; mockPostgrestTransformBuilder);\n\n    final result = await myService.readData();\n\n    expect(result, &lt;Map&lt;String, dynamic&gt;&gt;[]);\n  });\n}\n</code></pre>\n<p>Thanks in advance.</p>\n",
        "codigo": [
            "import 'package:flutter_test/flutter_test.dart';\nimport 'package:mocktail/mocktail.dart';\nimport 'package:supabase_flutter/supabase_flutter.dart';\n\nclass MockPostgrestTransformBuilder extends Mock\n    implements PostgrestTransformBuilder<PostgrestList> {}\n\nvoid main() {\n  final mockPostgrestTransformBuilder = MockPostgrestTransformBuilder();\n  final myList = <Map<String, dynamic>>[];\n\n  test('Mocking PostgrestTransformBuilder', () async {\n    // defining the mock\n    when(() async => mockPostgrestTransformBuilder)\n        .thenAnswer((_) async => myList);\n\n    // calling the mock\n    final result = await mockPostgrestTransformBuilder;\n\n    // expecting the result\n    expect(result, myList);\n  });\n}\n",
            "import 'package:supabase_flutter/supabase_flutter.dart';\n\nclass MyService {   const MyService({required this.supabaseClient});   final SupabaseClient supabaseClient;\n\n  /// read the data\n  Future<void> readData() async {\n    final a = supabaseClient.from('table_name');\n    // a is SupabaseQueryBuilder\n    final b = a.select();\n    // b is PostgrestFilterBuilder<List<Map<String, dynamic>>>\n    final c = b.order('column name', ascending: true);\n    // c is PostgrestTransformBuilder<List<Map<String, dynamic>>>\n    final d = await c;\n    // d is List<Map<String, dynamic>>\n    /* ... */\n  }\n  /* ... */\n}\n",
            "type 'Null' is not a subtype of type 'Future<dynamic>'",
            "final d = await c;",
            "import 'package:flutter_test/flutter_test.dart';\nimport 'package:mocktail/mocktail.dart';\nimport 'package:supabase_flutter/supabase_flutter.dart';\n\nclass MockSupabaseClient extends Mock implements SupabaseClient {}\n\nclass MockSupabaseQueryBuilder extends Mock implements SupabaseQueryBuilder {}\n\nclass MockPostgrestFilterBuilder<R> extends Mock\n    implements PostgrestFilterBuilder<R> {}\n\nclass MockPostgrestTransformBuilder<R> extends Mock\n    implements PostgrestTransformBuilder<R> {}\n\nclass MyService {\n  const MyService({required this.supabaseClient});\n  final SupabaseClient supabaseClient;\n\n  Future<List<Map<String, dynamic>>> readData() async {\n    final a = supabaseClient.from('table_name');\n    // a is SupabaseQueryBuilder\n    final b = a.select();\n    // b is PostgrestFilterBuilder<List<Map<String, dynamic>>>\n    final c = b.order('column name', ascending: true);\n    // c is PostgrestTransformBuilder<List<Map<String, dynamic>>>\n    final d = await c;\n    // d is List<Map<String, dynamic>>\n    return d;\n  }\n}\n\nvoid main() {\n  late MockSupabaseClient mockSupabaseClient;\n  late MockSupabaseQueryBuilder mockSupabaseQueryBuilder;\n  late MockPostgrestFilterBuilder<PostgrestList> mockPostgrestFilterBuilder;\n  late MockPostgrestTransformBuilder<PostgrestList>\n      mockPostgrestTransformBuilder;\n  late MyService myService;\n  late Map<String, dynamic> myList;\n\n  setUpAll(() {\n    mockSupabaseClient = MockSupabaseClient();\n    mockSupabaseQueryBuilder = MockSupabaseQueryBuilder();\n    mockPostgrestFilterBuilder = MockPostgrestFilterBuilder();\n    mockPostgrestTransformBuilder = MockPostgrestTransformBuilder();\n    myService = MyService(supabaseClient: mockSupabaseClient);\n  });\n\n  test('Mock test', () async {\n    when(() => mockSupabaseClient.from(any()))\n        .thenAnswer((_) => mockSupabaseQueryBuilder);\n    when(() => mockSupabaseQueryBuilder.select())\n        .thenAnswer((_) => mockPostgrestFilterBuilder);\n    when(() => mockPostgrestFilterBuilder.order(any(), ascending: true))\n        .thenAnswer((_) => mockPostgrestTransformBuilder);\n\n    final result = await myService.readData();\n\n    expect(result, <Map<String, dynamic>>[]);\n  });\n}\n"
        ]
    },
    {
        "titulo": "How to pass --dart-define variables to `dart test`?",
        "score": 1,
        "views": 841,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "testing"
        ],
        "link": "https://stackoverflow.com/questions/78121533/how-to-pass-dart-define-variables-to-dart-test",
        "conteudo_html": "<p>I want to pass variables to tests run in pure Dart the same way as one can pass them in Flutter.</p>\n<p>Flutter example:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ flutter test --dart-define=FOO=BAR\n</code></pre>\n<pre><code>  test('Value is correct', () {\n    expect(const String.fromEnvironment('FOO'), 'BAR'); // passes\n  });\n</code></pre>\n<p>Dart example:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ dart test --dart-define=FOO=BAR\n\nCould not find an option named &quot;dart-define&quot;.\n</code></pre>\n<p>Is this possible?</p>\n",
        "codigo": [
            "$ flutter test --dart-define=FOO=BAR\n",
            "  test('Value is correct', () {\n    expect(const String.fromEnvironment('FOO'), 'BAR'); // passes\n  });\n",
            "$ dart test --dart-define=FOO=BAR\n\nCould not find an option named \"dart-define\".\n"
        ]
    },
    {
        "titulo": "Flutter build apk keeps failing `checkDebugDuplicateClasses`",
        "score": 0,
        "views": 56,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "kotlin",
            "dart",
            "gradle"
        ],
        "link": "https://stackoverflow.com/questions/78063312/flutter-build-apk-keeps-failing-checkdebugduplicateclasses",
        "conteudo_html": "<p>I tried various solution from StackOverflow and github issues but still I can't build an apk from my Apple M2.</p>\n<ul>\n<li>I added kotlin version to gradle.build</li>\n<li>Edited distributionUrl to gradle 8.1.1 (latest)</li>\n</ul>\n<p>I don't understand what is the issue…</p>\n<p>flutter doctor:</p>\n<pre><code>[✓] Flutter (Channel stable, 3.19.1, on macOS 14.1.1 23B81 darwin-arm64, locale en-CA)\n    • Flutter version 3.19.1 on channel stable at /opt/homebrew/Caskroom/flutter/3.16.0/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision abb292a07e (6 days ago), 2024-02-20 14:35:05 -0800\n    • Engine revision 04817c99c9\n    • Dart version 3.3.0\n    • DevTools version 2.31.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /Users/winston/Library/Android/sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-17.0.7b1000.6-10550314)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 15.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 15C500b\n    • CocoaPods version 1.15.2\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2023.1)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-17.0.7b1000.6-10550314)\n\n[✓] VS Code (version 1.86.2)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.82.0\n\n[✓] Connected device (2 available)            \n    • macOS (desktop) • macos  • darwin-arm64   • macOS 14.1.1 23B81 darwin-arm64\n    • Chrome (web)    • chrome • web-javascript • Google Chrome 122.0.6261.69\n\n[✓] Network resources\n    • All expected network resources are available.\n\n</code></pre>\n<p>here are some log from the flutter build apk --debug:</p>\n<pre><code>\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:checkDebugDuplicateClasses'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\n   &gt; Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.io.path.ExperimentalPathApi found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.io.path.PathRelativizer found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.io.path.PathsKt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.jdk7.AutoCloseableKt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.jvm.optionals.OptionalsKt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.streams.jdk8.StreamsKt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n\n     Go to the documentation to learn how to &lt;a href=&quot;d.android.com/r/tools/classpath-sync-errors&quot;&gt;Fix dependency resolution errors&lt;/a&gt;.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2s\nRunning Gradle task 'assembleDebug'...                              3.5s\nGradle task assembleDebug failed with exit code 1\n</code></pre>\n",
        "codigo": [
            "[✓] Flutter (Channel stable, 3.19.1, on macOS 14.1.1 23B81 darwin-arm64, locale en-CA)\n    • Flutter version 3.19.1 on channel stable at /opt/homebrew/Caskroom/flutter/3.16.0/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision abb292a07e (6 days ago), 2024-02-20 14:35:05 -0800\n    • Engine revision 04817c99c9\n    • Dart version 3.3.0\n    • DevTools version 2.31.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /Users/winston/Library/Android/sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-17.0.7b1000.6-10550314)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 15.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 15C500b\n    • CocoaPods version 1.15.2\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2023.1)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-17.0.7b1000.6-10550314)\n\n[✓] VS Code (version 1.86.2)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.82.0\n\n[✓] Connected device (2 available)            \n    • macOS (desktop) • macos  • darwin-arm64   • macOS 14.1.1 23B81 darwin-arm64\n    • Chrome (web)    • chrome • web-javascript • Google Chrome 122.0.6261.69\n\n[✓] Network resources\n    • All expected network resources are available.\n\n",
            "\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:checkDebugDuplicateClasses'.\n> A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\n   > Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.io.path.ExperimentalPathApi found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.io.path.PathRelativizer found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.io.path.PathsKt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.jdk7.AutoCloseableKt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk7-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.10)\n     Duplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.jvm.optionals.OptionalsKt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.streams.jdk8.StreamsKt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n     Duplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules jetified-kotlin-stdlib-1.9.0 (org.jetbrains.kotlin:kotlin-stdlib:1.9.0) and jetified-kotlin-stdlib-jdk8-1.7.10 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10)\n\n     Go to the documentation to learn how to <a href=\"d.android.com/r/tools/classpath-sync-errors\">Fix dependency resolution errors</a>.\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2s\nRunning Gradle task 'assembleDebug'...                              3.5s\nGradle task assembleDebug failed with exit code 1\n"
        ]
    },
    {
        "titulo": "Error while trying to look at the StreamChat example",
        "score": 0,
        "views": 365,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "flutter-dependencies",
            "getstream-chat"
        ],
        "link": "https://stackoverflow.com/questions/78063090/error-while-trying-to-look-at-the-streamchat-example",
        "conteudo_html": "<p>This is the flutter error i get when trying to run the stream chat flutter example</p>\n<p>All dependencies are fully updated and flutter is fully up to date</p>\n<pre class=\"lang-none prettyprint-override\"><code>Get java version from JAVA_HOME: C:\\Program Files\\Android\\Android Studio1\\jbr\nThe photo_manager java version is 17\n../../../../../../AppData/Local/Pub/Cache/hosted/pub.dev/photo_manager-2.8.1/lib/src/internal/image_provider.dart:71:5: Error: Type 'DecoderCallback' not found.\n    DecoderCallback decode, // ignore: deprecated_member_use\n    ^^^^^^^^^^^^^^^\n../../../../../../AppData/Local/Pub/Cache/hosted/pub.dev/photo_manager-2.8.1/lib/src/internal/image_provider.dart:96:5: Error: Type 'DecoderCallback' not found.\n    DecoderCallback decode, // ignore: deprecated_member_use\n    ^^^^^^^^^^^^^^^\n../../../../../../AppData/Local/Pub/Cache/hosted/pub.dev/photo_manager-2.8.1/lib/src/internal/image_provider.dart:71:5: Error: 'DecoderCallback' isn't a type.\n    DecoderCallback decode, // ignore: deprecated_member_use\n    ^^^^^^^^^^^^^^^\n../../../../../../AppData/Local/Pub/Cache/hosted/pub.dev/photo_manager-2.8.1/lib/src/internal/image_provider.dart:96:5: Error: 'DecoderCallback' isn't a type.\n    DecoderCallback decode, // ignore: deprecated_member_use\n    ^^^^^^^^^^^^^^^\n../../../../../../AppData/Local/Pub/Cache/hosted/pub.dev/stream_chat_flutter-7.0.2/lib/src/bottom_sheets/stream_channel_info_bottom_sheet.dart:324:1: Error: Expected 0 type arguments.\nPersistentBottomSheetController&lt;T&gt; showChannelInfoBottomSheet&lt;T&gt;({\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../../../../../AppData/Local/Pub/Cache/hosted/pub.dev/stream_chat_flutter-7.0.2/lib/src/bottom_sheets/stream_channel_info_bottom_sheet.dart:339:5: Error: Expected 0 type arguments.\n    showBottomSheet&lt;T&gt;(\n    ^\n/C:/TPA%20Mobile%20App/flutter/packages/flutter/lib/src/material/bottom_sheet.dart:1327:33: Context: Found this candidate, but the arguments don't match.\nPersistentBottomSheetController showBottomSheet({\n                                ^^^^^^^^^^^^^^^\nTarget kernel_snapshot failed: Exception\n\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript 'C:\\TPA Mobile App\\flutter\\packages\\flutter_tools\\gradle\\src\\main\\groovy\\flutter.groovy' line: 1419\n\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuildDebug'.\n&gt; Process 'command 'C:\\TPA Mobile App\\flutter\\bin\\flutter.bat'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 8s\nError: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n",
        "codigo": [
            "Get java version from JAVA_HOME: C:\\Program Files\\Android\\Android Studio1\\jbr\nThe photo_manager java version is 17\n../../../../../../AppData/Local/Pub/Cache/hosted/pub.dev/photo_manager-2.8.1/lib/src/internal/image_provider.dart:71:5: Error: Type 'DecoderCallback' not found.\n    DecoderCallback decode, // ignore: deprecated_member_use\n    ^^^^^^^^^^^^^^^\n../../../../../../AppData/Local/Pub/Cache/hosted/pub.dev/photo_manager-2.8.1/lib/src/internal/image_provider.dart:96:5: Error: Type 'DecoderCallback' not found.\n    DecoderCallback decode, // ignore: deprecated_member_use\n    ^^^^^^^^^^^^^^^\n../../../../../../AppData/Local/Pub/Cache/hosted/pub.dev/photo_manager-2.8.1/lib/src/internal/image_provider.dart:71:5: Error: 'DecoderCallback' isn't a type.\n    DecoderCallback decode, // ignore: deprecated_member_use\n    ^^^^^^^^^^^^^^^\n../../../../../../AppData/Local/Pub/Cache/hosted/pub.dev/photo_manager-2.8.1/lib/src/internal/image_provider.dart:96:5: Error: 'DecoderCallback' isn't a type.\n    DecoderCallback decode, // ignore: deprecated_member_use\n    ^^^^^^^^^^^^^^^\n../../../../../../AppData/Local/Pub/Cache/hosted/pub.dev/stream_chat_flutter-7.0.2/lib/src/bottom_sheets/stream_channel_info_bottom_sheet.dart:324:1: Error: Expected 0 type arguments.\nPersistentBottomSheetController<T> showChannelInfoBottomSheet<T>({\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../../../../../AppData/Local/Pub/Cache/hosted/pub.dev/stream_chat_flutter-7.0.2/lib/src/bottom_sheets/stream_channel_info_bottom_sheet.dart:339:5: Error: Expected 0 type arguments.\n    showBottomSheet<T>(\n    ^\n/C:/TPA%20Mobile%20App/flutter/packages/flutter/lib/src/material/bottom_sheet.dart:1327:33: Context: Found this candidate, but the arguments don't match.\nPersistentBottomSheetController showBottomSheet({\n                                ^^^^^^^^^^^^^^^\nTarget kernel_snapshot failed: Exception\n\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript 'C:\\TPA Mobile App\\flutter\\packages\\flutter_tools\\gradle\\src\\main\\groovy\\flutter.groovy' line: 1419\n\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuildDebug'.\n> Process 'command 'C:\\TPA Mobile App\\flutter\\bin\\flutter.bat'' finished with non-zero exit value 1\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 8s\nError: Gradle task assembleDebug failed with exit code 1\n"
        ]
    },
    {
        "titulo": "Flutter app not running screens with third-party dependencies (no error message)",
        "score": 2,
        "views": 352,
        "respostas": 0,
        "tags": [
            "android",
            "flutter",
            "dart",
            "flutter-dependencies",
            "pub.dev"
        ],
        "link": "https://stackoverflow.com/questions/78059346/flutter-app-not-running-screens-with-third-party-dependencies-no-error-message",
        "conteudo_html": "<p>My laptop is stuck on a strange problem...No Flutter project is running...Need your help...</p>\n<h2>Problem:</h2>\n<p>It appears that any flutter project that uses any dependency (except google_fonts) is not running. The screens without any dependencies work well, but when I try to switch from one screen to another where there is a dependency, it does not work. The screens get stuck or become blank white. There is even nothing available in the console...</p>\n<h2>Flutter Doctor:</h2>\n<pre><code>[√] Flutter (Channel stable, 3.16.5, on Microsoft Windows [Version 10.0.22631.3155], locale en-IN)\n    • Flutter version 3.16.5 on channel stable at C:\\src\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 78666c8dc5 (10 weeks ago), 2023-12-19 16:14:14 -0800\n    • Engine revision 3f3e560236\n    • Dart version 3.2.3\n    • DevTools version 2.28.4\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.2)\n    • Android SDK at C:\\Users\\Kamal\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 33.0.2\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Build Tools 2019 16.11.9)\n    • Visual Studio at C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\n    • Visual Studio Build Tools 2019 version 16.11.32106.194\n    • Windows 10 SDK version 10.0.19041.0\n\n[√] Android Studio (version 2023.1)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n\n[√] VS Code (version 1.86.2)\n    • VS Code at C:\\Users\\Kamal\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.80.0\n\n[√] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.22631.3155]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 122.0.6261.69\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 122.0.2365.52\n\n[√] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n<h2>Flutter pub get:</h2>\n<pre><code>PS D:\\projects\\live_tv&gt; flutter run -d chrome\nLaunching lib\\main.dart on Chrome in debug mode...\n  matcher 0.12.16 (0.12.16+1 available)\n  material_color_utilities 0.5.0 (0.8.0 available)\n  meta 1.10.0 (1.12.0 available)\n  path 1.8.3 (1.9.0 available)\n  test_api 0.6.1 (0.7.0 available)\n  video_player_web 2.1.3 (2.2.0 available)\n  wakelock_plus 1.1.4 (1.1.6 available)\n  web 0.3.0 (0.5.0 available)\nGot dependencies!\n11 packages have newer versions incompatible with dependency constraints.\nTry `flutter pub outdated` for more information.\n</code></pre>\n<p><em>The issue Occur after I install latest android studio (hedgehog) and latest flutter version (3.19.1). After that I downgrade to 3.16.9 then again 3.16.5</em></p>\n<p><strong>Note</strong> :</p>\n<ul>\n<li><p>flutter pub get in working well but if I am using dependencies in any screen then it's not working..</p>\n</li>\n<li><p>Another problem is when I hit hot restart or hot reload didn't work even after 1 hour it shows hot reloading or hot restarting the app</p>\n</li>\n</ul>\n<p><strong>Tried:</strong></p>\n<ul>\n<li>Running on android emulator, real android device, web (chrom, edge) (still nothing is there in console)</li>\n<li>\n<pre><code>FlutterError.onError = (FlutterErrorDetails details) { debugPrint(details.exception.toString()); };\n</code></pre>\n</li>\n<li>Clear pub caches and C drive caches</li>\n<li>flutter clean</li>\n</ul>\n<p>Even existing running projects are not working...</p>\n",
        "codigo": [
            "[√] Flutter (Channel stable, 3.16.5, on Microsoft Windows [Version 10.0.22631.3155], locale en-IN)\n    • Flutter version 3.16.5 on channel stable at C:\\src\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 78666c8dc5 (10 weeks ago), 2023-12-19 16:14:14 -0800\n    • Engine revision 3f3e560236\n    • Dart version 3.2.3\n    • DevTools version 2.28.4\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.2)\n    • Android SDK at C:\\Users\\Kamal\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 33.0.2\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Build Tools 2019 16.11.9)\n    • Visual Studio at C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\n    • Visual Studio Build Tools 2019 version 16.11.32106.194\n    • Windows 10 SDK version 10.0.19041.0\n\n[√] Android Studio (version 2023.1)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n\n[√] VS Code (version 1.86.2)\n    • VS Code at C:\\Users\\Kamal\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.80.0\n\n[√] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.22631.3155]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 122.0.6261.69\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 122.0.2365.52\n\n[√] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n",
            "PS D:\\projects\\live_tv> flutter run -d chrome\nLaunching lib\\main.dart on Chrome in debug mode...\n  matcher 0.12.16 (0.12.16+1 available)\n  material_color_utilities 0.5.0 (0.8.0 available)\n  meta 1.10.0 (1.12.0 available)\n  path 1.8.3 (1.9.0 available)\n  test_api 0.6.1 (0.7.0 available)\n  video_player_web 2.1.3 (2.2.0 available)\n  wakelock_plus 1.1.4 (1.1.6 available)\n  web 0.3.0 (0.5.0 available)\nGot dependencies!\n11 packages have newer versions incompatible with dependency constraints.\nTry `flutter pub outdated` for more information.\n",
            "FlutterError.onError = (FlutterErrorDetails details) { debugPrint(details.exception.toString()); };\n"
        ]
    },
    {
        "titulo": "Flutter : showModalBottomSheet above bottomNavigationBar natively",
        "score": 2,
        "views": 102,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "flutter-showmodalbottomsheet"
        ],
        "link": "https://stackoverflow.com/questions/78058930/flutter-showmodalbottomsheet-above-bottomnavigationbar-natively",
        "conteudo_html": "<p>i want to show <code>showModalBottomSheet</code> above <code>bottomNavigationBar</code> natively without <code>Stack</code> or any other custom widget</p>\n<p>currently this is my code</p>\n<pre><code>body: Navigator(\nonGenerateRoute: (settings) {\n return MaterialPageRoute(\n  builder: (context) {\n    return ListView(\n     children: [\n       TextButton( \n        onPressed: () {\n         showModalBottomSheet( &lt;-- Triggered from this inside `Navigator`\n          useRootNavigator: false,\n          context: context,\n          builder: (_) =&gt; const SizedBox(\n            height: 200,\n            child: Text(\n             'Modal bottom sheet',\n             style: TextStyle(fontSize: 30),\n          ),\n         ),\n        );\n       },\n       child: CustomText().darkGrey(\n        txt: 'Add to wishlist',\n        size: 17,\n       ),\n      ),\n      const DetailProductStoreName(),\n     ],\n    );\n   },\n  );\n },\n),\nbottomNavigationBar: AddToCartBottomNav(), &lt;--what i expect is triggered within 'bottomNavigationBar'\n\n\n\n</code></pre>\n<p>left pict when triggered within <code>body</code> -&gt; <code>Navigator</code> -&gt; <code>MaterialPageRoute</code></p>\n<p>right pict when triggered within <code>bottomNavigationBar</code></p>\n<p><a href=\"https://i.sstatic.net/IYEgq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/IYEgq.png\" alt=\"Triggered from Body\" /></a> <a href=\"https://i.sstatic.net/3ZZaS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/3ZZaS.png\" alt=\"enter image description here\" /></a></p>\n<p>what i expect is <code>showModalBottomSheet</code> triggered from <code>bottomNavigationBar</code> and modalSheet can show above <code>Add to Cart</code> button just like on left pict</p>\n",
        "codigo": [
            "showModalBottomSheet",
            "bottomNavigationBar",
            "Stack",
            "body: Navigator(\nonGenerateRoute: (settings) {\n return MaterialPageRoute(\n  builder: (context) {\n    return ListView(\n     children: [\n       TextButton( \n        onPressed: () {\n         showModalBottomSheet( <-- Triggered from this inside `Navigator`\n          useRootNavigator: false,\n          context: context,\n          builder: (_) => const SizedBox(\n            height: 200,\n            child: Text(\n             'Modal bottom sheet',\n             style: TextStyle(fontSize: 30),\n          ),\n         ),\n        );\n       },\n       child: CustomText().darkGrey(\n        txt: 'Add to wishlist',\n        size: 17,\n       ),\n      ),\n      const DetailProductStoreName(),\n     ],\n    );\n   },\n  );\n },\n),\nbottomNavigationBar: AddToCartBottomNav(), <--what i expect is triggered within 'bottomNavigationBar'\n\n\n\n",
            "body",
            "Navigator",
            "MaterialPageRoute",
            "bottomNavigationBar",
            "showModalBottomSheet",
            "bottomNavigationBar",
            "Add to Cart"
        ]
    },
    {
        "titulo": "Confusion around passing assumed const parameter in constructor",
        "score": 0,
        "views": 85,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78058851/confusion-around-passing-assumed-const-parameter-in-constructor",
        "conteudo_html": "<p>I'm new to Dart (and Flutter) so this might be very obvious but for the life of me I cannot make sense of why this is an issue.</p>\n<p>I am trying to construct a few utility classes, understanding Flutter loves to pre-calculate as much as possibly by encouraging <strong>const</strong> values everywhere, makes sense to me to want to do that! Hoping to do right by Flutter and our app's performance I've written the following (names changed from original):</p>\n<p><strong>Below: works great</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\n\nclass MainPackageAssetImage extends AssetImage {\n  const MainPackageAssetImage(String assetName)\n      : super(assetName, package: 'main_package');\n}\n...\n// Works as expected, enforces constructor is called with const value (even if that is a const variable) \nfinal assetImage = MainPackageAssetImage(&quot;exampleImageName&quot;); \n\n// Fails as expected, whooHooAssetName is not a const value\nvar whooHooAssetName = &quot;whoo hoo&quot;;\n...\nfinal invalidCallAssetImage = MainPackageAssetImage(whooHooAssetName);\n\n</code></pre>\n<p><strong>Below: results in an error before it's even called with const or non-const passed <code>assetName</code>s</strong>: <em>Arguments of a constant creation must be constant expressions. Try making the argument a valid constant, or use 'new' to call the constructor</em></p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MainPackageImage extends Image {\n  const MainPackageImage(String assetName)\n      : super(image: const MainPackageAssetImage(assetName));\n}\n</code></pre>\n<p>Dart complains about <code>assetName</code>'s usage in the construction of <code>MainPackageAssetImage</code> that is passed to the <code>MainPackageImage</code>'s <code>image</code> parameter rather than enforcing that <code>assetName</code> is a <strong>const</strong> at the calling point like in the first example.</p>\n<p>I'm unclear why within <code>MainPackageAssetImage</code>'s constructor <code>assetName</code>'s <strong>const</strong> enforcement is given off to the caller where that same passing the buck isn't allowed for <code>MainPackageImage</code>'s constructor (asking that <code>MainPackageImage</code>'s caller be responsible for passing a <strong>const</strong> value rather than making it <code>MainPackageImage</code>'s responsibility being the immediate caller). Is this a limitation of Dart's resolution or am I missing a core concept somewhere?</p>\n<p>Thank you so much for your help!</p>\n",
        "codigo": [
            "import 'package:flutter/material.dart';\n\nclass MainPackageAssetImage extends AssetImage {\n  const MainPackageAssetImage(String assetName)\n      : super(assetName, package: 'main_package');\n}\n...\n// Works as expected, enforces constructor is called with const value (even if that is a const variable) \nfinal assetImage = MainPackageAssetImage(\"exampleImageName\"); \n\n// Fails as expected, whooHooAssetName is not a const value\nvar whooHooAssetName = \"whoo hoo\";\n...\nfinal invalidCallAssetImage = MainPackageAssetImage(whooHooAssetName);\n\n",
            "assetName",
            "class MainPackageImage extends Image {\n  const MainPackageImage(String assetName)\n      : super(image: const MainPackageAssetImage(assetName));\n}\n",
            "assetName",
            "MainPackageAssetImage",
            "MainPackageImage",
            "image",
            "assetName",
            "MainPackageAssetImage",
            "assetName",
            "MainPackageImage",
            "MainPackageImage",
            "MainPackageImage"
        ]
    },
    {
        "titulo": "Carousel Slider Caching",
        "score": 1,
        "views": 334,
        "respostas": 1,
        "tags": [
            "flutter",
            "image",
            "dart",
            "caching",
            "carousel-slider"
        ],
        "link": "https://stackoverflow.com/questions/78057700/carousel-slider-caching",
        "conteudo_html": "<p>I'd like to know which is the best way to cache a carousel slider in flutter. Currently I have a CarouselSlider which is able to open a window to view the whole image. When I swipe it loads the next image and when I slide back it loads the previous image again. Which is the best approach and the best usability?</p>\n<p>This is my code:</p>\n<pre><code>ClipRRect(\n  borderRadius: BorderRadius.circular(25),\n  child: AspectRatio(\n    aspectRatio: 16 / 9, // Set the aspect ratio to 16:9\n    child: CarouselSlider(\n      items: widget.recipe.urlImages.map((image) {\n        return Builder(\n          builder: (context) {\n            return Wrap(\n              children: &lt;Widget&gt;[\n                Container(\n                  decoration: BoxDecoration(\n                    borderRadius:\n                        BorderRadius.circular(25),\n                  ),\n                  child: GestureDetector(\n                    onTap: () {\n                      Navigator.of(context).push(\n                          MaterialPageRoute(builder: (_) {\n                        return Scaffold(\n                          appBar: AppBar(\n                            iconTheme:\n                                const IconThemeData(\n                                    color: FooderColors\n                                        .fooderMainGreen),\n                            backgroundColor: Colors.white,\n                            elevation: 0.0,\n                            centerTitle: true,\n                            title: ImageIcon(\n                              AssetImage(\n                                  'assets/icons/logo_new.png'),\n                              color: FooderColors\n                                  .fooderMainGreen,\n                              size: 50,\n                            ),\n                          ),\n                          body: Center(\n                            child: Hero(\n                              tag: widget\n                                      .recipe.recipeKey +\n                                  image,\n                              // Ensure unique tag per image\n                              child: Image.network(image,\n                                  fit: BoxFit.contain),\n                            ),\n                          ),\n                        );\n                      }));\n                    },\n                    child: ClipRRect(\n                      child: Hero(\n                        tag: widget.recipe.recipeKey +\n                            image,\n                        // Ensure unique tag per image\n                        child: Image.network(\n                          image,\n                          fit: BoxFit.cover,\n                          loadingBuilder:\n                              (BuildContext context,\n                                  Widget child,\n                                  ImageChunkEvent?\n                                      loadingProgress) {\n                            if (loadingProgress == null)\n                              return child;\n                            return Center(\n                              child:\n                                  CircularProgressIndicator(\n                                value: loadingProgress\n                                            .expectedTotalBytes !=\n                                        null\n                                    ? loadingProgress\n                                            .cumulativeBytesLoaded /\n                                        loadingProgress\n                                            .expectedTotalBytes!\n                                    : null,\n                              ),\n                            );\n                          },\n                        ),\n                      ),\n                    ),\n                  ),\n                ),\n              ],\n            );\n          },\n        );\n      }).toList(),\n      options: CarouselOptions(\n        viewportFraction: 1.0,\n        enlargeCenterPage: false,\n      ),\n    ),\n  ),\n),\n</code></pre>\n",
        "codigo": [
            "ClipRRect(\n  borderRadius: BorderRadius.circular(25),\n  child: AspectRatio(\n    aspectRatio: 16 / 9, // Set the aspect ratio to 16:9\n    child: CarouselSlider(\n      items: widget.recipe.urlImages.map((image) {\n        return Builder(\n          builder: (context) {\n            return Wrap(\n              children: <Widget>[\n                Container(\n                  decoration: BoxDecoration(\n                    borderRadius:\n                        BorderRadius.circular(25),\n                  ),\n                  child: GestureDetector(\n                    onTap: () {\n                      Navigator.of(context).push(\n                          MaterialPageRoute(builder: (_) {\n                        return Scaffold(\n                          appBar: AppBar(\n                            iconTheme:\n                                const IconThemeData(\n                                    color: FooderColors\n                                        .fooderMainGreen),\n                            backgroundColor: Colors.white,\n                            elevation: 0.0,\n                            centerTitle: true,\n                            title: ImageIcon(\n                              AssetImage(\n                                  'assets/icons/logo_new.png'),\n                              color: FooderColors\n                                  .fooderMainGreen,\n                              size: 50,\n                            ),\n                          ),\n                          body: Center(\n                            child: Hero(\n                              tag: widget\n                                      .recipe.recipeKey +\n                                  image,\n                              // Ensure unique tag per image\n                              child: Image.network(image,\n                                  fit: BoxFit.contain),\n                            ),\n                          ),\n                        );\n                      }));\n                    },\n                    child: ClipRRect(\n                      child: Hero(\n                        tag: widget.recipe.recipeKey +\n                            image,\n                        // Ensure unique tag per image\n                        child: Image.network(\n                          image,\n                          fit: BoxFit.cover,\n                          loadingBuilder:\n                              (BuildContext context,\n                                  Widget child,\n                                  ImageChunkEvent?\n                                      loadingProgress) {\n                            if (loadingProgress == null)\n                              return child;\n                            return Center(\n                              child:\n                                  CircularProgressIndicator(\n                                value: loadingProgress\n                                            .expectedTotalBytes !=\n                                        null\n                                    ? loadingProgress\n                                            .cumulativeBytesLoaded /\n                                        loadingProgress\n                                            .expectedTotalBytes!\n                                    : null,\n                              ),\n                            );\n                          },\n                        ),\n                      ),\n                    ),\n                  ),\n                ),\n              ],\n            );\n          },\n        );\n      }).toList(),\n      options: CarouselOptions(\n        viewportFraction: 1.0,\n        enlargeCenterPage: false,\n      ),\n    ),\n  ),\n),\n"
        ]
    },
    {
        "titulo": "Constructors for public widgets should have a named &#39;key&#39; parameter",
        "score": 2,
        "views": 2606,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/78037550/constructors-for-public-widgets-should-have-a-named-key-parameter",
        "conteudo_html": "<p>I am creating some classes but I am getting this error message:</p>\n<p><strong>Constructors for public widgets should have a named 'key' parameter.</strong></p>\n<p>I have tried to add the key but it is not working.</p>\n<pre><code>  const TitleCompanyScreen([this.isNewTitleCompany, this.titleCompanyId], {super.key});\n</code></pre>\n<p>How do I add the named 'key' parameter to a class?</p>\n<p><strong>UPDATE:</strong></p>\n<p>I made changes but I am still getting errors.</p>\n<pre><code>class TitleCompanyScreen extends ConsumerStatefulWidget {\n  final bool? isNewTitleCompany;\n  final String? titleCompanyId;\n\n  const TitleCompanyScreen({[this.isNewTitleCompany, this.titleCompanyId]});\n    \n  @override\n  ConsumerState&lt;TitleCompanyScreen&gt; createState() =&gt; _TitleCompanyScreenState();\n}\n</code></pre>\n<p>If I don't initialize the final variables I get this error:</p>\n<pre><code>All final variables must be initialized, but 'isNewTitleCompany' and 'titleCompanyId' aren't.\nTry adding initializers for the fields.\n</code></pre>\n<p>If I initialize the variables to false and '' respectively I get this error. the error is marked on the first [ in the line below:</p>\n<pre><code>const TitleCompanyScreen({[this.isNewTitleCompany, this.titleCompanyId]});\n    Expected an identifier.dart(missing_identifier)\n    Expected to find '}'.\n</code></pre>\n",
        "codigo": [
            "  const TitleCompanyScreen([this.isNewTitleCompany, this.titleCompanyId], {super.key});\n",
            "class TitleCompanyScreen extends ConsumerStatefulWidget {\n  final bool? isNewTitleCompany;\n  final String? titleCompanyId;\n\n  const TitleCompanyScreen({[this.isNewTitleCompany, this.titleCompanyId]});\n    \n  @override\n  ConsumerState<TitleCompanyScreen> createState() => _TitleCompanyScreenState();\n}\n",
            "All final variables must be initialized, but 'isNewTitleCompany' and 'titleCompanyId' aren't.\nTry adding initializers for the fields.\n",
            "const TitleCompanyScreen({[this.isNewTitleCompany, this.titleCompanyId]});\n    Expected an identifier.dart(missing_identifier)\n    Expected to find '}'.\n"
        ]
    },
    {
        "titulo": "Can&#39;t use flutter location or geolocator package",
        "score": 2,
        "views": 469,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "android-studio"
        ],
        "link": "https://stackoverflow.com/questions/78030027/cant-use-flutter-location-or-geolocator-package",
        "conteudo_html": "<p>Whenever I use flutter pub add location or flutter pub add geolocator package, I get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>\n     Launching lib\\main.dart on Android SDK built for x86 64 in debug mode...\ne: Incompatible classes were found in dependencies. Remove them from the classpath or use '-Xskip-metadata-version-check' to suppress errors\ne: C:/Users/*****/.gradle/caches/transforms-3/9508325ccc4e6492ee61ca313dfda75b/transformed/jetified-kotlin-stdlib-common-1.9.0.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (48, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (75, 15): Unresolved reference: apply\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (76, 17): Unresolved reference: lockscreenVisibility\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (78, 33): Overload resolution ambiguity:\npublic open fun createNotificationChannel(p0: NotificationChannel): Unit defined in androidx.core.app.NotificationManagerCompat\npublic open fun createNotificationChannel(p0: NotificationChannelCompat): Unit defined in androidx.core.app.NotificationManagerCompat\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (86, 54): Unresolved reference: let\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (87, 17): Unresolved reference: it\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (87, 26): Unresolved reference: it\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (89, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (91, 14): Overload resolution ambiguity:\npublic open fun setSmallIcon(p0: IconCompat): NotificationCompat.Builder defined in androidx.core.app.NotificationCompat.Builder\npublic open fun setSmallIcon(p0: Int): NotificationCompat.Builder defined in androidx.core.app.NotificationCompat.Builder\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (95, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (101, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (109, 33): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (115, 13): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (118, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (120, 14): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (124, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (169, 15): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (172, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (173, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (193, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (194, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (196, 15): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (201, 23): Unresolved reference: let\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (203, 21): Unresolved reference: it\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (214, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (215, 23): Unresolved reference: let\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (216, 32): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (217, 21): Unresolved reference: it\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (227, 23): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (229, 18): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (242, 13): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (244, 13): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (250, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (251, 13): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (253, 14): Class 'kotlin.Suppress' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Suppress.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (254, 13): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (257, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (261, 33): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (264, 13): Unresolved reference: mapOf\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (264, 31): Unresolved reference: to\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (264, 63): Unresolved reference: to\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (271, 14): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (272, 19): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (279, 13): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (281, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (282, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (283, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (285, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (286, 29): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (292, 29): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (294, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (302, 23): Unresolved reference: let\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (303, 69): Unresolved reference: it\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':location:compileDebugKotlin'.\n&gt; A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n   &gt; Compilation error. See log for more details\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 12s\n\nError: Gradle task assembleDebug failed with exit code 1\n\n\nExited (1).\n</code></pre>\n<p>The project runs fine without adding any of those packages. Here's some more info:</p>\n<p><code>./gradlew --version</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>\nGradle 7.6.3\nBuild time: 2023-10-04 15:59:47 UTC\nRevision: 1694251d59e0d4752d547e1fd5b5020b798a7e71\nKotlin: 1.7.10\nGroovy: 3.0.13\nAnt: Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM: 20.0.1 (Oracle Corporation 20.0.1+9-29)\nOS: Windows 11 10.0 amd64\n</code></pre>\n<p>pubspec.yaml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>cupertino_icons: ^1.0.6\n  google_fonts: ^6.1.0\n  flutter_riverpod: ^2.4.10\n  uuid: ^4.3.3\n  image_picker: ^1.0.7\n  http: ^1.2.1\n  location: ^5.0.3\n</code></pre>\n<p>Checked out some similar questions, but didn't help:</p>\n<p><a href=\"https://stackoverflow.com/questions/59893018/flutter-execution-failed-for-task-appcompiledebugkotlin\">Flutter: Execution failed for task &#39;:app:compileDebugKotlin&#39;</a></p>\n<p><a href=\"https://stackoverflow.com/questions/71781763/flutter-execution-failed-for-task-locationcompiledebugkotlin%60\">https://stackoverflow.com/questions/71781763/flutter-execution-failed-for-task-locationcompiledebugkotlin`</a></p>\n",
        "codigo": [
            "\n     Launching lib\\main.dart on Android SDK built for x86 64 in debug mode...\ne: Incompatible classes were found in dependencies. Remove them from the classpath or use '-Xskip-metadata-version-check' to suppress errors\ne: C:/Users/*****/.gradle/caches/transforms-3/9508325ccc4e6492ee61ca313dfda75b/transformed/jetified-kotlin-stdlib-common-1.9.0.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (48, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (75, 15): Unresolved reference: apply\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (76, 17): Unresolved reference: lockscreenVisibility\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (78, 33): Overload resolution ambiguity:\npublic open fun createNotificationChannel(p0: NotificationChannel): Unit defined in androidx.core.app.NotificationManagerCompat\npublic open fun createNotificationChannel(p0: NotificationChannelCompat): Unit defined in androidx.core.app.NotificationManagerCompat\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (86, 54): Unresolved reference: let\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (87, 17): Unresolved reference: it\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (87, 26): Unresolved reference: it\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (89, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (91, 14): Overload resolution ambiguity:\npublic open fun setSmallIcon(p0: IconCompat): NotificationCompat.Builder defined in androidx.core.app.NotificationCompat.Builder\npublic open fun setSmallIcon(p0: Int): NotificationCompat.Builder defined in androidx.core.app.NotificationCompat.Builder\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (95, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (101, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (109, 33): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (115, 13): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (118, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (120, 14): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (124, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (169, 15): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (172, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (173, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (193, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (194, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (196, 15): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (201, 23): Unresolved reference: let\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (203, 21): Unresolved reference: it\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (214, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (215, 23): Unresolved reference: let\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (216, 32): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (217, 21): Unresolved reference: it\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (227, 23): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (229, 18): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (242, 13): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (244, 13): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (250, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (251, 13): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (253, 14): Class 'kotlin.Suppress' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Suppress.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (254, 13): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (257, 9): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (261, 33): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (264, 13): Unresolved reference: mapOf\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (264, 31): Unresolved reference: to\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (264, 63): Unresolved reference: to\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (271, 14): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (272, 19): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (279, 13): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (281, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (282, 25): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (283, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (285, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (286, 29): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (292, 29): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (294, 17): Class 'kotlin.Unit' was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\nThe class is loaded from C:/Users/*****/.gradle/caches/transforms-3/c3f0666cf8984b118654915928619821/transformed/jetified-kotlin-stdlib-1.9.0.jar!/kotlin/Unit.class\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (302, 23): Unresolved reference: let\ne: C:\\Users\\*****\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\location-5.0.3\\android\\src\\main\\java\\com\\lyokone\\location\\FlutterLocationService.kt: (303, 69): Unresolved reference: it\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':location:compileDebugKotlin'.\n> A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n   > Compilation error. See log for more details\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 12s\n\nError: Gradle task assembleDebug failed with exit code 1\n\n\nExited (1).\n",
            "./gradlew --version",
            "\nGradle 7.6.3\nBuild time: 2023-10-04 15:59:47 UTC\nRevision: 1694251d59e0d4752d547e1fd5b5020b798a7e71\nKotlin: 1.7.10\nGroovy: 3.0.13\nAnt: Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM: 20.0.1 (Oracle Corporation 20.0.1+9-29)\nOS: Windows 11 10.0 amd64\n",
            "cupertino_icons: ^1.0.6\n  google_fonts: ^6.1.0\n  flutter_riverpod: ^2.4.10\n  uuid: ^4.3.3\n  image_picker: ^1.0.7\n  http: ^1.2.1\n  location: ^5.0.3\n"
        ]
    },
    {
        "titulo": "calling to StreamController.addError after calling StreamController.add gives error",
        "score": 0,
        "views": 218,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "stream",
            "streamcontroller"
        ],
        "link": "https://stackoverflow.com/questions/78023031/calling-to-streamcontroller-adderror-after-calling-streamcontroller-add-gives-er",
        "conteudo_html": "<p>I'm trying to forward a stream results to StreamController, however on calling the 3rd future on the example, the StreamController throws an error with unhelpful message.</p>\n<p>This is replicable when I try to call <code>addError</code> after calling <code>add</code> with values.</p>\n<p>Am I missing something?</p>\n<pre><code>test(&quot;stream controller&quot;, () async {\n    StreamController&lt;int&gt; c = StreamController();\n\n    Future&lt;int&gt; success() async {\n      return 1;\n    }\n\n    Future&lt;int&gt; throwing() async {\n      throw Exception();\n    }\n\n    Stream&lt;int&gt;.fromFutures([\n      throwing(), // 1\n      success(), // 2\n      throwing(), // 3\n    ]).listen((event) {\n      c.add(event);\n    }, onError: (e, st) {\n      c.addError(e, st);\n    });\n\n    await expectLater(\n      c.stream,\n      emitsInOrder([\n        emitsError(isA&lt;Exception&gt;()),\n        1,\n        emitsError(isA&lt;Exception&gt;()),\n      ]),\n    );\n  });\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception\ntest/poll_stream_test.dart 115:7  main.&lt;fn&gt;.throwing\ntest/poll_stream_test.dart 121:7  main.&lt;fn&gt;\n===== asynchronous gap ===========================\ndart:async                        _StreamController.addError\ntest/poll_stream_test.dart 125:9  main.&lt;fn&gt;.&lt;fn&gt;\n===== asynchronous gap ===========================\ndart:async                        _StreamImpl.listen\ntest/poll_stream_test.dart 122:8  main.&lt;fn&gt;\n</code></pre>\n<p>I have no idea why this doesn't works, but I'm expecting the StreamController to successfully emits error after I emits some value.</p>\n",
        "codigo": [
            "addError",
            "add",
            "test(\"stream controller\", () async {\n    StreamController<int> c = StreamController();\n\n    Future<int> success() async {\n      return 1;\n    }\n\n    Future<int> throwing() async {\n      throw Exception();\n    }\n\n    Stream<int>.fromFutures([\n      throwing(), // 1\n      success(), // 2\n      throwing(), // 3\n    ]).listen((event) {\n      c.add(event);\n    }, onError: (e, st) {\n      c.addError(e, st);\n    });\n\n    await expectLater(\n      c.stream,\n      emitsInOrder([\n        emitsError(isA<Exception>()),\n        1,\n        emitsError(isA<Exception>()),\n      ]),\n    );\n  });\n",
            "Exception\ntest/poll_stream_test.dart 115:7  main.<fn>.throwing\ntest/poll_stream_test.dart 121:7  main.<fn>\n===== asynchronous gap ===========================\ndart:async                        _StreamController.addError\ntest/poll_stream_test.dart 125:9  main.<fn>.<fn>\n===== asynchronous gap ===========================\ndart:async                        _StreamImpl.listen\ntest/poll_stream_test.dart 122:8  main.<fn>\n"
        ]
    },
    {
        "titulo": "I can&#39;t found buildscript in build.gradle",
        "score": 2,
        "views": 5908,
        "respostas": 3,
        "tags": [
            "flutter",
            "kotlin",
            "dart",
            "build.gradle"
        ],
        "link": "https://stackoverflow.com/questions/78020137/i-cant-found-buildscript-in-build-gradle",
        "conteudo_html": "<p>I know that <code>android\\build.gradle</code> includes buildscript. but <code>build.gradle</code> in my project doesn't have buildscript. so I can't solve the following error.</p>\n<pre><code>C:/Users/JG-H/.gradle/caches/transforms-3/2ae0bf9da71bed198914dc960cb2262f/transformed/jetified-kotlin-stdlib-common-1.9.0.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\n                                                   .\n                                                   .\n                                                   .\n\n┌─ Flutter Fix ──────────────────────────────────────────────────────────────────────────────┐\n│ [!] Your project requires a newer version of the Kotlin Gradle plugin.                     │\n│ Find the latest version on https://kotlinlang.org/docs/releases.html#release-details, then │\n│ update C:\\Users\\JG-H\\Desktop\\Flutter practice 2024\\02.little                               │\n│ spicy\\weather_app\\android\\build.gradle:                                                    │\n│ ext.kotlin_version = '&lt;latest-version&gt;'                                                    │\n└────────────────────────────────────────────────────────────────────────────────────────────┘\n</code></pre>\n<p>how can I find buildscript in <code>build.gradle</code>? The following is my buildgradle:</p>\n<pre class=\"lang-js prettyprint-override\"><code>allprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>I have copied buildscript in my other project.\nbut it can't be run.</p>\n",
        "codigo": [
            "android\\build.gradle",
            "build.gradle",
            "C:/Users/JG-H/.gradle/caches/transforms-3/2ae0bf9da71bed198914dc960cb2262f/transformed/jetified-kotlin-stdlib-common-1.9.0.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.\n                                                   .\n                                                   .\n                                                   .\n\n┌─ Flutter Fix ──────────────────────────────────────────────────────────────────────────────┐\n│ [!] Your project requires a newer version of the Kotlin Gradle plugin.                     │\n│ Find the latest version on https://kotlinlang.org/docs/releases.html#release-details, then │\n│ update C:\\Users\\JG-H\\Desktop\\Flutter practice 2024\\02.little                               │\n│ spicy\\weather_app\\android\\build.gradle:                                                    │\n│ ext.kotlin_version = '<latest-version>'                                                    │\n└────────────────────────────────────────────────────────────────────────────────────────────┘\n",
            "build.gradle",
            "allprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntasks.register(\"clean\", Delete) {\n    delete rootProject.buildDir\n}\n"
        ]
    },
    {
        "titulo": "How to make &#39;navigation.push()&#39; works for integration test in Flutter?",
        "score": 0,
        "views": 328,
        "respostas": 1,
        "tags": [
            "android",
            "ios",
            "flutter",
            "dart",
            "cross-platform"
        ],
        "link": "https://stackoverflow.com/questions/77982863/how-to-make-navigation-push-works-for-integration-test-in-flutter",
        "conteudo_html": "<p>It is my first time using an integration test in Flutter.</p>\n<p>I write the test code below :</p>\n<pre><code>testWidgets('Navigate to password page', (tester) async {\n\n      // ! Launch the app.\n      app.main();\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n\n      // ! Tap on the enter user login page\n      await tester.tap(find.byKey(const Key('enter_login_page_btn')));\n      await tester.pumpAndSettle();\n\n      // Check if the new page is displayed correctly\n      expect(find.byKey(const Key('page_user_login')), findsWidgets);\n\n      // Enter text into the login/email input field.\n      await tester.enterText(\n          find.byKey(const Key('user_input_login')), &quot;test@test.com&quot;);\n      await tester.testTextInput.receiveAction(TextInputAction.done);\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n\n      // ! Tap on the validate user login button.\n      await tester.tap(find.byKey(const Key('validate_login_btn')));\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n}\n</code></pre>\n<p>this is code when the 'login' button is pressed :</p>\n<pre><code>Navigator.push(\n              context,\n              MaterialPageRoute(\n                builder: (context) =&gt; PasswordPage(\n                  email ?? '',\n                  key: const Key('page_user_password'), \n                ),\n                maintainState: true,\n              ),\n            );\n</code></pre>\n<p>In normal manual test, the navigation works perfectly, but when I try to test it using the integration test, nothing happen, it doesn't navigate to the next page which is the password page and the test ends.</p>\n<p>Does any one has any idea why the navigation is not working in integration test ?</p>\n",
        "codigo": [
            "testWidgets('Navigate to password page', (tester) async {\n\n      // ! Launch the app.\n      app.main();\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n\n      // ! Tap on the enter user login page\n      await tester.tap(find.byKey(const Key('enter_login_page_btn')));\n      await tester.pumpAndSettle();\n\n      // Check if the new page is displayed correctly\n      expect(find.byKey(const Key('page_user_login')), findsWidgets);\n\n      // Enter text into the login/email input field.\n      await tester.enterText(\n          find.byKey(const Key('user_input_login')), \"test@test.com\");\n      await tester.testTextInput.receiveAction(TextInputAction.done);\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n\n      // ! Tap on the validate user login button.\n      await tester.tap(find.byKey(const Key('validate_login_btn')));\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n}\n",
            "Navigator.push(\n              context,\n              MaterialPageRoute(\n                builder: (context) => PasswordPage(\n                  email ?? '',\n                  key: const Key('page_user_password'), \n                ),\n                maintainState: true,\n              ),\n            );\n"
        ]
    },
    {
        "titulo": "GestureDetector execute script with child",
        "score": 0,
        "views": 53,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77966891/gesturedetector-execute-script-with-child",
        "conteudo_html": "<p>I want to execute a code on <strong>GestureDetector</strong> in this case with <code>onLongPressDetected</code> and also to change the content of the page, but I'm stuck at trying to make <strong>GestureDetector</strong> do both.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>@override\nWidget build(BuildContext context) {\n  return GestureDetector(\n      onLongPress: onLongPressDetected,\n      child: Scaffold(\n        appBar: AppBar(\n          title: Row(\n            mainAxisAlignment: MainAxisAlignment.start,\n            children: [\n              Text('Test')\n            ]\n          ),\n        ),\n      ),\n    ),\n}\n</code></pre>\n<p>I tried adding the function instead of <code>onLongPressDetected</code> but then I get the script to execute but the page remains the same(so the child is ignored).\nCan you please help me? Is there any way I can add some dart code to be executed with the <strong>GestureDetector</strong>?</p>\n<p>Edit, solution I found:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void Function()? test() {\n  print(&quot;Test&quot;);\n  return onLongPressDetected;\n}\n\n@override\nWidget build(BuildContext context) {\n  return GestureDetector(\n      onLongPress: test(),\n      child: Scaffold(\n        appBar: AppBar(\n          title: Row(\n            mainAxisAlignment: MainAxisAlignment.start,\n            children: [\n              Text('Test')\n            ]\n          ),\n        ),\n      ),\n    ),\n}\n</code></pre>\n",
        "codigo": [
            "onLongPressDetected",
            "@override\nWidget build(BuildContext context) {\n  return GestureDetector(\n      onLongPress: onLongPressDetected,\n      child: Scaffold(\n        appBar: AppBar(\n          title: Row(\n            mainAxisAlignment: MainAxisAlignment.start,\n            children: [\n              Text('Test')\n            ]\n          ),\n        ),\n      ),\n    ),\n}\n",
            "onLongPressDetected",
            "void Function()? test() {\n  print(\"Test\");\n  return onLongPressDetected;\n}\n\n@override\nWidget build(BuildContext context) {\n  return GestureDetector(\n      onLongPress: test(),\n      child: Scaffold(\n        appBar: AppBar(\n          title: Row(\n            mainAxisAlignment: MainAxisAlignment.start,\n            children: [\n              Text('Test')\n            ]\n          ),\n        ),\n      ),\n    ),\n}\n"
        ]
    },
    {
        "titulo": "Flutter - unit test for a stopwatch app using Stopwatch class",
        "score": 1,
        "views": 183,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing"
        ],
        "link": "https://stackoverflow.com/questions/77933288/flutter-unit-test-for-a-stopwatch-app-using-stopwatch-class",
        "conteudo_html": "<p>There is a simple stopwatch application where I need to test that if I press the start button and then press it again after 3 minutes, for example, I see on the display (in a Text Widget) 00:03:000.</p>\n<p>In comparison, the test below returns that only 46 seconds (which is sometimes 45 or 47) have elapsed.</p>\n<pre><code>  testWidgets('Widget - Test stopwatch start', (tester) async {\n    await tester.pumpWidget(\n      const MaterialApp(\n        home: MainScreen(),\n      ),\n    );\n\n    final startBtnWidget = find.byKey(const Key('btnStartStop'));\n\n    await tester.tap(startBtnWidget);\n    await tester.pump(const Duration(minutes: 3));\n    await tester.tap(startBtnWidget);\n    await tester.pumpAndSettle();\n\n    final timerText = find.byKey(const Key('timerText'));\n    expect(timerText, findsOneWidget);\n\n    final text = timerText.evaluate().single.widget as Text;\n\n    expect(text.data, '00:03:000');\n  });\n</code></pre>\n<p>... and the result:</p>\n<pre><code>Expected: '00:03:000'\n  Actual: '00:00:046'\n   Which: is different.\n          Expected: 00:03:000\n            Actual: 00:00:046\n                        ^\n           Differ at offset 4\n</code></pre>\n",
        "codigo": [
            "  testWidgets('Widget - Test stopwatch start', (tester) async {\n    await tester.pumpWidget(\n      const MaterialApp(\n        home: MainScreen(),\n      ),\n    );\n\n    final startBtnWidget = find.byKey(const Key('btnStartStop'));\n\n    await tester.tap(startBtnWidget);\n    await tester.pump(const Duration(minutes: 3));\n    await tester.tap(startBtnWidget);\n    await tester.pumpAndSettle();\n\n    final timerText = find.byKey(const Key('timerText'));\n    expect(timerText, findsOneWidget);\n\n    final text = timerText.evaluate().single.widget as Text;\n\n    expect(text.data, '00:03:000');\n  });\n",
            "Expected: '00:03:000'\n  Actual: '00:00:046'\n   Which: is different.\n          Expected: 00:03:000\n            Actual: 00:00:046\n                        ^\n           Differ at offset 4\n"
        ]
    },
    {
        "titulo": "How to handle errors coming back from Futures when I am not awaiting the Future?",
        "score": 0,
        "views": 82,
        "respostas": 2,
        "tags": [
            "dart",
            "exception",
            "future"
        ],
        "link": "https://stackoverflow.com/questions/77916066/how-to-handle-errors-coming-back-from-futures-when-i-am-not-awaiting-the-future",
        "conteudo_html": "<p>I have something like this:</p>\n<pre><code>Future&lt;void&gt; f1() { ... }\nFuture&lt;void&gt; f2() { ... }\nFuture&lt;void&gt; f3() { ... }\n\nvoid main() async\n{\n  f1();\n  f2(); // might throw an Exception\n\n  await f3();\n}\n</code></pre>\n<p>Note - I am deliberately not awaiting f1 or f2, I am only awaiting the consequences in f3.</p>\n<p>How do I handle the possibility of an exception in f2 ? The normal try / catch procedure doesn't work.</p>\n<p>I have seen some discussion of catchError but I don't really understand it.</p>\n<p>I would like to do the equivalent of:</p>\n<pre><code>Future&lt;void&gt; f1() { ... }\nFuture&lt;void&gt; f2() { ... }\nFuture&lt;void&gt; f3() { ... }\n\nvoid main() async\n{\n  f1();\n  try \n  {\n    f2(); // might throw an Exception\n  }\n  on MyException catch( e )\n  {\n    print('this is what I expected to happen, so carry on regardless');\n  }\n\n  await f3();\n}\n</code></pre>\n",
        "codigo": [
            "Future<void> f1() { ... }\nFuture<void> f2() { ... }\nFuture<void> f3() { ... }\n\nvoid main() async\n{\n  f1();\n  f2(); // might throw an Exception\n\n  await f3();\n}\n",
            "Future<void> f1() { ... }\nFuture<void> f2() { ... }\nFuture<void> f3() { ... }\n\nvoid main() async\n{\n  f1();\n  try \n  {\n    f2(); // might throw an Exception\n  }\n  on MyException catch( e )\n  {\n    print('this is what I expected to happen, so carry on regardless');\n  }\n\n  await f3();\n}\n"
        ]
    },
    {
        "titulo": "package io.flutter.plugins.sharedpreferences does not exist after upgrading flutter shared_preferences to version 2.2.2",
        "score": 1,
        "views": 865,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "sharedpreferences"
        ],
        "link": "https://stackoverflow.com/questions/77874484/package-io-flutter-plugins-sharedpreferences-does-not-exist-after-upgrading-flut",
        "conteudo_html": "<p><strong>show this error after run &quot;flutter upgrade&quot;</strong></p>\n<p>this problem hide when stop sharedPreferences from pubspec.yaml .</p>\n<p>i try change dart-sdk version from pubspec.yaml but nothinge changed .</p>\n<p><a href=\"https://i.sstatic.net/Qm44Y.png\" rel=\"nofollow noreferrer\">this image show version of shared_Preferences that used</a></p>\n<p>This is the error :</p>\n<pre><code>Running Gradle task 'assembleDebug'...\nD:\\windows\\flutter_project\\salfa_game\\android\\app\\src\\main\\java\\io\\flutter\\plugins\\GeneratedPluginRegistrant.java:34: error: package io.flutter.plugins.sharedpreferences does not exist\n      flutterEngine.getPlugins().add(new io.flutter.plugins.sharedpreferences.SharedPreferencesPlugin());\n                                                                         ^\n</code></pre>\n<p>1 error</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 36s\nError: Gradle task assembleDebug failed with exit code 1\n\nI expect this error from dart-sdk last version dev chanall:3.4.0-64.0.dev \nthis is dart sdk version : 3.4.0-64.0.dev,\n</code></pre>\n",
        "codigo": [
            "Running Gradle task 'assembleDebug'...\nD:\\windows\\flutter_project\\salfa_game\\android\\app\\src\\main\\java\\io\\flutter\\plugins\\GeneratedPluginRegistrant.java:34: error: package io.flutter.plugins.sharedpreferences does not exist\n      flutterEngine.getPlugins().add(new io.flutter.plugins.sharedpreferences.SharedPreferencesPlugin());\n                                                                         ^\n",
            "FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n> Compilation failed; see the compiler error output for details.\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 36s\nError: Gradle task assembleDebug failed with exit code 1\n\nI expect this error from dart-sdk last version dev chanall:3.4.0-64.0.dev \nthis is dart sdk version : 3.4.0-64.0.dev,\n"
        ]
    },
    {
        "titulo": "Dart/Flutter PetitParser Fails to Ingest",
        "score": 0,
        "views": 61,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "petitparser"
        ],
        "link": "https://stackoverflow.com/questions/77870240/dart-flutter-petitparser-fails-to-ingest",
        "conteudo_html": "<p>Having trouble again getting a my input properly ingested, and I'm not sure what I'm doing wrong. The full file I'm using to to define my lexers can be <a href=\"https://github.com/fhir-fli/fhir_path/blob/antlrish/lib/fhirpath_lexer.dart\" rel=\"nofollow noreferrer\">seen here</a>. But specifically what I'm running into is that it won't identify an expression within parentheses. My issue is specifically with this Lexer:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Parser fhirPathExpression() {\n  final _expression = undefined();\n  final _invocation = undefined();\n  final _function = undefined();\n  final _paramList = undefined();\n\n  final Parser expressionPart = (_invocation |\n          (literal &amp; char('.') &amp; _invocation) |\n          _function |\n          literal |\n          string('\\$this') |\n          string('\\$index') |\n          string('\\$total') |\n          externalConstant |\n/// ******* line is the issue ***********************\n          (char('(') &amp; _expression &amp; char(')'))) &amp;\n/// ***********************************************\n      (identifyingOperations |\n              (operations &amp; _expression) |\n              (char('.') &amp; _invocation))\n          .star();\n\n  /// | (IDENTIFIER)? '=&gt;' expression #lambdaExpression\n\n  /// invocation : // Terms that can be used after the function/member invocation '.'\n  final Parser invocationPart = ((_function |\n          identifier |\n          string('\\$this') |\n          string('\\$index') |\n          string('\\$total')) &amp;\n      (char('.') &amp; _invocation).star());\n\n  final Parser functionPart = ((pattern('A-Za-z').plus().flatten().where(\n                      (value) =&gt; noArgumentFunctions.keys.contains(value)) &amp;\n                  string('()'))\n              .map((value) {\n            return noArgumentFunctions[value[0]]!;\n          }) |\n          (pattern('A-Za-z')\n                  .plus()\n                  .flatten()\n                  .where((value) =&gt; argumentFunctionNames.contains(value)) &amp;\n              char('(') &amp;\n              _paramList.optional() &amp;\n              char(')')))\n      .map((value) =&gt; value);\n\n  final Parser paramListPart = _expression &amp; (char(',') &amp; _expression).star();\n\n  _expression.set(expressionPart.end());\n  _invocation.set(invocationPart);\n  _function.set(functionPart);\n  _paramList.set(paramListPart);\n  return _expression;\n}\n</code></pre>\n<p>And I'm trying to parse &quot;(1.2 / 1.8)&quot;. When I attempt this, I get this error:</p>\n<pre><code>FhirPathInvalidExpressionException (Expression could not be parsed: end of input expected\n[\nExpression: (1.2 / 1.8)\nOffset: 5\nCause: Instance of 'ParserException': end of input expected (at 1:6)\n])\n</code></pre>\n<p>The thing that confuses me is if instead I parse &quot;(1.2 / 1.8&quot;, and change the offending line to:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>(char('(') &amp; _expression)) &amp;\n</code></pre>\n<p>It works fine. Any thoughts on where I'm going wrong?</p>\n",
        "codigo": [
            "Parser fhirPathExpression() {\n  final _expression = undefined();\n  final _invocation = undefined();\n  final _function = undefined();\n  final _paramList = undefined();\n\n  final Parser expressionPart = (_invocation |\n          (literal & char('.') & _invocation) |\n          _function |\n          literal |\n          string('\\$this') |\n          string('\\$index') |\n          string('\\$total') |\n          externalConstant |\n/// ******* line is the issue ***********************\n          (char('(') & _expression & char(')'))) &\n/// ***********************************************\n      (identifyingOperations |\n              (operations & _expression) |\n              (char('.') & _invocation))\n          .star();\n\n  /// | (IDENTIFIER)? '=>' expression #lambdaExpression\n\n  /// invocation : // Terms that can be used after the function/member invocation '.'\n  final Parser invocationPart = ((_function |\n          identifier |\n          string('\\$this') |\n          string('\\$index') |\n          string('\\$total')) &\n      (char('.') & _invocation).star());\n\n  final Parser functionPart = ((pattern('A-Za-z').plus().flatten().where(\n                      (value) => noArgumentFunctions.keys.contains(value)) &\n                  string('()'))\n              .map((value) {\n            return noArgumentFunctions[value[0]]!;\n          }) |\n          (pattern('A-Za-z')\n                  .plus()\n                  .flatten()\n                  .where((value) => argumentFunctionNames.contains(value)) &\n              char('(') &\n              _paramList.optional() &\n              char(')')))\n      .map((value) => value);\n\n  final Parser paramListPart = _expression & (char(',') & _expression).star();\n\n  _expression.set(expressionPart.end());\n  _invocation.set(invocationPart);\n  _function.set(functionPart);\n  _paramList.set(paramListPart);\n  return _expression;\n}\n",
            "FhirPathInvalidExpressionException (Expression could not be parsed: end of input expected\n[\nExpression: (1.2 / 1.8)\nOffset: 5\nCause: Instance of 'ParserException': end of input expected (at 1:6)\n])\n",
            "(char('(') & _expression)) &\n"
        ]
    },
    {
        "titulo": "Flutter Package Issue: &quot;Target file not found&quot; when running &#39;flutter run&#39;",
        "score": 0,
        "views": 631,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "dart",
            "mobile",
            "package"
        ],
        "link": "https://stackoverflow.com/questions/77864639/flutter-package-issue-target-file-not-found-when-running-flutter-run",
        "conteudo_html": "<p>I am working on developing a Flutter package designed to create a messenger chat head in the background. The package structure is as follows:</p>\n<pre><code>Flutter_Head/\n|-- lib/\n|   |-- flutter_head.dart\n|-- test/\n|   |-- flutter_head_test.dart\n|-- pubspec.yaml\n|-- README.md\n</code></pre>\n<ul>\n<li>Flutter version: 1.13.6.8</li>\n<li>Dart version: 2.3.2</li>\n</ul>\n<p>I am encountering an issue when trying to run my Flutter package using the flutter run command. The error message I receive is:</p>\n<blockquote>\n<p>Target file &quot;lib/main.dart&quot; not found.</p>\n</blockquote>\n<p><strong>Code Samples:</strong></p>\n<p>lib/flutter_head.dart</p>\n<pre><code>// lib/flutter_head.dart\nimport 'package:flutter/material.dart';\n\nclass FlutterHead extends StatefulWidget {\n  const FlutterHead({super.key});\n\n  @override\n  _FlutterHeadState createState() =&gt; _FlutterHeadState();\n}\n\nclass _FlutterHeadState extends State&lt;FlutterHead&gt; {\n  bool _isChatHeadVisible = true; // Track chat head visibility\n\n  final _appLifecycleObserver = AppLifecycleObserver();\n\n  @override\n  void initState() {\n    super.initState();\n    WidgetsBinding.instance.addObserver(_appLifecycleObserver);\n  }\n\n  @override\n  void dispose() {\n    WidgetsBinding.instance.removeObserver(_appLifecycleObserver);\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return _isChatHeadVisible\n        ? Positioned(\n            bottom: 16.0,\n            right: 16.0,\n            child: GestureDetector(\n              onTap: _handleTap,\n              child: Container(\n                width: 56.0,\n                height: 56.0,\n                decoration: const BoxDecoration(\n                  color: Colors.blue,\n                  shape: BoxShape.circle,\n                ),\n                child: const Icon(\n                  Icons.message,\n                  color: Colors.white,\n                ),\n              ),\n            ),\n          )\n        : Container(); // Return an empty container if chat head is not visible\n  }\n\n  void _handleTap() {\n    _minimizeApp();\n  }\n\n  void _minimizeApp() {\n    setState(() {\n      _isChatHeadVisible = false; // Hide the chat head\n    });\n    Navigator.pop(context);\n  }\n\n  void didChangeAppLifecycleState(AppLifecycleState state) {\n    if (state == AppLifecycleState.resumed) {\n      // App is in the foreground\n      // Show the chat head\n      _showChatHead();\n    } else if (state == AppLifecycleState.paused) {\n      // App is in the background\n      // Hide the chat head\n      _hideChatHead();\n    }\n  }\n\n  void _showChatHead() {\n    setState(() {\n      _isChatHeadVisible = true; // Show the chat head\n    });\n  }\n\n  void _hideChatHead() {\n    setState(() {\n      _isChatHeadVisible = false; // Hide the chat head\n    });\n  }\n}\n\nclass AppLifecycleObserver extends WidgetsBindingObserver {\n  @override\n  void didChangeAppLifecycleState(AppLifecycleState state) {\n    super.didChangeAppLifecycleState(state);\n  }\n}\n</code></pre>\n<p>test/flutter_head_test.dart</p>\n<pre><code>import 'package:flutter_head/flutter_head.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nvoid main() {\n  testWidgets('FlutterHead should be visible', (WidgetTester tester) async {\n    // Build our widget and trigger a frame.\n    await tester.pumpWidget(const FlutterHead());\n\n    // Verify that the chat head is initially visible.\n    expect(find.byType(FlutterHead), findsOneWidget);\n  });\n\n  testWidgets('Tapping on FlutterHead should minimize the app',\n      (WidgetTester tester) async {\n    // Build our widget and trigger a frame.\n    await tester.pumpWidget(const FlutterHead());\n\n    // Tap on the chat head.\n    await tester.tap(find.byType(FlutterHead));\n    await tester.pump();\n\n    // Verify that the app is minimized (chat head is no longer visible).\n    expect(find.byType(FlutterHead), findsNothing);\n  });\n}\n</code></pre>\n<p>example/lib/main.dart</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_head/flutter_head.dart';\n\nvoid main() {\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: const Text('Flutter Head Example'),\n        ),\n        body: const Center(\n          child: FlutterHead(),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>The error message</p>\n<p><a href=\"https://i.sstatic.net/3zGAY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/3zGAY.png\" alt=\"\" /></a></p>\n<p>How to resolve the &quot;<strong>Target file not found</strong>&quot; issue when running flutter run? If there are specific configurations or steps that need attention, please provide detailed instructions.</p>\n",
        "codigo": [
            "Flutter_Head/\n|-- lib/\n|   |-- flutter_head.dart\n|-- test/\n|   |-- flutter_head_test.dart\n|-- pubspec.yaml\n|-- README.md\n",
            "// lib/flutter_head.dart\nimport 'package:flutter/material.dart';\n\nclass FlutterHead extends StatefulWidget {\n  const FlutterHead({super.key});\n\n  @override\n  _FlutterHeadState createState() => _FlutterHeadState();\n}\n\nclass _FlutterHeadState extends State<FlutterHead> {\n  bool _isChatHeadVisible = true; // Track chat head visibility\n\n  final _appLifecycleObserver = AppLifecycleObserver();\n\n  @override\n  void initState() {\n    super.initState();\n    WidgetsBinding.instance.addObserver(_appLifecycleObserver);\n  }\n\n  @override\n  void dispose() {\n    WidgetsBinding.instance.removeObserver(_appLifecycleObserver);\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return _isChatHeadVisible\n        ? Positioned(\n            bottom: 16.0,\n            right: 16.0,\n            child: GestureDetector(\n              onTap: _handleTap,\n              child: Container(\n                width: 56.0,\n                height: 56.0,\n                decoration: const BoxDecoration(\n                  color: Colors.blue,\n                  shape: BoxShape.circle,\n                ),\n                child: const Icon(\n                  Icons.message,\n                  color: Colors.white,\n                ),\n              ),\n            ),\n          )\n        : Container(); // Return an empty container if chat head is not visible\n  }\n\n  void _handleTap() {\n    _minimizeApp();\n  }\n\n  void _minimizeApp() {\n    setState(() {\n      _isChatHeadVisible = false; // Hide the chat head\n    });\n    Navigator.pop(context);\n  }\n\n  void didChangeAppLifecycleState(AppLifecycleState state) {\n    if (state == AppLifecycleState.resumed) {\n      // App is in the foreground\n      // Show the chat head\n      _showChatHead();\n    } else if (state == AppLifecycleState.paused) {\n      // App is in the background\n      // Hide the chat head\n      _hideChatHead();\n    }\n  }\n\n  void _showChatHead() {\n    setState(() {\n      _isChatHeadVisible = true; // Show the chat head\n    });\n  }\n\n  void _hideChatHead() {\n    setState(() {\n      _isChatHeadVisible = false; // Hide the chat head\n    });\n  }\n}\n\nclass AppLifecycleObserver extends WidgetsBindingObserver {\n  @override\n  void didChangeAppLifecycleState(AppLifecycleState state) {\n    super.didChangeAppLifecycleState(state);\n  }\n}\n",
            "import 'package:flutter_head/flutter_head.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nvoid main() {\n  testWidgets('FlutterHead should be visible', (WidgetTester tester) async {\n    // Build our widget and trigger a frame.\n    await tester.pumpWidget(const FlutterHead());\n\n    // Verify that the chat head is initially visible.\n    expect(find.byType(FlutterHead), findsOneWidget);\n  });\n\n  testWidgets('Tapping on FlutterHead should minimize the app',\n      (WidgetTester tester) async {\n    // Build our widget and trigger a frame.\n    await tester.pumpWidget(const FlutterHead());\n\n    // Tap on the chat head.\n    await tester.tap(find.byType(FlutterHead));\n    await tester.pump();\n\n    // Verify that the app is minimized (chat head is no longer visible).\n    expect(find.byType(FlutterHead), findsNothing);\n  });\n}\n",
            "import 'package:flutter/material.dart';\nimport 'package:flutter_head/flutter_head.dart';\n\nvoid main() {\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: const Text('Flutter Head Example'),\n        ),\n        body: const Center(\n          child: FlutterHead(),\n        ),\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "How to combine matchers",
        "score": 2,
        "views": 103,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "dart-test"
        ],
        "link": "https://stackoverflow.com/questions/77859287/how-to-combine-matchers",
        "conteudo_html": "<p>I have a test like:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>const myText = 'This is my test';\n\nexpect(myText, contains('This'));\nexpect(myText, contains('test'));\n</code></pre>\n<p>How can I combine those 2 matchers to have only 1 <code>expect</code> ?</p>\n",
        "codigo": [
            "const myText = 'This is my test';\n\nexpect(myText, contains('This'));\nexpect(myText, contains('test'));\n",
            "expect"
        ]
    },
    {
        "titulo": "how to implement email verification after new account creation in flutter app using sql database?",
        "score": 2,
        "views": 129,
        "respostas": 1,
        "tags": [
            "php",
            "sql",
            "flutter",
            "dart",
            "email-verification"
        ],
        "link": "https://stackoverflow.com/questions/77849902/how-to-implement-email-verification-after-new-account-creation-in-flutter-app-us",
        "conteudo_html": "<p>I have created a flutter app which uses sql database. I have created a signup page, I want that when the user creates a new account, an email should be sent to the entered email id for verification and only after the verification the user should be able to login.</p>\n<p>Dart Code</p>\n<pre><code>import 'dart:convert';\nimport 'dart:io';\nimport 'package:flutter/scheduler.dart';\nimport 'package:http/http.dart' as http;\nimport 'package:flutter/material.dart';\nimport 'package:law_diary/login/login.dart';\nimport 'package:mailer/mailer.dart';\nimport 'package:mailer/smtp_server/gmail.dart';\nimport '../widgets/widgets.dart';\n\nclass SignUpPage extends StatefulWidget {\n  @override\n  _SignUpPageState createState() =&gt; _SignUpPageState();\n}\n\nclass _SignUpPageState extends State&lt;SignUpPage&gt; {\n  TextEditingController _nameController = TextEditingController();\n  TextEditingController _phoneController = TextEditingController();\n  TextEditingController _emailController = TextEditingController();\n  TextEditingController _usernameController = TextEditingController();\n  TextEditingController _passwordController = TextEditingController();\n  TextEditingController _confirmPasswordController = TextEditingController();\n\n  bool _showPassword = false;\n\n  Future _signup(BuildContext cont) async {\n    final String name = _nameController.text.trim();\n    final String phone = _phoneController.text.trim();\n    final String email = _emailController.text.trim();\n    final String username = _usernameController.text.trim();\n    final String password = _passwordController.text.trim();\n    final String confirmPassword = _confirmPasswordController.text.trim();\n\n    if (name.isEmpty ||\n        phone.isEmpty ||\n        email.isEmpty ||\n        username.isEmpty ||\n        password.isEmpty ||\n        confirmPassword.isEmpty) {\n      ToastUtil.showToast(&quot;All the fields are required!&quot;);\n    } else {\n      var url =\n          &quot;https://legaldiary.000webhostapp.com/android/signup/checkUser.php&quot;;\n      var response = await http.post(Uri.parse(url), body: {\n        &quot;name&quot;: name,\n        &quot;phone&quot;: phone,\n        &quot;email&quot;: email,\n        &quot;username&quot;: username,\n        &quot;password&quot;: password,\n        &quot;confirmPassword&quot;: confirmPassword,\n      });\n\n      print(&quot;Response from server: ${response.body}&quot;);\n\n      if (response.statusCode == 200) {\n        try {\n          var trimmedResponse = response.body.trim();\n          print(trimmedResponse);\n          var data = json.decode(trimmedResponse);\n\n          if (data[&quot;status&quot;] == &quot;success&quot;) {\n            ToastUtil.showToast(\n                &quot;Account Creation Successful. Check your email for verification!&quot;);\n            await sendEmail();\n            // SchedulerBinding.instance.addPostFrameCallback((_) {\n            Navigator.push(\n              context,\n              MaterialPageRoute(\n                builder: (_) =&gt; LoginPage(),\n              ),\n            );\n            // });\n          } else if (data[&quot;status&quot;] == &quot;error&quot;) {\n            ToastUtil.showToast(data[&quot;message&quot;]);\n          }\n        } catch (e) {\n          print(&quot;Error parsing JSON: $e&quot;);\n          ToastUtil.showToast(\n              &quot;An error occurred while processing the response.&quot;);\n        }\n      } else {\n        print(&quot;HTTP Error: ${response.statusCode}&quot;);\n        ToastUtil.showToast(&quot;An HTTP error occurred. Please try again later.&quot;);\n      }\n    }\n  }\n\n  Future&lt;void&gt; sendEmail() async {\n    // Replace these values with your actual email and SMTP server details\n    final String username = 'advoconnect07@gmail.com';\n    final String password = 'Yashi@71102';\n    final String recipient = _emailController.text.trim();\n\n    final smtpServer = gmail(username, password);\n\n    final message = Message()\n      ..from = Address(username, 'Your Name')\n      ..recipients.add(recipient)\n      ..subject = 'Test Dart Mailer ${DateTime.now()}'\n      ..text = 'This is a test email sent from Dart.';\n\n    try {\n      final sendReport = await send(message, smtpServer);\n      print('Message sent: ' + sendReport.toString());\n    } on MailerException catch (e) {\n      print('Message not sent. \\n' + e.toString());\n      for (var p in e.problems) {\n        print('Problem: ${p.code}: ${p.msg}');\n      }\n    } on SocketException catch (e) {\n      print('Message not sent. \\n' + e.toString());\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: CustomAppBar(),\n      backgroundColor: Colors.grey[200], // Greyish background\n      body: Stack(\n        children: &lt;Widget&gt;[\n          Container(\n            decoration: BoxDecoration(\n              gradient: LinearGradient(\n                colors: [Color(0xFF333333), Color(0xFF666666)],\n                begin: Alignment.topLeft,\n                end: Alignment.bottomRight,\n              ),\n            ),\n          ),\n          Center(\n            child: SingleChildScrollView(\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: &lt;Widget&gt;[\n                  Text(\n                    'Join us now!',\n                    style: TextStyle(\n                      color: Colors.white,\n                      fontSize: 28,\n                      fontWeight: FontWeight.bold,\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  Padding(\n                    padding: EdgeInsets.symmetric(horizontal: 40),\n                    child: TextFormField(\n                      controller: _nameController,\n                      style: TextStyle(color: Colors.white),\n                      decoration: InputDecoration(\n                        hintText: 'Name',\n                        hintStyle: TextStyle(color: Colors.white70),\n                        filled: true,\n                        fillColor: Colors.white.withOpacity(0.1),\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10),\n                          borderSide: BorderSide.none,\n                        ),\n                        prefixIcon: Icon(\n                          Icons.person,\n                          color: Colors.white,\n                        ),\n                      ),\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  Padding(\n                    padding: EdgeInsets.symmetric(horizontal: 40),\n                    child: TextFormField(\n                      controller: _phoneController,\n                      style: TextStyle(color: Colors.white),\n                      decoration: InputDecoration(\n                        hintText: 'Phone Number',\n                        hintStyle: TextStyle(color: Colors.white70),\n                        filled: true,\n                        fillColor: Colors.white.withOpacity(0.1),\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10),\n                          borderSide: BorderSide.none,\n                        ),\n                        prefixIcon: Icon(\n                          Icons.phone,\n                          color: Colors.white,\n                        ),\n                      ),\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  Padding(\n                    padding: EdgeInsets.symmetric(horizontal: 40),\n                    child: TextFormField(\n                      controller: _emailController,\n                      style: TextStyle(color: Colors.white),\n                      decoration: InputDecoration(\n                        hintText: 'Email',\n                        hintStyle: TextStyle(color: Colors.white70),\n                        filled: true,\n                        fillColor: Colors.white.withOpacity(0.1),\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10),\n                          borderSide: BorderSide.none,\n                        ),\n                        prefixIcon: Icon(\n                          Icons.mail_outline,\n                          color: Colors.white,\n                        ),\n                      ),\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  Padding(\n                    padding: EdgeInsets.symmetric(horizontal: 40),\n                    child: TextFormField(\n                      controller: _usernameController,\n                      style: TextStyle(color: Colors.white),\n                      decoration: InputDecoration(\n                        hintText: 'Username',\n                        hintStyle: TextStyle(color: Colors.white70),\n                        filled: true,\n                        fillColor: Colors.white.withOpacity(0.1),\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10),\n                          borderSide: BorderSide.none,\n                        ),\n                        prefixIcon: Icon(\n                          Icons.account_box,\n                          color: Colors.white,\n                        ),\n                      ),\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  Padding(\n                    padding: EdgeInsets.symmetric(horizontal: 40),\n                    child: TextFormField(\n                      controller: _passwordController,\n                      style: TextStyle(color: Colors.white),\n                      obscureText: !_showPassword,\n                      decoration: InputDecoration(\n                        hintText: 'Password',\n                        hintStyle: TextStyle(color: Colors.white70),\n                        filled: true,\n                        fillColor: Colors.white.withOpacity(0.1),\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10),\n                          borderSide: BorderSide.none,\n                        ),\n                        prefixIcon: Icon(\n                          Icons.lock_outline,\n                          color: Colors.white,\n                        ),\n                        suffixIcon: IconButton(\n                          icon: Icon(\n                            _showPassword\n                                ? Icons.visibility\n                                : Icons.visibility_off,\n                            color: Colors.white,\n                          ),\n                          onPressed: () {\n                            setState(() {\n                              _showPassword = !_showPassword;\n                            });\n                          },\n                        ),\n                      ),\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  Padding(\n                    padding: EdgeInsets.symmetric(horizontal: 40),\n                    child: TextFormField(\n                      controller: _confirmPasswordController,\n                      style: TextStyle(color: Colors.white),\n                      obscureText: !_showPassword,\n                      decoration: InputDecoration(\n                        hintText: 'Confirm Password',\n                        hintStyle: TextStyle(color: Colors.white70),\n                        filled: true,\n                        fillColor: Colors.white.withOpacity(0.1),\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10),\n                          borderSide: BorderSide.none,\n                        ),\n                        prefixIcon: Icon(\n                          Icons.lock_outline,\n                          color: Colors.white,\n                        ),\n                        suffixIcon: IconButton(\n                          icon: Icon(\n                            _showPassword\n                                ? Icons.visibility\n                                : Icons.visibility_off,\n                            color: Colors.white,\n                          ),\n                          onPressed: () {\n                            setState(() {\n                              _showPassword = !_showPassword;\n                            });\n                          },\n                        ),\n                      ),\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  ElevatedButton(\n                    onPressed: () {\n                      // TODO: Implement sign-up functionality\n                      _signup(context);\n                    },\n                    style: ElevatedButton.styleFrom(\n                      primary: Colors.white,\n                      shape: RoundedRectangleBorder(\n                        borderRadius: BorderRadius.circular(10),\n                      ),\n                    ),\n                    child: Padding(\n                      padding: const EdgeInsets.all(10.0),\n                      child: Text(\n                        'Sign Up',\n                        style: TextStyle(\n                          color: Colors.black87,\n                          fontSize: 18,\n                          fontWeight: FontWeight.bold,\n                        ),\n                      ),\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  GestureDetector(\n                    onTap: () {\n                      // Navigate back to the login page\n                      SchedulerBinding.instance.addPostFrameCallback((_) {\n                        Navigator.pop(context);\n                      });\n                    },\n                    child: Text(\n                      'Already have an account? Login',\n                      style: TextStyle(\n                        color: Colors.white,\n                        fontSize: 16,\n                      ),\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n\n</code></pre>\n<p>PHP file</p>\n<pre><code>&lt;?php\nheader('Content-Type: application/json');\n\nsession_start();\ninclude '../connection.php';\n\nfunction checkPasswordStrength($password) {\n    if (preg_match('/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{8,}$/', $password)) {\n        return 'very_strong';\n    } elseif (preg_match('/^(?=.*[a-z])(?=.*[A-Z]).{8,}$/', $password)) {\n        return 'strong';\n    } elseif (strlen($password) &gt;= 8) {\n        return 'weak';\n    } else {\n        return 'very_weak';\n    }\n}\n\nfunction generateVerificationToken() {\n    return bin2hex(random_bytes(32));  // Use a secure method to generate a random token\n}\n\n\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    if (isset($_POST['name']) &amp;&amp; isset($_POST['phone']) &amp;&amp; isset($_POST['email']) &amp;&amp; isset($_POST['username']) \n      &amp;&amp; isset($_POST['password']) &amp;&amp; isset($_POST['confirmPassword'])) {\n        // Get data from the POST request\n        $name = $_POST['name'];\n        $phone = $_POST['phone'];\n        $email = $_POST['email'];\n        $username = $_POST['username'];\n        $password = $_POST['password'];\n        $confirmPassword = $_POST['confirmPassword'];\n\n\n        if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {\n            echo json_encode(array(&quot;status&quot; =&gt; &quot;error&quot;, &quot;message&quot; =&gt; &quot;Invalid email format.&quot;));\n            die();\n            // exit;\n        }\n\n        if (!preg_match('/^\\d{10}$/', $phone)) {\n            echo json_encode(array(&quot;status&quot; =&gt; &quot;error&quot;, &quot;message&quot; =&gt; &quot;Invalid phone number format. It should have exactly 10 digits.&quot;));\n            die(); // Terminate script execution\n        }\n\n\n        $conn = connectToDatabase();\n\n        // Check if email or phone number already exists\n        $checkEmailQuery = &quot;SELECT * FROM userdetails WHERE email = '$email'&quot;;\n        $checkPhoneQuery = &quot;SELECT * FROM userdetails WHERE phn = '$phone'&quot;;\n\n        $resultEmail = executeQuery($conn, $checkEmailQuery);\n        $resultPhone = executeQuery($conn, $checkPhoneQuery);\n\n        if (mysqli_num_rows($resultEmail) &gt; 0) {\n            // Email is already used\n            echo json_encode(array(&quot;status&quot; =&gt; &quot;error&quot;, &quot;message&quot; =&gt; &quot;Email is already registered.&quot;));\n        } \n        elseif (mysqli_num_rows($resultPhone) &gt; 0) {\n            // Phone number is already used\n            echo json_encode(array(&quot;status&quot; =&gt; &quot;error&quot;, &quot;message&quot; =&gt; &quot;Phone number is already registered.&quot;));\n        } \n        else {\n            if($password != $confirmPassword) {\n                echo json_encode(array(&quot;status&quot; =&gt; &quot;error&quot;, &quot;message&quot; =&gt; &quot;Both the passwords do not match.&quot;));\n                die();\n            }\n\n            $passStrength = checkPasswordStrength($password);\n            // Check if the password is weak or very weak\n            if ($passStrength === 'weak' || $passStrength === 'very_weak') {\n                echo json_encode(array(&quot;status&quot; =&gt; &quot;error&quot;, &quot;message&quot; =&gt; &quot;Password is too weak. Choose a stronger password.\n                \\nThe password should contain at least 1 capital letter, 1 small letter, 1 digit and 1 special character.\n                \\nThe minimum length of the password should be 8.\n                &quot;));\n                die();\n            }\n\n            // Check if username already exists\n            $checkUsernameQuery = &quot;SELECT * FROM userdetails WHERE username = '$username'&quot;;\n            $resultUsername = executeQuery($conn, $checkUsernameQuery);\n\n            if (mysqli_num_rows($resultUsername) &gt; 0) {\n                // Username is already taken\n                echo json_encode(array(&quot;status&quot; =&gt; &quot;error&quot;, &quot;message&quot; =&gt; &quot;Username is already taken.&quot;));\n            } else {\n                // Insert the new user record\n                $verificationToken = generateVerificationToken();\n                $insertQuery = &quot;INSERT INTO userdetails (name, phn, username, password, email, token) VALUES ('$name', '$phone', '$username', '$password', '$email', '$verificationToken')&quot;;\n\n                if (mysqli_query($conn, $insertQuery)) {\n                    $userId = mysqli_insert_id($conn);\n\n                    // Store the token in the database\n                    // $updateTokenQuery = &quot;UPDATE userdetails SET token = '$verificationToken' WHERE email = '$email'&quot;;\n                    // mysqli_query($conn, $updateTokenQuery);\n\n                    // Send a verification email\n                    // $subject = &quot;Email Verification&quot;;\n                    // $message = &quot;Click the link to verify your email: http://legaldiary.000webhostapp.com/verify.php?id='.$userId.'&amp;token='.$verificationToken&quot;;\n                    // $headers = &quot;From: advoconnect07@gmail.com&quot;;  // Change this to your email\n\n                    // // Use a proper mail sending function (e.g., mail())\n                    // mail($email, $subject, $message, $headers);\n\n                    // User registered successfully\n                    echo json_encode(array(&quot;status&quot; =&gt; &quot;success&quot;, &quot;message&quot; =&gt; &quot;Registration successful. Check your email for verification.&quot;));\n                } else {\n                    // Error in registration\n                    echo json_encode(array(&quot;status&quot; =&gt; &quot;error&quot;, &quot;message&quot; =&gt; &quot;Error in registration.&quot;));\n                }\n            }\n        }\n    }\n\n    else {\n        // Return error if username or email and password are not set\n        echo json_encode([&quot;error&quot; =&gt; &quot;All the fields are required.&quot;]);\n    }\n} \n\nelse {\n    // Return error if the request method is not POST\n    echo json_encode([&quot;error&quot; =&gt; &quot;Invalid request method. Use POST.&quot;]);\n}\n\n\n\n// Close the database connection\nmysqli_close($conn);\n\n</code></pre>\n<p>Please help me with this. I have provided the code that I tried.</p>\n",
        "codigo": [
            "import 'dart:convert';\nimport 'dart:io';\nimport 'package:flutter/scheduler.dart';\nimport 'package:http/http.dart' as http;\nimport 'package:flutter/material.dart';\nimport 'package:law_diary/login/login.dart';\nimport 'package:mailer/mailer.dart';\nimport 'package:mailer/smtp_server/gmail.dart';\nimport '../widgets/widgets.dart';\n\nclass SignUpPage extends StatefulWidget {\n  @override\n  _SignUpPageState createState() => _SignUpPageState();\n}\n\nclass _SignUpPageState extends State<SignUpPage> {\n  TextEditingController _nameController = TextEditingController();\n  TextEditingController _phoneController = TextEditingController();\n  TextEditingController _emailController = TextEditingController();\n  TextEditingController _usernameController = TextEditingController();\n  TextEditingController _passwordController = TextEditingController();\n  TextEditingController _confirmPasswordController = TextEditingController();\n\n  bool _showPassword = false;\n\n  Future _signup(BuildContext cont) async {\n    final String name = _nameController.text.trim();\n    final String phone = _phoneController.text.trim();\n    final String email = _emailController.text.trim();\n    final String username = _usernameController.text.trim();\n    final String password = _passwordController.text.trim();\n    final String confirmPassword = _confirmPasswordController.text.trim();\n\n    if (name.isEmpty ||\n        phone.isEmpty ||\n        email.isEmpty ||\n        username.isEmpty ||\n        password.isEmpty ||\n        confirmPassword.isEmpty) {\n      ToastUtil.showToast(\"All the fields are required!\");\n    } else {\n      var url =\n          \"https://legaldiary.000webhostapp.com/android/signup/checkUser.php\";\n      var response = await http.post(Uri.parse(url), body: {\n        \"name\": name,\n        \"phone\": phone,\n        \"email\": email,\n        \"username\": username,\n        \"password\": password,\n        \"confirmPassword\": confirmPassword,\n      });\n\n      print(\"Response from server: ${response.body}\");\n\n      if (response.statusCode == 200) {\n        try {\n          var trimmedResponse = response.body.trim();\n          print(trimmedResponse);\n          var data = json.decode(trimmedResponse);\n\n          if (data[\"status\"] == \"success\") {\n            ToastUtil.showToast(\n                \"Account Creation Successful. Check your email for verification!\");\n            await sendEmail();\n            // SchedulerBinding.instance.addPostFrameCallback((_) {\n            Navigator.push(\n              context,\n              MaterialPageRoute(\n                builder: (_) => LoginPage(),\n              ),\n            );\n            // });\n          } else if (data[\"status\"] == \"error\") {\n            ToastUtil.showToast(data[\"message\"]);\n          }\n        } catch (e) {\n          print(\"Error parsing JSON: $e\");\n          ToastUtil.showToast(\n              \"An error occurred while processing the response.\");\n        }\n      } else {\n        print(\"HTTP Error: ${response.statusCode}\");\n        ToastUtil.showToast(\"An HTTP error occurred. Please try again later.\");\n      }\n    }\n  }\n\n  Future<void> sendEmail() async {\n    // Replace these values with your actual email and SMTP server details\n    final String username = 'advoconnect07@gmail.com';\n    final String password = 'Yashi@71102';\n    final String recipient = _emailController.text.trim();\n\n    final smtpServer = gmail(username, password);\n\n    final message = Message()\n      ..from = Address(username, 'Your Name')\n      ..recipients.add(recipient)\n      ..subject = 'Test Dart Mailer ${DateTime.now()}'\n      ..text = 'This is a test email sent from Dart.';\n\n    try {\n      final sendReport = await send(message, smtpServer);\n      print('Message sent: ' + sendReport.toString());\n    } on MailerException catch (e) {\n      print('Message not sent. \\n' + e.toString());\n      for (var p in e.problems) {\n        print('Problem: ${p.code}: ${p.msg}');\n      }\n    } on SocketException catch (e) {\n      print('Message not sent. \\n' + e.toString());\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: CustomAppBar(),\n      backgroundColor: Colors.grey[200], // Greyish background\n      body: Stack(\n        children: <Widget>[\n          Container(\n            decoration: BoxDecoration(\n              gradient: LinearGradient(\n                colors: [Color(0xFF333333), Color(0xFF666666)],\n                begin: Alignment.topLeft,\n                end: Alignment.bottomRight,\n              ),\n            ),\n          ),\n          Center(\n            child: SingleChildScrollView(\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: <Widget>[\n                  Text(\n                    'Join us now!',\n                    style: TextStyle(\n                      color: Colors.white,\n                      fontSize: 28,\n                      fontWeight: FontWeight.bold,\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  Padding(\n                    padding: EdgeInsets.symmetric(horizontal: 40),\n                    child: TextFormField(\n                      controller: _nameController,\n                      style: TextStyle(color: Colors.white),\n                      decoration: InputDecoration(\n                        hintText: 'Name',\n                        hintStyle: TextStyle(color: Colors.white70),\n                        filled: true,\n                        fillColor: Colors.white.withOpacity(0.1),\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10),\n                          borderSide: BorderSide.none,\n                        ),\n                        prefixIcon: Icon(\n                          Icons.person,\n                          color: Colors.white,\n                        ),\n                      ),\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  Padding(\n                    padding: EdgeInsets.symmetric(horizontal: 40),\n                    child: TextFormField(\n                      controller: _phoneController,\n                      style: TextStyle(color: Colors.white),\n                      decoration: InputDecoration(\n                        hintText: 'Phone Number',\n                        hintStyle: TextStyle(color: Colors.white70),\n                        filled: true,\n                        fillColor: Colors.white.withOpacity(0.1),\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10),\n                          borderSide: BorderSide.none,\n                        ),\n                        prefixIcon: Icon(\n                          Icons.phone,\n                          color: Colors.white,\n                        ),\n                      ),\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  Padding(\n                    padding: EdgeInsets.symmetric(horizontal: 40),\n                    child: TextFormField(\n                      controller: _emailController,\n                      style: TextStyle(color: Colors.white),\n                      decoration: InputDecoration(\n                        hintText: 'Email',\n                        hintStyle: TextStyle(color: Colors.white70),\n                        filled: true,\n                        fillColor: Colors.white.withOpacity(0.1),\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10),\n                          borderSide: BorderSide.none,\n                        ),\n                        prefixIcon: Icon(\n                          Icons.mail_outline,\n                          color: Colors.white,\n                        ),\n                      ),\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  Padding(\n                    padding: EdgeInsets.symmetric(horizontal: 40),\n                    child: TextFormField(\n                      controller: _usernameController,\n                      style: TextStyle(color: Colors.white),\n                      decoration: InputDecoration(\n                        hintText: 'Username',\n                        hintStyle: TextStyle(color: Colors.white70),\n                        filled: true,\n                        fillColor: Colors.white.withOpacity(0.1),\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10),\n                          borderSide: BorderSide.none,\n                        ),\n                        prefixIcon: Icon(\n                          Icons.account_box,\n                          color: Colors.white,\n                        ),\n                      ),\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  Padding(\n                    padding: EdgeInsets.symmetric(horizontal: 40),\n                    child: TextFormField(\n                      controller: _passwordController,\n                      style: TextStyle(color: Colors.white),\n                      obscureText: !_showPassword,\n                      decoration: InputDecoration(\n                        hintText: 'Password',\n                        hintStyle: TextStyle(color: Colors.white70),\n                        filled: true,\n                        fillColor: Colors.white.withOpacity(0.1),\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10),\n                          borderSide: BorderSide.none,\n                        ),\n                        prefixIcon: Icon(\n                          Icons.lock_outline,\n                          color: Colors.white,\n                        ),\n                        suffixIcon: IconButton(\n                          icon: Icon(\n                            _showPassword\n                                ? Icons.visibility\n                                : Icons.visibility_off,\n                            color: Colors.white,\n                          ),\n                          onPressed: () {\n                            setState(() {\n                              _showPassword = !_showPassword;\n                            });\n                          },\n                        ),\n                      ),\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  Padding(\n                    padding: EdgeInsets.symmetric(horizontal: 40),\n                    child: TextFormField(\n                      controller: _confirmPasswordController,\n                      style: TextStyle(color: Colors.white),\n                      obscureText: !_showPassword,\n                      decoration: InputDecoration(\n                        hintText: 'Confirm Password',\n                        hintStyle: TextStyle(color: Colors.white70),\n                        filled: true,\n                        fillColor: Colors.white.withOpacity(0.1),\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10),\n                          borderSide: BorderSide.none,\n                        ),\n                        prefixIcon: Icon(\n                          Icons.lock_outline,\n                          color: Colors.white,\n                        ),\n                        suffixIcon: IconButton(\n                          icon: Icon(\n                            _showPassword\n                                ? Icons.visibility\n                                : Icons.visibility_off,\n                            color: Colors.white,\n                          ),\n                          onPressed: () {\n                            setState(() {\n                              _showPassword = !_showPassword;\n                            });\n                          },\n                        ),\n                      ),\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  ElevatedButton(\n                    onPressed: () {\n                      // TODO: Implement sign-up functionality\n                      _signup(context);\n                    },\n                    style: ElevatedButton.styleFrom(\n                      primary: Colors.white,\n                      shape: RoundedRectangleBorder(\n                        borderRadius: BorderRadius.circular(10),\n                      ),\n                    ),\n                    child: Padding(\n                      padding: const EdgeInsets.all(10.0),\n                      child: Text(\n                        'Sign Up',\n                        style: TextStyle(\n                          color: Colors.black87,\n                          fontSize: 18,\n                          fontWeight: FontWeight.bold,\n                        ),\n                      ),\n                    ),\n                  ),\n                  SizedBox(height: 20),\n                  GestureDetector(\n                    onTap: () {\n                      // Navigate back to the login page\n                      SchedulerBinding.instance.addPostFrameCallback((_) {\n                        Navigator.pop(context);\n                      });\n                    },\n                    child: Text(\n                      'Already have an account? Login',\n                      style: TextStyle(\n                        color: Colors.white,\n                        fontSize: 16,\n                      ),\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n\n",
            "<?php\nheader('Content-Type: application/json');\n\nsession_start();\ninclude '../connection.php';\n\nfunction checkPasswordStrength($password) {\n    if (preg_match('/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{8,}$/', $password)) {\n        return 'very_strong';\n    } elseif (preg_match('/^(?=.*[a-z])(?=.*[A-Z]).{8,}$/', $password)) {\n        return 'strong';\n    } elseif (strlen($password) >= 8) {\n        return 'weak';\n    } else {\n        return 'very_weak';\n    }\n}\n\nfunction generateVerificationToken() {\n    return bin2hex(random_bytes(32));  // Use a secure method to generate a random token\n}\n\n\nif ($_SERVER['REQUEST_METHOD'] === 'POST') {\n    if (isset($_POST['name']) && isset($_POST['phone']) && isset($_POST['email']) && isset($_POST['username']) \n      && isset($_POST['password']) && isset($_POST['confirmPassword'])) {\n        // Get data from the POST request\n        $name = $_POST['name'];\n        $phone = $_POST['phone'];\n        $email = $_POST['email'];\n        $username = $_POST['username'];\n        $password = $_POST['password'];\n        $confirmPassword = $_POST['confirmPassword'];\n\n\n        if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {\n            echo json_encode(array(\"status\" => \"error\", \"message\" => \"Invalid email format.\"));\n            die();\n            // exit;\n        }\n\n        if (!preg_match('/^\\d{10}$/', $phone)) {\n            echo json_encode(array(\"status\" => \"error\", \"message\" => \"Invalid phone number format. It should have exactly 10 digits.\"));\n            die(); // Terminate script execution\n        }\n\n\n        $conn = connectToDatabase();\n\n        // Check if email or phone number already exists\n        $checkEmailQuery = \"SELECT * FROM userdetails WHERE email = '$email'\";\n        $checkPhoneQuery = \"SELECT * FROM userdetails WHERE phn = '$phone'\";\n\n        $resultEmail = executeQuery($conn, $checkEmailQuery);\n        $resultPhone = executeQuery($conn, $checkPhoneQuery);\n\n        if (mysqli_num_rows($resultEmail) > 0) {\n            // Email is already used\n            echo json_encode(array(\"status\" => \"error\", \"message\" => \"Email is already registered.\"));\n        } \n        elseif (mysqli_num_rows($resultPhone) > 0) {\n            // Phone number is already used\n            echo json_encode(array(\"status\" => \"error\", \"message\" => \"Phone number is already registered.\"));\n        } \n        else {\n            if($password != $confirmPassword) {\n                echo json_encode(array(\"status\" => \"error\", \"message\" => \"Both the passwords do not match.\"));\n                die();\n            }\n\n            $passStrength = checkPasswordStrength($password);\n            // Check if the password is weak or very weak\n            if ($passStrength === 'weak' || $passStrength === 'very_weak') {\n                echo json_encode(array(\"status\" => \"error\", \"message\" => \"Password is too weak. Choose a stronger password.\n                \\nThe password should contain at least 1 capital letter, 1 small letter, 1 digit and 1 special character.\n                \\nThe minimum length of the password should be 8.\n                \"));\n                die();\n            }\n\n            // Check if username already exists\n            $checkUsernameQuery = \"SELECT * FROM userdetails WHERE username = '$username'\";\n            $resultUsername = executeQuery($conn, $checkUsernameQuery);\n\n            if (mysqli_num_rows($resultUsername) > 0) {\n                // Username is already taken\n                echo json_encode(array(\"status\" => \"error\", \"message\" => \"Username is already taken.\"));\n            } else {\n                // Insert the new user record\n                $verificationToken = generateVerificationToken();\n                $insertQuery = \"INSERT INTO userdetails (name, phn, username, password, email, token) VALUES ('$name', '$phone', '$username', '$password', '$email', '$verificationToken')\";\n\n                if (mysqli_query($conn, $insertQuery)) {\n                    $userId = mysqli_insert_id($conn);\n\n                    // Store the token in the database\n                    // $updateTokenQuery = \"UPDATE userdetails SET token = '$verificationToken' WHERE email = '$email'\";\n                    // mysqli_query($conn, $updateTokenQuery);\n\n                    // Send a verification email\n                    // $subject = \"Email Verification\";\n                    // $message = \"Click the link to verify your email: http://legaldiary.000webhostapp.com/verify.php?id='.$userId.'&token='.$verificationToken\";\n                    // $headers = \"From: advoconnect07@gmail.com\";  // Change this to your email\n\n                    // // Use a proper mail sending function (e.g., mail())\n                    // mail($email, $subject, $message, $headers);\n\n                    // User registered successfully\n                    echo json_encode(array(\"status\" => \"success\", \"message\" => \"Registration successful. Check your email for verification.\"));\n                } else {\n                    // Error in registration\n                    echo json_encode(array(\"status\" => \"error\", \"message\" => \"Error in registration.\"));\n                }\n            }\n        }\n    }\n\n    else {\n        // Return error if username or email and password are not set\n        echo json_encode([\"error\" => \"All the fields are required.\"]);\n    }\n} \n\nelse {\n    // Return error if the request method is not POST\n    echo json_encode([\"error\" => \"Invalid request method. Use POST.\"]);\n}\n\n\n\n// Close the database connection\nmysqli_close($conn);\n\n"
        ]
    },
    {
        "titulo": "The method &#39;Column&#39; isn&#39;t defined for the type &#39;_NoticeViewState&#39;",
        "score": 0,
        "views": 112,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77843840/the-method-column-isnt-defined-for-the-type-noticeviewstate",
        "conteudo_html": "<p>Errors occur in basic Flutter widgets and functions.</p>\n<p><code>import 'package:flutter/material.dart';</code> has been written.</p>\n<p>An error occurs in &quot;ALL&quot; dart files.</p>\n<ul>\n<li>Error</li>\n</ul>\n<blockquote>\n<p>The method 'Column' isn't defined for the type '_NoticeViewState'. (Documentation)</p>\n<p>Try correcting the name to the name of an existing method, or defining a method named 'Column'.</p>\n</blockquote>\n<ul>\n<li>Doctor -v</li>\n</ul>\n<pre class=\"lang-none prettyprint-override\"><code>[✓] Flutter (Channel stable, 3.16.8, on macOS 13.6.3 22G436 darwin-x64, locale ko-KR)\n    • Flutter version 3.16.8 on channel stable at /Users/user/Documents/libraries.nosync/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 67457e669f (2days ago), 2024-01-16 16:22:29 -0800\n    • Engine revision 6e2ea58a5c\n    • Dart version 3.2.5\n    • DevTools version 2.28.5\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0-rc3)\n    • Android SDK at /Users/user/Library/Android/sdk\n    • Platform android-34, build-tools 33.0.0-rc3\n    • ANDROID_HOME = /Users/user/Library/Android/sdk\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 15.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 15C500b\n    • CocoaPods version 1.14.3\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2021.3)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n\n[✓] VS Code (version 1.85.1)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.80.0\n\n[✓] Connected device (3 available)\n    ...\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n\n</code></pre>\n<p><a href=\"https://i.sstatic.net/wos8B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/wos8B.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import 'dart:io';\n\nimport 'package:easy_localization/easy_localization.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_riverpod/flutter_riverpod.dart';\nimport 'package:project1/common/components/organisms/BottomNavigationBar/custom_bottom_navigation_bar.item.dart';\n\nimport '../../../../notice/provider/notice_provider.dart';\nimport '../../../theme/color/theme_color.dart';\nimport '../../../theme/typo/typo.dart';\n\nclass CustomBottomNavigationBar extends ConsumerWidget {\n  const CustomBottomNavigationBar({\n    super.key,\n    required this.items,\n  });\n\n  final List&lt;CustomBottomNavigationBarItem&gt; items;\n\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    final noticeBadge = ref.watch(noticeBadgeCountProvider);\n    return SafeArea(\n      top: false,\n      bottom: false,\n      minimum: EdgeInsets.only(bottom: Platform.isIOS ? 25 : 16),\n      child: Column(\n        mainAxisSize: MainAxisSize.min,\n        children: [\n          if (noticeBadge &gt; 0)\n            Container(\n              width: MediaQuery.of(context).size.width,\n              color: BasicColor(context).primary,\n              padding: const EdgeInsets.symmetric(vertical: 4, horizontal: 20),\n              alignment: Alignment.center,\n              child: Text(\n                'New news has been posted.'.tr(),\n                style: Typo.labelM.copyWith(color: Colors.white),\n              ),\n            ),\n          Padding(\n            padding: const EdgeInsets.symmetric(horizontal: 8),\n            child: Row(\n              crossAxisAlignment: CrossAxisAlignment.center,\n              mainAxisAlignment: MainAxisAlignment.spaceBetween,\n              children: items,\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n\n</code></pre>\n<p><a href=\"https://i.sstatic.net/Ov6ci.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Ov6ci.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.sstatic.net/d1p2w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/d1p2w.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.sstatic.net/L7NFz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/L7NFz.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>pubspec.yaml</li>\n</ul>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: name\ndescription: description\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\nversion: 1.10.0+60\n\nenvironment:\n  sdk: '&gt;=3.1.0 &lt;4.0.0'\n\ndependencies:\n  flutter:\n    sdk: flutter\n  cupertino_icons: ^1.0.2\n  easy_localization: ^3.0.2\n  flutter_native_splash: ^2.3.2\n  flutter_svg: ^2.0.7\n  loading_animation_widget: ^1.2.0+4\n  figma_squircle: ^0.5.3\n  go_router: ^12.0.0\n  riverpod_annotation: ^2.3.0\n  flutter_riverpod: ^2.4.6\n  json_annotation: ^4.8.1\n  retrofit: ^4.0.1\n  logger: ^2.0.2\n  dio: ^5.3.2\n  flutter_secure_storage: ^9.0.0\n  flutter_dotenv: ^5.1.0\n  crypto: ^3.0.3\n  intl: ^0.18.1\n  debounce_throttle: ^2.0.0\n  sliver_tools: ^0.2.12\n  package_info_plus: ^5.0.1\n  local_auth: ^2.1.7\n  another_flushbar: ^1.12.30\n  permission_handler: ^11.0.1\n  equatable: ^2.0.5\n  webview_flutter: ^4.4.2\n  qr_flutter: ^4.1.0\n  mobile_scanner: ^3.5.5\n  hive: ^2.2.3\n  hive_flutter: ^1.1.0\n  camera: ^0.10.5+7\n  path_drawing: ^1.0.1\n  native_exif: ^0.5.0\n  native_device_orientation: ^1.2.1\n  path_provider: ^2.1.1\n  flutter_barometer: ^0.1.0\n  geolocator: ^10.1.0\n  device_info_plus: ^9.1.1\n  flutter_compass: ^0.8.0\n  flutter_local_notifications: ^16.3.0\n  url_launcher: ^6.2.3\n\n\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  flutter_lints: ^2.0.0\n  custom_lint: ^0.5.3\n  riverpod_lint: ^2.3.4\n  riverpod_generator: ^2.3.6\n  json_serializable: ^6.7.1\n  build_runner: ^2.4.6\n  retrofit_generator: ^7.0.8\n  hive_generator: ^2.0.1\n\n\nflutter:\n  uses-material-design: true\n  assets:\n    - assets/icons/\n    - assets/icons/flags/\n    - assets/fonts/\n    - assets/translations/\n    - env/\n  fonts:\n    - family: Pretendard\n      fonts:\n        - asset: assets/fonts/Pretendard-Medium.otf\n          weight: 500\n        - asset: assets/fonts/Pretendard-SemiBold.otf\n          weight: 600\n        - asset: assets/fonts/Pretendard-Bold.otf\n          weight: 700\n        - asset: assets/fonts/Pretendard-ExtraBold.otf\n          weight: 800\n</code></pre>\n",
        "codigo": [
            "import 'package:flutter/material.dart';",
            "[✓] Flutter (Channel stable, 3.16.8, on macOS 13.6.3 22G436 darwin-x64, locale ko-KR)\n    • Flutter version 3.16.8 on channel stable at /Users/user/Documents/libraries.nosync/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 67457e669f (2days ago), 2024-01-16 16:22:29 -0800\n    • Engine revision 6e2ea58a5c\n    • Dart version 3.2.5\n    • DevTools version 2.28.5\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0-rc3)\n    • Android SDK at /Users/user/Library/Android/sdk\n    • Platform android-34, build-tools 33.0.0-rc3\n    • ANDROID_HOME = /Users/user/Library/Android/sdk\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 15.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 15C500b\n    • CocoaPods version 1.14.3\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2021.3)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n\n[✓] VS Code (version 1.85.1)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.80.0\n\n[✓] Connected device (3 available)\n    ...\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n\n",
            "import 'dart:io';\n\nimport 'package:easy_localization/easy_localization.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_riverpod/flutter_riverpod.dart';\nimport 'package:project1/common/components/organisms/BottomNavigationBar/custom_bottom_navigation_bar.item.dart';\n\nimport '../../../../notice/provider/notice_provider.dart';\nimport '../../../theme/color/theme_color.dart';\nimport '../../../theme/typo/typo.dart';\n\nclass CustomBottomNavigationBar extends ConsumerWidget {\n  const CustomBottomNavigationBar({\n    super.key,\n    required this.items,\n  });\n\n  final List<CustomBottomNavigationBarItem> items;\n\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    final noticeBadge = ref.watch(noticeBadgeCountProvider);\n    return SafeArea(\n      top: false,\n      bottom: false,\n      minimum: EdgeInsets.only(bottom: Platform.isIOS ? 25 : 16),\n      child: Column(\n        mainAxisSize: MainAxisSize.min,\n        children: [\n          if (noticeBadge > 0)\n            Container(\n              width: MediaQuery.of(context).size.width,\n              color: BasicColor(context).primary,\n              padding: const EdgeInsets.symmetric(vertical: 4, horizontal: 20),\n              alignment: Alignment.center,\n              child: Text(\n                'New news has been posted.'.tr(),\n                style: Typo.labelM.copyWith(color: Colors.white),\n              ),\n            ),\n          Padding(\n            padding: const EdgeInsets.symmetric(horizontal: 8),\n            child: Row(\n              crossAxisAlignment: CrossAxisAlignment.center,\n              mainAxisAlignment: MainAxisAlignment.spaceBetween,\n              children: items,\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n\n",
            "name: name\ndescription: description\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\nversion: 1.10.0+60\n\nenvironment:\n  sdk: '>=3.1.0 <4.0.0'\n\ndependencies:\n  flutter:\n    sdk: flutter\n  cupertino_icons: ^1.0.2\n  easy_localization: ^3.0.2\n  flutter_native_splash: ^2.3.2\n  flutter_svg: ^2.0.7\n  loading_animation_widget: ^1.2.0+4\n  figma_squircle: ^0.5.3\n  go_router: ^12.0.0\n  riverpod_annotation: ^2.3.0\n  flutter_riverpod: ^2.4.6\n  json_annotation: ^4.8.1\n  retrofit: ^4.0.1\n  logger: ^2.0.2\n  dio: ^5.3.2\n  flutter_secure_storage: ^9.0.0\n  flutter_dotenv: ^5.1.0\n  crypto: ^3.0.3\n  intl: ^0.18.1\n  debounce_throttle: ^2.0.0\n  sliver_tools: ^0.2.12\n  package_info_plus: ^5.0.1\n  local_auth: ^2.1.7\n  another_flushbar: ^1.12.30\n  permission_handler: ^11.0.1\n  equatable: ^2.0.5\n  webview_flutter: ^4.4.2\n  qr_flutter: ^4.1.0\n  mobile_scanner: ^3.5.5\n  hive: ^2.2.3\n  hive_flutter: ^1.1.0\n  camera: ^0.10.5+7\n  path_drawing: ^1.0.1\n  native_exif: ^0.5.0\n  native_device_orientation: ^1.2.1\n  path_provider: ^2.1.1\n  flutter_barometer: ^0.1.0\n  geolocator: ^10.1.0\n  device_info_plus: ^9.1.1\n  flutter_compass: ^0.8.0\n  flutter_local_notifications: ^16.3.0\n  url_launcher: ^6.2.3\n\n\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  flutter_lints: ^2.0.0\n  custom_lint: ^0.5.3\n  riverpod_lint: ^2.3.4\n  riverpod_generator: ^2.3.6\n  json_serializable: ^6.7.1\n  build_runner: ^2.4.6\n  retrofit_generator: ^7.0.8\n  hive_generator: ^2.0.1\n\n\nflutter:\n  uses-material-design: true\n  assets:\n    - assets/icons/\n    - assets/icons/flags/\n    - assets/fonts/\n    - assets/translations/\n    - env/\n  fonts:\n    - family: Pretendard\n      fonts:\n        - asset: assets/fonts/Pretendard-Medium.otf\n          weight: 500\n        - asset: assets/fonts/Pretendard-SemiBold.otf\n          weight: 600\n        - asset: assets/fonts/Pretendard-Bold.otf\n          weight: 700\n        - asset: assets/fonts/Pretendard-ExtraBold.otf\n          weight: 800\n"
        ]
    },
    {
        "titulo": "Riverpod state is null after returning in the build of the notifier",
        "score": 3,
        "views": 529,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-provider",
            "riverpod"
        ],
        "link": "https://stackoverflow.com/questions/77842907/riverpod-state-is-null-after-returning-in-the-build-of-the-notifier",
        "conteudo_html": "<p>I have this notifier:</p>\n<pre><code>class AsyncPlayerNotifier extends AsyncNotifier&lt;PlayerData&gt; {\n  @override\n  Future&lt;PlayerData&gt; build() async {\n    return const PlayerData(\n        PlayerRequestState: AsyncAction.initial(), player: null);\n  }\n\n  Future&lt;void&gt; setPlayer(Player player) async {\n    state = const AsyncValue.loading();\n    // verify player\n    // ...\n    state = AsyncValue&lt;PlayernData&gt;.data(state.value!.copyWith(\n        player: player,\n        PlayerRequestState: const AsyncAction.success(null)));\n  }\n}\n\nfinal playerNotifierProvider =\n    AsyncNotifierProvider&lt;AsyncPlayerNotifier, PlayerData&gt;(\n        () {\n  return AsyncPlayerNotifier();\n});\n</code></pre>\n<p>After I call <code>ref.read(playerNotifierProvider.notifier).setPlayer(myPlayer)</code> I see that the <code>build</code> function is called, and right after that the <code>setPlayer</code> function is called. The problem is that the <code>state.value</code> inside the <code>setPlayer</code> function is null. If in the <code>build</code> function I do <code>state = ...</code>, then the state is not null, but the Riverpod docs show that you need to return the state in the <code>build</code> function, and not set it.</p>\n",
        "codigo": [
            "class AsyncPlayerNotifier extends AsyncNotifier<PlayerData> {\n  @override\n  Future<PlayerData> build() async {\n    return const PlayerData(\n        PlayerRequestState: AsyncAction.initial(), player: null);\n  }\n\n  Future<void> setPlayer(Player player) async {\n    state = const AsyncValue.loading();\n    // verify player\n    // ...\n    state = AsyncValue<PlayernData>.data(state.value!.copyWith(\n        player: player,\n        PlayerRequestState: const AsyncAction.success(null)));\n  }\n}\n\nfinal playerNotifierProvider =\n    AsyncNotifierProvider<AsyncPlayerNotifier, PlayerData>(\n        () {\n  return AsyncPlayerNotifier();\n});\n",
            "ref.read(playerNotifierProvider.notifier).setPlayer(myPlayer)",
            "build",
            "setPlayer",
            "state.value",
            "setPlayer",
            "build",
            "state = ...",
            "build"
        ]
    },
    {
        "titulo": "how to use RegEx properly",
        "score": 0,
        "views": 284,
        "respostas": 1,
        "tags": [
            "regex",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77835486/how-to-use-regex-properly",
        "conteudo_html": "<p>I am not good in regular expressions. I copied this once from somewhere for javascript to check if an inpu is a valid e-mail adress:</p>\n<pre><code>const re = /^(([^&lt;&gt;()[\\]\\\\.,;:\\s@\\&quot;]+(\\.[^&lt;&gt;()[\\]\\\\.,;:\\s@\\&quot;]+)*)|(\\&quot;.+\\&quot;))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nif(re.test(state.mail)) //...\n</code></pre>\n<p>And it worked just fine. Now i want to adapt it for flutter.</p>\n<p>I tried</p>\n<pre><code>RegExp re = RegExp(r'/^(([^&lt;&gt;()[\\]\\\\.,;:\\s@\\&quot;]+(\\.[^&lt;&gt;()[\\]\\\\.,;:\\s@\\&quot;]+)*)|(\\&quot;.+\\&quot;))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/');\nif(re.hasMatch(mail)) //...\n</code></pre>\n<p>but every adress i try fails. How do i use it properly?</p>\n",
        "codigo": [
            "const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nif(re.test(state.mail)) //...\n",
            "RegExp re = RegExp(r'/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/');\nif(re.hasMatch(mail)) //...\n"
        ]
    },
    {
        "titulo": "Where can I find the history of type promotion rules except for local variables?",
        "score": 0,
        "views": 54,
        "respostas": 1,
        "tags": [
            "dart",
            "language-lawyer"
        ],
        "link": "https://stackoverflow.com/questions/77830768/where-can-i-find-the-history-of-type-promotion-rules-except-for-local-variables",
        "conteudo_html": "<p>I'm a seasoned C/C++/Java/Python developer, but a novice Dart learner. I tested the type promotion with the following code using Dart 3.2.3.</p>\n<pre><code>class A {\n}\n\nclass B extends A {\n  void test() {\n  }\n}\n\nclass C {\n  final A a;\n  C(this.a);\n  void test() {\n    // if (a is B) a.test(); // This causes a compile error.\n  }\n}\n\nvoid main() {\n  A a = B();\n  if (a is B) a.test();\n\n  List&lt;A&gt; l = [B()];\n  //if (l[0] is B) l[0].test(); // This causes a compile error.\n\n  var c = C(B());\n  //if (c.a is B) c.a.test(); // This causes a compile error.\n  c.test();\n}\n</code></pre>\n<p>The language specification <a href=\"https://spec.dart.dev/DartLangSpecDraft.pdf#page=198\" rel=\"nofollow noreferrer\">Version 2.13-dev(January 10, 2024)</a> says the following for the if statement <code>if (b) s1 else s2</code>.</p>\n<blockquote>\n<p>If b shows that a local variable v has type T, then the type of v is known to\nbe T in s1, unless any of the following are true</p>\n</blockquote>\n<p>But a page of the official documentation - <a href=\"https://dart.dev/tools/non-promotion-reasons#property\" rel=\"nofollow noreferrer\">Only local variables can be promoted (before Dart 3.2)</a> implies there exists a type promotion rule except for local variables.</p>\n<p>Where can I find the history of type promotion rules except for local variables?</p>\n",
        "codigo": [
            "class A {\n}\n\nclass B extends A {\n  void test() {\n  }\n}\n\nclass C {\n  final A a;\n  C(this.a);\n  void test() {\n    // if (a is B) a.test(); // This causes a compile error.\n  }\n}\n\nvoid main() {\n  A a = B();\n  if (a is B) a.test();\n\n  List<A> l = [B()];\n  //if (l[0] is B) l[0].test(); // This causes a compile error.\n\n  var c = C(B());\n  //if (c.a is B) c.a.test(); // This causes a compile error.\n  c.test();\n}\n",
            "if (b) s1 else s2"
        ]
    },
    {
        "titulo": "Flutter Package Configuration Error while adding third-party packages",
        "score": 3,
        "views": 1040,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "dependencies",
            "flutter-dependencies",
            "dart-pub"
        ],
        "link": "https://stackoverflow.com/questions/77818024/flutter-package-configuration-error-while-adding-third-party-packages",
        "conteudo_html": "<p>while installing any third-party package in Flutter and try to run my code it always to go an error that there is no namespace found in build gradle file</p>\n<p>for an example this one</p>\n<pre><code>A problem occurred configuring project ':google_mlkit_commons'.\n&gt; Could not create an instance of type com.android.build.api.variant.impl.LibraryVariantBuilderImpl.\n   &gt; Namespace not specified. Please specify a namespace in the module's build.gradle file like so:\n\n     android {\n         namespace 'com.example.namespace'\n     }\n\n     If the package attribute is specified in the source AndroidManifest.xml, it can be migrated automatically to the namespace value in the build.gradle file using the AGP Upgrade Assistant; please refer to https://developer.android.com/studio/build/agp-upgrade-assistant for more information.\n\n</code></pre>\n<p>so to solve it i should go to the mentioned package for example here is <code>':google_mlkit_commons'</code> and go throw its android files and get the build gradle then adding its namespace in android tag for our example</p>\n<pre><code>android {\n    namespace &quot;com.google_mlkit_text_recognition&quot;\n    compileSdkVersion 31\n    ....\n}\n</code></pre>\n<p>my questions are\n1- should I do this step for each package I want to use?\n2- why get this error now? is it related to the new flutter version?</p>\n<p>flutter doctor -v</p>\n<pre><code>[√] Flutter (Channel stable, 3.16.5, on Microsoft Windows [Version 10.0.19045.3930], locale en-US)\n    • Flutter version 3.16.5 on channel stable at C:\\Users\\engma\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 78666c8dc5 (4 weeks ago), 2023-12-19 16:14:14 -0800\n    • Engine revision 3f3e560236\n    • Dart version 3.2.3\n    • DevTools version 2.28.4\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 34.0.0) \n    • Android SDK at C:\\Users\\engma\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java       \n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\n\n[√] Android Studio (version 2023.1)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n\n[√] VS Code (version 1.85.1)\n    • VS Code at C:\\Users\\engma\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.80.0\n\n[√] Connected device (4 available)\n    • DRA LX2 (mobile)  • 5LX9K18817915788 • android-arm64  • Android 8.1.0 (API 27)\n    • Windows (desktop) • windows          • windows-x64    • Microsoft Windows [Version 10.0.19045.3930]\n    • Chrome (web)      • chrome           • web-javascript • Google Chrome 120.0.6099.217\n    • Edge (web)        • edge             • web-javascript • Microsoft Edge 120.0.2210.133\n\n[√] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n</code></pre>\n",
        "codigo": [
            "A problem occurred configuring project ':google_mlkit_commons'.\n> Could not create an instance of type com.android.build.api.variant.impl.LibraryVariantBuilderImpl.\n   > Namespace not specified. Please specify a namespace in the module's build.gradle file like so:\n\n     android {\n         namespace 'com.example.namespace'\n     }\n\n     If the package attribute is specified in the source AndroidManifest.xml, it can be migrated automatically to the namespace value in the build.gradle file using the AGP Upgrade Assistant; please refer to https://developer.android.com/studio/build/agp-upgrade-assistant for more information.\n\n",
            "':google_mlkit_commons'",
            "android {\n    namespace \"com.google_mlkit_text_recognition\"\n    compileSdkVersion 31\n    ....\n}\n",
            "[√] Flutter (Channel stable, 3.16.5, on Microsoft Windows [Version 10.0.19045.3930], locale en-US)\n    • Flutter version 3.16.5 on channel stable at C:\\Users\\engma\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 78666c8dc5 (4 weeks ago), 2023-12-19 16:14:14 -0800\n    • Engine revision 3f3e560236\n    • Dart version 3.2.3\n    • DevTools version 2.28.4\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 34.0.0) \n    • Android SDK at C:\\Users\\engma\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java       \n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the \"Desktop development with C++\" workload, including all of its default components\n\n[√] Android Studio (version 2023.1)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n\n[√] VS Code (version 1.85.1)\n    • VS Code at C:\\Users\\engma\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.80.0\n\n[√] Connected device (4 available)\n    • DRA LX2 (mobile)  • 5LX9K18817915788 • android-arm64  • Android 8.1.0 (API 27)\n    • Windows (desktop) • windows          • windows-x64    • Microsoft Windows [Version 10.0.19045.3930]\n    • Chrome (web)      • chrome           • web-javascript • Google Chrome 120.0.6099.217\n    • Edge (web)        • edge             • web-javascript • Microsoft Edge 120.0.2210.133\n\n[√] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n"
        ]
    },
    {
        "titulo": "Unable to launch Flutter app on AVD - java.net.BindException: Cannot assign requested address: connect",
        "score": 0,
        "views": 138,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "dart",
            "gradle",
            "android-virtual-device"
        ],
        "link": "https://stackoverflow.com/questions/77816449/unable-to-launch-flutter-app-on-avd-java-net-bindexception-cannot-assign-requ",
        "conteudo_html": "<p>After taking a little brake from my flutter project I now decided to continue working on it.\nHowever, upon attempting to launch the app on my AVD, I encountered the following error message:</p>\n<pre><code>Launching lib\\main.dart on sdk gphone64 x86 64 in debug mode...\nException in thread &quot;main&quot; java.net.BindException: Cannot assign requested address: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:579)\n    at java.base/sun.nio.ch.Net.connect(Net.java:568)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304)\n    at java.base/sun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:174)\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)\n    at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\n    at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:380)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:193)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:179)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1665)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\n    at org.gradle.wrapper.Download.downloadInternal(Download.java:58)\n    at org.gradle.wrapper.Download.download(Download.java:44)\n    at org.gradle.wrapper.Install$1.call(Install.java:61)\n    at org.gradle.wrapper.Install$1.call(Install.java:48)\n    at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\n    at org.gradle.wrapper.Install.createDist(Install.java:48)\n    at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\n    at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\nException: Gradle task assembleDebug failed with exit code 1\n\nExited (1).\n</code></pre>\n<p>Although the app was working fine a few weeks ago, I am seeking guidance on resolving this problem and making progress with my Flutter development. It appears to be a connectivity issue, specifically related to the <code>java.net.BindException</code>. I am uncertain about the root cause and how to rectify it.</p>\n<p>Here is my <code>flutter doctor -v</code> output:</p>\n<pre><code>[✓] Flutter (Channel stable, 3.16.5, on Microsoft Windows [Version 10.0.22631.3007], locale de-DE)\n    • Flutter version 3.16.5 on channel stable at D:\\Hobbys\\Dev\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 78666c8dc5 (4 weeks ago), 2023-12-19 16:14:14 -0800\n    • Engine revision 3f3e560236\n    • Dart version 3.2.3\n    • DevTools version 2.28.4\n\n[✓] Windows Version (Installed version of Windows is version 10 or higher)\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at C:\\Users\\AppSolves\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n    • All Android licenses accepted.\n\n[✓] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[✓] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.8.3)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.8.34330.188\n    • Windows 10 SDK version 10.0.22621.0\n\n[✓] Android Studio (version 2023.1)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n\n[✓] VS Code (version 1.85.1)\n    • VS Code at C:\\Users\\AppSolves\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.80.0\n\n[✓] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.22631.3007]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 120.0.6099.217\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 120.0.2210.91\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n<h4>Approaches I have tried:</h4>\n<ol>\n<li><code>flutter clean</code> and <code>flutter pub get</code></li>\n<li>Restart both AVD and PC</li>\n<li>Run <code>flutter upgrade --force</code></li>\n</ol>\n",
        "codigo": [
            "Launching lib\\main.dart on sdk gphone64 x86 64 in debug mode...\nException in thread \"main\" java.net.BindException: Cannot assign requested address: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:579)\n    at java.base/sun.nio.ch.Net.connect(Net.java:568)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304)\n    at java.base/sun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:174)\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)\n    at java.base/sun.net.www.protocol.https.HttpsClient.<init>(HttpsClient.java:266)\n    at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:380)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:193)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:179)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1665)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\n    at org.gradle.wrapper.Download.downloadInternal(Download.java:58)\n    at org.gradle.wrapper.Download.download(Download.java:44)\n    at org.gradle.wrapper.Install$1.call(Install.java:61)\n    at org.gradle.wrapper.Install$1.call(Install.java:48)\n    at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\n    at org.gradle.wrapper.Install.createDist(Install.java:48)\n    at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\n    at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\nException: Gradle task assembleDebug failed with exit code 1\n\nExited (1).\n",
            "java.net.BindException",
            "flutter doctor -v",
            "[✓] Flutter (Channel stable, 3.16.5, on Microsoft Windows [Version 10.0.22631.3007], locale de-DE)\n    • Flutter version 3.16.5 on channel stable at D:\\Hobbys\\Dev\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 78666c8dc5 (4 weeks ago), 2023-12-19 16:14:14 -0800\n    • Engine revision 3f3e560236\n    • Dart version 3.2.3\n    • DevTools version 2.28.4\n\n[✓] Windows Version (Installed version of Windows is version 10 or higher)\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at C:\\Users\\AppSolves\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n    • All Android licenses accepted.\n\n[✓] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[✓] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.8.3)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.8.34330.188\n    • Windows 10 SDK version 10.0.22621.0\n\n[✓] Android Studio (version 2023.1)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n\n[✓] VS Code (version 1.85.1)\n    • VS Code at C:\\Users\\AppSolves\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.80.0\n\n[✓] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.22631.3007]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 120.0.6099.217\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 120.0.2210.91\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n",
            "flutter clean",
            "flutter pub get",
            "flutter upgrade --force"
        ]
    },
    {
        "titulo": "Router based navigation with flutter bloc",
        "score": 1,
        "views": 1014,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "bloc",
            "flutter-bloc",
            "flutter-exception"
        ],
        "link": "https://stackoverflow.com/questions/77816237/router-based-navigation-with-flutter-bloc",
        "conteudo_html": "<p>I am trying to build my own router similar to <a href=\"https://pub.dev/packages/go_router\" rel=\"nofollow noreferrer\">go_router</a>, based on <a href=\"https://pub.dev/packages/flutter_bloc\" rel=\"nofollow noreferrer\">flutter_bloc</a>.</p>\n<p>What I am trying to achieve is very similar to this <a href=\"https://medium.com/@JalalOkbi/flutter-navigator-2-0-with-bloc-the-ultimate-guide-6672b115adf\" rel=\"nofollow noreferrer\">guide</a> that inspired the minimal implementation below:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/foundation.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart';\n\nvoid main() {\n  final NavigationCubit navigationCubit = NavigationCubit(\n    [PageConfiguration(uri: Uri.parse(&quot;/&quot;))],\n  );\n  runApp(MyApp(navigationCubit));\n}\n\nclass MyApp extends StatelessWidget {\n  final NavigationCubit _navigationCubit;\n\n  const MyApp(this._navigationCubit, {super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return BlocProvider(\n      create: (context) =&gt; _navigationCubit,\n      child: MaterialApp.router(\n        title: &quot;My App&quot;,\n        theme: ThemeData(\n          colorScheme: ColorScheme.fromSeed(seedColor: Colors.blue),\n          useMaterial3: true,\n        ),\n        routeInformationParser: MyRouteInformationParser(),\n        routerDelegate: MyRouterDelegate(_navigationCubit),\n      ),\n    );\n  }\n}\n\nclass MainPage extends MyPage {\n  @override\n  Widget build(BuildContext context) {\n    return const MainPageWidget();\n  }\n}\n\nclass MainPageWidget extends StatelessWidget {\n  const MainPageWidget({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return const Scaffold(\n      body: Center(\n        child: Text(\n          'Home Page',\n        ),\n      ),\n    );\n  }\n}\n\nclass MyRouteInformationParser\n    extends RouteInformationParser&lt;PageConfiguration&gt; {\n  @override\n  Future&lt;PageConfiguration&gt; parseRouteInformation(\n      RouteInformation routeInformation) async {\n    final Uri path = routeInformation.uri;\n    PageConfiguration config = PageConfiguration(uri: path);\n    return config;\n  }\n\n  /// Updates the URL bar with the latest URL from the app.\n  ///\n  /// Note: This is only useful when running on the web.\n  @override\n  RouteInformation? restoreRouteInformation(PageConfiguration configuration) {\n    return RouteInformation(uri: configuration.uri);\n  }\n}\n\nclass MyRouterDelegate extends RouterDelegate&lt;PageConfiguration&gt;\n    with ChangeNotifier, PopNavigatorRouterDelegateMixin&lt;PageConfiguration&gt; {\n  final NavigationCubit _cubit;\n\n  MyRouterDelegate(this._cubit);\n\n  @override\n  Widget build(BuildContext context) {\n    return BlocConsumer&lt;NavigationCubit, NavigationStack&gt;(\n      builder: (context, stack) =&gt; Navigator(\n        // When the pages property is replaced with the code below everthing\n        // seems to work as expected.\n        pages: stack.pages,\n        //pages: const [MaterialPage(child: MainPageWidget())],\n        key: navigatorKey,\n        onPopPage: (route, result) =&gt; _onPopPage.call(route, result),\n      ),\n      listener: (context, stack) {},\n    );\n  }\n\n  /// Handles the hardware back button (mainly present on android).\n  bool _onPopPage(Route&lt;dynamic&gt; route, dynamic result) {\n    final didPop = route.didPop(result);\n    if (!didPop) {\n      return false;\n    }\n    if (_cubit.canPop) {\n      _cubit.pop();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  @override\n  Future&lt;void&gt; setNewRoutePath(PageConfiguration configuration) async {\n    if (configuration.route != &quot;/&quot;) {\n      return _cubit.push(configuration);\n    }\n  }\n\n  /// This getter is called by the router when it detects it may have changed,\n  /// because of a rebuild.\n  ///\n  /// This getter is necessary for backward and forward buttons to work as\n  /// expected.\n  @override\n  PageConfiguration? get currentConfiguration =&gt; _cubit.state.topmost;\n\n  // This key causes the issue.\n  @override\n  final GlobalKey&lt;NavigatorState&gt; navigatorKey = GlobalKey();\n}\n\nclass NavigationStack {\n  final List&lt;PageConfiguration&gt; _stack;\n\n  bool get canPop {\n    return _stack.length &gt; 1;\n  }\n\n  List&lt;PageConfiguration&gt; get configs =&gt; List.unmodifiable(_stack);\n  int get count =&gt; _stack.length;\n\n  @override\n  int get hashCode =&gt; Object.hashAll([_stack]);\n\n  List&lt;MyPage&gt; get pages =&gt; List.unmodifiable(_stack.map((e) =&gt; e.page));\n  PageConfiguration get topmost =&gt; _stack.last;\n\n  const NavigationStack(this._stack);\n\n  NavigationStack pop() {\n    if (canPop) {\n      _stack.remove(_stack.last);\n    }\n    return NavigationStack(_stack);\n  }\n\n  NavigationStack push(PageConfiguration configuration) {\n    if (_stack.last != configuration) {\n      _stack.add(configuration);\n    }\n    return NavigationStack(_stack);\n  }\n\n  @override\n  operator ==(other) =&gt;\n      other is NavigationStack &amp;&amp; listEquals(other._stack, _stack);\n}\n\nclass PageConfiguration {\n  final String? name;\n  late final MyPage page;\n  late final String route;\n  late final Uri uri;\n\n  PageConfiguration({required this.uri, this.name}) {\n    route = uri.toString();\n    page = MyRouter.instance().getPage(this);\n  }\n\n  PageConfiguration.parse({\n    required String location,\n    this.name,\n  }) {\n    uri = location.isEmpty ? Uri.parse(&quot;/&quot;) : Uri.parse(location);\n    route = uri.toString();\n    page = MyRouter.instance().getPage(this);\n  }\n\n  @override\n  operator ==(other) =&gt;\n      other is PageConfiguration &amp;&amp;\n      other.name == name &amp;&amp;\n      other.page == page &amp;&amp;\n      other.route == route &amp;&amp;\n      other.uri == uri;\n\n  @override\n  int get hashCode =&gt; Object.hash(name, page, route, uri);\n}\n\n/// Represents a function used to build the transition of a specific [MyPage].\ntypedef TransitionAnimationBuilder = Widget Function(\n  BuildContext,\n  Animation&lt;double&gt;,\n  Animation&lt;double&gt;,\n  Widget,\n);\n\nabstract class MyPage&lt;T&gt; extends Page&lt;T&gt; {\n  final TransitionAnimationBuilder? animationBuilder;\n  final Duration transitionDuration;\n  final Duration reverseTransitionDuration;\n\n  const MyPage({\n    this.animationBuilder,\n    super.arguments,\n    super.name,\n    super.key,\n    super.restorationId,\n    this.reverseTransitionDuration = const Duration(milliseconds: 400),\n    this.transitionDuration = const Duration(milliseconds: 400),\n  });\n\n  /// The content of the page is built by overriding this [build] function.\n  Widget build(BuildContext context);\n\n  @override\n  Route&lt;T&gt; createRoute(BuildContext context) {\n    return PageRouteBuilder(\n      pageBuilder: (context, animation, secondaryAnimation) =&gt;\n          this.build(context),\n      reverseTransitionDuration: this.reverseTransitionDuration,\n      transitionsBuilder:\n          this.animationBuilder ?? this._defaultAnimationBuilder,\n      transitionDuration: this.transitionDuration,\n    );\n  }\n\n  /// Provides a default page transition.\n  Widget _defaultAnimationBuilder(\n      BuildContext context,\n      Animation&lt;double&gt; animation,\n      Animation&lt;double&gt; secondaryAnimation,\n      Widget child) {\n    const begin = Offset(0.0, 1.0);\n    const end = Offset.zero;\n    const curve = Curves.elasticIn;\n\n    final tween = Tween(begin: begin, end: end).chain(CurveTween(curve: curve));\n\n    return SlideTransition(\n      position: animation.drive(tween),\n      child: child,\n    );\n  }\n}\n\nclass MyRouter {\n  static final MyRouter _singleton = MyRouter._internal();\n\n  factory MyRouter.instance() {\n    return _singleton;\n  }\n\n  MyRouter._internal();\n\n  MyPage getPage(PageConfiguration pageConfiguration) {\n    switch (pageConfiguration.uri.toString()) {\n      case &quot;/&quot;:\n        return MainPage();\n      default:\n        throw Exception(&quot;Unknown route.&quot;);\n    }\n  }\n}\n\nclass NavigationCubit extends Cubit&lt;NavigationStack&gt; {\n  bool get canPop {\n    return state.canPop;\n  }\n\n  @override\n  int get hashCode =&gt; Object.hashAll([state]);\n\n  NavigationCubit(List&lt;PageConfiguration&gt; initialPages)\n      : super(NavigationStack(initialPages));\n\n  void pop() {\n    emit(state.pop());\n  }\n\n  void push(PageConfiguration configuration) {\n    emit(state.push(configuration));\n  }\n\n  @override\n  operator ==(other) =&gt; other is NavigationCubit &amp;&amp; other.state == state;\n}\n</code></pre>\n<p>For convenience, the code is also on <a href=\"https://dartpad.dev/?id=01a3f270eaf9929b1df5550189f45096\" rel=\"nofollow noreferrer\">DartPad</a>.</p>\n<p>The problem is that these two exceptions are thrown whenever I try to execute this code:</p>\n<pre><code>══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY\n╞═══════════════════════════════════════════════════════════\nThe following assertion was thrown building BlocListener&lt;NavigationCubit,\nNavigationStack&gt;(state:\n_BlocListenerBaseState&lt;NavigationCubit, NavigationStack&gt;#7d9f3):\n'package:flutter/src/widgets/navigator.dart': Failed assertion: line 2910 pos 17: '!pageBased ||\nroute.settings is Page': is not true.\n\nEither the assertion indicates an error in the framework itself, or we should provide\nsubstantially\nmore information in this error message to help you determine and fix the underlying cause.\nIn either case, please report this assertion by filing a bug on GitHub:\n  https://github.com/flutter/flutter/issues/new?template=2_bug.yml\n\nThe relevant error-causing widget was:\n  BlocListener&lt;NavigationCubit, NavigationStack&gt;\n  BlocListener:file:///Users/ferdinandschaffler/.pub-cache/hosted/pub.dev/flutter_bloc-8.1.3/lib\n  /src/bloc_builder.dart:162:12\n\nWhen the exception was thrown, this was the stack:\n#2      new _RouteEntry (package:flutter/src/widgets/navigator.dart:2910:17)\n#3      NavigatorState.restoreState (package:flutter/src/widgets/navigator.dart:3587:33)\n#4      RestorationMixin._doRestore (package:flutter/src/widgets/restoration.dart:924:5)\n#5      RestorationMixin.didChangeDependencies\n(package:flutter/src/widgets/restoration.dart:910:7)\n#6      NavigatorState.didChangeDependencies\n(package:flutter/src/widgets/navigator.dart:3656:11)\n#7      StatefulElement._firstBuild (package:flutter/src/widgets/framework.dart:5620:11)\n#8      ComponentElement.mount (package:flutter/src/widgets/framework.dart:5447:5)\n...     Normal element mounting (9 frames)\n#17     SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)\n...     Normal element mounting (427 frames)\n#444    _InheritedProviderScopeElement.mount\n(package:provider/src/inherited_provider.dart:411:11)\n...     Normal element mounting (7 frames)\n#451    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)\n...     Normal element mounting (7 frames)\n#458    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)\n...     Normal element mounting (33 frames)\n#491    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4326:16)\n#492    Element.updateChild (package:flutter/src/widgets/framework.dart:3837:18)\n#493    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:289:16)\n#494    _RawViewElement.mount (package:flutter/src/widgets/view.dart:312:5)\n...     Normal element mounting (7 frames)\n#501    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4326:16)\n#502    Element.updateChild (package:flutter/src/widgets/framework.dart:3837:18)\n#503    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1334:16)\n#504    RootElement.mount (package:flutter/src/widgets/binding.dart:1303:5)\n#505    RootWidget.attach.&lt;anonymous closure&gt; (package:flutter/src/widgets/binding.dart:1256:18)\n#506    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:2835:19)\n#507    RootWidget.attach (package:flutter/src/widgets/binding.dart:1255:13)\n#508    WidgetsBinding.attachToBuildOwner (package:flutter/src/widgets/binding.dart:1083:27)\n#509    WidgetsBinding.attachRootWidget (package:flutter/src/widgets/binding.dart:1065:5)\n#510    WidgetsBinding.scheduleAttachRootWidget.&lt;anonymous closure&gt;\n(package:flutter/src/widgets/binding.dart:1051:7)\n#514    _RawReceivePort._handleMessage (dart:isolate-patch/isolate_patch.dart:184:12)\n(elided 5 frames from class _AssertionError, class _Timer, and dart:async-patch)\n\n════════════════════════════════════════════════════════════════════════════════════════════════\n════\n\nAnother exception was thrown: A GlobalKey was used multiple times inside one widget's child\nlist.\n</code></pre>\n<p>Both these exceptions are hard for me to retrace, because <code>MyPage</code> actually is a subclass of <a href=\"https://api.flutter.dev/flutter/widgets/Page-class.html\" rel=\"nofollow noreferrer\"><code>Page</code></a> and the <code>navigatorKey</code> should also only be used once, because the <code>MyApp</code> <a href=\"https://api.flutter.dev/flutter/widgets/Widget-class.html\" rel=\"nofollow noreferrer\"><code>Widget</code></a> is never rebuilt.</p>\n<p>My question would therefore be if someone could please explain as to why <strong>these exceptions occur</strong> and <strong>how to fix</strong> them.</p>\n",
        "codigo": [
            "import 'package:flutter/foundation.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart';\n\nvoid main() {\n  final NavigationCubit navigationCubit = NavigationCubit(\n    [PageConfiguration(uri: Uri.parse(\"/\"))],\n  );\n  runApp(MyApp(navigationCubit));\n}\n\nclass MyApp extends StatelessWidget {\n  final NavigationCubit _navigationCubit;\n\n  const MyApp(this._navigationCubit, {super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return BlocProvider(\n      create: (context) => _navigationCubit,\n      child: MaterialApp.router(\n        title: \"My App\",\n        theme: ThemeData(\n          colorScheme: ColorScheme.fromSeed(seedColor: Colors.blue),\n          useMaterial3: true,\n        ),\n        routeInformationParser: MyRouteInformationParser(),\n        routerDelegate: MyRouterDelegate(_navigationCubit),\n      ),\n    );\n  }\n}\n\nclass MainPage extends MyPage {\n  @override\n  Widget build(BuildContext context) {\n    return const MainPageWidget();\n  }\n}\n\nclass MainPageWidget extends StatelessWidget {\n  const MainPageWidget({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return const Scaffold(\n      body: Center(\n        child: Text(\n          'Home Page',\n        ),\n      ),\n    );\n  }\n}\n\nclass MyRouteInformationParser\n    extends RouteInformationParser<PageConfiguration> {\n  @override\n  Future<PageConfiguration> parseRouteInformation(\n      RouteInformation routeInformation) async {\n    final Uri path = routeInformation.uri;\n    PageConfiguration config = PageConfiguration(uri: path);\n    return config;\n  }\n\n  /// Updates the URL bar with the latest URL from the app.\n  ///\n  /// Note: This is only useful when running on the web.\n  @override\n  RouteInformation? restoreRouteInformation(PageConfiguration configuration) {\n    return RouteInformation(uri: configuration.uri);\n  }\n}\n\nclass MyRouterDelegate extends RouterDelegate<PageConfiguration>\n    with ChangeNotifier, PopNavigatorRouterDelegateMixin<PageConfiguration> {\n  final NavigationCubit _cubit;\n\n  MyRouterDelegate(this._cubit);\n\n  @override\n  Widget build(BuildContext context) {\n    return BlocConsumer<NavigationCubit, NavigationStack>(\n      builder: (context, stack) => Navigator(\n        // When the pages property is replaced with the code below everthing\n        // seems to work as expected.\n        pages: stack.pages,\n        //pages: const [MaterialPage(child: MainPageWidget())],\n        key: navigatorKey,\n        onPopPage: (route, result) => _onPopPage.call(route, result),\n      ),\n      listener: (context, stack) {},\n    );\n  }\n\n  /// Handles the hardware back button (mainly present on android).\n  bool _onPopPage(Route<dynamic> route, dynamic result) {\n    final didPop = route.didPop(result);\n    if (!didPop) {\n      return false;\n    }\n    if (_cubit.canPop) {\n      _cubit.pop();\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  @override\n  Future<void> setNewRoutePath(PageConfiguration configuration) async {\n    if (configuration.route != \"/\") {\n      return _cubit.push(configuration);\n    }\n  }\n\n  /// This getter is called by the router when it detects it may have changed,\n  /// because of a rebuild.\n  ///\n  /// This getter is necessary for backward and forward buttons to work as\n  /// expected.\n  @override\n  PageConfiguration? get currentConfiguration => _cubit.state.topmost;\n\n  // This key causes the issue.\n  @override\n  final GlobalKey<NavigatorState> navigatorKey = GlobalKey();\n}\n\nclass NavigationStack {\n  final List<PageConfiguration> _stack;\n\n  bool get canPop {\n    return _stack.length > 1;\n  }\n\n  List<PageConfiguration> get configs => List.unmodifiable(_stack);\n  int get count => _stack.length;\n\n  @override\n  int get hashCode => Object.hashAll([_stack]);\n\n  List<MyPage> get pages => List.unmodifiable(_stack.map((e) => e.page));\n  PageConfiguration get topmost => _stack.last;\n\n  const NavigationStack(this._stack);\n\n  NavigationStack pop() {\n    if (canPop) {\n      _stack.remove(_stack.last);\n    }\n    return NavigationStack(_stack);\n  }\n\n  NavigationStack push(PageConfiguration configuration) {\n    if (_stack.last != configuration) {\n      _stack.add(configuration);\n    }\n    return NavigationStack(_stack);\n  }\n\n  @override\n  operator ==(other) =>\n      other is NavigationStack && listEquals(other._stack, _stack);\n}\n\nclass PageConfiguration {\n  final String? name;\n  late final MyPage page;\n  late final String route;\n  late final Uri uri;\n\n  PageConfiguration({required this.uri, this.name}) {\n    route = uri.toString();\n    page = MyRouter.instance().getPage(this);\n  }\n\n  PageConfiguration.parse({\n    required String location,\n    this.name,\n  }) {\n    uri = location.isEmpty ? Uri.parse(\"/\") : Uri.parse(location);\n    route = uri.toString();\n    page = MyRouter.instance().getPage(this);\n  }\n\n  @override\n  operator ==(other) =>\n      other is PageConfiguration &&\n      other.name == name &&\n      other.page == page &&\n      other.route == route &&\n      other.uri == uri;\n\n  @override\n  int get hashCode => Object.hash(name, page, route, uri);\n}\n\n/// Represents a function used to build the transition of a specific [MyPage].\ntypedef TransitionAnimationBuilder = Widget Function(\n  BuildContext,\n  Animation<double>,\n  Animation<double>,\n  Widget,\n);\n\nabstract class MyPage<T> extends Page<T> {\n  final TransitionAnimationBuilder? animationBuilder;\n  final Duration transitionDuration;\n  final Duration reverseTransitionDuration;\n\n  const MyPage({\n    this.animationBuilder,\n    super.arguments,\n    super.name,\n    super.key,\n    super.restorationId,\n    this.reverseTransitionDuration = const Duration(milliseconds: 400),\n    this.transitionDuration = const Duration(milliseconds: 400),\n  });\n\n  /// The content of the page is built by overriding this [build] function.\n  Widget build(BuildContext context);\n\n  @override\n  Route<T> createRoute(BuildContext context) {\n    return PageRouteBuilder(\n      pageBuilder: (context, animation, secondaryAnimation) =>\n          this.build(context),\n      reverseTransitionDuration: this.reverseTransitionDuration,\n      transitionsBuilder:\n          this.animationBuilder ?? this._defaultAnimationBuilder,\n      transitionDuration: this.transitionDuration,\n    );\n  }\n\n  /// Provides a default page transition.\n  Widget _defaultAnimationBuilder(\n      BuildContext context,\n      Animation<double> animation,\n      Animation<double> secondaryAnimation,\n      Widget child) {\n    const begin = Offset(0.0, 1.0);\n    const end = Offset.zero;\n    const curve = Curves.elasticIn;\n\n    final tween = Tween(begin: begin, end: end).chain(CurveTween(curve: curve));\n\n    return SlideTransition(\n      position: animation.drive(tween),\n      child: child,\n    );\n  }\n}\n\nclass MyRouter {\n  static final MyRouter _singleton = MyRouter._internal();\n\n  factory MyRouter.instance() {\n    return _singleton;\n  }\n\n  MyRouter._internal();\n\n  MyPage getPage(PageConfiguration pageConfiguration) {\n    switch (pageConfiguration.uri.toString()) {\n      case \"/\":\n        return MainPage();\n      default:\n        throw Exception(\"Unknown route.\");\n    }\n  }\n}\n\nclass NavigationCubit extends Cubit<NavigationStack> {\n  bool get canPop {\n    return state.canPop;\n  }\n\n  @override\n  int get hashCode => Object.hashAll([state]);\n\n  NavigationCubit(List<PageConfiguration> initialPages)\n      : super(NavigationStack(initialPages));\n\n  void pop() {\n    emit(state.pop());\n  }\n\n  void push(PageConfiguration configuration) {\n    emit(state.push(configuration));\n  }\n\n  @override\n  operator ==(other) => other is NavigationCubit && other.state == state;\n}\n",
            "══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY\n╞═══════════════════════════════════════════════════════════\nThe following assertion was thrown building BlocListener<NavigationCubit,\nNavigationStack>(state:\n_BlocListenerBaseState<NavigationCubit, NavigationStack>#7d9f3):\n'package:flutter/src/widgets/navigator.dart': Failed assertion: line 2910 pos 17: '!pageBased ||\nroute.settings is Page': is not true.\n\nEither the assertion indicates an error in the framework itself, or we should provide\nsubstantially\nmore information in this error message to help you determine and fix the underlying cause.\nIn either case, please report this assertion by filing a bug on GitHub:\n  https://github.com/flutter/flutter/issues/new?template=2_bug.yml\n\nThe relevant error-causing widget was:\n  BlocListener<NavigationCubit, NavigationStack>\n  BlocListener:file:///Users/ferdinandschaffler/.pub-cache/hosted/pub.dev/flutter_bloc-8.1.3/lib\n  /src/bloc_builder.dart:162:12\n\nWhen the exception was thrown, this was the stack:\n#2      new _RouteEntry (package:flutter/src/widgets/navigator.dart:2910:17)\n#3      NavigatorState.restoreState (package:flutter/src/widgets/navigator.dart:3587:33)\n#4      RestorationMixin._doRestore (package:flutter/src/widgets/restoration.dart:924:5)\n#5      RestorationMixin.didChangeDependencies\n(package:flutter/src/widgets/restoration.dart:910:7)\n#6      NavigatorState.didChangeDependencies\n(package:flutter/src/widgets/navigator.dart:3656:11)\n#7      StatefulElement._firstBuild (package:flutter/src/widgets/framework.dart:5620:11)\n#8      ComponentElement.mount (package:flutter/src/widgets/framework.dart:5447:5)\n...     Normal element mounting (9 frames)\n#17     SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)\n...     Normal element mounting (427 frames)\n#444    _InheritedProviderScopeElement.mount\n(package:provider/src/inherited_provider.dart:411:11)\n...     Normal element mounting (7 frames)\n#451    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)\n...     Normal element mounting (7 frames)\n#458    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)\n...     Normal element mounting (33 frames)\n#491    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4326:16)\n#492    Element.updateChild (package:flutter/src/widgets/framework.dart:3837:18)\n#493    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:289:16)\n#494    _RawViewElement.mount (package:flutter/src/widgets/view.dart:312:5)\n...     Normal element mounting (7 frames)\n#501    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4326:16)\n#502    Element.updateChild (package:flutter/src/widgets/framework.dart:3837:18)\n#503    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1334:16)\n#504    RootElement.mount (package:flutter/src/widgets/binding.dart:1303:5)\n#505    RootWidget.attach.<anonymous closure> (package:flutter/src/widgets/binding.dart:1256:18)\n#506    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:2835:19)\n#507    RootWidget.attach (package:flutter/src/widgets/binding.dart:1255:13)\n#508    WidgetsBinding.attachToBuildOwner (package:flutter/src/widgets/binding.dart:1083:27)\n#509    WidgetsBinding.attachRootWidget (package:flutter/src/widgets/binding.dart:1065:5)\n#510    WidgetsBinding.scheduleAttachRootWidget.<anonymous closure>\n(package:flutter/src/widgets/binding.dart:1051:7)\n#514    _RawReceivePort._handleMessage (dart:isolate-patch/isolate_patch.dart:184:12)\n(elided 5 frames from class _AssertionError, class _Timer, and dart:async-patch)\n\n════════════════════════════════════════════════════════════════════════════════════════════════\n════\n\nAnother exception was thrown: A GlobalKey was used multiple times inside one widget's child\nlist.\n",
            "MyPage",
            "Page",
            "navigatorKey",
            "MyApp",
            "Widget"
        ]
    },
    {
        "titulo": "Identify user via external identification service (SSO) for client server app",
        "score": 0,
        "views": 75,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "authentication",
            "single-sign-on",
            "client-server"
        ],
        "link": "https://stackoverflow.com/questions/77775279/identify-user-via-external-identification-service-sso-for-client-server-app",
        "conteudo_html": "<h1>Start point</h1>\n<p>I have a Flutter <strong>mobile application</strong> which exchanges data with its <strong>own server</strong> using REST API. Currently all endpoints are public, so no authentication is implemented.</p>\n<p><em>Note: The server is currently implemented in <a href=\"https://pub.dev/packages/conduit\" rel=\"nofollow noreferrer\">Conduit</a>, but any other alternatives are welcome.</em></p>\n<h1>Requirement</h1>\n<p>I need to introduce authentication function in the mobile application. E.g. let the user to identify himself with his Google/Facebook/other social account.</p>\n<h1>Assumption / Challenge</h1>\n<p>There are a lot of implementations, that allow user to login in the mobile app itself using 3rd party services.</p>\n<p>But it is not clear how integrate the server to this process. Theoretically the server should verify the user using his ID and some token by the identification service.</p>\n<p>I would rather use any available library, than implement it my myself to reduce possible errors on implementation.</p>\n<h1>Exchange between client, server and identification service</h1>\n<p>I see the following sequence:</p>\n<ol>\n<li>Client sends a login request to the identification service</li>\n<li>Identification service returns identification result, e.g. an identification token</li>\n<li>Client sends the identification token to the server</li>\n<li>Server sends the identification token to the identification service to verify the user</li>\n<li>Identification server sends back verification result</li>\n<li>Server returns confirmation to the client</li>\n<li>Client starts normal data exchange</li>\n</ol>\n<p>Run snippet to display sequence diagram:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>mermaid.initialize({ startOnLoad: true });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js\"&gt;&lt;/script&gt;\n\n&lt;pre class=\"mermaid\"&gt;\nsequenceDiagram\n    Client-&gt;&gt;ID service: Login\n    ID service-&gt;&gt;Client: ID token\n    Client-&gt;&gt;Server: Login\n    Server-&gt;&gt;ID service: Verify\n    ID service-&gt;&gt;Server: Verification result\n    Server-&gt;&gt;Server: Check/Register\n    Server-&gt;&gt;Client: Server token\n    Client-&gt;Server: Data exchange\n&lt;/pre&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h1>Questions</h1>\n<ol>\n<li>Is there any library or service, that implement user identification for both client (mobile app) and server?</li>\n<li>Is the exchange sequence above in general correct? What can be modified there?</li>\n<li>Is there any best practices how to implement such identification mechanism?</li>\n</ol>\n<p>Any further advice is welcome.</p>\n",
        "codigo": [
            "mermaid.initialize({ startOnLoad: true });",
            "<script src=\"https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js\"></script>\n\n<pre class=\"mermaid\">\nsequenceDiagram\n    Client->>ID service: Login\n    ID service->>Client: ID token\n    Client->>Server: Login\n    Server->>ID service: Verify\n    ID service->>Server: Verification result\n    Server->>Server: Check/Register\n    Server->>Client: Server token\n    Client->Server: Data exchange\n</pre>"
        ]
    },
    {
        "titulo": "Flutter: error when reading &#39;flutter_cache_manager.dart&#39; The system cannot find the file specified",
        "score": 1,
        "views": 314,
        "respostas": 0,
        "tags": [
            "android",
            "flutter",
            "dart",
            "flutter-dependencies",
            "dart-pub"
        ],
        "link": "https://stackoverflow.com/questions/77768961/flutter-error-when-reading-flutter-cache-manager-dart-the-system-cannot-find",
        "conteudo_html": "<p>I have a project which was working very well suddenly it was not working\nI don't add any new dependencies or remove one while make <code>flutter run -v</code>\nhere's the output</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>[+3236 ms] [+13468 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/cached_network_image.dart:5:1: Error: Error when reading\n'/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_cache_manager-3.3.1/lib/flutter_cache_manager.dart': The system cannot find the file specified.\n[ +518 ms] [   +5 ms] export 'package:flutter_cache_manager/flutter_cache_manager.dart'\n[   +1 ms] [        ] ^\n[   +1 ms] [  +28 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:5:8: Error: Error when reading\n'/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_cache_manager-3.3.1/lib/flutter_cache_manager.dart': The system cannot find the file specified.\n[   +4 ms] [        ] import 'package:flutter_cache_manager/flutter_cache_manager.dart';\n[   +1 ms] [        ]        ^\n[   +2 ms] [  +11 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/cached_network_image_provider.dart:13:8: Error: Error\nwhen reading '/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_cache_manager-3.3.1/lib/flutter_cache_manager.dart': The system cannot find the file specified.\n[  +12 ms] [        ] import 'package:flutter_cache_manager/flutter_cache_manager.dart';\n[   +2 ms] [        ]        ^\n[+1620 ms] [+2380 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image_platform_interface-4.0.0/lib/cached_network_image_platform_interface.dart:8:8: Error:\nError when reading '/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_cache_manager-3.3.1/lib/flutter_cache_manager.dart': The system cannot find the file specified.      \n[   +6 ms] [        ] import 'package:flutter_cache_manager/flutter_cache_manager.dart';\n[   +1 ms] [        ]        ^\n[  +88 ms] [  +19 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:11:8: Error: Error when reading\n'/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_cache_manager-3.3.1/lib/flutter_cache_manager.dart': The system cannot find the file specified.\n[  +16 ms] [        ] import 'package:flutter_cache_manager/flutter_cache_manager.dart';\n[   +3 ms] [   +1 ms]        ^\n[+4081 ms] [+4126 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:28:3: Error: Type 'DownloadProgress' not found.[   +7 ms] [        ]   DownloadProgress progress,\n[  +25 ms] [        ]   ^^^^^^^^^^^^^^^^\n[  +13 ms] [   +1 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:42:10: Error: Type 'CacheManagerLogLevel' not\nfound.\n[   +3 ms] [        ]   static CacheManagerLogLevel get logLevel =&gt; CacheManager.logLevel;\n[  +15 ms] [        ]          ^^^^^^^^^^^^^^^^^^^^\n[   +6 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:45:23: Error: Type 'CacheManagerLogLevel' not  \nfound.\n[   +8 ms] [        ]   static set logLevel(CacheManagerLogLevel level) =&gt;\n[   +2 ms] [        ]                       ^^^^^^^^^^^^^^^^^^^^\n[  +56 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:55:5: Error: Type 'BaseCacheManager' not found.[   +5 ms] [        ]     BaseCacheManager? cacheManager,\n[   +1 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:66:9: Error: Type 'BaseCacheManager' not found.[   +4 ms] [        ]   final BaseCacheManager? cacheManager;\n[   +4 ms] [        ]         ^^^^^^^^^^^^^^^^\n[  +44 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/cached_network_image_provider.dart:35:9: Error: Type\n'BaseCacheManager' not found.\n[   +4 ms] [        ]   final BaseCacheManager? cacheManager;\n[   +1 ms] [        ]         ^^^^^^^^^^^^^^^^\n[   +7 ms] [   +2 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image_platform_interface-4.0.0/lib/cached_network_image_platform_interface.dart:34:5: Error:Type 'BaseCacheManager' not found.\n[   +6 ms] [        ]     BaseCacheManager cacheManager,\n[   +2 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +4 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image_platform_interface-4.0.0/lib/cached_network_image_platform_interface.dart:51:5: Error:Type 'BaseCacheManager' not found.\n[   +4 ms] [        ]     BaseCacheManager cacheManager,\n[   +4 ms] [        ]     ^^^^^^^^^^^^^^^^\n[ +676 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:22:5: Error: Type 'BaseCacheManager'\nnot found.\n[  +12 ms] [        ]     BaseCacheManager cacheManager,\n[   +1 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:52:5: Error: Type 'BaseCacheManager'  \nnot found.\n[   +7 ms] [        ]     BaseCacheManager cacheManager,\n[   +2 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +3 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:81:5: Error: Type 'BaseCacheManager'\nnot found.\n[ +409 ms] [        ]     BaseCacheManager cacheManager,\n[ +150 ms] [        ]     ^^^^^^^^^^^^^^^^\n[+52242 ms] [+53516 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:42:47: Error: Undefined name 'CacheManager'.\n[  +49 ms] [   +4 ms]   static CacheManagerLogLevel get logLevel =&gt; CacheManager.logLevel;\n[   +3 ms] [        ]                                               ^^^^^^^^^^^^\n[   +3 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:45:23: Error: 'CacheManagerLogLevel' isn't a   \ntype.\n[   +4 ms] [        ]   static set logLevel(CacheManagerLogLevel level) =&gt;\n[   +2 ms] [        ]                       ^^^^^^^^^^^^^^^^^^^^\n[   +3 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:46:7: Error: Undefined name 'CacheManager'.    \n[   +2 ms] [        ]       CacheManager.logLevel = level;\n[   +9 ms] [        ]       ^^^^^^^^^^^^\n[   +3 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:55:5: Error: 'BaseCacheManager' isn't a type.  \n[   +9 ms] [        ]     BaseCacheManager? cacheManager,\n[   +1 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:58:51: Error: Method not found:\n'DefaultCacheManager'.\n[  +15 ms] [        ]     final effectiveCacheManager = cacheManager ?? DefaultCacheManager();\n[   +1 ms] [        ]                                                   ^^^^^^^^^^^^^^^^^^^\n[   +4 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:66:9: Error: 'BaseCacheManager' isn't a type.  \n[   +2 ms] [        ]   final BaseCacheManager? cacheManager;\n[   +4 ms] [        ]         ^^^^^^^^^^^^^^^^\n[   +1 ms] [  +11 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:316:7: Error: The method 'DownloadProgress'    \nisn't defined for the class 'CachedNetworkImage'.\n[   +4 ms] [   +2 ms]  - 'CachedNetworkImage' is from 'package:cached_network_image/src/cached_image_widget.dart'\n('/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart').\n[   +3 ms] [        ] Try correcting the name to the name of an existing method, or defining a method named 'DownloadProgress'.\n[   +3 ms] [        ]       DownloadProgress(imageUrl, totalSize, downloaded),\n[   +3 ms] [        ]       ^^^^^^^^^^^^^^^^\n[   +3 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/cached_network_image_provider.dart:35:9: Error:\n'BaseCacheManager' isn't a type.\n[   +4 ms] [        ]   final BaseCacheManager? cacheManager;\n[   +1 ms] [        ]         ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/cached_network_image_provider.dart:116:23: Error: The    \nmethod 'DefaultCacheManager' isn't defined for the class 'CachedNetworkImageProvider'.\n[   +6 ms] [        ]  - 'CachedNetworkImageProvider' is from 'package:cached_network_image/src/image_provider/cached_network_image_provider.dart'\n('/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/cached_network_image_provider.dart').\n[   +3 ms] [        ] Try correcting the name to the name of an existing method, or defining a method named 'DefaultCacheManager'.\n[   +2 ms] [        ]       cacheManager ?? DefaultCacheManager(),\n[   +1 ms] [   +2 ms]                       ^^^^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/cached_network_image_provider.dart:169:23: Error: The    \nmethod 'DefaultCacheManager' isn't defined for the class 'CachedNetworkImageProvider'.\n[   +7 ms] [        ]  - 'CachedNetworkImageProvider' is from 'package:cached_network_image/src/image_provider/cached_network_image_provider.dart'\n('/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/cached_network_image_provider.dart').\n[   +7 ms] [        ] Try correcting the name to the name of an existing method, or defining a method named 'DefaultCacheManager'.\n[   +1 ms] [        ]       cacheManager ?? DefaultCacheManager(),\n[   +1 ms] [        ]                       ^^^^^^^^^^^^^^^^^^^\n[+1072 ms] [+1420 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image_platform_interface-4.0.0/lib/cached_network_image_platform_interface.dart:34:5: Error:'BaseCacheManager' isn't a type.\n[   +4 ms] [        ]     BaseCacheManager cacheManager,\n[   +3 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +2 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image_platform_interface-4.0.0/lib/cached_network_image_platform_interface.dart:51:5: Error:'BaseCacheManager' isn't a type.\n[   +3 ms] [        ]     BaseCacheManager cacheManager,\n[   +5 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:22:5: Error: 'BaseCacheManager' isn't \na type.\n[   +3 ms] [        ]     BaseCacheManager cacheManager,\n[  +10 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +4 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:52:5: Error: 'BaseCacheManager' isn't \na type.\n[   +3 ms] [        ]     BaseCacheManager cacheManager,\n[   +1 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:81:5: Error: 'BaseCacheManager' isn't\na type.\n[   +9 ms] [        ]     BaseCacheManager cacheManager,\n[   +2 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:90:27: Error: 'ImageCacheManager'     \nisn't a type.\n[   +2 ms] [   +1 ms]           cacheManager is ImageCacheManager ||\n[   +2 ms] [        ]                           ^^^^^^^^^^^^^^^^^\n[  +12 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:96:38: Error: 'ImageCacheManager'     \nisn't a type.\n[   +7 ms] [        ]       final stream = cacheManager is ImageCacheManager\n[   +4 ms] [   +1 ms]                                      ^^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:113:23: Error: 'DownloadProgress'     \nisn't a type.\n[   +2 ms] [        ]         if (result is DownloadProgress) {\n[   +1 ms] [        ]                       ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:121:23: Error: 'FileInfo' isn't a     \ntype.\n[   +1 ms] [        ]         if (result is FileInfo) {\n[   +4 ms] [        ]                       ^^^^^^^^\n[+31204 ms] [+31258 ms] Persisting file store\n[ +225 ms] [ +214 ms] Done persisting file store\n[ +162 ms] [ +251 ms] Target kernel_snapshot failed: Exception\n[ +120 ms]            #0      KernelSnapshot.build (package:flutter_tools/src/build_system/targets/common.dart:270:7)\n[   +4 ms]            &lt;asynchronous suspension&gt;\n[   +2 ms]            #1      _BuildInstance._invokeInternal (package:flutter_tools/src/build_system/build_system.dart:853:9)\n[   +4 ms]            &lt;asynchronous suspension&gt;\n[   +5 ms]            #2      Future.wait.&lt;anonymous closure&gt; (dart:async/future.dart:523:21)\n[   +4 ms]            &lt;asynchronous suspension&gt;\n[   +1 ms]            #3      _BuildInstance.invokeTarget (package:flutter_tools/src/build_system/build_system.dart:791:32)\n[   +2 ms]            &lt;asynchronous suspension&gt;\n[   +3 ms]            #4      FlutterBuildSystem.build (package:flutter_tools/src/build_system/build_system.dart:620:16)\n[   +7 ms]            &lt;asynchronous suspension&gt;\n[   +2 ms]            #5      AssembleCommand.runCommand (package:flutter_tools/src/commands/assemble.dart:315:32)\n[  +30 ms]            &lt;asynchronous suspension&gt;\n[  +12 ms]            #6      FlutterCommand.run.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command.dart:1350:27)\n[   +5 ms]            &lt;asynchronous suspension&gt;\n[   +1 ms]            #7      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n[  +13 ms]            &lt;asynchronous suspension&gt;\n[   +3 ms]            #8      CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n[   +9 ms]            &lt;asynchronous suspension&gt;\n[   +1 ms]            #9      FlutterCommandRunner.runCommand.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command_runner.dart:348:9)\n[   +1 ms]            &lt;asynchronous suspension&gt;\n[   +2 ms]            #10     AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n[   +1 ms]            &lt;asynchronous suspension&gt;\n[   +2 ms]            #11     FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:294:5)\n[  +10 ms]            &lt;asynchronous suspension&gt;\n[   +4 ms]            #12     run.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:flutter_tools/runner.dart:112:9)\n[  +16 ms]            &lt;asynchronous suspension&gt;\n[   +9 ms]            #13     AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n[   +6 ms]            &lt;asynchronous suspension&gt;\n[  +23 ms]            #14     main (package:flutter_tools/executable.dart:90:3)\n[  +12 ms]            &lt;asynchronous suspension&gt;\n[   +7 ms] [  +75 ms] \n[   +1 ms]            #0      throwToolExit (package:flutter_tools/src/base/common.dart:10:3)\n[   +1 ms]            #1      AssembleCommand.runCommand (package:flutter_tools/src/commands/assemble.dart:332:7)\n[   +2 ms]            &lt;asynchronous suspension&gt;\n[   +1 ms]            #2      FlutterCommand.run.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command.dart:1350:27)\n[   +8 ms]            &lt;asynchronous suspension&gt;\n[   +2 ms]            #3      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n[   +1 ms]            &lt;asynchronous suspension&gt;\n[   +1 ms]            #4      CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n[   +1 ms]            &lt;asynchronous suspension&gt;\n[   +2 ms]            #5      FlutterCommandRunner.runCommand.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command_runner.dart:348:9)\n[   +3 ms]            &lt;asynchronous suspension&gt;\n[   +8 ms]            #6      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n[   +2 ms]            &lt;asynchronous suspension&gt;\n[   +1 ms]            #7      FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:294:5)\n[   +3 ms]            &lt;asynchronous suspension&gt;\n[   +5 ms]            #8      run.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:flutter_tools/runner.dart:112:9)\n[   +2 ms]            &lt;asynchronous suspension&gt;\n[   +2 ms]            #9      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n[   +1 ms]            &lt;asynchronous suspension&gt;\n[   +1 ms]            #10     main (package:flutter_tools/executable.dart:90:3)\n[   +1 ms]            &lt;asynchronous suspension&gt;\n[   +5 ms] [ +148 ms] \"flutter assemble\" took 138,635ms.\n[ +206 ms] [ +404 ms] ensureAnalyticsSent: 260ms\n[   +1 ms] [        ] Running 0 shutdown hooks\n[   +1 ms] [        ] Shutdown hooks complete\n[   +1 ms] [        ] exiting with code 1\n[ +801 ms] &gt; Task :app:compileFlutterBuildDebug FAILED\n[+1484 ms] FAILURE: Build failed with an exception.\n[   +2 ms] * What went wrong:\n[   +1 ms] Execution failed for task ':app:compileFlutterBuildDebug'.\n[   +1 ms] &gt; Process 'command 'C:\\Users\\sayed\\flutter\\bin\\flutter.bat'' finished with non-zero exit value 1\n[   +2 ms] * Try:\n[   +1 ms] &gt; Run with --debug option to get more log output.\n[   +2 ms] &gt; Run with --scan to get full insights.\n[   +1 ms] * Exception is:\n[   +1 ms] org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileFlutterBuildDebug'.\n[   +4 ms] * Get more help at https://help.gradle.org\n[   +9 ms] BUILD FAILED in 3m 16s\n[   +3 ms] Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n[   +2 ms] You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n[   +2 ms] See https://docs.gradle.org/8.0/userguide/command_line_interface.html#sec:command_line_warnings\n[   +2 ms] 5 actionable tasks: 1 executed, 4 up-to-date\n[   +3 ms] Watched directory hierarchies: [C:\\Users\\sayed\\flutter\\packages\\flutter_tools\\gradle]\n[+1302 ms] Running Gradle task 'assembleDebug'... (completed in 202.0s)\n[  +47 ms] Exception: Gradle task assembleDebug failed with exit code 1</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I'm doesn't use <code>flutter_cache_manager</code> anyway</p>\n<p><a href=\"https://i.sstatic.net/Dm8sQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Dm8sQ.png\" alt=\"pubspec.yaml\" /></a></p>\n<p>i tired to solve it by upgrade flutter and my third party packages then delete the lock file\nbut nothing is working</p>\n<p>how could i solve it?</p>\n<p>my <code>flutter doctor -v</code></p>\n<pre><code>[√] Flutter (Channel stable, 3.16.5, on Microsoft Windows [Version 10.0.19045.3803], locale en-US)\n    • Flutter version 3.16.5 on channel stable at C:\\Users\\sayed\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 78666c8dc5 (2 weeks ago), 2023-12-19 16:14:14 -0800\n    • Engine revision 3f3e560236\n    • Dart version 3.2.3\n    • DevTools version 2.28.4\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)  \n\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\n    • Android SDK at C:\\Users\\sayed\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 33.0.1\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java      \n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Build Tools 2019 16.11.31)   \n    • Visual Studio at C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\n    • Visual Studio Build Tools 2019 version 16.11.34114.132\n    • Windows 10 SDK version 10.0.19041.0\n\n[√] Android Studio (version 2023.1)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n\n[√] VS Code (version 1.85.1)\n    • VS Code at C:\\Users\\sayed\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.80.0\n\n[√] Connected device (4 available)\n    • DRA LX2 (mobile)  • 5LX9K18817915788 • android-arm64  • Android 8.1.0 (API 27)\n    • Windows (desktop) • windows          • windows-x64    • Microsoft Windows [Version 10.0.19045.3803]\n    • Chrome (web)      • chrome           • web-javascript • Google Chrome 120.0.6099.131\n    • Edge (web)        • edge             • web-javascript • Microsoft Edge 120.0.2210.91\n\n[√] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n",
        "codigo": [
            "flutter run -v",
            "[+3236 ms] [+13468 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/cached_network_image.dart:5:1: Error: Error when reading\n'/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_cache_manager-3.3.1/lib/flutter_cache_manager.dart': The system cannot find the file specified.\n[ +518 ms] [   +5 ms] export 'package:flutter_cache_manager/flutter_cache_manager.dart'\n[   +1 ms] [        ] ^\n[   +1 ms] [  +28 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:5:8: Error: Error when reading\n'/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_cache_manager-3.3.1/lib/flutter_cache_manager.dart': The system cannot find the file specified.\n[   +4 ms] [        ] import 'package:flutter_cache_manager/flutter_cache_manager.dart';\n[   +1 ms] [        ]        ^\n[   +2 ms] [  +11 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/cached_network_image_provider.dart:13:8: Error: Error\nwhen reading '/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_cache_manager-3.3.1/lib/flutter_cache_manager.dart': The system cannot find the file specified.\n[  +12 ms] [        ] import 'package:flutter_cache_manager/flutter_cache_manager.dart';\n[   +2 ms] [        ]        ^\n[+1620 ms] [+2380 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image_platform_interface-4.0.0/lib/cached_network_image_platform_interface.dart:8:8: Error:\nError when reading '/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_cache_manager-3.3.1/lib/flutter_cache_manager.dart': The system cannot find the file specified.      \n[   +6 ms] [        ] import 'package:flutter_cache_manager/flutter_cache_manager.dart';\n[   +1 ms] [        ]        ^\n[  +88 ms] [  +19 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:11:8: Error: Error when reading\n'/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_cache_manager-3.3.1/lib/flutter_cache_manager.dart': The system cannot find the file specified.\n[  +16 ms] [        ] import 'package:flutter_cache_manager/flutter_cache_manager.dart';\n[   +3 ms] [   +1 ms]        ^\n[+4081 ms] [+4126 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:28:3: Error: Type 'DownloadProgress' not found.[   +7 ms] [        ]   DownloadProgress progress,\n[  +25 ms] [        ]   ^^^^^^^^^^^^^^^^\n[  +13 ms] [   +1 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:42:10: Error: Type 'CacheManagerLogLevel' not\nfound.\n[   +3 ms] [        ]   static CacheManagerLogLevel get logLevel => CacheManager.logLevel;\n[  +15 ms] [        ]          ^^^^^^^^^^^^^^^^^^^^\n[   +6 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:45:23: Error: Type 'CacheManagerLogLevel' not  \nfound.\n[   +8 ms] [        ]   static set logLevel(CacheManagerLogLevel level) =>\n[   +2 ms] [        ]                       ^^^^^^^^^^^^^^^^^^^^\n[  +56 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:55:5: Error: Type 'BaseCacheManager' not found.[   +5 ms] [        ]     BaseCacheManager? cacheManager,\n[   +1 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:66:9: Error: Type 'BaseCacheManager' not found.[   +4 ms] [        ]   final BaseCacheManager? cacheManager;\n[   +4 ms] [        ]         ^^^^^^^^^^^^^^^^\n[  +44 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/cached_network_image_provider.dart:35:9: Error: Type\n'BaseCacheManager' not found.\n[   +4 ms] [        ]   final BaseCacheManager? cacheManager;\n[   +1 ms] [        ]         ^^^^^^^^^^^^^^^^\n[   +7 ms] [   +2 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image_platform_interface-4.0.0/lib/cached_network_image_platform_interface.dart:34:5: Error:Type 'BaseCacheManager' not found.\n[   +6 ms] [        ]     BaseCacheManager cacheManager,\n[   +2 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +4 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image_platform_interface-4.0.0/lib/cached_network_image_platform_interface.dart:51:5: Error:Type 'BaseCacheManager' not found.\n[   +4 ms] [        ]     BaseCacheManager cacheManager,\n[   +4 ms] [        ]     ^^^^^^^^^^^^^^^^\n[ +676 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:22:5: Error: Type 'BaseCacheManager'\nnot found.\n[  +12 ms] [        ]     BaseCacheManager cacheManager,\n[   +1 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:52:5: Error: Type 'BaseCacheManager'  \nnot found.\n[   +7 ms] [        ]     BaseCacheManager cacheManager,\n[   +2 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +3 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:81:5: Error: Type 'BaseCacheManager'\nnot found.\n[ +409 ms] [        ]     BaseCacheManager cacheManager,\n[ +150 ms] [        ]     ^^^^^^^^^^^^^^^^\n[+52242 ms] [+53516 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:42:47: Error: Undefined name 'CacheManager'.\n[  +49 ms] [   +4 ms]   static CacheManagerLogLevel get logLevel => CacheManager.logLevel;\n[   +3 ms] [        ]                                               ^^^^^^^^^^^^\n[   +3 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:45:23: Error: 'CacheManagerLogLevel' isn't a   \ntype.\n[   +4 ms] [        ]   static set logLevel(CacheManagerLogLevel level) =>\n[   +2 ms] [        ]                       ^^^^^^^^^^^^^^^^^^^^\n[   +3 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:46:7: Error: Undefined name 'CacheManager'.    \n[   +2 ms] [        ]       CacheManager.logLevel = level;\n[   +9 ms] [        ]       ^^^^^^^^^^^^\n[   +3 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:55:5: Error: 'BaseCacheManager' isn't a type.  \n[   +9 ms] [        ]     BaseCacheManager? cacheManager,\n[   +1 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:58:51: Error: Method not found:\n'DefaultCacheManager'.\n[  +15 ms] [        ]     final effectiveCacheManager = cacheManager ?? DefaultCacheManager();\n[   +1 ms] [        ]                                                   ^^^^^^^^^^^^^^^^^^^\n[   +4 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:66:9: Error: 'BaseCacheManager' isn't a type.  \n[   +2 ms] [        ]   final BaseCacheManager? cacheManager;\n[   +4 ms] [        ]         ^^^^^^^^^^^^^^^^\n[   +1 ms] [  +11 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart:316:7: Error: The method 'DownloadProgress'    \nisn't defined for the class 'CachedNetworkImage'.\n[   +4 ms] [   +2 ms]  - 'CachedNetworkImage' is from 'package:cached_network_image/src/cached_image_widget.dart'\n('/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/cached_image_widget.dart').\n[   +3 ms] [        ] Try correcting the name to the name of an existing method, or defining a method named 'DownloadProgress'.\n[   +3 ms] [        ]       DownloadProgress(imageUrl, totalSize, downloaded),\n[   +3 ms] [        ]       ^^^^^^^^^^^^^^^^\n[   +3 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/cached_network_image_provider.dart:35:9: Error:\n'BaseCacheManager' isn't a type.\n[   +4 ms] [        ]   final BaseCacheManager? cacheManager;\n[   +1 ms] [        ]         ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/cached_network_image_provider.dart:116:23: Error: The    \nmethod 'DefaultCacheManager' isn't defined for the class 'CachedNetworkImageProvider'.\n[   +6 ms] [        ]  - 'CachedNetworkImageProvider' is from 'package:cached_network_image/src/image_provider/cached_network_image_provider.dart'\n('/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/cached_network_image_provider.dart').\n[   +3 ms] [        ] Try correcting the name to the name of an existing method, or defining a method named 'DefaultCacheManager'.\n[   +2 ms] [        ]       cacheManager ?? DefaultCacheManager(),\n[   +1 ms] [   +2 ms]                       ^^^^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/cached_network_image_provider.dart:169:23: Error: The    \nmethod 'DefaultCacheManager' isn't defined for the class 'CachedNetworkImageProvider'.\n[   +7 ms] [        ]  - 'CachedNetworkImageProvider' is from 'package:cached_network_image/src/image_provider/cached_network_image_provider.dart'\n('/C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/cached_network_image_provider.dart').\n[   +7 ms] [        ] Try correcting the name to the name of an existing method, or defining a method named 'DefaultCacheManager'.\n[   +1 ms] [        ]       cacheManager ?? DefaultCacheManager(),\n[   +1 ms] [        ]                       ^^^^^^^^^^^^^^^^^^^\n[+1072 ms] [+1420 ms] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image_platform_interface-4.0.0/lib/cached_network_image_platform_interface.dart:34:5: Error:'BaseCacheManager' isn't a type.\n[   +4 ms] [        ]     BaseCacheManager cacheManager,\n[   +3 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +2 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image_platform_interface-4.0.0/lib/cached_network_image_platform_interface.dart:51:5: Error:'BaseCacheManager' isn't a type.\n[   +3 ms] [        ]     BaseCacheManager cacheManager,\n[   +5 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:22:5: Error: 'BaseCacheManager' isn't \na type.\n[   +3 ms] [        ]     BaseCacheManager cacheManager,\n[  +10 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +4 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:52:5: Error: 'BaseCacheManager' isn't \na type.\n[   +3 ms] [        ]     BaseCacheManager cacheManager,\n[   +1 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:81:5: Error: 'BaseCacheManager' isn't\na type.\n[   +9 ms] [        ]     BaseCacheManager cacheManager,\n[   +2 ms] [        ]     ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:90:27: Error: 'ImageCacheManager'     \nisn't a type.\n[   +2 ms] [   +1 ms]           cacheManager is ImageCacheManager ||\n[   +2 ms] [        ]                           ^^^^^^^^^^^^^^^^^\n[  +12 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:96:38: Error: 'ImageCacheManager'     \nisn't a type.\n[   +7 ms] [        ]       final stream = cacheManager is ImageCacheManager\n[   +4 ms] [   +1 ms]                                      ^^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:113:23: Error: 'DownloadProgress'     \nisn't a type.\n[   +2 ms] [        ]         if (result is DownloadProgress) {\n[   +1 ms] [        ]                       ^^^^^^^^^^^^^^^^\n[   +1 ms] [        ] /C:/Users/sayed/AppData/Local/Pub/Cache/hosted/pub.dev/cached_network_image-3.3.1/lib/src/image_provider/_image_loader.dart:121:23: Error: 'FileInfo' isn't a     \ntype.\n[   +1 ms] [        ]         if (result is FileInfo) {\n[   +4 ms] [        ]                       ^^^^^^^^\n[+31204 ms] [+31258 ms] Persisting file store\n[ +225 ms] [ +214 ms] Done persisting file store\n[ +162 ms] [ +251 ms] Target kernel_snapshot failed: Exception\n[ +120 ms]            #0      KernelSnapshot.build (package:flutter_tools/src/build_system/targets/common.dart:270:7)\n[   +4 ms]            <asynchronous suspension>\n[   +2 ms]            #1      _BuildInstance._invokeInternal (package:flutter_tools/src/build_system/build_system.dart:853:9)\n[   +4 ms]            <asynchronous suspension>\n[   +5 ms]            #2      Future.wait.<anonymous closure> (dart:async/future.dart:523:21)\n[   +4 ms]            <asynchronous suspension>\n[   +1 ms]            #3      _BuildInstance.invokeTarget (package:flutter_tools/src/build_system/build_system.dart:791:32)\n[   +2 ms]            <asynchronous suspension>\n[   +3 ms]            #4      FlutterBuildSystem.build (package:flutter_tools/src/build_system/build_system.dart:620:16)\n[   +7 ms]            <asynchronous suspension>\n[   +2 ms]            #5      AssembleCommand.runCommand (package:flutter_tools/src/commands/assemble.dart:315:32)\n[  +30 ms]            <asynchronous suspension>\n[  +12 ms]            #6      FlutterCommand.run.<anonymous closure> (package:flutter_tools/src/runner/flutter_command.dart:1350:27)\n[   +5 ms]            <asynchronous suspension>\n[   +1 ms]            #7      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n[  +13 ms]            <asynchronous suspension>\n[   +3 ms]            #8      CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n[   +9 ms]            <asynchronous suspension>\n[   +1 ms]            #9      FlutterCommandRunner.runCommand.<anonymous closure> (package:flutter_tools/src/runner/flutter_command_runner.dart:348:9)\n[   +1 ms]            <asynchronous suspension>\n[   +2 ms]            #10     AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n[   +1 ms]            <asynchronous suspension>\n[   +2 ms]            #11     FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:294:5)\n[  +10 ms]            <asynchronous suspension>\n[   +4 ms]            #12     run.<anonymous closure>.<anonymous closure> (package:flutter_tools/runner.dart:112:9)\n[  +16 ms]            <asynchronous suspension>\n[   +9 ms]            #13     AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n[   +6 ms]            <asynchronous suspension>\n[  +23 ms]            #14     main (package:flutter_tools/executable.dart:90:3)\n[  +12 ms]            <asynchronous suspension>\n[   +7 ms] [  +75 ms] \n[   +1 ms]            #0      throwToolExit (package:flutter_tools/src/base/common.dart:10:3)\n[   +1 ms]            #1      AssembleCommand.runCommand (package:flutter_tools/src/commands/assemble.dart:332:7)\n[   +2 ms]            <asynchronous suspension>\n[   +1 ms]            #2      FlutterCommand.run.<anonymous closure> (package:flutter_tools/src/runner/flutter_command.dart:1350:27)\n[   +8 ms]            <asynchronous suspension>\n[   +2 ms]            #3      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n[   +1 ms]            <asynchronous suspension>\n[   +1 ms]            #4      CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n[   +1 ms]            <asynchronous suspension>\n[   +2 ms]            #5      FlutterCommandRunner.runCommand.<anonymous closure> (package:flutter_tools/src/runner/flutter_command_runner.dart:348:9)\n[   +3 ms]            <asynchronous suspension>\n[   +8 ms]            #6      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n[   +2 ms]            <asynchronous suspension>\n[   +1 ms]            #7      FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:294:5)\n[   +3 ms]            <asynchronous suspension>\n[   +5 ms]            #8      run.<anonymous closure>.<anonymous closure> (package:flutter_tools/runner.dart:112:9)\n[   +2 ms]            <asynchronous suspension>\n[   +2 ms]            #9      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n[   +1 ms]            <asynchronous suspension>\n[   +1 ms]            #10     main (package:flutter_tools/executable.dart:90:3)\n[   +1 ms]            <asynchronous suspension>\n[   +5 ms] [ +148 ms] \"flutter assemble\" took 138,635ms.\n[ +206 ms] [ +404 ms] ensureAnalyticsSent: 260ms\n[   +1 ms] [        ] Running 0 shutdown hooks\n[   +1 ms] [        ] Shutdown hooks complete\n[   +1 ms] [        ] exiting with code 1\n[ +801 ms] > Task :app:compileFlutterBuildDebug FAILED\n[+1484 ms] FAILURE: Build failed with an exception.\n[   +2 ms] * What went wrong:\n[   +1 ms] Execution failed for task ':app:compileFlutterBuildDebug'.\n[   +1 ms] > Process 'command 'C:\\Users\\sayed\\flutter\\bin\\flutter.bat'' finished with non-zero exit value 1\n[   +2 ms] * Try:\n[   +1 ms] > Run with --debug option to get more log output.\n[   +2 ms] > Run with --scan to get full insights.\n[   +1 ms] * Exception is:\n[   +1 ms] org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileFlutterBuildDebug'.\n[   +4 ms] * Get more help at https://help.gradle.org\n[   +9 ms] BUILD FAILED in 3m 16s\n[   +3 ms] Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n[   +2 ms] You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n[   +2 ms] See https://docs.gradle.org/8.0/userguide/command_line_interface.html#sec:command_line_warnings\n[   +2 ms] 5 actionable tasks: 1 executed, 4 up-to-date\n[   +3 ms] Watched directory hierarchies: [C:\\Users\\sayed\\flutter\\packages\\flutter_tools\\gradle]\n[+1302 ms] Running Gradle task 'assembleDebug'... (completed in 202.0s)\n[  +47 ms] Exception: Gradle task assembleDebug failed with exit code 1",
            "flutter_cache_manager",
            "flutter doctor -v",
            "[√] Flutter (Channel stable, 3.16.5, on Microsoft Windows [Version 10.0.19045.3803], locale en-US)\n    • Flutter version 3.16.5 on channel stable at C:\\Users\\sayed\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 78666c8dc5 (2 weeks ago), 2023-12-19 16:14:14 -0800\n    • Engine revision 3f3e560236\n    • Dart version 3.2.3\n    • DevTools version 2.28.4\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)  \n\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\n    • Android SDK at C:\\Users\\sayed\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 33.0.1\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java      \n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Build Tools 2019 16.11.31)   \n    • Visual Studio at C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\BuildTools\n    • Visual Studio Build Tools 2019 version 16.11.34114.132\n    • Windows 10 SDK version 10.0.19041.0\n\n[√] Android Studio (version 2023.1)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.7+0-b2043.56-10550314)\n\n[√] VS Code (version 1.85.1)\n    • VS Code at C:\\Users\\sayed\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.80.0\n\n[√] Connected device (4 available)\n    • DRA LX2 (mobile)  • 5LX9K18817915788 • android-arm64  • Android 8.1.0 (API 27)\n    • Windows (desktop) • windows          • windows-x64    • Microsoft Windows [Version 10.0.19045.3803]\n    • Chrome (web)      • chrome           • web-javascript • Google Chrome 120.0.6099.131\n    • Edge (web)        • edge             • web-javascript • Microsoft Edge 120.0.2210.91\n\n[√] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n"
        ]
    },
    {
        "titulo": "ref.watch not watching over state change of a Provider function",
        "score": 0,
        "views": 123,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "riverpod",
            "riverpod-generator"
        ],
        "link": "https://stackoverflow.com/questions/77767051/ref-watch-not-watching-over-state-change-of-a-provider-function",
        "conteudo_html": "<p>I am using a Consumer to watch over state changes in an Object provided by Provider function but the ref.watch doesn't seem to rebuild the Consumer.<br></p>\n<p>Application contains 2 pages: <code>home_page</code> and <code>settings_page</code>.<br></p>\n<p>Providers: <code>dbHelperInstanceProvider</code>, <code>sharedPreferencesProvider</code>, <code>maalaCompletedProvider</code> provider functions for providing instances of classes <code>DBHelper</code>, <code>SPHelper</code> classes and other simple and necessary functionalities. <br>\nMajor Providers being: <strong><code>currentMaalaManagerProvider</code></strong> and <strong><code>CurrentStateProvider</code></strong> providing instance of <strong>CurrentMaalaManager</strong> class to be as repository instance inside riverpod class <strong>CurrentStateProvider</strong>, which is used for showing data on home_page and triggering functions for changing states.<br><br>\nBelow is the code I feel important to share to understand situation better:<br><br></p>\n<p>CurrentMaalaManagerProvider function:<br></p>\n<pre><code>@riverpod\nCurrentMaalaManager currentMaalaManager(CurrentMaalaManagerRef ref) {\n  var db = ref.watch(dbHelperInstanceProvider);\n  var sp = ref.watch(sharedPreferencesProvider);\n  var compl = ref.watch(maalaCompletedProvider);\n  return CurrentMaalaManager(db, sp, compl);\n}\n</code></pre>\n<p>CurrentMaalaManager class:</p>\n<pre><code>class CurrentMaalaManager {\n  final DBHelper _db;\n  final SPHelper _sp;\n  final MaalaCompleted completionStatus;\n  int? _nextMaalaLengthOnRestart; // ATTRIBUTE WHOSE CHANGING VALUES ref.watch IS FAILING TO REACT TO \n  int? get nextMaalaLengthOnRestart =&gt; _nextMaalaLengthOnRestart;\n  int? _lastClearedJaaps;\n  CurrentMaalaManager(this._db, this._sp, this.completionStatus) {\n    init();\n  }\n  void init() async {\n    _nextMaalaLengthOnRestart = await _sp.getNextMaalaLengthOnRestart();\n  }\n\n Future&lt;CurrentMaalaData&gt; setMaalaLength(\n      int newLength,\n      Future&lt;bool?&gt; Function() fromNextMaala,\n      CurrentMaalaData currentMaalaObject) async {\n    //...\n    bool? fromNext = await fromNextMaala();\n    if(fromNext==true){\n       await _sp.setNextMaalaLengthOnRestart(newLength);\n      _nextMaalaLengthOnRestart = newLength;\n    }\n    //...\n   //returning CurrentMaalaData object for setting new state in CurrentStateProvider-&gt; which will be used to trigger this function.\n  }\n\n //...other functions (which also change value of member '_nextMaalaLengthOnRestart' ) here containing majority of other logic\n}\n</code></pre>\n<p>CurrentStateProvider class:</p>\n<pre><code>@riverpod\nclass CurrentStateProvider extends _$CurrentStateProvider {\n  @override\n  FutureOr&lt;CurrentMaalaData&gt; build() async {\n    var repo = ref.watch(currentMaalaManagerProvider);\n    return await repo.loadLastSavedData();\n  }\n   Future&lt;void&gt; setMaalaLength(\n      int newLength, Future&lt;bool?&gt; Function() fromNextMaala) async {\n    var repo = ref.read(currentMaalaManagerProvider);\n\n    state = const AsyncValue.loading();\n    state = await AsyncValue.guard(() async =&gt; await repo.setMaalaLength(\n        newLength, fromNextMaala, state.requireValue));\n  }\n  // ... other similar functions using currentMaalaManagerProvider as repo to make changes and setting new states.\n\n}\n</code></pre>\n<p>A Consumer Widget inside <strong>home_page</strong> watching over providers:</p>\n<pre><code>Consumer(\n            builder: (context, ref, child) {\n\n              var display = ref.watch(currentStateProviderProvider);\n              var completed = ref.watch(maalaCompletedProvider);\n\n              return display.when(\n                data: (data) {\n                //...using data from watching over providers.\n                  return Column(...);\n                },\n                error: (error, stackTrace) =&gt; Center(\n                    child: Text(&quot;Error:\\n $error\\nStackTrace:\\n$stackTrace&quot;)),\n                loading: () =&gt; const CircularProgressIndicator(),\n              );\n          }\n        )\n      // An onTap function changing state:\n     //onTap: () =&gt;\n    //       ref.read(currentStateProviderProvider.notifier).increment(),\n</code></pre>\n<p>A Consumer inside <strong>settings_page</strong>:</p>\n<pre><code>Consumer(\n            builder: (context, ref, child) {\n             // to get current state's maalaLength attribute\n              var data = ref.watch(currentStateProviderProvider.select(\n                  (value) =&gt; value.whenData((value) =&gt; value.maalaLength)));\n            // to get CurrentMaalaManager instance's 'nextMaalaLengthOnRestart' attribute which is only managed inside class\n            // and is not a part of state provided by above provider, whose value is being stored in data variable \n              var nextLen = ref.watch(currentMaalaManagerProvider\n                  .select((value) =&gt; value.nextMaalaLengthOnRestart)); // SHOULD HAVE IDEALLY WATCHED OVER CHANGES BEING TRIGGERED ON BUTTON CLICK BELOW (according to me)\n           \n           return data.when(\n                     data: (data){\n                        return //..UI...\n                            ElevatedButton(\n                              onPressed: () async {\n                               int newLen =\n                                int.parse(lengthInputController.text);\n                               // THE CALL TO .setMaalaLength BELOW CHNAGES THE VALUE OF attb _nextMaalaLengthOnRestart in CurrentMaalaManager class\n                               // whose provider is also being watched above inside Consumer\n                                    await ref\n                                        .read(currentStateProviderProvider.notifier)\n                                        .setMaalaLength(newLen, ()=&gt; changeLengthFromCurrentOrNextMaala(context) // a dialog function asking for yes/no and providing Future&lt;bool?&gt; to function as parameter.\n                                );\n                               })\n                              },\n                              child: const Text(&quot;Set&quot;),\n                            ),\n\n                     //....\n                    nextLen!=null ? Text(&quot;$nextLen&quot;) : const SizedBox(height:5) // PROBLEM DISPLAYING THIS TEXT, EXPECTEDLY RIGHT WHEN NEW VALUE IS SET \n                \n                        \n</code></pre>\n<p>Now the problem is that when the button right above is clicked, it runs the function <code>.setMaalaLength</code> which is also working fine but the Consumer is not reacting to the change in state of object of class CurrentMaalaManager whose attribute <em>_nextMaalaLengthOnRestart</em> is being changed by the triggered function which in turn according to me should have changed the value being returned by the concerned provider function leading to Consumer rebuild right when I press button to change values.<br><br>\nInstead what's happening is when I press the back button and go back to home_page, the concerned Consumer rebuilds and when i revisit the settings_page again, the <code>Text(&quot;$nextLen&quot;)</code> is visible which I expected to be getting visible right when the button was pressed.<br><br>\nI don't understand this strange behavior and have also tried making all the providers non-disposible by <code>@Riverpod(keepAlive: true)</code> annotation.<br><br>\nIn my limited knowledge and experience with riverpod, I am unable to understand the cause of this problem and to fix my code. Kindly help me with the right approaches and reasons. Thank You</p>\n",
        "codigo": [
            "home_page",
            "settings_page",
            "dbHelperInstanceProvider",
            "sharedPreferencesProvider",
            "maalaCompletedProvider",
            "DBHelper",
            "SPHelper",
            "currentMaalaManagerProvider",
            "CurrentStateProvider",
            "@riverpod\nCurrentMaalaManager currentMaalaManager(CurrentMaalaManagerRef ref) {\n  var db = ref.watch(dbHelperInstanceProvider);\n  var sp = ref.watch(sharedPreferencesProvider);\n  var compl = ref.watch(maalaCompletedProvider);\n  return CurrentMaalaManager(db, sp, compl);\n}\n",
            "class CurrentMaalaManager {\n  final DBHelper _db;\n  final SPHelper _sp;\n  final MaalaCompleted completionStatus;\n  int? _nextMaalaLengthOnRestart; // ATTRIBUTE WHOSE CHANGING VALUES ref.watch IS FAILING TO REACT TO \n  int? get nextMaalaLengthOnRestart => _nextMaalaLengthOnRestart;\n  int? _lastClearedJaaps;\n  CurrentMaalaManager(this._db, this._sp, this.completionStatus) {\n    init();\n  }\n  void init() async {\n    _nextMaalaLengthOnRestart = await _sp.getNextMaalaLengthOnRestart();\n  }\n\n Future<CurrentMaalaData> setMaalaLength(\n      int newLength,\n      Future<bool?> Function() fromNextMaala,\n      CurrentMaalaData currentMaalaObject) async {\n    //...\n    bool? fromNext = await fromNextMaala();\n    if(fromNext==true){\n       await _sp.setNextMaalaLengthOnRestart(newLength);\n      _nextMaalaLengthOnRestart = newLength;\n    }\n    //...\n   //returning CurrentMaalaData object for setting new state in CurrentStateProvider-> which will be used to trigger this function.\n  }\n\n //...other functions (which also change value of member '_nextMaalaLengthOnRestart' ) here containing majority of other logic\n}\n",
            "@riverpod\nclass CurrentStateProvider extends _$CurrentStateProvider {\n  @override\n  FutureOr<CurrentMaalaData> build() async {\n    var repo = ref.watch(currentMaalaManagerProvider);\n    return await repo.loadLastSavedData();\n  }\n   Future<void> setMaalaLength(\n      int newLength, Future<bool?> Function() fromNextMaala) async {\n    var repo = ref.read(currentMaalaManagerProvider);\n\n    state = const AsyncValue.loading();\n    state = await AsyncValue.guard(() async => await repo.setMaalaLength(\n        newLength, fromNextMaala, state.requireValue));\n  }\n  // ... other similar functions using currentMaalaManagerProvider as repo to make changes and setting new states.\n\n}\n",
            "Consumer(\n            builder: (context, ref, child) {\n\n              var display = ref.watch(currentStateProviderProvider);\n              var completed = ref.watch(maalaCompletedProvider);\n\n              return display.when(\n                data: (data) {\n                //...using data from watching over providers.\n                  return Column(...);\n                },\n                error: (error, stackTrace) => Center(\n                    child: Text(\"Error:\\n $error\\nStackTrace:\\n$stackTrace\")),\n                loading: () => const CircularProgressIndicator(),\n              );\n          }\n        )\n      // An onTap function changing state:\n     //onTap: () =>\n    //       ref.read(currentStateProviderProvider.notifier).increment(),\n",
            "Consumer(\n            builder: (context, ref, child) {\n             // to get current state's maalaLength attribute\n              var data = ref.watch(currentStateProviderProvider.select(\n                  (value) => value.whenData((value) => value.maalaLength)));\n            // to get CurrentMaalaManager instance's 'nextMaalaLengthOnRestart' attribute which is only managed inside class\n            // and is not a part of state provided by above provider, whose value is being stored in data variable \n              var nextLen = ref.watch(currentMaalaManagerProvider\n                  .select((value) => value.nextMaalaLengthOnRestart)); // SHOULD HAVE IDEALLY WATCHED OVER CHANGES BEING TRIGGERED ON BUTTON CLICK BELOW (according to me)\n           \n           return data.when(\n                     data: (data){\n                        return //..UI...\n                            ElevatedButton(\n                              onPressed: () async {\n                               int newLen =\n                                int.parse(lengthInputController.text);\n                               // THE CALL TO .setMaalaLength BELOW CHNAGES THE VALUE OF attb _nextMaalaLengthOnRestart in CurrentMaalaManager class\n                               // whose provider is also being watched above inside Consumer\n                                    await ref\n                                        .read(currentStateProviderProvider.notifier)\n                                        .setMaalaLength(newLen, ()=> changeLengthFromCurrentOrNextMaala(context) // a dialog function asking for yes/no and providing Future<bool?> to function as parameter.\n                                );\n                               })\n                              },\n                              child: const Text(\"Set\"),\n                            ),\n\n                     //....\n                    nextLen!=null ? Text(\"$nextLen\") : const SizedBox(height:5) // PROBLEM DISPLAYING THIS TEXT, EXPECTEDLY RIGHT WHEN NEW VALUE IS SET \n                \n                        \n",
            ".setMaalaLength",
            "Text(\"$nextLen\")",
            "@Riverpod(keepAlive: true)"
        ]
    },
    {
        "titulo": "Password reset over phone number verify issue in flutter app + firebase",
        "score": 0,
        "views": 197,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/77754809/password-reset-over-phone-number-verify-issue-in-flutter-app-firebase",
        "conteudo_html": "<p>I have weird issue. My flutter app using Firebase phone auth to Sign Up user. If user wish reset password he must enter the area code and his phone number. But here comes a problem. When selecting a country code, for example Estonia, which is +372, it automatically displays that you must enter at least 10 numbers in order to press the &quot;Request OTP&quot; button. But in this country the numbers are different, there are 7-10 digits. Is there any way I can remove this control?</p>\n<p><a href=\"https://i.sstatic.net/JDNPp.png\" rel=\"nofollow noreferrer\">Phone verify image</a></p>\n<p>resetpassword_screen.dart</p>\n<pre><code>class ResetPasswordScreen extends StatelessWidget {\n  SignUpController signUpController = Get.find();\n  TextEditingController number = TextEditingController();\n  String cuntryCode = &quot;&quot;;\n  final _formKey = GlobalKey&lt;FormState&gt;();\n\n  static String verifay = &quot;&quot;;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Container(\n        color: transparent,\n        height: Get.height,\n        child: Stack(\n          children: [\n            Container(\n              height: Get.height * 0.35,\n              width: double.infinity,\n              child: Column(\n                children: [\n                  SizedBox(height: Get.height * 0.03),\n                  Row(\n                    children: [\n                      InkWell(\n                        onTap: () {\n                          Get.back();\n                        },\n                        child: Container(\n                          height: 40,\n                          width: 40,\n                          alignment: Alignment.center,\n                          padding: EdgeInsets.all(13),\n                          margin: EdgeInsets.all(10),\n                          child: Image.asset(\n                            'assets/back.png',\n                            color: WhiteColor,\n                          ),\n                          decoration: BoxDecoration(\n                            color: Color(0xFF000000).withOpacity(0.3),\n                            shape: BoxShape.circle,\n                          ),\n                        ),\n                      ),\n                      SizedBox(\n                        width: Get.width * 0.25,\n                      ),\n                      Text(\n                        &quot;Reset Password&quot;.tr,\n                        textAlign: TextAlign.center,\n                        style: TextStyle(\n                          fontFamily: FontFamily.gilroyBold,\n                          fontSize: 17,\n                          color: WhiteColor,\n                        ),\n                      ),\n                    ],\n                  ),\n                  SizedBox(\n                    height: Get.size.height * 0.025,\n                  ),\n                  Row(\n                    mainAxisAlignment: MainAxisAlignment.center,\n                    children: [\n                      Text(\n                        &quot;Already have an account?&quot;.tr,\n                        style: TextStyle(\n                          color: WhiteColor,\n                          fontFamily: FontFamily.gilroyMedium,\n                          fontSize: 15,\n                        ),\n                      ),\n                      InkWell(\n                        onTap: () {\n                          Get.to(LoginScreen());\n                        },\n                        child: Text(\n                          &quot; Login Now&quot;.tr,\n                          style: TextStyle(\n                            color: gradient.circleColor,\n                            fontFamily: FontFamily.gilroyBold,\n                            fontSize: 15,\n                          ),\n                        ),\n                      ),\n                    ],\n                  ),\n                  SizedBox(\n                    height: Get.size.height * 0.04,\n                  ),\n                  Padding(\n                    padding: EdgeInsets.symmetric(horizontal: 25),\n                    child: Image.asset(\n                      &quot;assets/Rectangle326.png&quot;,\n                      height: 25,\n                    ),\n                  ),\n                ],\n              ),\n              decoration: BoxDecoration(\n                image: DecorationImage(\n                    image: AssetImage(&quot;assets/Background_SignIn.png&quot;), fit: BoxFit.fill),\n                //gradient: gradient.btnGradient,\n              ),\n            ),\n            Positioned(\n              top: Get.height * 0.22,\n              child: Container(\n                height: Get.size.height,\n                width: Get.size.width,\n                child: Column(\n                  children: [\n                    SizedBox(\n                      height: 20,\n                    ),\n                    // SizedBox(\n                    //   height: Get.height * 0.005,\n                    // ),\n                    Text(\n                      &quot;Please enter your phone number to request a\\npassword reset&quot;\n                          .tr,\n                      textAlign: TextAlign.center,\n                      style: TextStyle(\n                        color: BlackColor,\n                        fontFamily: &quot;Gilroy Medium&quot;,\n                        fontSize: 16,\n                      ),\n                    ),\n                    SizedBox(\n                      height: 20,\n                    ),\n                    Form(\n                      key: _formKey,\n                      autovalidateMode: AutovalidateMode.always,\n                      child: Padding(\n                        padding: const EdgeInsets.symmetric(horizontal: 15),\n                        child: IntlPhoneField(\n                          keyboardType: TextInputType.number,\n                          cursorColor: BlackColor,\n                          inputFormatters: [\n                            FilteringTextInputFormatter.digitsOnly\n                          ],\n                          initialCountryCode: 'ES',\n                          controller: number,\n                          onChanged: (value) {\n                            cuntryCode = value.countryCode;\n                          },\n                          onCountryChanged: (value) {\n                            number.text = '';\n                          },\n                          dropdownIcon: Icon(\n                            Icons.arrow_drop_down,\n                            color: greycolor,\n                          ),\n                          dropdownTextStyle: TextStyle(\n                            color: greycolor,\n                          ),\n                          style: TextStyle(\n                            fontFamily: 'Gilroy',\n                            fontSize: 14,\n                            fontWeight: FontWeight.w600,\n                            color: BlackColor,\n                          ),\n                          decoration: InputDecoration(\n                            helperText: null,\n                            labelText: &quot;Mobile Number&quot;.tr,\n                            labelStyle: TextStyle(\n                              color: greycolor,\n                              fontFamily: FontFamily.gilroyMedium,\n                            ),\n                            focusedBorder: OutlineInputBorder(\n                              borderRadius: BorderRadius.circular(15),\n                              borderSide: BorderSide(\n                                color: Colors.grey.shade300,\n                              ),\n                            ),\n                            enabledBorder: OutlineInputBorder(\n                              borderSide: BorderSide(\n                                color: Colors.grey.shade300,\n                              ),\n                              borderRadius: BorderRadius.circular(15),\n                            ),\n                            border: OutlineInputBorder(\n                              borderSide: BorderSide(\n                                color: Colors.grey.shade300,\n                              ),\n                              borderRadius: BorderRadius.circular(15),\n                            ),\n                          ),\n                          validator: (p0) {\n                            if (p0!.completeNumber.isEmpty) {\n                              return 'Please enter your number'.tr;\n                            } else {}\n                            return null;\n                          },\n                        ),\n                      ),\n                    ),\n                    SizedBox(\n                      height: 30,\n                    ),\n                    GestButton(\n                      Width: Get.size.width,\n                      height: 50,\n                      buttoncolor: gradient.defoultColor,\n                      margin: EdgeInsets.only(top: 15, left: 30, right: 30),\n                      buttontext: &quot;Request OTP&quot;.tr,\n                      style: TextStyle(\n                        fontFamily: &quot;Gilroy Bold&quot;,\n                        color: WhiteColor,\n                        fontSize: 16,\n                        fontWeight: FontWeight.bold,\n                      ),\n                      onclick: () async {\n                        if (_formKey.currentState?.validate() ?? false) {\n                          signUpController.checkMobileInResetPassword(\n                              number: number.text, cuntryCode: cuntryCode);\n                        }\n                      },\n                    ),\n                  ],\n                ),\n                decoration: BoxDecoration(\n                  color: WhiteColor,\n                  borderRadius: BorderRadius.only(\n                    topLeft: Radius.circular(20),\n                    topRight: Radius.circular(20),\n                  ),\n                ),\n              ),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nFuture&lt;void&gt; sendOTP(\n  String phonNumber,\n  String cuntryCode,\n) async {\n  await FirebaseAuth.instance.verifyPhoneNumber(\n    phoneNumber: '${cuntryCode + phonNumber}',\n    verificationCompleted: (PhoneAuthCredential credential) {},\n    verificationFailed: (FirebaseAuthException e) {},\n    timeout: Duration(seconds: 60),\n    codeSent: (String verificationId, int? resendToken) {\n      ResetPasswordScreen.verifay = verificationId;\n    },\n    codeAutoRetrievalTimeout: (String verificationId) {},\n  );\n}\n</code></pre>\n<p>otp_screen.dart</p>\n<pre><code>class OtpScreen extends StatefulWidget {\n  @override\n  State&lt;OtpScreen&gt; createState() =&gt; _OtpScreenState();\n}\n\nclass _OtpScreenState extends State&lt;OtpScreen&gt; {\n  TextEditingController pinPutController = TextEditingController();\n  LoginController loginController = Get.find();\n  SignUpController signUpController = Get.find();\n  final _formKey = GlobalKey&lt;FormState&gt;();\n\n  FirebaseAuth auth = FirebaseAuth.instance;\n\n  String code = &quot;&quot;;\n  String phoneNumber = Get.arguments[&quot;number&quot;];\n\n  String countryCode = Get.arguments[&quot;cuntryCode&quot;];\n\n  String rout = Get.arguments[&quot;route&quot;];\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Container(\n        color: transparent,\n        height: Get.height,\n        child: Stack(\n          children: [\n            Container(\n              height: Get.height * 0.35,\n              width: double.infinity,\n              child: Column(\n                children: [\n                  SizedBox(height: Get.height * 0.05),\n                  Row(\n                    children: [\n                      InkWell(\n                        onTap: () {\n                          Get.back();\n                        },\n                        child: Container(\n                          height: 50,\n                          width: 50,\n                          alignment: Alignment.center,\n                          padding: EdgeInsets.all(15),\n                          margin: EdgeInsets.only(left: 10),\n                          child: Image.asset(\n                            'assets/back.png',\n                            color: WhiteColor,\n                          ),\n                          decoration: BoxDecoration(\n                            color: Color(0xFF000000).withOpacity(0.3),\n                            shape: BoxShape.circle,\n                          ),\n                        ),\n                      ),\n                      SizedBox(\n                        width: Get.width * 0.23,\n                      ),\n                      Text(\n                        &quot;Verification Code&quot;.tr,\n                        textAlign: TextAlign.center,\n                        style: TextStyle(\n                          fontFamily: FontFamily.gilroyBold,\n                          fontSize: 17,\n                          color: WhiteColor,\n                        ),\n                      ),\n                    ],\n                  ),\n                  SizedBox(\n                    height: Get.size.height * 0.02,\n                  ),\n                  Text(\n                    &quot;${&quot;We have sent the code verification to&quot;.tr}\\n${countryCode} ${phoneNumber}&quot;,\n                    maxLines: 2,\n                    textAlign: TextAlign.center,\n                    style: TextStyle(\n                      overflow: TextOverflow.ellipsis,\n                      fontFamily: FontFamily.gilroyMedium,\n                      color: WhiteColor,\n                    ),\n                  ),\n                ],\n              ),\n              decoration: BoxDecoration(\n                image: DecorationImage(\n                    image: AssetImage(&quot;assets/Background_SignIn.png&quot;), fit: BoxFit.fill),\n                //gradient: gradient.btnGradient,\n              ),\n            ),\n            Positioned(\n              top: Get.height * 0.22,\n              child: Container(\n                height: Get.size.height,\n                width: Get.size.width,\n                child: Column(\n                  children: [\n                    SizedBox(\n                      height: 30,\n                    ),\n                    Form(\n                      key: _formKey,\n                      child: Container(\n                        alignment: Alignment.center,\n                        padding: EdgeInsets.symmetric(horizontal: 15),\n                        child: PinCodeTextField(\n                          appContext: context,\n                          length: 6,\n                          obscureText: false,\n                          animationType: AnimationType.fade,\n                          cursorColor: gradient.defoultColor,\n                          cursorHeight: 18,\n                          pinTheme: PinTheme(\n                            shape: PinCodeFieldShape.box,\n                            borderRadius: BorderRadius.circular(5),\n                            fieldHeight: 45,\n                            fieldWidth: 45,\n                            inactiveColor: gradient.defoultColor,\n                            activeColor: gradient.defoultColor,\n                            selectedColor: gradient.defoultColor,\n                            activeFillColor: Colors.white,\n                            inactiveFillColor: WhiteColor,\n                            selectedFillColor: WhiteColor,\n                            borderWidth: 1,\n                          ),\n                          animationDuration: Duration(milliseconds: 300),\n                          backgroundColor: WhiteColor,\n                          enableActiveFill: true,\n                          controller: pinPutController,\n                          validator: (value) {\n                            if (value == null || value.isEmpty) {\n                              return 'Please enter your OTP'.tr;\n                            }\n                            return null;\n                          },\n                          onCompleted: (v) {\n                            print(&quot;Completed&quot;);\n                          },\n                          onChanged: (value) {\n                            code = value;\n                          },\n                          beforeTextPaste: (text) {\n                            print(&quot;Allowing to paste $text&quot;);\n                            return true;\n                          },\n                        ),\n                      ),\n                    ),\n                    SizedBox(\n                      height: 40,\n                    ),\n                    Padding(\n                      padding: const EdgeInsets.only(bottom: 15),\n                      child: Row(\n                        mainAxisAlignment: MainAxisAlignment.center,\n                        children: [\n                          Text(\n                            &quot;Didn't receive code?  &quot;.tr,\n                            style: TextStyle(\n                              fontFamily: FontFamily.gilroyMedium,\n                              color: greycolor,\n                            ),\n                          ),\n                          InkWell(\n                            onTap: () {\n                              sendOTP(phoneNumber, countryCode);\n                            },\n                            child: Container(\n                              height: 30,\n                              alignment: Alignment.center,\n                              child: Text(\n                                &quot;Resend New Code&quot;.tr,\n                                style: TextStyle(\n                                  color: gradient.defoultColor,\n                                  fontFamily: FontFamily.gilroyBold,\n                                ),\n                              ),\n                            ),\n                          ),\n                        ],\n                      ),\n                    ),\n                    SizedBox(\n                      height: 60,\n                    ),\n                    GestButton(\n                      Width: Get.size.width,\n                      height: 50,\n                      buttoncolor: gradient.defoultColor,\n                      margin: EdgeInsets.only(top: 15, left: 30, right: 30),\n                      buttontext: &quot;Verify&quot;.tr,\n                      style: TextStyle(\n                        fontFamily: &quot;Gilroy Bold&quot;,\n                        color: WhiteColor,\n                        fontSize: 16,\n                        fontWeight: FontWeight.bold,\n                      ),\n                      onclick: () async {\n                        try {\n                          PhoneAuthCredential credential =\n                              PhoneAuthProvider.credential(\n                            verificationId: ResetPasswordScreen.verifay,\n                            smsCode: code,\n                          );\n                          // Sign the user in (or link) with the credential\n                          await auth.signInWithCredential(credential);\n                          pinPutController.text = &quot;&quot;;\n                          if (rout == &quot;signUpScreen&quot;) {\n\n                            signUpController.setUserApiData(countryCode);\n                            Get.offAll(ChooseFevoriteEvent());\n                            showToastMessage(signUpController.signUpMsg);\n                          }\n                          if (rout == &quot;resetScreen&quot;) {\n                            forgetPasswordBottomSheet();\n                          }\n                        } catch (e) {\n                          showToastMessage(&quot;Please enter your valid OTP&quot;.tr);\n                        }\n                      },\n                    ),\n                  ],\n                ),\n                decoration: BoxDecoration(\n                  color: WhiteColor,\n                  borderRadius: BorderRadius.only(\n                    topLeft: Radius.circular(20),\n                    topRight: Radius.circular(20),\n                  ),\n                ),\n              ),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n\n  Future forgetPasswordBottomSheet() {\n    return Get.bottomSheet(\n      GetBuilder&lt;LoginController&gt;(builder: (context) {\n        return SingleChildScrollView(\n          child: Container(\n            height: 350,\n            width: Get.size.width,\n            child: Column(\n              children: [\n                SizedBox(\n                  height: 15,\n                ),\n                Text(\n                  &quot;Forgot Password&quot;.tr,\n                  style: TextStyle(\n                    fontSize: 20,\n                    fontFamily: FontFamily.gilroyBold,\n                    color: BlackColor,\n                  ),\n                ),\n                SizedBox(\n                  height: 15,\n                ),\n                Padding(\n                  padding: const EdgeInsets.symmetric(\n                    horizontal: 20,\n                  ),\n                  child: Divider(\n                    color: greycolor,\n                  ),\n                ),\n                SizedBox(\n                  height: 10,\n                ),\n                Container(\n                  alignment: Alignment.topLeft,\n                  padding: EdgeInsets.only(top: 5, left: 15),\n                  child: Text(\n                    &quot;Create Your New Password&quot;.tr,\n                    style: TextStyle(\n                      fontFamily: FontFamily.gilroyMedium,\n                      color: BlackColor,\n                    ),\n                  ),\n                ),\n                SizedBox(\n                  height: 10,\n                ),\n                Padding(\n                  padding: const EdgeInsets.symmetric(horizontal: 15),\n                  child: TextFormField(\n                    controller: loginController.newPassword,\n                    obscureText: loginController.newShowPassword,\n                    cursorColor: BlackColor,\n                    style: TextStyle(\n                      fontSize: 14,\n                      fontFamily: FontFamily.gilroyMedium,\n                      color: BlackColor,\n                    ),\n                    validator: (value) {\n                      if (value == null || value.isEmpty) {\n                        return 'Please enter your password'.tr;\n                      }\n                      return null;\n                    },\n                    decoration: InputDecoration(\n                      focusedBorder: OutlineInputBorder(\n                        borderRadius: BorderRadius.circular(15),\n                        borderSide: BorderSide(color: greycolor),\n                      ),\n                      border: OutlineInputBorder(\n                        borderRadius: BorderRadius.circular(15),\n                        borderSide: BorderSide(color: greycolor),\n                      ),\n                      enabledBorder: OutlineInputBorder(\n                        borderRadius: BorderRadius.circular(15),\n                        borderSide: BorderSide(color: greycolor),\n                      ),\n                      suffixIcon: InkWell(\n                        onTap: () {\n                          loginController.newShowOfPassword();\n                        },\n                        child: !loginController.newShowPassword\n                            ? Padding(\n                                padding: const EdgeInsets.all(10),\n                                child: Image.asset(\n                                  &quot;assets/showpassowrd.png&quot;,\n                                  height: 10,\n                                  width: 10,\n                                  color: greycolor,\n                                ),\n                              )\n                            : Padding(\n                                padding: const EdgeInsets.all(10),\n                                child: Image.asset(\n                                  &quot;assets/HidePassword.png&quot;,\n                                  height: 10,\n                                  width: 10,\n                                  color: greycolor,\n                                ),\n                              ),\n                      ),\n                      prefixIcon: Padding(\n                        padding: const EdgeInsets.all(10),\n                        child: Image.asset(\n                          &quot;assets/Unlock.png&quot;,\n                          height: 10,\n                          width: 10,\n                          color: greycolor,\n                        ),\n                      ),\n                      labelText: &quot;Password&quot;.tr,\n                      labelStyle: TextStyle(\n                        color: greycolor,\n                        fontFamily: FontFamily.gilroyMedium,\n                      ),\n                    ),\n                  ),\n                ),\n                SizedBox(\n                  height: 10,\n                ),\n                Padding(\n                  padding: const EdgeInsets.symmetric(horizontal: 15),\n                  child: TextFormField(\n                    controller: loginController.newConformPassword,\n                    obscureText: loginController.conformPassword,\n                    cursorColor: BlackColor,\n                    style: TextStyle(\n                      fontFamily: FontFamily.gilroyMedium,\n                      fontSize: 14,\n                      color: BlackColor,\n                    ),\n                    validator: (value) {\n                      if (value == null || value.isEmpty) {\n                        return 'Please enter your password'.tr;\n                      }\n                      return null;\n                    },\n                    decoration: InputDecoration(\n                      focusedBorder: OutlineInputBorder(\n                        borderRadius: BorderRadius.circular(15),\n                        borderSide: BorderSide(color: greycolor),\n                      ),\n                      border: OutlineInputBorder(\n                        borderRadius: BorderRadius.circular(15),\n                        borderSide: BorderSide(color: greycolor),\n                      ),\n                      enabledBorder: OutlineInputBorder(\n                        borderRadius: BorderRadius.circular(15),\n                        borderSide: BorderSide(color: greycolor),\n                      ),\n                      suffixIcon: InkWell(\n                        onTap: () {\n                          loginController.newConformShowOfPassword();\n                        },\n                        child: !loginController.conformPassword\n                            ? Padding(\n                                padding: const EdgeInsets.all(10),\n                                child: Image.asset(\n                                  &quot;assets/showpassowrd.png&quot;,\n                                  height: 10,\n                                  width: 10,\n                                  color: greycolor,\n                                ),\n                              )\n                            : Padding(\n                                padding: const EdgeInsets.all(10),\n                                child: Image.asset(\n                                  &quot;assets/HidePassword.png&quot;,\n                                  height: 10,\n                                  width: 10,\n                                  color: greycolor,\n                                ),\n                              ),\n                      ),\n                      prefixIcon: Padding(\n                        padding: const EdgeInsets.all(10),\n                        child: Image.asset(\n                          &quot;assets/Unlock.png&quot;,\n                          height: 10,\n                          width: 10,\n                          color: greycolor,\n                        ),\n                      ),\n                      labelText: &quot;Confirm Password&quot;.tr,\n                      labelStyle: TextStyle(\n                        color: greycolor,\n                        fontFamily: FontFamily.gilroyMedium,\n                      ),\n                    ),\n                  ),\n                ),\n                SizedBox(\n                  height: 20,\n                ),\n                GestButton(\n                  Width: Get.size.width,\n                  height: 50,\n                  buttoncolor: gradient.defoultColor,\n                  margin: EdgeInsets.only(top: 15, left: 30, right: 30),\n                  buttontext: &quot;Continue&quot;.tr,\n                  style: TextStyle(\n                    fontFamily: &quot;Gilroy Bold&quot;,\n                    color: WhiteColor,\n                    fontSize: 16,\n                    fontWeight: FontWeight.bold,\n                  ),\n                  onclick: () {\n                    if (loginController.newPassword.text ==\n                        loginController.newConformPassword.text) {\n                      loginController.setForgetPasswordApi(\n                          ccode: countryCode, mobile: phoneNumber);\n                    } else {\n                      showToastMessage(&quot;Please Enter Valid Password&quot;.tr);\n                    }\n                  },\n                ),\n              ],\n            ),\n            decoration: BoxDecoration(\n              color: WhiteColor,\n              borderRadius: BorderRadius.only(\n                topLeft: Radius.circular(30),\n                topRight: Radius.circular(30),\n              ),\n            ),\n          ),\n        );\n      }),\n    );\n  }\n}\n</code></pre>\n",
        "codigo": [
            "class ResetPasswordScreen extends StatelessWidget {\n  SignUpController signUpController = Get.find();\n  TextEditingController number = TextEditingController();\n  String cuntryCode = \"\";\n  final _formKey = GlobalKey<FormState>();\n\n  static String verifay = \"\";\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Container(\n        color: transparent,\n        height: Get.height,\n        child: Stack(\n          children: [\n            Container(\n              height: Get.height * 0.35,\n              width: double.infinity,\n              child: Column(\n                children: [\n                  SizedBox(height: Get.height * 0.03),\n                  Row(\n                    children: [\n                      InkWell(\n                        onTap: () {\n                          Get.back();\n                        },\n                        child: Container(\n                          height: 40,\n                          width: 40,\n                          alignment: Alignment.center,\n                          padding: EdgeInsets.all(13),\n                          margin: EdgeInsets.all(10),\n                          child: Image.asset(\n                            'assets/back.png',\n                            color: WhiteColor,\n                          ),\n                          decoration: BoxDecoration(\n                            color: Color(0xFF000000).withOpacity(0.3),\n                            shape: BoxShape.circle,\n                          ),\n                        ),\n                      ),\n                      SizedBox(\n                        width: Get.width * 0.25,\n                      ),\n                      Text(\n                        \"Reset Password\".tr,\n                        textAlign: TextAlign.center,\n                        style: TextStyle(\n                          fontFamily: FontFamily.gilroyBold,\n                          fontSize: 17,\n                          color: WhiteColor,\n                        ),\n                      ),\n                    ],\n                  ),\n                  SizedBox(\n                    height: Get.size.height * 0.025,\n                  ),\n                  Row(\n                    mainAxisAlignment: MainAxisAlignment.center,\n                    children: [\n                      Text(\n                        \"Already have an account?\".tr,\n                        style: TextStyle(\n                          color: WhiteColor,\n                          fontFamily: FontFamily.gilroyMedium,\n                          fontSize: 15,\n                        ),\n                      ),\n                      InkWell(\n                        onTap: () {\n                          Get.to(LoginScreen());\n                        },\n                        child: Text(\n                          \" Login Now\".tr,\n                          style: TextStyle(\n                            color: gradient.circleColor,\n                            fontFamily: FontFamily.gilroyBold,\n                            fontSize: 15,\n                          ),\n                        ),\n                      ),\n                    ],\n                  ),\n                  SizedBox(\n                    height: Get.size.height * 0.04,\n                  ),\n                  Padding(\n                    padding: EdgeInsets.symmetric(horizontal: 25),\n                    child: Image.asset(\n                      \"assets/Rectangle326.png\",\n                      height: 25,\n                    ),\n                  ),\n                ],\n              ),\n              decoration: BoxDecoration(\n                image: DecorationImage(\n                    image: AssetImage(\"assets/Background_SignIn.png\"), fit: BoxFit.fill),\n                //gradient: gradient.btnGradient,\n              ),\n            ),\n            Positioned(\n              top: Get.height * 0.22,\n              child: Container(\n                height: Get.size.height,\n                width: Get.size.width,\n                child: Column(\n                  children: [\n                    SizedBox(\n                      height: 20,\n                    ),\n                    // SizedBox(\n                    //   height: Get.height * 0.005,\n                    // ),\n                    Text(\n                      \"Please enter your phone number to request a\\npassword reset\"\n                          .tr,\n                      textAlign: TextAlign.center,\n                      style: TextStyle(\n                        color: BlackColor,\n                        fontFamily: \"Gilroy Medium\",\n                        fontSize: 16,\n                      ),\n                    ),\n                    SizedBox(\n                      height: 20,\n                    ),\n                    Form(\n                      key: _formKey,\n                      autovalidateMode: AutovalidateMode.always,\n                      child: Padding(\n                        padding: const EdgeInsets.symmetric(horizontal: 15),\n                        child: IntlPhoneField(\n                          keyboardType: TextInputType.number,\n                          cursorColor: BlackColor,\n                          inputFormatters: [\n                            FilteringTextInputFormatter.digitsOnly\n                          ],\n                          initialCountryCode: 'ES',\n                          controller: number,\n                          onChanged: (value) {\n                            cuntryCode = value.countryCode;\n                          },\n                          onCountryChanged: (value) {\n                            number.text = '';\n                          },\n                          dropdownIcon: Icon(\n                            Icons.arrow_drop_down,\n                            color: greycolor,\n                          ),\n                          dropdownTextStyle: TextStyle(\n                            color: greycolor,\n                          ),\n                          style: TextStyle(\n                            fontFamily: 'Gilroy',\n                            fontSize: 14,\n                            fontWeight: FontWeight.w600,\n                            color: BlackColor,\n                          ),\n                          decoration: InputDecoration(\n                            helperText: null,\n                            labelText: \"Mobile Number\".tr,\n                            labelStyle: TextStyle(\n                              color: greycolor,\n                              fontFamily: FontFamily.gilroyMedium,\n                            ),\n                            focusedBorder: OutlineInputBorder(\n                              borderRadius: BorderRadius.circular(15),\n                              borderSide: BorderSide(\n                                color: Colors.grey.shade300,\n                              ),\n                            ),\n                            enabledBorder: OutlineInputBorder(\n                              borderSide: BorderSide(\n                                color: Colors.grey.shade300,\n                              ),\n                              borderRadius: BorderRadius.circular(15),\n                            ),\n                            border: OutlineInputBorder(\n                              borderSide: BorderSide(\n                                color: Colors.grey.shade300,\n                              ),\n                              borderRadius: BorderRadius.circular(15),\n                            ),\n                          ),\n                          validator: (p0) {\n                            if (p0!.completeNumber.isEmpty) {\n                              return 'Please enter your number'.tr;\n                            } else {}\n                            return null;\n                          },\n                        ),\n                      ),\n                    ),\n                    SizedBox(\n                      height: 30,\n                    ),\n                    GestButton(\n                      Width: Get.size.width,\n                      height: 50,\n                      buttoncolor: gradient.defoultColor,\n                      margin: EdgeInsets.only(top: 15, left: 30, right: 30),\n                      buttontext: \"Request OTP\".tr,\n                      style: TextStyle(\n                        fontFamily: \"Gilroy Bold\",\n                        color: WhiteColor,\n                        fontSize: 16,\n                        fontWeight: FontWeight.bold,\n                      ),\n                      onclick: () async {\n                        if (_formKey.currentState?.validate() ?? false) {\n                          signUpController.checkMobileInResetPassword(\n                              number: number.text, cuntryCode: cuntryCode);\n                        }\n                      },\n                    ),\n                  ],\n                ),\n                decoration: BoxDecoration(\n                  color: WhiteColor,\n                  borderRadius: BorderRadius.only(\n                    topLeft: Radius.circular(20),\n                    topRight: Radius.circular(20),\n                  ),\n                ),\n              ),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nFuture<void> sendOTP(\n  String phonNumber,\n  String cuntryCode,\n) async {\n  await FirebaseAuth.instance.verifyPhoneNumber(\n    phoneNumber: '${cuntryCode + phonNumber}',\n    verificationCompleted: (PhoneAuthCredential credential) {},\n    verificationFailed: (FirebaseAuthException e) {},\n    timeout: Duration(seconds: 60),\n    codeSent: (String verificationId, int? resendToken) {\n      ResetPasswordScreen.verifay = verificationId;\n    },\n    codeAutoRetrievalTimeout: (String verificationId) {},\n  );\n}\n",
            "class OtpScreen extends StatefulWidget {\n  @override\n  State<OtpScreen> createState() => _OtpScreenState();\n}\n\nclass _OtpScreenState extends State<OtpScreen> {\n  TextEditingController pinPutController = TextEditingController();\n  LoginController loginController = Get.find();\n  SignUpController signUpController = Get.find();\n  final _formKey = GlobalKey<FormState>();\n\n  FirebaseAuth auth = FirebaseAuth.instance;\n\n  String code = \"\";\n  String phoneNumber = Get.arguments[\"number\"];\n\n  String countryCode = Get.arguments[\"cuntryCode\"];\n\n  String rout = Get.arguments[\"route\"];\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Container(\n        color: transparent,\n        height: Get.height,\n        child: Stack(\n          children: [\n            Container(\n              height: Get.height * 0.35,\n              width: double.infinity,\n              child: Column(\n                children: [\n                  SizedBox(height: Get.height * 0.05),\n                  Row(\n                    children: [\n                      InkWell(\n                        onTap: () {\n                          Get.back();\n                        },\n                        child: Container(\n                          height: 50,\n                          width: 50,\n                          alignment: Alignment.center,\n                          padding: EdgeInsets.all(15),\n                          margin: EdgeInsets.only(left: 10),\n                          child: Image.asset(\n                            'assets/back.png',\n                            color: WhiteColor,\n                          ),\n                          decoration: BoxDecoration(\n                            color: Color(0xFF000000).withOpacity(0.3),\n                            shape: BoxShape.circle,\n                          ),\n                        ),\n                      ),\n                      SizedBox(\n                        width: Get.width * 0.23,\n                      ),\n                      Text(\n                        \"Verification Code\".tr,\n                        textAlign: TextAlign.center,\n                        style: TextStyle(\n                          fontFamily: FontFamily.gilroyBold,\n                          fontSize: 17,\n                          color: WhiteColor,\n                        ),\n                      ),\n                    ],\n                  ),\n                  SizedBox(\n                    height: Get.size.height * 0.02,\n                  ),\n                  Text(\n                    \"${\"We have sent the code verification to\".tr}\\n${countryCode} ${phoneNumber}\",\n                    maxLines: 2,\n                    textAlign: TextAlign.center,\n                    style: TextStyle(\n                      overflow: TextOverflow.ellipsis,\n                      fontFamily: FontFamily.gilroyMedium,\n                      color: WhiteColor,\n                    ),\n                  ),\n                ],\n              ),\n              decoration: BoxDecoration(\n                image: DecorationImage(\n                    image: AssetImage(\"assets/Background_SignIn.png\"), fit: BoxFit.fill),\n                //gradient: gradient.btnGradient,\n              ),\n            ),\n            Positioned(\n              top: Get.height * 0.22,\n              child: Container(\n                height: Get.size.height,\n                width: Get.size.width,\n                child: Column(\n                  children: [\n                    SizedBox(\n                      height: 30,\n                    ),\n                    Form(\n                      key: _formKey,\n                      child: Container(\n                        alignment: Alignment.center,\n                        padding: EdgeInsets.symmetric(horizontal: 15),\n                        child: PinCodeTextField(\n                          appContext: context,\n                          length: 6,\n                          obscureText: false,\n                          animationType: AnimationType.fade,\n                          cursorColor: gradient.defoultColor,\n                          cursorHeight: 18,\n                          pinTheme: PinTheme(\n                            shape: PinCodeFieldShape.box,\n                            borderRadius: BorderRadius.circular(5),\n                            fieldHeight: 45,\n                            fieldWidth: 45,\n                            inactiveColor: gradient.defoultColor,\n                            activeColor: gradient.defoultColor,\n                            selectedColor: gradient.defoultColor,\n                            activeFillColor: Colors.white,\n                            inactiveFillColor: WhiteColor,\n                            selectedFillColor: WhiteColor,\n                            borderWidth: 1,\n                          ),\n                          animationDuration: Duration(milliseconds: 300),\n                          backgroundColor: WhiteColor,\n                          enableActiveFill: true,\n                          controller: pinPutController,\n                          validator: (value) {\n                            if (value == null || value.isEmpty) {\n                              return 'Please enter your OTP'.tr;\n                            }\n                            return null;\n                          },\n                          onCompleted: (v) {\n                            print(\"Completed\");\n                          },\n                          onChanged: (value) {\n                            code = value;\n                          },\n                          beforeTextPaste: (text) {\n                            print(\"Allowing to paste $text\");\n                            return true;\n                          },\n                        ),\n                      ),\n                    ),\n                    SizedBox(\n                      height: 40,\n                    ),\n                    Padding(\n                      padding: const EdgeInsets.only(bottom: 15),\n                      child: Row(\n                        mainAxisAlignment: MainAxisAlignment.center,\n                        children: [\n                          Text(\n                            \"Didn't receive code?  \".tr,\n                            style: TextStyle(\n                              fontFamily: FontFamily.gilroyMedium,\n                              color: greycolor,\n                            ),\n                          ),\n                          InkWell(\n                            onTap: () {\n                              sendOTP(phoneNumber, countryCode);\n                            },\n                            child: Container(\n                              height: 30,\n                              alignment: Alignment.center,\n                              child: Text(\n                                \"Resend New Code\".tr,\n                                style: TextStyle(\n                                  color: gradient.defoultColor,\n                                  fontFamily: FontFamily.gilroyBold,\n                                ),\n                              ),\n                            ),\n                          ),\n                        ],\n                      ),\n                    ),\n                    SizedBox(\n                      height: 60,\n                    ),\n                    GestButton(\n                      Width: Get.size.width,\n                      height: 50,\n                      buttoncolor: gradient.defoultColor,\n                      margin: EdgeInsets.only(top: 15, left: 30, right: 30),\n                      buttontext: \"Verify\".tr,\n                      style: TextStyle(\n                        fontFamily: \"Gilroy Bold\",\n                        color: WhiteColor,\n                        fontSize: 16,\n                        fontWeight: FontWeight.bold,\n                      ),\n                      onclick: () async {\n                        try {\n                          PhoneAuthCredential credential =\n                              PhoneAuthProvider.credential(\n                            verificationId: ResetPasswordScreen.verifay,\n                            smsCode: code,\n                          );\n                          // Sign the user in (or link) with the credential\n                          await auth.signInWithCredential(credential);\n                          pinPutController.text = \"\";\n                          if (rout == \"signUpScreen\") {\n\n                            signUpController.setUserApiData(countryCode);\n                            Get.offAll(ChooseFevoriteEvent());\n                            showToastMessage(signUpController.signUpMsg);\n                          }\n                          if (rout == \"resetScreen\") {\n                            forgetPasswordBottomSheet();\n                          }\n                        } catch (e) {\n                          showToastMessage(\"Please enter your valid OTP\".tr);\n                        }\n                      },\n                    ),\n                  ],\n                ),\n                decoration: BoxDecoration(\n                  color: WhiteColor,\n                  borderRadius: BorderRadius.only(\n                    topLeft: Radius.circular(20),\n                    topRight: Radius.circular(20),\n                  ),\n                ),\n              ),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n\n  Future forgetPasswordBottomSheet() {\n    return Get.bottomSheet(\n      GetBuilder<LoginController>(builder: (context) {\n        return SingleChildScrollView(\n          child: Container(\n            height: 350,\n            width: Get.size.width,\n            child: Column(\n              children: [\n                SizedBox(\n                  height: 15,\n                ),\n                Text(\n                  \"Forgot Password\".tr,\n                  style: TextStyle(\n                    fontSize: 20,\n                    fontFamily: FontFamily.gilroyBold,\n                    color: BlackColor,\n                  ),\n                ),\n                SizedBox(\n                  height: 15,\n                ),\n                Padding(\n                  padding: const EdgeInsets.symmetric(\n                    horizontal: 20,\n                  ),\n                  child: Divider(\n                    color: greycolor,\n                  ),\n                ),\n                SizedBox(\n                  height: 10,\n                ),\n                Container(\n                  alignment: Alignment.topLeft,\n                  padding: EdgeInsets.only(top: 5, left: 15),\n                  child: Text(\n                    \"Create Your New Password\".tr,\n                    style: TextStyle(\n                      fontFamily: FontFamily.gilroyMedium,\n                      color: BlackColor,\n                    ),\n                  ),\n                ),\n                SizedBox(\n                  height: 10,\n                ),\n                Padding(\n                  padding: const EdgeInsets.symmetric(horizontal: 15),\n                  child: TextFormField(\n                    controller: loginController.newPassword,\n                    obscureText: loginController.newShowPassword,\n                    cursorColor: BlackColor,\n                    style: TextStyle(\n                      fontSize: 14,\n                      fontFamily: FontFamily.gilroyMedium,\n                      color: BlackColor,\n                    ),\n                    validator: (value) {\n                      if (value == null || value.isEmpty) {\n                        return 'Please enter your password'.tr;\n                      }\n                      return null;\n                    },\n                    decoration: InputDecoration(\n                      focusedBorder: OutlineInputBorder(\n                        borderRadius: BorderRadius.circular(15),\n                        borderSide: BorderSide(color: greycolor),\n                      ),\n                      border: OutlineInputBorder(\n                        borderRadius: BorderRadius.circular(15),\n                        borderSide: BorderSide(color: greycolor),\n                      ),\n                      enabledBorder: OutlineInputBorder(\n                        borderRadius: BorderRadius.circular(15),\n                        borderSide: BorderSide(color: greycolor),\n                      ),\n                      suffixIcon: InkWell(\n                        onTap: () {\n                          loginController.newShowOfPassword();\n                        },\n                        child: !loginController.newShowPassword\n                            ? Padding(\n                                padding: const EdgeInsets.all(10),\n                                child: Image.asset(\n                                  \"assets/showpassowrd.png\",\n                                  height: 10,\n                                  width: 10,\n                                  color: greycolor,\n                                ),\n                              )\n                            : Padding(\n                                padding: const EdgeInsets.all(10),\n                                child: Image.asset(\n                                  \"assets/HidePassword.png\",\n                                  height: 10,\n                                  width: 10,\n                                  color: greycolor,\n                                ),\n                              ),\n                      ),\n                      prefixIcon: Padding(\n                        padding: const EdgeInsets.all(10),\n                        child: Image.asset(\n                          \"assets/Unlock.png\",\n                          height: 10,\n                          width: 10,\n                          color: greycolor,\n                        ),\n                      ),\n                      labelText: \"Password\".tr,\n                      labelStyle: TextStyle(\n                        color: greycolor,\n                        fontFamily: FontFamily.gilroyMedium,\n                      ),\n                    ),\n                  ),\n                ),\n                SizedBox(\n                  height: 10,\n                ),\n                Padding(\n                  padding: const EdgeInsets.symmetric(horizontal: 15),\n                  child: TextFormField(\n                    controller: loginController.newConformPassword,\n                    obscureText: loginController.conformPassword,\n                    cursorColor: BlackColor,\n                    style: TextStyle(\n                      fontFamily: FontFamily.gilroyMedium,\n                      fontSize: 14,\n                      color: BlackColor,\n                    ),\n                    validator: (value) {\n                      if (value == null || value.isEmpty) {\n                        return 'Please enter your password'.tr;\n                      }\n                      return null;\n                    },\n                    decoration: InputDecoration(\n                      focusedBorder: OutlineInputBorder(\n                        borderRadius: BorderRadius.circular(15),\n                        borderSide: BorderSide(color: greycolor),\n                      ),\n                      border: OutlineInputBorder(\n                        borderRadius: BorderRadius.circular(15),\n                        borderSide: BorderSide(color: greycolor),\n                      ),\n                      enabledBorder: OutlineInputBorder(\n                        borderRadius: BorderRadius.circular(15),\n                        borderSide: BorderSide(color: greycolor),\n                      ),\n                      suffixIcon: InkWell(\n                        onTap: () {\n                          loginController.newConformShowOfPassword();\n                        },\n                        child: !loginController.conformPassword\n                            ? Padding(\n                                padding: const EdgeInsets.all(10),\n                                child: Image.asset(\n                                  \"assets/showpassowrd.png\",\n                                  height: 10,\n                                  width: 10,\n                                  color: greycolor,\n                                ),\n                              )\n                            : Padding(\n                                padding: const EdgeInsets.all(10),\n                                child: Image.asset(\n                                  \"assets/HidePassword.png\",\n                                  height: 10,\n                                  width: 10,\n                                  color: greycolor,\n                                ),\n                              ),\n                      ),\n                      prefixIcon: Padding(\n                        padding: const EdgeInsets.all(10),\n                        child: Image.asset(\n                          \"assets/Unlock.png\",\n                          height: 10,\n                          width: 10,\n                          color: greycolor,\n                        ),\n                      ),\n                      labelText: \"Confirm Password\".tr,\n                      labelStyle: TextStyle(\n                        color: greycolor,\n                        fontFamily: FontFamily.gilroyMedium,\n                      ),\n                    ),\n                  ),\n                ),\n                SizedBox(\n                  height: 20,\n                ),\n                GestButton(\n                  Width: Get.size.width,\n                  height: 50,\n                  buttoncolor: gradient.defoultColor,\n                  margin: EdgeInsets.only(top: 15, left: 30, right: 30),\n                  buttontext: \"Continue\".tr,\n                  style: TextStyle(\n                    fontFamily: \"Gilroy Bold\",\n                    color: WhiteColor,\n                    fontSize: 16,\n                    fontWeight: FontWeight.bold,\n                  ),\n                  onclick: () {\n                    if (loginController.newPassword.text ==\n                        loginController.newConformPassword.text) {\n                      loginController.setForgetPasswordApi(\n                          ccode: countryCode, mobile: phoneNumber);\n                    } else {\n                      showToastMessage(\"Please Enter Valid Password\".tr);\n                    }\n                  },\n                ),\n              ],\n            ),\n            decoration: BoxDecoration(\n              color: WhiteColor,\n              borderRadius: BorderRadius.only(\n                topLeft: Radius.circular(30),\n                topRight: Radius.circular(30),\n              ),\n            ),\n          ),\n        );\n      }),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "flutter: can&#39;t build app bundle for google play when i add admob: JVM garbage collector thrashing and after running out of JVM memory",
        "score": 1,
        "views": 222,
        "respostas": 1,
        "tags": [
            "java",
            "android",
            "flutter",
            "dart",
            "android-studio"
        ],
        "link": "https://stackoverflow.com/questions/77744547/flutter-cant-build-app-bundle-for-google-play-when-i-add-admob-jvm-garbage-co",
        "conteudo_html": "<p>i have flutter app and already upload it and publish in google play, but when i add google_mobile_ads code, the app run perfectly in emulator but i can't build app bundle for google play. this is error appear:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nGradle build daemon has been stopped: JVM garbage collector thrashing and after running out of JVM memory.\n\nGradle task bundleRelease failed with exit code 1\n</code></pre>\n<p>and i try many sizes in gradle.properties org.gradle.jvmargs but same issues face.</p>\n<p>this is doctor -v</p>\n<pre><code>[√] Flutter (Channel master, 3.18.0-18.0.pre.47, on Microsoft Windows [Version 10.0.19045.3803], locale ar-OM)\n    • Flutter version 3.18.0-18.0.pre.47 on channel master at C:\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 3df4e735d5 (4 days ago), 2023-12-29 14:07:39 -0500\n    • Engine revision 9e03a57cde\n    • Dart version 3.3.0 (build 3.3.0-273.0.dev)\n    • DevTools version 2.31.0-dev.0\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at C:\\Users\\Dell\\AppData\\Local\\Android\\Sdk\n    • Platform android-34, build-tools 34.0.0\n    • ANDROID_HOME = C:\\Users\\Dell\\AppData\\Local\\Android\\Sdk\n    • Java binary at: F:\\android-studio\\jre\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\n\n[√] Android Studio (version 2021.3)\n    • Android Studio at F:\\android-studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version openjdk version &quot;11.0.13&quot; 2021-10-19\n\n[√] Connected device (4 available)\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 12 (API 32) (emulator)\n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Version 10.0.19045.3803]\n    • Chrome (web)                 • chrome        • web-javascript • Google Chrome 120.0.6099.130\n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 120.0.2210.91\n\n[√] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\nThe Flutter CLI developer tool uses Google Analytics to report usage and diagnostic\ndata along with package dependencies, and crash reporting to send basic crash\nreports. This data is used to help improve the Dart platform, Flutter framework,\nand related tools.\n\n</code></pre>\n<p>any help?</p>\n<p>any help and suggest to build app bundle for google play?</p>\n",
        "codigo": [
            "FAILURE: Build failed with an exception.\n\n* What went wrong:\nGradle build daemon has been stopped: JVM garbage collector thrashing and after running out of JVM memory.\n\nGradle task bundleRelease failed with exit code 1\n",
            "[√] Flutter (Channel master, 3.18.0-18.0.pre.47, on Microsoft Windows [Version 10.0.19045.3803], locale ar-OM)\n    • Flutter version 3.18.0-18.0.pre.47 on channel master at C:\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 3df4e735d5 (4 days ago), 2023-12-29 14:07:39 -0500\n    • Engine revision 9e03a57cde\n    • Dart version 3.3.0 (build 3.3.0-273.0.dev)\n    • DevTools version 2.31.0-dev.0\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at C:\\Users\\Dell\\AppData\\Local\\Android\\Sdk\n    • Platform android-34, build-tools 34.0.0\n    • ANDROID_HOME = C:\\Users\\Dell\\AppData\\Local\\Android\\Sdk\n    • Java binary at: F:\\android-studio\\jre\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop Windows apps\n    X Visual Studio not installed; this is necessary to develop Windows apps.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the \"Desktop development with C++\" workload, including all of its default components\n\n[√] Android Studio (version 2021.3)\n    • Android Studio at F:\\android-studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version openjdk version \"11.0.13\" 2021-10-19\n\n[√] Connected device (4 available)\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 12 (API 32) (emulator)\n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Version 10.0.19045.3803]\n    • Chrome (web)                 • chrome        • web-javascript • Google Chrome 120.0.6099.130\n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 120.0.2210.91\n\n[√] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\nThe Flutter CLI developer tool uses Google Analytics to report usage and diagnostic\ndata along with package dependencies, and crash reporting to send basic crash\nreports. This data is used to help improve the Dart platform, Flutter framework,\nand related tools.\n\n"
        ]
    },
    {
        "titulo": "How to Implement Nested Filters in a Supabase Query with Flutter",
        "score": 0,
        "views": 277,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "supabase"
        ],
        "link": "https://stackoverflow.com/questions/77735453/how-to-implement-nested-filters-in-a-supabase-query-with-flutter",
        "conteudo_html": "<p>I am currently working on a Flutter application where I need to perform a Supabase query with multiple levels of filters. The goal is to dynamically generate an endpoint based on the applied filters. Here is the code snippet I am using: :</p>\n<pre><code>Future&lt;List&lt;dynamic&gt;&gt; fetchJobData(\n  List&lt;int&gt; countryList,\n  List&lt;int&gt; cityList,\n  int category,\n  int subCategory,\n) async {\n  // Add your function code here!\n  // Use await inside an asynchronous method\n  // final data = await Supabase.instance.client.from('jobs').select('*');\n  // print(&quot;GOt DATA ${data}&quot;);\n  // return data;\n  try {\n    var query = Supabase.instance.client.from('jobs').select(\n        '*,city:cities!inner(name_ar,name_en,id,country:countries!inner(id,name_ar,name_en)),job_category_rel:job_category_rel!inner(id, category!inner(id,name_ar,name_en))');\n\n    if (countryList.isNotEmpty) {\n      query = query.in_(&quot;city.country.id&quot;, countryList);\n    }\n    if (cityList.isNotEmpty) {\n      query = query.in_(&quot;city.id&quot;, cityList);\n    }\n    if (category != 0) {\n      query = query.eq(&quot;job_category_rel.category.id&quot;, category);\n    }\n    if (subCategory != 0) {\n      query = query.eq(&quot;job_category_rel.category.id&quot;, subCategory);\n    }\n\n    final data = await query.order(&quot;created_at&quot;);\n    var jsonString = jsonEncode(data[0]);\n    debugPrint('DATA ARE : $jsonString', wrapWidth: 500);\n\n    // Assuming data is List&lt;dynamic&gt;, cast it to the expected type\n    final List&lt;Map&lt;String, dynamic&gt;&gt; typedData =\n        data.cast&lt;Map&lt;String, dynamic&gt;&gt;();\n    return typedData;\n    // return data;\n  } catch (e) {\n    print(&quot;Error fetching data: $e&quot;);\n    throw e; // Rethrow the error to inform the FutureBuilder\n  }\n}\n</code></pre>\n<p>The code works well when no filters are applied. However, when I trigger a filter, such as the country filter under the first if statement, I encounter the following error:</p>\n<pre><code>Unhandled Exception: NoSuchMethodError: Class '_Map&lt;String, dynamic&gt;' has no instance method 'toList'.\n\n</code></pre>\n",
        "codigo": [
            "Future<List<dynamic>> fetchJobData(\n  List<int> countryList,\n  List<int> cityList,\n  int category,\n  int subCategory,\n) async {\n  // Add your function code here!\n  // Use await inside an asynchronous method\n  // final data = await Supabase.instance.client.from('jobs').select('*');\n  // print(\"GOt DATA ${data}\");\n  // return data;\n  try {\n    var query = Supabase.instance.client.from('jobs').select(\n        '*,city:cities!inner(name_ar,name_en,id,country:countries!inner(id,name_ar,name_en)),job_category_rel:job_category_rel!inner(id, category!inner(id,name_ar,name_en))');\n\n    if (countryList.isNotEmpty) {\n      query = query.in_(\"city.country.id\", countryList);\n    }\n    if (cityList.isNotEmpty) {\n      query = query.in_(\"city.id\", cityList);\n    }\n    if (category != 0) {\n      query = query.eq(\"job_category_rel.category.id\", category);\n    }\n    if (subCategory != 0) {\n      query = query.eq(\"job_category_rel.category.id\", subCategory);\n    }\n\n    final data = await query.order(\"created_at\");\n    var jsonString = jsonEncode(data[0]);\n    debugPrint('DATA ARE : $jsonString', wrapWidth: 500);\n\n    // Assuming data is List<dynamic>, cast it to the expected type\n    final List<Map<String, dynamic>> typedData =\n        data.cast<Map<String, dynamic>>();\n    return typedData;\n    // return data;\n  } catch (e) {\n    print(\"Error fetching data: $e\");\n    throw e; // Rethrow the error to inform the FutureBuilder\n  }\n}\n",
            "Unhandled Exception: NoSuchMethodError: Class '_Map<String, dynamic>' has no instance method 'toList'.\n\n"
        ]
    },
    {
        "titulo": "Issue with containedBy in Supabase Flutter Integration",
        "score": 1,
        "views": 343,
        "respostas": 1,
        "tags": [
            "postgresql",
            "flutter",
            "dart",
            "supabase"
        ],
        "link": "https://stackoverflow.com/questions/77726235/issue-with-containedby-in-supabase-flutter-integration",
        "conteudo_html": "<p>I am encountering an issue while attempting to utilize the containedBy method in the Supabase Flutter integration. Below is the relevant code snippet:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>\n      var query = Supabase.instance.client.from('jobs').select(\n          '*,city(name_ar,name_en,id,country!inner(id,name_ar,name_en)),job_category_rel:job_category_rel!inner(id, category!inner(id,name_ar,name_en))');\n      if (widget.countryList.isNotEmpty) {\n        //TODO create a logic chat filters data based on country id\n        query = query.containedBy(&quot;city.country.id&quot;, widget.countryList);\n      }\n      final data = await query;\n</code></pre>\n<p>The issue arises when attempting to apply the containedBy filter on the city.country.id field. It's important to note that widget.countryList is of type <code>List&lt;int&gt;</code>, while city.country.id in the database is of type <code>int8</code>.</p>\n<p>The encountered error is as follows:</p>\n<pre><code>Error fetching data: PostgrestException(message: &quot;failed to parse filter (containedBy.{3})&quot; (line 1, column 1), code: PGRST100, details: unexpected &quot;c&quot; expecting &quot;not&quot; or operator (eq, gt, ...), hint: null)\n</code></pre>\n",
        "codigo": [
            "\n      var query = Supabase.instance.client.from('jobs').select(\n          '*,city(name_ar,name_en,id,country!inner(id,name_ar,name_en)),job_category_rel:job_category_rel!inner(id, category!inner(id,name_ar,name_en))');\n      if (widget.countryList.isNotEmpty) {\n        //TODO create a logic chat filters data based on country id\n        query = query.containedBy(\"city.country.id\", widget.countryList);\n      }\n      final data = await query;\n",
            "List<int>",
            "int8",
            "Error fetching data: PostgrestException(message: \"failed to parse filter (containedBy.{3})\" (line 1, column 1), code: PGRST100, details: unexpected \"c\" expecting \"not\" or operator (eq, gt, ...), hint: null)\n"
        ]
    },
    {
        "titulo": "500 Error: &#39;_Map&lt;String, dynamic&gt;&#39; is not a subtype of type &#39;String&#39;",
        "score": 0,
        "views": 129,
        "respostas": 1,
        "tags": [
            "ios",
            "json",
            "flutter",
            "dart",
            "mapping"
        ],
        "link": "https://stackoverflow.com/questions/77725351/500-error-mapstring-dynamic-is-not-a-subtype-of-type-string",
        "conteudo_html": "<p>I've authentication feature in the iOS app (on flutter), here is the <code>User</code> class:</p>\n<pre><code>class User {\n  final String fullname;\n  final String username;\n  final String email;\n  final String password;\n  final String token;\n  final String type;\n  final String id;\n  final String pin;\n  final bool isVerified;\n  User({\n    required this.fullname,\n    required this.username,\n    required this.email,\n    required this.password,\n    required this.token,\n    required this.type,\n    required this.id,\n    required this.pin,\n    required this.isVerified,\n  });\n\n  Map&lt;String, dynamic&gt; toMap() {\n    return {\n      'fullname': fullname,\n      'username': username,\n      'email': email,\n      'password': password,\n      'token': token,\n      'type': type,\n      'id': id,\n      'pin': pin,\n      'isVerified': isVerified,\n    };\n  }\n\n  factory User.fromMap(Map&lt;String, dynamic&gt; map) {\n    return User(\n      fullname: map['fullname'] ?? '',\n      username: map['username'] ?? '',\n      email: map['email'] ?? '',\n      password: map['password'] ?? '',\n      token: map['token'] ?? '',\n      type: map['type'] ?? '',\n      id: map['_id'] ?? '',\n      pin: map['pin'] ?? '',\n      isVerified: map['isVerified'] ?? false,\n    );\n  }\n\n  String toJson() =&gt; json.encode(toMap());\n\n  factory User.fromJson(String source) =&gt; User.fromMap(json.decode(source));\n}\n</code></pre>\n<p>The problem starts on login page after checking credentials:</p>\n<pre><code>void sendOtp({\n   required BuildContext context,\n   required String email,\n   required String sendPurpose,\n   required VoidCallback onTapDialogButton,\n }) async {\n   try {\n     showDialogLoader(context);\n\n     http.Response res = await http\n         .post(Uri.parse(&quot;$uri/api/sendOtp/$sendPurpose&quot;),\n             headers: &lt;String, String&gt;{\n               &quot;Content-Type&quot;: &quot;application/json; charset=UTF-8&quot;,\n             },\n             body: jsonEncode({\n               &quot;email&quot;: email,\n             }))\n         .timeout(const Duration(seconds: 25));\n     Navigator.of(context, rootNavigator: true).pop('dialog');\n     print(res.statusCode);\n     statusCodeHandler(\n       context: context,\n       response: res,\n       onSuccess: () {\n         showAlertMessage(\n           context: context,\n           title: &quot;Verify Account&quot;,\n           message: &quot;Please Check Mail For OTP Code&quot;,\n           onTap: onTapDialogButton,\n         );\n       },\n     );\n   } on TimeoutException catch (e) {\n     showTimeOutError(\n       context: context,\n       popDialogAndLoader: true,\n     );\n   } on SocketException catch (e) {\n     showNoInternetError(\n       context: context,\n       popDialogAndLoader: true,\n     );\n   } on Error catch (e) {\n     print('Send Otp Error: $e');\n   }\n }\n</code></pre>\n<p>the error on the Console says <code>Send Otp Error: type '_Map&lt;String, dynamic&gt;' is not a subtype of type 'String'</code> and the main page that should appear after authentication doesn't open</p>\n",
        "codigo": [
            "User",
            "class User {\n  final String fullname;\n  final String username;\n  final String email;\n  final String password;\n  final String token;\n  final String type;\n  final String id;\n  final String pin;\n  final bool isVerified;\n  User({\n    required this.fullname,\n    required this.username,\n    required this.email,\n    required this.password,\n    required this.token,\n    required this.type,\n    required this.id,\n    required this.pin,\n    required this.isVerified,\n  });\n\n  Map<String, dynamic> toMap() {\n    return {\n      'fullname': fullname,\n      'username': username,\n      'email': email,\n      'password': password,\n      'token': token,\n      'type': type,\n      'id': id,\n      'pin': pin,\n      'isVerified': isVerified,\n    };\n  }\n\n  factory User.fromMap(Map<String, dynamic> map) {\n    return User(\n      fullname: map['fullname'] ?? '',\n      username: map['username'] ?? '',\n      email: map['email'] ?? '',\n      password: map['password'] ?? '',\n      token: map['token'] ?? '',\n      type: map['type'] ?? '',\n      id: map['_id'] ?? '',\n      pin: map['pin'] ?? '',\n      isVerified: map['isVerified'] ?? false,\n    );\n  }\n\n  String toJson() => json.encode(toMap());\n\n  factory User.fromJson(String source) => User.fromMap(json.decode(source));\n}\n",
            "void sendOtp({\n   required BuildContext context,\n   required String email,\n   required String sendPurpose,\n   required VoidCallback onTapDialogButton,\n }) async {\n   try {\n     showDialogLoader(context);\n\n     http.Response res = await http\n         .post(Uri.parse(\"$uri/api/sendOtp/$sendPurpose\"),\n             headers: <String, String>{\n               \"Content-Type\": \"application/json; charset=UTF-8\",\n             },\n             body: jsonEncode({\n               \"email\": email,\n             }))\n         .timeout(const Duration(seconds: 25));\n     Navigator.of(context, rootNavigator: true).pop('dialog');\n     print(res.statusCode);\n     statusCodeHandler(\n       context: context,\n       response: res,\n       onSuccess: () {\n         showAlertMessage(\n           context: context,\n           title: \"Verify Account\",\n           message: \"Please Check Mail For OTP Code\",\n           onTap: onTapDialogButton,\n         );\n       },\n     );\n   } on TimeoutException catch (e) {\n     showTimeOutError(\n       context: context,\n       popDialogAndLoader: true,\n     );\n   } on SocketException catch (e) {\n     showNoInternetError(\n       context: context,\n       popDialogAndLoader: true,\n     );\n   } on Error catch (e) {\n     print('Send Otp Error: $e');\n   }\n }\n",
            "Send Otp Error: type '_Map<String, dynamic>' is not a subtype of type 'String'"
        ]
    },
    {
        "titulo": "What is an alternative to a Data Table Class?",
        "score": 0,
        "views": 364,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77723273/what-is-an-alternative-to-a-data-table-class",
        "conteudo_html": "<p>I'm trying to make a simple app using Flutter. I'm trying to add rows to my app. If any of you know Swift, I'm basically trying to achieve what a TableView does in Swift. I've looked at the flutter documents, but a &quot;Data Table class&quot; doesn't seem to give me the desired look or functionality. I was wondering if anyone knows how I can implement this feature without re-writing the whole main.dart file. Does anyone have any tips? Any pointers would be appreciated.</p>\n<p><a href=\"https://i.sstatic.net/IAEYU.png\" rel=\"nofollow noreferrer\">This is what a TableView does in Swift. I need the same outcome, but in Dart syntax.</a></p>\n<p>Here is my code in the main.dart file:</p>\n<pre><code> import 'package:flutter/material.dart';\n import 'package:testing_stuff_ignore/new_screen.dart';\n\n void main() {\n runApp(const MyApp());\n }\n\n class MyApp extends StatelessWidget {\n const MyApp({super.key});\n\n // This widget is the root of your application.\n @override\n  Widget build(BuildContext context) {\nreturn MaterialApp(\n  title: 'Flutter Demo',\n  theme: ThemeData(\n    colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n    useMaterial3: true,\n  ),\n  home: const MyHomePage(title: 'Flutter Demo Home Page'),\n );\n  }\n    }\n\n class MyHomePage extends StatefulWidget {\n const MyHomePage({super.key, required this.title});\n\n final String title;\n\n @override\n State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n// int _counter = 0; //Ignore any &quot;counter&quot; references.\n\n @override\n Widget build(BuildContext context) {\n    title: Center(\n      child: Text(\n        'Test (Beta v1)',\n      ),\n    ),\n   ),\n  body: Center(\n    // Center is a layout widget. It takes a single child and positions it\n    // in the middle of the parent.\n    child: Column(\n      mainAxisAlignment: MainAxisAlignment.center,\n      children: &lt;Widget&gt;[\n        const Text(\n          'This page is where I need those rows',\n        ),\n        Text(\n          '',\n          style: Theme.of(context).textTheme.headlineMedium,\n        ),\n      ],\n    ),\n  ),\n  floatingActionButton: FloatingActionButton(\n    backgroundColor: Colors.brown,\n    onPressed: () {\n      Navigator.push(\n        context,\n        MaterialPageRoute(builder: (context) =&gt; const NewScreen()),\n      );\n    },\n    // onPressed: _incrementCounter,\n    tooltip: 'Increment',\n    child: const Icon(\n      Icons.add,\n      color: Colors.yellow,\n    ),\n  ), // This trailing comma makes auto-formatting nicer for build methods.\n);\n }\n</code></pre>\n<p>}</p>\n<p>I've looked through the Flutter Docs and tried adding Rows, but that didn't work. I'm sure there is something in the Docs, but I did not find anything as of yet.</p>\n",
        "codigo": [
            " import 'package:flutter/material.dart';\n import 'package:testing_stuff_ignore/new_screen.dart';\n\n void main() {\n runApp(const MyApp());\n }\n\n class MyApp extends StatelessWidget {\n const MyApp({super.key});\n\n // This widget is the root of your application.\n @override\n  Widget build(BuildContext context) {\nreturn MaterialApp(\n  title: 'Flutter Demo',\n  theme: ThemeData(\n    colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n    useMaterial3: true,\n  ),\n  home: const MyHomePage(title: 'Flutter Demo Home Page'),\n );\n  }\n    }\n\n class MyHomePage extends StatefulWidget {\n const MyHomePage({super.key, required this.title});\n\n final String title;\n\n @override\n State<MyHomePage> createState() => _MyHomePageState();\n}\n\nclass _MyHomePageState extends State<MyHomePage> {\n// int _counter = 0; //Ignore any \"counter\" references.\n\n @override\n Widget build(BuildContext context) {\n    title: Center(\n      child: Text(\n        'Test (Beta v1)',\n      ),\n    ),\n   ),\n  body: Center(\n    // Center is a layout widget. It takes a single child and positions it\n    // in the middle of the parent.\n    child: Column(\n      mainAxisAlignment: MainAxisAlignment.center,\n      children: <Widget>[\n        const Text(\n          'This page is where I need those rows',\n        ),\n        Text(\n          '',\n          style: Theme.of(context).textTheme.headlineMedium,\n        ),\n      ],\n    ),\n  ),\n  floatingActionButton: FloatingActionButton(\n    backgroundColor: Colors.brown,\n    onPressed: () {\n      Navigator.push(\n        context,\n        MaterialPageRoute(builder: (context) => const NewScreen()),\n      );\n    },\n    // onPressed: _incrementCounter,\n    tooltip: 'Increment',\n    child: const Icon(\n      Icons.add,\n      color: Colors.yellow,\n    ),\n  ), // This trailing comma makes auto-formatting nicer for build methods.\n);\n }\n"
        ]
    },
    {
        "titulo": "Flutter:PlatformException (PlatformException(channel-error, Unable to establish connection on channel., null, null))",
        "score": 0,
        "views": 3026,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/77716777/flutterplatformexception-platformexceptionchannel-error-unable-to-establish",
        "conteudo_html": "<p>I have a problem with my flutter app. When I run and use the login feature, it display: PlatformException (PlatformException(channel-error, Unable to establish connection on channel., null, null)). The flow: Sign in Button -&gt; login_controller -&gt; AuthenticationRepository.</p>\n<p><a href=\"https://i.sstatic.net/fMJuY.png\" rel=\"nofollow noreferrer\">Click here for the error picture</a></p>\n<pre><code>/// Sign in button\n              SizedBox(\n                width: double.infinity,\n                child: ElevatedButton(\n                  onPressed: () =&gt; controller.emailAndPasswordSignIn(),\n                  child: const Text(TTexts.signIn),\n                ),\n              ),\n</code></pre>\n<p>It will use the logic here, and the problem is at the <code>AuthenticationRepository</code> class as shown in the picture (click on the hyperlink). I also have some custom class but I don't think it will be helpful here. The comment inside the code I think it will be enough. I also have try the flutter clean and flutter pub get but still not working. All the package is up-to-date.</p>\n<pre><code>  /// -- Email and Password SignIn\n  Future&lt;void&gt; emailAndPasswordSignIn() async {\n    try {\n      // Start Loading\n      TFullScreenLoader.openLoadingDialog(\n          'Logging you in...', TImages.docerAnimation);\n\n      // Check Internet Connectivity\n      final isConnected = await NetworkManager.instance.isConnected();\n      if (!isConnected) {\n        TFullScreenLoader.stopLoading();\n        return;\n      }\n\n      // Form Validation\n      if (!loginFormKey.currentState!.validate()) {\n        TFullScreenLoader.stopLoading();\n        return;\n      }\n\n      // Save Data if Remember Me is Selected\n      if (rememberMe.value) {\n        localStorage.write('REMEMBER_ME_EMAIL', email.text.trim());\n        localStorage.write('REMEMBER_ME_PASSWORD', password.text.trim());\n      }\n\n      // Login user using Email &amp; Password Authentication\n      final userCredentials = await AuthenticationRepository.instance\n          .loginWithEmailAndPassword(email.text.trim(), password.text.trim());\n\n      // Save user record\n      await userController.saveUserRecord(userCredentials);\n\n      // Remove Loader\n      TFullScreenLoader.stopLoading();\n\n      // Redirect\n      AuthenticationRepository.instance.screenRedirect();\n    } catch (e) {\n      TFullScreenLoader.stopLoading();\n      TLoaders.errorSnackBar(title: 'Oh Snap!', message: e.toString());\n    }\n  }\n</code></pre>\n<pre><code>  class AuthenticationRepository extends GetxController {\n  static AuthenticationRepository get instance =&gt; Get.find();\n\n  /// Variables\n  final deviceStorage = GetStorage();\n  final _auth = FirebaseAuth.instance;\n\n  /// Get Authenticated User Data\n  User? get authUser =&gt; _auth.currentUser;\n\n  /// Called from main.dart on app laucnh\n  @override\n  void onReady() {\n    FlutterNativeSplash.remove();\n    screenRedirect();\n  }\n\n  /// Function to Show Relevant Screen\n  void screenRedirect() async {\n    final user = _auth.currentUser;\n\n    if (user != null) {\n      if (user.emailVerified) {\n        Get.offAll(() =&gt; const NavigationMenu());\n      } else {\n        Get.offAll(() =&gt; VerifyEmailScreen(\n              email: _auth.currentUser?.email,\n            ));\n      }\n    } else {\n      // Local Storage\n      deviceStorage.writeIfNull('isFirstTime', true);\n\n      // Check if it's the first time launching the app\n      deviceStorage.read('isFirstTime') != true\n          ? Get.offAll(() =&gt; const LoginScreen())\n          : Get.offAll(const OnBoardingScreen());\n    }\n  }\n\n  /* ---------- Email &amp; Password sign-in -----------------*/\n\n  /// [EmailAuthenctication] - SignIn\n  Future&lt;UserCredential&gt; loginWithEmailAndPassword(\n      String email, String password) async {\n    try {\n      return await _auth.signInWithEmailAndPassword(\n          email: email, password: password); // this where the exception error happen\n    } on FirebaseAuthException catch (e) {\n      throw TFirebaseAuthException(e.code).message;\n    } on FirebaseException catch (e) {\n      throw TFirebaseException(e.code).message;\n    } on FormatException catch (_) {\n      throw const TFormatException();\n    } on PlatformException catch (e) {\n      throw TPlatformException(e.code).message;\n    } catch (e) {\n      throw 'Something went wrong. Please try again';\n    }\n  }\n} \n</code></pre>\n<p>This is my first time doing a complex flutter project and quite newbie on backend/logic programming. Any help/discussion is welcome</p>\n",
        "codigo": [
            "/// Sign in button\n              SizedBox(\n                width: double.infinity,\n                child: ElevatedButton(\n                  onPressed: () => controller.emailAndPasswordSignIn(),\n                  child: const Text(TTexts.signIn),\n                ),\n              ),\n",
            "AuthenticationRepository",
            "  /// -- Email and Password SignIn\n  Future<void> emailAndPasswordSignIn() async {\n    try {\n      // Start Loading\n      TFullScreenLoader.openLoadingDialog(\n          'Logging you in...', TImages.docerAnimation);\n\n      // Check Internet Connectivity\n      final isConnected = await NetworkManager.instance.isConnected();\n      if (!isConnected) {\n        TFullScreenLoader.stopLoading();\n        return;\n      }\n\n      // Form Validation\n      if (!loginFormKey.currentState!.validate()) {\n        TFullScreenLoader.stopLoading();\n        return;\n      }\n\n      // Save Data if Remember Me is Selected\n      if (rememberMe.value) {\n        localStorage.write('REMEMBER_ME_EMAIL', email.text.trim());\n        localStorage.write('REMEMBER_ME_PASSWORD', password.text.trim());\n      }\n\n      // Login user using Email & Password Authentication\n      final userCredentials = await AuthenticationRepository.instance\n          .loginWithEmailAndPassword(email.text.trim(), password.text.trim());\n\n      // Save user record\n      await userController.saveUserRecord(userCredentials);\n\n      // Remove Loader\n      TFullScreenLoader.stopLoading();\n\n      // Redirect\n      AuthenticationRepository.instance.screenRedirect();\n    } catch (e) {\n      TFullScreenLoader.stopLoading();\n      TLoaders.errorSnackBar(title: 'Oh Snap!', message: e.toString());\n    }\n  }\n",
            "  class AuthenticationRepository extends GetxController {\n  static AuthenticationRepository get instance => Get.find();\n\n  /// Variables\n  final deviceStorage = GetStorage();\n  final _auth = FirebaseAuth.instance;\n\n  /// Get Authenticated User Data\n  User? get authUser => _auth.currentUser;\n\n  /// Called from main.dart on app laucnh\n  @override\n  void onReady() {\n    FlutterNativeSplash.remove();\n    screenRedirect();\n  }\n\n  /// Function to Show Relevant Screen\n  void screenRedirect() async {\n    final user = _auth.currentUser;\n\n    if (user != null) {\n      if (user.emailVerified) {\n        Get.offAll(() => const NavigationMenu());\n      } else {\n        Get.offAll(() => VerifyEmailScreen(\n              email: _auth.currentUser?.email,\n            ));\n      }\n    } else {\n      // Local Storage\n      deviceStorage.writeIfNull('isFirstTime', true);\n\n      // Check if it's the first time launching the app\n      deviceStorage.read('isFirstTime') != true\n          ? Get.offAll(() => const LoginScreen())\n          : Get.offAll(const OnBoardingScreen());\n    }\n  }\n\n  /* ---------- Email & Password sign-in -----------------*/\n\n  /// [EmailAuthenctication] - SignIn\n  Future<UserCredential> loginWithEmailAndPassword(\n      String email, String password) async {\n    try {\n      return await _auth.signInWithEmailAndPassword(\n          email: email, password: password); // this where the exception error happen\n    } on FirebaseAuthException catch (e) {\n      throw TFirebaseAuthException(e.code).message;\n    } on FirebaseException catch (e) {\n      throw TFirebaseException(e.code).message;\n    } on FormatException catch (_) {\n      throw const TFormatException();\n    } on PlatformException catch (e) {\n      throw TPlatformException(e.code).message;\n    } catch (e) {\n      throw 'Something went wrong. Please try again';\n    }\n  }\n} \n"
        ]
    },
    {
        "titulo": "Unable to Widget Test a Container that is rendered after a delay of 3 seconds in Flutter",
        "score": 0,
        "views": 58,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77715803/unable-to-widget-test-a-container-that-is-rendered-after-a-delay-of-3-seconds-in",
        "conteudo_html": "<p><strong>Scenario</strong></p>\n<p>I have a simple scenario where there are two buttons, one to render a blue colored Container immediately and the other to render a red colored Container after a delay of 3 seconds.</p>\n<p><strong>Code</strong></p>\n<p><em>loginpage_test.dart</em></p>\n<pre><code>void main() {\n  TestWidgetsFlutterBinding.ensureInitialized();\n\n  testWidgets('test for blue and red boxes', (tester) async {\n    // Arrange\n    await tester.pumpWidget(const MainApp());\n    await tester.pumpWidget(const MaterialApp(\n      home: DashboardPage(),\n    ));\n\n    // Act\n    Finder blueButtonFinder = find.byKey(const ValueKey('BlueButton'));\n    Finder blueBoxFinder = find.byKey(const ValueKey('BlueBox'));\n    Finder redButtonFinder = find.byKey(const ValueKey('RedButton'));\n    Finder redBoxFinder = find.byKey(const ValueKey('RedBox'));\n\n    // Assert\n    expect(blueButtonFinder, findsOneWidget);\n    expect(blueBoxFinder, findsNothing);\n    expect(redButtonFinder, findsOneWidget);\n    expect(redBoxFinder, findsNothing);\n\n    await tester.tap(blueButtonFinder);\n    await tester.pumpAndSettle();\n    expect(blueBoxFinder, findsOneWidget);\n\n    await tester.runAsync(() async {\n      await tester.tap(redButtonFinder);\n      // await tester.binding.delayed(const Duration(seconds: 3));\n      await tester.pumpAndSettle();\n      // await tester.pump(Duration(seconds: 3));\n    });\n\n    expect(redBoxFinder, findsOneWidget);\n  });\n}\n</code></pre>\n<p><em>dashboardpage.dart</em></p>\n<pre><code>class DashboardPage extends StatefulWidget {\n  const DashboardPage({super.key});\n\n  @override\n  State&lt;DashboardPage&gt; createState() =&gt; _DashboardPageState();\n}\n\nclass _DashboardPageState extends State&lt;DashboardPage&gt; {\n  bool isShowBlue = false;\n  bool isShowRed = false;\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: AppColors.black20,\n      appBar: AppBar(\n        leading: Icon(Icons.menu_rounded, size: 24.w),\n        actions: AppbarActions.appBarActions,\n        backgroundColor: Colors.transparent,\n        elevation: 0,\n        systemOverlayStyle: CustomOverlays.appbarOverlayLight,\n      ),\n      body: Padding(\n        padding: EdgeInsets.symmetric(horizontal: 16.w),\n        child: Column(\n          children: [\n            CoverPictureSection(),\n            SizedBox(height: 10.h),\n            ElevatedButton(\n              key: const ValueKey('BlueButton'),\n              onPressed: () {\n                setState(() {\n                  isShowBlue = true;\n                });\n              },\n              child: const Text('Create Blue Box'),\n            ),\n            SizedBox(height: 10.h),\n            isShowBlue\n                ? Container(\n                    key: const ValueKey('BlueBox'),\n                    width: 50.w,\n                    height: 50.h,\n                    color: Colors.blue,\n                  )\n                : const SizedBox.shrink(),\n            SizedBox(height: 10.h),\n            ElevatedButton(\n              key: const ValueKey('RedButton'),\n              onPressed: () async {\n                await Future.delayed(const Duration(seconds: 3));\n                setState(() {\n                  isShowRed = true;\n                });\n              },\n              child: const Text('Create Red Box'),\n            ),\n            SizedBox(height: 10.h),\n            isShowRed\n                ? Container(\n                    key: const ValueKey('RedBox'),\n                    width: 50.w,\n                    height: 50.h,\n                    color: Colors.red,\n                  )\n                : const SizedBox.shrink(),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p><strong>Problem</strong></p>\n<p>The test for the blue box completes successfully, but for the red box the test fails with the following error:</p>\n<p><strong>══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════\nThe following TestFailure was thrown running a test:\nExpected: exactly one matching candidate\nActual: _KeyWidgetFinder:&lt;Found 0 widgets with key [&lt;'RedBox'&gt;]: []&gt;\nWhich: means none were found but one was expected</strong></p>\n<p>It seems that the future is not completed before the expect for red box is called. I looked for solutions online which suggested that I run the <code>tester.tap</code> for <code>RedBox</code> inside <code>runAsync()</code> but still get the same error.</p>\n<p><strong>Request</strong></p>\n<p>I would like to know how I can successfully widget test a widget that is rendered after a Future induced delay. What changes do I need to make to my code?</p>\n",
        "codigo": [
            "void main() {\n  TestWidgetsFlutterBinding.ensureInitialized();\n\n  testWidgets('test for blue and red boxes', (tester) async {\n    // Arrange\n    await tester.pumpWidget(const MainApp());\n    await tester.pumpWidget(const MaterialApp(\n      home: DashboardPage(),\n    ));\n\n    // Act\n    Finder blueButtonFinder = find.byKey(const ValueKey('BlueButton'));\n    Finder blueBoxFinder = find.byKey(const ValueKey('BlueBox'));\n    Finder redButtonFinder = find.byKey(const ValueKey('RedButton'));\n    Finder redBoxFinder = find.byKey(const ValueKey('RedBox'));\n\n    // Assert\n    expect(blueButtonFinder, findsOneWidget);\n    expect(blueBoxFinder, findsNothing);\n    expect(redButtonFinder, findsOneWidget);\n    expect(redBoxFinder, findsNothing);\n\n    await tester.tap(blueButtonFinder);\n    await tester.pumpAndSettle();\n    expect(blueBoxFinder, findsOneWidget);\n\n    await tester.runAsync(() async {\n      await tester.tap(redButtonFinder);\n      // await tester.binding.delayed(const Duration(seconds: 3));\n      await tester.pumpAndSettle();\n      // await tester.pump(Duration(seconds: 3));\n    });\n\n    expect(redBoxFinder, findsOneWidget);\n  });\n}\n",
            "class DashboardPage extends StatefulWidget {\n  const DashboardPage({super.key});\n\n  @override\n  State<DashboardPage> createState() => _DashboardPageState();\n}\n\nclass _DashboardPageState extends State<DashboardPage> {\n  bool isShowBlue = false;\n  bool isShowRed = false;\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      backgroundColor: AppColors.black20,\n      appBar: AppBar(\n        leading: Icon(Icons.menu_rounded, size: 24.w),\n        actions: AppbarActions.appBarActions,\n        backgroundColor: Colors.transparent,\n        elevation: 0,\n        systemOverlayStyle: CustomOverlays.appbarOverlayLight,\n      ),\n      body: Padding(\n        padding: EdgeInsets.symmetric(horizontal: 16.w),\n        child: Column(\n          children: [\n            CoverPictureSection(),\n            SizedBox(height: 10.h),\n            ElevatedButton(\n              key: const ValueKey('BlueButton'),\n              onPressed: () {\n                setState(() {\n                  isShowBlue = true;\n                });\n              },\n              child: const Text('Create Blue Box'),\n            ),\n            SizedBox(height: 10.h),\n            isShowBlue\n                ? Container(\n                    key: const ValueKey('BlueBox'),\n                    width: 50.w,\n                    height: 50.h,\n                    color: Colors.blue,\n                  )\n                : const SizedBox.shrink(),\n            SizedBox(height: 10.h),\n            ElevatedButton(\n              key: const ValueKey('RedButton'),\n              onPressed: () async {\n                await Future.delayed(const Duration(seconds: 3));\n                setState(() {\n                  isShowRed = true;\n                });\n              },\n              child: const Text('Create Red Box'),\n            ),\n            SizedBox(height: 10.h),\n            isShowRed\n                ? Container(\n                    key: const ValueKey('RedBox'),\n                    width: 50.w,\n                    height: 50.h,\n                    color: Colors.red,\n                  )\n                : const SizedBox.shrink(),\n          ],\n        ),\n      ),\n    );\n  }\n}\n",
            "tester.tap",
            "RedBox",
            "runAsync()"
        ]
    },
    {
        "titulo": "Flutter test using provider and mock class",
        "score": 0,
        "views": 745,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "mockito",
            "flutter-provider"
        ],
        "link": "https://stackoverflow.com/questions/77714822/flutter-test-using-provider-and-mock-class",
        "conteudo_html": "<p>I'm testing my Flutter application using Mockito. I have a splash screen that has a provider for state management.</p>\n<p>I have a <code>TokenProvider</code> class that I want to mock. Consider:</p>\n<ul>\n<li>This class is working fine</li>\n<li>The <code>SplashScreen</code> is listening to <code>TokenProvider</code> and its consumer is a type of <code>TokenProvider</code>.</li>\n</ul>\n<pre class=\"lang-dart prettyprint-override\"><code>class TokenProvider extends ITokenProvider {\n  ApiProvider apiProvider = ApiProvider();\n\n  late ResponseModel state = ResponseModel.idle(&quot;&quot;);\n  late Response response;\n\n  getTokenFromServer(String token) async {\n    state = ResponseModel.loading(&quot;is loading...&quot;);\n    try {\n     // send request for example\n\n    } catch (e) {\n\n    }\n      notifyListeners();\n  }\n}\n</code></pre>\n<p>Then I implemented an <code>ITokenProvider</code> which both my mock class and the real <code>tokenProvider</code> extend.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>abstract class ITokenProvider extends ChangeNotifier {\n  Future&lt;void&gt; getTokenFromServer(String token);\n}\n</code></pre>\n<p>And also, here is my Mock class implementation:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MockTokenProvider extends Mock implements ITokenProvider {\n\n  ResponseModel state = ResponseModel.idle(&quot;&quot;);\n  \n  @override\n  Future&lt;void&gt; getTokenFromServer(String token) async {\n    state = ResponseModel.loading(&quot;is loading...&quot;);\n    notifyListeners();\n  }\n}\n</code></pre>\n<p>I show a <code>CircularProgressIndicator</code> while loading.</p>\n<p>This is my test that I implemented:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>testWidgets('SplashScreen loading state', (WidgetTester tester) async {\n  MockTokenProvider mockTokenProvider = MockTokenProvider();\n  mockTokenProvider.getTokenFromServer('');\n\n  await tester.pumpWidget(\n    Provider&lt;MockTokenProvider&gt;(\n      create: (BuildContext context) {\n        return mockTokenProvider;\n      },\n      child: SplashScreen(),\n    ),\n  );\n\n  await tester.pumpAndSettle();\n  expect(find.byType(CircularProgressIndicator), findsOneWidget);\n});\n</code></pre>\n<p>I got this error:</p>\n<blockquote>\n<p>══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY ╞══════════════════════<br />\nThe following ProviderNotFoundException was thrown building\n_InheritedProviderScope&lt;MockTokenProvider?&gt;(value: &lt;not yet loaded&gt;):<br />\nError: Could not find the correct Provider&lt;TokenProvider&gt; above this SplashScreen Widget</p>\n<p>This happens because you used a <code>BuildContext</code> that does not include the provider\nof your choice. There are a few common scenarios:</p>\n<ul>\n<li><p>You added a new provider in your <code>main.dart</code> and performed a hot-reload.\nTo fix, perform a hot-restart.</p>\n</li>\n<li><p>The provider you are trying to read is in a different route.</p>\n</li>\n</ul>\n<p>Providers are &quot;scoped&quot;. So if you insert of provider inside a route, then\nother routes will not be able to access that provider.</p>\n<ul>\n<li>You used a <code>BuildContext</code> that is an ancestor of the provider you are trying to read.</li>\n</ul>\n<p>Make sure that SplashScreen is under your MultiProvider/Provider&lt;TokenProvider&gt;.\nThis usually happens when you are creating a provider and trying to read it immediately.</p>\n<p>For example, instead of:</p>\n<pre><code>Widget build(BuildContext context) {return Provider&lt;Example&gt;(create: (_) =&gt; Example(),\n// Will throw a &gt;ProviderNotFoundError, because context is associated\n// to the widget that is the parent of &gt;Provider&lt;Example&gt;child: Text(context.watch&lt;Example&gt;().toString()),);}\n</code></pre>\n</blockquote>\n<p>What is wrong with my test, and how can I improve it?</p>\n",
        "codigo": [
            "TokenProvider",
            "SplashScreen",
            "TokenProvider",
            "TokenProvider",
            "class TokenProvider extends ITokenProvider {\n  ApiProvider apiProvider = ApiProvider();\n\n  late ResponseModel state = ResponseModel.idle(\"\");\n  late Response response;\n\n  getTokenFromServer(String token) async {\n    state = ResponseModel.loading(\"is loading...\");\n    try {\n     // send request for example\n\n    } catch (e) {\n\n    }\n      notifyListeners();\n  }\n}\n",
            "ITokenProvider",
            "tokenProvider",
            "abstract class ITokenProvider extends ChangeNotifier {\n  Future<void> getTokenFromServer(String token);\n}\n",
            "class MockTokenProvider extends Mock implements ITokenProvider {\n\n  ResponseModel state = ResponseModel.idle(\"\");\n  \n  @override\n  Future<void> getTokenFromServer(String token) async {\n    state = ResponseModel.loading(\"is loading...\");\n    notifyListeners();\n  }\n}\n",
            "CircularProgressIndicator",
            "testWidgets('SplashScreen loading state', (WidgetTester tester) async {\n  MockTokenProvider mockTokenProvider = MockTokenProvider();\n  mockTokenProvider.getTokenFromServer('');\n\n  await tester.pumpWidget(\n    Provider<MockTokenProvider>(\n      create: (BuildContext context) {\n        return mockTokenProvider;\n      },\n      child: SplashScreen(),\n    ),\n  );\n\n  await tester.pumpAndSettle();\n  expect(find.byType(CircularProgressIndicator), findsOneWidget);\n});\n",
            "BuildContext",
            "main.dart",
            "BuildContext",
            "Widget build(BuildContext context) {return Provider<Example>(create: (_) => Example(),\n// Will throw a >ProviderNotFoundError, because context is associated\n// to the widget that is the parent of >Provider<Example>child: Text(context.watch<Example>().toString()),);}\n"
        ]
    },
    {
        "titulo": "Second testWidgets method call fails in group of Integration Test in Flutter, but succeeds when run in isolation",
        "score": 0,
        "views": 60,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77707756/second-testwidgets-method-call-fails-in-group-of-integration-test-in-flutter-bu",
        "conteudo_html": "<p><strong>Scenario</strong></p>\n<p>I have a simple Flutter app with 3 screens: <code>LoginPage</code>, <code>CheckoutPage</code> and <code>DashboardPage</code>. The <code>LoginPage</code> has two buttons: one for reaching the <code>CheckoutPage</code> (with <code>ValueKey('Subscribe')</code> and the other for reaching the <code>DashboardPage</code> (with <code>ValueKey('Login')</code>).</p>\n<p><strong>Code</strong></p>\n<p>My <em>integration_test/main_test.dart</em> looks as follows:</p>\n<pre><code>void main() {\n  IntegrationTestWidgetsFlutterBinding.ensureInitialized();\n\n  group('end to end test', () {\n    // setUp(() async {\n    //   app.main();\n    // });\n    testWidgets(\n        'Given textfields for Email and Password, When correct values are entered, Then user is taken to their DashboardPage',\n        (tester) async {\n      // Arrange\n      app.main();\n\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n\n      // Act\n      Finder emailTextField = find.byKey(const ValueKey('EmailAddress'));\n      Finder passwordTextField = find.byKey(const ValueKey('Password'));\n      Finder loginButton = find.byKey(const ValueKey('Login'));\n      Finder dashboardPage = find.byType(DashboardPage);\n\n      // Assert\n      expect(emailTextField, findsOneWidget);\n      expect(passwordTextField, findsOneWidget);\n      expect(loginButton, findsOneWidget);\n\n      await tester.enterText(emailTextField, 'ayan@qolarisdata.com');\n      await Future.delayed(const Duration(seconds: 2));\n\n      await tester.enterText(passwordTextField, 'Test@123');\n      await Future.delayed(const Duration(seconds: 4));\n\n      await tester.tap(loginButton);\n      await tester.pumpAndSettle();\n\n      expect(dashboardPage, findsOneWidget);\n      await Future.delayed(const Duration(seconds: 5));\n    });\n    testWidgets(\n        'Given a Subscribe button, When the button is tapped on, Then the user is taken to Checkout screen',\n        (tester) async {\n      app.main();\n      // await tester.pumpWidget(const app.MainApp());\n\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n\n      expect(find.byKey(const ValueKey('Subscribe')), findsOneWidget);\n      await tester.tap(find.byKey(const ValueKey('Subscribe')));\n      await tester.pumpAndSettle();\n\n      expect(find.byType(CheckoutPage), findsOneWidget);\n      await Future.delayed(const Duration(seconds: 5));\n    });\n  });\n}\n</code></pre>\n<p><strong>Problem</strong></p>\n<p>When I run the test at group level, the first test runs successfully and then the second test fails with the following error: <strong>The following TestFailure was thrown running a test:\nExpected: exactly one matching candidate\nActual: _KeyWidgetFinder:&lt;Found 0 widgets with key [&lt;'Subscribe'&gt;]: []&gt;</strong></p>\n<p>However, when I run only this second test, it passes.</p>\n<p>I suspect that in a group, once the first test completes, the app is taken to the <code>DashboardPage</code>. When the second test starts, the app probably doesn't start from the <code>LoginPage</code> again.</p>\n<p>I have tried commenting out <code>app.main()</code> and placing <code>await tester.pumpWidget(const app.MainApp());</code> or</p>\n<pre><code>await tester.pumpWidget(\n      MaterialApp.router(\n        routerConfig: GoRouteInformation.router,\n      ),\n    );\n</code></pre>\n<p>but keep getting the same error.</p>\n<p><strong>Request</strong></p>\n<p>I would like to know what is causing the second test to fail when run in a group and what changes I need to make to rectify my code to enable both tests to pass while run in a group.</p>\n",
        "codigo": [
            "LoginPage",
            "CheckoutPage",
            "DashboardPage",
            "LoginPage",
            "CheckoutPage",
            "ValueKey('Subscribe')",
            "DashboardPage",
            "ValueKey('Login')",
            "void main() {\n  IntegrationTestWidgetsFlutterBinding.ensureInitialized();\n\n  group('end to end test', () {\n    // setUp(() async {\n    //   app.main();\n    // });\n    testWidgets(\n        'Given textfields for Email and Password, When correct values are entered, Then user is taken to their DashboardPage',\n        (tester) async {\n      // Arrange\n      app.main();\n\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n\n      // Act\n      Finder emailTextField = find.byKey(const ValueKey('EmailAddress'));\n      Finder passwordTextField = find.byKey(const ValueKey('Password'));\n      Finder loginButton = find.byKey(const ValueKey('Login'));\n      Finder dashboardPage = find.byType(DashboardPage);\n\n      // Assert\n      expect(emailTextField, findsOneWidget);\n      expect(passwordTextField, findsOneWidget);\n      expect(loginButton, findsOneWidget);\n\n      await tester.enterText(emailTextField, 'ayan@qolarisdata.com');\n      await Future.delayed(const Duration(seconds: 2));\n\n      await tester.enterText(passwordTextField, 'Test@123');\n      await Future.delayed(const Duration(seconds: 4));\n\n      await tester.tap(loginButton);\n      await tester.pumpAndSettle();\n\n      expect(dashboardPage, findsOneWidget);\n      await Future.delayed(const Duration(seconds: 5));\n    });\n    testWidgets(\n        'Given a Subscribe button, When the button is tapped on, Then the user is taken to Checkout screen',\n        (tester) async {\n      app.main();\n      // await tester.pumpWidget(const app.MainApp());\n\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n\n      expect(find.byKey(const ValueKey('Subscribe')), findsOneWidget);\n      await tester.tap(find.byKey(const ValueKey('Subscribe')));\n      await tester.pumpAndSettle();\n\n      expect(find.byType(CheckoutPage), findsOneWidget);\n      await Future.delayed(const Duration(seconds: 5));\n    });\n  });\n}\n",
            "DashboardPage",
            "LoginPage",
            "app.main()",
            "await tester.pumpWidget(const app.MainApp());",
            "await tester.pumpWidget(\n      MaterialApp.router(\n        routerConfig: GoRouteInformation.router,\n      ),\n    );\n"
        ]
    },
    {
        "titulo": "How to mock a `FutureProvider.autodispose`?",
        "score": 0,
        "views": 113,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77707545/how-to-mock-a-futureprovider-autodispose",
        "conteudo_html": "<p>Consider the following provider:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>final provider = FutureProvider.autoDispose&lt;Metadata&gt;(\n  (ref) async {\n    final response = await ref.read(service).run();\n    return response;\n  },\n  dependencies: [service],\n  name: 'provider',\n);\n</code></pre>\n<p>I would like to mock this provider to be able to manipulate its state (<code>AsyncData</code>, <code>AsyncError</code>, etc..). Currently I have the following code:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>abstract class _Create&lt;T&gt; {\n  FutureOr&lt;T&gt; call(AutoDisposeFutureProviderRef&lt;T&gt; ref);\n}\n\nclass _ProviderCreate extends Mock implements _Create&lt;Metadata&gt; {}\n\ntest('test', () async {\n      final mockFunction = _ProviderCreate();\n      final container = ProviderContainer(\n        overrides: [\n          provider.overrideWith(mockFunction),\n        ],\n      );\n      final listener = ListenerMock&lt;HomeScreenMetadata&gt;();\n      // homePageProvider is a second provider that watch `provider`\n      container.listen&lt;HomePageMetadata&gt;(homePageProvider, listener, fireImmediately: true);\n\n      when(() =&gt; mockFunction.call(any())).thenAnswer((_) async {\n        // This mock is never called\n        print(&quot;called&quot;);\n        ...\n      });\n\n      await container.pump();\n      \n      const homePageUnloaded = HomePageMetadata(loaded: false);\n      const homePageLoaded = HomeScreenMetadata(loaded: true);\n\n      verifyInOrder(\n        [\n          () =&gt; listener(null, homePageUnloaded),\n          () =&gt; listener(homePageUnloaded, homePageLoaded),\n        ],\n      );\n\n      verifyNoMoreInteractions(listener);\n    });\n</code></pre>\n<p>But the mock of <code>mockFunction</code> is never called for some reason.</p>\n",
        "codigo": [
            "final provider = FutureProvider.autoDispose<Metadata>(\n  (ref) async {\n    final response = await ref.read(service).run();\n    return response;\n  },\n  dependencies: [service],\n  name: 'provider',\n);\n",
            "AsyncData",
            "AsyncError",
            "abstract class _Create<T> {\n  FutureOr<T> call(AutoDisposeFutureProviderRef<T> ref);\n}\n\nclass _ProviderCreate extends Mock implements _Create<Metadata> {}\n\ntest('test', () async {\n      final mockFunction = _ProviderCreate();\n      final container = ProviderContainer(\n        overrides: [\n          provider.overrideWith(mockFunction),\n        ],\n      );\n      final listener = ListenerMock<HomeScreenMetadata>();\n      // homePageProvider is a second provider that watch `provider`\n      container.listen<HomePageMetadata>(homePageProvider, listener, fireImmediately: true);\n\n      when(() => mockFunction.call(any())).thenAnswer((_) async {\n        // This mock is never called\n        print(\"called\");\n        ...\n      });\n\n      await container.pump();\n      \n      const homePageUnloaded = HomePageMetadata(loaded: false);\n      const homePageLoaded = HomeScreenMetadata(loaded: true);\n\n      verifyInOrder(\n        [\n          () => listener(null, homePageUnloaded),\n          () => listener(homePageUnloaded, homePageLoaded),\n        ],\n      );\n\n      verifyNoMoreInteractions(listener);\n    });\n",
            "mockFunction"
        ]
    },
    {
        "titulo": "Unable to test navigation using GoRouter in my Flutter app",
        "score": 3,
        "views": 2229,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77703670/unable-to-test-navigation-using-gorouter-in-my-flutter-app",
        "conteudo_html": "<p><strong>Scenario</strong></p>\n<p>I am new to widget testing and GoRouter. I have a very simple test case:</p>\n<ul>\n<li>There are two screens - <code>LoginPage</code> which loads as the first screen, and a <code>CheckoutPage</code></li>\n<li><code>LoginPage</code> has a button. Once I tap on it, I'm being taken to the <code>CheckoutPage</code>.</li>\n</ul>\n<p>I am using GoRouter for my navigation.</p>\n<p><strong>Code</strong></p>\n<p>Here is how the <code>MaterialApp</code> is set up in <em>main.dart</em>:</p>\n<pre><code>MaterialApp.router(\n            debugShowCheckedModeBanner: false,\n            routerConfig: GoRouteInformation.router,\n            title: &quot;Neon Student&quot;,\n          ),\n</code></pre>\n<p>Here are the <code>routerConfig</code> and <code>RouteNames</code> classes:</p>\n<p><em><strong>RouterConfig</strong></em></p>\n<pre><code>class GoRouteInformation {\n  static final GoRouter router = GoRouter(\n    routes: [\n      GoRoute(\n        path: '/',\n        name: RouteNames.login,\n        builder: (context, state) =&gt; const LoginPage(),\n        routes: [\n          GoRoute(\n            path: 'checkout',\n            name: RouteNames.checkout,\n            builder: (context, state) =&gt; const CheckoutPage(),\n          ),\n        ],\n      ),\n    ],\n  );\n}\n</code></pre>\n<p><em><strong>RouteNames</strong></em></p>\n<pre><code>class RouteNames {\n  static const String login = 'login';\n  static const String checkout = 'checkout';\n}\n</code></pre>\n<p>The following is the code in <em>loginpage_test.dart</em>:</p>\n<pre><code>testWidgets('Navigates from LoginPage to CheckoutPage', (WidgetTester tester) async {\n    await tester.pumpWidget(const MainApp());\n    await tester.pumpWidget(const MaterialApp(home: LoginPage()));\n\n    expect(find.byType(LoginSection), findsOneWidget);\n    expect(find.byType(SplitDivider), findsOneWidget);\n\n    Finder subscribeButton = find.byKey(const ValueKey('Subscribe'));\n    expect(subscribeButton, findsOneWidget);\n\n    await tester.tap(subscribeButton);\n    await tester.pumpAndSettle();\n\n    expect(find.byType(CheckoutPage), findsOneWidget);\n  });\n</code></pre>\n<p><strong>EDIT:</strong> Here is my <em>main.dart</em></p>\n<pre><code>void main() {\n  runApp(const MainApp());\n}\n\nclass MainApp extends StatelessWidget {\n  const MainApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return ScreenUtilInit(\n      designSize: const Size(428, 926),\n      minTextAdapt: true,\n      splitScreenMode: true,\n      builder: (_, child) {\n        return GestureDetector(\n          onTap: () {\n            FocusManager.instance.primaryFocus?.unfocus();\n          },\n          behavior: HitTestBehavior.opaque,\n          child: MaterialApp.router(\n            debugShowCheckedModeBanner: false,\n            routerConfig: GoRouteInformation.router,\n            title: &quot;Neon Student&quot;,\n          ),\n        );\n      },\n    );\n  }\n}\n</code></pre>\n<p><strong>Problem</strong></p>\n<p>When I run <strong>flutter test</strong>, I get the following error:</p>\n<ol>\n<li><strong>The following assertion was thrown while handling a gesture:\nNo GoRouter found in context\n'package:go_router/src/router.dart':\nFailed assertion: line 507 pos 12: 'inherited != null'</strong></li>\n<li><strong>The following TestFailure was thrown running a test:\nExpected: exactly one matching candidate\nActual: _TypeWidgetFinder:&lt;Found 0 widgets with type &quot;CheckoutPage&quot;: []&gt;\nWhich: means none were found but one was expected</strong></li>\n</ol>\n<p><strong>Request</strong></p>\n<p>I would like to know what is wrong in my widget test code which is causing the test to fail and how to rectify it.</p>\n",
        "codigo": [
            "LoginPage",
            "CheckoutPage",
            "LoginPage",
            "CheckoutPage",
            "MaterialApp",
            "MaterialApp.router(\n            debugShowCheckedModeBanner: false,\n            routerConfig: GoRouteInformation.router,\n            title: \"Neon Student\",\n          ),\n",
            "routerConfig",
            "RouteNames",
            "class GoRouteInformation {\n  static final GoRouter router = GoRouter(\n    routes: [\n      GoRoute(\n        path: '/',\n        name: RouteNames.login,\n        builder: (context, state) => const LoginPage(),\n        routes: [\n          GoRoute(\n            path: 'checkout',\n            name: RouteNames.checkout,\n            builder: (context, state) => const CheckoutPage(),\n          ),\n        ],\n      ),\n    ],\n  );\n}\n",
            "class RouteNames {\n  static const String login = 'login';\n  static const String checkout = 'checkout';\n}\n",
            "testWidgets('Navigates from LoginPage to CheckoutPage', (WidgetTester tester) async {\n    await tester.pumpWidget(const MainApp());\n    await tester.pumpWidget(const MaterialApp(home: LoginPage()));\n\n    expect(find.byType(LoginSection), findsOneWidget);\n    expect(find.byType(SplitDivider), findsOneWidget);\n\n    Finder subscribeButton = find.byKey(const ValueKey('Subscribe'));\n    expect(subscribeButton, findsOneWidget);\n\n    await tester.tap(subscribeButton);\n    await tester.pumpAndSettle();\n\n    expect(find.byType(CheckoutPage), findsOneWidget);\n  });\n",
            "void main() {\n  runApp(const MainApp());\n}\n\nclass MainApp extends StatelessWidget {\n  const MainApp({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return ScreenUtilInit(\n      designSize: const Size(428, 926),\n      minTextAdapt: true,\n      splitScreenMode: true,\n      builder: (_, child) {\n        return GestureDetector(\n          onTap: () {\n            FocusManager.instance.primaryFocus?.unfocus();\n          },\n          behavior: HitTestBehavior.opaque,\n          child: MaterialApp.router(\n            debugShowCheckedModeBanner: false,\n            routerConfig: GoRouteInformation.router,\n            title: \"Neon Student\",\n          ),\n        );\n      },\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "`StateNotifierProvider` test doesn&#39;t catch initial state",
        "score": 0,
        "views": 48,
        "respostas": 1,
        "tags": [
            "dart",
            "riverpod"
        ],
        "link": "https://stackoverflow.com/questions/77692425/statenotifierprovider-test-doesnt-catch-initial-state",
        "conteudo_html": "<p>I'm writing unit tests for my <code>StateNotifierProvider</code> but I'm facing a strange scenario when testing the failure scenario. For some reason, the unit test is not capturing the initial state. Here's the provider implementation:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>final paymentBundleVM = StateNotifierProvider.autoDispose&lt;PaymentBundleVM, PaymentBundleState&gt;(\n  (ref) =&gt; PaymentBundleVM(ref.read(getPaymentBundleUseCase), ref.read(createPaymentBundleUseCase)),\n  dependencies: [getPaymentBundleUseCase, createPaymentBundleUseCase],\n  name: 'paymentBundleVM',\n);\n\nclass PaymentBundleVM extends StateNotifier&lt;PaymentBundleState&gt; {\n  PaymentBundleVM(this._getBundleUseCase, this._createBundleUseCase) : super(PaymentBundleLoading()) {\n    unawaited(_loadDependencies());\n  }\n\n  final GetPaymentBundleUseCase _getBundleUseCase;\n  final CreatePaymentBundleUseCase _createBundleUseCase;\n\n  Future&lt;void&gt; _loadDependencies() async {\n    try {\n      final bundle = await _getBundleUseCase.run();\n      if (mounted) {\n        if (bundle != null)\n          state = PaymentBundleLoaded(bundle);\n        else\n          state = PaymentBundleDisabled();\n      }\n    } on BaseException catch (exception) {\n      if (mounted) state = PaymentBundleFailedLoadingState(exception);\n    }\n  }\n}\n\nabstract class PaymentBundleState extends Equatable {\n  @override\n  List&lt;Object?&gt; get props =&gt; [];\n}\n\nclass PaymentBundleLoading extends PaymentBundleState {}\n\nclass PaymentBundleDisabled extends PaymentBundleState {}\n\nclass PaymentBundleLoaded extends PaymentBundleState {\n  PaymentBundleLoaded(this.bundle);\n\n  final PaymentBundle bundle;\n\n  @override\n  List&lt;Object?&gt; get props =&gt; [...super.props, bundle];\n}\n\nclass PaymentBundleFailedLoadingState extends PaymentBundleState {\n  PaymentBundleFailedLoadingState(this.exception);\n\n  final BaseException exception;\n\n  @override\n  List&lt;Object?&gt; get props =&gt; [...super.props, exception];\n}\n</code></pre>\n<p>And here's my unit test code:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void main() {\n  final getPaymentBundleUseCaseMock = GetPaymentBundleUseCaseMock();\n  final createPaymentBundleUseCaseMock = CreatePaymentBundleUseCaseMock();\n\n  late ProviderContainer container;\n\n  final fakeBundle = PaymentBundleMock();\n\n  setUp(() {\n    container = ProviderContainer(\n      overrides: [\n        getPaymentBundleUseCase.overrideWith((ref) =&gt; getPaymentBundleUseCaseMock),\n        createPaymentBundleUseCase.overrideWith((ref) =&gt; createPaymentBundleUseCaseMock),\n      ],\n    );\n  });\n\n  tearDown(() {\n    reset(getPaymentBundleUseCaseMock);\n    reset(createPaymentBundleUseCaseMock);\n  });\n\n  test('test A', () async {\n    when(getPaymentBundleUseCaseMock.run).thenAnswer((_) =&gt; Future.value(fakeBundle));\n    final listener = ListenerMock&lt;PaymentBundleState&gt;();\n    container.listen&lt;PaymentBundleState&gt;(paymentBundleVM, listener, fireImmediately: true);\n\n    await container.pump();\n\n    verifyInOrder(\n      [\n        () =&gt; listener(null, PaymentBundleLoading()),\n        () =&gt; listener(PaymentBundleLoading(), PaymentBundleLoaded(fakeBundle)),\n      ],\n    );\n\n    verifyNoMoreInteractions(listener);\n  });\n\n  test('test B', () async {\n    when(getPaymentBundleUseCaseMock.run).thenAnswer((_) =&gt; Future.value());\n    final listener = ListenerMock&lt;PaymentBundleState&gt;();\n    container.listen&lt;PaymentBundleState&gt;(paymentBundleVM, listener, fireImmediately: true);\n\n    await container.pump();\n\n    verifyInOrder(\n      [\n        () =&gt; listener(null, PaymentBundleLoading()),\n        () =&gt; listener(PaymentBundleLoading(), PaymentBundleDisabled()),\n      ],\n    );\n\n    verifyNoMoreInteractions(listener);\n  });\n\n  test('test C', () async {\n    final exception = HttpException.handshake();\n    when(getPaymentBundleUseCaseMock.run).thenThrow(exception);\n    final listener = ListenerMock&lt;PaymentBundleState&gt;();\n    container.listen&lt;PaymentBundleState&gt;(paymentBundleVM, listener, fireImmediately: true);\n\n    await container.pump();\n\n    verifyInOrder(\n      [\n        () =&gt; listener(null, PaymentBundleLoading()),\n        () =&gt; listener(PaymentBundleLoading(), PaymentBundleFailedLoadingState(exception)),\n      ],\n    );\n\n    verifyNoMoreInteractions(listener);\n  });\n}\n</code></pre>\n<p>What feels strange to me is that <code>test A</code> and <code>test B</code> work as expected, but the third one throws the issue:</p>\n<pre><code>Matching call #0 not found. All calls: ListenerMock&lt;PaymentBundleState&gt;.call(\n    null,\n    PaymentBundleFailedLoadingState(        [BaseException - handshakeHttp] null.\n      Server message: null\n      User message: null\n      \n          statusCode: null\n        ))\n</code></pre>\n<p>So basically this test is considering that the first state of the <code>StateNotifierProvider</code> is <code>null</code> and after that, it transition directly to <code>PaymentBundleFailedLoadingState</code>. The question is, why the <code>PaymentBundleLoading</code> isn't being considered in the state stack since it's the first state emitted when the provider is instantiated? The expected state stack should be <code>null -&gt; loading -&gt; failedLoading</code> from my understanding, and not <code>null -&gt; failedLoading</code></p>\n",
        "codigo": [
            "StateNotifierProvider",
            "final paymentBundleVM = StateNotifierProvider.autoDispose<PaymentBundleVM, PaymentBundleState>(\n  (ref) => PaymentBundleVM(ref.read(getPaymentBundleUseCase), ref.read(createPaymentBundleUseCase)),\n  dependencies: [getPaymentBundleUseCase, createPaymentBundleUseCase],\n  name: 'paymentBundleVM',\n);\n\nclass PaymentBundleVM extends StateNotifier<PaymentBundleState> {\n  PaymentBundleVM(this._getBundleUseCase, this._createBundleUseCase) : super(PaymentBundleLoading()) {\n    unawaited(_loadDependencies());\n  }\n\n  final GetPaymentBundleUseCase _getBundleUseCase;\n  final CreatePaymentBundleUseCase _createBundleUseCase;\n\n  Future<void> _loadDependencies() async {\n    try {\n      final bundle = await _getBundleUseCase.run();\n      if (mounted) {\n        if (bundle != null)\n          state = PaymentBundleLoaded(bundle);\n        else\n          state = PaymentBundleDisabled();\n      }\n    } on BaseException catch (exception) {\n      if (mounted) state = PaymentBundleFailedLoadingState(exception);\n    }\n  }\n}\n\nabstract class PaymentBundleState extends Equatable {\n  @override\n  List<Object?> get props => [];\n}\n\nclass PaymentBundleLoading extends PaymentBundleState {}\n\nclass PaymentBundleDisabled extends PaymentBundleState {}\n\nclass PaymentBundleLoaded extends PaymentBundleState {\n  PaymentBundleLoaded(this.bundle);\n\n  final PaymentBundle bundle;\n\n  @override\n  List<Object?> get props => [...super.props, bundle];\n}\n\nclass PaymentBundleFailedLoadingState extends PaymentBundleState {\n  PaymentBundleFailedLoadingState(this.exception);\n\n  final BaseException exception;\n\n  @override\n  List<Object?> get props => [...super.props, exception];\n}\n",
            "void main() {\n  final getPaymentBundleUseCaseMock = GetPaymentBundleUseCaseMock();\n  final createPaymentBundleUseCaseMock = CreatePaymentBundleUseCaseMock();\n\n  late ProviderContainer container;\n\n  final fakeBundle = PaymentBundleMock();\n\n  setUp(() {\n    container = ProviderContainer(\n      overrides: [\n        getPaymentBundleUseCase.overrideWith((ref) => getPaymentBundleUseCaseMock),\n        createPaymentBundleUseCase.overrideWith((ref) => createPaymentBundleUseCaseMock),\n      ],\n    );\n  });\n\n  tearDown(() {\n    reset(getPaymentBundleUseCaseMock);\n    reset(createPaymentBundleUseCaseMock);\n  });\n\n  test('test A', () async {\n    when(getPaymentBundleUseCaseMock.run).thenAnswer((_) => Future.value(fakeBundle));\n    final listener = ListenerMock<PaymentBundleState>();\n    container.listen<PaymentBundleState>(paymentBundleVM, listener, fireImmediately: true);\n\n    await container.pump();\n\n    verifyInOrder(\n      [\n        () => listener(null, PaymentBundleLoading()),\n        () => listener(PaymentBundleLoading(), PaymentBundleLoaded(fakeBundle)),\n      ],\n    );\n\n    verifyNoMoreInteractions(listener);\n  });\n\n  test('test B', () async {\n    when(getPaymentBundleUseCaseMock.run).thenAnswer((_) => Future.value());\n    final listener = ListenerMock<PaymentBundleState>();\n    container.listen<PaymentBundleState>(paymentBundleVM, listener, fireImmediately: true);\n\n    await container.pump();\n\n    verifyInOrder(\n      [\n        () => listener(null, PaymentBundleLoading()),\n        () => listener(PaymentBundleLoading(), PaymentBundleDisabled()),\n      ],\n    );\n\n    verifyNoMoreInteractions(listener);\n  });\n\n  test('test C', () async {\n    final exception = HttpException.handshake();\n    when(getPaymentBundleUseCaseMock.run).thenThrow(exception);\n    final listener = ListenerMock<PaymentBundleState>();\n    container.listen<PaymentBundleState>(paymentBundleVM, listener, fireImmediately: true);\n\n    await container.pump();\n\n    verifyInOrder(\n      [\n        () => listener(null, PaymentBundleLoading()),\n        () => listener(PaymentBundleLoading(), PaymentBundleFailedLoadingState(exception)),\n      ],\n    );\n\n    verifyNoMoreInteractions(listener);\n  });\n}\n",
            "test A",
            "test B",
            "Matching call #0 not found. All calls: ListenerMock<PaymentBundleState>.call(\n    null,\n    PaymentBundleFailedLoadingState(        [BaseException - handshakeHttp] null.\n      Server message: null\n      User message: null\n      \n          statusCode: null\n        ))\n",
            "StateNotifierProvider",
            "null",
            "PaymentBundleFailedLoadingState",
            "PaymentBundleLoading",
            "null -> loading -> failedLoading",
            "null -> failedLoading"
        ]
    },
    {
        "titulo": "Experiencing unexpected bottom padding with SingleChildScrollView in Flutter",
        "score": 0,
        "views": 71,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77686080/experiencing-unexpected-bottom-padding-with-singlechildscrollview-in-flutter",
        "conteudo_html": "<p>I am experiencing unexpected bottom padding when using SingleChildScrollView in Flutter.</p>\n<p>I have attempted to resolve the issue by setting padding: EdgeInsets.zero in the SingleChildScrollView, but the bottom padding persists. Notably, I am using Flutter version 3.16.3 in the stable channel.</p>\n<p>If you have any insights or suggestions on how to eliminate this unexpected bottom padding, I would greatly appreciate your assistance.</p>\n<p><a href=\"https://i.sstatic.net/egEJq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/egEJq.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here is my code</p>\n<pre><code>Scaffold(\n  body: Container(\n    decoration: const BoxDecoration(\n      gradient: AppColors.bgGradient,\n    ),\n    child: SingleChildScrollView(\n      padding: EdgeInsets.zero,\n      child: Center(\n        child: Form(\n          key: _formKey,\n          child: Column(\n            mainAxisAlignment: MainAxisAlignment.center,\n            crossAxisAlignment: CrossAxisAlignment.center,\n            children: &lt;Widget&gt;[\n              Container(\n                height: scWidth - 100.w,\n                width: scWidth - 100.w,\n                decoration: BoxDecoration(\n                  borderRadius: BorderRadius.circular(10.r),\n                  border:\n                      Border.all(color: AppColors.evTemplateGreen, width: 2),\n                ),\n                child: ClipRRect(\n                  borderRadius: BorderRadius.circular(10.r),\n                  child: QRView(\n                    key: qrKey,\n                    onQRViewCreated: _onQRViewCreated,\n                  ),\n                ),\n              ),\n              height20H,\n              AnimatedTextKit(\n                animatedTexts: [\n                  ColorizeAnimatedText('Scan Device QR Code!',\n                      textStyle: ts22Bold(clr: AppColors.white),\n                      colors: [\n                        AppColors.evTemplateGreen,\n                        AppColors.appPurple\n                      ]),\n                ],\n                totalRepeatCount: 2,\n                pause: const Duration(milliseconds: 1),\n                displayFullTextOnTap: true,\n                stopPauseOnTap: true,\n              ),\n              height10H,\n              Padding(\n                padding: EdgeInsets.symmetric(horizontal: 30.w),\n                child: CustomWidgets.orDivider(),\n              ),\n              height20H,\n              Padding(\n                padding: EdgeInsets.symmetric(horizontal: 40.w),\n                child: InputTextField(\n                    validator: (value) {\n                      if (value == null || value.isEmpty) {\n                        return 'Device Id is required';\n                      }\n                      return null;\n                    },\n                    controller: deviceIdCont,\n                    hintText: 'Device Id'),\n              ),\n              height20H,\n\n              Padding(\n                padding: EdgeInsets.symmetric(horizontal: 40.w),\n                child: CustomButtons.mainButton(\n                    onTap: () {\n                      Get.to(() =&gt; const PlugInCar());\n                    },\n                    title: 'Verify',\n                    bgClr: AppColors.evTemplateGreen,\n                    titleClr: AppColors.black),\n              ),\n              // Padding(\n              //   padding:  EdgeInsets.symmetric(horizontal: 50.w),\n              //   child:  const Divider(\n              //       color: AppColors.grey, thickness: 1.5),\n              // ),\n\n              // Text('Scan Device QR Code', style: tsWhite18Bold,),\n            ],\n          ),\n        ),\n      ),\n    ),\n  ),\n);\n</code></pre>\n",
        "codigo": [
            "Scaffold(\n  body: Container(\n    decoration: const BoxDecoration(\n      gradient: AppColors.bgGradient,\n    ),\n    child: SingleChildScrollView(\n      padding: EdgeInsets.zero,\n      child: Center(\n        child: Form(\n          key: _formKey,\n          child: Column(\n            mainAxisAlignment: MainAxisAlignment.center,\n            crossAxisAlignment: CrossAxisAlignment.center,\n            children: <Widget>[\n              Container(\n                height: scWidth - 100.w,\n                width: scWidth - 100.w,\n                decoration: BoxDecoration(\n                  borderRadius: BorderRadius.circular(10.r),\n                  border:\n                      Border.all(color: AppColors.evTemplateGreen, width: 2),\n                ),\n                child: ClipRRect(\n                  borderRadius: BorderRadius.circular(10.r),\n                  child: QRView(\n                    key: qrKey,\n                    onQRViewCreated: _onQRViewCreated,\n                  ),\n                ),\n              ),\n              height20H,\n              AnimatedTextKit(\n                animatedTexts: [\n                  ColorizeAnimatedText('Scan Device QR Code!',\n                      textStyle: ts22Bold(clr: AppColors.white),\n                      colors: [\n                        AppColors.evTemplateGreen,\n                        AppColors.appPurple\n                      ]),\n                ],\n                totalRepeatCount: 2,\n                pause: const Duration(milliseconds: 1),\n                displayFullTextOnTap: true,\n                stopPauseOnTap: true,\n              ),\n              height10H,\n              Padding(\n                padding: EdgeInsets.symmetric(horizontal: 30.w),\n                child: CustomWidgets.orDivider(),\n              ),\n              height20H,\n              Padding(\n                padding: EdgeInsets.symmetric(horizontal: 40.w),\n                child: InputTextField(\n                    validator: (value) {\n                      if (value == null || value.isEmpty) {\n                        return 'Device Id is required';\n                      }\n                      return null;\n                    },\n                    controller: deviceIdCont,\n                    hintText: 'Device Id'),\n              ),\n              height20H,\n\n              Padding(\n                padding: EdgeInsets.symmetric(horizontal: 40.w),\n                child: CustomButtons.mainButton(\n                    onTap: () {\n                      Get.to(() => const PlugInCar());\n                    },\n                    title: 'Verify',\n                    bgClr: AppColors.evTemplateGreen,\n                    titleClr: AppColors.black),\n              ),\n              // Padding(\n              //   padding:  EdgeInsets.symmetric(horizontal: 50.w),\n              //   child:  const Divider(\n              //       color: AppColors.grey, thickness: 1.5),\n              // ),\n\n              // Text('Scan Device QR Code', style: tsWhite18Bold,),\n            ],\n          ),\n        ),\n      ),\n    ),\n  ),\n);\n"
        ]
    },
    {
        "titulo": "PlatformException (PlatformException(ERROR_INVALID_CREDENTIAL, The supplied auth credential is incorrect, malformed or has expired., {}, null))",
        "score": 0,
        "views": 534,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/77661591/platformexception-platformexceptionerror-invalid-credential-the-supplied-auth",
        "conteudo_html": "<p>I faced an issue with email sign in method every time i test the app to login with invalid email I got an exception that told me PlatformExcepitnon Invalid Credentials Which i handled it in my login_Cubit class i have tried to update latest version of firebase_auth and firebase_core but still the issue same</p>\n<pre><code> Future&lt;void&gt; loginWithEmail(String email, String password) async {\n emit(LoginLoading());\ntry {\n  UserCredential userCredential =\n      await _authService.signInWithEmailAndPassword(email, password);\n  emit(LoginSuccess(userCredential.user!));\n} on FirebaseAuthException catch (e) {\n  // Handle Firebase exceptions\n  String errorMessage = _handleFirebaseAuthException(e);\n  emit(LoginFailure(errorMessage));\n} on PlatformException catch (e) {\n  // Handle platform exceptions\n  emit(LoginFailure(_handlePlatformException(e)));\n} catch (e) {\n  // Handle other exceptions\n  emit(LoginFailure(&quot;An unexpected error occurred&quot;));\n  }\n}\n\nString _handlePlatformException(PlatformException e) {\n// Handle specific platform exceptions\n// The error handling here depends on the specific exceptions you expect\n// For instance, handling Google Sign-In or Apple Sign-In errors\nswitch (e.code) {\n  case 'ERROR_GOOGLE_SIGN_IN_FAILED':\n    return &quot;Google sign-in failed. Please try again.&quot;;\n  // ERROR_INVALID_CREDENTIAL\n  case 'ERROR_INVALID_CREDENTIAL':\n    return &quot;Invalid Email Credentials.&quot;;\n  // Add more cases as needed\n  default:\n    return &quot;An error occurred on the platform side: ${e.message}&quot;;\n  }\n }\n</code></pre>\n<p>this login screen</p>\n<pre><code> body: BlocConsumer&lt;LoginCubit, LoginState&gt;(\n            listener: (context, state) {\n          if (state is LoginSuccess) {\n            debugPrint('Login Is Succusseflly');\n            context.goNamed(AppRoutes.bottomNavBarRoute);\n          } else if (state is LoginFailure) {\n            showDialog(\n                context: context,\n                builder: (context) =&gt; AlertDialog(\n                      actions: [\n                        TextButton(\n                            onPressed: () {\n                              Navigator.of(context).pop();\n                            },\n                            child: const Text('Close'))\n                      ],\n                      title: const Text('Alert'),\n                      icon: SvgPicture.asset('assets/alert.svg'),\n                      contentPadding: const EdgeInsets.all(20),\n                      content: Text(state.error),\n                    ));\n          }\n        }, builder: (context, state) {\n          if (state is LoginLoading) {\n            return const Center(\n              child: CircularProgressIndicator(),\n            );\n          }\n\n  if (_formKey.currentState!.validate()) {\n                              final email = _emailController.text;\n                              final password = _passwordController.text;\n                              BlocProvider.of&lt;LoginCubit&gt;(context)\n                                  .loginWithEmail(email, password);\n                            }\n</code></pre>\n<p>Firebase auth</p>\n<pre><code>     Future&lt;UserCredential&gt; signInWithEmailAndPassword(\n     String email, String password) async {\n     return await _firebaseAuth.signInWithEmailAndPassword(\n     email: email, password: password);\n</code></pre>\n<p>}</p>\n",
        "codigo": [
            " Future<void> loginWithEmail(String email, String password) async {\n emit(LoginLoading());\ntry {\n  UserCredential userCredential =\n      await _authService.signInWithEmailAndPassword(email, password);\n  emit(LoginSuccess(userCredential.user!));\n} on FirebaseAuthException catch (e) {\n  // Handle Firebase exceptions\n  String errorMessage = _handleFirebaseAuthException(e);\n  emit(LoginFailure(errorMessage));\n} on PlatformException catch (e) {\n  // Handle platform exceptions\n  emit(LoginFailure(_handlePlatformException(e)));\n} catch (e) {\n  // Handle other exceptions\n  emit(LoginFailure(\"An unexpected error occurred\"));\n  }\n}\n\nString _handlePlatformException(PlatformException e) {\n// Handle specific platform exceptions\n// The error handling here depends on the specific exceptions you expect\n// For instance, handling Google Sign-In or Apple Sign-In errors\nswitch (e.code) {\n  case 'ERROR_GOOGLE_SIGN_IN_FAILED':\n    return \"Google sign-in failed. Please try again.\";\n  // ERROR_INVALID_CREDENTIAL\n  case 'ERROR_INVALID_CREDENTIAL':\n    return \"Invalid Email Credentials.\";\n  // Add more cases as needed\n  default:\n    return \"An error occurred on the platform side: ${e.message}\";\n  }\n }\n",
            " body: BlocConsumer<LoginCubit, LoginState>(\n            listener: (context, state) {\n          if (state is LoginSuccess) {\n            debugPrint('Login Is Succusseflly');\n            context.goNamed(AppRoutes.bottomNavBarRoute);\n          } else if (state is LoginFailure) {\n            showDialog(\n                context: context,\n                builder: (context) => AlertDialog(\n                      actions: [\n                        TextButton(\n                            onPressed: () {\n                              Navigator.of(context).pop();\n                            },\n                            child: const Text('Close'))\n                      ],\n                      title: const Text('Alert'),\n                      icon: SvgPicture.asset('assets/alert.svg'),\n                      contentPadding: const EdgeInsets.all(20),\n                      content: Text(state.error),\n                    ));\n          }\n        }, builder: (context, state) {\n          if (state is LoginLoading) {\n            return const Center(\n              child: CircularProgressIndicator(),\n            );\n          }\n\n  if (_formKey.currentState!.validate()) {\n                              final email = _emailController.text;\n                              final password = _passwordController.text;\n                              BlocProvider.of<LoginCubit>(context)\n                                  .loginWithEmail(email, password);\n                            }\n",
            "     Future<UserCredential> signInWithEmailAndPassword(\n     String email, String password) async {\n     return await _firebaseAuth.signInWithEmailAndPassword(\n     email: email, password: password);\n"
        ]
    },
    {
        "titulo": "UI of the flutter app is different in the released apk then that from the debug apk (eg: change in theme color of app, button size, etc.)",
        "score": 0,
        "views": 262,
        "respostas": 2,
        "tags": [
            "android",
            "flutter",
            "dart",
            "flutter-dependencies"
        ],
        "link": "https://stackoverflow.com/questions/77651767/ui-of-the-flutter-app-is-different-in-the-released-apk-then-that-from-the-debug",
        "conteudo_html": "<p>Changes observed in the UI of the released APK are:\nButton size got changed, overall theme color of the app got changed, size of images got reduced...</p>\n<p><strong>Message I am getting while building the released apk:</strong>\n`</p>\n<pre><code>e: C:/Users/yash/AndroidStudioProjects/new_leader_app/build/libphonenumber_plugin/.transforms/3956b74c61ac78f601aec837377fa8a1/transformed/out/jars/classes.jar!\n/META-INF/libphonenumber_plugin_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.6.0.\ne: C:/Users/yash/AndroidStudioProjects/new_leader_app/build/package_info_plus/.transforms/7ddc4ccbc2f5f29d002e8c3b83b7e293/transformed/out/jars/classes.jar!/MET\nA-INF/package_info_plus_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.6.0.\ne: C:/Users/yash/AndroidStudioProjects/new_leader_app/build/device_info_plus/.transforms/5158155ecc0275270d02ef58688272ae/transformed/out/jars/classes.jar!/META\n-INF/device_info_plus_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.6.0.\ne: C:/Users/yash/.gradle/caches/transforms-3/0c3448bdc54b24e2657ed2b98024dd6d/transformed/core-1.10.1/jars/classes.jar!/META-INF/core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/yash/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.9.0/8ee15ef0c67dc83d874f412d84378d7f0eb50b63/kotlin-stdlib-1.9.0.jar!/M\nETA-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.6.0.\ne: C:/Users/yash/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.9.0/8ee15ef0c67dc83d874f412d84378d7f0eb50b63/kotlin-stdlib-1.9.0.jar!/M\nETA-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.6.0.\ne: C:/Users/yash/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.9.0/8ee15ef0c67dc83d874f412d84378d7f0eb50b63/kotlin-stdlib-1.9.0.jar!/M\nETA-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.6.0.\ne: C:/Users/yash/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.9.0/cd65c21cfd1eec4d44ef09f9f52b6d9f8a720636/kotlin-stdlib-commo\nn-1.9.0.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.6.0.\n</code></pre>\n<p><strong>Solutions I have tried:</strong></p>\n<ol>\n<li>Changed the Kotlin version.</li>\n<li>Upgraded the Flutter dependencies.</li>\n<li>Removed Obfuscation while building the released apk.</li>\n<li>Implemented ProGuard in the flutter app.</li>\n</ol>\n",
        "codigo": [
            "e: C:/Users/yash/AndroidStudioProjects/new_leader_app/build/libphonenumber_plugin/.transforms/3956b74c61ac78f601aec837377fa8a1/transformed/out/jars/classes.jar!\n/META-INF/libphonenumber_plugin_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.6.0.\ne: C:/Users/yash/AndroidStudioProjects/new_leader_app/build/package_info_plus/.transforms/7ddc4ccbc2f5f29d002e8c3b83b7e293/transformed/out/jars/classes.jar!/MET\nA-INF/package_info_plus_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.6.0.\ne: C:/Users/yash/AndroidStudioProjects/new_leader_app/build/device_info_plus/.transforms/5158155ecc0275270d02ef58688272ae/transformed/out/jars/classes.jar!/META\n-INF/device_info_plus_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.6.0.\ne: C:/Users/yash/.gradle/caches/transforms-3/0c3448bdc54b24e2657ed2b98024dd6d/transformed/core-1.10.1/jars/classes.jar!/META-INF/core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/yash/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.9.0/8ee15ef0c67dc83d874f412d84378d7f0eb50b63/kotlin-stdlib-1.9.0.jar!/M\nETA-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.6.0.\ne: C:/Users/yash/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.9.0/8ee15ef0c67dc83d874f412d84378d7f0eb50b63/kotlin-stdlib-1.9.0.jar!/M\nETA-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.6.0.\ne: C:/Users/yash/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.9.0/8ee15ef0c67dc83d874f412d84378d7f0eb50b63/kotlin-stdlib-1.9.0.jar!/M\nETA-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.6.0.\ne: C:/Users/yash/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.9.0/cd65c21cfd1eec4d44ef09f9f52b6d9f8a720636/kotlin-stdlib-commo\nn-1.9.0.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.6.0.\n"
        ]
    },
    {
        "titulo": "How to rebuild a suggestionsBuilder from SearchAnchor manually?",
        "score": 6,
        "views": 1475,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "setstate",
            "rebuild"
        ],
        "link": "https://stackoverflow.com/questions/77644567/how-to-rebuild-a-suggestionsbuilder-from-searchanchor-manually",
        "conteudo_html": "<p>I want to use the <code>SearchAnchor</code> Widget, but unfortunately, I find no way to trigger a rebuild. I have tried many approaches to achieve something similar to what is shown in my picture <a href=\"https://i.sstatic.net/XP5Nd.png\" rel=\"nofollow noreferrer\">checklist inside <code>suggestionsBuilder</code></a>. However, it doesn't work because the widget only rebuilds if I enter new text, and the <code>SearchController</code> is triggered.</p>\n<p>I attempted using stateful widgets and changing the state, but it didn't work. I also tried <code>ValueListenableBuilder</code> and attempted to edit the <code>SearchController</code> manually, which is definitely not a valid solution and also didn't work. I even tried Riverpod Provider, as shown in the provided minimal code snippet.</p>\n<p>It's driving me crazy. Thank you for any help! :D</p>\n<p>Minimal Example with Riverpod to reproduce (I am using Flutter 3.16.3):</p>\n<pre><code>import 'dart:async';\nimport 'dart:developer';\n\nimport 'package:flutter/material.dart';\n\nimport 'package:riverpod_annotation/riverpod_annotation.dart';\nimport 'package:flutter_riverpod/flutter_riverpod.dart';\n\npart 'init_jobs_screen.g.dart';\n\nclass InitJobsScreen extends ConsumerWidget {\n  const InitJobsScreen({super.key});\n\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    //This value i want to display\n    int seconds = ref.watch(secondsCounterProvider);\n\n    final SecondsCounter notifier = ref.watch(secondsCounterProvider.notifier);\n    if (seconds == 0) {\n      callFunctionEverySecond(notifier);\n    }\n    return Scaffold(\n        appBar: AppBar(\n          title: const Text('Whats going on here?!'),\n        ),\n        body: Column(\n          children: [\n            Text('Here it works as expected $seconds'),\n\n            //Here the provider doesnt work -&gt; It drives me quazy\n            SearchAnchor.bar(\n                suggestionsBuilder: (context, controller) =&gt;\n                    [Text(ref.watch(secondsCounterProvider).toString())]),\n          ],\n        ));\n  }\n}\n\n//Provider i want to watch\n@riverpod\nclass SecondsCounter extends _$SecondsCounter {\n  @override\n  int build() =&gt; 0;\n\n  void incrementSeconds() =&gt; state++;\n}\n\n//increment seconds\nvoid callFunctionEverySecond(SecondsCounter notifier) {\n  // Call the function every second\n  Timer.periodic(const Duration(seconds: 1), (timer) {\n    log('increment Secondscounter');\n    notifier.incrementSeconds();\n  });\n}\n</code></pre>\n<p>I tried stateful widgets and changed the state, which didnt work, i tried ValueListenableBuilder, i tried to edit the SearchController manually (which is defentitly not a valid solutions and although didn't work), i tried Riverpod Provider like in the provided minimal code snippet</p>\n",
        "codigo": [
            "SearchAnchor",
            "suggestionsBuilder",
            "SearchController",
            "ValueListenableBuilder",
            "SearchController",
            "import 'dart:async';\nimport 'dart:developer';\n\nimport 'package:flutter/material.dart';\n\nimport 'package:riverpod_annotation/riverpod_annotation.dart';\nimport 'package:flutter_riverpod/flutter_riverpod.dart';\n\npart 'init_jobs_screen.g.dart';\n\nclass InitJobsScreen extends ConsumerWidget {\n  const InitJobsScreen({super.key});\n\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    //This value i want to display\n    int seconds = ref.watch(secondsCounterProvider);\n\n    final SecondsCounter notifier = ref.watch(secondsCounterProvider.notifier);\n    if (seconds == 0) {\n      callFunctionEverySecond(notifier);\n    }\n    return Scaffold(\n        appBar: AppBar(\n          title: const Text('Whats going on here?!'),\n        ),\n        body: Column(\n          children: [\n            Text('Here it works as expected $seconds'),\n\n            //Here the provider doesnt work -> It drives me quazy\n            SearchAnchor.bar(\n                suggestionsBuilder: (context, controller) =>\n                    [Text(ref.watch(secondsCounterProvider).toString())]),\n          ],\n        ));\n  }\n}\n\n//Provider i want to watch\n@riverpod\nclass SecondsCounter extends _$SecondsCounter {\n  @override\n  int build() => 0;\n\n  void incrementSeconds() => state++;\n}\n\n//increment seconds\nvoid callFunctionEverySecond(SecondsCounter notifier) {\n  // Call the function every second\n  Timer.periodic(const Duration(seconds: 1), (timer) {\n    log('increment Secondscounter');\n    notifier.incrementSeconds();\n  });\n}\n"
        ]
    },
    {
        "titulo": "I get this error while building my flutter app: Error running pod install flutter",
        "score": 1,
        "views": 1905,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "pod-install"
        ],
        "link": "https://stackoverflow.com/questions/77628352/i-get-this-error-while-building-my-flutter-app-error-running-pod-install-flutte",
        "conteudo_html": "<p>I get this error while building my Flutter app.</p>\n<pre><code>[!] Error installing BoringSSL-GRPC\n[!] /usr/bin/git clone https://github.com/google/boringssl.git /var/folders/tm/64d5mqbn3wb9kfg7rx4t0vrh0000gp/T/d20231208-2941-1ub811p --template=\n\nCloning into '/var/folders/tm/64d5mqbn3wb9kfg7rx4t0vrh0000gp/T/d20231208-2941-1ub811p'...\nerror: RPC failed; curl 18 HTTP/2 stream 5 was reset\nerror: 4614 bytes of body are still expected\nfetch-pack: unexpected disconnect while reading sideband packet\nfatal: early EOF\nfatal: fetch-pack: invalid index-pack output\n</code></pre>\n",
        "codigo": [
            "[!] Error installing BoringSSL-GRPC\n[!] /usr/bin/git clone https://github.com/google/boringssl.git /var/folders/tm/64d5mqbn3wb9kfg7rx4t0vrh0000gp/T/d20231208-2941-1ub811p --template=\n\nCloning into '/var/folders/tm/64d5mqbn3wb9kfg7rx4t0vrh0000gp/T/d20231208-2941-1ub811p'...\nerror: RPC failed; curl 18 HTTP/2 stream 5 was reset\nerror: 4614 bytes of body are still expected\nfetch-pack: unexpected disconnect while reading sideband packet\nfatal: early EOF\nfatal: fetch-pack: invalid index-pack output\n"
        ]
    },
    {
        "titulo": "How to fix XMLHttpRequest (CORS) exceptions on Flutter web projects",
        "score": 1,
        "views": 242,
        "respostas": 2,
        "tags": [
            "json",
            "flutter",
            "dart",
            "xmlhttprequest"
        ],
        "link": "https://stackoverflow.com/questions/77625229/how-to-fix-xmlhttprequest-cors-exceptions-on-flutter-web-projects",
        "conteudo_html": "<p>My problem</p>\n<p>Finally, I found the errors in my project and not related to null variables and were related to XMLHttpRequest (CORS) on Flutter web projects that I thought related to null variables. however, I decided to change my title topic and say what problem exists</p>\n<p>My Json :</p>\n<pre><code>{\n    &quot;success&quot;: true,\n    &quot;status_code&quot;: 200,\n    &quot;error&quot;: null,\n    &quot;data&quot;: {\n        &quot;message&quot;: &quot;sussecc!&quot;,\n        &quot;has_paginate&quot;: 0,\n        &quot;results&quot;: {\n            &quot;user&quot;: {\n                &quot;id&quot;: 1,\n                &quot;full_name&quot;: &quot;emin&quot;,\n                &quot;phone_number&quot;: &quot;+1125585&quot;,\n                &quot;admin_role&quot;: &quot;0&quot;,\n                &quot;national_id&quot;: &quot;21&quot;,\n                &quot;address&quot;: null,\n                &quot;is_active&quot;: &quot;1&quot;,\n                &quot;email&quot;: null,\n                &quot;email_verified_at&quot;: &quot;2023-12-04 20:41:41&quot;,\n                &quot;created_at&quot;: &quot;2023-12-04T17:11:42.000000Z&quot;,\n                &quot;updated_at&quot;: &quot;2023-12-04T17:11:42.000000Z&quot;\n            },\n            &quot;token&quot;: &quot;31|ssasdsdfsdgeedewfsdvfdbdfve3svxfb&quot;\n        }\n    }\n}\n</code></pre>\n<p>My Model Class :</p>\n<pre><code>class ModelLoginService {\n  ModelLoginService({\n    required this.success,\n    required this.statusCode,\n    required this.error,\n    required this.data,\n  });\n  late final bool success;\n  late final int statusCode;\n  late final dynamic? error;\n  late final Data? data;\n\n  ModelLoginService.fromJson(Map&lt;String, dynamic&gt; json) {\n    success = json['success'];\n    statusCode = json['status_code'];\n    error = Error.fromJson(json['error']);\n    data = Data.fromJson(json['data']);\n  }\n\n  Map&lt;String, dynamic&gt; toJson() {\n    final _data = &lt;String, dynamic&gt;{};\n    _data['success'] = success;\n    _data['status_code'] = statusCode;\n    _data['error'] = error!.toJson() == null ? null : error.toJson();\n    _data['data'] = data!.toJson() == null ? null : error.toJson();\n    return _data;\n  }\n}\n\nclass Error {\n  Error({\n    required this.message,\n    required this.errors,\n  });\n  late final String? message;\n  late final Errors? errors;\n\n  Error.fromJson(Map&lt;String, dynamic&gt; json) {\n    message = json['message'];\n    errors = Errors.fromJson(json['errors']);\n  }\n\n  Map&lt;String, dynamic&gt; toJson() {\n    final _data = &lt;String, dynamic&gt;{};\n    _data['message'] = message!;\n    _data['errors'] = errors!.toJson().isEmpty;\n    return _data;\n  }\n}\n\nclass Errors {\n  Errors({\n    required this.reason,\n    required this.message,\n  });\n  late final String reason;\n  late final String message;\n\n  Errors.fromJson(Map&lt;String, dynamic&gt; json) {\n    reason = json['reason'];\n    message = json['message'];\n  }\n\n  Map&lt;String, dynamic&gt; toJson() {\n    final _data = &lt;String, dynamic&gt;{};\n    _data['reason'] = reason;\n    _data['message'] = message;\n    return _data;\n  }\n}\n\nclass Data {\n  Data({\n    required this.message,\n    required this.hasPaginate,\n    required this.results,\n  });\n  late final String message;\n  late final int hasPaginate;\n  late final Results results;\n\n  Data.fromJson(Map&lt;String, dynamic&gt; json) {\n    message = json['message'];\n    hasPaginate = json['has_paginate'];\n    results = Results.fromJson(json['results']);\n  }\n\n  Map&lt;String, dynamic&gt; toJson() {\n    final _data = &lt;String, dynamic&gt;{};\n    _data['message'] = message;\n    _data['has_paginate'] = hasPaginate;\n    _data['results'] = results.toJson();\n    return _data;\n  }\n}\n\nclass Results {\n  Results({\n    required this.user,\n    required this.token,\n  });\n  late final User user;\n  late final String token;\n\n  Results.fromJson(Map&lt;String, dynamic&gt; json) {\n    user = User.fromJson(json['user']);\n    token = json['token'];\n  }\n\n  Map&lt;String, dynamic&gt; toJson() {\n    final _data = &lt;String, dynamic&gt;{};\n    _data['user'] = user.toJson();\n    _data['token'] = token;\n    return _data;\n  }\n}\n\nclass User {\n  User({\n    required this.id,\n    required this.fullName,\n    required this.phoneNumber,\n    required this.adminRole,\n    required this.nationalId,\n    required this.address,\n    required this.isActive,\n    required this.email,\n    required this.emailVerifiedAt,\n    required this.createdAt,\n    required this.updatedAt,\n  });\n  late final int id;\n  late final String fullName;\n  late final String phoneNumber;\n  late final String adminRole;\n  late final String nationalId;\n  late final String? address;\n  late final String isActive;\n  late final String? email;\n  late final String emailVerifiedAt;\n  late final String createdAt;\n  late final String updatedAt;\n\n  User.fromJson(Map&lt;String, dynamic&gt; json) {\n    id = json['id'];\n    fullName = json['full_name'];\n    phoneNumber = json['phone_number'];\n    adminRole = json['admin_role'];\n    nationalId = json['national_id'];\n    address = json['address'] == null ? null : json['address'];\n    isActive = json['is_active'];\n    email = json['email'] == null ? null : json['email'];\n    emailVerifiedAt = json['email_verified_at'];\n    createdAt = json['created_at'];\n    updatedAt = json['updated_at'];\n  }\n\n  Map&lt;String, dynamic&gt; toJson() {\n    final _data = &lt;String, dynamic&gt;{};\n    _data['id'] = id;\n    _data['full_name'] = fullName;\n    _data['phone_number'] = phoneNumber;\n    _data['admin_role'] = adminRole;\n    _data['national_id'] = nationalId;\n    _data['address'] = address;\n    _data['is_active'] = isActive;\n    _data['email'] = email;\n    _data['email_verified_at'] = emailVerifiedAt;\n    _data['created_at'] = createdAt;\n    _data['updated_at'] = updatedAt;\n    return _data;\n  }\n}\n</code></pre>\n<p>My service for get JSON</p>\n<pre><code>class ServiceLogin extends GetConnect implements GetxService {\n  Map&lt;String, String&gt; authorizationh = {};\n  Map&lt;String, dynamic&gt; bodyMap = {};\n  String username = &quot;&quot;, password = &quot;&quot;;\n\n  Future&lt;ModelLoginService&gt; postData() async {\n    bodyMap = {\n      'full_name': 'admin',\n      'password': 'c1992885',\n    };\n\n    var response = await post('http://test.com/admin/api/login', bodyMap);\n\n    print('response.body ${response.body}');\n    return ModelLoginService.fromJson(response.body);\n  }\n}\n</code></pre>\n<p>Error Log</p>\n<pre><code>Performing hot restart...\nWaiting for connection from debug service on Edge...\nRestarted application in 743ms.\n[GETX] Instance &quot;GetMaterialController&quot; has been created\n[GETX] Instance &quot;GetMaterialController&quot; has been initialized\n[GETX] Instance &quot;ApiController&quot; has been created\n[GETX] Instance &quot;ApiController&quot; has been initialized\nresponse.body null\nError: Expected a value of type 'Map&lt;String, dynamic&gt;', but got one of type 'Null'\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 294:3       throw_\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 127:3       castError\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/operations.dart 818:12  cast\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/classes.dart 652:14     as_C\npackages/shndz_panel/services/service_login.dart 21:30                            postData\ndart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 45:50                &lt;fn&gt;\ndart-sdk/lib/async/zone.dart 1661:54                                              runUnary\ndart-sdk/lib/async/future_impl.dart 162:18                                        handleValue\ndart-sdk/lib/async/future_impl.dart 846:44                                        handleValueCallback\ndart-sdk/lib/async/future_impl.dart 875:13                                        _propagateToListeners\ndart-sdk/lib/async/future_impl.dart 655:5                                         [_completeError]\ndart-sdk/lib/async/future_impl.dart 745:7                                         callback\ndart-sdk/lib/async/schedule_microtask.dart 40:11                                  _microtaskLoop\ndart-sdk/lib/async/schedule_microtask.dart 49:5                                   _startMicrotaskLoop\ndart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 181:7                &lt;fn&gt;\n</code></pre>\n<p>I used nullable type in flutter in my model and expected this problem not to occur and i can't find the best way to solve it</p>\n",
        "codigo": [
            "{\n    \"success\": true,\n    \"status_code\": 200,\n    \"error\": null,\n    \"data\": {\n        \"message\": \"sussecc!\",\n        \"has_paginate\": 0,\n        \"results\": {\n            \"user\": {\n                \"id\": 1,\n                \"full_name\": \"emin\",\n                \"phone_number\": \"+1125585\",\n                \"admin_role\": \"0\",\n                \"national_id\": \"21\",\n                \"address\": null,\n                \"is_active\": \"1\",\n                \"email\": null,\n                \"email_verified_at\": \"2023-12-04 20:41:41\",\n                \"created_at\": \"2023-12-04T17:11:42.000000Z\",\n                \"updated_at\": \"2023-12-04T17:11:42.000000Z\"\n            },\n            \"token\": \"31|ssasdsdfsdgeedewfsdvfdbdfve3svxfb\"\n        }\n    }\n}\n",
            "class ModelLoginService {\n  ModelLoginService({\n    required this.success,\n    required this.statusCode,\n    required this.error,\n    required this.data,\n  });\n  late final bool success;\n  late final int statusCode;\n  late final dynamic? error;\n  late final Data? data;\n\n  ModelLoginService.fromJson(Map<String, dynamic> json) {\n    success = json['success'];\n    statusCode = json['status_code'];\n    error = Error.fromJson(json['error']);\n    data = Data.fromJson(json['data']);\n  }\n\n  Map<String, dynamic> toJson() {\n    final _data = <String, dynamic>{};\n    _data['success'] = success;\n    _data['status_code'] = statusCode;\n    _data['error'] = error!.toJson() == null ? null : error.toJson();\n    _data['data'] = data!.toJson() == null ? null : error.toJson();\n    return _data;\n  }\n}\n\nclass Error {\n  Error({\n    required this.message,\n    required this.errors,\n  });\n  late final String? message;\n  late final Errors? errors;\n\n  Error.fromJson(Map<String, dynamic> json) {\n    message = json['message'];\n    errors = Errors.fromJson(json['errors']);\n  }\n\n  Map<String, dynamic> toJson() {\n    final _data = <String, dynamic>{};\n    _data['message'] = message!;\n    _data['errors'] = errors!.toJson().isEmpty;\n    return _data;\n  }\n}\n\nclass Errors {\n  Errors({\n    required this.reason,\n    required this.message,\n  });\n  late final String reason;\n  late final String message;\n\n  Errors.fromJson(Map<String, dynamic> json) {\n    reason = json['reason'];\n    message = json['message'];\n  }\n\n  Map<String, dynamic> toJson() {\n    final _data = <String, dynamic>{};\n    _data['reason'] = reason;\n    _data['message'] = message;\n    return _data;\n  }\n}\n\nclass Data {\n  Data({\n    required this.message,\n    required this.hasPaginate,\n    required this.results,\n  });\n  late final String message;\n  late final int hasPaginate;\n  late final Results results;\n\n  Data.fromJson(Map<String, dynamic> json) {\n    message = json['message'];\n    hasPaginate = json['has_paginate'];\n    results = Results.fromJson(json['results']);\n  }\n\n  Map<String, dynamic> toJson() {\n    final _data = <String, dynamic>{};\n    _data['message'] = message;\n    _data['has_paginate'] = hasPaginate;\n    _data['results'] = results.toJson();\n    return _data;\n  }\n}\n\nclass Results {\n  Results({\n    required this.user,\n    required this.token,\n  });\n  late final User user;\n  late final String token;\n\n  Results.fromJson(Map<String, dynamic> json) {\n    user = User.fromJson(json['user']);\n    token = json['token'];\n  }\n\n  Map<String, dynamic> toJson() {\n    final _data = <String, dynamic>{};\n    _data['user'] = user.toJson();\n    _data['token'] = token;\n    return _data;\n  }\n}\n\nclass User {\n  User({\n    required this.id,\n    required this.fullName,\n    required this.phoneNumber,\n    required this.adminRole,\n    required this.nationalId,\n    required this.address,\n    required this.isActive,\n    required this.email,\n    required this.emailVerifiedAt,\n    required this.createdAt,\n    required this.updatedAt,\n  });\n  late final int id;\n  late final String fullName;\n  late final String phoneNumber;\n  late final String adminRole;\n  late final String nationalId;\n  late final String? address;\n  late final String isActive;\n  late final String? email;\n  late final String emailVerifiedAt;\n  late final String createdAt;\n  late final String updatedAt;\n\n  User.fromJson(Map<String, dynamic> json) {\n    id = json['id'];\n    fullName = json['full_name'];\n    phoneNumber = json['phone_number'];\n    adminRole = json['admin_role'];\n    nationalId = json['national_id'];\n    address = json['address'] == null ? null : json['address'];\n    isActive = json['is_active'];\n    email = json['email'] == null ? null : json['email'];\n    emailVerifiedAt = json['email_verified_at'];\n    createdAt = json['created_at'];\n    updatedAt = json['updated_at'];\n  }\n\n  Map<String, dynamic> toJson() {\n    final _data = <String, dynamic>{};\n    _data['id'] = id;\n    _data['full_name'] = fullName;\n    _data['phone_number'] = phoneNumber;\n    _data['admin_role'] = adminRole;\n    _data['national_id'] = nationalId;\n    _data['address'] = address;\n    _data['is_active'] = isActive;\n    _data['email'] = email;\n    _data['email_verified_at'] = emailVerifiedAt;\n    _data['created_at'] = createdAt;\n    _data['updated_at'] = updatedAt;\n    return _data;\n  }\n}\n",
            "class ServiceLogin extends GetConnect implements GetxService {\n  Map<String, String> authorizationh = {};\n  Map<String, dynamic> bodyMap = {};\n  String username = \"\", password = \"\";\n\n  Future<ModelLoginService> postData() async {\n    bodyMap = {\n      'full_name': 'admin',\n      'password': 'c1992885',\n    };\n\n    var response = await post('http://test.com/admin/api/login', bodyMap);\n\n    print('response.body ${response.body}');\n    return ModelLoginService.fromJson(response.body);\n  }\n}\n",
            "Performing hot restart...\nWaiting for connection from debug service on Edge...\nRestarted application in 743ms.\n[GETX] Instance \"GetMaterialController\" has been created\n[GETX] Instance \"GetMaterialController\" has been initialized\n[GETX] Instance \"ApiController\" has been created\n[GETX] Instance \"ApiController\" has been initialized\nresponse.body null\nError: Expected a value of type 'Map<String, dynamic>', but got one of type 'Null'\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 294:3       throw_\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 127:3       castError\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/operations.dart 818:12  cast\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/classes.dart 652:14     as_C\npackages/shndz_panel/services/service_login.dart 21:30                            postData\ndart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 45:50                <fn>\ndart-sdk/lib/async/zone.dart 1661:54                                              runUnary\ndart-sdk/lib/async/future_impl.dart 162:18                                        handleValue\ndart-sdk/lib/async/future_impl.dart 846:44                                        handleValueCallback\ndart-sdk/lib/async/future_impl.dart 875:13                                        _propagateToListeners\ndart-sdk/lib/async/future_impl.dart 655:5                                         [_completeError]\ndart-sdk/lib/async/future_impl.dart 745:7                                         callback\ndart-sdk/lib/async/schedule_microtask.dart 40:11                                  _microtaskLoop\ndart-sdk/lib/async/schedule_microtask.dart 49:5                                   _startMicrotaskLoop\ndart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 181:7                <fn>\n"
        ]
    },
    {
        "titulo": "How to avoid copying the bytes in Dart when deserializing an image from a Flatbuffer?",
        "score": 0,
        "views": 163,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "deserialization",
            "flatbuffers",
            "uint8list"
        ],
        "link": "https://stackoverflow.com/questions/77623267/how-to-avoid-copying-the-bytes-in-dart-when-deserializing-an-image-from-a-flatbu",
        "conteudo_html": "<p><strong>Summary:</strong></p>\n<p>When deserializing a simple flatbuffer containing an image (stored as <code>[ubyte]</code>), the generated Dart code returns a <code>List&lt;int&gt;</code> that is not a <code>Uint8List</code>. Therefore can't be cast to <code>Uint8List</code>, and when creating the Image, the bytes must be copied instead, using <code>Uint8List.fromList()</code>.</p>\n<p>While this does allow me to create the Image from a flatbuffer, the main reason I was using Flatbuffers in the first place was to avoid copying the bytes after loading the buffer. It means that it's better to avoid putting images in a flatbuffer, and instead to just load the image files individually, because that avoids the extra copy. I know, alternatively, that I can try Cap'n Proto or SBE, but I find it surprising that Flatbuffers has this issue, and suspect that perhaps I'm missing a key part.</p>\n<p><strong>Details:</strong></p>\n<p>For clarity, this example uses a minimal Flatbuffer schema. Eventually I want a downloadable resource bundle containing several other fields and many images, perhaps with nested structs or lists of images, but we'll start with this very simple schema containing just a string and one image:</p>\n<p><strong><code>fbuf_image.fbs</code>:</strong></p>\n<pre><code>table FbufImage {\n  name: string;\n  image1: [ubyte]; \n}\nroot_type FbufImage;\n</code></pre>\n<p>After running <code>flatc --dart fbuf_image.fbs</code>, the generated Dart code contains a class called <code>FbufImage</code> which looks like this:</p>\n<p><strong>The top part of <code>fbuf_image_generated.dart</code>:</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>class FbufImage {\n  FbufImage._(this._bc, this._bcOffset);\n  factory FbufImage(List&lt;int&gt; bytes) {\n    final rootRef = fb.BufferContext.fromBytes(bytes);\n    return reader.read(rootRef, 0);\n  }\n\n  static const fb.Reader&lt;FbufImage&gt; reader = _FbufImageReader();\n\n  final fb.BufferContext _bc;\n  final int _bcOffset;\n\n  String? get name =&gt; const fb.StringReader().vTableGetNullable(_bc, _bcOffset, 4);\n  List&lt;int&gt;? get image1 =&gt; const fb.Uint8ListReader().vTableGetNullable(_bc, _bcOffset, 6);\n\n  @override\n  String toString() {\n    return 'FbufImage{name: ${name}, image1: ${image1}}';\n  }\n}\n[...]\n</code></pre>\n<p>As you can see, the <code>get image1</code> computed property getter returns a <code>List&lt;int&gt;?</code>.</p>\n<p>This getter is used by the flutter app to get the bytes which are passed to the <code>Image.memory()</code> constructor. In the excerpt below, the flatbuffer is loaded from the assets rootBundle, then the image bytes are retrieved using <code>buffer.image1</code>:</p>\n<p><strong>In the Flutter app:</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>  final assetBytes = await rootBundle.load(&quot;fbuf/${name}.fbuf&quot;);\n  final Uint8List buffer = assetBytes.buffer.asUint8List();\n  if (buffer.length &gt; 0) {\n    final bundle = FbufImage(buffer);\n    final name = bundle.name ?? &quot;&quot;;\n    if (bundle.image1 != null) {\n      final bytes = bundle.image1 ?? [];\n      if (bytes is Uint8List) {\n        print(&quot;${name}.image1 is already a Uint8List, len=${bytes.length}&quot;);\n        return Image.memory(bytes as Uint8List);\n      }\n      print(&quot;${name}.image1 is being copied, len=${bytes.length}&quot;);\n      return Image.memory(Uint8List.fromList(bytes));\n    }\n  }\n</code></pre>\n<p>My app does create the Image but it ALWAYS prints <code>bundle1.image1 is being copied, len=226933</code>\nIOW, it always does <code>Uint8List.fromList(bytes)</code> which copies the bytes.</p>\n<p>If I rewrite the code to ignore the <code>if (bytes is Uint8List)</code> and try to coerce the cast (i.e. <code>Image.memory(bytes as Uint8List)</code>), then I get this runtime exception:\n<code>Expected a value of type 'Uint8List', but got one of type '_FbUint8List'</code></p>\n<p>Contrast this to the alternative of downloading individual image files which can be loaded and converted to Image objects without the copy:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>  final Directory docDir = await getApplicationDocumentsDirectory();\n  final File file = File('${docDir.path}/${relPath}/${fname}');\n  final Uint8List buffer = await file.readAsBytes();\n  if (buffer.length &gt; 0) {\n    return Image.memory(buffer);\n  }\n</code></pre>\n<p><strong>Q: So how do you avoid copying those image bytes using Flatbuffers?</strong></p>\n<p>Ultimately I'd like to have multiple images bundled in a Flatbuffer and be able to use <code>Image.memory()</code> create those images without copying.</p>\n<p>Thanks!</p>\n<p>[Edit: fixed a mistake in the Flutter deserialization code]</p>\n",
        "codigo": [
            "[ubyte]",
            "List<int>",
            "Uint8List",
            "Uint8List",
            "Uint8List.fromList()",
            "fbuf_image.fbs",
            "table FbufImage {\n  name: string;\n  image1: [ubyte]; \n}\nroot_type FbufImage;\n",
            "flatc --dart fbuf_image.fbs",
            "FbufImage",
            "fbuf_image_generated.dart",
            "class FbufImage {\n  FbufImage._(this._bc, this._bcOffset);\n  factory FbufImage(List<int> bytes) {\n    final rootRef = fb.BufferContext.fromBytes(bytes);\n    return reader.read(rootRef, 0);\n  }\n\n  static const fb.Reader<FbufImage> reader = _FbufImageReader();\n\n  final fb.BufferContext _bc;\n  final int _bcOffset;\n\n  String? get name => const fb.StringReader().vTableGetNullable(_bc, _bcOffset, 4);\n  List<int>? get image1 => const fb.Uint8ListReader().vTableGetNullable(_bc, _bcOffset, 6);\n\n  @override\n  String toString() {\n    return 'FbufImage{name: ${name}, image1: ${image1}}';\n  }\n}\n[...]\n",
            "get image1",
            "List<int>?",
            "Image.memory()",
            "buffer.image1",
            "  final assetBytes = await rootBundle.load(\"fbuf/${name}.fbuf\");\n  final Uint8List buffer = assetBytes.buffer.asUint8List();\n  if (buffer.length > 0) {\n    final bundle = FbufImage(buffer);\n    final name = bundle.name ?? \"\";\n    if (bundle.image1 != null) {\n      final bytes = bundle.image1 ?? [];\n      if (bytes is Uint8List) {\n        print(\"${name}.image1 is already a Uint8List, len=${bytes.length}\");\n        return Image.memory(bytes as Uint8List);\n      }\n      print(\"${name}.image1 is being copied, len=${bytes.length}\");\n      return Image.memory(Uint8List.fromList(bytes));\n    }\n  }\n",
            "bundle1.image1 is being copied, len=226933",
            "Uint8List.fromList(bytes)",
            "if (bytes is Uint8List)",
            "Image.memory(bytes as Uint8List)",
            "Expected a value of type 'Uint8List', but got one of type '_FbUint8List'",
            "  final Directory docDir = await getApplicationDocumentsDirectory();\n  final File file = File('${docDir.path}/${relPath}/${fname}');\n  final Uint8List buffer = await file.readAsBytes();\n  if (buffer.length > 0) {\n    return Image.memory(buffer);\n  }\n",
            "Image.memory()"
        ]
    },
    {
        "titulo": "Dart Enum extension to generate an enum from a string",
        "score": 0,
        "views": 381,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "enums"
        ],
        "link": "https://stackoverflow.com/questions/77621268/dart-enum-extension-to-generate-an-enum-from-a-string",
        "conteudo_html": "<p>When accessing enum values from a database, such as Firestore, they are often stored as strings and need to be converted to the corresponding enum value.  There are several ways of doing this, as for example covered in this StackOverflow post <a href=\"https://stackoverflow.com/questions/77022977/how-to-convert-a-string-to-an-enum-in-dart\">here</a> and elaborated in my own answer there.</p>\n<p>What I'd like to do however is to be able to combine the 2 approaches covered there to create an <code>extension</code> on <code>Enum</code> such that it becomes super simple and intuitive to covert a string to an enum, as in the following example:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>enum Fruit { apple, orange, banana }\n\nfinal myFruit = Fruit.fromName('apple');  // Desired functionality\nassert(myFruit == Fruit.apple);\n</code></pre>\n<p>As covered in the referenced post, it is possible to achieve this functionality by extending the enum definition as follows:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>enum Fruit {\n  apple,\n  orange,\n  banana;\n\n  static Fruit? fromName(String name) {\n    for (var value in Fruit.values) {\n      if (value.name == name) return value;\n    }\n    return null;\n  }\n}\n\n// These now work as expected\nfinal myFruit = Fruit.fromName('apple');\nassert(myFruit == Fruit.apple);\nassert(Fruit.fromName('orange') == Fruit.orange);\n</code></pre>\n<p>However this would need to be implemented in each enum where this functionality is required.</p>\n<p>An alternative approach, as also <a href=\"https://stackoverflow.com/a/77023200/9629046\">mentioned in the above post</a>, is to use <code>Fruit.values.byName('orange')</code> or to modify that behaviour (eg because it throws if the value is not found) by creating a <a href=\"https://stackoverflow.com/a/77620101/9629046\">custom extension</a>.</p>\n<p>What I haven't been able to figure out is how to write a custom <code>extension on Enum</code> (or something similar) so that the simpler, more intuitive <code>Fruit.fromName('orange')</code> can be used with any plain enum definition such as <code>enum Fruit { apple, orange, banana }</code>.</p>\n<p>I've tried various approaches by trying to modify the iterator based <code>extension</code> but have been unable to make it work. Borrowing heavily from the <code>EnumByName</code> <a href=\"https://api.dart.dev/stable/2.15.1/dart-core/EnumByName.html\" rel=\"nofollow noreferrer\">extension</a> I've tried variations on the following but they all come back to <code>.values</code> not being defined on <code>this</code> (or <code>Enum</code> or <code>T</code>)</p>\n<pre class=\"lang-dart prettyprint-override\"><code>extension EnumFromName on Enum {\n  Enum? fromName(String name) {\n    // this.values is not valid...\n    for (var value in this.values) {\n      if (value.name == name) return value;\n    }\n    return null;\n  }\n}\n</code></pre>\n<p>Would appreciate any input or guidance on how to resolve and create this sort of extension.</p>\n",
        "codigo": [
            "extension",
            "Enum",
            "enum Fruit { apple, orange, banana }\n\nfinal myFruit = Fruit.fromName('apple');  // Desired functionality\nassert(myFruit == Fruit.apple);\n",
            "enum Fruit {\n  apple,\n  orange,\n  banana;\n\n  static Fruit? fromName(String name) {\n    for (var value in Fruit.values) {\n      if (value.name == name) return value;\n    }\n    return null;\n  }\n}\n\n// These now work as expected\nfinal myFruit = Fruit.fromName('apple');\nassert(myFruit == Fruit.apple);\nassert(Fruit.fromName('orange') == Fruit.orange);\n",
            "Fruit.values.byName('orange')",
            "extension on Enum",
            "Fruit.fromName('orange')",
            "enum Fruit { apple, orange, banana }",
            "extension",
            "EnumByName",
            ".values",
            "this",
            "Enum",
            "T",
            "extension EnumFromName on Enum {\n  Enum? fromName(String name) {\n    // this.values is not valid...\n    for (var value in this.values) {\n      if (value.name == name) return value;\n    }\n    return null;\n  }\n}\n"
        ]
    },
    {
        "titulo": "How to catch Completer.CompleterError in Flutter?",
        "score": 0,
        "views": 147,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "testing"
        ],
        "link": "https://stackoverflow.com/questions/77616397/how-to-catch-completer-completererror-in-flutter",
        "conteudo_html": "<p>I would like to know why this test case fails and how can I resolve it.</p>\n<pre><code>  test('first error  ', () async {\n    try {\n      final clusterCompleter = Completer&lt;String&gt;();\n      clusterCompleter.completeError(Exception(&quot;API Error&quot;));\n    } catch (e) {\n      print(&quot;Error: $e&quot;);\n    }\n    print(&quot;Passed&quot;);\n    expect(1, 1);\n  });\n</code></pre>\n<p>What's confusing is that it prints :</p>\n<pre><code>Passed\n\nException: API Error\n</code></pre>\n<p><a href=\"https://i.sstatic.net/imgTc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/imgTc.png\" alt=\"enter image description here\" /></a></p>\n<p>Why does it pass and fail at the same time ?</p>\n",
        "codigo": [
            "  test('first error  ', () async {\n    try {\n      final clusterCompleter = Completer<String>();\n      clusterCompleter.completeError(Exception(\"API Error\"));\n    } catch (e) {\n      print(\"Error: $e\");\n    }\n    print(\"Passed\");\n    expect(1, 1);\n  });\n",
            "Passed\n\nException: API Error\n"
        ]
    },
    {
        "titulo": "Flutter/Dart List.firstWhere() error at list of subclass",
        "score": 1,
        "views": 183,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77597330/flutter-dart-list-firstwhere-error-at-list-of-subclass",
        "conteudo_html": "<p>I have a list like this.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>final List&lt;SuperType&gt; list = &lt;SubType&gt;[ ... ];\n\n</code></pre>\n<p>then, I want something like this works.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>final element = (list as List&lt;SuperType&gt;).firstWhere(\n  (e) =&gt; ...ANY CONDITION...,\n  orElse: () =&gt; const SuperType(),\n);\n\n</code></pre>\n<p>but ends with this error.</p>\n<pre><code>Expected a value of type '(() =&gt; SubType)?', but got one of type '() =&gt; SuperType'\n\n</code></pre>\n<p>just wonder how to fix it. I'm using Flutter 3.13.9.</p>\n",
        "codigo": [
            "final List<SuperType> list = <SubType>[ ... ];\n\n",
            "final element = (list as List<SuperType>).firstWhere(\n  (e) => ...ANY CONDITION...,\n  orElse: () => const SuperType(),\n);\n\n",
            "Expected a value of type '(() => SubType)?', but got one of type '() => SuperType'\n\n"
        ]
    },
    {
        "titulo": "Flutter &amp; Firestore async return to factory",
        "score": 0,
        "views": 21,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "google-cloud-firestore"
        ],
        "link": "https://stackoverflow.com/questions/77583672/flutter-firestore-async-return-to-factory",
        "conteudo_html": "<p>I'm having trouble with a factory function in my project.\nThe case is that I have a class that looks like this (cut down some code but so you understand the idea):</p>\n<pre><code>class Recipe {\n  final String? name;\n  final List&lt;Ingredient&gt;? ingredients;\n}\n</code></pre>\n<p>And another class that looks like this:</p>\n<pre><code>class Ingredient {\n  final String? name;\n  final int? kcal;\n  final int? carb;\n  final int? fat;\n  final int? protein;\n  final String? unit;\n}\n</code></pre>\n<p>In Cloud Firestore I have then the database setup like this:</p>\n<pre><code>Database/\nrecipes/\n    recipe1/\n        String: name\n        List: ingredients/\n            Map/\n                String/ ingredient1\n                String: unit\n            Map/\n                String/ ingredient2\n                String: unit\n\n    recipe2/\n        String: name\n        List: ingredients/\n            Map/\n                String/ ingredient1\n                String: unit\ningredients/\n    ingredient1/\n        String:name\n        number: kcal\n\n    ingredient2/\n        String:name\n        number: kcal\n</code></pre>\n<p>So what I want to do is create a function that fetches the recipe from Firestore which means it also needs to fetch the ingredients. My problem has come from the fact that I can't use an async function in the factory Recipe.fromFirestore() function that I'm trying to write.</p>\n<p>Curren't functions I'm trying to get to work:</p>\n<pre><code>  factory Recipe.fromFirestore(\n    DocumentSnapshot&lt;Map&lt;String, dynamic&gt;&gt; snapshot,\n    SnapshotOptions? options,\n      ) {\n    final data = snapshot.data();\n    // Check if the data is available and has the expected structure\n    if (data == null ||\n        !data.containsKey('name') ||\n        !data.containsKey('ingredients')) {\n      print('Invalid data structure or missing keys');\n      return Recipe();\n    }\n\n    final List&lt;dynamic&gt;? ingredientsData = data['ingredients'];\n\n    //Create a list of the ingredients\n    List&lt;String&gt; ingredientNames = [];\n    for (var ingredient in ingredientsData!) {\n      ingredientNames.add(ingredient['ingredient']);\n    }\n    print(ingredientNames);\n    //Use list to create and return an array of the ingredient objects\n    List&lt;Ingredient&gt;? ingredients =\n        getIngredients(ingredientNames) as List&lt;Ingredient&gt;?;\n\n    return Recipe(\n      name: data['name'],\n      ingredients: ingredients,\n    );\n  }\n\ngetIngredients()\n\n  static Future&lt;List&lt;Ingredient&gt;?&gt; getIngredients(List ingredientNames) async {\n    print(&quot;1&quot;);\n    List&lt;Ingredient?&gt; ingredientList = [];\n    print(&quot;2&quot;);\n    for (var ingredientName in ingredientNames) {\n      print(&quot;3&quot;);\n      Ingredient? ingredient =\n          await DatabaseService().getIngredient(ingredientName);\n      print(&quot;4&quot;);\n      ingredientList.add(ingredient);\n      print(&quot;5&quot;);\n    }\n\n    return ingredientList;\n  }\n</code></pre>\n<p>DatabaseService().getIngredient()</p>\n<pre><code>  Future&lt;Ingredient?&gt; getIngredient(String name) async {\n    print(&quot;1 1&quot;);\n    final ref = _db.collection(&quot;ingredients&quot;).doc(name).withConverter(\n          fromFirestore: Ingredient.fromFirestore,\n          toFirestore: (Ingredient ingredient, _) =&gt; ingredient.toFirestore(),\n        );\n    print(&quot;1 2&quot;);\n    final docSnap = await ref.get();\n    print(&quot;1 3&quot;);\n    final ingredient = docSnap.data(); // Convert to Ingredient object\n    print(&quot;1 4&quot;);\n    if (ingredient != null) {\n      print(&quot;1 5&quot;);\n      return ingredient;\n    } else {\n      print(&quot;No such document.&quot;);\n      return null;\n    }\n  }\n</code></pre>\n<p>And my factory Ingredient.fromFirestore() - No issues here but just so you have all the funcitonality</p>\n<pre><code>  factory Ingredient.fromFirestore(\n    DocumentSnapshot&lt;Map&lt;String, dynamic&gt;&gt; snapshot,\n    SnapshotOptions? options,\n  ) {\n    final data = snapshot.data();\n    return Ingredient(\n      name: data?['name'],\n      kcal: data?['kcal'],\n      carb: data?['carb'],\n      fat: data?['fat'],\n      protein: data?['protein'],\n      unit: data?['unit'],\n    );\n  }\n</code></pre>\n<p>How I have been approaching this problem has been to return a list of Ingredients in to the recipe factory and then create the objects but I'm starting to wonder if that is the correct approach. Since I can't use async functions I don't know how I'm supposed to solve the problem which makes me believe I'm attacking the problem in the wrong way. Any help is appreciated and thanks in advance!</p>\n",
        "codigo": [
            "class Recipe {\n  final String? name;\n  final List<Ingredient>? ingredients;\n}\n",
            "class Ingredient {\n  final String? name;\n  final int? kcal;\n  final int? carb;\n  final int? fat;\n  final int? protein;\n  final String? unit;\n}\n",
            "Database/\nrecipes/\n    recipe1/\n        String: name\n        List: ingredients/\n            Map/\n                String/ ingredient1\n                String: unit\n            Map/\n                String/ ingredient2\n                String: unit\n\n    recipe2/\n        String: name\n        List: ingredients/\n            Map/\n                String/ ingredient1\n                String: unit\ningredients/\n    ingredient1/\n        String:name\n        number: kcal\n\n    ingredient2/\n        String:name\n        number: kcal\n",
            "  factory Recipe.fromFirestore(\n    DocumentSnapshot<Map<String, dynamic>> snapshot,\n    SnapshotOptions? options,\n      ) {\n    final data = snapshot.data();\n    // Check if the data is available and has the expected structure\n    if (data == null ||\n        !data.containsKey('name') ||\n        !data.containsKey('ingredients')) {\n      print('Invalid data structure or missing keys');\n      return Recipe();\n    }\n\n    final List<dynamic>? ingredientsData = data['ingredients'];\n\n    //Create a list of the ingredients\n    List<String> ingredientNames = [];\n    for (var ingredient in ingredientsData!) {\n      ingredientNames.add(ingredient['ingredient']);\n    }\n    print(ingredientNames);\n    //Use list to create and return an array of the ingredient objects\n    List<Ingredient>? ingredients =\n        getIngredients(ingredientNames) as List<Ingredient>?;\n\n    return Recipe(\n      name: data['name'],\n      ingredients: ingredients,\n    );\n  }\n\ngetIngredients()\n\n  static Future<List<Ingredient>?> getIngredients(List ingredientNames) async {\n    print(\"1\");\n    List<Ingredient?> ingredientList = [];\n    print(\"2\");\n    for (var ingredientName in ingredientNames) {\n      print(\"3\");\n      Ingredient? ingredient =\n          await DatabaseService().getIngredient(ingredientName);\n      print(\"4\");\n      ingredientList.add(ingredient);\n      print(\"5\");\n    }\n\n    return ingredientList;\n  }\n",
            "  Future<Ingredient?> getIngredient(String name) async {\n    print(\"1 1\");\n    final ref = _db.collection(\"ingredients\").doc(name).withConverter(\n          fromFirestore: Ingredient.fromFirestore,\n          toFirestore: (Ingredient ingredient, _) => ingredient.toFirestore(),\n        );\n    print(\"1 2\");\n    final docSnap = await ref.get();\n    print(\"1 3\");\n    final ingredient = docSnap.data(); // Convert to Ingredient object\n    print(\"1 4\");\n    if (ingredient != null) {\n      print(\"1 5\");\n      return ingredient;\n    } else {\n      print(\"No such document.\");\n      return null;\n    }\n  }\n",
            "  factory Ingredient.fromFirestore(\n    DocumentSnapshot<Map<String, dynamic>> snapshot,\n    SnapshotOptions? options,\n  ) {\n    final data = snapshot.data();\n    return Ingredient(\n      name: data?['name'],\n      kcal: data?['kcal'],\n      carb: data?['carb'],\n      fat: data?['fat'],\n      protein: data?['protein'],\n      unit: data?['unit'],\n    );\n  }\n"
        ]
    },
    {
        "titulo": "PlatformException on Firebase.InitializeApp",
        "score": 0,
        "views": 294,
        "respostas": 2,
        "tags": [
            "android",
            "flutter",
            "firebase",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77576144/platformexception-on-firebase-initializeapp",
        "conteudo_html": "<p>I'm having problem starting Firebase after migrating to SDK 33 and Gradle 8.\nError:</p>\n<blockquote>\n<p>PlatformException (PlatformException(channel-error, Unable to\nestablish connection on channel., null, null))</p>\n</blockquote>\n<p>Part of the code:</p>\n<pre><code>void main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  await Firebase.initializeApp(\n    options: DefaultFirebaseOptions.currentPlatform,\n  );\n</code></pre>\n<p>pubspec.yaml:</p>\n<pre><code>\nenvironment:\n  sdk: '&gt;=2.12.0 &lt;3.0.0'\nmodule:\n  androidX: true\n\ndependencies:\n  flutter:\n    sdk: flutter\n  flutter_localizations:\n    sdk: flutter\n  cupertino_icons: ^1.0.3\n  google_fonts: ^4.0.4 #1.1.1\n  http: ^0.13.3\n  flutter_math_fork: ^0.7.1\n  intl_utils: ^2.2.0\n  carousel_slider: ^4.2.1 #^2.3.1\n  provider: ^6.0.5 #4.3.2+3\n  textstyle_extensions: ^2.0.0-nullsafety\n  cached_network_image: ^3.1.0-alpha.1\n  # login added function\n  flutter_facebook_auth: ^5.0.11 #4.0.1 #3.5.7 #3.3.3+1 #2.0.0 ^4.4.0+1\n  image_picker: ^1.0.4 #0.6.7+21\n  flutter_easyloading: ^3.0.0 # 2.1.3\n  auto_size_text: ^3.0.0-nullsafety.0\n  image: ^4.1.3\n  flutter_html: 3.0.0-beta.2\n  html_unescape: ^2.0.0\n  pull_to_refresh: ^2.0.0\n  clipboard: ^0.1.3\n  flutter_rating_bar: ^4.0.0\n  page_transition: ^2.0.2\n  badges: ^3.1.2\n  overlay_support: ^2.1.0\n  flutter_inappwebview: ^5.3.2\n  photo_view: ^0.14.0 #0.11.1\n  image_cropper: ^4.0.1\n  vibration: ^1.7.4-nullsafety.0\n  vibration_web: ^1.6.5-nullsafety.0\n  youtube_plyr_iframe: ^2.0.4\n  permission_handler: ^11.0.1\n  what3words: ^3.1.0-nullsafety.3\n  geolocator: ^10.1.0  \n  video_player_web: ^2.1.2\n  wakelock_web: ^0.4.0\n  flutter_rounded_date_picker: ^3.0.4\n  share_plus: ^7.2.1\n  shared_preferences: ^2.2.2\n  local_auth: ^2.1.7\n  url_launcher: ^6.2.1\n  firebase_core: ^2.24.0\n  firebase_messaging: ^14.7.6\n  firebase_auth: ^4.15.0\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\nflutter:\n  uses-material-design: true\n  assets:\n    - assets/img/\n    - assets/icon/\n    - assets/payment/\n    - lib/lang/en.json\n    - lib/lang/mn.json\n  fonts:\n    - family: Mogul\n      fonts:\n        - asset: assets/fonts/mogul.ttf  \n\n\nflutter_intl:\n  enabled: true\n</code></pre>\n<p>Project build.gradle:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.8.22'\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            url &quot;https://plugins.gradle.org/m2/&quot;\n        }\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:8.1.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.3.15'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n    project.evaluationDependsOn(':app')\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>App build.gradle:</p>\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new FileNotFoundException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n    namespace 'com.my.package'\n    compileSdk 33\n    sourceSets {\n        main.java.srcDirs = ['src/main/kotlin', 'build/generated/source/buildConfig/release', 'build/generated/source/buildConfig/debug']\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId 'com.my.package'\n        minSdkVersion 21\n        targetSdkVersion 33\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        multiDexEnabled true\n    }\n    signingConfigs {\n        release {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n\n    buildTypes {\n\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            //signingConfig signingConfigs.debug\n            signingConfig signingConfigs.debug\n\n            minifyEnabled true\n            shrinkResources true\n\n            ndk {\n                abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86', 'x86_64'\n            }\n\n        }\n\n    }\n    lint {\n        disable 'InvalidPackage'\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation platform('com.google.firebase:firebase-bom:32.6.0')\n    implementation 'com.google.firebase:firebase-messaging:23.3.1'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>Flutter Doctor -v:</p>\n<pre><code>[√] Flutter (Channel stable, 3.16.1, on Microsoft Windows [Version 10.0.22621.2715], locale en-US)\n    • Flutter version 3.16.1 on channel stable at C:\\Development\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 7f20e5d18c (3 days ago), 2023-11-27 09:47:30 -0800\n    • Engine revision 22b600f240\n    • Dart version 3.2.1\n    • DevTools version 2.28.3\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at C:\\Users\\MSM\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Enterprise 2019 16.11.27)\n    • Visual Studio at C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Enterprise\n    • Visual Studio Enterprise 2019 version 16.11.33801.447\n    • Windows 10 SDK version 10.0.19041.0\n\n[√] Android Studio (version 2022.3)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n\n[√] VS Code (version 1.79.2)\n    • VS Code at C:\\Users\\MSM\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.76.0\n\n[√] Connected device (4 available)\n    • sdk gphone x86 (mobile) • emulator-5554 • android-x86    • Android 11 (API 30) (emulator)\n    • Windows (desktop)       • windows       • windows-x64    • Microsoft Windows [Version 10.0.22621.2715]\n    • Chrome (web)            • chrome        • web-javascript • Google Chrome 119.0.6045.124\n    • Edge (web)              • edge          • web-javascript • Microsoft Edge 119.0.2151.93\n\n[√] Network resources\n    • All expected network resources are available.\n</code></pre>\n<p>I already tried:</p>\n<ul>\n<li>flutter clean, flutter pub upgrade, flutter pub outdated</li>\n<li>adding firebasebom to gradle and removing it</li>\n<li>already installed Flutterfire CLI and flutterfire configure</li>\n<li>Debugging on android device, same results</li>\n</ul>\n",
        "codigo": [
            "void main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  await Firebase.initializeApp(\n    options: DefaultFirebaseOptions.currentPlatform,\n  );\n",
            "\nenvironment:\n  sdk: '>=2.12.0 <3.0.0'\nmodule:\n  androidX: true\n\ndependencies:\n  flutter:\n    sdk: flutter\n  flutter_localizations:\n    sdk: flutter\n  cupertino_icons: ^1.0.3\n  google_fonts: ^4.0.4 #1.1.1\n  http: ^0.13.3\n  flutter_math_fork: ^0.7.1\n  intl_utils: ^2.2.0\n  carousel_slider: ^4.2.1 #^2.3.1\n  provider: ^6.0.5 #4.3.2+3\n  textstyle_extensions: ^2.0.0-nullsafety\n  cached_network_image: ^3.1.0-alpha.1\n  # login added function\n  flutter_facebook_auth: ^5.0.11 #4.0.1 #3.5.7 #3.3.3+1 #2.0.0 ^4.4.0+1\n  image_picker: ^1.0.4 #0.6.7+21\n  flutter_easyloading: ^3.0.0 # 2.1.3\n  auto_size_text: ^3.0.0-nullsafety.0\n  image: ^4.1.3\n  flutter_html: 3.0.0-beta.2\n  html_unescape: ^2.0.0\n  pull_to_refresh: ^2.0.0\n  clipboard: ^0.1.3\n  flutter_rating_bar: ^4.0.0\n  page_transition: ^2.0.2\n  badges: ^3.1.2\n  overlay_support: ^2.1.0\n  flutter_inappwebview: ^5.3.2\n  photo_view: ^0.14.0 #0.11.1\n  image_cropper: ^4.0.1\n  vibration: ^1.7.4-nullsafety.0\n  vibration_web: ^1.6.5-nullsafety.0\n  youtube_plyr_iframe: ^2.0.4\n  permission_handler: ^11.0.1\n  what3words: ^3.1.0-nullsafety.3\n  geolocator: ^10.1.0  \n  video_player_web: ^2.1.2\n  wakelock_web: ^0.4.0\n  flutter_rounded_date_picker: ^3.0.4\n  share_plus: ^7.2.1\n  shared_preferences: ^2.2.2\n  local_auth: ^2.1.7\n  url_launcher: ^6.2.1\n  firebase_core: ^2.24.0\n  firebase_messaging: ^14.7.6\n  firebase_auth: ^4.15.0\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\nflutter:\n  uses-material-design: true\n  assets:\n    - assets/img/\n    - assets/icon/\n    - assets/payment/\n    - lib/lang/en.json\n    - lib/lang/mn.json\n  fonts:\n    - family: Mogul\n      fonts:\n        - asset: assets/fonts/mogul.ttf  \n\n\nflutter_intl:\n  enabled: true\n",
            "buildscript {\n    ext.kotlin_version = '1.8.22'\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            url \"https://plugins.gradle.org/m2/\"\n        }\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:8.1.2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.google.gms:google-services:4.3.15'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n    project.evaluationDependsOn(':app')\n}\n\ntasks.register(\"clean\", Delete) {\n    delete rootProject.buildDir\n}\n",
            "def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader ->\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new FileNotFoundException(\"Flutter SDK not found. Define location with flutter.sdk in the local.properties file.\")\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: \"$flutterRoot/packages/flutter_tools/gradle/flutter.gradle\"\n\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n    namespace 'com.my.package'\n    compileSdk 33\n    sourceSets {\n        main.java.srcDirs = ['src/main/kotlin', 'build/generated/source/buildConfig/release', 'build/generated/source/buildConfig/debug']\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId 'com.my.package'\n        minSdkVersion 21\n        targetSdkVersion 33\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        multiDexEnabled true\n    }\n    signingConfigs {\n        release {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n\n    buildTypes {\n\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            //signingConfig signingConfigs.debug\n            signingConfig signingConfigs.debug\n\n            minifyEnabled true\n            shrinkResources true\n\n            ndk {\n                abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86', 'x86_64'\n            }\n\n        }\n\n    }\n    lint {\n        disable 'InvalidPackage'\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation platform('com.google.firebase:firebase-bom:32.6.0')\n    implementation 'com.google.firebase:firebase-messaging:23.3.1'\n}\n\napply plugin: 'com.google.gms.google-services'\n",
            "[√] Flutter (Channel stable, 3.16.1, on Microsoft Windows [Version 10.0.22621.2715], locale en-US)\n    • Flutter version 3.16.1 on channel stable at C:\\Development\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 7f20e5d18c (3 days ago), 2023-11-27 09:47:30 -0800\n    • Engine revision 22b600f240\n    • Dart version 3.2.1\n    • DevTools version 2.28.3\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at C:\\Users\\MSM\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Enterprise 2019 16.11.27)\n    • Visual Studio at C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Enterprise\n    • Visual Studio Enterprise 2019 version 16.11.33801.447\n    • Windows 10 SDK version 10.0.19041.0\n\n[√] Android Studio (version 2022.3)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n\n[√] VS Code (version 1.79.2)\n    • VS Code at C:\\Users\\MSM\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.76.0\n\n[√] Connected device (4 available)\n    • sdk gphone x86 (mobile) • emulator-5554 • android-x86    • Android 11 (API 30) (emulator)\n    • Windows (desktop)       • windows       • windows-x64    • Microsoft Windows [Version 10.0.22621.2715]\n    • Chrome (web)            • chrome        • web-javascript • Google Chrome 119.0.6045.124\n    • Edge (web)              • edge          • web-javascript • Microsoft Edge 119.0.2151.93\n\n[√] Network resources\n    • All expected network resources are available.\n"
        ]
    },
    {
        "titulo": "How can I create a Tooth Selection UI in Flutter with 32 Teeth?",
        "score": 0,
        "views": 1518,
        "respostas": 4,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77569981/how-can-i-create-a-tooth-selection-ui-in-flutter-with-32-teeth",
        "conteudo_html": "<p>I'm currently working on a Flutter project and am facing challenges in creating a tooth selection UI with 32 teeth. The UI should be in a oval form, and each tooth needs to be selectable with an icon that changes color when selected.</p>\n<p>I've attempted various approaches, including using Stack and Positioned, as well as exploring the Flutter Shape Maker website (<a href=\"https://fluttershapemaker.com/\" rel=\"nofollow noreferrer\">https://fluttershapemaker.com/</a>).\nHowever, I've encountered issues with teeth overlapping or not being positioned correctly.</p>\n<p>similar idea is here in that link :\n<a href=\"https://codepen.io/johnstuif/pen/JdOXWa\" rel=\"nofollow noreferrer\">https://codepen.io/johnstuif/pen/JdOXWa</a> .</p>\n<p>are there any alternative libraries or methods better suited for creating this type of UI?</p>\n<p><a href=\"https://i.sstatic.net/64qdT.png\" rel=\"nofollow noreferrer\">For clarity, I have attached an image illustrating the desired UI :</a></p>\n<p>I tried the code from <a href=\"https://fluttershapemaker.com/\" rel=\"nofollow noreferrer\">https://fluttershapemaker.com/</a> so i used CustomPainter but it didnt work properly ! , this is the code :</p>\n<pre><code>import 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\nimport 'package:get/get.dart';\nimport 'package:get/get_core/src/get_main.dart';\nimport 'dart:ui' as ui;\nimport '../widgets/testselectedteeth.dart';\n\nclass Test extends StatefulWidget {\n  const Test({super.key});\n\n  @override\n  State&lt;Test&gt; createState() =&gt; _TestState();\n}\n\nclass _TestState extends State&lt;Test&gt; {\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(child: Center(\n      child: Center(\n        child: CustomPaint(\n          size: Size(Get.width, (Get.width*1.2188841201716738).toDouble()), //You can Replace [WIDTH] with your desired width for Custom Paint and height will be calculated automatically\n          painter: RPSCustomPainter(),\n        )\n      )\n    ),\n    );\n  }\n}\n\n//Copy this CustomPainter code to the Bottom of the File\nclass RPSCustomPainter extends CustomPainter {\n@override\nvoid paint(Canvas canvas, Size size) {\n\nPaint paint_0_fill = Paint()..style=PaintingStyle.fill;\npaint_0_fill.color = Color(0xffffffff).withOpacity(1.0);\ncanvas.drawRRect(RRect.fromRectAndCorners(Rect.fromLTWH(0,0,size.width,size.height),bottomRight: Radius.circular(size.width*0.02432046),bottomLeft:  Radius.circular(size.width*0.02432046),topLeft:  Radius.circular(size.width*0.02432046),topRight:  Radius.circular(size.width*0.02432046)),paint_0_fill);\n\nPaint paint_1_stroke = Paint()..style=PaintingStyle.stroke..strokeWidth=size.width*0.0007153076;\npaint_1_stroke.color=Color(0xffdae1eb).withOpacity(1.0);\ncanvas.drawRRect(RRect.fromRectAndCorners(Rect.fromLTWH(size.width*0.0003576538,size.height*0.0002934272,size.width*0.9992847,size.height*0.9994131),bottomRight: Radius.circular(size.width*0.02396280),bottomLeft:  Radius.circular(size.width*0.02396280),topLeft:  Radius.circular(size.width*0.02396280),topRight:  Radius.circular(size.width*0.02396280)),paint_1_stroke);\n\nPath path_2 = Path();\npath_2.moveTo(size.width*0.05117506,size.height*0.05854166);\npath_2.cubicTo(size.width*0.04289034,size.height*0.05854162,size.width*0.01769391,size.height*0.05709627,size.width*0.009796846,size.height*0.05244336);\npath_2.lineTo(size.width*0.009789679,size.height*0.05243913);\npath_2.lineTo(size.width*0.009782254,size.height*0.05243520);\npath_2.cubicTo(size.width*0.008867504,size.height*0.05195051,size.width*0.006506474,size.height*0.05030248,size.width*0.004452697,size.height*0.04846885);\npath_2.cubicTo(size.width*0.001838086,size.height*0.04613452,size.width*0.0004222647,size.height*0.04417941,size.width*0.0003578660,size.height*0.04281425);\npath_2.cubicTo(size.width*0.0003319522,size.height*0.03979083,size.width*0.002672476,size.height*0.03561353,size.width*0.004737604,size.height*0.03192767);\npath_2.cubicTo(size.width*0.005781582,size.height*0.03006436,size.width*0.006767662,size.height*0.02830438,size.width*0.007241825,size.height*0.02700950);\npath_2.lineTo(size.width*0.007319335,size.height*0.02678887);\npath_2.cubicTo(size.width*0.01149954,size.height*0.01487530,size.width*0.01566505,size.height*0.006847222,size.width*0.01904950,size.height*0.004181510);\npath_2.cubicTo(size.width*0.02376568,size.height*0.0007554657,size.width*0.02894936,size.height*0.0002934321,size.width*0.03339841,size.height*0.0002934321);\npath_2.cubicTo(size.width*0.03570410,size.height*0.0002934321,size.width*0.03810776,size.height*0.0004343241,size.width*0.04065255,size.height*0.0005834908);\npath_2.cubicTo(size.width*0.04347474,size.height*0.0007489250,size.width*0.04639303,size.height*0.0009199814,size.width*0.04949589,size.height*0.0009199814);\npath_2.cubicTo(size.width*0.05584766,size.height*0.0009199814,size.width*0.06164476,size.height*0.001623655,size.width*0.06672616,size.height*0.003011460);\npath_2.cubicTo(size.width*0.07210879,size.height*0.004481531,size.width*0.07657636,size.height*0.006694723,size.width*0.08000476,size.height*0.009589536);\npath_2.cubicTo(size.width*0.08567570,size.height*0.01437790,size.width*0.08840723,size.height*0.02090861,size.width*0.08812347,size.height*0.02900025);\npath_2.cubicTo(size.width*0.08795212,size.height*0.03388650,size.width*0.08693743,size.height*0.03827536,size.width*0.08510760,size.height*0.04204490);\npath_2.cubicTo(size.width*0.08334477,size.height*0.04567644,size.width*0.08080683,size.height*0.04877303,size.width*0.07756432,size.height*0.05124865);\npath_2.cubicTo(size.width*0.07440765,size.height*0.05365873,size.width*0.07055773,size.height*0.05550105,size.width*0.06612150,size.height*0.05672445);\npath_2.cubicTo(size.width*0.06174984,size.height*0.05793004,size.width*0.05678756,size.height*0.05854133,size.width*0.05137254,size.height*0.05854133);\npath_2.cubicTo(size.width*0.05130722,size.height*0.05854155,size.width*0.05124205,size.height*0.05854166,size.width*0.05117506,size.height*0.05854166);\npath_2.close();\n\nPaint paint_2_fill = Paint()..style=PaintingStyle.fill;\npaint_2_fill.color = Color(0xffa7a3dd).withOpacity(1.0);\ncanvas.drawPath(path_2,paint_2_fill);\n\nPath path_3 = Path();\npath_3.moveTo(size.width*0.05117506,size.height*0.05883509);\npath_3.lineTo(size.width*0.05117506,size.height*0.05824823);\npath_3.cubicTo(size.width*0.05124152,size.height*0.05824823,size.width*0.05130619,size.height*0.05824813,size.width*0.05137254,size.height*0.05824790);\npath_3.cubicTo(size.width*0.05674875,size.height*0.05824790,size.width*0.06167267,size.height*0.05764176,size.width*0.06600754,size.height*0.05644632);\npath_3.cubicTo(size.width*0.07039522,size.height*0.05523631,size.width*0.07420151,size.height*0.05341529,size.width*0.07732067,size.height*0.05103385);\npath_3.cubicTo(size.width*0.08052413,size.height*0.04858805,size.width*0.08303224,size.height*0.04552720,size.width*0.08477533,size.height*0.04193633);\npath_3.cubicTo(size.width*0.08658962,size.height*0.03819880,size.width*0.08759582,size.height*0.03384363,size.width*0.08776597,size.height*0.02899181);\npath_3.cubicTo(size.width*0.08804685,size.height*0.02098242,size.width*0.08534929,size.height*0.01452336,size.width*0.07974825,size.height*0.009794019);\npath_3.cubicTo(size.width*0.07636018,size.height*0.006933256,size.width*0.07194091,size.height*0.004744934,size.width*0.06661320,size.height*0.003289864);\npath_3.cubicTo(size.width*0.06156829,size.height*0.001912024,size.width*0.05580919,size.height*0.001213409,size.width*0.04949589,size.height*0.001213409);\npath_3.cubicTo(size.width*0.04638026,size.height*0.001213409,size.width*0.04345552,size.height*0.001041965,size.width*0.04062706,size.height*0.0008761786);\npath_3.cubicTo(size.width*0.03808881,size.height*0.0007273875,size.width*0.03569134,size.height*0.0005868593,size.width*0.03339841,size.height*0.0005868593);\npath_3.cubicTo(size.width*0.03043328,size.height*0.0005868593,size.width*0.02806493,size.height*0.0008273992,size.width*0.02594504,size.height*0.001343843);\npath_3.cubicTo(size.width*0.02346706,size.height*0.001947538,size.width*0.02129077,size.height*0.002946318,size.width*0.01929215,size.height*0.004397163);\npath_3.cubicTo(size.width*0.01715795,size.height*0.006081325,size.width*0.01462593,size.height*0.01008079,size.width*0.01196878,size.height*0.01596501);\npath_3.cubicTo(size.width*0.009818878,size.height*0.02072589,size.width*0.008196245,size.height*0.02535038,size.width*0.007663026,size.height*0.02687004);\npath_3.lineTo(size.width*0.007584357,size.height*0.02709393);\npath_3.cubicTo(size.width*0.007103041,size.height*0.02840837,size.width*0.006157461,size.height*0.03009605,size.width*0.005062569,size.height*0.03205022);\npath_3.cubicTo(size.width*0.003115564,size.height*0.03552526,size.width*0.0006929543,size.height*0.03984942,size.width*0.0007154826,size.height*0.04280757);\npath_3.cubicTo(size.width*0.0007790998,size.height*0.04408385,size.width*0.002199298,size.height*0.04602336,size.width*0.004716045,size.height*0.04827032);\npath_3.cubicTo(size.width*0.006918534,size.height*0.05023672,size.width*0.009228849,size.height*0.05179267,size.width*0.009976302,size.height*0.05218871);\npath_3.lineTo(size.width*0.01000547,size.height*0.05220503);\npath_3.cubicTo(size.width*0.01340772,size.height*0.05420962,size.width*0.02059806,size.height*0.05586476,size.width*0.03079918,size.height*0.05699152);\npath_3.cubicTo(size.width*0.03979848,size.height*0.05798554,size.width*0.04806258,size.height*0.05824822,size.width*0.05117506,size.height*0.05824823);\npath_3.lineTo(size.width*0.05117506,size.height*0.05883509);\npath_3.moveTo(size.width*0.05117506,size.height*0.05883509);\npath_3.cubicTo(size.width*0.04382050,size.height*0.05883506,size.width*0.01780169,size.height*0.05752104,size.width*0.009588220,size.height*0.05268169);\npath_3.cubicTo(size.width*0.007822196,size.height*0.05174594,size.width*0.0001532267,size.height*0.04619955,size.width*2.653126e-7,size.height*0.04282104);\npath_3.cubicTo(size.width*-0.00004359735,size.height*0.03812524,size.width*0.005534400,size.height*0.03065252,size.width*0.006899293,size.height*0.02692508);\npath_3.cubicTo(size.width*0.007755115,size.height*0.02449403,size.width*0.01334569,size.height*0.008259782,size.width*0.01880710,size.height*0.003965674);\npath_3.cubicTo(size.width*0.02721102,size.height*-0.002143621,size.width*0.03709277,size.height*0.0006265542,size.width*0.04949589,size.height*0.0006265542);\npath_3.cubicTo(size.width*0.07121770,size.height*0.0006265424,size.width*0.08918626,size.height*0.008897387,size.width*0.08848098,size.height*0.02900869);\npath_3.cubicTo(size.width*0.08777570,size.height*0.04911998,size.width*0.07309436,size.height*0.05883476,size.width*0.05137254,size.height*0.05883476);\npath_3.cubicTo(size.width*0.05130821,size.height*0.05883498,size.width*0.05124256,size.height*0.05883509,size.width*0.05117506,size.height*0.05883509);\npath_3.close();\n\nPaint paint_3_fill = Paint()..style=PaintingStyle.fill;\npaint_3_fill.color = Color(0xff000000).withOpacity(1.0);\ncanvas.drawPath(path_3,paint_3_fill);\n\nPath path_4 = Path();\npath_4.moveTo(size.width*0.03568493,size.height*0.04873402);\npath_4.cubicTo(size.width*0.02072166,size.height*0.04873402,size.width*0.01151754,size.height*0.03570276,size.width*0.005170671,size.height*0.02434997);\npath_4.lineTo(size.width*0.004823818,size.height*0.02373040);\npath_4.cubicTo(size.width*0.003182287,size.height*0.02080017,size.width*0.001631801,size.height*0.01803243,size.width*0.0008590400,size.height*0.01546018);\npath_4.cubicTo(size.width*0.000004848288,size.height*0.01261681,size.width*0.0002322589,size.height*0.01043470,size.width*0.001574762,size.height*0.008592940);\npath_4.cubicTo(size.width*0.003154362,size.height*0.006425897,size.width*0.006308110,size.height*0.004736918,size.width*0.01121624,size.height*0.003429501);\npath_4.cubicTo(size.width*0.01671309,size.height*0.001965264,size.width*0.02429247,size.height*0.001003304,size.width*0.03438748,size.height*0.0004886674);\npath_4.cubicTo(size.width*0.03692873,size.height*0.0003591134,size.width*0.03934453,size.height*0.0002934326,size.width*0.04156781,size.height*0.0002934326);\npath_4.cubicTo(size.width*0.04778265,size.height*0.0002934326,size.width*0.05284011,size.height*0.0008076580,size.width*0.05659971,size.height*0.001821848);\npath_4.cubicTo(size.width*0.05992714,size.height*0.002719442,size.width*0.06234814,size.height*0.004041026,size.width*0.06379548,size.height*0.005749888);\npath_4.cubicTo(size.width*0.06542783,size.height*0.007677165,size.width*0.06591496,size.height*0.01015898,size.width*0.06528473,size.height*0.01333719);\npath_4.cubicTo(size.width*0.06472583,size.height*0.01615572,size.width*0.06341363,size.height*0.01904874,size.width*0.06214462,size.height*0.02184651);\npath_4.cubicTo(size.width*0.06168499,size.height*0.02285985,size.width*0.06125084,size.height*0.02381701,size.width*0.06086682,size.height*0.02474123);\npath_4.cubicTo(size.width*0.06066591,size.height*0.02522478,size.width*0.06046409,size.height*0.02571463,size.width*0.06026036,size.height*0.02620918);\npath_4.cubicTo(size.width*0.05821921,size.height*0.03116374,size.width*0.05590575,size.height*0.03677935,size.width*0.05231088,size.height*0.04109529);\npath_4.cubicTo(size.width*0.04822286,size.height*0.04600331,size.width*0.04307797,size.height*0.04849693,size.width*0.03658219,size.height*0.04871864);\npath_4.cubicTo(size.width*0.03628326,size.height*0.04872884,size.width*0.03598139,size.height*0.04873402,size.width*0.03568493,size.height*0.04873402);\npath_4.close();\n\nPaint paint_4_fill = Paint()..style=PaintingStyle.fill;\npaint_4_fill.color = Color(0xffa7a3dd).withOpacity(1.0);\ncanvas.drawPath(path_4,paint_4_fill);\n\n// and more ...\n\nPaint paint_78_fill = Paint()..style=PaintingStyle.fill;\npaint_78_fill.color = Color(0xffa7a3dd).withOpacity(1.0);\ncanvas.drawPath(path_78,paint_78_fill);\n\nPath path_79 = Path();\npath_79.moveTo(size.width*0.05142241,size.height*0.06928314);\npath_79.lineTo(size.width*0.05142241,size.height*0.06869628);\npath_79.lineTo(size.width*0.05158066,size.height*0.06869601);\npath_79.cubicTo(size.width*0.06223917,size.height*0.06869600,size.width*0.07315905,size.height*0.06529163,size.width*0.08154031,size.height*0.05935583);\npath_79.cubicTo(size.width*0.08585187,size.height*0.05630230,size.width*0.08928567,size.height*0.05274150,size.width*0.09174637,size.height*0.04877238);\npath_79.cubicTo(size.width*0.09437383,size.height*0.04453425,size.width*0.09579065,size.height*0.03997355,size.width*0.09595748,size.height*0.03521695);\npath_79.cubicTo(size.width*0.09611638,size.height*0.03068593,size.width*0.09536793,size.height*0.02642978,size.width*0.09373296,size.height*0.02256674);\npath_79.cubicTo(size.width*0.09209037,size.height*0.01868573,size.width*0.08960145,size.height*0.01531958,size.width*0.08633536,size.height*0.01256181);\npath_79.cubicTo(size.width*0.08009148,size.height*0.007289672,size.width*0.07125378,size.height*0.004502981,size.width*0.06077768,size.height*0.004502981);\npath_79.cubicTo(size.width*0.05726373,size.height*0.004502981,size.width*0.05353583,size.height*0.004817125,size.width*0.04969754,size.height*0.005436690);\npath_79.lineTo(size.width*0.04962915,size.height*0.005447735);\npath_79.lineTo(size.width*0.04955945,size.height*0.005447735);\npath_79.cubicTo(size.width*0.04568095,size.height*0.005447746,size.width*0.04179133,size.height*0.004293475,size.width*0.03767331,size.height*0.003071444);\npath_79.cubicTo(size.width*0.03355714,size.height*0.001849942,size.width*0.02930081,size.height*0.0005868547,size.width*0.02507984,size.height*0.0005868547);\npath_79.cubicTo(size.width*0.02237299,size.height*0.0005868547,size.width*0.01992540,size.height*0.001100364,size.width*0.01759724,size.height*0.002156737);\npath_79.cubicTo(size.width*0.01490188,size.height*0.003379713,size.width*0.01240780,size.height*0.005299856,size.width*0.009973057,size.height*0.008026382);\npath_79.cubicTo(size.width*0.008193026,size.height*0.01015761,size.width*0.006870651,size.height*0.01231404,size.width*0.006042500,size.height*0.01443601);\npath_79.cubicTo(size.width*0.005335761,size.height*0.01624691,size.width*0.004968465,size.height*0.01808864,size.width*0.004950826,size.height*0.01991002);\npath_79.cubicTo(size.width*0.004918451,size.height*0.02325195,size.width*0.006042271,size.height*0.02596329,size.width*0.006862843,size.height*0.02794302);\npath_79.cubicTo(size.width*0.007483473,size.height*0.02944034,size.width*0.007931885,size.height*0.03052218,size.width*0.007650225,size.height*0.03132227);\npath_79.lineTo(size.width*0.007648065,size.height*0.03132828);\npath_79.cubicTo(size.width*0.007166749,size.height*0.03264275,size.width*0.006221155,size.height*0.03433045,size.width*0.005126248,size.height*0.03628465);\npath_79.cubicTo(size.width*0.003177235,size.height*0.03976328,size.width*0.0007516270,size.height*0.04409255,size.width*0.0007792665,size.height*0.04705091);\npath_79.lineTo(size.width*0.0007795956,size.height*0.04708717);\npath_79.lineTo(size.width*0.0007744883,size.height*0.04712319);\npath_79.cubicTo(size.width*0.0003597386,size.height*0.05004961,size.width*0.002127693,size.height*0.05311405,size.width*0.006029224,size.height*0.05623139);\npath_79.cubicTo(size.width*0.009229667,size.height*0.05878855,size.width*0.01296161,size.height*0.06064540,size.width*0.01455522,size.height*0.06143830);\npath_79.cubicTo(size.width*0.01481524,size.height*0.06156767,size.width*0.01502182,size.height*0.06167046,size.width*0.01516382,size.height*0.06174541);\npath_79.cubicTo(size.width*0.02107513,size.height*0.06466784,size.width*0.02902164,size.height*0.06633468,size.width*0.03464872,size.height*0.06721869);\npath_79.cubicTo(size.width*0.04159077,size.height*0.06830926,size.width*0.04802332,size.height*0.06869625,size.width*0.05142241,size.height*0.06869628);\npath_79.lineTo(size.width*0.05142241,size.height*0.06928314);\npath_79.moveTo(size.width*0.05142241,size.height*0.06928313);\npath_79.cubicTo(size.width*0.04423216,size.height*0.06928308,size.width*0.02573646,size.height*0.06766158,size.width*0.01478529,size.height*0.06224344);\npath_79.cubicTo(size.width*0.01301927,size.height*0.06130769,size.width*-0.001061721,size.height*0.05499817,size.width*0.00006397323,size.height*0.04705541);\npath_79.cubicTo(size.width*0.00002011057,size.height*0.04235960,size.width*0.005598122,size.height*0.03488689,size.width*0.006963001,size.height*0.03115943);\npath_79.cubicTo(size.width*0.007818823,size.height*0.02872839,size.width*-0.001106299,size.height*0.02024555,size.width*0.009389366,size.height*0.007687031);\npath_79.cubicTo(size.width*0.02318283,size.height*-0.007768565,size.width*0.03715639,size.height*0.004860892,size.width*0.04955945,size.height*0.004860880);\npath_79.cubicTo(size.width*0.08028566,size.height*-0.00009890341,size.width*0.09737776,size.height*0.01512252,size.width*0.09667248,size.height*0.03523383);\npath_79.cubicTo(size.width*0.09596716,size.height*0.05534512,size.width*0.07330239,size.height*0.06928284,size.width*0.05158066,size.height*0.06928286);\npath_79.cubicTo(size.width*0.05152842,size.height*0.06928304,size.width*0.05147591,size.height*0.06928313,size.width*0.05142241,size.height*0.06928313);\npath_79.close();\n\nPaint paint_79_fill = Paint()..style=PaintingStyle.fill;\npaint_79_fill.color = Color(0xff000000).withOpacity(1.0);\ncanvas.drawPath(path_79,paint_79_fill);\n\n}\n\n@override\nbool shouldRepaint(covariant CustomPainter oldDelegate) {\nreturn true;\n}\n}\n\n</code></pre>\n",
        "codigo": [
            "import 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\nimport 'package:get/get.dart';\nimport 'package:get/get_core/src/get_main.dart';\nimport 'dart:ui' as ui;\nimport '../widgets/testselectedteeth.dart';\n\nclass Test extends StatefulWidget {\n  const Test({super.key});\n\n  @override\n  State<Test> createState() => _TestState();\n}\n\nclass _TestState extends State<Test> {\n\n  @override\n  Widget build(BuildContext context) {\n    return Container(child: Center(\n      child: Center(\n        child: CustomPaint(\n          size: Size(Get.width, (Get.width*1.2188841201716738).toDouble()), //You can Replace [WIDTH] with your desired width for Custom Paint and height will be calculated automatically\n          painter: RPSCustomPainter(),\n        )\n      )\n    ),\n    );\n  }\n}\n\n//Copy this CustomPainter code to the Bottom of the File\nclass RPSCustomPainter extends CustomPainter {\n@override\nvoid paint(Canvas canvas, Size size) {\n\nPaint paint_0_fill = Paint()..style=PaintingStyle.fill;\npaint_0_fill.color = Color(0xffffffff).withOpacity(1.0);\ncanvas.drawRRect(RRect.fromRectAndCorners(Rect.fromLTWH(0,0,size.width,size.height),bottomRight: Radius.circular(size.width*0.02432046),bottomLeft:  Radius.circular(size.width*0.02432046),topLeft:  Radius.circular(size.width*0.02432046),topRight:  Radius.circular(size.width*0.02432046)),paint_0_fill);\n\nPaint paint_1_stroke = Paint()..style=PaintingStyle.stroke..strokeWidth=size.width*0.0007153076;\npaint_1_stroke.color=Color(0xffdae1eb).withOpacity(1.0);\ncanvas.drawRRect(RRect.fromRectAndCorners(Rect.fromLTWH(size.width*0.0003576538,size.height*0.0002934272,size.width*0.9992847,size.height*0.9994131),bottomRight: Radius.circular(size.width*0.02396280),bottomLeft:  Radius.circular(size.width*0.02396280),topLeft:  Radius.circular(size.width*0.02396280),topRight:  Radius.circular(size.width*0.02396280)),paint_1_stroke);\n\nPath path_2 = Path();\npath_2.moveTo(size.width*0.05117506,size.height*0.05854166);\npath_2.cubicTo(size.width*0.04289034,size.height*0.05854162,size.width*0.01769391,size.height*0.05709627,size.width*0.009796846,size.height*0.05244336);\npath_2.lineTo(size.width*0.009789679,size.height*0.05243913);\npath_2.lineTo(size.width*0.009782254,size.height*0.05243520);\npath_2.cubicTo(size.width*0.008867504,size.height*0.05195051,size.width*0.006506474,size.height*0.05030248,size.width*0.004452697,size.height*0.04846885);\npath_2.cubicTo(size.width*0.001838086,size.height*0.04613452,size.width*0.0004222647,size.height*0.04417941,size.width*0.0003578660,size.height*0.04281425);\npath_2.cubicTo(size.width*0.0003319522,size.height*0.03979083,size.width*0.002672476,size.height*0.03561353,size.width*0.004737604,size.height*0.03192767);\npath_2.cubicTo(size.width*0.005781582,size.height*0.03006436,size.width*0.006767662,size.height*0.02830438,size.width*0.007241825,size.height*0.02700950);\npath_2.lineTo(size.width*0.007319335,size.height*0.02678887);\npath_2.cubicTo(size.width*0.01149954,size.height*0.01487530,size.width*0.01566505,size.height*0.006847222,size.width*0.01904950,size.height*0.004181510);\npath_2.cubicTo(size.width*0.02376568,size.height*0.0007554657,size.width*0.02894936,size.height*0.0002934321,size.width*0.03339841,size.height*0.0002934321);\npath_2.cubicTo(size.width*0.03570410,size.height*0.0002934321,size.width*0.03810776,size.height*0.0004343241,size.width*0.04065255,size.height*0.0005834908);\npath_2.cubicTo(size.width*0.04347474,size.height*0.0007489250,size.width*0.04639303,size.height*0.0009199814,size.width*0.04949589,size.height*0.0009199814);\npath_2.cubicTo(size.width*0.05584766,size.height*0.0009199814,size.width*0.06164476,size.height*0.001623655,size.width*0.06672616,size.height*0.003011460);\npath_2.cubicTo(size.width*0.07210879,size.height*0.004481531,size.width*0.07657636,size.height*0.006694723,size.width*0.08000476,size.height*0.009589536);\npath_2.cubicTo(size.width*0.08567570,size.height*0.01437790,size.width*0.08840723,size.height*0.02090861,size.width*0.08812347,size.height*0.02900025);\npath_2.cubicTo(size.width*0.08795212,size.height*0.03388650,size.width*0.08693743,size.height*0.03827536,size.width*0.08510760,size.height*0.04204490);\npath_2.cubicTo(size.width*0.08334477,size.height*0.04567644,size.width*0.08080683,size.height*0.04877303,size.width*0.07756432,size.height*0.05124865);\npath_2.cubicTo(size.width*0.07440765,size.height*0.05365873,size.width*0.07055773,size.height*0.05550105,size.width*0.06612150,size.height*0.05672445);\npath_2.cubicTo(size.width*0.06174984,size.height*0.05793004,size.width*0.05678756,size.height*0.05854133,size.width*0.05137254,size.height*0.05854133);\npath_2.cubicTo(size.width*0.05130722,size.height*0.05854155,size.width*0.05124205,size.height*0.05854166,size.width*0.05117506,size.height*0.05854166);\npath_2.close();\n\nPaint paint_2_fill = Paint()..style=PaintingStyle.fill;\npaint_2_fill.color = Color(0xffa7a3dd).withOpacity(1.0);\ncanvas.drawPath(path_2,paint_2_fill);\n\nPath path_3 = Path();\npath_3.moveTo(size.width*0.05117506,size.height*0.05883509);\npath_3.lineTo(size.width*0.05117506,size.height*0.05824823);\npath_3.cubicTo(size.width*0.05124152,size.height*0.05824823,size.width*0.05130619,size.height*0.05824813,size.width*0.05137254,size.height*0.05824790);\npath_3.cubicTo(size.width*0.05674875,size.height*0.05824790,size.width*0.06167267,size.height*0.05764176,size.width*0.06600754,size.height*0.05644632);\npath_3.cubicTo(size.width*0.07039522,size.height*0.05523631,size.width*0.07420151,size.height*0.05341529,size.width*0.07732067,size.height*0.05103385);\npath_3.cubicTo(size.width*0.08052413,size.height*0.04858805,size.width*0.08303224,size.height*0.04552720,size.width*0.08477533,size.height*0.04193633);\npath_3.cubicTo(size.width*0.08658962,size.height*0.03819880,size.width*0.08759582,size.height*0.03384363,size.width*0.08776597,size.height*0.02899181);\npath_3.cubicTo(size.width*0.08804685,size.height*0.02098242,size.width*0.08534929,size.height*0.01452336,size.width*0.07974825,size.height*0.009794019);\npath_3.cubicTo(size.width*0.07636018,size.height*0.006933256,size.width*0.07194091,size.height*0.004744934,size.width*0.06661320,size.height*0.003289864);\npath_3.cubicTo(size.width*0.06156829,size.height*0.001912024,size.width*0.05580919,size.height*0.001213409,size.width*0.04949589,size.height*0.001213409);\npath_3.cubicTo(size.width*0.04638026,size.height*0.001213409,size.width*0.04345552,size.height*0.001041965,size.width*0.04062706,size.height*0.0008761786);\npath_3.cubicTo(size.width*0.03808881,size.height*0.0007273875,size.width*0.03569134,size.height*0.0005868593,size.width*0.03339841,size.height*0.0005868593);\npath_3.cubicTo(size.width*0.03043328,size.height*0.0005868593,size.width*0.02806493,size.height*0.0008273992,size.width*0.02594504,size.height*0.001343843);\npath_3.cubicTo(size.width*0.02346706,size.height*0.001947538,size.width*0.02129077,size.height*0.002946318,size.width*0.01929215,size.height*0.004397163);\npath_3.cubicTo(size.width*0.01715795,size.height*0.006081325,size.width*0.01462593,size.height*0.01008079,size.width*0.01196878,size.height*0.01596501);\npath_3.cubicTo(size.width*0.009818878,size.height*0.02072589,size.width*0.008196245,size.height*0.02535038,size.width*0.007663026,size.height*0.02687004);\npath_3.lineTo(size.width*0.007584357,size.height*0.02709393);\npath_3.cubicTo(size.width*0.007103041,size.height*0.02840837,size.width*0.006157461,size.height*0.03009605,size.width*0.005062569,size.height*0.03205022);\npath_3.cubicTo(size.width*0.003115564,size.height*0.03552526,size.width*0.0006929543,size.height*0.03984942,size.width*0.0007154826,size.height*0.04280757);\npath_3.cubicTo(size.width*0.0007790998,size.height*0.04408385,size.width*0.002199298,size.height*0.04602336,size.width*0.004716045,size.height*0.04827032);\npath_3.cubicTo(size.width*0.006918534,size.height*0.05023672,size.width*0.009228849,size.height*0.05179267,size.width*0.009976302,size.height*0.05218871);\npath_3.lineTo(size.width*0.01000547,size.height*0.05220503);\npath_3.cubicTo(size.width*0.01340772,size.height*0.05420962,size.width*0.02059806,size.height*0.05586476,size.width*0.03079918,size.height*0.05699152);\npath_3.cubicTo(size.width*0.03979848,size.height*0.05798554,size.width*0.04806258,size.height*0.05824822,size.width*0.05117506,size.height*0.05824823);\npath_3.lineTo(size.width*0.05117506,size.height*0.05883509);\npath_3.moveTo(size.width*0.05117506,size.height*0.05883509);\npath_3.cubicTo(size.width*0.04382050,size.height*0.05883506,size.width*0.01780169,size.height*0.05752104,size.width*0.009588220,size.height*0.05268169);\npath_3.cubicTo(size.width*0.007822196,size.height*0.05174594,size.width*0.0001532267,size.height*0.04619955,size.width*2.653126e-7,size.height*0.04282104);\npath_3.cubicTo(size.width*-0.00004359735,size.height*0.03812524,size.width*0.005534400,size.height*0.03065252,size.width*0.006899293,size.height*0.02692508);\npath_3.cubicTo(size.width*0.007755115,size.height*0.02449403,size.width*0.01334569,size.height*0.008259782,size.width*0.01880710,size.height*0.003965674);\npath_3.cubicTo(size.width*0.02721102,size.height*-0.002143621,size.width*0.03709277,size.height*0.0006265542,size.width*0.04949589,size.height*0.0006265542);\npath_3.cubicTo(size.width*0.07121770,size.height*0.0006265424,size.width*0.08918626,size.height*0.008897387,size.width*0.08848098,size.height*0.02900869);\npath_3.cubicTo(size.width*0.08777570,size.height*0.04911998,size.width*0.07309436,size.height*0.05883476,size.width*0.05137254,size.height*0.05883476);\npath_3.cubicTo(size.width*0.05130821,size.height*0.05883498,size.width*0.05124256,size.height*0.05883509,size.width*0.05117506,size.height*0.05883509);\npath_3.close();\n\nPaint paint_3_fill = Paint()..style=PaintingStyle.fill;\npaint_3_fill.color = Color(0xff000000).withOpacity(1.0);\ncanvas.drawPath(path_3,paint_3_fill);\n\nPath path_4 = Path();\npath_4.moveTo(size.width*0.03568493,size.height*0.04873402);\npath_4.cubicTo(size.width*0.02072166,size.height*0.04873402,size.width*0.01151754,size.height*0.03570276,size.width*0.005170671,size.height*0.02434997);\npath_4.lineTo(size.width*0.004823818,size.height*0.02373040);\npath_4.cubicTo(size.width*0.003182287,size.height*0.02080017,size.width*0.001631801,size.height*0.01803243,size.width*0.0008590400,size.height*0.01546018);\npath_4.cubicTo(size.width*0.000004848288,size.height*0.01261681,size.width*0.0002322589,size.height*0.01043470,size.width*0.001574762,size.height*0.008592940);\npath_4.cubicTo(size.width*0.003154362,size.height*0.006425897,size.width*0.006308110,size.height*0.004736918,size.width*0.01121624,size.height*0.003429501);\npath_4.cubicTo(size.width*0.01671309,size.height*0.001965264,size.width*0.02429247,size.height*0.001003304,size.width*0.03438748,size.height*0.0004886674);\npath_4.cubicTo(size.width*0.03692873,size.height*0.0003591134,size.width*0.03934453,size.height*0.0002934326,size.width*0.04156781,size.height*0.0002934326);\npath_4.cubicTo(size.width*0.04778265,size.height*0.0002934326,size.width*0.05284011,size.height*0.0008076580,size.width*0.05659971,size.height*0.001821848);\npath_4.cubicTo(size.width*0.05992714,size.height*0.002719442,size.width*0.06234814,size.height*0.004041026,size.width*0.06379548,size.height*0.005749888);\npath_4.cubicTo(size.width*0.06542783,size.height*0.007677165,size.width*0.06591496,size.height*0.01015898,size.width*0.06528473,size.height*0.01333719);\npath_4.cubicTo(size.width*0.06472583,size.height*0.01615572,size.width*0.06341363,size.height*0.01904874,size.width*0.06214462,size.height*0.02184651);\npath_4.cubicTo(size.width*0.06168499,size.height*0.02285985,size.width*0.06125084,size.height*0.02381701,size.width*0.06086682,size.height*0.02474123);\npath_4.cubicTo(size.width*0.06066591,size.height*0.02522478,size.width*0.06046409,size.height*0.02571463,size.width*0.06026036,size.height*0.02620918);\npath_4.cubicTo(size.width*0.05821921,size.height*0.03116374,size.width*0.05590575,size.height*0.03677935,size.width*0.05231088,size.height*0.04109529);\npath_4.cubicTo(size.width*0.04822286,size.height*0.04600331,size.width*0.04307797,size.height*0.04849693,size.width*0.03658219,size.height*0.04871864);\npath_4.cubicTo(size.width*0.03628326,size.height*0.04872884,size.width*0.03598139,size.height*0.04873402,size.width*0.03568493,size.height*0.04873402);\npath_4.close();\n\nPaint paint_4_fill = Paint()..style=PaintingStyle.fill;\npaint_4_fill.color = Color(0xffa7a3dd).withOpacity(1.0);\ncanvas.drawPath(path_4,paint_4_fill);\n\n// and more ...\n\nPaint paint_78_fill = Paint()..style=PaintingStyle.fill;\npaint_78_fill.color = Color(0xffa7a3dd).withOpacity(1.0);\ncanvas.drawPath(path_78,paint_78_fill);\n\nPath path_79 = Path();\npath_79.moveTo(size.width*0.05142241,size.height*0.06928314);\npath_79.lineTo(size.width*0.05142241,size.height*0.06869628);\npath_79.lineTo(size.width*0.05158066,size.height*0.06869601);\npath_79.cubicTo(size.width*0.06223917,size.height*0.06869600,size.width*0.07315905,size.height*0.06529163,size.width*0.08154031,size.height*0.05935583);\npath_79.cubicTo(size.width*0.08585187,size.height*0.05630230,size.width*0.08928567,size.height*0.05274150,size.width*0.09174637,size.height*0.04877238);\npath_79.cubicTo(size.width*0.09437383,size.height*0.04453425,size.width*0.09579065,size.height*0.03997355,size.width*0.09595748,size.height*0.03521695);\npath_79.cubicTo(size.width*0.09611638,size.height*0.03068593,size.width*0.09536793,size.height*0.02642978,size.width*0.09373296,size.height*0.02256674);\npath_79.cubicTo(size.width*0.09209037,size.height*0.01868573,size.width*0.08960145,size.height*0.01531958,size.width*0.08633536,size.height*0.01256181);\npath_79.cubicTo(size.width*0.08009148,size.height*0.007289672,size.width*0.07125378,size.height*0.004502981,size.width*0.06077768,size.height*0.004502981);\npath_79.cubicTo(size.width*0.05726373,size.height*0.004502981,size.width*0.05353583,size.height*0.004817125,size.width*0.04969754,size.height*0.005436690);\npath_79.lineTo(size.width*0.04962915,size.height*0.005447735);\npath_79.lineTo(size.width*0.04955945,size.height*0.005447735);\npath_79.cubicTo(size.width*0.04568095,size.height*0.005447746,size.width*0.04179133,size.height*0.004293475,size.width*0.03767331,size.height*0.003071444);\npath_79.cubicTo(size.width*0.03355714,size.height*0.001849942,size.width*0.02930081,size.height*0.0005868547,size.width*0.02507984,size.height*0.0005868547);\npath_79.cubicTo(size.width*0.02237299,size.height*0.0005868547,size.width*0.01992540,size.height*0.001100364,size.width*0.01759724,size.height*0.002156737);\npath_79.cubicTo(size.width*0.01490188,size.height*0.003379713,size.width*0.01240780,size.height*0.005299856,size.width*0.009973057,size.height*0.008026382);\npath_79.cubicTo(size.width*0.008193026,size.height*0.01015761,size.width*0.006870651,size.height*0.01231404,size.width*0.006042500,size.height*0.01443601);\npath_79.cubicTo(size.width*0.005335761,size.height*0.01624691,size.width*0.004968465,size.height*0.01808864,size.width*0.004950826,size.height*0.01991002);\npath_79.cubicTo(size.width*0.004918451,size.height*0.02325195,size.width*0.006042271,size.height*0.02596329,size.width*0.006862843,size.height*0.02794302);\npath_79.cubicTo(size.width*0.007483473,size.height*0.02944034,size.width*0.007931885,size.height*0.03052218,size.width*0.007650225,size.height*0.03132227);\npath_79.lineTo(size.width*0.007648065,size.height*0.03132828);\npath_79.cubicTo(size.width*0.007166749,size.height*0.03264275,size.width*0.006221155,size.height*0.03433045,size.width*0.005126248,size.height*0.03628465);\npath_79.cubicTo(size.width*0.003177235,size.height*0.03976328,size.width*0.0007516270,size.height*0.04409255,size.width*0.0007792665,size.height*0.04705091);\npath_79.lineTo(size.width*0.0007795956,size.height*0.04708717);\npath_79.lineTo(size.width*0.0007744883,size.height*0.04712319);\npath_79.cubicTo(size.width*0.0003597386,size.height*0.05004961,size.width*0.002127693,size.height*0.05311405,size.width*0.006029224,size.height*0.05623139);\npath_79.cubicTo(size.width*0.009229667,size.height*0.05878855,size.width*0.01296161,size.height*0.06064540,size.width*0.01455522,size.height*0.06143830);\npath_79.cubicTo(size.width*0.01481524,size.height*0.06156767,size.width*0.01502182,size.height*0.06167046,size.width*0.01516382,size.height*0.06174541);\npath_79.cubicTo(size.width*0.02107513,size.height*0.06466784,size.width*0.02902164,size.height*0.06633468,size.width*0.03464872,size.height*0.06721869);\npath_79.cubicTo(size.width*0.04159077,size.height*0.06830926,size.width*0.04802332,size.height*0.06869625,size.width*0.05142241,size.height*0.06869628);\npath_79.lineTo(size.width*0.05142241,size.height*0.06928314);\npath_79.moveTo(size.width*0.05142241,size.height*0.06928313);\npath_79.cubicTo(size.width*0.04423216,size.height*0.06928308,size.width*0.02573646,size.height*0.06766158,size.width*0.01478529,size.height*0.06224344);\npath_79.cubicTo(size.width*0.01301927,size.height*0.06130769,size.width*-0.001061721,size.height*0.05499817,size.width*0.00006397323,size.height*0.04705541);\npath_79.cubicTo(size.width*0.00002011057,size.height*0.04235960,size.width*0.005598122,size.height*0.03488689,size.width*0.006963001,size.height*0.03115943);\npath_79.cubicTo(size.width*0.007818823,size.height*0.02872839,size.width*-0.001106299,size.height*0.02024555,size.width*0.009389366,size.height*0.007687031);\npath_79.cubicTo(size.width*0.02318283,size.height*-0.007768565,size.width*0.03715639,size.height*0.004860892,size.width*0.04955945,size.height*0.004860880);\npath_79.cubicTo(size.width*0.08028566,size.height*-0.00009890341,size.width*0.09737776,size.height*0.01512252,size.width*0.09667248,size.height*0.03523383);\npath_79.cubicTo(size.width*0.09596716,size.height*0.05534512,size.width*0.07330239,size.height*0.06928284,size.width*0.05158066,size.height*0.06928286);\npath_79.cubicTo(size.width*0.05152842,size.height*0.06928304,size.width*0.05147591,size.height*0.06928313,size.width*0.05142241,size.height*0.06928313);\npath_79.close();\n\nPaint paint_79_fill = Paint()..style=PaintingStyle.fill;\npaint_79_fill.color = Color(0xff000000).withOpacity(1.0);\ncanvas.drawPath(path_79,paint_79_fill);\n\n}\n\n@override\nbool shouldRepaint(covariant CustomPainter oldDelegate) {\nreturn true;\n}\n}\n\n"
        ]
    },
    {
        "titulo": "dart_test: how to execute `setUp` if a loop before `test` is used based on the data assigned in `setUp`?",
        "score": 0,
        "views": 77,
        "respostas": 3,
        "tags": [
            "dart",
            "unit-testing",
            "testing"
        ],
        "link": "https://stackoverflow.com/questions/77562063/dart-test-how-to-execute-setup-if-a-loop-before-test-is-used-based-on-the-d",
        "conteudo_html": "<p>The problem is in this code:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void main() {\n  late List&lt;int&gt; data;\n\n  setUp(() async {\n    data = [11, 22, 33];\n  });\n  \n  int counter = 0;\n  for (final d in data) { // error\n    test('data', () {\n      expect(d, data[counter++]);\n    });\n  }\n}\n</code></pre>\n<p><strong>error</strong>:</p>\n<pre><code>Local 'data' has not been initialized.\n</code></pre>\n<p><em>How can we specify that the <code>setUp</code> function should be called before the data is used?</em></p>\n<p>I tried wrapping <code>test</code> in <code>group</code> - same error.</p>\n",
        "codigo": [
            "void main() {\n  late List<int> data;\n\n  setUp(() async {\n    data = [11, 22, 33];\n  });\n  \n  int counter = 0;\n  for (final d in data) { // error\n    test('data', () {\n      expect(d, data[counter++]);\n    });\n  }\n}\n",
            "Local 'data' has not been initialized.\n",
            "setUp",
            "test",
            "group"
        ]
    },
    {
        "titulo": "given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console",
        "score": 1,
        "views": 61,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/77550837/given-sign-in-provider-is-disabled-for-this-firebase-project-enable-it-in-the-f",
        "conteudo_html": "<p>I've registered the app in firebase console and enabled phone sign-in and added SHA1 &amp; SHA265 from ./gradle signingreport &amp; downloaded google-services.json</p>\n<p>Error:<a href=\"https://i.sstatic.net/kPdf2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/kPdf2.png\" alt=\"enter image description here\" /></a></p>\n<p>Firebase Console:\n<a href=\"https://i.sstatic.net/3FbLl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/3FbLl.png\" alt=\"enter image description here\" /></a></p>\n<p>Project Settings:\n<a href=\"https://i.sstatic.net/ZWUaN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/ZWUaN.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>app/build.gradle:</strong></p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'com.google.gms.google-services'\n}\n\ndef localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new RuntimeException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'com.google.gms.google-services'\napply plugin: 'com.google.firebase.crashlytics'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file(&quot;key.properties&quot;)\nkeystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n\nkeystoreProperties.load(new FileInputStream(keystorePropertiesFile))\nandroid {\n    namespace &quot;com.xxxxhore.mosaic_doctors&quot;\n    compileSdkVersion flutter.compileSdkVersion\n    compileSdkVersion 33\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n    signingConfigs {\n        release {\n//            storeFile file(&quot;key2.jks&quot;)\n//            storePassword &quot;keystore3&quot;\n//            keyAlias &quot;key&quot;\n//            keyPassword &quot;keystore3&quot;\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile file(keystoreProperties['storeFile'])\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n    buildTypes {\n        release {\n            signingConfig signingConfigs.release\n            shrinkResources false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n\n        }\n    }\n    kotlin {\n        jvmToolchain(8)\n    }\n\n    android.lintOptions {\n        disable 'InvalidPackage'\n        checkReleaseBuilds false\n        abortOnError false\n        ignoreWarnings true //false\n    }\n\n    defaultConfig {\n\n        applicationId &quot;com.xxxxhore.mosaic_doctors&quot;\n        minSdkVersion 20\n        targetSdkVersion 33\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        multiDexEnabled true\n    }\n\n}\n\n\n\n\n\n\n\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    // implementation 'androidx.appcompat:appcompat:1.6.1'\n    // implementation 'com.google.android.material:material:1.0.0'\n    // implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    // implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    // implementation &quot;androidx.browser:browser:1.3.0&quot;\n    // implementation platform('com.google.firebase:firebase-bom:25.12.0')\n    // implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    // implementation 'androidx.multidex:multidex:2.0.0'\n    // implementation 'com.google.firebase:firebase-auth'\n    // implementation 'com.google.firebase:firebase-firestore-ktx'\n}\ntasks.register(&quot;prepareKotlinBuildScriptModel&quot;){}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p><strong>project/build.gradle:</strong></p>\n<pre><code>buildscript {\n\n    ext.kotlin_version = '1.8.22'\n\n    repositories {\n        google()\n        mavenCentral()\n\n    }\n    dependencies {\n\n        classpath 'com.android.tools.build:gradle:7.2.0'\n        classpath 'com.google.gms:google-services:4.3.14'\n\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.8.1'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n\n    }\n}\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>Verification code:</strong></p>\n<pre><code>Future&lt;void&gt; sendOtp( String phoneNo) async{\n    \n  await FirebaseAuth.instance.verifyPhoneNumber(\n    phoneNumber: phoneNo,\n    verificationCompleted: (PhoneAuthCredential credential) async{\n      await _auth.signInWithCredential(credential);\n    },\n    verificationFailed: (FirebaseAuthException e) {\n      if (e.code == 'invalid-phone-number') {\n        print('The provided phone number is not valid.');\n      \n      }else {\n        print(e.code);\n      \n      }\n\n      // Handle other errors\n    },\n    codeSent: (String verificationId, int? resendToken) {\n      this.verificationId = verificationId;\n      print(&quot;verif id : ${this.verificationId}&quot;);\n    },\n    codeAutoRetrievalTimeout: (String verificationId) {\n      this.verificationId = verificationId;\n    },\n  ) ;\n  }\n</code></pre>\n<p>Previously I had this error:\nSMS verification code request failed: unknown status code: 17499 Error code:39</p>\n<p>i tried flutterfire config.\ni tried answers on the web.\ni tried changing gradle versions.</p>\n",
        "codigo": [
            "plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'com.google.gms.google-services'\n}\n\ndef localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader ->\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new RuntimeException(\"Flutter SDK not found. Define location with flutter.sdk in the local.properties file.\")\n}\n\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'com.google.gms.google-services'\napply plugin: 'com.google.firebase.crashlytics'\napply from: \"$flutterRoot/packages/flutter_tools/gradle/flutter.gradle\"\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file(\"key.properties\")\nkeystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n\nkeystoreProperties.load(new FileInputStream(keystorePropertiesFile))\nandroid {\n    namespace \"com.xxxxhore.mosaic_doctors\"\n    compileSdkVersion flutter.compileSdkVersion\n    compileSdkVersion 33\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n    signingConfigs {\n        release {\n//            storeFile file(\"key2.jks\")\n//            storePassword \"keystore3\"\n//            keyAlias \"key\"\n//            keyPassword \"keystore3\"\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile file(keystoreProperties['storeFile'])\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n    buildTypes {\n        release {\n            signingConfig signingConfigs.release\n            shrinkResources false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n\n        }\n    }\n    kotlin {\n        jvmToolchain(8)\n    }\n\n    android.lintOptions {\n        disable 'InvalidPackage'\n        checkReleaseBuilds false\n        abortOnError false\n        ignoreWarnings true //false\n    }\n\n    defaultConfig {\n\n        applicationId \"com.xxxxhore.mosaic_doctors\"\n        minSdkVersion 20\n        targetSdkVersion 33\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        multiDexEnabled true\n    }\n\n}\n\n\n\n\n\n\n\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    // implementation 'androidx.appcompat:appcompat:1.6.1'\n    // implementation 'com.google.android.material:material:1.0.0'\n    // implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    // implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    // implementation \"androidx.browser:browser:1.3.0\"\n    // implementation platform('com.google.firebase:firebase-bom:25.12.0')\n    // implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    // implementation 'androidx.multidex:multidex:2.0.0'\n    // implementation 'com.google.firebase:firebase-auth'\n    // implementation 'com.google.firebase:firebase-firestore-ktx'\n}\ntasks.register(\"prepareKotlinBuildScriptModel\"){}\napply plugin: 'com.google.gms.google-services'\n",
            "buildscript {\n\n    ext.kotlin_version = '1.8.22'\n\n    repositories {\n        google()\n        mavenCentral()\n\n    }\n    dependencies {\n\n        classpath 'com.android.tools.build:gradle:7.2.0'\n        classpath 'com.google.gms:google-services:4.3.14'\n\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.8.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n\n    }\n}\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\ntasks.register(\"clean\", Delete) {\n    delete rootProject.buildDir\n}\n",
            "Future<void> sendOtp( String phoneNo) async{\n    \n  await FirebaseAuth.instance.verifyPhoneNumber(\n    phoneNumber: phoneNo,\n    verificationCompleted: (PhoneAuthCredential credential) async{\n      await _auth.signInWithCredential(credential);\n    },\n    verificationFailed: (FirebaseAuthException e) {\n      if (e.code == 'invalid-phone-number') {\n        print('The provided phone number is not valid.');\n      \n      }else {\n        print(e.code);\n      \n      }\n\n      // Handle other errors\n    },\n    codeSent: (String verificationId, int? resendToken) {\n      this.verificationId = verificationId;\n      print(\"verif id : ${this.verificationId}\");\n    },\n    codeAutoRetrievalTimeout: (String verificationId) {\n      this.verificationId = verificationId;\n    },\n  ) ;\n  }\n"
        ]
    },
    {
        "titulo": "Package name conflict issue in minifyReleaseWithR8",
        "score": 1,
        "views": 318,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "dart",
            "gradle"
        ],
        "link": "https://stackoverflow.com/questions/77546727/package-name-conflict-issue-in-minifyreleasewithr8",
        "conteudo_html": "<p>Since upgrading to Gradle 8, I'm facing this issue without any proper way fix for few days.</p>\n<p>Error on minifyReleaseWithR8:</p>\n<pre><code>Type com.my.package.BuildConfig is defined multiple times: C:\\Users\\MyProject\\build\\firebase_messaging\\intermediates\\runtime_library_classes_jar\\release\\classes.jar:com/my/package/BuildConfig.class, C:\\Users\\MyProject\\firebase_core\\intermediates\\runtime_library_classes_jar\\release\\classes.jar:com/my/package/BuildConfig.class\n</code></pre>\n<p>Project gradle file:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.8.22'\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            url &quot;https://plugins.gradle.org/m2/&quot;\n        }\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:8.1.4'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.4.0'\n        classpath &quot;com.jeff-media:fix-javadoc-plugin:1.19&quot;\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nsubprojects{\n    afterEvaluate {\n        android {\n            namespace 'com.my.package'\n        }\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n    project.evaluationDependsOn(':app')\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.buildDir\n}\napply plugin: &quot;com.jeff-media.fix-javadoc-plugin&quot;\n</code></pre>\n<p>App Gradle file:</p>\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n    compileSdk 33\n    sourceSets {\n        main.java.srcDirs = ['src/main/kotlin', 'build/generated/source/buildConfig/release', 'build/generated/source/buildConfig/debug']\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId 'com.my.package'\n        minSdkVersion 23\n        targetSdkVersion 33\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        multiDexEnabled true\n    }\n    signingConfigs {\n        release {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n\n    buildTypes {\n\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            //signingConfig signingConfigs.debug\n            signingConfig signingConfigs.release\n\n            minifyEnabled true\n            shrinkResources true\n\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n\n            ndk {\n                abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86', 'x86_64'\n            }\n\n        }\n\n    }\n    lint {\n        disable 'InvalidPackage'\n    }\n    namespace 'com.my.package'\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation 'com.google.firebase:firebase-messaging:23.3.1'\n    implementation 'androidx.multidex:multidex:2.0.1'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>Flutter Doctor:</p>\n<pre><code>[√] Flutter (Channel stable, 3.16.0, on Microsoft Windows [Version 10.0.22621.2715], locale en-US)\n    • Flutter version 3.16.0 on channel stable at C:\\Development\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision db7ef5bf9f (9 days ago), 2023-11-15 11:25:44 -0800\n    • Engine revision 74d16627b9\n    • Dart version 3.2.0\n    • DevTools version 2.28.2\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at C:\\Users\\MSM\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n[√] VS Code (version 1.79.2)\n    • VS Code at C:\\Users\\MSM\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.76.0\n\n[√] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.22621.2715]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 119.0.6045.124\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 119.0.2151.72\n\n[√] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n<p>Any help would appreciated.</p>\n<p>My project was building fine without any issues on while using Gradle 7.\nSince Android studio suggested me to upgrade to Gradle 8 and i hoped it would be better since Gradle 7 will be out of support soon.\nI tried following:</p>\n<ul>\n<li>Downgrading to Gradle 7 -&gt; But somehow now i'm facing way more issues. So had to revert back to Gradle 8.</li>\n<li>Clear/Rebuild</li>\n<li>Invalidate cache</li>\n<li>Deleting .build, .gradle folders(project, root)</li>\n</ul>\n",
        "codigo": [
            "Type com.my.package.BuildConfig is defined multiple times: C:\\Users\\MyProject\\build\\firebase_messaging\\intermediates\\runtime_library_classes_jar\\release\\classes.jar:com/my/package/BuildConfig.class, C:\\Users\\MyProject\\firebase_core\\intermediates\\runtime_library_classes_jar\\release\\classes.jar:com/my/package/BuildConfig.class\n",
            "buildscript {\n    ext.kotlin_version = '1.8.22'\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            url \"https://plugins.gradle.org/m2/\"\n        }\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:8.1.4'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.google.gms:google-services:4.4.0'\n        classpath \"com.jeff-media:fix-javadoc-plugin:1.19\"\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nsubprojects{\n    afterEvaluate {\n        android {\n            namespace 'com.my.package'\n        }\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n    project.evaluationDependsOn(':app')\n}\n\ntasks.register(\"clean\", Delete) {\n    delete rootProject.buildDir\n}\napply plugin: \"com.jeff-media.fix-javadoc-plugin\"\n",
            "def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader ->\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(\"Flutter SDK not found. Define location with flutter.sdk in the local.properties file.\")\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: \"$flutterRoot/packages/flutter_tools/gradle/flutter.gradle\"\n\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n    compileSdk 33\n    sourceSets {\n        main.java.srcDirs = ['src/main/kotlin', 'build/generated/source/buildConfig/release', 'build/generated/source/buildConfig/debug']\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId 'com.my.package'\n        minSdkVersion 23\n        targetSdkVersion 33\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        multiDexEnabled true\n    }\n    signingConfigs {\n        release {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n\n    buildTypes {\n\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            //signingConfig signingConfigs.debug\n            signingConfig signingConfigs.release\n\n            minifyEnabled true\n            shrinkResources true\n\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n\n            ndk {\n                abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86', 'x86_64'\n            }\n\n        }\n\n    }\n    lint {\n        disable 'InvalidPackage'\n    }\n    namespace 'com.my.package'\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.google.firebase:firebase-messaging:23.3.1'\n    implementation 'androidx.multidex:multidex:2.0.1'\n}\n\napply plugin: 'com.google.gms.google-services'\n",
            "[√] Flutter (Channel stable, 3.16.0, on Microsoft Windows [Version 10.0.22621.2715], locale en-US)\n    • Flutter version 3.16.0 on channel stable at C:\\Development\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision db7ef5bf9f (9 days ago), 2023-11-15 11:25:44 -0800\n    • Engine revision 74d16627b9\n    • Dart version 3.2.0\n    • DevTools version 2.28.2\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at C:\\Users\\MSM\\AppData\\Local\\Android\\sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n[√] VS Code (version 1.79.2)\n    • VS Code at C:\\Users\\MSM\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.76.0\n\n[√] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.22621.2715]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 119.0.6045.124\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 119.0.2151.72\n\n[√] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n"
        ]
    },
    {
        "titulo": "Dart get sub-generic type",
        "score": 2,
        "views": 60,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "generics"
        ],
        "link": "https://stackoverflow.com/questions/77523771/dart-get-sub-generic-type",
        "conteudo_html": "<p>I try escape from mention of duplicate types\nfor example we have next two generic classes</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class Test1&lt;E extends Enum&gt; {\n  const Test1(this.element);\n\n  final E? element;\n}\n\nclass Test2&lt;T extends Test1&lt;E&gt;, E extends Enum&gt; {\n  const Test2(this.tester);\n\n  final T tester;\n\n  E? test() { \n    return tester.element;\n  }\n}\n\nenum TestE {\n  oneCase,\n  otherCase,\n}\n\n/// As can we see here we specified type [TestE] twice for [Test2].\n/// it looks unnecessary, overhead.\nfinal maintTest = (){\n  const t1 = Test1&lt;TestE&gt;(TestE.oneCase);\n  const t2 = Test2&lt;Test1&lt;TestE&gt;,TestE&gt;(t1);\n  \n  final TestE? result = t2.test();\n  \n  return result;\n};\n</code></pre>\n<p>so I try to find a way - how I can get sub generic class without duplicate.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>/// Some like this\nclass Test2&lt;T extends Test1&gt; {\n  const Test2(this.tester);\n\n  final Test1&lt;E&gt; tester;\n\n  T.E? test() { // or T::E \n    //or something else \n    //but I believe we should be able specified [E] type from [T]\n    return tester.element;\n  }\n}\n\n/// And then we will can do it like this\nfinal maintTest = (){\n  const t1 = Test1&lt;TestE&gt;(TestE.oneCase);\n  const t2 = Test2&lt;Test1&lt;TestE&gt;&gt;(t1);\n\n  final TestE? result = t2.test();\n\n  return result;\n};\n\n</code></pre>\n",
        "codigo": [
            "class Test1<E extends Enum> {\n  const Test1(this.element);\n\n  final E? element;\n}\n\nclass Test2<T extends Test1<E>, E extends Enum> {\n  const Test2(this.tester);\n\n  final T tester;\n\n  E? test() { \n    return tester.element;\n  }\n}\n\nenum TestE {\n  oneCase,\n  otherCase,\n}\n\n/// As can we see here we specified type [TestE] twice for [Test2].\n/// it looks unnecessary, overhead.\nfinal maintTest = (){\n  const t1 = Test1<TestE>(TestE.oneCase);\n  const t2 = Test2<Test1<TestE>,TestE>(t1);\n  \n  final TestE? result = t2.test();\n  \n  return result;\n};\n",
            "/// Some like this\nclass Test2<T extends Test1> {\n  const Test2(this.tester);\n\n  final Test1<E> tester;\n\n  T.E? test() { // or T::E \n    //or something else \n    //but I believe we should be able specified [E] type from [T]\n    return tester.element;\n  }\n}\n\n/// And then we will can do it like this\nfinal maintTest = (){\n  const t1 = Test1<TestE>(TestE.oneCase);\n  const t2 = Test2<Test1<TestE>>(t1);\n\n  final TestE? result = t2.test();\n\n  return result;\n};\n\n"
        ]
    },
    {
        "titulo": "How to write testcase for showing dialog using mockito for Flutter?",
        "score": 3,
        "views": 57,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "mockito"
        ],
        "link": "https://stackoverflow.com/questions/77510063/how-to-write-testcase-for-showing-dialog-using-mockito-for-flutter",
        "conteudo_html": "<pre><code> Future&lt;void&gt; showPopUp() async {\n    return await showDialogPopup(\n      context: _context,\n      barrierDismissible: false,\n      builder: (_) =&gt; WillPopScope(\n        onWillPop: () async =&gt; false,\n        child: CaregiverWelcomeDialog(\n          CaregiverWelcomeModalViewModel(_localizer!),\n        ),\n      ),\n    );\n  }\n\n  Future&lt;void&gt; handleCaregiverRouteforWeb() async {\n    await _userService.updateWebUserLoggedInStatus();\n\n    final isCaregiver =\n        _userService.currentUser?.userType == IrisUserType.Caregiver;\n\n    if (isCaregiver) {\n      await showPopUp();\n    }\n\n    _navigationService.goToRoute(HomeRoute);\n\n    if (_featureFlagService.hasAccess(FeatureFlag.BrazeIAMEvent)) {\n      _behaviorTrackerService\n          .track(getUserProfileAppOnboardingCompleted(buildContext));\n    }\n\n    return;\n  }\n\n</code></pre>\n<pre><code>test(\n      'handleCaregiverRoute should update web user status and show dialog if caregiver on web',\n      () async {\n    final mockBuildContext = MockBuildContext();\n    final testLocalizer = TestLocalizer();\n\n    final viewModel = DeviceVerificationScreenViewModel(\n      testLocalizer,\n      context: mockBuildContext,\n      memberInformation: memberInformationMinusPhone,\n    );\n\n    when(mockUserService.currentUser).thenReturn(caregiverMock);\n\n    // Mock navigation service\n    when(mockNavigationService.goToRoute(HomeRoute))\n        .thenAnswer((_) async =&gt; null);\n\n    // Mock feature flag service\n    when(mockFeatureFlagService.hasAccess(FeatureFlag.BrazeIAMEvent))\n        .thenReturn(false);\n\n    // Mock showDialogPopup with non-null context\n    when(\n      showDialogPopup(\n        context: mockBuildContext,\n        barrierDismissible: false,\n        builder: (_) =&gt; WillPopScope(\n          onWillPop: () async =&gt; false,\n          child: CaregiverWelcomeDialog(\n            CaregiverWelcomeModalViewModel(testLocalizer),\n          ),\n        ),\n      ),\n    ).thenAnswer((_) async {});\n\n    // Act\n    await viewModel.handleCaregiverRouteforWeb();\n\n    // Verify that showDialogPopup is called with the correct context\n    verify(\n      showDialogPopup(\n        context: mockBuildContext,\n        barrierDismissible: false,\n        builder: (_) =&gt; WillPopScope(\n          onWillPop: () async =&gt; false,\n          child: CaregiverWelcomeDialog(\n            CaregiverWelcomeModalViewModel(testLocalizer),\n          ),\n        ),\n      ),\n    ).called(1);\n\n    // Verify other expectations\n    verify(mockNavigationService.goToRoute(HomeRoute)).called(1);\n    expect(mockUserService.currentUser?.userType, IrisUserType.Caregiver);\n    verify(mockBehaviorTrackerService.track(any));\n\n    // Verify that showPopUp is NOT called\n    verifyNever(viewModel.showPopUp());\n  });\n</code></pre>\n<p>I wrote this testcase but getting 'type 'Null' is not a subtype of type 'Widget' error for showPopUp . I checked if context and localizer are null but they are not null still getting this error. Help me cover the last 3 lines in the method including navigation also in the testcase. How to cover all the lines in the method and get rid of Null error. Please help.</p>\n<pre class=\"lang-none prettyprint-override\"><code>test/view_models/device_verification_screen_view_model_test.dart 25:7                                            MockBuildContext.widget\npackage:flutter/src/widgets/debug.dart 296:17                                                                    debugCheckHasMediaQuery.&lt;fn&gt;\npackage:flutter/src/widgets/debug.dart 311:4                                                                     debugCheckHasMediaQuery\npackage:flutter/src/widgets/media_query.dart 1025:12                                                             MediaQuery._of\npackage:flutter/src/widgets/media_query.dart 1021:12                                                             MediaQuery.of\npackage:ui_library/responsive/orientation_util.dart 5:23                                                         OrientationUtil.getScreenWidth\npackage:ui_library/responsive/iris_responsive_style.dart 36:45                                                   IrisResponsiveStyle.deviceWidth\npackage:ui_library/responsive/iris_responsive_style.dart 49:12                                                   IrisResponsiveStyle.screenSize\npackage:ui_library/responsive/iris_device_type.dart 41:32                                                        new IrisDeviceType.from\npackage:ui_library/responsive/iris_responsive_style.dart 53:27                                                   IrisResponsiveStyle.deviceType\npackage:iris/core/domain/mixins/braze_event_mixin.dart 30:16                                                     BrazeEventsMixin.getUserProfileAppOnboardingCompleted\npackage:iris/features/account_create/presentation/view_models/device_verification_screen_view_model.dart 321:18  DeviceVerificationScreenViewModel.handleCaregiverRouteforWeb\n</code></pre>\n<p>type 'Null' is not a subtype of type 'Widget'</p>\n",
        "codigo": [
            " Future<void> showPopUp() async {\n    return await showDialogPopup(\n      context: _context,\n      barrierDismissible: false,\n      builder: (_) => WillPopScope(\n        onWillPop: () async => false,\n        child: CaregiverWelcomeDialog(\n          CaregiverWelcomeModalViewModel(_localizer!),\n        ),\n      ),\n    );\n  }\n\n  Future<void> handleCaregiverRouteforWeb() async {\n    await _userService.updateWebUserLoggedInStatus();\n\n    final isCaregiver =\n        _userService.currentUser?.userType == IrisUserType.Caregiver;\n\n    if (isCaregiver) {\n      await showPopUp();\n    }\n\n    _navigationService.goToRoute(HomeRoute);\n\n    if (_featureFlagService.hasAccess(FeatureFlag.BrazeIAMEvent)) {\n      _behaviorTrackerService\n          .track(getUserProfileAppOnboardingCompleted(buildContext));\n    }\n\n    return;\n  }\n\n",
            "test(\n      'handleCaregiverRoute should update web user status and show dialog if caregiver on web',\n      () async {\n    final mockBuildContext = MockBuildContext();\n    final testLocalizer = TestLocalizer();\n\n    final viewModel = DeviceVerificationScreenViewModel(\n      testLocalizer,\n      context: mockBuildContext,\n      memberInformation: memberInformationMinusPhone,\n    );\n\n    when(mockUserService.currentUser).thenReturn(caregiverMock);\n\n    // Mock navigation service\n    when(mockNavigationService.goToRoute(HomeRoute))\n        .thenAnswer((_) async => null);\n\n    // Mock feature flag service\n    when(mockFeatureFlagService.hasAccess(FeatureFlag.BrazeIAMEvent))\n        .thenReturn(false);\n\n    // Mock showDialogPopup with non-null context\n    when(\n      showDialogPopup(\n        context: mockBuildContext,\n        barrierDismissible: false,\n        builder: (_) => WillPopScope(\n          onWillPop: () async => false,\n          child: CaregiverWelcomeDialog(\n            CaregiverWelcomeModalViewModel(testLocalizer),\n          ),\n        ),\n      ),\n    ).thenAnswer((_) async {});\n\n    // Act\n    await viewModel.handleCaregiverRouteforWeb();\n\n    // Verify that showDialogPopup is called with the correct context\n    verify(\n      showDialogPopup(\n        context: mockBuildContext,\n        barrierDismissible: false,\n        builder: (_) => WillPopScope(\n          onWillPop: () async => false,\n          child: CaregiverWelcomeDialog(\n            CaregiverWelcomeModalViewModel(testLocalizer),\n          ),\n        ),\n      ),\n    ).called(1);\n\n    // Verify other expectations\n    verify(mockNavigationService.goToRoute(HomeRoute)).called(1);\n    expect(mockUserService.currentUser?.userType, IrisUserType.Caregiver);\n    verify(mockBehaviorTrackerService.track(any));\n\n    // Verify that showPopUp is NOT called\n    verifyNever(viewModel.showPopUp());\n  });\n",
            "test/view_models/device_verification_screen_view_model_test.dart 25:7                                            MockBuildContext.widget\npackage:flutter/src/widgets/debug.dart 296:17                                                                    debugCheckHasMediaQuery.<fn>\npackage:flutter/src/widgets/debug.dart 311:4                                                                     debugCheckHasMediaQuery\npackage:flutter/src/widgets/media_query.dart 1025:12                                                             MediaQuery._of\npackage:flutter/src/widgets/media_query.dart 1021:12                                                             MediaQuery.of\npackage:ui_library/responsive/orientation_util.dart 5:23                                                         OrientationUtil.getScreenWidth\npackage:ui_library/responsive/iris_responsive_style.dart 36:45                                                   IrisResponsiveStyle.deviceWidth\npackage:ui_library/responsive/iris_responsive_style.dart 49:12                                                   IrisResponsiveStyle.screenSize\npackage:ui_library/responsive/iris_device_type.dart 41:32                                                        new IrisDeviceType.from\npackage:ui_library/responsive/iris_responsive_style.dart 53:27                                                   IrisResponsiveStyle.deviceType\npackage:iris/core/domain/mixins/braze_event_mixin.dart 30:16                                                     BrazeEventsMixin.getUserProfileAppOnboardingCompleted\npackage:iris/features/account_create/presentation/view_models/device_verification_screen_view_model.dart 321:18  DeviceVerificationScreenViewModel.handleCaregiverRouteforWeb\n"
        ]
    },
    {
        "titulo": "Is there better way to write class of pathutils more concise elegant way?",
        "score": 0,
        "views": 63,
        "respostas": 1,
        "tags": [
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77509590/is-there-better-way-to-write-class-of-pathutils-more-concise-elegant-way",
        "conteudo_html": "<p>I've developed a Dart program for path manipulation and utilities involving directories and files. While the code functions correctly, I'm seeking feedback on its elegance and whether there might be more efficient or elegant approaches. I lack full confidence in the current implementation, so I'm reaching out to the Stack Overflow community, known for its wealth of expertise, for valuable insights. Thank you in advance for any feedback and suggestions</p>\n<pre><code>\n   class PathUtils {\n\n      String slash = Platform.pathSeparator;\n\n      String Join(List&lt;String&gt; path) {\n\n           String filePath = &quot;&quot;;\n\n           for (var p in path) {\n  \n               p += this.slash;\n\n               filePath += p;\n           }\n\n        return filePath.substring(0, filePath.length - 1);\n      }\n\n    String BaseName(String fullPath) {\n   \n    String pathSeparator = Platform.pathSeparator;\n\n    if (fullPath.contains(&quot;/&quot;)) {\n\n      pathSeparator = '/';\n\n    }\n    return fullPath.split(pathSeparator).last;\n  }\n\n  bool isDir(String fullPath) {\n    return Directory(fullPath).statSync().type == FileSystemEntityType.file;\n  }\n\n  String Extension(String fullPath) {\n\n    bool pathType = isDir(fullPath);\n\n    String file = fullPath;\n\n    if (pathType == true) {\n\n      file = file.split(&quot;.&quot;).last;\n\n    } else {\n\n      file = &quot;is a folder&quot;;\n\n    }\n    return file;\n  }\n}```\n\n\nThe code works as expected but I want someone to rephrase my code in better way than I if it is good as it is then I am happy thank you.\n```\n</code></pre>\n",
        "codigo": [
            "\n   class PathUtils {\n\n      String slash = Platform.pathSeparator;\n\n      String Join(List<String> path) {\n\n           String filePath = \"\";\n\n           for (var p in path) {\n  \n               p += this.slash;\n\n               filePath += p;\n           }\n\n        return filePath.substring(0, filePath.length - 1);\n      }\n\n    String BaseName(String fullPath) {\n   \n    String pathSeparator = Platform.pathSeparator;\n\n    if (fullPath.contains(\"/\")) {\n\n      pathSeparator = '/';\n\n    }\n    return fullPath.split(pathSeparator).last;\n  }\n\n  bool isDir(String fullPath) {\n    return Directory(fullPath).statSync().type == FileSystemEntityType.file;\n  }\n\n  String Extension(String fullPath) {\n\n    bool pathType = isDir(fullPath);\n\n    String file = fullPath;\n\n    if (pathType == true) {\n\n      file = file.split(\".\").last;\n\n    } else {\n\n      file = \"is a folder\";\n\n    }\n    return file;\n  }\n}```\n\n\nThe code works as expected but I want someone to rephrase my code in better way than I if it is good as it is then I am happy thank you.\n```\n"
        ]
    },
    {
        "titulo": "Migration problem with flutter 3.16. Unexpected kernel version 89 (expected 111)",
        "score": 2,
        "views": 980,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "android-studio",
            "migration"
        ],
        "link": "https://stackoverflow.com/questions/77501735/migration-problem-with-flutter-3-16-unexpected-kernel-version-89-expected-111",
        "conteudo_html": "<p>I'm currently working on a flutter project in android studio. After updating flutter version to 3.16 I'm having problems with building my application.\nI've tried:</p>\n<p>1.Downgrading flutter version(and upgrading again).\n2.Upgrading dependencies.\n3.Deleting .idea directory\n4.Running flutter clean\n5.Creating new project nad copping code files\n6.Upgrading IDE (giraffe now)</p>\n<p>The console output after all this steps is:</p>\n<pre><code>Launching lib\\main.dart on sdk gphone x86 64 in debug mode...\nUnhandled exception:\nUnexpected Kernel Format Version 89 (expected 111)\n#0      BinaryBuilder.readComponent.&lt;anonymous closure&gt; (package:kernel/binary/ast_from_binary.dart:692:9)\n#1      Timeline.timeSync (dart:developer/timeline.dart:173:22)\n#2      BinaryBuilder.readComponent (package:kernel/binary/ast_from_binary.dart:679:21)\n#3      _InitializationFromSdkSummary._prepareSummary (package:front_end/src/fasta/incremental_compiler.dart:2467:12)\n#4      _InitializationFromUri.initialize (package:front_end/src/fasta/incremental_compiler.dart:2541:23)\n&lt;asynchronous suspension&gt;\n#5      IncrementalCompiler._ensurePlatformAndInitialize (package:front_end/src/fasta/incremental_compiler.dart:1421:25)\n&lt;asynchronous suspension&gt;\n#6      IncrementalCompiler.computeDelta.&lt;anonymous closure&gt; (package:front_end/src/fasta/incremental_compiler.dart:308:11)\n&lt;asynchronous suspension&gt;\n#7      CompilerContext.clear (package:front_end/src/fasta/compiler_context.dart:139:3)\n&lt;asynchronous suspension&gt;\n#8      IncrementalCompiler.compile (package:vm/incremental_compiler.dart:75:50)\n&lt;asynchronous suspension&gt;\n#9      FrontendCompiler.compile (package:frontend_server/frontend_server.dart:610:11)\n&lt;asynchronous suspension&gt;\n#10     listenAndCompile.&lt;anonymous closure&gt; (package:frontend_server/frontend_server.dart:1323:11)\n&lt;asynchronous suspension&gt;\nRunning Gradle task 'assembleDebug'...\nthe Dart compiler exited unexpectedly.\nthe Dart compiler exited unexpectedly.\n</code></pre>\n",
        "codigo": [
            "Launching lib\\main.dart on sdk gphone x86 64 in debug mode...\nUnhandled exception:\nUnexpected Kernel Format Version 89 (expected 111)\n#0      BinaryBuilder.readComponent.<anonymous closure> (package:kernel/binary/ast_from_binary.dart:692:9)\n#1      Timeline.timeSync (dart:developer/timeline.dart:173:22)\n#2      BinaryBuilder.readComponent (package:kernel/binary/ast_from_binary.dart:679:21)\n#3      _InitializationFromSdkSummary._prepareSummary (package:front_end/src/fasta/incremental_compiler.dart:2467:12)\n#4      _InitializationFromUri.initialize (package:front_end/src/fasta/incremental_compiler.dart:2541:23)\n<asynchronous suspension>\n#5      IncrementalCompiler._ensurePlatformAndInitialize (package:front_end/src/fasta/incremental_compiler.dart:1421:25)\n<asynchronous suspension>\n#6      IncrementalCompiler.computeDelta.<anonymous closure> (package:front_end/src/fasta/incremental_compiler.dart:308:11)\n<asynchronous suspension>\n#7      CompilerContext.clear (package:front_end/src/fasta/compiler_context.dart:139:3)\n<asynchronous suspension>\n#8      IncrementalCompiler.compile (package:vm/incremental_compiler.dart:75:50)\n<asynchronous suspension>\n#9      FrontendCompiler.compile (package:frontend_server/frontend_server.dart:610:11)\n<asynchronous suspension>\n#10     listenAndCompile.<anonymous closure> (package:frontend_server/frontend_server.dart:1323:11)\n<asynchronous suspension>\nRunning Gradle task 'assembleDebug'...\nthe Dart compiler exited unexpectedly.\nthe Dart compiler exited unexpectedly.\n"
        ]
    },
    {
        "titulo": "Define type of class in dart",
        "score": 0,
        "views": 94,
        "respostas": 1,
        "tags": [
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77479447/define-type-of-class-in-dart",
        "conteudo_html": "<p>Is it possible in this example to specify explicitly presize correct type for the &quot;TypeA&quot; variable (instead of <code>var</code> keyword`)?</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class A{\n  int i = 1;\n  A(this.i);\n}\n\nA instance = A(1);\n\nvar TypeA = A;\n\nA secondInstanceOfA = TypeA();\n</code></pre>\n<p>In the example above flutter engine auto detects <code>TypeA</code> as variable <code>Type</code> and I get the following error under compilation:</p>\n<pre><code>The expression doesn't evaluate to a function, so it can't be invoked.\n</code></pre>\n<p>After all I also tried to change it to <code>(TypeA as A Function(int))(1)</code>. This workaround satisfies IDE analyzer, but in runtime - of course - leads to appropriate runtime error (<code>Expected a value of type '(int) =&gt; A', but got one of type '_Type'</code>)</p>\n",
        "codigo": [
            "var",
            "class A{\n  int i = 1;\n  A(this.i);\n}\n\nA instance = A(1);\n\nvar TypeA = A;\n\nA secondInstanceOfA = TypeA();\n",
            "TypeA",
            "Type",
            "The expression doesn't evaluate to a function, so it can't be invoked.\n",
            "(TypeA as A Function(int))(1)",
            "Expected a value of type '(int) => A', but got one of type '_Type'"
        ]
    },
    {
        "titulo": "How to properly add request fields to a Dart MultipartRequest",
        "score": 3,
        "views": 1053,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77467652/how-to-properly-add-request-fields-to-a-dart-multipartrequest",
        "conteudo_html": "<p>I have a flutter app in which I normally use http request post from a model to a go API like this.</p>\n<pre><code>if (dateRequired != null) {\n  data['date_required'] = dateRequired?.formatDbDate();\n} else {\n  data['date_required'] = null;\n}\n</code></pre>\n<p>However, I want to upload files and decode json data at the same time. The upload file as below works but the result I get from the code below produces either <code>(2023-11-12)</code>\nor <code>(null)</code> which throws a decode error in my api. I was expecting <code>{&quot;date_required&quot;: null}</code> or <code>{&quot;date_required&quot;: 2023-11-12}</code>.</p>\n<p>How can I get to that? I notice that dart http uses <code>Map&lt;String, dynamic&gt;</code> while dart <code>MultipartRequest</code> uses <code>Map&lt;String, String&gt;</code> so I can use null. This will require further parsing in my go api.</p>\n<pre><code>Future&lt;dynamic&gt; uploadFile(\n      BuildContext context, User user, String dateRequiredString) async {\n    final navigator = Navigator.of(context);\n\n    const storage = FlutterSecureStorage();\n\n    String? token = await storage.read(key: 'jwt');\n\n    Map&lt;String, String&gt; headers = {\n      &quot;Authorization&quot;: &quot;Bearer $token&quot;,\n    };\n\n    final bytes = file?.bytes;\n\n    if (file == null || bytes == null) return;\n\n    final multipartFile =\n        http.MultipartFile.fromBytes('file', bytes, filename: file?.name);\n\n    final request = http.MultipartRequest('POST', Uri.parse(user.fileUrl));\n\n    request.files.add(multipartFile);\n\n    request.headers.addAll(headers);\n\n    request.fields['date_required'] = dateRequiredString;\n</code></pre>\n<p>Dart code to produce the field, edited to in accordance with the answer from @mandy8055.</p>\n<pre><code>                                if (_formKey.currentState!.validate()) {\n                                  if (_formKey\n                                          .currentState\n                                          ?.fields['date_required']\n                                          ?.value !=\n                                      null) {\n                                    dateRequired = _formKey.currentState\n                                        ?.fields['date_required']!.value;\n                                  }\n\n                                  Map&lt;String, dynamic&gt; data = {\n                                    'date_required': dateRequired != null\n                                        ? dateRequired!.formatDbDate()\n                                        : null\n                                  };\n\n                                  print(data);\n\n                                  Map&lt;String, String&gt; dateRequiredString =\n                                      jsonEncode(data)\n                                          as Map&lt;String, String&gt;;\n\n                                  print(dateRequiredString);\n</code></pre>\n<p>This produces the following console output</p>\n<pre><code>{date_required: null}\nError: Expected a value of type 'Map&lt;String, String&gt;', but got one of type 'String'\n</code></pre>\n<p>further edit:</p>\n<pre><code>                            _formKey.currentState?.save();\n\n                            if (_formKey.currentState!.validate()) {\n                              if (_formKey\n                                      .currentState\n                                      ?.fields['date_required']\n                                      ?.value !=\n                                  null) {\n                                dateRequired = _formKey.currentState\n                                    ?.fields['date_required']!.value;\n                              }\n\n                              Map&lt;String, dynamic&gt; data = {\n                                'date_required': dateRequired != null\n                                    ? dateRequired!.formatDbDate()\n                                    : null\n                              };\n\n                              String jsonString = jsonEncode(data);\n\n                              Map&lt;String, dynamic&gt; decodedMap =\n                                  jsonDecode(jsonString);\n\n                              Map&lt;String, String&gt; dateRequiredString =\n                                  decodedMap.cast&lt;String, String&gt;();\n\n                              print(data);\n\n                              print(dateRequiredString);\n\n                              uploadFile(\n                                  context, user, dateRequiredString);\n                            }\n</code></pre>\n<p>this throws the error below (the date is meant to be null here). I see the key is not quoted but I think it should be quoted.</p>\n<pre><code>{date_required: null}\nError: Expected a value of type 'String', but got one of type 'Null'\n</code></pre>\n<p>Here is some working code to demonstrate the issue. I need to convert the <code>Map&lt;String, dynamic&gt;</code> to <code>Map&lt;String, String&gt;</code> and retain the quotes around the &quot;date_required&quot; key.</p>\n<pre><code>import 'dart:convert';\n\nvoid main() {\n  Map&lt;String, dynamic&gt; data = {'date_required': null};\n\n  print(data);\n\n  String jsonString = jsonEncode(data);\n\n  print(jsonString);\n\n  Map&lt;String, dynamic&gt; decodedMap = jsonDecode(jsonString);\n\n  print(decodedMap);\n\n  Map&lt;String, String&gt; dateRequiredString = decodedMap.cast&lt;String, String&gt;();\n\n  print(dateRequiredString);\n}\n</code></pre>\n<p>Console output:</p>\n<pre><code>{date_required: null}\n{&quot;date_required&quot;:null}\n{date_required: null}\n: TypeError: null: type 'JSNull' is not a subtype of type 'String'Error: TypeError: null: type 'JSNull' is not a subtype of type 'String'\n</code></pre>\n",
        "codigo": [
            "if (dateRequired != null) {\n  data['date_required'] = dateRequired?.formatDbDate();\n} else {\n  data['date_required'] = null;\n}\n",
            "(2023-11-12)",
            "(null)",
            "{\"date_required\": null}",
            "{\"date_required\": 2023-11-12}",
            "Map<String, dynamic>",
            "MultipartRequest",
            "Map<String, String>",
            "Future<dynamic> uploadFile(\n      BuildContext context, User user, String dateRequiredString) async {\n    final navigator = Navigator.of(context);\n\n    const storage = FlutterSecureStorage();\n\n    String? token = await storage.read(key: 'jwt');\n\n    Map<String, String> headers = {\n      \"Authorization\": \"Bearer $token\",\n    };\n\n    final bytes = file?.bytes;\n\n    if (file == null || bytes == null) return;\n\n    final multipartFile =\n        http.MultipartFile.fromBytes('file', bytes, filename: file?.name);\n\n    final request = http.MultipartRequest('POST', Uri.parse(user.fileUrl));\n\n    request.files.add(multipartFile);\n\n    request.headers.addAll(headers);\n\n    request.fields['date_required'] = dateRequiredString;\n",
            "                                if (_formKey.currentState!.validate()) {\n                                  if (_formKey\n                                          .currentState\n                                          ?.fields['date_required']\n                                          ?.value !=\n                                      null) {\n                                    dateRequired = _formKey.currentState\n                                        ?.fields['date_required']!.value;\n                                  }\n\n                                  Map<String, dynamic> data = {\n                                    'date_required': dateRequired != null\n                                        ? dateRequired!.formatDbDate()\n                                        : null\n                                  };\n\n                                  print(data);\n\n                                  Map<String, String> dateRequiredString =\n                                      jsonEncode(data)\n                                          as Map<String, String>;\n\n                                  print(dateRequiredString);\n",
            "{date_required: null}\nError: Expected a value of type 'Map<String, String>', but got one of type 'String'\n",
            "                            _formKey.currentState?.save();\n\n                            if (_formKey.currentState!.validate()) {\n                              if (_formKey\n                                      .currentState\n                                      ?.fields['date_required']\n                                      ?.value !=\n                                  null) {\n                                dateRequired = _formKey.currentState\n                                    ?.fields['date_required']!.value;\n                              }\n\n                              Map<String, dynamic> data = {\n                                'date_required': dateRequired != null\n                                    ? dateRequired!.formatDbDate()\n                                    : null\n                              };\n\n                              String jsonString = jsonEncode(data);\n\n                              Map<String, dynamic> decodedMap =\n                                  jsonDecode(jsonString);\n\n                              Map<String, String> dateRequiredString =\n                                  decodedMap.cast<String, String>();\n\n                              print(data);\n\n                              print(dateRequiredString);\n\n                              uploadFile(\n                                  context, user, dateRequiredString);\n                            }\n",
            "{date_required: null}\nError: Expected a value of type 'String', but got one of type 'Null'\n",
            "Map<String, dynamic>",
            "Map<String, String>",
            "import 'dart:convert';\n\nvoid main() {\n  Map<String, dynamic> data = {'date_required': null};\n\n  print(data);\n\n  String jsonString = jsonEncode(data);\n\n  print(jsonString);\n\n  Map<String, dynamic> decodedMap = jsonDecode(jsonString);\n\n  print(decodedMap);\n\n  Map<String, String> dateRequiredString = decodedMap.cast<String, String>();\n\n  print(dateRequiredString);\n}\n",
            "{date_required: null}\n{\"date_required\":null}\n{date_required: null}\n: TypeError: null: type 'JSNull' is not a subtype of type 'String'Error: TypeError: null: type 'JSNull' is not a subtype of type 'String'\n"
        ]
    },
    {
        "titulo": "&quot;java.com.google.android.gmscore.integ.client.measurement_api_measurement_api.kotlin_module&quot; this error happens after firebase updated there artifacts",
        "score": 2,
        "views": 1728,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "google-play-services"
        ],
        "link": "https://stackoverflow.com/questions/77458706/java-com-google-android-gmscore-integ-client-measurement-api-measurement-api-ko",
        "conteudo_html": "<pre><code>e: C:/Users/USER-DIRECTORY/.gradle/caches/transforms-3/d0733e98db50bf72d2f0482087ca7918/transformed/jetified-play-services-measurement-api-21.5.0-api.jar!/META-INF/java.com.google.android.gmscore.integ.client.measurement_api_measurement_api.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.     \n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileReleaseKotlin'.\n&gt; A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n   &gt; Compilation error. See log for more details\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 4m 37s\nRunning Gradle task 'assembleRelease'...                          278.1s\n</code></pre>\n<p>So, this is the error Im facing right now in my Flutter Project. After Google and Firebase updated their artifacts on last October 30, 2023. <a href=\"https://developers.google.com/android/guides/releases\" rel=\"nofollow noreferrer\">Google here</a> and <a href=\"https://firebase.google.com/support/release-notes/android#2023-10-30\" rel=\"nofollow noreferrer\">Firebase here</a>.</p>\n<p>this is my build.gradle</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.7.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.3.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.4.0'\n    }\n}\n</code></pre>\n<p>for my app/build.gradle</p>\n<pre><code>android {\n    namespace 'com.example.namespace'\n    compileSdkVersion 34\n    ndkVersion flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.parkbai.com&quot;\n        // You can update the following values to match your application needs.\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.\n        minSdkVersion 22\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation platform('com.google.firebase:firebase-bom:32.5.0')\n    implementation 'com.google.firebase:firebase-analytics'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>I dont know what's the problem here and I've searched through other sites to help me but none of those helped my case.</p>\n<p>I want to build an apk for my Android Flutter App and can run afterwards.</p>\n",
        "codigo": [
            "e: C:/Users/USER-DIRECTORY/.gradle/caches/transforms-3/d0733e98db50bf72d2f0482087ca7918/transformed/jetified-play-services-measurement-api-21.5.0-api.jar!/META-INF/java.com.google.android.gmscore.integ.client.measurement_api_measurement_api.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.9.0, expected version is 1.7.1.     \n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileReleaseKotlin'.\n> A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n   > Compilation error. See log for more details\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 4m 37s\nRunning Gradle task 'assembleRelease'...                          278.1s\n",
            "buildscript {\n    ext.kotlin_version = '1.7.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.3.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.google.gms:google-services:4.4.0'\n    }\n}\n",
            "android {\n    namespace 'com.example.namespace'\n    compileSdkVersion 34\n    ndkVersion flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId \"com.parkbai.com\"\n        // You can update the following values to match your application needs.\n        // For more information, see: https://docs.flutter.dev/deployment/android#reviewing-the-gradle-build-configuration.\n        minSdkVersion 22\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.debug\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation platform('com.google.firebase:firebase-bom:32.5.0')\n    implementation 'com.google.firebase:firebase-analytics'\n}\n\napply plugin: 'com.google.gms.google-services'\n"
        ]
    },
    {
        "titulo": "Dart: How to check the type of a sometimes nullable generic type?",
        "score": 1,
        "views": 235,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "generics",
            "nullable",
            "typechecking"
        ],
        "link": "https://stackoverflow.com/questions/77441555/dart-how-to-check-the-type-of-a-sometimes-nullable-generic-type",
        "conteudo_html": "<p>Given the following dart 3 snippet, is it possible to match against <code>A</code> being nullable in the switch clause, and to find out which kind of nullable <code>A</code> is? (<code>String?</code>, <code>int?</code> etc)\nThe type checker incorrectly assumes that <code>A</code> can never be nullable, and I end up with a case that I can't seem to match against.</p>\n<pre><code>void main() {\n  String? x = test(null);\n  String y = test(&quot;hi&quot;);\n}\n\nA test&lt;A extends Object?&gt;(A a) {\n  switch((A,a.runtimeType)){\n    case (String,Null) :\n      print(&quot;found miscasted nullable string&quot;);\n    case (String,_) : \n      print(&quot;found non-null string: $a&quot;);\n    // This case should match, but something is weird.\n    case (String?,_) :\n      print(&quot;found nullable string&quot;);\n    case (var x,Null):\n      print(&quot;found something null: $x $a&quot;);\n      if(x is String?)\n        print(&quot;$x is String?&quot;);\n      else\n        print(&quot;$x is not String?&quot;);\n    case (_,_):\n      print(&quot;failed matching completely&quot; ); \n  };\n  return a;\n}\n</code></pre>\n<p>The output becomes</p>\n<pre><code>found something null: String? null\n    String? is not String?\nfound non-null string: hi\n</code></pre>\n<p>and I can't seem to find a way to match the input type against <code>String?</code>.</p>\n<p>I need this to work in Flutter, so dart:mirror can't be a solution.</p>\n<p><strong>Edit</strong>: Thanks to the answer from @jamesdlin, I now have the following functions in my code:</p>\n<pre><code>Type typeOf&lt;A&gt;() =&gt; A;\nbool isSomeKindOf&lt;T,S&gt;() =&gt; S == typeOf&lt;T&gt;() || S ==  typeOf&lt;T?&gt;();\n</code></pre>\n<p>. This means that now I can do things like</p>\n<pre><code>bool isIntOrNullableInt&lt;A&gt;(A a) =&gt; isSomeKindOf&lt;int,A&gt;();\nprint(isIntOrNullableInt(3)); // true\nprint(isIntOrNullableInt(null as Int?)); // true\nprint(isIntOrNullableInt(&quot;3&quot;)); // false\n</code></pre>\n<p>which means that I can now do stuff like</p>\n<pre><code>A getOrDefault&lt;A&gt;(String token, A defaultVal) =&gt;\n    (\n    isSomeKindOf&lt;int,A&gt;() ? source.getInt(token) ?? defaultVal :\n    isSomeKindOf&lt;String,A&gt;() ? source.getString(token) ?? defaultVal :\n    defaultVal\n    ) as A; \n</code></pre>\n<p>which works whether <code>A</code> is a <code>Foo</code> or a <code>Foo?</code>, which was my secret agenda all along.<br />\nThis lets me finally have the following working:</p>\n<pre><code>String prop1 = getOrDefault(&quot;prop1&quot;, &quot;property missing&quot;);\nint? prop2 = getOrDefault(&quot;prop2&quot;, null);\n</code></pre>\n",
        "codigo": [
            "A",
            "A",
            "String?",
            "int?",
            "A",
            "void main() {\n  String? x = test(null);\n  String y = test(\"hi\");\n}\n\nA test<A extends Object?>(A a) {\n  switch((A,a.runtimeType)){\n    case (String,Null) :\n      print(\"found miscasted nullable string\");\n    case (String,_) : \n      print(\"found non-null string: $a\");\n    // This case should match, but something is weird.\n    case (String?,_) :\n      print(\"found nullable string\");\n    case (var x,Null):\n      print(\"found something null: $x $a\");\n      if(x is String?)\n        print(\"$x is String?\");\n      else\n        print(\"$x is not String?\");\n    case (_,_):\n      print(\"failed matching completely\" ); \n  };\n  return a;\n}\n",
            "found something null: String? null\n    String? is not String?\nfound non-null string: hi\n",
            "String?",
            "Type typeOf<A>() => A;\nbool isSomeKindOf<T,S>() => S == typeOf<T>() || S ==  typeOf<T?>();\n",
            "bool isIntOrNullableInt<A>(A a) => isSomeKindOf<int,A>();\nprint(isIntOrNullableInt(3)); // true\nprint(isIntOrNullableInt(null as Int?)); // true\nprint(isIntOrNullableInt(\"3\")); // false\n",
            "A getOrDefault<A>(String token, A defaultVal) =>\n    (\n    isSomeKindOf<int,A>() ? source.getInt(token) ?? defaultVal :\n    isSomeKindOf<String,A>() ? source.getString(token) ?? defaultVal :\n    defaultVal\n    ) as A; \n",
            "A",
            "Foo",
            "Foo?",
            "String prop1 = getOrDefault(\"prop1\", \"property missing\");\nint? prop2 = getOrDefault(\"prop2\", null);\n"
        ]
    },
    {
        "titulo": "Writing a test for a provider that depends on another provider, if overrideWithValue in not available",
        "score": 0,
        "views": 579,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "riverpod"
        ],
        "link": "https://stackoverflow.com/questions/77428013/writing-a-test-for-a-provider-that-depends-on-another-provider-if-overridewithv",
        "conteudo_html": "<p>I am trying to write some tests, but I cannot override &quot;properly&quot; a provider that another provider depends on. The method overrideWithValue(), is not available on the provider that needs to be overridden.</p>\n<p>The provider I am trying to test is this:</p>\n<pre><code>@riverpod\nList&lt;Point&lt;double&gt;&gt; getItersectionsOnAxes(GetItersectionsOnAxesRef ref) {\n  final constraints = ref.watch(dataEntryControllerProvider.select((value) =&gt; value.constraints));\n  // logic that uses constraints variable and the return statement\n}\n</code></pre>\n<p>The provider I need to override is this:</p>\n<pre><code>@Riverpod(keepAlive: true)\nclass DataEntryController extends _$DataEntryController {\n  @override\n  DataEntryModel build() {\n    //initialization and return statement\n  }\n  \n  //methods to mutate state\n}\n</code></pre>\n<p>On the test file, when I try use the method <code>overrideWithValue()</code>, does not show as available. Only <code>overrideWith()</code> is available, but it does not allow to provide a value.</p>\n<pre><code>test('getItersectionsOnAxes', () {\n      final overrides = &lt;Override&gt;[\n        dataEntryControllerProvider.overrideWith(() {\n          return DataEntryController();\n          // ..state = const DataEntryModel(\n          //   objective: Objectives.max,\n          //   objectiveFunction: [180, 90],\n          //   operators: [Operators.geq, Operators.geq, Operators.geq],\n          //   constraints: [\n          //     [6, 8, 48],\n          //     [1, 0, 6],\n          //     [0, 1, 4],\n          //   ],\n          // ),\n        }),\n      ];\n      final container = createProviderContainer(overrides: overrides);\n      final getIntersectionsOnAxes = container.read(getItersectionsOnAxesProvider);\n      expect(getIntersectionsOnAxes, [const Point&lt;double&gt;(6 / 1, 0)]);\n    });\n</code></pre>\n<p>The commented code, was me trying to supply a value.</p>\n<pre><code> ProviderContainer createProviderContainer({\n      ProviderContainer? parent,\n      List&lt;Override&gt; overrides = const [],\n      List&lt;ProviderObserver&gt;? observers,\n    }) {\n      final container = ProviderContainer(\n        parent: parent,\n        overrides: overrides,\n        observers: observers,\n      );\n      addTearDown(() =&gt; container.dispose());\n      return container;\n    }\n</code></pre>\n<blockquote>\n<p>The closure on the override, according to the docs is supposed to provide a ref argument, but it not behaving like that for me.</p>\n</blockquote>\n<p><a href=\"https://i.sstatic.net/7yy6f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/7yy6f.png\" alt=\"docs overrideWith\" /></a></p>\n<p>If there is anything I am doing wrong here, or need to change for it to work, I would appreciate any and all help.</p>\n",
        "codigo": [
            "@riverpod\nList<Point<double>> getItersectionsOnAxes(GetItersectionsOnAxesRef ref) {\n  final constraints = ref.watch(dataEntryControllerProvider.select((value) => value.constraints));\n  // logic that uses constraints variable and the return statement\n}\n",
            "@Riverpod(keepAlive: true)\nclass DataEntryController extends _$DataEntryController {\n  @override\n  DataEntryModel build() {\n    //initialization and return statement\n  }\n  \n  //methods to mutate state\n}\n",
            "overrideWithValue()",
            "overrideWith()",
            "test('getItersectionsOnAxes', () {\n      final overrides = <Override>[\n        dataEntryControllerProvider.overrideWith(() {\n          return DataEntryController();\n          // ..state = const DataEntryModel(\n          //   objective: Objectives.max,\n          //   objectiveFunction: [180, 90],\n          //   operators: [Operators.geq, Operators.geq, Operators.geq],\n          //   constraints: [\n          //     [6, 8, 48],\n          //     [1, 0, 6],\n          //     [0, 1, 4],\n          //   ],\n          // ),\n        }),\n      ];\n      final container = createProviderContainer(overrides: overrides);\n      final getIntersectionsOnAxes = container.read(getItersectionsOnAxesProvider);\n      expect(getIntersectionsOnAxes, [const Point<double>(6 / 1, 0)]);\n    });\n",
            " ProviderContainer createProviderContainer({\n      ProviderContainer? parent,\n      List<Override> overrides = const [],\n      List<ProviderObserver>? observers,\n    }) {\n      final container = ProviderContainer(\n        parent: parent,\n        overrides: overrides,\n        observers: observers,\n      );\n      addTearDown(() => container.dispose());\n      return container;\n    }\n"
        ]
    },
    {
        "titulo": "flutter view not showing up",
        "score": -1,
        "views": 60,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "email-verification"
        ],
        "link": "https://stackoverflow.com/questions/77423258/flutter-view-not-showing-up",
        "conteudo_html": "<p>i was working on registration screen and after the registration i wanted to show a screen that says verify email with a link to send a verification but it's not working here is the code -</p>\n<pre><code>import 'package:firebase_auth/firebase_auth.dart';\nimport 'package:firebase_core/firebase_core.dart';\nimport 'package:flutter/material.dart';\nimport 'package:nxtreame/firebase_options.dart';\nimport 'package:nxtreame/views/login_view.dart';\nimport 'package:nxtreame/views/register_view.dart';\nimport 'package:nxtreame/views/verify_email_view.dart';\n\n\nvoid main() {\n  WidgetsFlutterBinding.ensureInitialized();\n  runApp(\n    MaterialApp(\n      title: 'Nxtream demo',\n      theme: ThemeData(\n        \n        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n        useMaterial3: true,\n      ),\n      home: const HomePage(),\n      routes: {\n        '/login':(context) =&gt; const LoginView(),\n        '/register':(context) =&gt; const RegisterView()\n      },\n    ),\n  );\n}\n\nclass HomePage extends StatelessWidget {\n  const HomePage({super.key});\n\n  @override\n    Widget build(BuildContext context) {\n      return FutureBuilder(\n          future: Firebase.initializeApp(\n                      options: DefaultFirebaseOptions.currentPlatform,\n                    ),\n\n          builder: (context, snapshot) { \n            switch (snapshot.connectionState){\n              case ConnectionState.done:\n                final user  = FirebaseAuth.instance.currentUser;\n                if (user != null){\n                  if(user.emailVerified){\n                    print('Email is verified');\n                  }else{\n                    return const VerifyEmailView();\n                  }\n                } else {\n                  return const LoginView();\n                }\n                return const Text('Done');\n              default: \n                return const CircularProgressIndicator();\n            }  \n          },\n        );\n    }\n}\n</code></pre>\n<p>as you can see in the code if the user.emailVerified is true it will print out email verified but if not it will return VeryifyEmailView but it's not</p>\n<p>i tried everything i know</p>\n",
        "codigo": [
            "import 'package:firebase_auth/firebase_auth.dart';\nimport 'package:firebase_core/firebase_core.dart';\nimport 'package:flutter/material.dart';\nimport 'package:nxtreame/firebase_options.dart';\nimport 'package:nxtreame/views/login_view.dart';\nimport 'package:nxtreame/views/register_view.dart';\nimport 'package:nxtreame/views/verify_email_view.dart';\n\n\nvoid main() {\n  WidgetsFlutterBinding.ensureInitialized();\n  runApp(\n    MaterialApp(\n      title: 'Nxtream demo',\n      theme: ThemeData(\n        \n        colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),\n        useMaterial3: true,\n      ),\n      home: const HomePage(),\n      routes: {\n        '/login':(context) => const LoginView(),\n        '/register':(context) => const RegisterView()\n      },\n    ),\n  );\n}\n\nclass HomePage extends StatelessWidget {\n  const HomePage({super.key});\n\n  @override\n    Widget build(BuildContext context) {\n      return FutureBuilder(\n          future: Firebase.initializeApp(\n                      options: DefaultFirebaseOptions.currentPlatform,\n                    ),\n\n          builder: (context, snapshot) { \n            switch (snapshot.connectionState){\n              case ConnectionState.done:\n                final user  = FirebaseAuth.instance.currentUser;\n                if (user != null){\n                  if(user.emailVerified){\n                    print('Email is verified');\n                  }else{\n                    return const VerifyEmailView();\n                  }\n                } else {\n                  return const LoginView();\n                }\n                return const Text('Done');\n              default: \n                return const CircularProgressIndicator();\n            }  \n          },\n        );\n    }\n}\n"
        ]
    },
    {
        "titulo": "Serverpod Flutter-Dart PostgreSql error when creating table and executing insert query through Serverpod API",
        "score": 0,
        "views": 559,
        "respostas": 1,
        "tags": [
            "postgresql",
            "flutter",
            "dart",
            "yaml",
            "serverpod"
        ],
        "link": "https://stackoverflow.com/questions/77415288/serverpod-flutter-dart-postgresql-error-when-creating-table-and-executing-insert",
        "conteudo_html": "<p>I have a Serverpod server, and I want to create some tables in the PostgreSQL database from port 8090. After I create the file in <code>protocol/file.yaml</code> and execute <code>serverpod generate</code> and create the endpoint that I will access, I access it through Postman. This is the YAML :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>class: Test\ntable: test\nfields:\n  title: String\n  content: String\n</code></pre>\n<p>And this is the endpoint class from where I get &quot;addTest&quot; function that I access through Postman/Flutter Android Client. The getTests method is just a select * on the database and the addTest is a method with what I insert into the database. Here is where I get the error, into the insert function. I searched all over the internet for a method to solve it but did not find anything:</p>\n<p>import 'package:serverpod/serverpod.dart';\nimport 'package:test_bd_server/src/generated/protocol.dart';</p>\n<pre class=\"lang-none prettyprint-override\"><code>  Future&lt;List&lt;Test&gt;&gt; getTests(Session session, {String? keyword}) async {\n    final elem = await Test.find(session,\n        where: (t) =&gt;\n            keyword != null ? t.title.like('%$keyword') : Constant(true));\n\n    return elem;\n  }\n\n  Future&lt;bool&gt; addTest(\n      Session session, String arg_title, String arg_content) async {\n    Test test = Test(content: arg_content, title: arg_title);\n    Test.insert(session, test);\n    return true;\n  }\n}\n</code></pre>\n<p>This is the Postman GET request (I tried with POST, same story). Here <code>arg_title</code> and <code>arg_content</code> are strings and I just simulate the method trigger with postman because this is another project, not my main where I get the same errors:</p>\n<pre><code>{\n    &quot;method&quot;: &quot;addTest&quot;,\n    &quot;arg_title&quot;: &quot;titlu_test&quot;,\n    &quot;arg_content&quot;: &quot;content_test&quot;\n}\n</code></pre>\n<p>After this request executes, I get this error in the serververpod server:</p>\n<pre><code>2023-11-03 07:44:47.840836Z Internal server error. Zoned exception.\nPostgreSQLSeverity.error 42P01: relation &quot;test&quot; does not exist\npackage:postgres/src/connection.dart 520:18 _PostgreSQLExecutionContextMixin._query\npackage:postgres/src/connection.dart 481:7 _PostgreSQLExecutionContextMixin.query\npackage:postgres_pool/postgres_pool.dart 801:23 _PgExecutionContextWrapper.query.&lt;fn&gt;\npackage:postgres_pool/postgres_pool.dart 800:12 _PgExecutionContextWrapper.query\npackage:postgres_pool/postgres_pool.dart 615:16 PgPool.query.&lt;fn&gt;\npackage:postgres_pool/postgres_pool.dart 352:22 PgPool.run.&lt;fn&gt;.&lt;fn&gt;\npackage:postgres_pool/postgres_pool.dart 451:27 PgPool._useOrCreate\npackage:postgres_pool/postgres_pool.dart 423:14 PgPool._withConnection.&lt;fn&gt;\npackage:executor/src/executor_impl.dart 61:19 _Executor.scheduleTask\npackage:postgres_pool/postgres_pool.dart 351:18 PgPool.run.&lt;fn&gt;\npackage:retry/retry.dart 131:16 RetryOptions.retry\npackage:postgres_pool/postgres_pool.dart 349:14 PgPool.run\npackage:serverpod/src/database/database_connection.dart 363:11 DatabaseConnection.insert\npackage:serverpod/src/database/database.dart 137:5 Database.insert\n===== asynchronous gap ===========================\npackage:postgres_pool/postgres_pool.dart 351:18 PgPool.run.&lt;fn&gt;\npackage:retry/retry.dart 131:16 RetryOptions.retry\npackage:postgres_pool/postgres_pool.dart 349:14 PgPool.run\npackage:serverpod/src/database/database_connection.dart 363:11 DatabaseConnection.insert\npackage:serverpod/src/database/database.dart 137:5 Database.insert\n</code></pre>\n<p>What am I doing wrong? Where is the mistake? In Postman, I get &quot;true&quot; after I execute this. Help me please :).</p>\n<p>The idea is that I want from the flutter client to make a login interface and create an insert query. When I try to do this, I get that relation error. I do not know why. Even, as I said, I try to recreate another servers, I get the same error. In the beginning I got another relation error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Failed to connect to the database. Retrying in 10 seconds.\nPostgreSQLSeverity.error 42P01: relation &quot;serverpod_runtime_settings&quot; does not exist.\n</code></pre>\n<p>In order to fix this error I executed some commands that I got from stackoverflow where I copied the tables inside my postgres container that I host on docker desktop. I want to say the fact that I run Serverpod and docker desktop from Windows 10 Pro.\nI have to say the fact that right now I cannot change the server idea. I have to stick to Serverpod. That's why I do not change the server :)</p>\n",
        "codigo": [
            "protocol/file.yaml",
            "serverpod generate",
            "class: Test\ntable: test\nfields:\n  title: String\n  content: String\n",
            "  Future<List<Test>> getTests(Session session, {String? keyword}) async {\n    final elem = await Test.find(session,\n        where: (t) =>\n            keyword != null ? t.title.like('%$keyword') : Constant(true));\n\n    return elem;\n  }\n\n  Future<bool> addTest(\n      Session session, String arg_title, String arg_content) async {\n    Test test = Test(content: arg_content, title: arg_title);\n    Test.insert(session, test);\n    return true;\n  }\n}\n",
            "arg_title",
            "arg_content",
            "{\n    \"method\": \"addTest\",\n    \"arg_title\": \"titlu_test\",\n    \"arg_content\": \"content_test\"\n}\n",
            "2023-11-03 07:44:47.840836Z Internal server error. Zoned exception.\nPostgreSQLSeverity.error 42P01: relation \"test\" does not exist\npackage:postgres/src/connection.dart 520:18 _PostgreSQLExecutionContextMixin._query\npackage:postgres/src/connection.dart 481:7 _PostgreSQLExecutionContextMixin.query\npackage:postgres_pool/postgres_pool.dart 801:23 _PgExecutionContextWrapper.query.<fn>\npackage:postgres_pool/postgres_pool.dart 800:12 _PgExecutionContextWrapper.query\npackage:postgres_pool/postgres_pool.dart 615:16 PgPool.query.<fn>\npackage:postgres_pool/postgres_pool.dart 352:22 PgPool.run.<fn>.<fn>\npackage:postgres_pool/postgres_pool.dart 451:27 PgPool._useOrCreate\npackage:postgres_pool/postgres_pool.dart 423:14 PgPool._withConnection.<fn>\npackage:executor/src/executor_impl.dart 61:19 _Executor.scheduleTask\npackage:postgres_pool/postgres_pool.dart 351:18 PgPool.run.<fn>\npackage:retry/retry.dart 131:16 RetryOptions.retry\npackage:postgres_pool/postgres_pool.dart 349:14 PgPool.run\npackage:serverpod/src/database/database_connection.dart 363:11 DatabaseConnection.insert\npackage:serverpod/src/database/database.dart 137:5 Database.insert\n===== asynchronous gap ===========================\npackage:postgres_pool/postgres_pool.dart 351:18 PgPool.run.<fn>\npackage:retry/retry.dart 131:16 RetryOptions.retry\npackage:postgres_pool/postgres_pool.dart 349:14 PgPool.run\npackage:serverpod/src/database/database_connection.dart 363:11 DatabaseConnection.insert\npackage:serverpod/src/database/database.dart 137:5 Database.insert\n",
            "Failed to connect to the database. Retrying in 10 seconds.\nPostgreSQLSeverity.error 42P01: relation \"serverpod_runtime_settings\" does not exist.\n"
        ]
    },
    {
        "titulo": "Integration test not going correctly",
        "score": 0,
        "views": 35,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "flutter-integration-test"
        ],
        "link": "https://stackoverflow.com/questions/77365450/integration-test-not-going-correctly",
        "conteudo_html": "<p>Sorry for weak English. I am doing Integration test for my Advicer app. When the Switch button taped then the theme will change from light to dark mode, but the button taped during integration test and it is not changing the theme.</p>\n<p><strong>Here is code for my Switch button in UI:</strong></p>\n<pre><code>Switch(\n           value: Provider.of&lt;ThemeService&gt;(context).isDarkModeON,\n            onChanged: (_) {\n              Provider.of&lt;ThemeService&gt;(context, listen: false).toggleTheme();\n            },\n          ),\n</code></pre>\n<p><strong>And this is code for my Integration test:</strong></p>\n<pre><code>group('ThemeChanging', () {\n    final GlobalKey appBarKey = GlobalKey();\n    testWidgets('tap on switch button and theme will change',\n        (widgetTester) async {\n      await widgetTester.pumpWidget(MultiProvider(\n        providers: [\n          ChangeNotifierProvider(\n            create: (context) =&gt; ThemeService(),\n          ),\n        ],\n        child: MaterialApp(\n          home: Scaffold(\n            appBar: AppBar(\n              key: appBarKey,\n              title: const Text('Advicer'),\n              actions: [\n                Consumer&lt;ThemeService&gt;(\n                  builder: (context, themeService, child) {\n                    return Switch(\n                      value: Provider.of&lt;ThemeService&gt;(context).isDarkModeON,\n                      onChanged: (value) =&gt;\n                          Provider.of&lt;ThemeService&gt;(context, listen: false)\n                              .toggleTheme(),\n                    );\n                  },\n                ),\n              ],\n            ),\n          ),\n        ),\n      ));\n\n      final switchFinder = find.byType(Switch);\n      final initialTheme = appBarKey.currentContext;\n      await widgetTester.tap(switchFinder);\n      await widgetTester.pumpAndSettle();\n\n      expect(switchFinder, findsOneWidget);\n\n      final changedTheme = appBarKey.currentContext;\n\n      expect(changedTheme != initialTheme, false);\n    });\n  });\n</code></pre>\n",
        "codigo": [
            "Switch(\n           value: Provider.of<ThemeService>(context).isDarkModeON,\n            onChanged: (_) {\n              Provider.of<ThemeService>(context, listen: false).toggleTheme();\n            },\n          ),\n",
            "group('ThemeChanging', () {\n    final GlobalKey appBarKey = GlobalKey();\n    testWidgets('tap on switch button and theme will change',\n        (widgetTester) async {\n      await widgetTester.pumpWidget(MultiProvider(\n        providers: [\n          ChangeNotifierProvider(\n            create: (context) => ThemeService(),\n          ),\n        ],\n        child: MaterialApp(\n          home: Scaffold(\n            appBar: AppBar(\n              key: appBarKey,\n              title: const Text('Advicer'),\n              actions: [\n                Consumer<ThemeService>(\n                  builder: (context, themeService, child) {\n                    return Switch(\n                      value: Provider.of<ThemeService>(context).isDarkModeON,\n                      onChanged: (value) =>\n                          Provider.of<ThemeService>(context, listen: false)\n                              .toggleTheme(),\n                    );\n                  },\n                ),\n              ],\n            ),\n          ),\n        ),\n      ));\n\n      final switchFinder = find.byType(Switch);\n      final initialTheme = appBarKey.currentContext;\n      await widgetTester.tap(switchFinder);\n      await widgetTester.pumpAndSettle();\n\n      expect(switchFinder, findsOneWidget);\n\n      final changedTheme = appBarKey.currentContext;\n\n      expect(changedTheme != initialTheme, false);\n    });\n  });\n"
        ]
    },
    {
        "titulo": "How to implement in Dart a bi-directional encryption algorithm that still generates an output if a wrong password is used?",
        "score": 0,
        "views": 119,
        "respostas": 0,
        "tags": [
            "flutter",
            "algorithm",
            "dart",
            "encryption"
        ],
        "link": "https://stackoverflow.com/questions/77355435/how-to-implement-in-dart-a-bi-directional-encryption-algorithm-that-still-genera",
        "conteudo_html": "<p>In my Flutter app, I want to encrypt and decrypt a String using a bi-directional encryption algorithm.</p>\n<p>Let's say I want to encrypt <code>my secret content</code> with a given password, for example: <code>mypassword</code>. I can encrypt it with pretty much any encryption algorithm.</p>\n<p>But I when it comes to decryption, I want that algorithm to behave like the following:</p>\n<ul>\n<li>if I use the right password (<code>mypassword</code>), I get <code>my secret content</code> back, in my example</li>\n<li>but if I use a wrong password, I want to get another result, that is generated by the algorithm using the encrypted content and the wrong password</li>\n</ul>\n<p>So here is an example of what I tried so far, using the <a href=\"https://pub.dev/packages/crypto\" rel=\"nofollow noreferrer\">crypto</a> and <a href=\"https://pub.dev/packages/encrypt\" rel=\"nofollow noreferrer\">encrypt</a> packages:</p>\n<pre><code>import 'dart:convert';\nimport 'package:crypto/crypto.dart';\nimport 'package:encrypt/encrypt.dart' as e;\nimport 'package:flutter/foundation.dart';\n\n\nvoid test()\n{\n  const secretContent = &quot;my secret content&quot;;\n  const password = &quot;mypassword&quot;;\n  final iv = List.generate(16, (index) =&gt; 0);\n\n  final passwordSha = sha256.convert(utf8.encode(password));\n\n  final encrypter = e.Encrypter(e.AES(e.Key(Uint8List.fromList(passwordSha.bytes)), mode: e.AESMode.ctr));\n  final encryptedResult = encrypter.encryptBytes(\n      secretContent.codeUnits,\n      iv: e.IV(Uint8List.fromList(iv)));\n  final encryptedText = encryptedResult.base64;\n\n  print(&quot;encryptedText: $encryptedText&quot;);\n\n  final passwordSha2 = sha256.convert(utf8.encode(password));\n  // final passwordSha2 = sha256.convert(utf8.encode(&quot;my other password&quot;)); // generates an error\n  final encrypter2 = e.Encrypter(e.AES(e.Key(Uint8List.fromList(passwordSha2.bytes)), mode: e.AESMode.ctr));\n  final decryptedText = encrypter2.decrypt64(encryptedText, iv: e.IV(Uint8List.fromList(iv)));\n\n  print(&quot;decryptedText: ${decryptedText}&quot;);\n}\n</code></pre>\n<p>It works fine, as long as I use the same password for encryption and decryption. But if I use another password for decryption, I got an error, while I expect another generated text.</p>\n<p>Here is the error: <code>Invalid argument(s): Invalid or corrupted pad block</code></p>\n<p><strong>One important note here:</strong> I could of course find an easy workaround by surrounding my code with a <code>try catch</code> block, and generate another String in the <code>catch</code> block. But that is not what I'm looking for.</p>\n<p>In fact, a hacker could have access to the encrypted content as well as the complete algorithm. He could then remove the <code>try catch</code> block and test multiple passwords until he finds the right one.</p>\n<p>This is why I'm looking for a bi-directional encryption algorithm that I could implement in Dart, that could generate another content if a wrong password is used. Apparently, I'm looking for a format-preserving encryption algorithm, preferably a strong one like AES, or equivalent.</p>\n<p>Thanks for your help.</p>\n",
        "codigo": [
            "my secret content",
            "mypassword",
            "mypassword",
            "my secret content",
            "import 'dart:convert';\nimport 'package:crypto/crypto.dart';\nimport 'package:encrypt/encrypt.dart' as e;\nimport 'package:flutter/foundation.dart';\n\n\nvoid test()\n{\n  const secretContent = \"my secret content\";\n  const password = \"mypassword\";\n  final iv = List.generate(16, (index) => 0);\n\n  final passwordSha = sha256.convert(utf8.encode(password));\n\n  final encrypter = e.Encrypter(e.AES(e.Key(Uint8List.fromList(passwordSha.bytes)), mode: e.AESMode.ctr));\n  final encryptedResult = encrypter.encryptBytes(\n      secretContent.codeUnits,\n      iv: e.IV(Uint8List.fromList(iv)));\n  final encryptedText = encryptedResult.base64;\n\n  print(\"encryptedText: $encryptedText\");\n\n  final passwordSha2 = sha256.convert(utf8.encode(password));\n  // final passwordSha2 = sha256.convert(utf8.encode(\"my other password\")); // generates an error\n  final encrypter2 = e.Encrypter(e.AES(e.Key(Uint8List.fromList(passwordSha2.bytes)), mode: e.AESMode.ctr));\n  final decryptedText = encrypter2.decrypt64(encryptedText, iv: e.IV(Uint8List.fromList(iv)));\n\n  print(\"decryptedText: ${decryptedText}\");\n}\n",
            "Invalid argument(s): Invalid or corrupted pad block",
            "try catch",
            "catch",
            "try catch"
        ]
    },
    {
        "titulo": "Flutter table calendar produces no result on the screen",
        "score": 0,
        "views": 349,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "table-calendar"
        ],
        "link": "https://stackoverflow.com/questions/77349601/flutter-table-calendar-produces-no-result-on-the-screen",
        "conteudo_html": "<p>I followed a tutorial online of flutter but I could not get the screen to show the calendar, it just shows a blank screen</p>\n<p>The code</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:table_calendar/table_calendar.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatefulWidget {\n  const MyApp({Key? key}) : super(key: key);\n\n  @override\n  State&lt;MyApp&gt; createState() =&gt; _MyAppState();\n}\n\nclass _MyAppState extends State&lt;MyApp&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      debugShowCheckedModeBanner: false,\n      home: FirstPage(),\n    );\n  }\n}\n\nclass FirstPage extends StatefulWidget {\n  const FirstPage({Key? key}) : super(key: key);\n\n  @override\n  State&lt;FirstPage&gt; createState() =&gt; _FirstPageState();\n}\n\nclass _FirstPageState extends State&lt;FirstPage&gt; {\n  DateTime today = DateTime.now();\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('App Title'),\n      ),\n      body: TableCalendar(\n        focusedDay: today,\n        firstDay: DateTime.utc(2023, 11, 12),\n        lastDay: DateTime.utc(2030, 11, 12),\n      ),\n    );\n  }\n}\n\n</code></pre>\n<p>Flutter doctor -v</p>\n<pre><code> [✓] Flutter (Channel stable, 3.10.6, on macOS 12.3.1 21E258 darwin-arm64, locale en-US)\n    • Flutter version 3.10.6 on channel stable at /Users/ingjirayu/dev_env/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision f468f3366c (3 months ago), 2023-07-12 15:19:05 -0700\n    • Engine revision cdbeda788a\n    • Dart version 3.0.6\n    • DevTools version 2.23.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0-rc4)\n    • Android SDK at /Users/ingjirayu/Library/Android/sdk\n    • Platform android-33, build-tools 33.0.0-rc4\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.12+0-b1504.28-7817840)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 13.3.1)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 13E500a\n    • CocoaPods version 1.12.1\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2021.2)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.12+0-b1504.28-7817840)\n\n[✓] IntelliJ IDEA Ultimate Edition (version 2021.2.4)\n    • IntelliJ at /Applications/IntelliJ IDEA.app\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n\n[✓] VS Code (version 1.83.1)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.74.0\n\n[✓] Connected device (3 available)\n    • iPhone 13 Pro Max (mobile) • 13F56FF1-153B-4B23-8629-15E71603E583 • ios            •\n      com.apple.CoreSimulator.SimRuntime.iOS-15-4 (simulator)\n    • macOS (desktop)            • macos                                • darwin-arm64   • macOS 12.3.1 21E258\n      darwin-arm64\n    • Chrome (web)               • chrome                               • web-javascript • Google Chrome 118.0.5993.88\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n\n</code></pre>\n<p>Pubspec.yaml</p>\n<pre><code>name: basics\ndescription: A new Flutter project.\n\npublish_to: &quot;none&quot; \n\n\nversion: 1.0.0+1\n\nenvironment:\n  sdk: &quot;&gt;=3.0.6 &lt;4.0.0&quot;\n\n\ndependencies:\n  flutter:\n    sdk: flutter\n  table_calendar: ^3.0.9\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  flutter_launcher_icons: ^0.13.1\n\nflutter_launcher_icons:\n  android: &quot;launcher_icon&quot;\n  ios: true\n  image_path: &quot;images/launcher_icon.png&quot;\n\n  \n  flutter_lints: ^2.0.0\n\n\nflutter:\n\n  uses-material-design: true\n\n  assets:\n    - images/\n  \n  \n\n</code></pre>\n<p>And this is the screen from the xcode simulator\n<a href=\"https://i.sstatic.net/ekAaf.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I was trying to make a bottom navigator go to a page with a calendar then it didn't work. Before the bottom navigation bar works normally so I created a new project to test a standalone calendar to see if the problem was from the bottom navigation bar or not and I get an empty screen and no other content.</p>\n",
        "codigo": [
            "import 'package:flutter/material.dart';\nimport 'package:table_calendar/table_calendar.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatefulWidget {\n  const MyApp({Key? key}) : super(key: key);\n\n  @override\n  State<MyApp> createState() => _MyAppState();\n}\n\nclass _MyAppState extends State<MyApp> {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      debugShowCheckedModeBanner: false,\n      home: FirstPage(),\n    );\n  }\n}\n\nclass FirstPage extends StatefulWidget {\n  const FirstPage({Key? key}) : super(key: key);\n\n  @override\n  State<FirstPage> createState() => _FirstPageState();\n}\n\nclass _FirstPageState extends State<FirstPage> {\n  DateTime today = DateTime.now();\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('App Title'),\n      ),\n      body: TableCalendar(\n        focusedDay: today,\n        firstDay: DateTime.utc(2023, 11, 12),\n        lastDay: DateTime.utc(2030, 11, 12),\n      ),\n    );\n  }\n}\n\n",
            " [✓] Flutter (Channel stable, 3.10.6, on macOS 12.3.1 21E258 darwin-arm64, locale en-US)\n    • Flutter version 3.10.6 on channel stable at /Users/ingjirayu/dev_env/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision f468f3366c (3 months ago), 2023-07-12 15:19:05 -0700\n    • Engine revision cdbeda788a\n    • Dart version 3.0.6\n    • DevTools version 2.23.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0-rc4)\n    • Android SDK at /Users/ingjirayu/Library/Android/sdk\n    • Platform android-33, build-tools 33.0.0-rc4\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.12+0-b1504.28-7817840)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 13.3.1)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 13E500a\n    • CocoaPods version 1.12.1\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2021.2)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.12+0-b1504.28-7817840)\n\n[✓] IntelliJ IDEA Ultimate Edition (version 2021.2.4)\n    • IntelliJ at /Applications/IntelliJ IDEA.app\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n\n[✓] VS Code (version 1.83.1)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.74.0\n\n[✓] Connected device (3 available)\n    • iPhone 13 Pro Max (mobile) • 13F56FF1-153B-4B23-8629-15E71603E583 • ios            •\n      com.apple.CoreSimulator.SimRuntime.iOS-15-4 (simulator)\n    • macOS (desktop)            • macos                                • darwin-arm64   • macOS 12.3.1 21E258\n      darwin-arm64\n    • Chrome (web)               • chrome                               • web-javascript • Google Chrome 118.0.5993.88\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n\n",
            "name: basics\ndescription: A new Flutter project.\n\npublish_to: \"none\" \n\n\nversion: 1.0.0+1\n\nenvironment:\n  sdk: \">=3.0.6 <4.0.0\"\n\n\ndependencies:\n  flutter:\n    sdk: flutter\n  table_calendar: ^3.0.9\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  flutter_launcher_icons: ^0.13.1\n\nflutter_launcher_icons:\n  android: \"launcher_icon\"\n  ios: true\n  image_path: \"images/launcher_icon.png\"\n\n  \n  flutter_lints: ^2.0.0\n\n\nflutter:\n\n  uses-material-design: true\n\n  assets:\n    - images/\n  \n  \n\n"
        ]
    },
    {
        "titulo": "Getting &#39;Exception:No Firebase App has been created - call Firebase.initializeApp()&#39; when refactoring my Firebase init outside of main.dart in Flutter",
        "score": 0,
        "views": 721,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "firebase",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77347536/getting-exceptionno-firebase-app-has-been-created-call-firebase-initializeap",
        "conteudo_html": "<p>I have a Flutter project using Firebase and I'm trying to abstract all the Firebase usage out of UI files to a service. I initialize my Firebase in the future of <code>HomePage</code> widget below. Note that replacing the line specified in <code>main.dart</code> with the line <code>Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);</code> will resolve the issue. So why is Firebase not getting initialized when I just move this line to another file?</p>\n<h1><code>main.dart</code>:</h1>\n<pre><code>void main() {\n  WidgetsFlutterBinding.ensureInitialized();\n  runApp(\n    MaterialApp(),\n  );\n}\n\nclass HomePage extends StatelessWidget {\n  const HomePage({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return FutureBuilder(\n      future: AuthService.firebase().initialize(), // THIS LINE HERE\n      builder: (context, snapshot) {\n        switch (snapshot.connectionState) {\n          case ConnectionState.done:\n            final user = AuthService.firebase().currentUser;\n            if (user != null) {\n              if (user.isEmailVerified) {\n                return const RecipesView();\n              } else {\n                return const VerifyEmailView();\n              }\n            } else {\n              return const LoginView();\n            }\n          default:\n            return const CircularProgressIndicator();\n        }\n      },\n    );\n  }\n}\n</code></pre>\n<p>Calls out to this service, has a factory constructor for <code>FirebaseAuthProvider</code>...</p>\n<h1><code>auth_service.dart</code></h1>\n<pre><code>class AuthService implements AuthProvider {\n  final AuthProvider provider;\n  const AuthService(this.provider);\n\n  factory AuthService.firebase() =&gt; AuthService(FirebaseAuthProvider()); // Class used in main.dart\n\n  @override\n  Future&lt;void&gt; initialize() =&gt; provider.initialize(); // method called in main.dart\n\n}\n</code></pre>\n<p>And finally, our initialize functionality:</p>\n<h1><code>firebase_auth_provider.dart</code></h1>\n<pre><code>class FirebaseAuthProvider implements AuthProvider {\n  @override\n  Future&lt;void&gt; initialize() async {\n    Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);\n  }\n\n  @override\n  AuthUser? get currentUser {\n    final user = FirebaseAuth.instance.currentUser;\n    if (user != null) {\n      return AuthUser.fromFirebase(user);\n    } else {\n      return null;\n    }\n  }\n}\n\n</code></pre>\n<p>Full exception is here and occurs when I try to instantiate user in <code>main.dart</code> on line <code>final user = AuthService.firebase().currentUser;</code>:</p>\n<pre><code>FirebaseException ([core/no-app] No Firebase App '[DEFAULT]' has been created - call Firebase.initializeApp())\n</code></pre>\n<p>When I debug, I clearly go into the <code>initializeApp</code> method, but still get the failure on next Firebase access.\nPasting the line <code>Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);</code> into the future value in main.dart resolves the issue, but I'd like to be able to abstract the dependency out of my main.dart file. Adding <code>await AuthService.firebase().initialize();</code> to main(), before RunApp, does not resolve the issue either.</p>\n",
        "codigo": [
            "HomePage",
            "main.dart",
            "Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);",
            "main.dart",
            "void main() {\n  WidgetsFlutterBinding.ensureInitialized();\n  runApp(\n    MaterialApp(),\n  );\n}\n\nclass HomePage extends StatelessWidget {\n  const HomePage({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return FutureBuilder(\n      future: AuthService.firebase().initialize(), // THIS LINE HERE\n      builder: (context, snapshot) {\n        switch (snapshot.connectionState) {\n          case ConnectionState.done:\n            final user = AuthService.firebase().currentUser;\n            if (user != null) {\n              if (user.isEmailVerified) {\n                return const RecipesView();\n              } else {\n                return const VerifyEmailView();\n              }\n            } else {\n              return const LoginView();\n            }\n          default:\n            return const CircularProgressIndicator();\n        }\n      },\n    );\n  }\n}\n",
            "FirebaseAuthProvider",
            "auth_service.dart",
            "class AuthService implements AuthProvider {\n  final AuthProvider provider;\n  const AuthService(this.provider);\n\n  factory AuthService.firebase() => AuthService(FirebaseAuthProvider()); // Class used in main.dart\n\n  @override\n  Future<void> initialize() => provider.initialize(); // method called in main.dart\n\n}\n",
            "firebase_auth_provider.dart",
            "class FirebaseAuthProvider implements AuthProvider {\n  @override\n  Future<void> initialize() async {\n    Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);\n  }\n\n  @override\n  AuthUser? get currentUser {\n    final user = FirebaseAuth.instance.currentUser;\n    if (user != null) {\n      return AuthUser.fromFirebase(user);\n    } else {\n      return null;\n    }\n  }\n}\n\n",
            "main.dart",
            "final user = AuthService.firebase().currentUser;",
            "FirebaseException ([core/no-app] No Firebase App '[DEFAULT]' has been created - call Firebase.initializeApp())\n",
            "initializeApp",
            "Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);",
            "await AuthService.firebase().initialize();"
        ]
    },
    {
        "titulo": "Flutter app crashes when lunching it on real iOS device",
        "score": 0,
        "views": 689,
        "respostas": 1,
        "tags": [
            "ios",
            "flutter",
            "dart",
            "crash"
        ],
        "link": "https://stackoverflow.com/questions/77343367/flutter-app-crashes-when-lunching-it-on-real-ios-device",
        "conteudo_html": "<p>We developed a flutter app and tested it on a lot of emulators(iOs/android) and they worked fine then we built apk file and tested it on android and it worked fine, but when we built ipa for iOS the app just crashes on start up.</p>\n<p>We tried to debug on a real Iphone but the app work it's only on the release that it crashes.\nalso tried <code>flutter clean</code> several time with no luck.</p>\n<p>flutter doctor -v</p>\n<pre><code>[✓] Flutter (Channel stable, 3.13.8, on macOS 14.0 23A344 darwin-arm64, locale\n    en-YE)\n    • Flutter version 3.13.8 on channel stable at\n      /Users/albusairi/Development/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 6c4930c4ac (5 days ago), 2023-10-18 10:57:55 -0500\n    • Engine revision 767d8c75e8\n    • Dart version 3.1.4\n    • DevTools version 2.25.0\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /Users/albusairi/Library/Android/sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /Applications/Android\n      Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build\n      17.0.6+0-17.0.6b829.9-10027231)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 15.0)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 15A240d\n    • CocoaPods version 1.13.0\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2022.3)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build\n      17.0.6+0-17.0.6b829.9-10027231)\n\n[✓] VS Code (version 1.83.1)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.74.0\n\n[✓] Connected device (4 available)\n    • iPhone 15 Pro (mobile)  • DC34EB5F-3761-4965-94AF-EB8A38E8FE50 •ios • com.apple.CoreSimulator.SimRuntime.iOS-17-0 (simulator)\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n",
        "codigo": [
            "flutter clean",
            "[✓] Flutter (Channel stable, 3.13.8, on macOS 14.0 23A344 darwin-arm64, locale\n    en-YE)\n    • Flutter version 3.13.8 on channel stable at\n      /Users/albusairi/Development/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 6c4930c4ac (5 days ago), 2023-10-18 10:57:55 -0500\n    • Engine revision 767d8c75e8\n    • Dart version 3.1.4\n    • DevTools version 2.25.0\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /Users/albusairi/Library/Android/sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /Applications/Android\n      Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build\n      17.0.6+0-17.0.6b829.9-10027231)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 15.0)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 15A240d\n    • CocoaPods version 1.13.0\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2022.3)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build\n      17.0.6+0-17.0.6b829.9-10027231)\n\n[✓] VS Code (version 1.83.1)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.74.0\n\n[✓] Connected device (4 available)\n    • iPhone 15 Pro (mobile)  • DC34EB5F-3761-4965-94AF-EB8A38E8FE50 •ios • com.apple.CoreSimulator.SimRuntime.iOS-17-0 (simulator)\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n"
        ]
    },
    {
        "titulo": "Flutter project won&#39;t start",
        "score": 0,
        "views": 82,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77333206/flutter-project-wont-start",
        "conteudo_html": "<p>When trying to run any flutter project, the following errors are displayed:</p>\n<p><a href=\"https://i.sstatic.net/VFICc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/VFICc.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone know how to fix this?</p>\n<p>flutter doctor -v:</p>\n<pre><code>        [√] Flutter (Channel stable, 3.13.8, on Microsoft Windows [Version 10.0.19045.3570], locale ru-RU)\n        • Flutter version 3.13.8 on channel stable at C:\\flutter\n        • Upstream repository https://github.com/flutter/flutter.git\n        • Framework revision 6c4930c4ac (2 days ago), 2023-10-18 10:57:55 -0500\n        • Engine revision 767d8c75e8\n        • Dart version 3.1.4\n        • DevTools version 2.25.0\n\n    [√] Windows Version (Installed version of Windows is version 10 or higher)\n\n    [√] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n        • Android SDK at C:\\Users\\user\\AppData\\Local\\Android\\sdk\n        • Platform android-34-ext8, build-tools 34.0.0\n        • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n        • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n        • All Android licenses accepted.\n\n    [√] Chrome - develop for the web\n        • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n    [√] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.7.5)\n        • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n        • Visual Studio Community 2022 version 17.7.34202.233\n        • Windows 10 SDK version 10.0.22621.0\n\n    [√] Android Studio (version 2022.3)\n        • Android Studio at C:\\Program Files\\Android\\Android Studio\n        • Flutter plugin can be installed from:\n          https://plugins.jetbrains.com/plugin/9212-flutter\n        • Dart plugin can be installed from:\n          https://plugins.jetbrains.com/plugin/6351-dart\n        • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n\n    [√] VS Code (version 1.83.1)\n        • VS Code at C:\\Users\\user\\AppData\\Local\\Programs\\Microsoft VS Code\n        • Flutter extension version 3.74.0\n\n    [√] Connected device (2 available)\n        • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.19045.3570]\n        • Chrome (web)      • chrome  • web-javascript • Google Chrome 118.0.5993.89\n\n    [√] Network resources\n        • All expected network resources are available.\n</code></pre>\n<p>Ignore this: It looks like your post is mostly code; please add some more details.It looks like your post is mostly code; please add some more details.</p>\n",
        "codigo": [
            "        [√] Flutter (Channel stable, 3.13.8, on Microsoft Windows [Version 10.0.19045.3570], locale ru-RU)\n        • Flutter version 3.13.8 on channel stable at C:\\flutter\n        • Upstream repository https://github.com/flutter/flutter.git\n        • Framework revision 6c4930c4ac (2 days ago), 2023-10-18 10:57:55 -0500\n        • Engine revision 767d8c75e8\n        • Dart version 3.1.4\n        • DevTools version 2.25.0\n\n    [√] Windows Version (Installed version of Windows is version 10 or higher)\n\n    [√] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n        • Android SDK at C:\\Users\\user\\AppData\\Local\\Android\\sdk\n        • Platform android-34-ext8, build-tools 34.0.0\n        • Java binary at: C:\\Program Files\\Android\\Android Studio\\jbr\\bin\\java\n        • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n        • All Android licenses accepted.\n\n    [√] Chrome - develop for the web\n        • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n    [√] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.7.5)\n        • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n        • Visual Studio Community 2022 version 17.7.34202.233\n        • Windows 10 SDK version 10.0.22621.0\n\n    [√] Android Studio (version 2022.3)\n        • Android Studio at C:\\Program Files\\Android\\Android Studio\n        • Flutter plugin can be installed from:\n          https://plugins.jetbrains.com/plugin/9212-flutter\n        • Dart plugin can be installed from:\n          https://plugins.jetbrains.com/plugin/6351-dart\n        • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n\n    [√] VS Code (version 1.83.1)\n        • VS Code at C:\\Users\\user\\AppData\\Local\\Programs\\Microsoft VS Code\n        • Flutter extension version 3.74.0\n\n    [√] Connected device (2 available)\n        • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.19045.3570]\n        • Chrome (web)      • chrome  • web-javascript • Google Chrome 118.0.5993.89\n\n    [√] Network resources\n        • All expected network resources are available.\n"
        ]
    },
    {
        "titulo": "It&#39;s giving an image error in a test I&#39;m running on Flutter",
        "score": 0,
        "views": 658,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77311610/its-giving-an-image-error-in-a-test-im-running-on-flutter",
        "conteudo_html": "<p>The internet image is not being saved in flutter test, is giving this error, I tried using the answers from another question but they didn't work for me</p>\n<p>flutter: 00:00 +0: Home screen [E]\nflutter:   Test failed. See exception logs above.\nThe test description was: Home screen\nflutter:\nflutter: Warning: At least one test in this suite creates an HttpClient. When\nrunning a test suite that uses TestWidgetsFlutterBinding, all HTTP\nrequests will return status code 400, and no network request will\nactually be made. Any test expecting a real network connection and\nstatus code will fail.\nTo test code that needs an HttpClient, provide your own HttpClient\nimplementation to the code under test, so that your test can\nconsistently provide a testable response to the code under test.\nflutter: 00:00 +0 -1: Some tests failed.</p>\n<p><strong>HOMEVIEW</strong></p>\n<pre><code>   class HomeView extends StatefulWidget {\n     const HomeView({super.key});\n   \n     @override\n     State&lt;HomeView&gt; createState() =&gt; _HomeViewState();\n   }\n   \n   class _HomeViewState extends State&lt;HomeView&gt; {\n   \n     @override\n     Widget build(BuildContext context) {\n       return Scaffold(\n         appBar: const CsAppBar(\n           title: 'Home',\n         ),\n         body: Column(\n           mainAxisAlignment: MainAxisAlignment.center,\n           children: [\n             Image.network( \n               'https://thecolor.blog/wp-content/uploads/2021/10/GIF-1.gif',\n               width: double.maxFinite,\n               height: 400,\n             ),\n           ],\n         ),\n       );\n     }\n   }\n</code></pre>\n<p><strong>HOMEVIEWTEST</strong></p>\n<pre><code>   import 'package:flutter/material.dart';\n   import 'package:flutter_test/flutter_test.dart';\n   import 'package:network_image_mock/network_image_mock.dart';\n   import 'package:para_testes/views/home/home_view.dart';\n   \n   void main(){\n   \n     testWidgets('Home screen', (tester) async {\n       await mockNetworkImagesFor(() =&gt; _createWidget(tester));\n   \n       final image = find.byWidgetPredicate((widget) =&gt; widget is Image);\n   \n       expect(image, findsOneWidget);\n   \n     });\n   }\n   \n   Future&lt;void&gt; _createWidget(WidgetTester tester) async{\n     await tester.pumpWidget(const MaterialApp(home: HomeView()));\n   \n     await tester.pump();\n   }\n</code></pre>\n",
        "codigo": [
            "   class HomeView extends StatefulWidget {\n     const HomeView({super.key});\n   \n     @override\n     State<HomeView> createState() => _HomeViewState();\n   }\n   \n   class _HomeViewState extends State<HomeView> {\n   \n     @override\n     Widget build(BuildContext context) {\n       return Scaffold(\n         appBar: const CsAppBar(\n           title: 'Home',\n         ),\n         body: Column(\n           mainAxisAlignment: MainAxisAlignment.center,\n           children: [\n             Image.network( \n               'https://thecolor.blog/wp-content/uploads/2021/10/GIF-1.gif',\n               width: double.maxFinite,\n               height: 400,\n             ),\n           ],\n         ),\n       );\n     }\n   }\n",
            "   import 'package:flutter/material.dart';\n   import 'package:flutter_test/flutter_test.dart';\n   import 'package:network_image_mock/network_image_mock.dart';\n   import 'package:para_testes/views/home/home_view.dart';\n   \n   void main(){\n   \n     testWidgets('Home screen', (tester) async {\n       await mockNetworkImagesFor(() => _createWidget(tester));\n   \n       final image = find.byWidgetPredicate((widget) => widget is Image);\n   \n       expect(image, findsOneWidget);\n   \n     });\n   }\n   \n   Future<void> _createWidget(WidgetTester tester) async{\n     await tester.pumpWidget(const MaterialApp(home: HomeView()));\n   \n     await tester.pump();\n   }\n"
        ]
    },
    {
        "titulo": "createUserWithEmailAndPassword is not creating a new document in firebase",
        "score": 0,
        "views": 906,
        "respostas": 2,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/77293816/createuserwithemailandpassword-is-not-creating-a-new-document-in-firebase",
        "conteudo_html": "<p>I am trying to create a new user in Firebase. I am using the <code>auth.createUserWithEmailAndPassword</code> method but it does not create a new entry in the firebase db.</p>\n<p>Here is my code:</p>\n<pre><code>final newUser = await _auth.createUserWithEmailAndPassword(\n  email: email,\n  password: password,\n);\n\nif (newUser != null) {\n  Navigator.of(context).pushReplacement(\n    MaterialPageRoute(builder: (context) =&gt; const VerifyEmailScreen()),\n  );\n} else {\n  setState(() {\n    registrationFail = true;\n  });\n}\n</code></pre>\n<p>I get an error message &quot;An undefined error happened&quot; which is the default error message in the catch code and then it just hangs.</p>\n<p>I'm not sure I am communicating with Firebase. How do I check to see if I am talking to the db?</p>\n<p>I have searched for a solution but everything is very old and nothing works.</p>\n<p>Any help would be greatly appreciated.\nThanks</p>\n",
        "codigo": [
            "auth.createUserWithEmailAndPassword",
            "final newUser = await _auth.createUserWithEmailAndPassword(\n  email: email,\n  password: password,\n);\n\nif (newUser != null) {\n  Navigator.of(context).pushReplacement(\n    MaterialPageRoute(builder: (context) => const VerifyEmailScreen()),\n  );\n} else {\n  setState(() {\n    registrationFail = true;\n  });\n}\n"
        ]
    },
    {
        "titulo": "Operator overloading not interchangeable with operands in flutter",
        "score": 0,
        "views": 216,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "operator-overloading"
        ],
        "link": "https://stackoverflow.com/questions/77289951/operator-overloading-not-interchangeable-with-operands-in-flutter",
        "conteudo_html": "<p><em>I am making a custom number class in flutter and want to do basic arithmetic between the class and normal integers and doubles.</em>\nSo I overloaded the multiplication operator in the class definition and tried to use it.\n<strong>Example (not of the actual class, but the class implementation important:</strong></p>\n<pre><code>class MyClass {\n  double value;\n\n  MyClass(this.value);\n\n  MyClass operator *(dynamic other) {\n    if (other is num) {\n      return MyClass(this.value * other);\n    }\n    throw ArgumentError(&quot;Unsupported operation&quot;);\n  }\n}\n\nvoid main() {\n  MyClass myObject = MyClass(5.0);\n\n  MyClass result1 = myObject * 2;\n  MyClass result2 = 2 * myObject;\n\n  print(result1.value); // Expected output: 10.0\n  print(result2.value); // Expected output: 10.0\n}\n</code></pre>\n<p>But what happens in the second case (<code>2 * myObject</code>) is I get an error, because you can't add <code>MyClass</code> to <code>num</code> while you can add <code>num</code> to <code>MyClass</code>.</p>\n<p><strong>Is there any way to overload the operator so the second case is achievable?</strong>\n(Like in C++ you can, for example)</p>\n",
        "codigo": [
            "class MyClass {\n  double value;\n\n  MyClass(this.value);\n\n  MyClass operator *(dynamic other) {\n    if (other is num) {\n      return MyClass(this.value * other);\n    }\n    throw ArgumentError(\"Unsupported operation\");\n  }\n}\n\nvoid main() {\n  MyClass myObject = MyClass(5.0);\n\n  MyClass result1 = myObject * 2;\n  MyClass result2 = 2 * myObject;\n\n  print(result1.value); // Expected output: 10.0\n  print(result2.value); // Expected output: 10.0\n}\n",
            "2 * myObject",
            "MyClass",
            "num",
            "num",
            "MyClass"
        ]
    },
    {
        "titulo": "Dart: Calling a dynamic function variable with dynamic amount of arguments",
        "score": 1,
        "views": 150,
        "respostas": 1,
        "tags": [
            "function",
            "dart",
            "unit-testing"
        ],
        "link": "https://stackoverflow.com/questions/77270133/dart-calling-a-dynamic-function-variable-with-dynamic-amount-of-arguments",
        "conteudo_html": "<p>I am trying to create a list of functions with differing amount of arguments, and then doing something generic with them - namely setting up mocks and verifications that have the same behavior across all methods regardless of arguments.</p>\n<p>The following code works, but need to have a case for every possible count of arguments. I am wondering if there is an elegant way of doing this which works for any number of arguments.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>final funcs = {\n  printer.getStatus: [],\n  printer.setPrintAreaSizeParams: [printAreaSizeParams],\n}\n\nfor (final func in funcs.entries) {\n  if (func.value.isEmpty) {\n    test('not connected ${func.key}', () {\n      expect(\n        () async =&gt; func.key(),\n        throwsA(isA&lt;InvalidConnectionStateException&gt;()),\n      );\n    });\n  } else if (func.value.length == 1) {\n    test('not connected ${func.key}', () {\n      expect(\n        () async =&gt; func.key(func.value.first),\n        throwsA(isA&lt;InvalidConnectionStateException&gt;()),\n      );\n    });\n  } \n}\n// ...\n</code></pre>\n",
        "codigo": [
            "final funcs = {\n  printer.getStatus: [],\n  printer.setPrintAreaSizeParams: [printAreaSizeParams],\n}\n\nfor (final func in funcs.entries) {\n  if (func.value.isEmpty) {\n    test('not connected ${func.key}', () {\n      expect(\n        () async => func.key(),\n        throwsA(isA<InvalidConnectionStateException>()),\n      );\n    });\n  } else if (func.value.length == 1) {\n    test('not connected ${func.key}', () {\n      expect(\n        () async => func.key(func.value.first),\n        throwsA(isA<InvalidConnectionStateException>()),\n      );\n    });\n  } \n}\n// ...\n"
        ]
    },
    {
        "titulo": "Firebase Auth ONLY gives INVALID_LOGIN_CREDENTIALS error and no other error codes",
        "score": 6,
        "views": 4045,
        "respostas": 2,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "google-cloud-platform",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/77249904/firebase-auth-only-gives-invalid-login-credentials-error-and-no-other-error-code",
        "conteudo_html": "<p>I use <code>FirebaseAuth.instance.signInWithEmailAndPassword()</code> in my Flutter/Dart code. To test scenarios where users, for example, enter a wrong password or wrong email etc, I check the error codes, like: 'user-not-found', 'invalid-email', 'user-disabled', or 'wrong-password'. The problem is that the <em>only</em> error code that I get is 'INVALID_LOGIN_CREDENTIALS' and none of the others.</p>\n<p>This is my code:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>  Future&lt;AuthResult&gt; signIn(String email, String password) async {\n    try {\n      await FirebaseAuth.instance.signInWithEmailAndPassword(\n        email: email,\n        password: password,\n      );\n      \n      return AuthResult.success;\n    } on FirebaseAuthException catch (e) {\n      print(e.code);\n\n      switch (e.code) {\n        case 'user-not-found':\n          return AuthResult.userNotFound;\n        case 'invalid-email':\n          return AuthResult.invalidEmail;\n        case 'user-disabled':\n          return AuthResult.userDisabled;\n        case 'wrong-password':\n          return AuthResult.wrongPassword;\n        default:\n          return AuthResult.failure;\n      }\n    } catch (_) {\n      return AuthResult.aborted;\n    }\n  }\n</code></pre>\n<p>I also looked on Stack Overflow and GitHub to see if other people had this problem. It looks like it has to do with email enumeration protection. I looked into the Google Cloud docs to see how to disable this, but this didn't solve my problem, when following the instructions.</p>\n<p>Link on how to disable it: <a href=\"https://cloud.google.com/identity-platform/docs/admin/email-enumeration-protection#disable\" rel=\"nofollow noreferrer\">https://cloud.google.com/identity-platform/docs/admin/email-enumeration-protection#disable</a></p>\n<p>This is the error I get in the Google Cloud console when following the instructions:</p>\n<pre><code>curl: (3) URL using bad/illegal format or missing URL\ncurl: (6) Could not resolve host: Bearer\ncurl: (3) URL using bad/illegal format or missing URL\ncurl: (3) URL using bad/illegal format or missing URL\ncurl: (6) Could not resolve host: application\ncurl: (3) URL using bad/illegal format or missing URL\ncurl: (3) URL using bad/illegal format or missing URL\n{\n  &quot;error&quot;: {\n    &quot;code&quot;: 401,\n    &quot;message&quot;: &quot;Request is missing required authentication credential. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.&quot;,\n    &quot;status&quot;: &quot;UNAUTHENTICATED&quot;,\n    &quot;details&quot;: [\n      {\n        &quot;@type&quot;: &quot;type.googleapis.com/google.rpc.ErrorInfo&quot;,\n        &quot;reason&quot;: &quot;CREDENTIALS_MISSING&quot;,\n        &quot;domain&quot;: &quot;googleapis.com&quot;,\n        &quot;metadata&quot;: {\n          &quot;service&quot;: &quot;identitytoolkit.googleapis.com&quot;,\n          &quot;method&quot;: &quot;google.cloud.identitytoolkit.admin.v2.ProjectConfigService.UpdateConfig&quot;\n        }\n      }\n    ]\n  }\n}\n</code></pre>\n",
        "codigo": [
            "FirebaseAuth.instance.signInWithEmailAndPassword()",
            "  Future<AuthResult> signIn(String email, String password) async {\n    try {\n      await FirebaseAuth.instance.signInWithEmailAndPassword(\n        email: email,\n        password: password,\n      );\n      \n      return AuthResult.success;\n    } on FirebaseAuthException catch (e) {\n      print(e.code);\n\n      switch (e.code) {\n        case 'user-not-found':\n          return AuthResult.userNotFound;\n        case 'invalid-email':\n          return AuthResult.invalidEmail;\n        case 'user-disabled':\n          return AuthResult.userDisabled;\n        case 'wrong-password':\n          return AuthResult.wrongPassword;\n        default:\n          return AuthResult.failure;\n      }\n    } catch (_) {\n      return AuthResult.aborted;\n    }\n  }\n",
            "curl: (3) URL using bad/illegal format or missing URL\ncurl: (6) Could not resolve host: Bearer\ncurl: (3) URL using bad/illegal format or missing URL\ncurl: (3) URL using bad/illegal format or missing URL\ncurl: (6) Could not resolve host: application\ncurl: (3) URL using bad/illegal format or missing URL\ncurl: (3) URL using bad/illegal format or missing URL\n{\n  \"error\": {\n    \"code\": 401,\n    \"message\": \"Request is missing required authentication credential. Expected OAuth 2 access token, login cookie or other valid authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.\",\n    \"status\": \"UNAUTHENTICATED\",\n    \"details\": [\n      {\n        \"@type\": \"type.googleapis.com/google.rpc.ErrorInfo\",\n        \"reason\": \"CREDENTIALS_MISSING\",\n        \"domain\": \"googleapis.com\",\n        \"metadata\": {\n          \"service\": \"identitytoolkit.googleapis.com\",\n          \"method\": \"google.cloud.identitytoolkit.admin.v2.ProjectConfigService.UpdateConfig\"\n        }\n      }\n    ]\n  }\n}\n"
        ]
    },
    {
        "titulo": "Get Request works in postman but not work in flutter giving 400 error",
        "score": 0,
        "views": 145,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "https",
            "postman",
            "http-status-code-400"
        ],
        "link": "https://stackoverflow.com/questions/77242135/get-request-works-in-postman-but-not-work-in-flutter-giving-400-error",
        "conteudo_html": "<p>I am sending a get request with JSON body and bearer token it is working fine in Postman but it is not working in Flutter code and gives 400 bad requests with this response:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;type&quot;: &quot;https://tools.ietf.org/html/rfc7231#section-6.5.1&quot;,\n    &quot;title&quot;: &quot;One or more validation errors occurred.&quot;,\n    &quot;status&quot;: 400,\n    &quot;traceId&quot;: &quot;00-2460b88e437fb2021b6249f0a3d0abf0-3f2e0cef2e5fefa3-00&quot;,\n    &quot;errors&quot;: {\n        &quot;$&quot;: [\n            &quot;The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0.&quot;\n        ],\n        &quot;signIn&quot;: [\n            &quot;The signIn field is required.&quot;\n        ]\n    }\n}\n</code></pre>\n<p>Here is my flutter code:</p>\n<pre><code>final body = userData.toJsonLogin();\n\nvar headersList = {\n  'Accept': '*/*',\n  'Authorization': 'Bearer $token',\n  'Content-Type': 'application/json',\n};\n\nvar request =\n    http.Request('GET', Uri.parse('https://192.168.0.128/api/Profile'));\n\nrequest.body = body;\n\nrequest.headers.addAll(headersList);\n\nhttp.StreamedResponse response = await request.send();\n\nif (response.statusCode == 200) {\n  print(await response.stream.bytesToString());\n} else {\n  print(response.reasonPhrase);\n}\n</code></pre>\n<p>How can I solve this problem the API is provided by my senior and I can't change it.</p>\n",
        "codigo": [
            "{\n    \"type\": \"https://tools.ietf.org/html/rfc7231#section-6.5.1\",\n    \"title\": \"One or more validation errors occurred.\",\n    \"status\": 400,\n    \"traceId\": \"00-2460b88e437fb2021b6249f0a3d0abf0-3f2e0cef2e5fefa3-00\",\n    \"errors\": {\n        \"$\": [\n            \"The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. Path: $ | LineNumber: 0 | BytePositionInLine: 0.\"\n        ],\n        \"signIn\": [\n            \"The signIn field is required.\"\n        ]\n    }\n}\n",
            "final body = userData.toJsonLogin();\n\nvar headersList = {\n  'Accept': '*/*',\n  'Authorization': 'Bearer $token',\n  'Content-Type': 'application/json',\n};\n\nvar request =\n    http.Request('GET', Uri.parse('https://192.168.0.128/api/Profile'));\n\nrequest.body = body;\n\nrequest.headers.addAll(headersList);\n\nhttp.StreamedResponse response = await request.send();\n\nif (response.statusCode == 200) {\n  print(await response.stream.bytesToString());\n} else {\n  print(response.reasonPhrase);\n}\n"
        ]
    },
    {
        "titulo": "why doesnt it show anything in output or debug console",
        "score": 0,
        "views": 46,
        "respostas": 1,
        "tags": [
            "json",
            "xml",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77218332/why-doesnt-it-show-anything-in-output-or-debug-console",
        "conteudo_html": "<p>this is my test file</p>\n<pre><code>import 'package:test/test.dart';\nimport 'assignment5.dart';\n\nvoid main() {\n  test('Serialization and deserialization', () {\n    final medication1 = Medication(\n      meds: &quot;pandoil&quot;,\n      dose: &quot;200mg&quot;,\n      freq: &quot;every 4 hours&quot;,\n    );\n\n    final medication2 = Medication(\n      meds: &quot;pencillin&quot;,\n      dose: &quot;50mg&quot;,\n      freq: &quot;every 6 hours&quot;,\n    );\n\n    final patient1 = Patient(\n      id: &quot;1&quot;,\n      name: &quot;john&quot;,\n      address: &quot;table1&quot;,\n      diagnosis: &quot;covid&quot;,\n      medications: [medication1],\n    );\n\n    final patient2 = Patient(\n      id: &quot;2&quot;,\n      name: &quot;poul&quot;,\n      address: &quot;table2&quot;,\n      diagnosis: &quot;flue&quot;,\n      medications: [medication2],\n    );\n\n    final ehr = EHR();\n    ehr.addPatient(patient1);\n    ehr.addPatient(patient2);\n\n    final ehrJson = ehr.toJSON();\n    final newEhr = EHR.fromJSON(ehrJson);\n\n    expect(newEhr.patients.length, equals(2));\n    expect(newEhr.getPatient('1')!.name, equals('john'));\n    expect(newEhr.getPatient('2')!.name, equals('poul'));\n\n    final ehrXml = ehr.toXML();\n    final newerEhr = EHR.fromXML(ehrXml);\n\n    expect(newerEhr.patients.length, equals(2));\n    expect(newerEhr.getPatient('1')!.name, equals('john'));\n    expect(newerEhr.getPatient('2')!.name, equals('poul'));\n  });\n}\n</code></pre>\n<p>and this is my imported file</p>\n<pre><code>import 'dart:convert';\nimport 'package:xml/xml.dart' as xml;\n\nclass Medication {\n  String meds;\n  String dose;\n  String freq;\n\n  Medication({\n    required this.meds,\n    required this.dose,\n    required this.freq,\n  });\n\n  String toXML() {\n    final builder = xml.XmlBuilder();\n    builder.element('Medication', nest: () {\n      builder.element('meds', nest: meds);\n      builder.element('dose', nest: dose);\n      builder.element('freq', nest: freq);\n    });\n\n    return builder.buildDocument().toXmlString(pretty: true);\n  }\n\n  static Medication fromXML(String xmlString) {\n    final document = xml.XmlDocument.parse(xmlString);\n    final medicationElement = document.rootElement;\n    return Medication(\n      meds: medicationElement.findElements('meds').single.innerText,\n      dose: medicationElement.findElements('dose').single.innerText,\n      freq: medicationElement.findElements('freq').single.innerText,\n    );\n  }\n\n  String toJSON() {\n    return json.encode(toJson());\n  }\n\n  Map&lt;String, dynamic&gt; toJson() {\n    return {\n      'meds': meds,\n      'dose': dose,\n      'freq': freq,\n    };\n  }\n\n  static Medication fromJSON(Map&lt;String, dynamic&gt; data) {\n    return Medication(\n      meds: data['meds'],\n      dose: data['dose'],\n      freq: data['freq'],\n    );\n  }\n}\n\nclass Patient {\n  String id;\n  String name;\n  String address;\n  String diagnosis;\n  List&lt;Medication&gt; medications;\n\n  Patient({\n    required this.id,\n    required this.name,\n    required this.address,\n    required this.diagnosis,\n    required this.medications,\n  });\n\n  String toXML() {\n    final builder = xml.XmlBuilder();\n    builder.element('Patient', nest: () {\n      builder.element('id', nest: id);\n      builder.element('name', nest: name);\n      builder.element('address', nest: address);\n      builder.element('diagnosis', nest: diagnosis);\n      builder.element('medications', nest: () {\n        for (final medication in medications) {\n          builder.element('Medication', nest: medication.toXML());\n        }\n      });\n    });\n\n    return builder.buildDocument().toXmlString(pretty: true);\n  }\n\n  static Patient fromXML(String xmlString) {\n    final document = xml.XmlDocument.parse(xmlString);\n    final patientElement = document.rootElement;\n    final medications = patientElement\n        .findElements('medications')\n        .single\n        .findElements('Medication')\n        .map((medicationElement) =&gt; Medication.fromXML(medicationElement.toXmlString()))\n        .toList();\n\n    return Patient(\n      id: patientElement.findElements('id').single.innerText,\n      name: patientElement.findElements('name').single.innerText,\n      address: patientElement.findElements('address').single.innerText,\n      diagnosis: patientElement.findElements('diagnosis').single.innerText,\n      medications: medications,\n    );\n  }\n\n  String toJSON() {\n    return json.encode(toJson());\n  }\n\n  Map&lt;String, dynamic&gt; toJson() {\n    return {\n      'id': id,\n      'name': name,\n      'address': address,\n      'diagnosis': diagnosis,\n      'medications': medications.map((medication) =&gt; medication.toJson()).toList(),\n    };\n  }\n\n  static Patient fromJSON(Map&lt;String, dynamic&gt; data) {\n    final List&lt;dynamic&gt; medicationsData = data['medications'];\n    final List&lt;Medication&gt; medications = medicationsData\n        .map((medicationData) =&gt; Medication.fromJSON(medicationData))\n        .toList();\n\n    return Patient(\n      id: data['id'],\n      name: data['name'],\n      address: data['address'],\n      diagnosis: data['diagnosis'],\n      medications: medications,\n    );\n  }\n}\n\nclass EHR {\n  Map&lt;String, Patient&gt; patients = {};\n\n  String toXML() {\n    final builder = xml.XmlBuilder();\n    builder.element('EHR', nest: () {\n      builder.element('patients', nest: () {\n        for (final patient in patients.values) {\n          builder.element('Patient', nest: patient.toXML());\n        }\n      });\n    });\n\n    return builder.buildDocument().toXmlString(pretty: true);\n  }\n\n  static EHR fromXML(String xmlString) {\n    final document = xml.XmlDocument.parse(xmlString);\n    final ehrElement = document.rootElement;\n    final patients = ehrElement\n        .findElements('patients')\n        .single\n        .findElements('Patient')\n        .map((patientElement) =&gt; Patient.fromXML(patientElement.toXmlString()))\n        .toList();\n\n    final ehr = EHR();\n    for (final patient in patients) {\n      ehr.patients[patient.id] = patient;\n    }\n\n    return ehr;\n  }\n\n  String toJSON() {\n    final Map&lt;String, dynamic&gt; data = {\n      'patients': patients.map((key, value) =&gt; MapEntry(key, value.toJson())),\n    };\n    return json.encode(data);\n  }\n\n  static EHR fromJSON(String jsonString) {\n    final Map&lt;String, dynamic&gt; data = json.decode(jsonString);\n    final Map&lt;String, Patient&gt; patients = data['patients'].map&lt;String, Patient&gt;(\n      (key, value) =&gt; MapEntry(key, Patient.fromJSON(value)),\n    );\n    return EHR()..patients = patients;\n  }\n\n  void addPatient(Patient patient) {\n    patients[patient.id] = patient;\n  }\n\n  Patient? getPatient(String id) {\n    return patients[id];\n  }\n}\n</code></pre>\n<p>i doesnt show anything in the debug console and i expect to get the patients names and the class created. i am trying to to serialize an object of a specific class to an XML/JSON string and deserialize a string back to an object of the right class.\nI've created a test file which i expected to print a list of my patient and the class that ive made for them</p>\n",
        "codigo": [
            "import 'package:test/test.dart';\nimport 'assignment5.dart';\n\nvoid main() {\n  test('Serialization and deserialization', () {\n    final medication1 = Medication(\n      meds: \"pandoil\",\n      dose: \"200mg\",\n      freq: \"every 4 hours\",\n    );\n\n    final medication2 = Medication(\n      meds: \"pencillin\",\n      dose: \"50mg\",\n      freq: \"every 6 hours\",\n    );\n\n    final patient1 = Patient(\n      id: \"1\",\n      name: \"john\",\n      address: \"table1\",\n      diagnosis: \"covid\",\n      medications: [medication1],\n    );\n\n    final patient2 = Patient(\n      id: \"2\",\n      name: \"poul\",\n      address: \"table2\",\n      diagnosis: \"flue\",\n      medications: [medication2],\n    );\n\n    final ehr = EHR();\n    ehr.addPatient(patient1);\n    ehr.addPatient(patient2);\n\n    final ehrJson = ehr.toJSON();\n    final newEhr = EHR.fromJSON(ehrJson);\n\n    expect(newEhr.patients.length, equals(2));\n    expect(newEhr.getPatient('1')!.name, equals('john'));\n    expect(newEhr.getPatient('2')!.name, equals('poul'));\n\n    final ehrXml = ehr.toXML();\n    final newerEhr = EHR.fromXML(ehrXml);\n\n    expect(newerEhr.patients.length, equals(2));\n    expect(newerEhr.getPatient('1')!.name, equals('john'));\n    expect(newerEhr.getPatient('2')!.name, equals('poul'));\n  });\n}\n",
            "import 'dart:convert';\nimport 'package:xml/xml.dart' as xml;\n\nclass Medication {\n  String meds;\n  String dose;\n  String freq;\n\n  Medication({\n    required this.meds,\n    required this.dose,\n    required this.freq,\n  });\n\n  String toXML() {\n    final builder = xml.XmlBuilder();\n    builder.element('Medication', nest: () {\n      builder.element('meds', nest: meds);\n      builder.element('dose', nest: dose);\n      builder.element('freq', nest: freq);\n    });\n\n    return builder.buildDocument().toXmlString(pretty: true);\n  }\n\n  static Medication fromXML(String xmlString) {\n    final document = xml.XmlDocument.parse(xmlString);\n    final medicationElement = document.rootElement;\n    return Medication(\n      meds: medicationElement.findElements('meds').single.innerText,\n      dose: medicationElement.findElements('dose').single.innerText,\n      freq: medicationElement.findElements('freq').single.innerText,\n    );\n  }\n\n  String toJSON() {\n    return json.encode(toJson());\n  }\n\n  Map<String, dynamic> toJson() {\n    return {\n      'meds': meds,\n      'dose': dose,\n      'freq': freq,\n    };\n  }\n\n  static Medication fromJSON(Map<String, dynamic> data) {\n    return Medication(\n      meds: data['meds'],\n      dose: data['dose'],\n      freq: data['freq'],\n    );\n  }\n}\n\nclass Patient {\n  String id;\n  String name;\n  String address;\n  String diagnosis;\n  List<Medication> medications;\n\n  Patient({\n    required this.id,\n    required this.name,\n    required this.address,\n    required this.diagnosis,\n    required this.medications,\n  });\n\n  String toXML() {\n    final builder = xml.XmlBuilder();\n    builder.element('Patient', nest: () {\n      builder.element('id', nest: id);\n      builder.element('name', nest: name);\n      builder.element('address', nest: address);\n      builder.element('diagnosis', nest: diagnosis);\n      builder.element('medications', nest: () {\n        for (final medication in medications) {\n          builder.element('Medication', nest: medication.toXML());\n        }\n      });\n    });\n\n    return builder.buildDocument().toXmlString(pretty: true);\n  }\n\n  static Patient fromXML(String xmlString) {\n    final document = xml.XmlDocument.parse(xmlString);\n    final patientElement = document.rootElement;\n    final medications = patientElement\n        .findElements('medications')\n        .single\n        .findElements('Medication')\n        .map((medicationElement) => Medication.fromXML(medicationElement.toXmlString()))\n        .toList();\n\n    return Patient(\n      id: patientElement.findElements('id').single.innerText,\n      name: patientElement.findElements('name').single.innerText,\n      address: patientElement.findElements('address').single.innerText,\n      diagnosis: patientElement.findElements('diagnosis').single.innerText,\n      medications: medications,\n    );\n  }\n\n  String toJSON() {\n    return json.encode(toJson());\n  }\n\n  Map<String, dynamic> toJson() {\n    return {\n      'id': id,\n      'name': name,\n      'address': address,\n      'diagnosis': diagnosis,\n      'medications': medications.map((medication) => medication.toJson()).toList(),\n    };\n  }\n\n  static Patient fromJSON(Map<String, dynamic> data) {\n    final List<dynamic> medicationsData = data['medications'];\n    final List<Medication> medications = medicationsData\n        .map((medicationData) => Medication.fromJSON(medicationData))\n        .toList();\n\n    return Patient(\n      id: data['id'],\n      name: data['name'],\n      address: data['address'],\n      diagnosis: data['diagnosis'],\n      medications: medications,\n    );\n  }\n}\n\nclass EHR {\n  Map<String, Patient> patients = {};\n\n  String toXML() {\n    final builder = xml.XmlBuilder();\n    builder.element('EHR', nest: () {\n      builder.element('patients', nest: () {\n        for (final patient in patients.values) {\n          builder.element('Patient', nest: patient.toXML());\n        }\n      });\n    });\n\n    return builder.buildDocument().toXmlString(pretty: true);\n  }\n\n  static EHR fromXML(String xmlString) {\n    final document = xml.XmlDocument.parse(xmlString);\n    final ehrElement = document.rootElement;\n    final patients = ehrElement\n        .findElements('patients')\n        .single\n        .findElements('Patient')\n        .map((patientElement) => Patient.fromXML(patientElement.toXmlString()))\n        .toList();\n\n    final ehr = EHR();\n    for (final patient in patients) {\n      ehr.patients[patient.id] = patient;\n    }\n\n    return ehr;\n  }\n\n  String toJSON() {\n    final Map<String, dynamic> data = {\n      'patients': patients.map((key, value) => MapEntry(key, value.toJson())),\n    };\n    return json.encode(data);\n  }\n\n  static EHR fromJSON(String jsonString) {\n    final Map<String, dynamic> data = json.decode(jsonString);\n    final Map<String, Patient> patients = data['patients'].map<String, Patient>(\n      (key, value) => MapEntry(key, Patient.fromJSON(value)),\n    );\n    return EHR()..patients = patients;\n  }\n\n  void addPatient(Patient patient) {\n    patients[patient.id] = patient;\n  }\n\n  Patient? getPatient(String id) {\n    return patients[id];\n  }\n}\n"
        ]
    },
    {
        "titulo": "Conditional Enablement of &#39;Verify&#39; Button Based on Option Value",
        "score": 0,
        "views": 34,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77215037/conditional-enablement-of-verify-button-based-on-option-value",
        "conteudo_html": "<p><strong>&quot;I need a solution for the following:\nEnable the 'verify' button only if the pinput's value matches the specified value; otherwise, keep the button disabled. How can we achieve this?&quot;</strong></p>\n<p><strong>Expectation: Disabled button on else condition, how can we do it? on isOTPValid false disabled &quot;Verify&quot; button.</strong></p>\n<p>I'm using package pinput for OTP, this is my code:</p>\n<pre><code>class OTPForm extends StatefulWidget {\n  final Function toggleForm;\n\n  OTPForm(this.toggleForm);\n\n  @override\n  State&lt;OTPForm&gt; createState() =&gt; _OTPFormState();\n}\n\nclass _OTPFormState extends State&lt;OTPForm&gt; {\n  bool isOTPValid = false;\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      width: double.infinity,\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: [              \n          Pinput(\n            mainAxisAlignment: MainAxisAlignment.spaceBetween,\n            length: 4,\n            defaultPinTheme: defaultPinTheme,\n            focusedPinTheme: defaultPinTheme.copyWith(\n              decoration: defaultPinTheme.decoration!.copyWith(\n                border: Border.all(color: primaryColor),\n              ),\n            ),\n            errorPinTheme: defaultPinTheme.copyBorderWith(\n              border: Border.all(color: dangerColor),\n            ),\n            validator: (value) {\n              // return value == '1155' ? null : 'Pin is incorrect';\n              isOTPValid = value == '1155';\n              return isOTPValid ? null : 'Pin is incorrect';\n            },\n            hapticFeedbackType: HapticFeedbackType.lightImpact,\n            onCompleted: (pin) {\n              debugPrint('onCompleted: $pin');\n              // widget.toggleForm();\n            },\n            onChanged: (value) {\n              debugPrint('onChanged: $value');\n            },\n            autofocus: true,\n          ),\n          const SizedBox(height: mdVerticalSpacing),              \n          Container(\n            height: buttonHeight,\n            width: double.infinity,\n            child: PrimaryButton(\n              text: 'Verify',\n              onPressed: () {\n                if (isOTPValid) {\n                  widget.toggleForm();\n                }\n              },\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n",
        "codigo": [
            "class OTPForm extends StatefulWidget {\n  final Function toggleForm;\n\n  OTPForm(this.toggleForm);\n\n  @override\n  State<OTPForm> createState() => _OTPFormState();\n}\n\nclass _OTPFormState extends State<OTPForm> {\n  bool isOTPValid = false;\n  @override\n  Widget build(BuildContext context) {\n    return Container(\n      width: double.infinity,\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.start,\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: [              \n          Pinput(\n            mainAxisAlignment: MainAxisAlignment.spaceBetween,\n            length: 4,\n            defaultPinTheme: defaultPinTheme,\n            focusedPinTheme: defaultPinTheme.copyWith(\n              decoration: defaultPinTheme.decoration!.copyWith(\n                border: Border.all(color: primaryColor),\n              ),\n            ),\n            errorPinTheme: defaultPinTheme.copyBorderWith(\n              border: Border.all(color: dangerColor),\n            ),\n            validator: (value) {\n              // return value == '1155' ? null : 'Pin is incorrect';\n              isOTPValid = value == '1155';\n              return isOTPValid ? null : 'Pin is incorrect';\n            },\n            hapticFeedbackType: HapticFeedbackType.lightImpact,\n            onCompleted: (pin) {\n              debugPrint('onCompleted: $pin');\n              // widget.toggleForm();\n            },\n            onChanged: (value) {\n              debugPrint('onChanged: $value');\n            },\n            autofocus: true,\n          ),\n          const SizedBox(height: mdVerticalSpacing),              \n          Container(\n            height: buttonHeight,\n            width: double.infinity,\n            child: PrimaryButton(\n              text: 'Verify',\n              onPressed: () {\n                if (isOTPValid) {\n                  widget.toggleForm();\n                }\n              },\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "How can you create a Mock of a method that extends a sealed class?",
        "score": 4,
        "views": 2408,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "mockito",
            "sealed"
        ],
        "link": "https://stackoverflow.com/questions/77206987/how-can-you-create-a-mock-of-a-method-that-extends-a-sealed-class",
        "conteudo_html": "<p>I have created a sealed class as follows and created extension methods.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>sealed class Result&lt;S, E extends Exception&gt; {\n  const Result();\n}\n\nfinal class Success&lt;S, E extends Exception&gt; extends Result&lt;S, E&gt; {\n  const Success({required this.value});\n  final S value;\n}\n\nfinal class Failure&lt;S, E extends Exception&gt; extends Result&lt;S, E&gt; {\n  const Failure({required this.exception});\n  final E exception;\n}\n\nextension ResultExtension on Result&lt;dynamic, Exception&gt; {\n  dynamic unwrap() {\n    if (this is Success) {\n      return (this as Success).value;\n    } else {\n      throw (this as Failure).exception;\n    }\n  }\n}\n</code></pre>\n<p>Therefore, I have created the following method that uses this class.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>  String execute() {\n    try {\n      final result = fetchText(); // return Result&lt;String, Exception&gt;\n      return result.unwrap() as String;\n    } on Exception catch (_) {\n      rethrow;\n    }\n  }\n</code></pre>\n<p>And I have created unit tests like this.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>    test('', () {\n      // Arrange\n      when(\n        fetchText(),\n      ).thenAnswer((_) =&gt; const Success(value: 'Success'));\n\n      // Act\n      final result = execute();\n\n      // Assert\n      expect(result, 'Success');\n    });\n</code></pre>\n<p>And, the following error message is being displayed.</p>\n<pre><code>  MissingDummyValueError: Result&lt;String, Exception&gt;\n  \n  This means Mockito was not smart enough to generate a dummy value of type\n  'Result&lt;String, Exception&gt;'. Please consider using either 'provideDummy' or 'provideDummyBuilder'\n  functions to give Mockito a proper dummy value.\n  \n  Please note that due to implementation details Mockito sometimes needs users\n  to provide dummy values for some types, even if they plan to explicitly stub\n  all the called methods.\n</code></pre>\n<p>I believe it's because I haven't created a mock for unwrap(), but I have no idea how to create it. How can I create a mock for a method that extends a sealed class?</p>\n",
        "codigo": [
            "sealed class Result<S, E extends Exception> {\n  const Result();\n}\n\nfinal class Success<S, E extends Exception> extends Result<S, E> {\n  const Success({required this.value});\n  final S value;\n}\n\nfinal class Failure<S, E extends Exception> extends Result<S, E> {\n  const Failure({required this.exception});\n  final E exception;\n}\n\nextension ResultExtension on Result<dynamic, Exception> {\n  dynamic unwrap() {\n    if (this is Success) {\n      return (this as Success).value;\n    } else {\n      throw (this as Failure).exception;\n    }\n  }\n}\n",
            "  String execute() {\n    try {\n      final result = fetchText(); // return Result<String, Exception>\n      return result.unwrap() as String;\n    } on Exception catch (_) {\n      rethrow;\n    }\n  }\n",
            "    test('', () {\n      // Arrange\n      when(\n        fetchText(),\n      ).thenAnswer((_) => const Success(value: 'Success'));\n\n      // Act\n      final result = execute();\n\n      // Assert\n      expect(result, 'Success');\n    });\n",
            "  MissingDummyValueError: Result<String, Exception>\n  \n  This means Mockito was not smart enough to generate a dummy value of type\n  'Result<String, Exception>'. Please consider using either 'provideDummy' or 'provideDummyBuilder'\n  functions to give Mockito a proper dummy value.\n  \n  Please note that due to implementation details Mockito sometimes needs users\n  to provide dummy values for some types, even if they plan to explicitly stub\n  all the called methods.\n"
        ]
    },
    {
        "titulo": "getting error message for a return value from a mocked function",
        "score": 0,
        "views": 523,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "mocking"
        ],
        "link": "https://stackoverflow.com/questions/77205684/getting-error-message-for-a-return-value-from-a-mocked-function",
        "conteudo_html": "<p>I have this Dart code which uses Equatable and Oxidized packages:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:equatable/equatable.dart';\nimport 'package:oxidized/oxidized.dart';\n\nabstract class Failure {}\n\nclass NumberTriviaEntity extends Equatable {\n  final int number;\n  final String text;\n  \n  const NumberTriviaEntity({required this.number, required this.text});\n\n  @override\n  List&lt;Object?&gt; get props =&gt; [text,number];\n}\n\nabstract interface class NumberTriviaIntf {\n  Future&lt;Result&lt;NumberTriviaEntity, Failure&gt;&gt; getConcreteNumberTrivia(int number);\n  Future&lt;Result&lt;NumberTriviaEntity, Failure&gt;&gt; getRandomNumberTrivia();\n}\n\nfinal class ConcreteNumberUseCase {\n  final NumberTriviaIntf repository;\n\n  const ConcreteNumberUseCase(this.repository);\n\n  Future&lt;Result&lt;NumberTriviaEntity, Failure&gt;&gt; execute({required int number}) async {\n    return await repository.getConcreteNumberTrivia(number);\n  }\n}\n</code></pre>\n<p>I'm making a test on NumberTriviaIntf interface by using Mockito package:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MockNumberTriviaIntf extends Mock implements NumberTriviaIntf {}\nclass MockFailure extends Mock implements Failure {}\n\nvoid main() {\n  group('ConcreteNumberUseCase', () {\n    late MockNumberTriviaIntf repository;\n    late ConcreteNumberUseCase useCase;\n    \n    setUp(() {\n      repository = MockNumberTriviaIntf();\n      useCase = ConcreteNumberUseCase(repository);\n    });\n\n    test('returns Ok with valid data', () async {\n      // Arrange\n      const number = 42;\n      const Result&lt;NumberTriviaEntity,Failure&gt; entity = Ok(NumberTriviaEntity(number: number, text: 'Santi-U'));\n      when(repository.getConcreteNumberTrivia(number)).thenAnswer((_) async =&gt; entity);\n      // Act\n      final result = await useCase.execute(number: number);\n      // Assert\n      expect(result, entity);\n      verify(repository.getConcreteNumberTrivia(number));\n      verifyNoMoreInteractions(repository);\n    });\n\n    test('returns Err with failure', () async {\n      // Arrange\n      const number = 43;\n      final Result&lt;NumberTriviaEntity,Failure&gt; error = Err(MockFailure());\n    });\n  });\n}\n</code></pre>\n<p>but I always get the following error message on this line: <code>when(repository.getConcreteNumberTrivia(number)).thenAnswer((_) async =&gt; entity)</code></p>\n<pre><code>type 'Null' is not a subtype of type 'Future&lt;Result&lt;NumberTriviaEntity, Failure&gt;&gt;'\nMockNumberTriviaIntf.getConcreteNumberTrivia\nmain.&lt;fn&gt;.&lt;fn&gt;\n\n✖ ConcreteNumberUseCase returns Ok with valid data\n✓ ConcreteNumberUseCase returns Err with failure\nExited (1)\n</code></pre>\n<p>What's the problem?</p>\n",
        "codigo": [
            "import 'package:equatable/equatable.dart';\nimport 'package:oxidized/oxidized.dart';\n\nabstract class Failure {}\n\nclass NumberTriviaEntity extends Equatable {\n  final int number;\n  final String text;\n  \n  const NumberTriviaEntity({required this.number, required this.text});\n\n  @override\n  List<Object?> get props => [text,number];\n}\n\nabstract interface class NumberTriviaIntf {\n  Future<Result<NumberTriviaEntity, Failure>> getConcreteNumberTrivia(int number);\n  Future<Result<NumberTriviaEntity, Failure>> getRandomNumberTrivia();\n}\n\nfinal class ConcreteNumberUseCase {\n  final NumberTriviaIntf repository;\n\n  const ConcreteNumberUseCase(this.repository);\n\n  Future<Result<NumberTriviaEntity, Failure>> execute({required int number}) async {\n    return await repository.getConcreteNumberTrivia(number);\n  }\n}\n",
            "class MockNumberTriviaIntf extends Mock implements NumberTriviaIntf {}\nclass MockFailure extends Mock implements Failure {}\n\nvoid main() {\n  group('ConcreteNumberUseCase', () {\n    late MockNumberTriviaIntf repository;\n    late ConcreteNumberUseCase useCase;\n    \n    setUp(() {\n      repository = MockNumberTriviaIntf();\n      useCase = ConcreteNumberUseCase(repository);\n    });\n\n    test('returns Ok with valid data', () async {\n      // Arrange\n      const number = 42;\n      const Result<NumberTriviaEntity,Failure> entity = Ok(NumberTriviaEntity(number: number, text: 'Santi-U'));\n      when(repository.getConcreteNumberTrivia(number)).thenAnswer((_) async => entity);\n      // Act\n      final result = await useCase.execute(number: number);\n      // Assert\n      expect(result, entity);\n      verify(repository.getConcreteNumberTrivia(number));\n      verifyNoMoreInteractions(repository);\n    });\n\n    test('returns Err with failure', () async {\n      // Arrange\n      const number = 43;\n      final Result<NumberTriviaEntity,Failure> error = Err(MockFailure());\n    });\n  });\n}\n",
            "when(repository.getConcreteNumberTrivia(number)).thenAnswer((_) async => entity)",
            "type 'Null' is not a subtype of type 'Future<Result<NumberTriviaEntity, Failure>>'\nMockNumberTriviaIntf.getConcreteNumberTrivia\nmain.<fn>.<fn>\n\n✖ ConcreteNumberUseCase returns Ok with valid data\n✓ ConcreteNumberUseCase returns Err with failure\nExited (1)\n"
        ]
    },
    {
        "titulo": "Too many positional arguments along with Center() and GridVew()?",
        "score": 0,
        "views": 130,
        "respostas": 2,
        "tags": [
            "android",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77200173/too-many-positional-arguments-along-with-center-and-gridvew",
        "conteudo_html": "<p>I'm new to flutter.\nWhen I trying to build an app, an error showing as</p>\n<pre><code>[{  \n    &quot;resource&quot;: &quot;/d:/Learn Fluter    \n Self/Flutter_Projects/Demo_App/flutter_application_1/lib/home.dart&quot;,   \n    &quot;owner&quot;: &quot;_generated_diagnostic_collection_name_#1&quot;,  \n    &quot;code&quot;: {  \n        &quot;value&quot;: &quot;extra_positional_arguments_could_be_named&quot;,  \n        &quot;target&quot;: {  \n            &quot;$mid&quot;: 1,  \n            &quot;path&quot;: &quot;/diagnostics/extra_positional_arguments_could_be_named&quot;,  \n            &quot;scheme&quot;: &quot;https&quot;,  \n            &quot;authority&quot;: &quot;dart.dev&quot;  \n        }    \n    },    \n    &quot;severity&quot;: 8,  \n    &quot;message&quot;: **&quot;Too many positional arguments: 0 expected, but 1 found.\\nTry removing the extra positional arguments, or specifying the name for named arguments.&quot;**,  \n    &quot;source&quot;: &quot;dart&quot;,  \n    &quot;startLineNumber&quot;: 25,  \n    &quot;startColumn&quot;: 7,  \n    &quot;endLineNumber&quot;: 38,  \n    &quot;endColumn&quot;: 8  \n}] \n\n</code></pre>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\nimport 'package:flutter_svg/flutter_svg.dart';\n\nclass HomePage extends StatelessWidget {\n  const HomePage({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: appBar(),\n      body:\n          // Column(\n          //   children: [\n          Center(\n        child: Padding(\n            padding: EdgeInsets.only(top: 10),\n            child: Text(\n              'CarVariants',\n              style: TextStyle(\n                  color: Colors.black,\n                  fontSize: 18,\n                  fontWeight: FontWeight.bold),\n            )),\n      ),\n      GridView.count(\n        // Create a grid with 2 columns. If you change the scrollDirection to\n        // horizontal, this produces 2 rows.\n        crossAxisCount: 2,\n        // Generate 100 widgets that display their index in the List.\n        children: List.generate(100, (index) {\n          return Center(\n            child: Text(\n              'Item $index',\n              style: Theme.of(context).textTheme.headlineSmall,\n            ),\n          );\n        }),\n      ),\n      // Container(\n      //   child: Image.asset('assets/images/sedan.png'),\n      // ),\n      // Container(\n      //   child: Image.asset('assets/images/suv.png'),\n      // ),\n      //   ],\n      // ),\n    );\n  }\n\n  AppBar appBar() {\n    return AppBar(\n      title: Text(\n        'CarBay',\n        style: TextStyle(\n            color: Colors.black, fontSize: 18, fontWeight: FontWeight.bold),\n      ),\n      backgroundColor: Color.fromARGB(255, 79, 218, 125),\n      elevation: 0.0,\n      centerTitle: true,\n      leading: Container(\n        margin: EdgeInsets.all(10),\n        alignment: Alignment.center,\n        child: SvgPicture.asset(\n          'assets/icons/backButton.svg',\n          height: 200,\n          width: 200,\n        ),\n        decoration: BoxDecoration(\n            color: Colors.white, borderRadius: BorderRadius.circular(10)),\n      ),\n    );\n  }\n}\n\n</code></pre>\n",
        "codigo": [
            "[{  \n    \"resource\": \"/d:/Learn Fluter    \n Self/Flutter_Projects/Demo_App/flutter_application_1/lib/home.dart\",   \n    \"owner\": \"_generated_diagnostic_collection_name_#1\",  \n    \"code\": {  \n        \"value\": \"extra_positional_arguments_could_be_named\",  \n        \"target\": {  \n            \"$mid\": 1,  \n            \"path\": \"/diagnostics/extra_positional_arguments_could_be_named\",  \n            \"scheme\": \"https\",  \n            \"authority\": \"dart.dev\"  \n        }    \n    },    \n    \"severity\": 8,  \n    \"message\": **\"Too many positional arguments: 0 expected, but 1 found.\\nTry removing the extra positional arguments, or specifying the name for named arguments.\"**,  \n    \"source\": \"dart\",  \n    \"startLineNumber\": 25,  \n    \"startColumn\": 7,  \n    \"endLineNumber\": 38,  \n    \"endColumn\": 8  \n}] \n\n",
            "import 'package:flutter/material.dart';\nimport 'package:flutter_svg/flutter_svg.dart';\n\nclass HomePage extends StatelessWidget {\n  const HomePage({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: appBar(),\n      body:\n          // Column(\n          //   children: [\n          Center(\n        child: Padding(\n            padding: EdgeInsets.only(top: 10),\n            child: Text(\n              'CarVariants',\n              style: TextStyle(\n                  color: Colors.black,\n                  fontSize: 18,\n                  fontWeight: FontWeight.bold),\n            )),\n      ),\n      GridView.count(\n        // Create a grid with 2 columns. If you change the scrollDirection to\n        // horizontal, this produces 2 rows.\n        crossAxisCount: 2,\n        // Generate 100 widgets that display their index in the List.\n        children: List.generate(100, (index) {\n          return Center(\n            child: Text(\n              'Item $index',\n              style: Theme.of(context).textTheme.headlineSmall,\n            ),\n          );\n        }),\n      ),\n      // Container(\n      //   child: Image.asset('assets/images/sedan.png'),\n      // ),\n      // Container(\n      //   child: Image.asset('assets/images/suv.png'),\n      // ),\n      //   ],\n      // ),\n    );\n  }\n\n  AppBar appBar() {\n    return AppBar(\n      title: Text(\n        'CarBay',\n        style: TextStyle(\n            color: Colors.black, fontSize: 18, fontWeight: FontWeight.bold),\n      ),\n      backgroundColor: Color.fromARGB(255, 79, 218, 125),\n      elevation: 0.0,\n      centerTitle: true,\n      leading: Container(\n        margin: EdgeInsets.all(10),\n        alignment: Alignment.center,\n        child: SvgPicture.asset(\n          'assets/icons/backButton.svg',\n          height: 200,\n          width: 200,\n        ),\n        decoration: BoxDecoration(\n            color: Colors.white, borderRadius: BorderRadius.circular(10)),\n      ),\n    );\n  }\n}\n\n"
        ]
    },
    {
        "titulo": "Do Equatable need to be immutable",
        "score": 0,
        "views": 98,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "hash",
            "equatable"
        ],
        "link": "https://stackoverflow.com/questions/77200056/do-equatable-need-to-be-immutable",
        "conteudo_html": "<p>Is there real case scenarios of not following immutable leading to wrong hash outcome?</p>\n<p>I've made a test case to test the non-immutable class and was expecting it to have an error. In reality we do not have any problems with that and HashSet actually works fine here.</p>\n<p>Can you show us a simple real case scenario where not following immutable will lead to wrong hashcode value</p>\n<pre><code>import 'dart:collection';\n\nimport 'package:equatable/equatable.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nclass _EquatableTest extends Equatable {\n  final HashSet values;\n\n  const _EquatableTest({required this.values});\n\n  @override\n  List&lt;Object&gt; get props =&gt; [values];\n\n  _EquatableTest copyWith({\n    HashSet? values,\n  }) {\n    return _EquatableTest(\n      values: values ?? this.values,\n    );\n  }\n}\n\nclass _EquatableTestNonImmutable extends Equatable {\n  HashSet values;\n\n  _EquatableTestNonImmutable({required this.values});\n\n  @override\n  List&lt;Object&gt; get props =&gt; [values];\n}\n\nclass _AdditionalValue extends Equatable {\n  HashSet&lt;String&gt; letters;\n\n  _AdditionalValue({required this.letters});\n\n  void add(String letter) {\n    letters.add(letter);\n  }\n\n  @override\n  List&lt;Object&gt; get props =&gt; [letters];\n}\n\nvoid main() {\ntest('NonImmutable created same with _AdditionalValue value', () {\n    _EquatableTest equatableImmune1;\n    _EquatableTest equatableImmune2;\n\n    equatableImmune1 = _EquatableTest(values: HashSet&lt;_AdditionalValue&gt;());\n    equatableImmune2 = _EquatableTest(values: HashSet&lt;_AdditionalValue&gt;());\n\n    equatableImmune1.values.add(_AdditionalValue(letters: HashSet.from(['a', 'b'])));\n    equatableImmune1.values.add(_AdditionalValue(letters: HashSet.from(['c', 'd'])));\n\n    equatableImmune2.values.add(_AdditionalValue(letters: HashSet.from(['a', 'b'])));\n    equatableImmune2.values.add(_AdditionalValue(letters: HashSet.from(['c', 'd'])));\n\n    expect(equatableImmune1, equatableImmune2);\n  });\n\n  test('NonImmutable changed same with _AdditionalValue value', () {\n    _EquatableTest equatableImmune1;\n    _EquatableTest equatableImmune2;\n\n    equatableImmune1 = _EquatableTest(values: HashSet&lt;_AdditionalValue&gt;());\n    equatableImmune2 = _EquatableTest(values: HashSet&lt;_AdditionalValue&gt;());\n\n    _AdditionalValue value1 = _AdditionalValue(letters: HashSet&lt;String&gt;());\n    _AdditionalValue value2 = _AdditionalValue(letters: HashSet&lt;String&gt;());\n\n    value1.add('a');\n    value2.add('a');\n\n    equatableImmune1.values.add(value1);\n    equatableImmune2.values.add(value2);\n\n    expect(equatableImmune1, equatableImmune2);\n\n    if (equatableImmune1.values.first.runtimeType == _AdditionalValue &amp;&amp;\n        equatableImmune2.values.first.runtimeType == _AdditionalValue) {\n      equatableImmune1.values.first.add('b');\n      equatableImmune2.values.first.add('b');\n    }\n\n    expect(equatableImmune1, equatableImmune2);\n    expect(equatableImmune1.hashCode, equatableImmune2.hashCode);\n  });\n}\n</code></pre>\n",
        "codigo": [
            "import 'dart:collection';\n\nimport 'package:equatable/equatable.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nclass _EquatableTest extends Equatable {\n  final HashSet values;\n\n  const _EquatableTest({required this.values});\n\n  @override\n  List<Object> get props => [values];\n\n  _EquatableTest copyWith({\n    HashSet? values,\n  }) {\n    return _EquatableTest(\n      values: values ?? this.values,\n    );\n  }\n}\n\nclass _EquatableTestNonImmutable extends Equatable {\n  HashSet values;\n\n  _EquatableTestNonImmutable({required this.values});\n\n  @override\n  List<Object> get props => [values];\n}\n\nclass _AdditionalValue extends Equatable {\n  HashSet<String> letters;\n\n  _AdditionalValue({required this.letters});\n\n  void add(String letter) {\n    letters.add(letter);\n  }\n\n  @override\n  List<Object> get props => [letters];\n}\n\nvoid main() {\ntest('NonImmutable created same with _AdditionalValue value', () {\n    _EquatableTest equatableImmune1;\n    _EquatableTest equatableImmune2;\n\n    equatableImmune1 = _EquatableTest(values: HashSet<_AdditionalValue>());\n    equatableImmune2 = _EquatableTest(values: HashSet<_AdditionalValue>());\n\n    equatableImmune1.values.add(_AdditionalValue(letters: HashSet.from(['a', 'b'])));\n    equatableImmune1.values.add(_AdditionalValue(letters: HashSet.from(['c', 'd'])));\n\n    equatableImmune2.values.add(_AdditionalValue(letters: HashSet.from(['a', 'b'])));\n    equatableImmune2.values.add(_AdditionalValue(letters: HashSet.from(['c', 'd'])));\n\n    expect(equatableImmune1, equatableImmune2);\n  });\n\n  test('NonImmutable changed same with _AdditionalValue value', () {\n    _EquatableTest equatableImmune1;\n    _EquatableTest equatableImmune2;\n\n    equatableImmune1 = _EquatableTest(values: HashSet<_AdditionalValue>());\n    equatableImmune2 = _EquatableTest(values: HashSet<_AdditionalValue>());\n\n    _AdditionalValue value1 = _AdditionalValue(letters: HashSet<String>());\n    _AdditionalValue value2 = _AdditionalValue(letters: HashSet<String>());\n\n    value1.add('a');\n    value2.add('a');\n\n    equatableImmune1.values.add(value1);\n    equatableImmune2.values.add(value2);\n\n    expect(equatableImmune1, equatableImmune2);\n\n    if (equatableImmune1.values.first.runtimeType == _AdditionalValue &&\n        equatableImmune2.values.first.runtimeType == _AdditionalValue) {\n      equatableImmune1.values.first.add('b');\n      equatableImmune2.values.first.add('b');\n    }\n\n    expect(equatableImmune1, equatableImmune2);\n    expect(equatableImmune1.hashCode, equatableImmune2.hashCode);\n  });\n}\n"
        ]
    },
    {
        "titulo": "The non-nullable local variable &#39;mockLoginRespository&#39; must be assigned before it can be used",
        "score": 0,
        "views": 33,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "tdd",
            "clean-architecture",
            "dart-test"
        ],
        "link": "https://stackoverflow.com/questions/77199796/the-non-nullable-local-variable-mockloginrespository-must-be-assigned-before-i",
        "conteudo_html": "<p>I am trying to develop my app using Clean TDD (Test Driven Development) Architecture. For the login feature , I am writing the test case as follows:</p>\n<pre><code>import 'package:dartz/dartz.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\nimport 'package:test_app/features/login/domain/entities/user.dart';\nimport 'package:test_app/features/login/domain/repositories/login_repository.dart';\nimport 'package:test_app/features/login/domain/usecases/call_login.dart';\n\nclass MockLoginRespository extends Mock implements LoginRepository {}\n\nvoid main() {\n  CallLogin usecase;\n  MockLoginRespository mockLoginRespository;\n  final tUserName = &quot;test.user&quot;;\n  final tPassword = &quot;test.password&quot;;\n  final tUser = User(\n      userID: &quot;test.userID&quot;, email: &quot;test.email&quot;, userName: &quot;test.userName&quot;);\n  setUp(() {\n    mockLoginRespository = MockLoginRespository();\n    usecase = CallLogin(mockLoginRespository);\n  });\n\n  test(\n    'should perform login from the repository',\n    () async {\n      when(mockLoginRespository.login(any, any))\n          .thenAnswer((_) async =&gt; Right(tUser));\n\n      final result =\n          await usecase.execute(username: tUserName, password: tPassword);\n\n      expect(result, Right(tUser));\n      verify(mockLoginRespository.login(tUserName, tPassword));\n      verifyNoMoreInteractions(mockLoginRespository);\n    },\n  );\n}\n</code></pre>\n<p>I am getting error as :</p>\n<p><code>The non-nullable local variable 'mockLoginRespository' must be assigned before it can be used. Try giving it an initializer expression, or ensure that it's assigned on every execution path.</code></p>\n<p>How should I properly initialize the mockLoginRepository?</p>\n<p>I tried adding the initialization expression inside the test async function.</p>\n<pre><code>  test(\n    'should perform login from the repository',\n    () async {\n\n  // Added initialization down here\n\n    mockLoginRespository = MockLoginRespository();\n    usecase = CallLogin(mockLoginRespository);\n      when(mockLoginRespository.login(any, any))\n          .thenAnswer((_) async =&gt; Right(tUser));\n    .\n    .\n    .\n    },`\n</code></pre>\n<p>This removes the error, but is it the right way to do it ? The code tutorial I follow doesn't make the initialization this way.</p>\n",
        "codigo": [
            "import 'package:dartz/dartz.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\nimport 'package:test_app/features/login/domain/entities/user.dart';\nimport 'package:test_app/features/login/domain/repositories/login_repository.dart';\nimport 'package:test_app/features/login/domain/usecases/call_login.dart';\n\nclass MockLoginRespository extends Mock implements LoginRepository {}\n\nvoid main() {\n  CallLogin usecase;\n  MockLoginRespository mockLoginRespository;\n  final tUserName = \"test.user\";\n  final tPassword = \"test.password\";\n  final tUser = User(\n      userID: \"test.userID\", email: \"test.email\", userName: \"test.userName\");\n  setUp(() {\n    mockLoginRespository = MockLoginRespository();\n    usecase = CallLogin(mockLoginRespository);\n  });\n\n  test(\n    'should perform login from the repository',\n    () async {\n      when(mockLoginRespository.login(any, any))\n          .thenAnswer((_) async => Right(tUser));\n\n      final result =\n          await usecase.execute(username: tUserName, password: tPassword);\n\n      expect(result, Right(tUser));\n      verify(mockLoginRespository.login(tUserName, tPassword));\n      verifyNoMoreInteractions(mockLoginRespository);\n    },\n  );\n}\n",
            "The non-nullable local variable 'mockLoginRespository' must be assigned before it can be used. Try giving it an initializer expression, or ensure that it's assigned on every execution path.",
            "  test(\n    'should perform login from the repository',\n    () async {\n\n  // Added initialization down here\n\n    mockLoginRespository = MockLoginRespository();\n    usecase = CallLogin(mockLoginRespository);\n      when(mockLoginRespository.login(any, any))\n          .thenAnswer((_) async => Right(tUser));\n    .\n    .\n    .\n    },`\n"
        ]
    },
    {
        "titulo": "UI Stack with Flutter",
        "score": 0,
        "views": 194,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "user-interface",
            "stack"
        ],
        "link": "https://stackoverflow.com/questions/77198993/ui-stack-with-flutter",
        "conteudo_html": "<p>Currently I'm studying about flutter stack widget, and I have an Idea to make an UI like this <a href=\"https://i.sstatic.net/a8GDc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/a8GDc.png\" alt=\"example picture\" /></a></p>\n<p>and this is my code</p>\n<pre><code>import 'package:flutter/material.dart';\n\nclass Test extends StatelessWidget{\n  const Test({Key? key}):super(key: key);\n\n\n  @override\n  Widget build(BuildContext context){\n    return Scaffold(\n      body: Column(\n        children: &lt;Widget&gt;[\n          Stack(\n           children: [\n             Container(\n              decoration: BoxDecoration(shape: BoxShape.rectangle,color: Colors.green),\n              child:null ,\n            ),\n            Container(\n              decoration: BoxDecoration(shape: BoxShape.circle,color: Colors.white),\n              child: null,\n            )\n           ],\n          )\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n<p>but apparently it didn't work, and I dont know why can you guys help me? I just need the green and white background using stack in flutter</p>\n",
        "codigo": [
            "import 'package:flutter/material.dart';\n\nclass Test extends StatelessWidget{\n  const Test({Key? key}):super(key: key);\n\n\n  @override\n  Widget build(BuildContext context){\n    return Scaffold(\n      body: Column(\n        children: <Widget>[\n          Stack(\n           children: [\n             Container(\n              decoration: BoxDecoration(shape: BoxShape.rectangle,color: Colors.green),\n              child:null ,\n            ),\n            Container(\n              decoration: BoxDecoration(shape: BoxShape.circle,color: Colors.white),\n              child: null,\n            )\n           ],\n          )\n        ],\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "I have a question about errors that occur due to specifying arguments in Unit Tests",
        "score": 0,
        "views": 26,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "unit-testing"
        ],
        "link": "https://stackoverflow.com/questions/77192901/i-have-a-question-about-errors-that-occur-due-to-specifying-arguments-in-unit-te",
        "conteudo_html": "<p>I am creating and running unit tests for a class that implements a use case for searching geography.</p>\n<p>search_location_usecase_impl.dart</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class SearchLocationUsecaseImpl implements SearchLocationUsecase {\n  SearchLocationUsecaseImpl({\n    required GeographySearchRepository geographySearchRepository,\n    required String geographySearchApiKey,\n    required FirebaseCrashlytics firebaseCrashlyticsInstance,\n  })  : _geographySearchRepository = geographySearchRepository,\n        _geographySearchApiKey = geographySearchApiKey,\n        _firebaseCrashlyticsInstance = firebaseCrashlyticsInstance;\n\n  final GeographySearchRepository _geographySearchRepository;\n  final String _geographySearchApiKey;\n  final FirebaseCrashlytics _firebaseCrashlyticsInstance;\n\n  @override\n  Future&lt;LatLng&gt; execute({required String requestPath}) async {\n    try {\n      final resultLocation = await _geographySearchRepository.searchLocation(\n        requestPath: requestPath + _geographySearchApiKey,\n      );\n      if (resultLocation == null) {\n        throw SearchLocationException();\n      }\n      return resultLocation.toLatLng();\n    } on Exception catch (_) {\n      await _firebaseCrashlyticsInstance.log(SearchLocationException().code);\n      throw SearchLocationException();\n    }\n  }\n}\n</code></pre>\n<p>[unit test]\nsearch_location_usecase_impl_test.dart</p>\n<pre><code>void main() {\n  late MockGeographySearchRepository mockGeographySearchRepository;\n  late SearchLocationUsecase searchLocationUsecase;\n  final fakeFirebaseCrashlytics = MockFirebaseCrashlytics();\n\n  setUp(() {\n    mockGeographySearchRepository = MockGeographySearchRepository();\n    searchLocationUsecase = SearchLocationUsecaseImpl(\n      geographySearchRepository: mockGeographySearchRepository,\n      geographySearchApiKey: TestConst.geographySearchApiKey,\n      firebaseCrashlyticsInstance: fakeFirebaseCrashlytics,\n    );\n  });\n\n  group('[UnitTest: SearchLocationUsecase]', () {\n    test('', () async {\n      final resultLocation = ModelConst.resultLocation.toLatLng();\n      // Arrange\n      when(\n        mockGeographySearchRepository.searchLocation(\n          requestPath: TestConst.requestPath,\n        ),\n      ).thenAnswer((_) async =&gt; ModelConst.resultLocation);\n\n      // Act\n      final result = await searchLocationUsecase.execute(\n        requestPath: TestConst.requestPath,\n      );\n      debugPrint(result.toString());\n\n      // Assert\n      expect(result, resultLocation);\n    });\n  });\n}\n</code></pre>\n<p>When running this test, the following error message is displayed.</p>\n<pre><code>  Instance of 'SearchLocationException'\n  package:____/usecase/search_location_usecase_impl.dart 31:7  SearchLocationUsecaseImpl.execute\n</code></pre>\n<p>To resolve this issue, you can make adjustments to this part of [search_location_usecase_impl.dart], and the test will run smoothly.</p>\n<p>search_location_usecase_impl.dart</p>\n<pre><code>      final resultLocation = await _geographySearchRepository.searchLocation(\n        requestPath: requestPath,  // [+ _geographySearchApiKey] delete\n      );\n</code></pre>\n<p>Why does changing the way arguments are specified make the unit test run successfully?</p>\n<p>Also, even if you change the Mock argument specification as shown below, the same error will occur.</p>\n<pre><code>      when(\n        mockGeographySearchRepository.searchLocation(\n          requestPath: TestConst.requestPath + geographySearchApiKey,\n        ),\n      ).thenAnswer((_) async =&gt; ModelConst.resultLocation);\n</code></pre>\n",
        "codigo": [
            "class SearchLocationUsecaseImpl implements SearchLocationUsecase {\n  SearchLocationUsecaseImpl({\n    required GeographySearchRepository geographySearchRepository,\n    required String geographySearchApiKey,\n    required FirebaseCrashlytics firebaseCrashlyticsInstance,\n  })  : _geographySearchRepository = geographySearchRepository,\n        _geographySearchApiKey = geographySearchApiKey,\n        _firebaseCrashlyticsInstance = firebaseCrashlyticsInstance;\n\n  final GeographySearchRepository _geographySearchRepository;\n  final String _geographySearchApiKey;\n  final FirebaseCrashlytics _firebaseCrashlyticsInstance;\n\n  @override\n  Future<LatLng> execute({required String requestPath}) async {\n    try {\n      final resultLocation = await _geographySearchRepository.searchLocation(\n        requestPath: requestPath + _geographySearchApiKey,\n      );\n      if (resultLocation == null) {\n        throw SearchLocationException();\n      }\n      return resultLocation.toLatLng();\n    } on Exception catch (_) {\n      await _firebaseCrashlyticsInstance.log(SearchLocationException().code);\n      throw SearchLocationException();\n    }\n  }\n}\n",
            "void main() {\n  late MockGeographySearchRepository mockGeographySearchRepository;\n  late SearchLocationUsecase searchLocationUsecase;\n  final fakeFirebaseCrashlytics = MockFirebaseCrashlytics();\n\n  setUp(() {\n    mockGeographySearchRepository = MockGeographySearchRepository();\n    searchLocationUsecase = SearchLocationUsecaseImpl(\n      geographySearchRepository: mockGeographySearchRepository,\n      geographySearchApiKey: TestConst.geographySearchApiKey,\n      firebaseCrashlyticsInstance: fakeFirebaseCrashlytics,\n    );\n  });\n\n  group('[UnitTest: SearchLocationUsecase]', () {\n    test('', () async {\n      final resultLocation = ModelConst.resultLocation.toLatLng();\n      // Arrange\n      when(\n        mockGeographySearchRepository.searchLocation(\n          requestPath: TestConst.requestPath,\n        ),\n      ).thenAnswer((_) async => ModelConst.resultLocation);\n\n      // Act\n      final result = await searchLocationUsecase.execute(\n        requestPath: TestConst.requestPath,\n      );\n      debugPrint(result.toString());\n\n      // Assert\n      expect(result, resultLocation);\n    });\n  });\n}\n",
            "  Instance of 'SearchLocationException'\n  package:____/usecase/search_location_usecase_impl.dart 31:7  SearchLocationUsecaseImpl.execute\n",
            "      final resultLocation = await _geographySearchRepository.searchLocation(\n        requestPath: requestPath,  // [+ _geographySearchApiKey] delete\n      );\n",
            "      when(\n        mockGeographySearchRepository.searchLocation(\n          requestPath: TestConst.requestPath + geographySearchApiKey,\n        ),\n      ).thenAnswer((_) async => ModelConst.resultLocation);\n"
        ]
    },
    {
        "titulo": "Cannot run flutter: Error (Xcode): ../../Library/flutter/packages/flutter/lib/src/widgets/framework.dart:1102:9: Error: Expected &#39;;&#39; after this",
        "score": 0,
        "views": 95,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "widget",
            "frameworks",
            "flutter-dependencies"
        ],
        "link": "https://stackoverflow.com/questions/77184691/cannot-run-flutter-error-xcode-library-flutter-packages-flutter-lib-sr",
        "conteudo_html": "<p>From yesterday, I am unable to run <strong>any flutter app</strong>, even the new Flutter boiler code app.</p>\n<p>Steps to reproduce:</p>\n<ol>\n<li>Create a new Flutter project</li>\n<li>Run and debug main.dart file without changing boiler code</li>\n<li>Error appers</li>\n</ol>\n<p>iOS simulation error:</p>\n<pre><code>../../Library/flutter/packages/flutter/lib/src/widgets/framework.dart:1102:9: Error: Expected ';' after this\n</code></pre>\n<p>Android simulation error:</p>\n<pre><code>../../Library/flutter/packages/flutter/lib/src/widgets/framework.dart:1102:9: Error: Expected ';' after this.\n        01throw FlutterError.fromParts(&lt;DiagnosticsNode&gt;[\n        ^^\nTarget kernel_snapshot failed: Exception\nFAILURE: Build failed with an exception.\nWhat went wrong:\nExecution failed for task ':app:compileFlutterBuildDebug'.\nProcess 'command '/Users/anapimolodec/Library/flutter/bin/flutter'' finished with non-zero exit value 1\n</code></pre>\n<p>Please help T.T</p>\n<p>I already tried <code>flutter upgrade</code>, <code>flutter clean</code>\n<code>flutter doctor</code>: No issues found!</p>\n<p>PLEASE ANYONE HEEEELP ~~~</p>\n<p>I am expecting being able to run flutter without errors.</p>\n",
        "codigo": [
            "../../Library/flutter/packages/flutter/lib/src/widgets/framework.dart:1102:9: Error: Expected ';' after this\n",
            "../../Library/flutter/packages/flutter/lib/src/widgets/framework.dart:1102:9: Error: Expected ';' after this.\n        01throw FlutterError.fromParts(<DiagnosticsNode>[\n        ^^\nTarget kernel_snapshot failed: Exception\nFAILURE: Build failed with an exception.\nWhat went wrong:\nExecution failed for task ':app:compileFlutterBuildDebug'.\nProcess 'command '/Users/anapimolodec/Library/flutter/bin/flutter'' finished with non-zero exit value 1\n",
            "flutter upgrade",
            "flutter clean",
            "flutter doctor"
        ]
    },
    {
        "titulo": "UnsupportedError (Unsupported operation: Loaded ObjectBox core dynamic library has unsupported version 0.18.1, expected ^0.19.0)",
        "score": 0,
        "views": 870,
        "respostas": 4,
        "tags": [
            "flutter",
            "dart",
            "objectbox",
            "flutter-objectbox"
        ],
        "link": "https://stackoverflow.com/questions/77153471/unsupportederror-unsupported-operation-loaded-objectbox-core-dynamic-library-h",
        "conteudo_html": "<p>I get this exception at the startup of the app.\n<code>UnsupportedError (Unsupported operation: Loaded ObjectBox core dynamic library has unsupported version 0.18.1, expected ^0.19.0)</code></p>\n<pre><code>Flutter 3.15.0-15.2.pre • channel beta • https://github.com/flutter/flutter.git\nFramework • revision 0d074ced6c (3 hours ago) • 2023-09-21 10:24:15 -0700\nEngine • revision 453411bcf3\nTools • Dart 3.2.0 (build 3.2.0-134.1.beta) • DevTools 2.27.0\n</code></pre>\n<pre><code>sdk: '&gt;=3.0.0 &lt;4.0.0'\n\nobjectbox: ^2.1.0\nobjectbox_flutter_libs: ^2.1.0\nobjectbox_generator: ^2.1.0\n</code></pre>\n<p>I tried it on Windows and Linux and tried the following script like they say in their docs.</p>\n<p><code>bash &lt;(curl -s https://raw.githubusercontent.com/objectbox/objectbox-dart/main/install.sh)</code>\nIn windows I copied the files to System32 and in Linux it installs the .so file globally but it does not work on either platform.</p>\n<p>Edit: Same problem with the objectbox example projects.</p>\n",
        "codigo": [
            "UnsupportedError (Unsupported operation: Loaded ObjectBox core dynamic library has unsupported version 0.18.1, expected ^0.19.0)",
            "Flutter 3.15.0-15.2.pre • channel beta • https://github.com/flutter/flutter.git\nFramework • revision 0d074ced6c (3 hours ago) • 2023-09-21 10:24:15 -0700\nEngine • revision 453411bcf3\nTools • Dart 3.2.0 (build 3.2.0-134.1.beta) • DevTools 2.27.0\n",
            "sdk: '>=3.0.0 <4.0.0'\n\nobjectbox: ^2.1.0\nobjectbox_flutter_libs: ^2.1.0\nobjectbox_generator: ^2.1.0\n",
            "bash <(curl -s https://raw.githubusercontent.com/objectbox/objectbox-dart/main/install.sh)"
        ]
    },
    {
        "titulo": "How to catch exception with WidgetTester if &#39;EXCEPTION CAUGHT BY WIDGETS LIBRARY&#39; in Flutter?",
        "score": 0,
        "views": 106,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "testing"
        ],
        "link": "https://stackoverflow.com/questions/77147165/how-to-catch-exception-with-widgettester-if-exception-caught-by-widgets-library",
        "conteudo_html": "<p>I want to verify that the widget can throw an exception.</p>\n<p>I tried this code:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>  testWidgets('it fails other widgets if', (WidgetTester tester) async {\n    // expect(() async {\n    //   await tester.pumpWidget(WidgetThatThrowUnimplementedError());\n    // }, throwsA(isA&lt;UnimplementedError&gt;()));\n\n      try {\n        await tester.pumpWidget(WidgetThatThrowUnimplementedError());\n        fail('Exception was not thrown');\n      } catch (e) {\n        expect(e, isA&lt;UnimplementedError&gt;());\n        return;\n      }\n  });\n</code></pre>\n<p>But got: &quot;<code>EXCEPTION CAUGHT BY WIDGETS LIBRARY</code>&quot; and</p>\n<pre><code>  Actual: TestFailure:&lt;Exception was not thrown&gt;\n   Which: is not an instance of 'UnimplementedError'\n</code></pre>\n<p>How to catch <code>UnimplementedError</code>?</p>\n",
        "codigo": [
            "  testWidgets('it fails other widgets if', (WidgetTester tester) async {\n    // expect(() async {\n    //   await tester.pumpWidget(WidgetThatThrowUnimplementedError());\n    // }, throwsA(isA<UnimplementedError>()));\n\n      try {\n        await tester.pumpWidget(WidgetThatThrowUnimplementedError());\n        fail('Exception was not thrown');\n      } catch (e) {\n        expect(e, isA<UnimplementedError>());\n        return;\n      }\n  });\n",
            "EXCEPTION CAUGHT BY WIDGETS LIBRARY",
            "  Actual: TestFailure:<Exception was not thrown>\n   Which: is not an instance of 'UnimplementedError'\n",
            "UnimplementedError"
        ]
    },
    {
        "titulo": "How do I fix the flutter error: &quot;Execution failed for task &#39;:app:compileDebugKotlin&#39;&quot;?",
        "score": 5,
        "views": 8757,
        "respostas": 4,
        "tags": [
            "android",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77146685/how-do-i-fix-the-flutter-error-execution-failed-for-task-appcompiledebugkot",
        "conteudo_html": "<p>I am using flutter on MacOS 14 and when I try to run my app with <code>flutter run</code> on an android emulator I get the following error:</p>\n<pre><code>ERROR:D8: com.android.tools.r8.kotlin.H\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simple_exercise_timer/MainActivity.kt:5:23 Conflicting import, imported name 'FlutterActivity' is ambiguous\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simple_exercise_timer/MainActivity.kt:6:37 Conflicting import, imported name 'FlutterActivity' is ambiguous\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simple_exercise_timer/MainActivity.kt:9:21 Unresolved reference: FlutterActivity\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simple_exercise_timer/MainActivity.kt:10:5 'onCreate' overrides nothing\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simple_exercise_timer/MainActivity.kt:11:15 Unresolved reference: onCreate\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simple_exercise_timer/MainActivity.kt:12:48 Type mismatch: inferred type is MainActivity but FlutterEngine was expected\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simpleexercisetimer/MainActivity.kt:5:23 Conflicting import, imported name 'FlutterActivity' is ambiguous\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simpleexercisetimer/MainActivity.kt:6:37 Conflicting import, imported name 'FlutterActivity' is ambiguous\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simpleexercisetimer/MainActivity.kt:9:21 Unresolved reference: FlutterActivity\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simpleexercisetimer/MainActivity.kt:10:5 'onCreate' overrides nothing\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simpleexercisetimer/MainActivity.kt:11:15 Unresolved reference: onCreate\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simpleexercisetimer/MainActivity.kt:12:48 Type mismatch: inferred type is MainActivity but FlutterEngine was expected\nERROR:D8: com.android.tools.r8.kotlin.H\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\n&gt; Execution failed for task ':app:compileDebugKotlin'.\n&gt; A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n   &gt; Compilation error. See log for more details\n</code></pre>\n<p>I tried to use <code>flutter clean</code> before running, upgrading my flutter version (3.13.5) and trying solutions I found on other stack overflow questions, non of which worked. I was expecting the app to launch normally on the emulator.</p>\n",
        "codigo": [
            "flutter run",
            "ERROR:D8: com.android.tools.r8.kotlin.H\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simple_exercise_timer/MainActivity.kt:5:23 Conflicting import, imported name 'FlutterActivity' is ambiguous\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simple_exercise_timer/MainActivity.kt:6:37 Conflicting import, imported name 'FlutterActivity' is ambiguous\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simple_exercise_timer/MainActivity.kt:9:21 Unresolved reference: FlutterActivity\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simple_exercise_timer/MainActivity.kt:10:5 'onCreate' overrides nothing\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simple_exercise_timer/MainActivity.kt:11:15 Unresolved reference: onCreate\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simple_exercise_timer/MainActivity.kt:12:48 Type mismatch: inferred type is MainActivity but FlutterEngine was expected\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simpleexercisetimer/MainActivity.kt:5:23 Conflicting import, imported name 'FlutterActivity' is ambiguous\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simpleexercisetimer/MainActivity.kt:6:37 Conflicting import, imported name 'FlutterActivity' is ambiguous\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simpleexercisetimer/MainActivity.kt:9:21 Unresolved reference: FlutterActivity\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simpleexercisetimer/MainActivity.kt:10:5 'onCreate' overrides nothing\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simpleexercisetimer/MainActivity.kt:11:15 Unresolved reference: onCreate\ne: file:///Users/arhanbusam/simple_exercise_timer/android/app/src/main/kotlin/com/arhanbusam/simpleexercisetimer/MainActivity.kt:12:48 Type mismatch: inferred type is MainActivity but FlutterEngine was expected\nERROR:D8: com.android.tools.r8.kotlin.H\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\n> Execution failed for task ':app:compileDebugKotlin'.\n> A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n   > Compilation error. See log for more details\n",
            "flutter clean"
        ]
    },
    {
        "titulo": "Unable to Delete User Document Using AlertDialog",
        "score": 0,
        "views": 32,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "google-cloud-firestore"
        ],
        "link": "https://stackoverflow.com/questions/77130713/unable-to-delete-user-document-using-alertdialog",
        "conteudo_html": "<p>I am working on a Flutter application that uses Firestore for database operations. In one part of the app, I have a list of users, and I want to implement a delete functionality using an AlertDialog. However, when I tap the &quot;Delete&quot; option in the PopupMenuButton, nothing happens, and the user is not deleted.</p>\n<p><strong>Code Description:</strong></p>\n<p>I have a <code>Users</code> widget that fetches user data from Firestore and displays it in a <code>ListView</code>. Each user item is represented as a <code>ListTile</code> with a <code>PopupMenuButton</code> containing &quot;Edit&quot; and &quot;Delete&quot; options.</p>\n<pre><code>trailing: PopupMenuButton(\n  itemBuilder: (context) {\n    return [\n      PopupMenuItem(\n        value: 'edit',\n        child: const Text('Edit', style: TextStyle(fontSize: 13.0)),\n        onTap: () {\n          // Edit functionality works correctly\n        },\n      ),\n      PopupMenuItem(\n        value: 'delete',\n        child: const Text('Delete', style: TextStyle(fontSize: 13.0)),\n        onTap: () {\n          // Delete functionality is not working as expected\n        },\n      ),\n    ];\n  },\n),\n\n</code></pre>\n<p>For the &quot;Delete&quot; option, I'm using an <code>AlertDialog</code> named <code>DeleteUserDialog</code>, which is supposed to delete the user upon confirmation.</p>\n<pre><code>ElevatedButton(\n  onPressed: _deleteUser, // Calls _deleteUser function\n  style: ElevatedButton.styleFrom(\n    backgroundColor: Colors.brown,\n  ),\n  child: const Text('Delete'),\n),\n...\n\nFuture&lt;void&gt; _deleteUser() async {\n  try {\n    await FirebaseFirestore.instance.collection('users').doc(widget.userId).delete();\n    // Show success message and close the dialog\n  } catch (error) {\n    // Show error message\n  }\n}\n</code></pre>\n<p>Issue:</p>\n<p>The issue is that when I tap the &quot;Delete&quot; option in the PopupMenuButton, the user is not deleted, and there is no error message displayed. The _deleteUser function seems to be called, but the document deletion does not take place.</p>\n<p>Expected Outcome:</p>\n<p>Upon tapping &quot;Delete,&quot; I expect the DeleteUserDialog to delete the user document from Firestore and display a success message. If there's an error, it should display an error message.</p>\n<p>Question:</p>\n<p>What could be causing the user deletion to fail in this scenario?</p>\n<p>How can I properly implement the delete functionality using an AlertDialog and Firestore in Flutter?</p>\n",
        "codigo": [
            "Users",
            "ListView",
            "ListTile",
            "PopupMenuButton",
            "trailing: PopupMenuButton(\n  itemBuilder: (context) {\n    return [\n      PopupMenuItem(\n        value: 'edit',\n        child: const Text('Edit', style: TextStyle(fontSize: 13.0)),\n        onTap: () {\n          // Edit functionality works correctly\n        },\n      ),\n      PopupMenuItem(\n        value: 'delete',\n        child: const Text('Delete', style: TextStyle(fontSize: 13.0)),\n        onTap: () {\n          // Delete functionality is not working as expected\n        },\n      ),\n    ];\n  },\n),\n\n",
            "AlertDialog",
            "DeleteUserDialog",
            "ElevatedButton(\n  onPressed: _deleteUser, // Calls _deleteUser function\n  style: ElevatedButton.styleFrom(\n    backgroundColor: Colors.brown,\n  ),\n  child: const Text('Delete'),\n),\n...\n\nFuture<void> _deleteUser() async {\n  try {\n    await FirebaseFirestore.instance.collection('users').doc(widget.userId).delete();\n    // Show success message and close the dialog\n  } catch (error) {\n    // Show error message\n  }\n}\n"
        ]
    },
    {
        "titulo": "How to user &#39;Geolocator.distanceBetween&#39; with variables from a state Provider",
        "score": 1,
        "views": 68,
        "respostas": 0,
        "tags": [
            "flutter",
            "performance",
            "dart",
            "flutter-provider",
            "geolocator"
        ],
        "link": "https://stackoverflow.com/questions/77130124/how-to-user-geolocator-distancebetween-with-variables-from-a-state-provider",
        "conteudo_html": "<p>I am developing a salon directory app. The location of the user will be acquired and used alonside the location of the salon (from Firebase Database) to calculate the distance to the salon for each user. When the user signs up Location permission is requested this is (supposed to be) stored in the userDetailModel and provider to manage the state across the whole app.</p>\n<p>The issue I am facing is that even though the user latitude and longitude is acquired (can see it when I do print in the sign up screen) it does not seem to be picked up in the popularSalonWidget (within the home page). This widget needs the values to calculate the distance and to display it. The salon location (lat and lng) is working fine.</p>\n<p>--  UPDATE --\nThe code calculation actually works as expected, so I can get the userLat and userLng when I create a new user (flow from the sign up screen). But if I reload the app, or direct to a new page in the app and then go back the user location data is lost and the widget disappears which I am assuming is due to this in the popular salon widget block</p>\n<blockquote>\n<pre><code>  Widget build(BuildContext context) {\n    UserDetailsModel userDetails =\n        Provider.of&lt;UserDetailsProvider&gt;(context).userDetails;\n    if (salons.isEmpty) {\n      return const Center(\n        child: CupertinoActivityIndicator(),\n      );\n</code></pre>\n</blockquote>\n<pre><code>class SignUpScreen extends StatefulWidget {\n  @override\n  _SignUpScreenState createState() =&gt; _SignUpScreenState();\n}\n\nclass _SignUpScreenState extends State&lt;SignUpScreen&gt;\n    with SingleTickerProviderStateMixin {\n\n  @override\n  void initState() {\n    super.initState();\n    _determinePosition();\n  }\n\n  Position? position;\n  String userLocation = '';\n  late final Salon? salon;\n\n  Future&lt;void&gt; _determinePosition() async {\n    try {\n      bool serviceEnabled;\n      LocationPermission permission;\n\n      serviceEnabled = await Geolocator.isLocationServiceEnabled();\n      if (!serviceEnabled) {\n        throw Exception('Location services are disabled.');\n      }\n\n      permission = await Geolocator.checkPermission();\n      if (permission == LocationPermission.denied) {\n        permission = await Geolocator.requestPermission();\n        if (permission == LocationPermission.denied) {\n          throw Exception('Location permissions are denied');\n        }\n      }\n\n      if (permission == LocationPermission.deniedForever) {\n        throw Exception(\n            'Location permissions are permanently denied, we cannot request permissions.');\n      }\n\n      Position newPosition = await Geolocator.getCurrentPosition(\n        desiredAccuracy: LocationAccuracy.high,\n      );\n      setState(() {\n        position = newPosition;\n      });\n      _updateUserDetails(position);\n    } catch (error) {\n      print('Error determining position: $error');\n    }\n  }\n\n  Future&lt;void&gt; _updateUserDetails(Position? position) async {\n    if (position != null) {\n      List&lt;Placemark&gt; placemark = await placemarkFromCoordinates(\n        position.latitude,\n        position.longitude,\n      );\n\n      Placemark place = placemark[0];\n      cityController.text = '${place.street}, ${place.locality}';\n      double userLat = position.latitude;\n      double userLng = position.longitude;\n\n      // Update user details using Provider\n      Provider.of&lt;UserDetailsProvider&gt;(context, listen: false)\n          .updateUserCity('${place.street}, ${place.locality}');\n      Provider.of&lt;UserDetailsProvider&gt;(context, listen: false)\n          .updateUserLat(userLat);\n      Provider.of&lt;UserDetailsProvider&gt;(context, listen: false)\n          .updateUserLng(userLng);\n      print(userLng); //works as expected\n      print(userLat); //works as expected \n    }\n  } \n\nclass PopularSalonswidget extends StatefulWidget {\n  final Salon? salon;\n  final Function(int) onNoOfReviewUpdated;\n  const PopularSalonswidget({\n    Key? key,\n    this.salon,\n    required this.onNoOfReviewUpdated,\n  }) : super(key: key);\n\n  @override\n  State&lt;PopularSalonswidget&gt; createState() =&gt; _PopularSalonswidgetState();\n}\n\nclass _PopularSalonswidgetState extends State&lt;PopularSalonswidget&gt; {\n  final FirebaseFirestore db = FirebaseFirestore.instance;\n  List&lt;Salon&gt; salons = [];\n  late UserDetailsModel userDetails;\n  Map&lt;String, double&gt; salonDistances = {};\n\n  @override\n  void initState() {\n    super.initState();\n    userDetails =\n        Provider.of&lt;UserDetailsProvider&gt;(context, listen: false).userDetails;\n    if (userDetails.userLat != null &amp;&amp; userDetails.userLng != null) {\n      _fetchSalons();\n    }\n  }\n\n  void _fetchSalons() {\n    db.collection('salons').get().then((snapshot) {\n      setState(() {\n        salons =\n            snapshot.docs.map((doc) =&gt; Salon.fromJson(doc.data())).toList();\n        for (var salon in salons) {\n          final calculatedDistance = calculateDistance(\n            userDetails.userLat!,\n            userDetails.userLng!,\n            salon.latitude,\n            salon.longitude,\n          );\n          print(userDetails.userLat); //getting 0.0\n          print(userDetails.userLng); //getting 0.0\n          print(salon.latitude); //works as expected \n          salonDistances[salon.id] = calculatedDistance;\n          print(calculatedDistance);\n        }\n      });\n    });\n  }\n\n  @override\n  void didChangeDependencies() {\n    super.didChangeDependencies();\n    final newDetails =\n        Provider.of&lt;UserDetailsProvider&gt;(context, listen: false).userDetails;\n    if (newDetails != null &amp;&amp; newDetails != userDetails) {\n      userDetails = newDetails;\n      if (userDetails.userLat != null &amp;&amp; userDetails.userLng != null) {\n        _fetchSalons();\n      }\n    }\n  }\n  Stream&lt;int&gt; _getReviewCountStream(String salonId) {\n    return db\n        .collection('salons')\n        .doc(salonId)\n        .collection('reviews')\n        .snapshots()\n        .map((snapshot) =&gt; snapshot.docs.length);\n  }\n\n//this is my calculator method \ndouble calculateDistance(\n    double userLat, double userLng, double salonLat, double salonLng) {\n  return Geolocator.distanceBetween(userLat, userLng, salonLat, salonLng);\n}\n</code></pre>\n",
        "codigo": [
            "  Widget build(BuildContext context) {\n    UserDetailsModel userDetails =\n        Provider.of<UserDetailsProvider>(context).userDetails;\n    if (salons.isEmpty) {\n      return const Center(\n        child: CupertinoActivityIndicator(),\n      );\n",
            "class SignUpScreen extends StatefulWidget {\n  @override\n  _SignUpScreenState createState() => _SignUpScreenState();\n}\n\nclass _SignUpScreenState extends State<SignUpScreen>\n    with SingleTickerProviderStateMixin {\n\n  @override\n  void initState() {\n    super.initState();\n    _determinePosition();\n  }\n\n  Position? position;\n  String userLocation = '';\n  late final Salon? salon;\n\n  Future<void> _determinePosition() async {\n    try {\n      bool serviceEnabled;\n      LocationPermission permission;\n\n      serviceEnabled = await Geolocator.isLocationServiceEnabled();\n      if (!serviceEnabled) {\n        throw Exception('Location services are disabled.');\n      }\n\n      permission = await Geolocator.checkPermission();\n      if (permission == LocationPermission.denied) {\n        permission = await Geolocator.requestPermission();\n        if (permission == LocationPermission.denied) {\n          throw Exception('Location permissions are denied');\n        }\n      }\n\n      if (permission == LocationPermission.deniedForever) {\n        throw Exception(\n            'Location permissions are permanently denied, we cannot request permissions.');\n      }\n\n      Position newPosition = await Geolocator.getCurrentPosition(\n        desiredAccuracy: LocationAccuracy.high,\n      );\n      setState(() {\n        position = newPosition;\n      });\n      _updateUserDetails(position);\n    } catch (error) {\n      print('Error determining position: $error');\n    }\n  }\n\n  Future<void> _updateUserDetails(Position? position) async {\n    if (position != null) {\n      List<Placemark> placemark = await placemarkFromCoordinates(\n        position.latitude,\n        position.longitude,\n      );\n\n      Placemark place = placemark[0];\n      cityController.text = '${place.street}, ${place.locality}';\n      double userLat = position.latitude;\n      double userLng = position.longitude;\n\n      // Update user details using Provider\n      Provider.of<UserDetailsProvider>(context, listen: false)\n          .updateUserCity('${place.street}, ${place.locality}');\n      Provider.of<UserDetailsProvider>(context, listen: false)\n          .updateUserLat(userLat);\n      Provider.of<UserDetailsProvider>(context, listen: false)\n          .updateUserLng(userLng);\n      print(userLng); //works as expected\n      print(userLat); //works as expected \n    }\n  } \n\nclass PopularSalonswidget extends StatefulWidget {\n  final Salon? salon;\n  final Function(int) onNoOfReviewUpdated;\n  const PopularSalonswidget({\n    Key? key,\n    this.salon,\n    required this.onNoOfReviewUpdated,\n  }) : super(key: key);\n\n  @override\n  State<PopularSalonswidget> createState() => _PopularSalonswidgetState();\n}\n\nclass _PopularSalonswidgetState extends State<PopularSalonswidget> {\n  final FirebaseFirestore db = FirebaseFirestore.instance;\n  List<Salon> salons = [];\n  late UserDetailsModel userDetails;\n  Map<String, double> salonDistances = {};\n\n  @override\n  void initState() {\n    super.initState();\n    userDetails =\n        Provider.of<UserDetailsProvider>(context, listen: false).userDetails;\n    if (userDetails.userLat != null && userDetails.userLng != null) {\n      _fetchSalons();\n    }\n  }\n\n  void _fetchSalons() {\n    db.collection('salons').get().then((snapshot) {\n      setState(() {\n        salons =\n            snapshot.docs.map((doc) => Salon.fromJson(doc.data())).toList();\n        for (var salon in salons) {\n          final calculatedDistance = calculateDistance(\n            userDetails.userLat!,\n            userDetails.userLng!,\n            salon.latitude,\n            salon.longitude,\n          );\n          print(userDetails.userLat); //getting 0.0\n          print(userDetails.userLng); //getting 0.0\n          print(salon.latitude); //works as expected \n          salonDistances[salon.id] = calculatedDistance;\n          print(calculatedDistance);\n        }\n      });\n    });\n  }\n\n  @override\n  void didChangeDependencies() {\n    super.didChangeDependencies();\n    final newDetails =\n        Provider.of<UserDetailsProvider>(context, listen: false).userDetails;\n    if (newDetails != null && newDetails != userDetails) {\n      userDetails = newDetails;\n      if (userDetails.userLat != null && userDetails.userLng != null) {\n        _fetchSalons();\n      }\n    }\n  }\n  Stream<int> _getReviewCountStream(String salonId) {\n    return db\n        .collection('salons')\n        .doc(salonId)\n        .collection('reviews')\n        .snapshots()\n        .map((snapshot) => snapshot.docs.length);\n  }\n\n//this is my calculator method \ndouble calculateDistance(\n    double userLat, double userLng, double salonLat, double salonLng) {\n  return Geolocator.distanceBetween(userLat, userLng, salonLat, salonLng);\n}\n"
        ]
    },
    {
        "titulo": "Stdin tests in Dart",
        "score": 0,
        "views": 78,
        "respostas": 0,
        "tags": [
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77128379/stdin-tests-in-dart",
        "conteudo_html": "<p>I'm creating tests for a dart project, as i'm learning to do them, but i'm strugling to create mockstdin to test when you require to type on terminal.</p>\n<p>for eg.:</p>\n<p>This test :</p>\n<pre class=\"lang-dart prettyprint-override\"><code>test(\n        'lerStringComTexto should print the given text and read a string from stdin',\n        () async {\n      final input = 'hello world';\n      final expected = input;\n      final mockStdin = Stream&lt;List&lt;int&gt;&gt;.fromIterable([utf8.encode(input)]);\n      stdin = mockStdin.asBroadcastStream();\n\n      final result = await ConsoleUtils.lerStringComTexto('Enter a string: ');\n\n      expect(result, equals(expected));\n    }); \n</code></pre>\n<p>shows this error:</p>\n<pre><code>'stdin' can't be used as a setter because it's final.\nTry finding a different setter, or making 'stdin' non-final.dartassignment_to_final\n</code></pre>\n<p>Also tried</p>\n<pre class=\"lang-dart prettyprint-override\"><code> test(\n        'lerStringComTexto should print the given text and read a string from stdin',\n        () async {\n      final input = 'hello world';\n      final expected = input;\n      final mockStdin = Stream&lt;List&lt;int&gt;&gt;.fromIterable([utf8.encode(input)]);\n      stdin = mockStdin.asBroadcastStream();\n\n      final result = await ConsoleUtils.lerStringComTexto('Enter a string: ');\n\n      expect(result, equals(expected));\n    });\n</code></pre>\n",
        "codigo": [
            "test(\n        'lerStringComTexto should print the given text and read a string from stdin',\n        () async {\n      final input = 'hello world';\n      final expected = input;\n      final mockStdin = Stream<List<int>>.fromIterable([utf8.encode(input)]);\n      stdin = mockStdin.asBroadcastStream();\n\n      final result = await ConsoleUtils.lerStringComTexto('Enter a string: ');\n\n      expect(result, equals(expected));\n    }); \n",
            "'stdin' can't be used as a setter because it's final.\nTry finding a different setter, or making 'stdin' non-final.dartassignment_to_final\n",
            " test(\n        'lerStringComTexto should print the given text and read a string from stdin',\n        () async {\n      final input = 'hello world';\n      final expected = input;\n      final mockStdin = Stream<List<int>>.fromIterable([utf8.encode(input)]);\n      stdin = mockStdin.asBroadcastStream();\n\n      final result = await ConsoleUtils.lerStringComTexto('Enter a string: ');\n\n      expect(result, equals(expected));\n    });\n"
        ]
    },
    {
        "titulo": "Upgraded go_router, now routeInformation&#39;s state is always null",
        "score": 1,
        "views": 1092,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "flutter-go-router",
            "gorouter"
        ],
        "link": "https://stackoverflow.com/questions/77123291/upgraded-go-router-now-routeinformations-state-is-always-null",
        "conteudo_html": "<p>On loading my flutter app, I get the following exception:</p>\n<pre><code>Exception has occurred.\n_AssertionError ('package:go_router/src/parser.dart': Failed assertion: line 64 pos 12: 'routeInformation.state != null': is not true.)\n</code></pre>\n<p>This has started happening after an upgrade from <strong>3.1.0</strong> to <strong>10.1.0</strong> of <code>go_router</code></p>\n<p>Some of the changes I made to even get this building (after the upgrade):</p>\n<p><a href=\"https://i.sstatic.net/5Celd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/5Celd.png\" alt=\"enter image description here\" /></a></p>\n<p>I read from the changelog (<a href=\"https://pub.dev/packages/go_router/changelog\" rel=\"nofollow noreferrer\">https://pub.dev/packages/go_router/changelog</a>) that urlPathStrategy had been altogether removed (so I removed it) and that the params props had changes.</p>\n<p>The stacktrace is not particularly helpful here, but in case it is:</p>\n<p><a href=\"https://i.sstatic.net/qRU0D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/qRU0D.png\" alt=\"enter image description here\" /></a></p>\n<p>Would really appreciate any help in resolving this! I've spent hours on it. I appreciate it's quite a jump in the version but I've had to bring it up to date.</p>\n<p>Note, this is the other piece of code I think may be relevant:</p>\n<pre><code>  @override\n  Widget build(BuildContext context) {\n    return MaterialApp.router(\n      title: 'my app',\n      localizationsDelegates: [\n        FFLocalizationsDelegate(),\n        GlobalMaterialLocalizations.delegate,\n        GlobalWidgetsLocalizations.delegate,\n        GlobalCupertinoLocalizations.delegate,\n      ],\n      locale: _locale,\n      supportedLocales: const [Locale('en', '')],\n      theme: ThemeData(brightness: Brightness.light),\n      darkTheme: ThemeData(brightness: Brightness.dark),\n      themeMode: _themeMode,\n      routeInformationParser: _router.routeInformationParser,\n      routerDelegate: _router.routerDelegate,\n    );\n  }\n}\n</code></pre>\n<p>EDIT:</p>\n<p>I don't think this is relevant since it seems a runtime error rather than a compilation error, but here's my flutter doc output anyway:</p>\n<pre><code>[√] Flutter (Channel stable, 3.13.2, on Microsoft Windows [Version 10.0.22621.2134], locale en-GB)\n    • Flutter version 3.13.2 on channel stable at C:\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision ff5b5b5fa6 (3 weeks ago), 2023-08-24 08:12:28 -0500\n    • Engine revision b20183e040\n    • Dart version 3.1.0\n    • DevTools version 2.25.0\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\n    • Android SDK at C:\\Users\\dan\\AppData\\Local\\Android\\sdk\n    • Platform android-33, build-tools 33.0.1\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[!] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.4.3)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.4.33205.214\n    X The current Visual Studio installation is incomplete. Please reinstall Visual Studio.\n\n[√] Android Studio (version 2021.3)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n\n[√] VS Code (version 1.80.2)\n    • VS Code at C:\\Users\\dan\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.72.0\n\n[√] Connected device (4 available)\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 13 (API 33) (emulator)\n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Version 10.0.22621.2134]\n    • Chrome (web)                 • chrome        • web-javascript • Google Chrome 116.0.5845.188\n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 115.0.1901.203\n\n[√] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n</code></pre>\n",
        "codigo": [
            "Exception has occurred.\n_AssertionError ('package:go_router/src/parser.dart': Failed assertion: line 64 pos 12: 'routeInformation.state != null': is not true.)\n",
            "go_router",
            "  @override\n  Widget build(BuildContext context) {\n    return MaterialApp.router(\n      title: 'my app',\n      localizationsDelegates: [\n        FFLocalizationsDelegate(),\n        GlobalMaterialLocalizations.delegate,\n        GlobalWidgetsLocalizations.delegate,\n        GlobalCupertinoLocalizations.delegate,\n      ],\n      locale: _locale,\n      supportedLocales: const [Locale('en', '')],\n      theme: ThemeData(brightness: Brightness.light),\n      darkTheme: ThemeData(brightness: Brightness.dark),\n      themeMode: _themeMode,\n      routeInformationParser: _router.routeInformationParser,\n      routerDelegate: _router.routerDelegate,\n    );\n  }\n}\n",
            "[√] Flutter (Channel stable, 3.13.2, on Microsoft Windows [Version 10.0.22621.2134], locale en-GB)\n    • Flutter version 3.13.2 on channel stable at C:\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision ff5b5b5fa6 (3 weeks ago), 2023-08-24 08:12:28 -0500\n    • Engine revision b20183e040\n    • Dart version 3.1.0\n    • DevTools version 2.25.0\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\n    • Android SDK at C:\\Users\\dan\\AppData\\Local\\Android\\sdk\n    • Platform android-33, build-tools 33.0.1\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[!] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.4.3)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.4.33205.214\n    X The current Visual Studio installation is incomplete. Please reinstall Visual Studio.\n\n[√] Android Studio (version 2021.3)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n\n[√] VS Code (version 1.80.2)\n    • VS Code at C:\\Users\\dan\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.72.0\n\n[√] Connected device (4 available)\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 13 (API 33) (emulator)\n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Version 10.0.22621.2134]\n    • Chrome (web)                 • chrome        • web-javascript • Google Chrome 116.0.5845.188\n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 115.0.1901.203\n\n[√] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n"
        ]
    },
    {
        "titulo": "the request has been sent in flutter to django server and it has returned a response but the condition is still false",
        "score": 1,
        "views": 49,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77118792/the-request-has-been-sent-in-flutter-to-django-server-and-it-has-returned-a-resp",
        "conteudo_html": "<p>I'm trying to send an otp to user from flutter to the django sever and it is sending in the next page I have to check the otp and return the result from api to app in this part I wrote a variable &quot;statusCode&quot; which is null and in the post method I said the statuscode = response.statusCode and in the verify button I said if statusCode == 200 then go to home screen and else return a snack bar this is my otp screen code. in the output it returns statuscode 200 but in the application it returns snackbar what I'll have to do?</p>\n<pre><code>import 'dart:async';\nimport 'dart:convert';\n\nimport 'package:flutter/material.dart';\nimport 'package:http/http.dart';\nimport 'package:pinput/pinput.dart';\nimport 'package:whatsapp/Model/ChatModel.dart';\nimport 'package:whatsapp/Screens/home/HomeScreen.dart';\nimport 'package:whatsapp/common/utils/utils.dart';\nimport 'package:whatsapp/constants/colors.dart';\nimport 'package:whatsapp/utils/theme_manager.dart';\n\nclass OTPScreen extends StatefulWidget {\n  const OTPScreen(\n      {Key? key,\n      required this.chatModels,\n      required this.sourceChat,\n      required this.phoneNumber})\n      : super(key: key);\n  final List&lt;ChatModel&gt; chatModels;\n  final ChatModel sourceChat;\n  final String phoneNumber;\n\n  @override\n  State&lt;OTPScreen&gt; createState() =&gt; _OTPScreenState();\n}\n\nclass _OTPScreenState extends State&lt;OTPScreen&gt; {\n  @override\n  Widget build(BuildContext context) {\n    Map otp = {};\n    int? statusCode;\n    bool isLoading = false;\n    bool timeOut = false;\n    void sendOTP(String otp) async {\n      try {\n        Response response = await post(\n            Uri.parse(&quot;https://2858-151-240-216-221.ngrok-free.app/otp-api/&quot;),\n            body: {&quot;otp&quot;: otp, &quot;phone_number&quot;: widget.phoneNumber});\n        print(response.body);\n        setState(() {\n          statusCode = response.statusCode;\n        });\n      } catch (e) {\n        print(e.toString());\n      }\n    }\n\n    TextEditingController controller = TextEditingController();\n    final defaultPinTheme = PinTheme(\n      width: 56,\n      height: 56,\n      textStyle: TextStyle(\n          fontSize: 20,\n          color: Color.fromRGBO(30, 60, 87, 1),\n          fontWeight: FontWeight.w600),\n      decoration: BoxDecoration(\n        border: Border.all(color: Color.fromRGBO(234, 239, 243, 1)),\n        borderRadius: BorderRadius.circular(20),\n      ),\n    );\n\n    final focusedPinTheme = defaultPinTheme.copyDecorationWith(\n      border: Border.all(color: Color.fromRGBO(114, 178, 238, 1)),\n      borderRadius: BorderRadius.circular(8),\n    );\n\n    final submittedPinTheme = defaultPinTheme.copyWith(\n      decoration: defaultPinTheme.decoration?.copyWith(\n        color: Color.fromRGBO(234, 239, 243, 1),\n      ),\n    );\n\n    return Scaffold(\n      backgroundColor:\n          ThemeManeger().checkIsDark(context) ? primaryColor : Colors.white,\n      extendBodyBehindAppBar: true,\n      appBar: AppBar(\n        backgroundColor: Colors.transparent,\n        leading: IconButton(\n          onPressed: () {\n            Navigator.pop(context);\n          },\n          icon: Icon(\n            Icons.arrow_back_ios_rounded,\n            color: ThemeManeger().checkIsDark(context)\n                ? Colors.white\n                : Colors.black,\n          ),\n        ),\n        elevation: 0,\n      ),\n      body: Container(\n        margin: EdgeInsets.only(left: 25, right: 25),\n        alignment: Alignment.center,\n        child: SingleChildScrollView(\n          child: Column(\n            mainAxisAlignment: MainAxisAlignment.center,\n            children: [\n              Image.asset(\n                'assets/otp.png',\n                width: 150,\n                height: 150,\n              ),\n              SizedBox(\n                height: 25,\n              ),\n              Text(\n                &quot;Phone Verification&quot;,\n                style: TextStyle(\n                    fontSize: 22,\n                    fontWeight: FontWeight.bold,\n                    color: ThemeManeger().checkIsDark(context)\n                        ? Colors.white\n                        : Colors.black),\n              ),\n              SizedBox(\n                height: 10,\n              ),\n              Text(\n                &quot;We need to register your phone without getting started!&quot;,\n                style: TextStyle(\n                    fontSize: 16,\n                    color: ThemeManeger().checkIsDark(context)\n                        ? Colors.white\n                        : Colors.black),\n                textAlign: TextAlign.center,\n              ),\n              SizedBox(\n                height: 30,\n              ),\n              Pinput(\n                length: 6,\n                controller: controller,\n                showCursor: true,\n                onCompleted: (pin) =&gt; print(pin),\n              ),\n              SizedBox(\n                height: 20,\n              ),\n              SizedBox(\n                width: double.infinity,\n                height: 45,\n                child: ElevatedButton(\n                  style: ElevatedButton.styleFrom(\n                      backgroundColor: tabColor,\n                      shape: RoundedRectangleBorder(\n                          borderRadius: BorderRadius.circular(10))),\n                  onPressed: () {\n                    sendOTP(controller.text);\n                    if (statusCode != null) {\n                      if (statusCode == 200) {\n                        Navigator.pushReplacement(\n                          context,\n                          MaterialPageRoute(\n                            builder: (builder) =&gt; HomeScreen(\n                              chatModels: widget.chatModels,\n                              sourceChat: widget.sourceChat,\n                            ),\n                          ),\n                        );\n                      } else {\n                        showSnackBar(context: context, content: &quot;try again&quot;);\n                      }\n                    }\n                    else {\n                      showSnackBar(context: context, content: &quot;check your connection&quot;);\n                    }\n                  },\n                  child: const Text(\n                    &quot;Verify Phone Number&quot;,\n                    style: TextStyle(),\n                  ),\n                ),\n              ),\n              Row(\n                children: [\n                  TextButton(\n                      onPressed: () {\n                        Navigator.pop(context);\n                      },\n                      child: Text(\n                        &quot;Edit Phone Number ?&quot;,\n                        style: TextStyle(\n                            color: ThemeManeger().checkIsDark(context)\n                                ? Colors.white\n                                : Colors.black),\n                      ))\n                ],\n              )\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n\n</code></pre>\n",
        "codigo": [
            "import 'dart:async';\nimport 'dart:convert';\n\nimport 'package:flutter/material.dart';\nimport 'package:http/http.dart';\nimport 'package:pinput/pinput.dart';\nimport 'package:whatsapp/Model/ChatModel.dart';\nimport 'package:whatsapp/Screens/home/HomeScreen.dart';\nimport 'package:whatsapp/common/utils/utils.dart';\nimport 'package:whatsapp/constants/colors.dart';\nimport 'package:whatsapp/utils/theme_manager.dart';\n\nclass OTPScreen extends StatefulWidget {\n  const OTPScreen(\n      {Key? key,\n      required this.chatModels,\n      required this.sourceChat,\n      required this.phoneNumber})\n      : super(key: key);\n  final List<ChatModel> chatModels;\n  final ChatModel sourceChat;\n  final String phoneNumber;\n\n  @override\n  State<OTPScreen> createState() => _OTPScreenState();\n}\n\nclass _OTPScreenState extends State<OTPScreen> {\n  @override\n  Widget build(BuildContext context) {\n    Map otp = {};\n    int? statusCode;\n    bool isLoading = false;\n    bool timeOut = false;\n    void sendOTP(String otp) async {\n      try {\n        Response response = await post(\n            Uri.parse(\"https://2858-151-240-216-221.ngrok-free.app/otp-api/\"),\n            body: {\"otp\": otp, \"phone_number\": widget.phoneNumber});\n        print(response.body);\n        setState(() {\n          statusCode = response.statusCode;\n        });\n      } catch (e) {\n        print(e.toString());\n      }\n    }\n\n    TextEditingController controller = TextEditingController();\n    final defaultPinTheme = PinTheme(\n      width: 56,\n      height: 56,\n      textStyle: TextStyle(\n          fontSize: 20,\n          color: Color.fromRGBO(30, 60, 87, 1),\n          fontWeight: FontWeight.w600),\n      decoration: BoxDecoration(\n        border: Border.all(color: Color.fromRGBO(234, 239, 243, 1)),\n        borderRadius: BorderRadius.circular(20),\n      ),\n    );\n\n    final focusedPinTheme = defaultPinTheme.copyDecorationWith(\n      border: Border.all(color: Color.fromRGBO(114, 178, 238, 1)),\n      borderRadius: BorderRadius.circular(8),\n    );\n\n    final submittedPinTheme = defaultPinTheme.copyWith(\n      decoration: defaultPinTheme.decoration?.copyWith(\n        color: Color.fromRGBO(234, 239, 243, 1),\n      ),\n    );\n\n    return Scaffold(\n      backgroundColor:\n          ThemeManeger().checkIsDark(context) ? primaryColor : Colors.white,\n      extendBodyBehindAppBar: true,\n      appBar: AppBar(\n        backgroundColor: Colors.transparent,\n        leading: IconButton(\n          onPressed: () {\n            Navigator.pop(context);\n          },\n          icon: Icon(\n            Icons.arrow_back_ios_rounded,\n            color: ThemeManeger().checkIsDark(context)\n                ? Colors.white\n                : Colors.black,\n          ),\n        ),\n        elevation: 0,\n      ),\n      body: Container(\n        margin: EdgeInsets.only(left: 25, right: 25),\n        alignment: Alignment.center,\n        child: SingleChildScrollView(\n          child: Column(\n            mainAxisAlignment: MainAxisAlignment.center,\n            children: [\n              Image.asset(\n                'assets/otp.png',\n                width: 150,\n                height: 150,\n              ),\n              SizedBox(\n                height: 25,\n              ),\n              Text(\n                \"Phone Verification\",\n                style: TextStyle(\n                    fontSize: 22,\n                    fontWeight: FontWeight.bold,\n                    color: ThemeManeger().checkIsDark(context)\n                        ? Colors.white\n                        : Colors.black),\n              ),\n              SizedBox(\n                height: 10,\n              ),\n              Text(\n                \"We need to register your phone without getting started!\",\n                style: TextStyle(\n                    fontSize: 16,\n                    color: ThemeManeger().checkIsDark(context)\n                        ? Colors.white\n                        : Colors.black),\n                textAlign: TextAlign.center,\n              ),\n              SizedBox(\n                height: 30,\n              ),\n              Pinput(\n                length: 6,\n                controller: controller,\n                showCursor: true,\n                onCompleted: (pin) => print(pin),\n              ),\n              SizedBox(\n                height: 20,\n              ),\n              SizedBox(\n                width: double.infinity,\n                height: 45,\n                child: ElevatedButton(\n                  style: ElevatedButton.styleFrom(\n                      backgroundColor: tabColor,\n                      shape: RoundedRectangleBorder(\n                          borderRadius: BorderRadius.circular(10))),\n                  onPressed: () {\n                    sendOTP(controller.text);\n                    if (statusCode != null) {\n                      if (statusCode == 200) {\n                        Navigator.pushReplacement(\n                          context,\n                          MaterialPageRoute(\n                            builder: (builder) => HomeScreen(\n                              chatModels: widget.chatModels,\n                              sourceChat: widget.sourceChat,\n                            ),\n                          ),\n                        );\n                      } else {\n                        showSnackBar(context: context, content: \"try again\");\n                      }\n                    }\n                    else {\n                      showSnackBar(context: context, content: \"check your connection\");\n                    }\n                  },\n                  child: const Text(\n                    \"Verify Phone Number\",\n                    style: TextStyle(),\n                  ),\n                ),\n              ),\n              Row(\n                children: [\n                  TextButton(\n                      onPressed: () {\n                        Navigator.pop(context);\n                      },\n                      child: Text(\n                        \"Edit Phone Number ?\",\n                        style: TextStyle(\n                            color: ThemeManeger().checkIsDark(context)\n                                ? Colors.white\n                                : Colors.black),\n                      ))\n                ],\n              )\n            ],\n          ),\n        ),\n      ),\n    );\n  }\n}\n\n"
        ]
    },
    {
        "titulo": "Handling errors in void Dart function marked async",
        "score": 0,
        "views": 121,
        "respostas": 2,
        "tags": [
            "dart",
            "error-handling",
            "async-await",
            "try-catch",
            "void"
        ],
        "link": "https://stackoverflow.com/questions/77117558/handling-errors-in-void-dart-function-marked-async",
        "conteudo_html": "<p>I am designing an API and would like to handle a situation when a user marks a <code>void</code> function <code>async</code> by mistake.</p>\n<p>The simplified code is listed below:</p>\n<pre><code>void test(void Function() run) {\n  try {\n    for (var i = 0; i &lt; 3; i++) {\n      print(i);\n      run();\n    }\n  } catch (e) {\n    print(e);\n  } finally {\n    print('in finally block.');\n  }\n}\n\nvoid errorThrower(String message) {\n  print('in errorThrower ');\n  throw message;\n}\n\nvoid main(List&lt;String&gt; args) {\n  test(() async{  // &lt;-------- marked async by API user's mistake\n    print('in run ...');\n    errorThrower('error thrown in test');\n  });\n}\n</code></pre>\n<p>If the function is <strong>not</strong> marked <code>async</code> the program output is as expected and the error is\nthrown, caught, handled, and the <code>finally</code> block is executed:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ dart main.dart\n0\nin run ...\nin errorThrower \nerror thrown in test\nin finally block.\n</code></pre>\n<p>However, if the function is marked <code>async</code> the console output is:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ dart main.dart \n0\nin run ...\nin errorThrower \n1\nin run ...\nin errorThrower \n2\nin run ...\nin errorThrower \nin finally block.\nUnhandled exception:\nerror thrown in test\n#0      errorThrower (file:///home/dan/WORK/DartProjects/benchmark_runner/bin/throws_test.dart:16:3)\n#1      main.&lt;anonymous closure&gt; (file:///main.dart:22:5)\n#2      test (file:///main.dart:5:10)\n#3      main (file:///main.dart:20:3)\n#4      _delayEntrypointInvocation.&lt;anonymous closure&gt; (dart:isolate-patch/isolate_patch.dart:294:33)\n#5      _RawReceivePort._handleMessage (dart:isolate-patch/isolate_patch.dart:189:12)\n</code></pre>\n<p>What is going on? I tried a debugger, the program steps into <code>run()</code> then <code>errorThrower</code> and then the loop continues.\nIt looks like an unawaited future error but I don't know how to catch and handle it since a <code>void</code> function cannot be awaited.</p>\n<p>Is there any way I can catch  and handle the error without changing the signature o f <code>run()</code>?</p>\n",
        "codigo": [
            "void",
            "async",
            "void test(void Function() run) {\n  try {\n    for (var i = 0; i < 3; i++) {\n      print(i);\n      run();\n    }\n  } catch (e) {\n    print(e);\n  } finally {\n    print('in finally block.');\n  }\n}\n\nvoid errorThrower(String message) {\n  print('in errorThrower ');\n  throw message;\n}\n\nvoid main(List<String> args) {\n  test(() async{  // <-------- marked async by API user's mistake\n    print('in run ...');\n    errorThrower('error thrown in test');\n  });\n}\n",
            "async",
            "finally",
            "$ dart main.dart\n0\nin run ...\nin errorThrower \nerror thrown in test\nin finally block.\n",
            "async",
            "$ dart main.dart \n0\nin run ...\nin errorThrower \n1\nin run ...\nin errorThrower \n2\nin run ...\nin errorThrower \nin finally block.\nUnhandled exception:\nerror thrown in test\n#0      errorThrower (file:///home/dan/WORK/DartProjects/benchmark_runner/bin/throws_test.dart:16:3)\n#1      main.<anonymous closure> (file:///main.dart:22:5)\n#2      test (file:///main.dart:5:10)\n#3      main (file:///main.dart:20:3)\n#4      _delayEntrypointInvocation.<anonymous closure> (dart:isolate-patch/isolate_patch.dart:294:33)\n#5      _RawReceivePort._handleMessage (dart:isolate-patch/isolate_patch.dart:189:12)\n",
            "run()",
            "errorThrower",
            "void",
            "run()"
        ]
    },
    {
        "titulo": "Flutter getting headers with module interfaces is unsupported error on MacOs",
        "score": 1,
        "views": 526,
        "respostas": 0,
        "tags": [
            "ios",
            "swift",
            "flutter",
            "xcode",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77112585/flutter-getting-headers-with-module-interfaces-is-unsupported-error-on-macos",
        "conteudo_html": "<p>Newly i received <code>macos</code> and i'm trying to run <code>flutter</code> project on that after installing some dependencies, my <code>flutter</code> project developed on <code>windows</code> and when i try to run that on <code>silumator</code> i get this error, i try to remove <code>ios</code> folder before and run this command into project folder:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>flutter create .\n</code></pre>\n<p>Error log:</p>\n<pre><code>Swift Compiler Error (Xcode): Using bridging headers with module interfaces is unsupported\n\nUncategorized (Xcode): Command SwiftDriver emitted errors but did not return a nonzero exit code to indicate failure\n\nError (Xcode): no such module '__ObjC'\n/Users/USERNAME/Library/Developer/Xcode/DerivedData/Runner-dykfzfnvttucudfjiighobctenhj/Build/Intermediates.noindex/Runner.build/Debug-iphonesimulator/Runner.build/Objects-normal/arm64/Runner.private.swiftinterface:9:18\n\nError (Xcode): failed to verify module interface of 'Runner' due to the errors above; the textual interface may be broken by project issues or a compiler bug\n/Users/USERNAME/Library/Developer/Xcode/DerivedData/Runner-dykfzfnvttucudfjiighobctenhj/Build/Intermediates.noindex/Runner.build/Debug-iphonesimulator/Runner.build/Objects-normal/arm64/Runner.private.swiftinterface:0:0\n\nError (Xcode): no such module '__ObjC'\n/Users/USERNAME/Library/Developer/Xcode/DerivedData/Runner-dykfzfnvttucudfjiighobctenhj/Build/Intermediates.noindex/Runner.build/Debug-iphonesimulator/Runner.build/Objects-normal/arm64/Runner.swiftinterface:9:18\n\nError (Xcode): failed to verify module interface of 'Runner' due to the errors above; the textual interface may be broken by project issues or a compiler bug\n/Users/USERNAME/Library/Developer/Xcode/DerivedData/Runner-dykfzfnvttucudfjiighobctenhj/Build/Intermediates.noindex/Runner.build/Debug-iphonesimulator/Runner.build/Objects-normal/arm64/Runner.swiftinterface:0:0\n\nCould not build the application for the simulator.\nError launching application on iPhone 14.\n</code></pre>\n<p>Screenshot 1:\n<a href=\"https://i.sstatic.net/OHe7v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/OHe7v.png\" alt=\"enter image description here\" /></a></p>\n<p>Screenshot 2:\n<a href=\"https://i.sstatic.net/iHXgY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/iHXgY.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-swift prettyprint-override\"><code># Uncomment this line to define a global platform for your project\nplatform :ios, '11.0'\n\n# CocoaPods analytics sends network stats synchronously affecting flutter build latency.\nENV['COCOAPODS_DISABLE_STATS'] = 'true'\n\n#\n#\n#\n#\n#\n\npost_install do |installer|\n  installer.pods_project.targets.each do |target|\n    flutter_additional_ios_build_settings(target)\n    target.build_configurations.each do |config|\n      config.build_settings['BUILD_LIBRARY_FOR_DISTRIBUTION'] = 'NO'\n    end\n  end\nend\n</code></pre>\n<p>installing <code>pod</code>s:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>➜  ios pod install\nAnalyzing dependencies\nDownloading dependencies\nGenerating Pods project\nIntegrating client project\nPod installation complete! There are 17 dependencies from the Podfile and 21 total pods installed.\n\n[!] CocoaPods did not set the base configuration of your project because your project already has a custom config set. In order for CocoaPods integration to work at all, please either set the base configurations of the target `Runner` to `Target Support Files/Pods-Runner/Pods-Runner.profile.xcconfig` or include the `Target Support Files/Pods-Runner/Pods-Runner.profile.xcconfig` in your build configuration (`Flutter/Release.xcconfig`).\n\n[!] The `Runner [Debug]` target overrides the `ENABLE_BITCODE` build setting defined in `Pods/Target Support Files/Pods-Runner/Pods-Runner.debug.xcconfig'. This can lead to problems with the CocoaPods installation\n    - Use the `$(inherited)` flag, or\n    - Remove the build settings from the target.\n\n[!] The `Runner [Release]` target overrides the `ENABLE_BITCODE` build setting defined in `Pods/Target Support Files/Pods-Runner/Pods-Runner.release.xcconfig'. This can lead to problems with the CocoaPods installation\n    - Use the `$(inherited)` flag, or\n    - Remove the build settings from the target.\n\n[!] The `Runner [Profile]` target overrides the `ENABLE_BITCODE` build setting defined in `Pods/Target Support Files/Pods-Runner/Pods-Runner.profile.xcconfig'. This can lead to problems with the CocoaPods installation\n    - Use the `$(inherited)` flag, or\n    - Remove the build settings from the target.\n</code></pre>\n",
        "codigo": [
            "macos",
            "flutter",
            "flutter",
            "windows",
            "silumator",
            "ios",
            "flutter create .\n",
            "Swift Compiler Error (Xcode): Using bridging headers with module interfaces is unsupported\n\nUncategorized (Xcode): Command SwiftDriver emitted errors but did not return a nonzero exit code to indicate failure\n\nError (Xcode): no such module '__ObjC'\n/Users/USERNAME/Library/Developer/Xcode/DerivedData/Runner-dykfzfnvttucudfjiighobctenhj/Build/Intermediates.noindex/Runner.build/Debug-iphonesimulator/Runner.build/Objects-normal/arm64/Runner.private.swiftinterface:9:18\n\nError (Xcode): failed to verify module interface of 'Runner' due to the errors above; the textual interface may be broken by project issues or a compiler bug\n/Users/USERNAME/Library/Developer/Xcode/DerivedData/Runner-dykfzfnvttucudfjiighobctenhj/Build/Intermediates.noindex/Runner.build/Debug-iphonesimulator/Runner.build/Objects-normal/arm64/Runner.private.swiftinterface:0:0\n\nError (Xcode): no such module '__ObjC'\n/Users/USERNAME/Library/Developer/Xcode/DerivedData/Runner-dykfzfnvttucudfjiighobctenhj/Build/Intermediates.noindex/Runner.build/Debug-iphonesimulator/Runner.build/Objects-normal/arm64/Runner.swiftinterface:9:18\n\nError (Xcode): failed to verify module interface of 'Runner' due to the errors above; the textual interface may be broken by project issues or a compiler bug\n/Users/USERNAME/Library/Developer/Xcode/DerivedData/Runner-dykfzfnvttucudfjiighobctenhj/Build/Intermediates.noindex/Runner.build/Debug-iphonesimulator/Runner.build/Objects-normal/arm64/Runner.swiftinterface:0:0\n\nCould not build the application for the simulator.\nError launching application on iPhone 14.\n",
            "# Uncomment this line to define a global platform for your project\nplatform :ios, '11.0'\n\n# CocoaPods analytics sends network stats synchronously affecting flutter build latency.\nENV['COCOAPODS_DISABLE_STATS'] = 'true'\n\n#\n#\n#\n#\n#\n\npost_install do |installer|\n  installer.pods_project.targets.each do |target|\n    flutter_additional_ios_build_settings(target)\n    target.build_configurations.each do |config|\n      config.build_settings['BUILD_LIBRARY_FOR_DISTRIBUTION'] = 'NO'\n    end\n  end\nend\n",
            "pod",
            "➜  ios pod install\nAnalyzing dependencies\nDownloading dependencies\nGenerating Pods project\nIntegrating client project\nPod installation complete! There are 17 dependencies from the Podfile and 21 total pods installed.\n\n[!] CocoaPods did not set the base configuration of your project because your project already has a custom config set. In order for CocoaPods integration to work at all, please either set the base configurations of the target `Runner` to `Target Support Files/Pods-Runner/Pods-Runner.profile.xcconfig` or include the `Target Support Files/Pods-Runner/Pods-Runner.profile.xcconfig` in your build configuration (`Flutter/Release.xcconfig`).\n\n[!] The `Runner [Debug]` target overrides the `ENABLE_BITCODE` build setting defined in `Pods/Target Support Files/Pods-Runner/Pods-Runner.debug.xcconfig'. This can lead to problems with the CocoaPods installation\n    - Use the `$(inherited)` flag, or\n    - Remove the build settings from the target.\n\n[!] The `Runner [Release]` target overrides the `ENABLE_BITCODE` build setting defined in `Pods/Target Support Files/Pods-Runner/Pods-Runner.release.xcconfig'. This can lead to problems with the CocoaPods installation\n    - Use the `$(inherited)` flag, or\n    - Remove the build settings from the target.\n\n[!] The `Runner [Profile]` target overrides the `ENABLE_BITCODE` build setting defined in `Pods/Target Support Files/Pods-Runner/Pods-Runner.profile.xcconfig'. This can lead to problems with the CocoaPods installation\n    - Use the `$(inherited)` flag, or\n    - Remove the build settings from the target.\n"
        ]
    },
    {
        "titulo": "Flutter Widget Testing - Hive setup for testing",
        "score": 0,
        "views": 741,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "mobile-development",
            "flutter-hive"
        ],
        "link": "https://stackoverflow.com/questions/77105473/flutter-widget-testing-hive-setup-for-testing",
        "conteudo_html": "<p>I'm facing an issue while running widget tests for my Flutter app that uses Hive for local storage. I keep getting the error message: MissingPluginException(No implementation found for method getTemporaryDirectory on channel plugins.flutter.io/path_provider).</p>\n<p>I have found some info that said Hive is being initialised before the flutter engine and to use: WidgetsFlutterBinding.ensureInitialized(), to solve the issue. This causes the test to run until it times out.</p>\n<p>Here's a simplified version of my test setup:</p>\n<p>I have a hive_setup.dart file where I initialize Hive for testing using Hive.init() and open boxes.\nIn my widget test file, I use setUp to initialize Hive and tearDown to close it after each test case.</p>\n<p>The screen I am trying to test is a from which uses data stored in hive to display dropdown options. The functionality of the form widgets is what I am trying to test.</p>\n<p>Can someone please help me figure out what might be causing this issue and how to resolve it? Is there something I'm missing in my testing setup?</p>\n<p>Here's my code for reference:</p>\n<p>hive_setup.dart:</p>\n<pre><code>import 'package:dps_app/common/common.dart';\nimport 'package:hive_flutter/hive_flutter.dart';\nimport 'package:path_provider/path_provider.dart';\n\nFuture&lt;void&gt; initializeHiveForTesting() async {\n  final testHivePath = await getTemporaryDirectory();\n  Hive\n    ..init(testHivePath.path)\n    ..registerAdapter(ImageToUploadModelAdapter());\n  await Hive.openBox&lt;dynamic&gt;('settings');\n  await Hive.openBox&lt;ImageToUploadModel&gt;(tempImagesBoxKey);\n}\n\nFuture&lt;void&gt; closeHiveForTesting() async {\n  await Hive.close();\n}\n</code></pre>\n<p>Widget test file:</p>\n<pre><code>import 'package:dps_app/features/patients/patients.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:hooks_riverpod/hooks_riverpod.dart';\nimport 'hive_setup.dart';\n\nvoid main() {\n  TestWidgetsFlutterBinding.ensureInitialized();\n  late ProviderContainer container;\n\n  setUp(() async {\n    container = ProviderContainer(); // Create a new container for each test group\n    await initializeHiveForTesting();\n  });\n\n  tearDown(() async {\n    container.dispose(); // Dispose of the container after each test group\n    await closeHiveForTesting();\n  });\n  group('PatientAdd Widget Tests', () {\n    testWidgets('Form Validation - Valid Input', (WidgetTester tester) async {\n      WidgetsFlutterBinding.ensureInitialized();\n      await tester.pumpWidget(\n        const ProviderScope(\n          // parent: container,\n          child: PatientAdd(),\n        ),\n      );\n      // await tester.pumpAndSettle();\n      expect(find.byKey(const Key('firstName')), findsOneWidget);\n    });\n  });\n}\n\n</code></pre>\n<p>Any insights or suggestions would be greatly appreciated. Thank you!</p>\n",
        "codigo": [
            "import 'package:dps_app/common/common.dart';\nimport 'package:hive_flutter/hive_flutter.dart';\nimport 'package:path_provider/path_provider.dart';\n\nFuture<void> initializeHiveForTesting() async {\n  final testHivePath = await getTemporaryDirectory();\n  Hive\n    ..init(testHivePath.path)\n    ..registerAdapter(ImageToUploadModelAdapter());\n  await Hive.openBox<dynamic>('settings');\n  await Hive.openBox<ImageToUploadModel>(tempImagesBoxKey);\n}\n\nFuture<void> closeHiveForTesting() async {\n  await Hive.close();\n}\n",
            "import 'package:dps_app/features/patients/patients.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:hooks_riverpod/hooks_riverpod.dart';\nimport 'hive_setup.dart';\n\nvoid main() {\n  TestWidgetsFlutterBinding.ensureInitialized();\n  late ProviderContainer container;\n\n  setUp(() async {\n    container = ProviderContainer(); // Create a new container for each test group\n    await initializeHiveForTesting();\n  });\n\n  tearDown(() async {\n    container.dispose(); // Dispose of the container after each test group\n    await closeHiveForTesting();\n  });\n  group('PatientAdd Widget Tests', () {\n    testWidgets('Form Validation - Valid Input', (WidgetTester tester) async {\n      WidgetsFlutterBinding.ensureInitialized();\n      await tester.pumpWidget(\n        const ProviderScope(\n          // parent: container,\n          child: PatientAdd(),\n        ),\n      );\n      // await tester.pumpAndSettle();\n      expect(find.byKey(const Key('firstName')), findsOneWidget);\n    });\n  });\n}\n\n"
        ]
    },
    {
        "titulo": "Pub/Cache/hosted/pub.dev Error after update Flutter to 3.13.3",
        "score": 2,
        "views": 2476,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "gradle",
            "pubspec"
        ],
        "link": "https://stackoverflow.com/questions/77095489/pub-cache-hosted-pub-dev-error-after-update-flutter-to-3-13-3",
        "conteudo_html": "<p>I recently update my Flutter app from Flutter 3.0.4 to Flutter 3.13.3.</p>\n<p>To do this:</p>\n<ul>\n<li>I changed to flutter channel stable</li>\n<li>I used commands flutter upgrade, flutter clean and flutter pub get</li>\n<li>I made a flutter doctor -v, everything was good</li>\n<li>Next, when I needed to build, logs told me to update one of my package intl from 0.17.0 to 0.18.1</li>\n</ul>\n<p>And now I have multiple same errors in logs, like :</p>\n<pre><code>\n[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_math_fork-0.4.2+2/lib/src/widgets/selection/gesture_detector_builder.dart:186:20: Error: The argument type 'void Function(TapDownDetails)' can't be assigned to the parameter type 'void Function(TapDragDownDetails)?'.\n - 'TapDownDetails' is from 'package:flutter/src/gestures/tap.dart' ('[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/tap.dart').\n - 'TapDragDownDetails' is from 'package:flutter/src/widgets/tap_and_drag_gestures.dart' ('[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/widgets/tap_and_drag_gestures.dart').\n        onTapDown: onTapDown,\n\n                   ^\n</code></pre>\n<p>What I did before ask help on Stack Overflow :</p>\n<p>I deleted my pubspeck.lock and my .gradle\nI made a flutter pub cache repair\nNext, I flutter clean &amp;&amp; flutter pub get</p>\n<p>So now, my issue is still the same...</p>\n<hr />\n<p><strong>Flutter doctor</strong></p>\n<pre><code>[√] Flutter (Channel stable, 3.13.3, on Microsoft Windows [version 10.0.19045.3324], locale fr-FR)\n    • Flutter version 3.13.3 on channel stable at [MY PATH]\\app-flutter\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 2524052335 (6 days ago), 2023-09-06 14:32:31 -0700\n    • Engine revision b8d35810e9\n    • Dart version 3.1.1\n    • DevTools version 2.25.0\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\n    • Android SDK at [MY PATH]\\AppData\\Local\\Android\\Sdk\n    • Platform android-33, build-tools 33.0.0\n    • ANDROID_HOME = [MY PATH]\\AppData\\Local\\Android\\sdk\\platform-tools\\adb.exe\n    • ANDROID_SDK_ROOT = [MY PATH]\\AppData\\Local\\Android\\sdk\\platform-tools\\adb.exe\n    • Java binary at: C:\\Program Files\\Android\\Android Studio1\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.3.4)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.3.32901.215\n    • Windows 10 SDK version 10.0.19041.0\n\n[√] Android Studio (version 2022.3)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio1\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n\n[√] VS Code (version 1.59.1)\n    • VS Code at [MY PATH]\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.25.0\n\n[√] Connected device (4 available)\n    • KB2005 (mobile)   • f07efc46 • android-arm64  • Android 13 (API 33)\n    • Windows (desktop) • windows  • windows-x64    • Microsoft Windows [version 10.0.19045.3324]\n    • Chrome (web)      • chrome   • web-javascript • Google Chrome 116.0.5845.188\n    • Edge (web)        • edge     • web-javascript • Microsoft Edge 116.0.1938.69\n\n[√] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n<p><strong>My app build.gradle informations :</strong></p>\n<p>compileSdkVersion 33\nminSdkVersion 21\ntargetSdkVersion 33</p>\n<p><strong>My build.gradle version :</strong></p>\n<p>ext.kotlin_version = '1.6.21'\nclasspath 'com.android.tools.build:gradle:4.1.0'</p>\n<p>**My complete logs error: **</p>\n<pre><code>Launching lib\\main.dart on KB2005 in debug mode...\nRunning Gradle task 'assemble[APP]Debug'...\nWarning: Mapping new ns http://schemas.android.com/repository/android/common/02 to old ns http://schemas.android.com/repository/android/common/01\nWarning: Mapping new ns http://schemas.android.com/repository/android/generic/02 to old ns http://schemas.android.com/repository/android/generic/01\nWarning: Mapping new ns http://schemas.android.com/sdk/android/repo/addon2/02 to old ns http://schemas.android.com/sdk/android/repo/addon2/01\nWarning: Mapping new ns http://schemas.android.com/sdk/android/repo/addon2/03 to old ns http://schemas.android.com/sdk/android/repo/addon2/01\nWarning: Mapping new ns http://schemas.android.com/sdk/android/repo/repository2/02 to old ns http://schemas.android.com/sdk/android/repo/repository2/01\nWarning: Mapping new ns http://schemas.android.com/sdk/android/repo/repository2/03 to old ns http://schemas.android.com/sdk/android/repo/repository2/01\nWarning: Mapping new ns http://schemas.android.com/sdk/android/repo/sys-img2/03 to old ns http://schemas.android.com/sdk/android/repo/sys-img2/01\nWarning: Mapping new ns http://schemas.android.com/sdk/android/repo/sys-img2/02 to old ns http://schemas.android.com/sdk/android/repo/sys-img2/01\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_math_fork-0.4.2+2/lib/src/widgets/selection/gesture_detector_builder.dart:186:20: Error: The argument type 'void Function(TapDownDetails)' can't be assigned to the parameter type 'void Function(TapDragDownDetails)?'.\n - 'TapDownDetails' is from 'package:flutter/src/gestures/tap.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/tap.dart').\n - 'TapDragDownDetails' is from 'package:flutter/src/widgets/tap_and_drag_gestures.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/widgets/tap_and_drag_gestures.dart').\n        onTapDown: onTapDown,\n                   ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_math_fork-0.4.2+2/lib/src/widgets/selection/gesture_detector_builder.dart:190:24: Error: The argument type 'void Function(TapUpDetails)' can't be assigned to the parameter type 'void Function(TapDragUpDetails)?'.\n - 'TapUpDetails' is from 'package:flutter/src/gestures/tap.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/tap.dart').\n - 'TapDragUpDetails' is from 'package:flutter/src/widgets/tap_and_drag_gestures.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/widgets/tap_and_drag_gestures.dart').\n        onSingleTapUp: onSingleTapUp,\n                       ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_math_fork-0.4.2+2/lib/src/widgets/selection/gesture_detector_builder.dart:195:26: Error: The argument type 'void Function(TapDownDetails)' can't be assigned to the parameter type 'void Function(TapDragDownDetails)?'.\n - 'TapDownDetails' is from 'package:flutter/src/gestures/tap.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/tap.dart').\n - 'TapDragDownDetails' is from 'package:flutter/src/widgets/tap_and_drag_gestures.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/widgets/tap_and_drag_gestures.dart').\n        onDoubleTapDown: onDoubleTapDown,\n                         ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_math_fork-0.4.2+2/lib/src/widgets/selection/gesture_detector_builder.dart:196:31: Error: The argument type 'void Function(DragStartDetails)' can't be assigned to the parameter type 'void Function(TapDragStartDetails)?'.\n - 'DragStartDetails' is from 'package:flutter/src/gestures/drag_details.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/drag_details.dart').\n - 'TapDragStartDetails' is from 'package:flutter/src/widgets/tap_and_drag_gestures.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/widgets/tap_and_drag_gestures.dart').\n        onDragSelectionStart: onDragSelectionStart,\n                              ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_math_fork-0.4.2+2/lib/src/widgets/selection/gesture_detector_builder.dart:197:32: Error: The argument type 'void Function(DragStartDetails, DragUpdateDetails)' can't be assigned to the parameter type 'void Function(TapDragUpdateDetails)?'.\n - 'DragStartDetails' is from 'package:flutter/src/gestures/drag_details.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/drag_details.dart').\n - 'DragUpdateDetails' is from 'package:flutter/src/gestures/drag_details.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/drag_details.dart').\n - 'TapDragUpdateDetails' is from 'package:flutter/src/widgets/tap_and_drag_gestures.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/widgets/tap_and_drag_gestures.dart').\n        onDragSelectionUpdate: onDragSelectionUpdate,\n                               ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_math_fork-0.4.2+2/lib/src/widgets/selection/gesture_detector_builder.dart:198:29: Error: The argument type 'void Function(DragEndDetails)' can't be assigned to the parameter type 'void Function(TapDragEndDetails)?'.\n - 'DragEndDetails' is from 'package:flutter/src/gestures/drag_details.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/drag_details.dart').\n - 'TapDragEndDetails' is from 'package:flutter/src/widgets/tap_and_drag_gestures.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/widgets/tap_and_drag_gestures.dart').\n        onDragSelectionEnd: onDragSelectionEnd,\n                            ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_layout_grid-1.0.6/lib/src/widgets/placement.dart:82:55: Error: A value of type 'RenderObject?' can't be assigned to a variable of type 'AbstractNode?'.\n - 'RenderObject' is from 'package:flutter/src/rendering/object.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/rendering/object.dart').\n - 'AbstractNode' is from 'package:flutter/src/foundation/node.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/foundation/node.dart').\n      final AbstractNode? targetParent = renderObject.parent;\n                                                      ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_layout_grid-1.0.6/lib/src/widgets/placement.dart:83:58: Error: The method 'markNeedsPlacement' isn't defined for the class 'AbstractNode?'.\n - 'AbstractNode' is from 'package:flutter/src/foundation/node.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/foundation/node.dart').\nTry correcting the name to the name of an existing method, or defining a method named 'markNeedsPlacement'.\n      if (targetParent is RenderLayoutGrid) targetParent.markNeedsPlacement();\n                                                         ^^^^^^^^^^^^^^^^^^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_layout_grid-1.0.6/lib/src/widgets/placement.dart:84:54: Error: The method 'markNeedsLayout' isn't defined for the class 'AbstractNode?'.\n - 'AbstractNode' is from 'package:flutter/src/foundation/node.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/foundation/node.dart').\nTry correcting the name to the name of an existing method, or defining a method named 'markNeedsLayout'.\n      if (targetParent is RenderObject) targetParent.markNeedsLayout();\n                                                     ^^^^^^^^^^^^^^^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_layout_grid-1.0.6/lib/src/widgets/placement.dart:132:55: Error: A value of type 'RenderObject?' can't be assigned to a variable of type 'AbstractNode?'.\n - 'RenderObject' is from 'package:flutter/src/rendering/object.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/rendering/object.dart').\n - 'AbstractNode' is from 'package:flutter/src/foundation/node.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/foundation/node.dart').\n      final AbstractNode? targetParent = renderObject.parent;\n                                                      ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_layout_grid-1.0.6/lib/src/widgets/placement.dart:133:58: Error: The method 'markNeedsPlacement' isn't defined for the class 'AbstractNode?'.\n - 'AbstractNode' is from 'package:flutter/src/foundation/node.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/foundation/node.dart').\nTry correcting the name to the name of an existing method, or defining a method named 'markNeedsPlacement'.\n      if (targetParent is RenderLayoutGrid) targetParent.markNeedsPlacement();\n                                                         ^^^^^^^^^^^^^^^^^^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_layout_grid-1.0.6/lib/src/widgets/placement.dart:134:54: Error: The method 'markNeedsLayout' isn't defined for the class 'AbstractNode?'.\n - 'AbstractNode' is from 'package:flutter/src/foundation/node.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/foundation/node.dart').\nTry correcting the name to the name of an existing method, or defining a method named 'markNeedsLayout'.\n      if (targetParent is RenderObject) targetParent.markNeedsLayout();\n                                                     ^^^^^^^^^^^^^^^\nTarget kernel_snapshot failed: Exception\n\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript '[MY PATH]\\app-flutter\\flutter\\packages\\flutter_tools\\gradle\\src\\main\\groovy\\flutter.groovy' line: 1297\n\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuild[APP]Debug'.\n&gt; Process 'command '[MY PATH]\\app-flutter\\flutter\\bin\\flutter.bat'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 11s\nException: Gradle task assemble[APP]Debug failed with exit code 1\n\n</code></pre>\n<p>What I did before ask help on Stack Overflow :</p>\n<p>I deleted my pubspeck.lock and my .gradle\nI made a flutter pub cache repair\nNext, I flutter clean &amp;&amp; flutter pub get</p>\n<p>So now, my issue is still the same...</p>\n",
        "codigo": [
            "\n[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_math_fork-0.4.2+2/lib/src/widgets/selection/gesture_detector_builder.dart:186:20: Error: The argument type 'void Function(TapDownDetails)' can't be assigned to the parameter type 'void Function(TapDragDownDetails)?'.\n - 'TapDownDetails' is from 'package:flutter/src/gestures/tap.dart' ('[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/tap.dart').\n - 'TapDragDownDetails' is from 'package:flutter/src/widgets/tap_and_drag_gestures.dart' ('[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/widgets/tap_and_drag_gestures.dart').\n        onTapDown: onTapDown,\n\n                   ^\n",
            "[√] Flutter (Channel stable, 3.13.3, on Microsoft Windows [version 10.0.19045.3324], locale fr-FR)\n    • Flutter version 3.13.3 on channel stable at [MY PATH]\\app-flutter\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 2524052335 (6 days ago), 2023-09-06 14:32:31 -0700\n    • Engine revision b8d35810e9\n    • Dart version 3.1.1\n    • DevTools version 2.25.0\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\n    • Android SDK at [MY PATH]\\AppData\\Local\\Android\\Sdk\n    • Platform android-33, build-tools 33.0.0\n    • ANDROID_HOME = [MY PATH]\\AppData\\Local\\Android\\sdk\\platform-tools\\adb.exe\n    • ANDROID_SDK_ROOT = [MY PATH]\\AppData\\Local\\Android\\sdk\\platform-tools\\adb.exe\n    • Java binary at: C:\\Program Files\\Android\\Android Studio1\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.3.4)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.3.32901.215\n    • Windows 10 SDK version 10.0.19041.0\n\n[√] Android Studio (version 2022.3)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio1\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-b2043.56-10027231)\n\n[√] VS Code (version 1.59.1)\n    • VS Code at [MY PATH]\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.25.0\n\n[√] Connected device (4 available)\n    • KB2005 (mobile)   • f07efc46 • android-arm64  • Android 13 (API 33)\n    • Windows (desktop) • windows  • windows-x64    • Microsoft Windows [version 10.0.19045.3324]\n    • Chrome (web)      • chrome   • web-javascript • Google Chrome 116.0.5845.188\n    • Edge (web)        • edge     • web-javascript • Microsoft Edge 116.0.1938.69\n\n[√] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n",
            "Launching lib\\main.dart on KB2005 in debug mode...\nRunning Gradle task 'assemble[APP]Debug'...\nWarning: Mapping new ns http://schemas.android.com/repository/android/common/02 to old ns http://schemas.android.com/repository/android/common/01\nWarning: Mapping new ns http://schemas.android.com/repository/android/generic/02 to old ns http://schemas.android.com/repository/android/generic/01\nWarning: Mapping new ns http://schemas.android.com/sdk/android/repo/addon2/02 to old ns http://schemas.android.com/sdk/android/repo/addon2/01\nWarning: Mapping new ns http://schemas.android.com/sdk/android/repo/addon2/03 to old ns http://schemas.android.com/sdk/android/repo/addon2/01\nWarning: Mapping new ns http://schemas.android.com/sdk/android/repo/repository2/02 to old ns http://schemas.android.com/sdk/android/repo/repository2/01\nWarning: Mapping new ns http://schemas.android.com/sdk/android/repo/repository2/03 to old ns http://schemas.android.com/sdk/android/repo/repository2/01\nWarning: Mapping new ns http://schemas.android.com/sdk/android/repo/sys-img2/03 to old ns http://schemas.android.com/sdk/android/repo/sys-img2/01\nWarning: Mapping new ns http://schemas.android.com/sdk/android/repo/sys-img2/02 to old ns http://schemas.android.com/sdk/android/repo/sys-img2/01\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_math_fork-0.4.2+2/lib/src/widgets/selection/gesture_detector_builder.dart:186:20: Error: The argument type 'void Function(TapDownDetails)' can't be assigned to the parameter type 'void Function(TapDragDownDetails)?'.\n - 'TapDownDetails' is from 'package:flutter/src/gestures/tap.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/tap.dart').\n - 'TapDragDownDetails' is from 'package:flutter/src/widgets/tap_and_drag_gestures.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/widgets/tap_and_drag_gestures.dart').\n        onTapDown: onTapDown,\n                   ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_math_fork-0.4.2+2/lib/src/widgets/selection/gesture_detector_builder.dart:190:24: Error: The argument type 'void Function(TapUpDetails)' can't be assigned to the parameter type 'void Function(TapDragUpDetails)?'.\n - 'TapUpDetails' is from 'package:flutter/src/gestures/tap.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/tap.dart').\n - 'TapDragUpDetails' is from 'package:flutter/src/widgets/tap_and_drag_gestures.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/widgets/tap_and_drag_gestures.dart').\n        onSingleTapUp: onSingleTapUp,\n                       ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_math_fork-0.4.2+2/lib/src/widgets/selection/gesture_detector_builder.dart:195:26: Error: The argument type 'void Function(TapDownDetails)' can't be assigned to the parameter type 'void Function(TapDragDownDetails)?'.\n - 'TapDownDetails' is from 'package:flutter/src/gestures/tap.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/tap.dart').\n - 'TapDragDownDetails' is from 'package:flutter/src/widgets/tap_and_drag_gestures.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/widgets/tap_and_drag_gestures.dart').\n        onDoubleTapDown: onDoubleTapDown,\n                         ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_math_fork-0.4.2+2/lib/src/widgets/selection/gesture_detector_builder.dart:196:31: Error: The argument type 'void Function(DragStartDetails)' can't be assigned to the parameter type 'void Function(TapDragStartDetails)?'.\n - 'DragStartDetails' is from 'package:flutter/src/gestures/drag_details.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/drag_details.dart').\n - 'TapDragStartDetails' is from 'package:flutter/src/widgets/tap_and_drag_gestures.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/widgets/tap_and_drag_gestures.dart').\n        onDragSelectionStart: onDragSelectionStart,\n                              ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_math_fork-0.4.2+2/lib/src/widgets/selection/gesture_detector_builder.dart:197:32: Error: The argument type 'void Function(DragStartDetails, DragUpdateDetails)' can't be assigned to the parameter type 'void Function(TapDragUpdateDetails)?'.\n - 'DragStartDetails' is from 'package:flutter/src/gestures/drag_details.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/drag_details.dart').\n - 'DragUpdateDetails' is from 'package:flutter/src/gestures/drag_details.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/drag_details.dart').\n - 'TapDragUpdateDetails' is from 'package:flutter/src/widgets/tap_and_drag_gestures.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/widgets/tap_and_drag_gestures.dart').\n        onDragSelectionUpdate: onDragSelectionUpdate,\n                               ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_math_fork-0.4.2+2/lib/src/widgets/selection/gesture_detector_builder.dart:198:29: Error: The argument type 'void Function(DragEndDetails)' can't be assigned to the parameter type 'void Function(TapDragEndDetails)?'.\n - 'DragEndDetails' is from 'package:flutter/src/gestures/drag_details.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/gestures/drag_details.dart').\n - 'TapDragEndDetails' is from 'package:flutter/src/widgets/tap_and_drag_gestures.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/widgets/tap_and_drag_gestures.dart').\n        onDragSelectionEnd: onDragSelectionEnd,\n                            ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_layout_grid-1.0.6/lib/src/widgets/placement.dart:82:55: Error: A value of type 'RenderObject?' can't be assigned to a variable of type 'AbstractNode?'.\n - 'RenderObject' is from 'package:flutter/src/rendering/object.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/rendering/object.dart').\n - 'AbstractNode' is from 'package:flutter/src/foundation/node.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/foundation/node.dart').\n      final AbstractNode? targetParent = renderObject.parent;\n                                                      ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_layout_grid-1.0.6/lib/src/widgets/placement.dart:83:58: Error: The method 'markNeedsPlacement' isn't defined for the class 'AbstractNode?'.\n - 'AbstractNode' is from 'package:flutter/src/foundation/node.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/foundation/node.dart').\nTry correcting the name to the name of an existing method, or defining a method named 'markNeedsPlacement'.\n      if (targetParent is RenderLayoutGrid) targetParent.markNeedsPlacement();\n                                                         ^^^^^^^^^^^^^^^^^^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_layout_grid-1.0.6/lib/src/widgets/placement.dart:84:54: Error: The method 'markNeedsLayout' isn't defined for the class 'AbstractNode?'.\n - 'AbstractNode' is from 'package:flutter/src/foundation/node.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/foundation/node.dart').\nTry correcting the name to the name of an existing method, or defining a method named 'markNeedsLayout'.\n      if (targetParent is RenderObject) targetParent.markNeedsLayout();\n                                                     ^^^^^^^^^^^^^^^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_layout_grid-1.0.6/lib/src/widgets/placement.dart:132:55: Error: A value of type 'RenderObject?' can't be assigned to a variable of type 'AbstractNode?'.\n - 'RenderObject' is from 'package:flutter/src/rendering/object.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/rendering/object.dart').\n - 'AbstractNode' is from 'package:flutter/src/foundation/node.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/foundation/node.dart').\n      final AbstractNode? targetParent = renderObject.parent;\n                                                      ^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_layout_grid-1.0.6/lib/src/widgets/placement.dart:133:58: Error: The method 'markNeedsPlacement' isn't defined for the class 'AbstractNode?'.\n - 'AbstractNode' is from 'package:flutter/src/foundation/node.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/foundation/node.dart').\nTry correcting the name to the name of an existing method, or defining a method named 'markNeedsPlacement'.\n      if (targetParent is RenderLayoutGrid) targetParent.markNeedsPlacement();\n                                                         ^^^^^^^^^^^^^^^^^^\n/[MY PATH]/AppData/Local/Pub/Cache/hosted/pub.dev/flutter_layout_grid-1.0.6/lib/src/widgets/placement.dart:134:54: Error: The method 'markNeedsLayout' isn't defined for the class 'AbstractNode?'.\n - 'AbstractNode' is from 'package:flutter/src/foundation/node.dart' ('/[MY PATH]/app-flutter/flutter/packages/flutter/lib/src/foundation/node.dart').\nTry correcting the name to the name of an existing method, or defining a method named 'markNeedsLayout'.\n      if (targetParent is RenderObject) targetParent.markNeedsLayout();\n                                                     ^^^^^^^^^^^^^^^\nTarget kernel_snapshot failed: Exception\n\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript '[MY PATH]\\app-flutter\\flutter\\packages\\flutter_tools\\gradle\\src\\main\\groovy\\flutter.groovy' line: 1297\n\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuild[APP]Debug'.\n> Process 'command '[MY PATH]\\app-flutter\\flutter\\bin\\flutter.bat'' finished with non-zero exit value 1\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 11s\nException: Gradle task assemble[APP]Debug failed with exit code 1\n\n"
        ]
    },
    {
        "titulo": "Simple Dart test script reports a fail on async request",
        "score": 0,
        "views": 20,
        "respostas": 0,
        "tags": [
            "dart",
            "testing"
        ],
        "link": "https://stackoverflow.com/questions/77086090/simple-dart-test-script-reports-a-fail-on-async-request",
        "conteudo_html": "<p>I have some code that works but I want to write some test scripts. The tests aren't completing and I'm not sure why.</p>\n<p>The Test Script</p>\n<pre><code>import 'package:members_info/models/digital_card_model.dart';\nimport 'package:members_info/network/network_digital_card.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nvoid main() {\n  DigitalCardModel testAndrew = DigitalCardModel.fromJson({\n&quot;name&quot;:&quot;Andrew&quot;,\n    &quot;phone&quot;: &quot;&quot;,\n    &quot;expired&quot;: &quot;Y&quot;,\n    &quot;lapsing&quot;: &quot;Y&quot;,\n    &quot;externalid&quot;: &quot;29033&quot;\n  });\n\n  DigitalCardModel testSarah = DigitalCardModel.fromJson({\n&quot;name&quot;:&quot;Sarah&quot;,\n    &quot;phone&quot;: &quot;&quot;,\n    &quot;expired&quot;: &quot;N&quot;,\n    &quot;lapsing&quot;: &quot;N&quot;,\n    &quot;externalid&quot;: &quot;13&quot;\n  });\n\n  group(&quot;Test DigitalCardModel request&quot;, () {\n    test('Andrew', () async {\n      DigitalCardModel digitalCard =\n          await NetworkDigitalCard().getDigitalCard('andrew@acme.com');\n\n      expect(digitalCard, testAndrew);\n    });\n    test('Sarah', () async {\n      DigitalCardModel digitalCard =\n          await NetworkDigitalCard().getDigitalCard('sarah@acme.com');\n\n      expect(digitalCard, testSarah);\n    });\n  });\n}\n</code></pre>\n<p>When I run the test in vs code I get this error and it never progresses to the second test:</p>\n<blockquote>\n<p>Exception has occurred.\nTestFailure (Expected: &lt;Instance of 'DigitalCardModel'&gt;\nActual: &lt;Instance of 'DigitalCardModel'&gt;\n)</p>\n</blockquote>\n<p>If I mouseover the expect statement I see an empty DigitalCardModel for the result - as if it hasn't waited for the network request to finish.</p>\n<p>When I call it in the app it looks like this:</p>\n<pre><code>late Future&lt;DigitalCardModel&gt; digitalCard =\n      NetworkDigitalCard().getDigitalCard(_email);\n</code></pre>\n<p>The network call is</p>\n<pre><code>import 'package:dio/dio.dart';\nimport 'package:members_info/extensions/string.dart';\nimport 'package:members_info/models/digital_card_model.dart';\nimport 'package:sentry_flutter/sentry_flutter.dart';\n\nclass NetworkDigitalCard {\n  String getUrl(email) =&gt;\n      'https://acme.com/jsonCardDetails?email=$email';\n\n// this gets called by the screen\n  Future&lt;DigitalCardModel&gt; getDigitalCard(String email) async {\n    if (!email.isValidEmail) {\n      return DigitalCardModel(\n          \n          name: &quot;Invalid Email&quot;,\n          phone: &quot;&quot;,\n          expired: &quot;&quot;,\n          lapsing: &quot;&quot;,\n          externalid: 0);\n    }\n    try {\n      Response&lt;dynamic&gt; response = await Dio().get(getUrl(email));\n      if (response.data['unknown'] == true) {\n        return DigitalCardModel(externalid: response.data['externalid']);\n      }\n\n      // good data\n      return DigitalCardModel.fromJson(response.data);\n    } catch (exception, stackTrace) {\n      await Sentry.captureException(\n        exception,\n        stackTrace: stackTrace,\n      );\n    }\n    return DigitalCardModel();\n  }\n\n  Future&lt;DigitalCardModel&gt; refreshContent(String email) async {\n    return getDigitalCard(email);\n  }\n}\n\n</code></pre>\n<p>Flutter Dr...</p>\n<pre><code>Flutter (Channel stable, 3.10.6, on macOS 13.5 22G74 darwin-x64, locale en-AU)\n    • Flutter version 3.10.6 on channel stable at /Users/sarah/development/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision f468f3366c (9 weeks ago), 2023-07-12 15:19:05 -0700\n    • Engine revision cdbeda788a\n    • Dart version 3.0.6\n    • DevTools version 2.23.1\n</code></pre>\n",
        "codigo": [
            "import 'package:members_info/models/digital_card_model.dart';\nimport 'package:members_info/network/network_digital_card.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nvoid main() {\n  DigitalCardModel testAndrew = DigitalCardModel.fromJson({\n\"name\":\"Andrew\",\n    \"phone\": \"\",\n    \"expired\": \"Y\",\n    \"lapsing\": \"Y\",\n    \"externalid\": \"29033\"\n  });\n\n  DigitalCardModel testSarah = DigitalCardModel.fromJson({\n\"name\":\"Sarah\",\n    \"phone\": \"\",\n    \"expired\": \"N\",\n    \"lapsing\": \"N\",\n    \"externalid\": \"13\"\n  });\n\n  group(\"Test DigitalCardModel request\", () {\n    test('Andrew', () async {\n      DigitalCardModel digitalCard =\n          await NetworkDigitalCard().getDigitalCard('andrew@acme.com');\n\n      expect(digitalCard, testAndrew);\n    });\n    test('Sarah', () async {\n      DigitalCardModel digitalCard =\n          await NetworkDigitalCard().getDigitalCard('sarah@acme.com');\n\n      expect(digitalCard, testSarah);\n    });\n  });\n}\n",
            "late Future<DigitalCardModel> digitalCard =\n      NetworkDigitalCard().getDigitalCard(_email);\n",
            "import 'package:dio/dio.dart';\nimport 'package:members_info/extensions/string.dart';\nimport 'package:members_info/models/digital_card_model.dart';\nimport 'package:sentry_flutter/sentry_flutter.dart';\n\nclass NetworkDigitalCard {\n  String getUrl(email) =>\n      'https://acme.com/jsonCardDetails?email=$email';\n\n// this gets called by the screen\n  Future<DigitalCardModel> getDigitalCard(String email) async {\n    if (!email.isValidEmail) {\n      return DigitalCardModel(\n          \n          name: \"Invalid Email\",\n          phone: \"\",\n          expired: \"\",\n          lapsing: \"\",\n          externalid: 0);\n    }\n    try {\n      Response<dynamic> response = await Dio().get(getUrl(email));\n      if (response.data['unknown'] == true) {\n        return DigitalCardModel(externalid: response.data['externalid']);\n      }\n\n      // good data\n      return DigitalCardModel.fromJson(response.data);\n    } catch (exception, stackTrace) {\n      await Sentry.captureException(\n        exception,\n        stackTrace: stackTrace,\n      );\n    }\n    return DigitalCardModel();\n  }\n\n  Future<DigitalCardModel> refreshContent(String email) async {\n    return getDigitalCard(email);\n  }\n}\n\n",
            "Flutter (Channel stable, 3.10.6, on macOS 13.5 22G74 darwin-x64, locale en-AU)\n    • Flutter version 3.10.6 on channel stable at /Users/sarah/development/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision f468f3366c (9 weeks ago), 2023-07-12 15:19:05 -0700\n    • Engine revision cdbeda788a\n    • Dart version 3.0.6\n    • DevTools version 2.23.1\n"
        ]
    },
    {
        "titulo": "Unit testing in Dart with forLoops returns stackoverflow",
        "score": 1,
        "views": 177,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "for-loop",
            "visual-studio-code"
        ],
        "link": "https://stackoverflow.com/questions/77085981/unit-testing-in-dart-with-forloops-returns-stackoverflow",
        "conteudo_html": "<p>I'm trying to unit test a class and its methods. The subClass.methods generate a list of objects via a factory generator method inside a forLoop.</p>\n<ol>\n<li><p>Unit testing the method I found breaks my testing environment by returning a stack overflow</p>\n</li>\n<li><p>If i remove the forloop, the unit test succeeds without problems</p>\n</li>\n</ol>\n<p>What is causing this break?</p>\n<pre class=\"lang-dart prettyprint-override\"><code>\n  final ClassA sut = ClassA();\n\n// The suspect\n\n  void badMethod(\n    int arg1,\n    int arg2,\n    int arg3,\n    List&lt;ClassA&gt; ls,\n  ) {\n    for (int i = arg1; i &lt;= arg2; i + arg3) {\n\n      /// Below is a factory generator method from the Parent class, \n      /// being used in this subclass\n\n      ClassA t = ClassA.generate(type: 'test', trigger: i);\n      ls.add(t);\n    }\n    return;\n  }\n\n// ----Test below\n\n  group('info', () {\n\n// No problems here\n\n    test('test', () {\n      final List&lt;ClassA&gt; r = [];\n\n      ClassA t = ClassA.generate(type: 'test', trigger: i);\n      r.add(t);\n\n      expect(r, []);\n    });\n\n//! stackoverflow here\n\n    test('adds object to list', () {\n      final List&lt;Tile&gt; r = [];\n\n      sut.badMethod(1, 1, 5, r); // &lt;-- bad boy\n\n      expect(r, []);\n      expect(r.length, 0);\n\n    });\n  });\n</code></pre>\n",
        "codigo": [
            "\n  final ClassA sut = ClassA();\n\n// The suspect\n\n  void badMethod(\n    int arg1,\n    int arg2,\n    int arg3,\n    List<ClassA> ls,\n  ) {\n    for (int i = arg1; i <= arg2; i + arg3) {\n\n      /// Below is a factory generator method from the Parent class, \n      /// being used in this subclass\n\n      ClassA t = ClassA.generate(type: 'test', trigger: i);\n      ls.add(t);\n    }\n    return;\n  }\n\n// ----Test below\n\n  group('info', () {\n\n// No problems here\n\n    test('test', () {\n      final List<ClassA> r = [];\n\n      ClassA t = ClassA.generate(type: 'test', trigger: i);\n      r.add(t);\n\n      expect(r, []);\n    });\n\n//! stackoverflow here\n\n    test('adds object to list', () {\n      final List<Tile> r = [];\n\n      sut.badMethod(1, 1, 5, r); // <-- bad boy\n\n      expect(r, []);\n      expect(r.length, 0);\n\n    });\n  });\n"
        ]
    },
    {
        "titulo": "A Timer is still pending even after the widget tree was disposed in flutter web test",
        "score": 4,
        "views": 1711,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "testing"
        ],
        "link": "https://stackoverflow.com/questions/77084659/a-timer-is-still-pending-even-after-the-widget-tree-was-disposed-in-flutter-web",
        "conteudo_html": "<p>I get error when running widget test case in <strong>flutter web</strong></p>\n<p>A Timer is still pending even after the widget tree was disposed.\n'package:flutter_test/src/binding.dart':\nFailed assertion: line 1485 pos 12: '!timersPending'</p>\n<pre><code> testWidgets('OnBoardingPage renders correctly', (WidgetTester tester) async {\n    tester.view.physicalSize = const Size(1000, 800);\n\n    await tester.pumpWidget(\n      MaterialApp(\n        home: OnBoardingPage(),\n      ),\n    );\n    await tester.tap(find.byIcon(Icons.menu));\n    await tester.pump(); // Wait for animations and async tasks to complete.\n\n    expect(find.byType(SideBar), findsOneWidget);\n  });\n</code></pre>\n<hr />\n<p>EDITED\n<strong>Found the culprit:</strong> Onboarding has this section which has duration of 10minutes how can I overlook this timer while testing</p>\n<pre><code>class CommunitySection extends StatelessWidget {\n  const CommunitySection({Key? key}) : super(key: key);\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        const SectionHeader(heading: &quot;Community&quot;),\n        _buildResponsiveCommunityWidget(context),\n      ],\n    );\n  }\n\n  Widget _buildResponsiveCommunityWidget(BuildContext context) {\n    return SizedBox(\n      width: MediaQuery.of(context).size.width,\n      child: const ScrollLoopAutoScroll(\n        gap: 0,\n        delayAfterScrollInput: Duration(seconds: 8),\n        delay: Duration(seconds: 0),\n        duration: Duration(minutes: 10),\n        scrollDirection: Axis.horizontal,\n        child: _LogoWidget(),\n      ),\n    );\n  }\n}\n</code></pre>\n",
        "codigo": [
            " testWidgets('OnBoardingPage renders correctly', (WidgetTester tester) async {\n    tester.view.physicalSize = const Size(1000, 800);\n\n    await tester.pumpWidget(\n      MaterialApp(\n        home: OnBoardingPage(),\n      ),\n    );\n    await tester.tap(find.byIcon(Icons.menu));\n    await tester.pump(); // Wait for animations and async tasks to complete.\n\n    expect(find.byType(SideBar), findsOneWidget);\n  });\n",
            "class CommunitySection extends StatelessWidget {\n  const CommunitySection({Key? key}) : super(key: key);\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        const SectionHeader(heading: \"Community\"),\n        _buildResponsiveCommunityWidget(context),\n      ],\n    );\n  }\n\n  Widget _buildResponsiveCommunityWidget(BuildContext context) {\n    return SizedBox(\n      width: MediaQuery.of(context).size.width,\n      child: const ScrollLoopAutoScroll(\n        gap: 0,\n        delayAfterScrollInput: Duration(seconds: 8),\n        delay: Duration(seconds: 0),\n        duration: Duration(minutes: 10),\n        scrollDirection: Axis.horizontal,\n        child: _LogoWidget(),\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Bad state: No method stub was called from within `when()`. Was a real method called, or perhaps an extension&#160;method? flutter",
        "score": 0,
        "views": 1772,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77079079/bad-state-no-method-stub-was-called-from-within-when-was-a-real-method-cal",
        "conteudo_html": "<p>I am new in TDD. I am writing a test for bloc in flutter and getting an error in the when method.</p>\n<pre><code>import 'package:bloc_test/bloc_test.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\nimport 'package:weather_clean_architecture_tdd/presentation/bloc/weather_bloc.dart';\nimport 'package:weather_clean_architecture_tdd/presentation/screens/weather_page.dart';\n\nclass MockWeatherBloc extends MockBloc&lt;WeatherEvent, WeatherState&gt;\n    implements WeatherBloc {}\n\nclass FakeWeatherState extends Fake implements WeatherState {}\n\nclass FakeWeatherEvent extends Fake implements WeatherEvent {}\n\nvoid main() {\n  late MockWeatherBloc mockWeatherBloc;\n\n  setUp(() =&gt; mockWeatherBloc = MockWeatherBloc());\n\n  Widget makeTestableWidget(Widget body) {\n    return BlocProvider(\n      create: (context) =&gt; mockWeatherBloc,\n      child: MaterialApp(home: body),\n    );\n  }\n\n  testWidgets(\n    'text field trigger state to change from empty to loading',\n    (widgetTester) async {\n      // Arrange\n      when(() =&gt; mockWeatherBloc.state).thenReturn(() =&gt; WeatherEmpty());\n\n      // Act\n      await widgetTester.pumpWidget(makeTestableWidget(const WeatherPage()));\n      var textField = find.byType(TextField);\n      expect(textField, findsOneWidget);\n      await widgetTester.enterText(textField, 'Karachi');\n      await widgetTester.pump();\n      expect(find.text('Karachi'), findsOneWidget);\n    },\n  );\n}\n</code></pre>\n<p>This is the error message I am getting\nBad state: No method stub was called from within <code>when()</code>. Was a real method called, or perhaps an\nextension method?</p>\n<p>I tried importing when of mocktail but still same error is being thrown.\nI am expecting the test case to pass.</p>\n",
        "codigo": [
            "import 'package:bloc_test/bloc_test.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\nimport 'package:weather_clean_architecture_tdd/presentation/bloc/weather_bloc.dart';\nimport 'package:weather_clean_architecture_tdd/presentation/screens/weather_page.dart';\n\nclass MockWeatherBloc extends MockBloc<WeatherEvent, WeatherState>\n    implements WeatherBloc {}\n\nclass FakeWeatherState extends Fake implements WeatherState {}\n\nclass FakeWeatherEvent extends Fake implements WeatherEvent {}\n\nvoid main() {\n  late MockWeatherBloc mockWeatherBloc;\n\n  setUp(() => mockWeatherBloc = MockWeatherBloc());\n\n  Widget makeTestableWidget(Widget body) {\n    return BlocProvider(\n      create: (context) => mockWeatherBloc,\n      child: MaterialApp(home: body),\n    );\n  }\n\n  testWidgets(\n    'text field trigger state to change from empty to loading',\n    (widgetTester) async {\n      // Arrange\n      when(() => mockWeatherBloc.state).thenReturn(() => WeatherEmpty());\n\n      // Act\n      await widgetTester.pumpWidget(makeTestableWidget(const WeatherPage()));\n      var textField = find.byType(TextField);\n      expect(textField, findsOneWidget);\n      await widgetTester.enterText(textField, 'Karachi');\n      await widgetTester.pump();\n      expect(find.text('Karachi'), findsOneWidget);\n    },\n  );\n}\n",
            "when()"
        ]
    },
    {
        "titulo": "Xpath&#39;s &quot;contains&quot; doesn&#39;t work in Flutter/Dart",
        "score": 0,
        "views": 302,
        "respostas": 1,
        "tags": [
            "xml",
            "flutter",
            "dart",
            "xpath"
        ],
        "link": "https://stackoverflow.com/questions/77055363/xpaths-contains-doesnt-work-in-flutter-dart",
        "conteudo_html": "<p>Following example</p>\n<pre><code>import 'package:xml/xpath.dart';\n\n....\n\nprint(MPD_xml.xpath(&quot;//Representation[contains(@mimeType,'audio')]/BaseURL&quot;).first.innerText);\n</code></pre>\n<p>gives always error</p>\n<pre><code>Unhandled exception:\nXPathParserException: end of input expected at 1:17\n#0      _cache.&lt;anonymous closure&gt; (package:xml/xpath.dart:21:5)\n#1      XmlCache.[] (package:xml/src/xml/utils/cache.dart:14:29)\n#2      XPathExtension.xpath (package:xml/xpath.dart:14:55)\n#3      get_fb_vid (package:vidhare/retrdat.dart:40:17)\n&lt;asynchronous suspension&gt;\n#4      main (package:vidhare/retrdat.dart:80:10)\n&lt;asynchronous suspension&gt;\n</code></pre>\n<ul>\n<li>1:17 is where 'contains' start.</li>\n<li>Docs says xml/xpath.dart is xpath 1.0. Something to do with that?</li>\n</ul>\n",
        "codigo": [
            "import 'package:xml/xpath.dart';\n\n....\n\nprint(MPD_xml.xpath(\"//Representation[contains(@mimeType,'audio')]/BaseURL\").first.innerText);\n",
            "Unhandled exception:\nXPathParserException: end of input expected at 1:17\n#0      _cache.<anonymous closure> (package:xml/xpath.dart:21:5)\n#1      XmlCache.[] (package:xml/src/xml/utils/cache.dart:14:29)\n#2      XPathExtension.xpath (package:xml/xpath.dart:14:55)\n#3      get_fb_vid (package:vidhare/retrdat.dart:40:17)\n<asynchronous suspension>\n#4      main (package:vidhare/retrdat.dart:80:10)\n<asynchronous suspension>\n"
        ]
    },
    {
        "titulo": "Type matching with instance of Type in dart",
        "score": 0,
        "views": 633,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "types"
        ],
        "link": "https://stackoverflow.com/questions/77045513/type-matching-with-instance-of-type-in-dart",
        "conteudo_html": "<p>While I can do the following:</p>\n<pre><code>void main() {\n  print(42 is ArgumentError);\n}\n</code></pre>\n<p>the following example does not work:</p>\n<pre><code>void main() {\n  Type type = ArgumentError;\n  \n  print(42 is type);\n}\n</code></pre>\n<p>because static analysis complains <code>The name 'type' isn't a type and can't be used in an 'is' expression.</code>.</p>\n<p>Similar to the above minimal example I cannot build an <code>isA&lt;&gt;()</code> matcher in flutter test to do a type check as in</p>\n<pre><code>    test(&quot;&quot;, () {\n      Type type = ArgumentError;\n      \n      expect(42, isA&lt;type&gt;());\n    });\n</code></pre>\n<p>Is there a workaround for this to perform a typecheck with an instance of Type instead of a type literal (is this the right expression? :) )? Or is this a no-no because dart does not support reflection?</p>\n",
        "codigo": [
            "void main() {\n  print(42 is ArgumentError);\n}\n",
            "void main() {\n  Type type = ArgumentError;\n  \n  print(42 is type);\n}\n",
            "The name 'type' isn't a type and can't be used in an 'is' expression.",
            "isA<>()",
            "    test(\"\", () {\n      Type type = ArgumentError;\n      \n      expect(42, isA<type>());\n    });\n"
        ]
    },
    {
        "titulo": "why my app release apk size is too small and is not installing app on my device in flutter",
        "score": 0,
        "views": 171,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77036810/why-my-app-release-apk-size-is-too-small-and-is-not-installing-app-on-my-device",
        "conteudo_html": "<p>I am not able to install my flutter apk (release). I tried <code>flutter clean</code>, rebuild the apk again and again, still no luck. I have reinstalled Android SDK build tools, and still nothing.</p>\n<p>I am thinking maybe my <code>build.gradle</code> files might have issues. Not sure. If you think that this might be the case, do tell me to upload these files.</p>\n<p>One thing that I have noticed is that the size of my app is really small. Like I made another build for another app, and size for that was 52 Mb. But for this app, the size is 34 mb, which is strange, as this app has much much more features, files and some more packages than the previous one, still size is lower.</p>\n<p>Edit:\nHere are my build logs -</p>\n<pre><code>Building with Flutter multidex support enabled.\nChecking the license for package Android SDK Build-Tools 30.0.3 in C:\\Users\\Lenovo\\AppData\\Local\\Android\\sdk\\licenses\nLicense for package Android SDK Build-Tools 30.0.3 accepted.\nPreparing &quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot;.\n&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot; ready.\nInstalling Android SDK Build-Tools 30.0.3 in C:\\Users\\Lenovo\\AppData\\Local\\Android\\sdk\\build-tools\\30.0.3\n&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot; complete.\n&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot; finished.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: C:\\Users\\Lenovo\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\firebase_messaging-14.6.6\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\messaging\\FlutterFirebaseMessagingPlugin.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\nFont asset &quot;fa-solid-900.ttf&quot; was tree-shaken, reducing it from 394628 to 1016 bytes (99.7% reduction). Tree-shaking can be disabled by providing the --no-tree-shake-icons flag when building your app.\nFont asset &quot;MaterialIcons-Regular.otf&quot; was tree-shaken, reducing it from 1645184 to 3760 bytes (99.8% reduction). Tree-shaking can be disabled by providing the --no-tree-shake-icons flag when building your app.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/a5088802b6f46e5ec62d896acf2d7a63/transformed/jetified-firebase-analytics-ktx-21.3.0/jars/classes.jar!/META-INF/java.\ncom.google.android.libraries.firebase.firebase_analytics_ktx_granule.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/160eda7973cb4ebe4234c10624c5dafa/transformed/jetified-activity-1.7.2/jars/classes.jar!/META-INF/activity_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/fedea92b5de0d297a02ca58993f63ff7/transformed/lifecycle-livedata-2.6.1/jars/classes.jar!/META-INF/lifecycle-livedata_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/6316eb034674692e6ae9113cc60ed6df/transformed/lifecycle-viewmodel-2.6.1/jars/classes.jar!/META-INF/lifecycle-viewmodel_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.       \ne: C:/Users/Lenovo/.gradle/caches/transforms-3/ff60ad1d7f44863c45fee8616a6b91e1/transformed/lifecycle-livedata-core-2.6.1/jars/classes.jar!/META-INF/lifecycle-live\ndata-core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/2ac720bb0b1958e1e224a27c8794b5bc/transformed/jetified-lifecycle-viewmodel-savedstate-2.6.1/jars/classes.jar!/META-IN\nF/lifecycle-viewmodel-savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/ab2a0b8e5a17e379cedd6805d76bcfc0/transformed/jetified-core-ktx-1.10.1/jars/classes.jar!/META-INF/core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/dc5b1733b493234eecba2c1dfa5bfc01/transformed/core-1.10.1/jars/classes.jar!/META-INF/core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/63e2116ea4c0438fddb59ef1fce1db0b/transformed/lifecycle-runtime-2.6.1/jars/classes.jar!/META-INF/lifecycle-runtime_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/modules-2/files-2.1/androidx.lifecycle/lifecycle-common/2.6.1/10f354fdb64868baecd67128560c5a0d6312c495/lifecycle-common-2.6.1.jar\n!/META-INF/lifecycle-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/6993ed60322c40dde1138584ce1b8594/transformed/jetified-savedstate-1.2.1/jars/classes.jar!/META-INF/savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation-jvm/1.6.0/a7257339a052df0f91433cf9651231bbb802b502/annotation-jvm-1.6.0.jar!/M\nETA-INF/annotation.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/\nMETA-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.8.22/1a8e3601703ae14bb58757ea6b2d8e8e5935a586/kotlin-stdlib-common-1.8.22.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\nRunning Gradle task 'assembleRelease'...                          127.1s\n√  Built build\\app\\outputs\\flutter-apk\\app-release.apk (32.5MB).\n</code></pre>\n<p>I build the app using -</p>\n<p>flutter clean\nflutter pub get\nflutter build apk --release</p>\n",
        "codigo": [
            "flutter clean",
            "build.gradle",
            "Building with Flutter multidex support enabled.\nChecking the license for package Android SDK Build-Tools 30.0.3 in C:\\Users\\Lenovo\\AppData\\Local\\Android\\sdk\\licenses\nLicense for package Android SDK Build-Tools 30.0.3 accepted.\nPreparing \"Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)\".\n\"Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)\" ready.\nInstalling Android SDK Build-Tools 30.0.3 in C:\\Users\\Lenovo\\AppData\\Local\\Android\\sdk\\build-tools\\30.0.3\n\"Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)\" complete.\n\"Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)\" finished.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: C:\\Users\\Lenovo\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\firebase_messaging-14.6.6\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\messaging\\FlutterFirebaseMessagingPlugin.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\nFont asset \"fa-solid-900.ttf\" was tree-shaken, reducing it from 394628 to 1016 bytes (99.7% reduction). Tree-shaking can be disabled by providing the --no-tree-shake-icons flag when building your app.\nFont asset \"MaterialIcons-Regular.otf\" was tree-shaken, reducing it from 1645184 to 3760 bytes (99.8% reduction). Tree-shaking can be disabled by providing the --no-tree-shake-icons flag when building your app.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/a5088802b6f46e5ec62d896acf2d7a63/transformed/jetified-firebase-analytics-ktx-21.3.0/jars/classes.jar!/META-INF/java.\ncom.google.android.libraries.firebase.firebase_analytics_ktx_granule.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/160eda7973cb4ebe4234c10624c5dafa/transformed/jetified-activity-1.7.2/jars/classes.jar!/META-INF/activity_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/fedea92b5de0d297a02ca58993f63ff7/transformed/lifecycle-livedata-2.6.1/jars/classes.jar!/META-INF/lifecycle-livedata_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/6316eb034674692e6ae9113cc60ed6df/transformed/lifecycle-viewmodel-2.6.1/jars/classes.jar!/META-INF/lifecycle-viewmodel_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.       \ne: C:/Users/Lenovo/.gradle/caches/transforms-3/ff60ad1d7f44863c45fee8616a6b91e1/transformed/lifecycle-livedata-core-2.6.1/jars/classes.jar!/META-INF/lifecycle-live\ndata-core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/2ac720bb0b1958e1e224a27c8794b5bc/transformed/jetified-lifecycle-viewmodel-savedstate-2.6.1/jars/classes.jar!/META-IN\nF/lifecycle-viewmodel-savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/ab2a0b8e5a17e379cedd6805d76bcfc0/transformed/jetified-core-ktx-1.10.1/jars/classes.jar!/META-INF/core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/dc5b1733b493234eecba2c1dfa5bfc01/transformed/core-1.10.1/jars/classes.jar!/META-INF/core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/63e2116ea4c0438fddb59ef1fce1db0b/transformed/lifecycle-runtime-2.6.1/jars/classes.jar!/META-INF/lifecycle-runtime_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/modules-2/files-2.1/androidx.lifecycle/lifecycle-common/2.6.1/10f354fdb64868baecd67128560c5a0d6312c495/lifecycle-common-2.6.1.jar\n!/META-INF/lifecycle-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/transforms-3/6993ed60322c40dde1138584ce1b8594/transformed/jetified-savedstate-1.2.1/jars/classes.jar!/META-INF/savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation-jvm/1.6.0/a7257339a052df0f91433cf9651231bbb802b502/annotation-jvm-1.6.0.jar!/M\nETA-INF/annotation.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/\nMETA-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.22/636bf8b320e7627482771bbac9ed7246773c02bd/kotlin-stdlib-1.8.22.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/Lenovo/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.8.22/1a8e3601703ae14bb58757ea6b2d8e8e5935a586/kotlin-stdlib-common-1.8.22.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\nRunning Gradle task 'assembleRelease'...                          127.1s\n√  Built build\\app\\outputs\\flutter-apk\\app-release.apk (32.5MB).\n"
        ]
    },
    {
        "titulo": "Why are my TextFormFields breaking and causing excessive rebuilds?",
        "score": 1,
        "views": 664,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "textfield",
            "riverpod"
        ],
        "link": "https://stackoverflow.com/questions/77033919/why-are-my-textformfields-breaking-and-causing-excessive-rebuilds",
        "conteudo_html": "<p>I have been struggling with debugging why nearly all of my <code>TextField</code>s and <code>TextFormField</code>s are breaking in my Flutter app. By <em>breaking</em>, I mean:</p>\n<ol>\n<li>I am unable to focus on or enter a value into a Text(Form)Field without the field automatically unfocusing and causing flickering across the screen (which I assume is a consequence of excessive building).</li>\n<li>My RiverPod states behave unexpectedly, causing changes in states that do not make sense.</li>\n</ol>\n<p>I would assume that the latter of these issues is a consequence of some error which can be resolved by fixing the former. One of the situations where this error arises is in a widget I made called <code>VerifyAlert</code>, which displays a <code>TextField</code> and Ok/Cancel action buttons in an <code>AlertDialog</code>. Here is the implementation:</p>\n<pre><code>class VerifyAlert extends StatefulWidget {\n  const VerifyAlert({\n    super.key,\n    this.message = 'Verify',\n    this.confirmMessage = 'Ok',\n    this.cancelMessage = 'Cancel',\n    required this.onVerification,\n    required this.onFailedVerification,\n    required this.verifier,\n  });\n\n  final String message; // body text\n  final String confirmMessage; // confirm button text\n  final String cancelMessage; // cancel button text\n  final AsyncCallback onVerification;\n  final AsyncCallback onFailedVerification;\n  final Function(String) verifier;\n\n  @override\n  State&lt;VerifyAlert&gt; createState() =&gt; _VerifyAlertState();\n}\n\nclass _VerifyAlertState extends State&lt;VerifyAlert&gt; {\n  final _controller = TextEditingController();\n\n  @override\n  void initState() {\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    super.dispose();\n    _controller.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return AlertDialog(\n      title: Text(\n        widget.message,\n        textAlign: TextAlign.center,\n        style: GoogleFonts.raleway(\n          fontWeight: FontWeight.w400,\n          fontSize: 24.0,\n        ),\n      ),\n\n      //* Auth Password\n      content: TextFormField(\n        controller: _controller,\n        decoration: const InputDecoration(\n          prefixIcon: Icon(Icons.lock),\n          hintText: 'Empty',\n        ),\n        autocorrect: false,\n        autofocus: false,\n      ),\n\n      actions: [\n        TextButton(\n          child: Text(\n            widget.cancelMessage,\n            style: const TextStyle(\n              fontSize: 17.5,\n              color: ui.LightScheme.blue,\n            ),\n          ),\n          onPressed: () {\n            widget.onFailedVerification();\n          },\n        ),\n        TextButton(\n          onPressed: () async {\n            if (widget.verifier(_controller.text)) {\n              if (context.mounted) {\n                widget.onVerification();\n              }\n            } else {\n              if (context.mounted) {\n                widget.onFailedVerification();\n              }\n            }\n          },\n          child: Text(\n            widget.confirmMessage,\n            style: const TextStyle(\n              fontSize: 17.5,\n              color: ui.LightScheme.blue,\n            ),\n          ),\n        ),\n      ],\n    );\n  }\n}\n</code></pre>\n<p>I have another method for showing this alert:</p>\n<pre><code>Future&lt;void&gt; showVerifyAlert({\n  required BuildContext context,\n  String message = '',\n  String confirmMessage = 'Ok',\n  String cancelMessage = 'Cancel',\n  required AsyncCallback onVerification,\n  required AsyncCallback onFailedVerification,\n  required Function(String) verifier,\n}) async {\n  return await showDialog(\n    context: context,\n    builder: (context) {\n      return VerifyAlert(\n        message: message,\n        confirmMessage: confirmMessage,\n        cancelMessage: cancelMessage,\n        onVerification: onVerification,\n        onFailedVerification: onFailedVerification,\n        verifier: verifier,\n      );\n    },\n    barrierDismissible: true,\n  );\n}\n</code></pre>\n<p>I have verified before that this scheme of constructing custom alerts works, so the issue is definitely with the way my <code>TextFormField</code>. Also, this is not the only instance where a <code>TextField</code> or <code>TextFormField</code> breaks in my application; nearly all non-trivial implementations of Text(Form)Field suffer from the same issue.</p>\n<p>My environment is an M1 Macbook Pro, iOS Simulator running iOS 16.4 emulating an iPad (10th Generation), and Flutter 3.14.0-0.1.pre with Dart SDK version: 3.2.0-42.1.beta.</p>\n<p>I tried to re-implement my Text(Form)Fields without a <code>TextEditingController</code>, but the problem still remained. In the context of the example given previously, I rewrote the <code>TextFormField</code> to have no <code>controller</code> and, instead, to have an <code>onChanged</code> method which set the state of a string which stored the current value in the input, which I could then use in the <code>verifier</code> method.</p>\n<p>I have also tried to use <code>ValueKey</code>s in my fields, but this has also failed.</p>\n<p>Previously, I had a very similar problem with one of my <code>TextFormField</code>s, and all I did was move to the Flutter beta channel, install an XCode update, and restart my computer, and without changing my code at all, the TextFormField now worked. This was very strange, but I ignored it for the time being. Now, this problem has permeated nearly all of my Text(Form)Fields, and so, I am unable to ascertain whether or not this is a problem with my code or a problem with my environment.</p>\n<p>Having spent nearly a week on this issue, I hope someone in this community can help. Thanks.</p>\n<p><strong>Update 1</strong></p>\n<p>I built another application with this <code>VerifyAlert</code> widget, and it worked as expected, so I am inclined to believe this is an issue with the way Flutter is either focusing or building my Text(Form)Fields. This same issue is prevalent in both iOS and Android emulators of all types, and on my physical device.</p>\n<p>The only major difference between my actual application and the application I built to test <code>VerifyAlert</code> is that in the former, I am showing my alert after two layers of pushed contexts (i.e., I've called <code>Navigator.push(context, MaterialPageRoute(...))</code> twice before I show my alert). I am inclined to believe that it is some behavior confused from these contexts that is causing the bug I am experiencing.</p>\n<p>As a suggestion recommended, I've attached the code which triggers this <code>VerifyAlert</code>:</p>\n<pre><code>class RecordsView extends ConsumerStatefulWidget {\n  const RecordsView({\n    super.key,\n    this.record,\n    required this.accessType,\n  });\n\n  final Map&lt;String, dynamic&gt;? record;\n  final RecordAccess accessType;\n\n  @override\n  ConsumerState&lt;ConsumerStatefulWidget&gt; createState() =&gt; _RecordsViewState();\n}\n\nclass _RecordsViewState extends ConsumerState&lt;RecordsView&gt; {\n  //* Method for initializing record and returning a Future&lt;bool&gt; of whether or not it was successful\n  Future&lt;bool&gt; initializeRecord(\n    SelectedForm selectedForm,\n    User user,\n  ) async {\n    try {\n      if (widget.accessType == RecordAccess.create) {\n        Map&lt;String, dynamic&gt; formData =\n            await network.NetworkUtility.fetchFormDetails(\n          accessToken: user.accessToken,\n          formId: selectedForm.id.toString(),\n        );\n\n        Map&lt;String, dynamic&gt; pagesData =\n            await network.NetworkUtility.fetchFormPageDetails(\n          formId: selectedForm.id.toString(),\n          accessToken: user.accessToken,\n        );\n\n        if (Record.isCreateValid(formData: formData, pagesData: pagesData)) {\n          ref.read(recordProvider.notifier).clear();\n          ref.read(recordProvider.notifier).create(\n                formData: formData,\n                pagesData: pagesData,\n                accessType: widget.accessType,\n              );\n          return true;\n        } else {\n          return false;\n        }\n      } else {\n        if (widget.record == null) {\n          return false;\n        } else {\n          int formId = selectedForm.id;\n\n          if (selectedForm.id == -1) {\n            try {\n              formId = widget.record!['form'] as int;\n            } catch (e) {\n              return false;\n            }\n          }\n\n          Map&lt;String, dynamic&gt; formData =\n              await network.NetworkUtility.fetchFormDetails(\n            accessToken: user.accessToken,\n            formId: formId.toString(),\n          );\n\n          Map&lt;String, dynamic&gt; pagesData =\n              await network.NetworkUtility.fetchFormPageDetails(\n            formId: formId.toString(),\n            accessToken: user.accessToken,\n          );\n\n          if (Record.isLoadValid(\n            formData: formData,\n            pagesData: pagesData,\n            recordData: widget.record!,\n          )) {\n            ref.read(recordProvider.notifier).clear();\n            ref.read(recordProvider.notifier).load(\n                  formData: formData,\n                  pagesData: pagesData,\n                  recordData: widget.record!,\n                  accessType: widget.accessType,\n                );\n\n            if (ref\n                .read(recordProvider)\n                .auth['password']\n                .toString()\n                .isNotEmpty) {\n              bool verified = false;\n              if (context.mounted) {\n                await ui.showVerifyAlert(\n                  context: GlobalKeys.alpha.currentContext!,\n                  message: 'Enter Password',\n                  onVerification: () {\n                    verified = true;\n                  },\n                  onFailedVerification: () {},\n                  verifier: (value) {\n                    return value ==\n                        ref.read(recordProvider).auth['password'].toString();\n                  },\n                );\n              }\n\n              return verified;\n            } else {\n              return true;\n            }\n          } else {\n            return false;\n          }\n        }\n      }\n    } catch (e) {\n      return false;\n    }\n  }\n\n  Widget closableContent(\n    BuildContext context,\n    Widget centerWidget,\n  ) {\n    return Column(\n      children: &lt;Widget&gt;[\n        Row(\n          mainAxisAlignment: MainAxisAlignment.end,\n          children: &lt;Widget&gt;[\n            InkWell(\n              onTap: () {\n                Navigator.of(context).pop(false);\n              },\n              child: Icon(Icons.close, size: ui.Text.scale(context, 36)),\n            ),\n          ],\n        ),\n        Expanded(\n          child: Center(\n            child: centerWidget,\n          ),\n        ),\n      ],\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final selectedForm = ref.watch(selectedFormProvider);\n    final user = ref.watch(userProvider);\n\n    return WillPopScope(\n      onWillPop: () async =&gt; false,\n      child: Scaffold(\n        resizeToAvoidBottomInset:\n            false, // ensures that the keyboard does not push UI elements up\n        backgroundColor: ui.LightScheme.gray,\n        body: SafeArea(\n          child: Padding(\n            padding: EdgeInsets.all(ui.Text.scale(context, 21, 3)),\n\n            //* All Content is in SafeArea and Padded\n            child: FutureBuilder(\n              future: initializeRecord(selectedForm, user),\n              builder: (context, snapshot) {\n                if (snapshot.hasData) {\n                  if (snapshot.data!) {\n                    return const RecordVisualizer();\n                  } else {\n                    return closableContent(\n                      context,\n                      const Text('Authentication Failed. Please try again.'),\n                    );\n                  }\n                } else if (snapshot.hasError) {\n                  return closableContent(\n                    context,\n                    const Text('Could not load record. Please try again.'),\n                  );\n                } else {\n                  return closableContent(\n                    context,\n                    const ui.FourDotsLoadingIndicator(),\n                  );\n                }\n              },\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>This widget is pushed on top of another widget, which itself is also pushed onto the first widget in the widget tree. Perhaps this is the reason behind my bug, but I am still unable to determine how to proceed from here. This issue is likely not originating from anything in Riverpod, as <code>VerifyAlert</code> breaks even when there is nothing related to Riverpod embedded in its logic. I would appreciate any additional comments and guidance, and thank you once again.</p>\n",
        "codigo": [
            "TextField",
            "TextFormField",
            "VerifyAlert",
            "TextField",
            "AlertDialog",
            "class VerifyAlert extends StatefulWidget {\n  const VerifyAlert({\n    super.key,\n    this.message = 'Verify',\n    this.confirmMessage = 'Ok',\n    this.cancelMessage = 'Cancel',\n    required this.onVerification,\n    required this.onFailedVerification,\n    required this.verifier,\n  });\n\n  final String message; // body text\n  final String confirmMessage; // confirm button text\n  final String cancelMessage; // cancel button text\n  final AsyncCallback onVerification;\n  final AsyncCallback onFailedVerification;\n  final Function(String) verifier;\n\n  @override\n  State<VerifyAlert> createState() => _VerifyAlertState();\n}\n\nclass _VerifyAlertState extends State<VerifyAlert> {\n  final _controller = TextEditingController();\n\n  @override\n  void initState() {\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    super.dispose();\n    _controller.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return AlertDialog(\n      title: Text(\n        widget.message,\n        textAlign: TextAlign.center,\n        style: GoogleFonts.raleway(\n          fontWeight: FontWeight.w400,\n          fontSize: 24.0,\n        ),\n      ),\n\n      //* Auth Password\n      content: TextFormField(\n        controller: _controller,\n        decoration: const InputDecoration(\n          prefixIcon: Icon(Icons.lock),\n          hintText: 'Empty',\n        ),\n        autocorrect: false,\n        autofocus: false,\n      ),\n\n      actions: [\n        TextButton(\n          child: Text(\n            widget.cancelMessage,\n            style: const TextStyle(\n              fontSize: 17.5,\n              color: ui.LightScheme.blue,\n            ),\n          ),\n          onPressed: () {\n            widget.onFailedVerification();\n          },\n        ),\n        TextButton(\n          onPressed: () async {\n            if (widget.verifier(_controller.text)) {\n              if (context.mounted) {\n                widget.onVerification();\n              }\n            } else {\n              if (context.mounted) {\n                widget.onFailedVerification();\n              }\n            }\n          },\n          child: Text(\n            widget.confirmMessage,\n            style: const TextStyle(\n              fontSize: 17.5,\n              color: ui.LightScheme.blue,\n            ),\n          ),\n        ),\n      ],\n    );\n  }\n}\n",
            "Future<void> showVerifyAlert({\n  required BuildContext context,\n  String message = '',\n  String confirmMessage = 'Ok',\n  String cancelMessage = 'Cancel',\n  required AsyncCallback onVerification,\n  required AsyncCallback onFailedVerification,\n  required Function(String) verifier,\n}) async {\n  return await showDialog(\n    context: context,\n    builder: (context) {\n      return VerifyAlert(\n        message: message,\n        confirmMessage: confirmMessage,\n        cancelMessage: cancelMessage,\n        onVerification: onVerification,\n        onFailedVerification: onFailedVerification,\n        verifier: verifier,\n      );\n    },\n    barrierDismissible: true,\n  );\n}\n",
            "TextFormField",
            "TextField",
            "TextFormField",
            "TextEditingController",
            "TextFormField",
            "controller",
            "onChanged",
            "verifier",
            "ValueKey",
            "TextFormField",
            "VerifyAlert",
            "VerifyAlert",
            "Navigator.push(context, MaterialPageRoute(...))",
            "VerifyAlert",
            "class RecordsView extends ConsumerStatefulWidget {\n  const RecordsView({\n    super.key,\n    this.record,\n    required this.accessType,\n  });\n\n  final Map<String, dynamic>? record;\n  final RecordAccess accessType;\n\n  @override\n  ConsumerState<ConsumerStatefulWidget> createState() => _RecordsViewState();\n}\n\nclass _RecordsViewState extends ConsumerState<RecordsView> {\n  //* Method for initializing record and returning a Future<bool> of whether or not it was successful\n  Future<bool> initializeRecord(\n    SelectedForm selectedForm,\n    User user,\n  ) async {\n    try {\n      if (widget.accessType == RecordAccess.create) {\n        Map<String, dynamic> formData =\n            await network.NetworkUtility.fetchFormDetails(\n          accessToken: user.accessToken,\n          formId: selectedForm.id.toString(),\n        );\n\n        Map<String, dynamic> pagesData =\n            await network.NetworkUtility.fetchFormPageDetails(\n          formId: selectedForm.id.toString(),\n          accessToken: user.accessToken,\n        );\n\n        if (Record.isCreateValid(formData: formData, pagesData: pagesData)) {\n          ref.read(recordProvider.notifier).clear();\n          ref.read(recordProvider.notifier).create(\n                formData: formData,\n                pagesData: pagesData,\n                accessType: widget.accessType,\n              );\n          return true;\n        } else {\n          return false;\n        }\n      } else {\n        if (widget.record == null) {\n          return false;\n        } else {\n          int formId = selectedForm.id;\n\n          if (selectedForm.id == -1) {\n            try {\n              formId = widget.record!['form'] as int;\n            } catch (e) {\n              return false;\n            }\n          }\n\n          Map<String, dynamic> formData =\n              await network.NetworkUtility.fetchFormDetails(\n            accessToken: user.accessToken,\n            formId: formId.toString(),\n          );\n\n          Map<String, dynamic> pagesData =\n              await network.NetworkUtility.fetchFormPageDetails(\n            formId: formId.toString(),\n            accessToken: user.accessToken,\n          );\n\n          if (Record.isLoadValid(\n            formData: formData,\n            pagesData: pagesData,\n            recordData: widget.record!,\n          )) {\n            ref.read(recordProvider.notifier).clear();\n            ref.read(recordProvider.notifier).load(\n                  formData: formData,\n                  pagesData: pagesData,\n                  recordData: widget.record!,\n                  accessType: widget.accessType,\n                );\n\n            if (ref\n                .read(recordProvider)\n                .auth['password']\n                .toString()\n                .isNotEmpty) {\n              bool verified = false;\n              if (context.mounted) {\n                await ui.showVerifyAlert(\n                  context: GlobalKeys.alpha.currentContext!,\n                  message: 'Enter Password',\n                  onVerification: () {\n                    verified = true;\n                  },\n                  onFailedVerification: () {},\n                  verifier: (value) {\n                    return value ==\n                        ref.read(recordProvider).auth['password'].toString();\n                  },\n                );\n              }\n\n              return verified;\n            } else {\n              return true;\n            }\n          } else {\n            return false;\n          }\n        }\n      }\n    } catch (e) {\n      return false;\n    }\n  }\n\n  Widget closableContent(\n    BuildContext context,\n    Widget centerWidget,\n  ) {\n    return Column(\n      children: <Widget>[\n        Row(\n          mainAxisAlignment: MainAxisAlignment.end,\n          children: <Widget>[\n            InkWell(\n              onTap: () {\n                Navigator.of(context).pop(false);\n              },\n              child: Icon(Icons.close, size: ui.Text.scale(context, 36)),\n            ),\n          ],\n        ),\n        Expanded(\n          child: Center(\n            child: centerWidget,\n          ),\n        ),\n      ],\n    );\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final selectedForm = ref.watch(selectedFormProvider);\n    final user = ref.watch(userProvider);\n\n    return WillPopScope(\n      onWillPop: () async => false,\n      child: Scaffold(\n        resizeToAvoidBottomInset:\n            false, // ensures that the keyboard does not push UI elements up\n        backgroundColor: ui.LightScheme.gray,\n        body: SafeArea(\n          child: Padding(\n            padding: EdgeInsets.all(ui.Text.scale(context, 21, 3)),\n\n            //* All Content is in SafeArea and Padded\n            child: FutureBuilder(\n              future: initializeRecord(selectedForm, user),\n              builder: (context, snapshot) {\n                if (snapshot.hasData) {\n                  if (snapshot.data!) {\n                    return const RecordVisualizer();\n                  } else {\n                    return closableContent(\n                      context,\n                      const Text('Authentication Failed. Please try again.'),\n                    );\n                  }\n                } else if (snapshot.hasError) {\n                  return closableContent(\n                    context,\n                    const Text('Could not load record. Please try again.'),\n                  );\n                } else {\n                  return closableContent(\n                    context,\n                    const ui.FourDotsLoadingIndicator(),\n                  );\n                }\n              },\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}\n",
            "VerifyAlert"
        ]
    },
    {
        "titulo": "How to fix type &#39;Null&#39; is not a subtype of type &#39;int&#39;? (Mockito Unit test)",
        "score": 0,
        "views": 264,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "mockito",
            "flutter-mockito"
        ],
        "link": "https://stackoverflow.com/questions/77028547/how-to-fix-type-null-is-not-a-subtype-of-type-int-mockito-unit-test",
        "conteudo_html": "<p>The error message you're encountering, &quot;type 'Null' is not a subtype of type 'int',&quot; suggests that there might be an issue with the way you are creating or using the MockCalculator instance in my test.</p>\n<p>How to fix type 'Null' is not a subtype of type 'int'? (Mockito Unit test)</p>\n<p>lib/calculator</p>\n<pre><code>    class Calculator {\n  // This class represents a simple calculator.\n\n  // The `add` method takes two integers `a` and `b` as input and returns their sum.\n  int add(int a, int b) {\n    return a + b; // Calculate the sum of `a` and `b` and return it.\n  }\n}\n</code></pre>\n<p>test/calculator_mock_test.dart</p>\n<pre><code>import 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\nimport 'calculator_test.dart';\n\n\nvoid main() {\n  group('Calculator', () {\n    test('addition', () {\n      // Create a mock Calculator instance\n      final mockCalculator = MockCalculator();\n\n      // Define the behavior for the 'add' method\n      when(mockCalculator.add(2, 3)).thenReturn(5);\n\n      // Test the 'add' method using the mock\n      final result = mockCalculator.add(2, 3);\n\n      // Verify that the 'add' method was called with the expected arguments\n      verify(mockCalculator.add(2, 3));\n\n      // Verify that the result matches the expected result\n      expect(result, 5);\n    });\n  });\n}\n</code></pre>\n<p>Here is an error:</p>\n<pre><code>type 'Null' is not a subtype of type 'int'\ntest\\calculator_test.dart 5:7         MockCalculator.add\ntest\\calculator_mock_test.dart 13:27  main.&lt;fn&gt;.&lt;fn&gt;\n</code></pre>\n<p><a href=\"https://i.sstatic.net/U4F8X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/U4F8X.png\" alt=\"enter image description here\" /></a></p>\n<p>How to fix type 'Null' is not a subtype of type 'int'? (Mockito Unit test).</p>\n",
        "codigo": [
            "    class Calculator {\n  // This class represents a simple calculator.\n\n  // The `add` method takes two integers `a` and `b` as input and returns their sum.\n  int add(int a, int b) {\n    return a + b; // Calculate the sum of `a` and `b` and return it.\n  }\n}\n",
            "import 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\nimport 'calculator_test.dart';\n\n\nvoid main() {\n  group('Calculator', () {\n    test('addition', () {\n      // Create a mock Calculator instance\n      final mockCalculator = MockCalculator();\n\n      // Define the behavior for the 'add' method\n      when(mockCalculator.add(2, 3)).thenReturn(5);\n\n      // Test the 'add' method using the mock\n      final result = mockCalculator.add(2, 3);\n\n      // Verify that the 'add' method was called with the expected arguments\n      verify(mockCalculator.add(2, 3));\n\n      // Verify that the result matches the expected result\n      expect(result, 5);\n    });\n  });\n}\n",
            "type 'Null' is not a subtype of type 'int'\ntest\\calculator_test.dart 5:7         MockCalculator.add\ntest\\calculator_mock_test.dart 13:27  main.<fn>.<fn>\n"
        ]
    },
    {
        "titulo": "Flutter Integration tests works unexpectedly",
        "score": 0,
        "views": 563,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "dart-test"
        ],
        "link": "https://stackoverflow.com/questions/77016424/flutter-integration-tests-works-unexpectedly",
        "conteudo_html": "<p>Hello currently we are working on a big project with my teammates. And we are having issues with automating our testing.</p>\n<p>We are building integration tests, but for whatever reason tests sometimes work and sometimes get stuck, it just gets stuck when we run integration test on Emulator/Simulator with no log, but sometimes it just works perfectly, I want to know if our implementation is wrong or Flutter integration tests in general behaving like this.</p>\n<p>Here is the code example of our generic test:</p>\n<pre><code>import 'package:flutter_test/flutter_test.dart';\nimport 'package:integration_test/integration_test.dart';\n\nvoid main() {\n  IntegrationTestWidgetsFlutterBinding.ensureInitialized();\n\n  setUpAll(\n    () {},\n  );\n  tearDownAll(\n    () async {},\n  );\n  group('end-to-end test', () {\n    testWidgets('Check route based on session', (tester) async {\n      \n      await tester.runAsync(() async {\n        await app.main();\n        await tester.pumpAndSettle();\n        // We tried to fix stuck bug by waiting 3 secs, it didn't work.\n        await tester.pump(const Duration(seconds: 3));\n      });\n\n      var jwt = await secureStorage().read(key: &quot;token&quot;);\n\n      logIt().d(jwt);\n\n      // if jwt is null there should be a splashpage if not null splashpage should not be there\n      expect(find.byType(SplashPage, skipOffstage: false),\n          jwt == null ? findsOneWidget : findsNothing);\n    });\n  });\n}\n</code></pre>\n",
        "codigo": [
            "import 'package:flutter_test/flutter_test.dart';\nimport 'package:integration_test/integration_test.dart';\n\nvoid main() {\n  IntegrationTestWidgetsFlutterBinding.ensureInitialized();\n\n  setUpAll(\n    () {},\n  );\n  tearDownAll(\n    () async {},\n  );\n  group('end-to-end test', () {\n    testWidgets('Check route based on session', (tester) async {\n      \n      await tester.runAsync(() async {\n        await app.main();\n        await tester.pumpAndSettle();\n        // We tried to fix stuck bug by waiting 3 secs, it didn't work.\n        await tester.pump(const Duration(seconds: 3));\n      });\n\n      var jwt = await secureStorage().read(key: \"token\");\n\n      logIt().d(jwt);\n\n      // if jwt is null there should be a splashpage if not null splashpage should not be there\n      expect(find.byType(SplashPage, skipOffstage: false),\n          jwt == null ? findsOneWidget : findsNothing);\n    });\n  });\n}\n"
        ]
    },
    {
        "titulo": "How to solve this error after upgrade flutter",
        "score": 0,
        "views": 54,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/77006489/how-to-solve-this-error-after-upgrade-flutter",
        "conteudo_html": "<p>I have a question regarding an error I am experiencing. After upgrading my flutter, I began encountering this error which did not occur prior to the upgrade. I have attempted to search for a solution through Google, however, I have not been successful in finding an answer. I am uncertain of how to proceed with resolving this error. If anyone has any thoughts or suggestions on how to solve this issue, I would greatly appreciate it.</p>\n<p>Code:</p>\n<pre><code> Uint8List? _toPngBytesForWeb() {\n    if (isEmpty) return null;\n    var pColor = img.getColor(penColor.red, penColor.green, penColor.blue); //The function 'getColor' isn't defined.\n    \n    Color backgroundColor = exportBackgroundColor ?? Colors.transparent;\n    var bColor = img.getColor(backgroundColor.red, backgroundColor.green, backgroundColor.blue, backgroundColor.alpha.toInt());\n\n    double minX = double.infinity;\n    double maxX = 0;\n    double minY = double.infinity;\n    double maxY = 0;\n\n    // point to create fixed size\n    points.add(\n        Point(Offset(0 + penStrokeWidth, 0 + penStrokeWidth), PointType.tap));\n    points.add(\n        Point(Offset(616 + penStrokeWidth, 0 + penStrokeWidth), PointType.tap));\n    points.add(Point(\n        Offset(616 + penStrokeWidth, 512 + penStrokeWidth), PointType.tap));\n    points.add(\n        Point(Offset(0 + penStrokeWidth, 512 + penStrokeWidth), PointType.tap));\n    points.add(\n        Point(Offset(616 + penStrokeWidth, 0 + penStrokeWidth), PointType.tap));\n\n    points.forEach((point) {\n      minX = min(point.offset.dx, minX);\n      maxX = max(point.offset.dx, maxX);\n\n      minY = min(point.offset.dy, minY);\n      maxY = max(point.offset.dy, maxY);\n    });\n\n    //point translation\n    //List&lt;Point&gt; translatedPoints = List();\n    List&lt;Point&gt; translatedPoints = [];\n    points.forEach((point) {\n      translatedPoints.add(Point(\n          Offset(point.offset.dx - minX + penStrokeWidth,\n              point.offset.dy - minY + penStrokeWidth),\n          point.type));\n    });\n\n    var width = (maxX - minX + penStrokeWidth * 2).toInt();\n    var height = (maxY - minY + penStrokeWidth * 2).toInt();\n\n    // create the image with the given size\n    img.Image cheartDrawImage = img.Image(width, height);\n    // set the image background color\n    img.fill(cheartDrawImage, bColor);\n\n    // read the drawing points list and draw the image\n    // it uses the same logic as the CustomPainter Paint function\n    for (int i = 0; i &lt; translatedPoints.length - 1; i++) {\n      if (translatedPoints[i + 1].type == PointType.move) {\n        img.drawLine( //The named parameter 'x1' is required, but there's no corresponding argument.\n            cheartDrawImage,\n            translatedPoints[i].offset.dx.toInt(),//Too many positional arguments: 1 expected, but 6 found.\n            translatedPoints[i].offset.dy.toInt(),\n            translatedPoints[i + 1].offset.dx.toInt(),\n            translatedPoints[i + 1].offset.dy.toInt(),\n            pColor,\n            thickness: penStrokeWidth);\n        \n      } else {\n        // draw the point to the image\n        img.fillCircle(\n            cheartDrawImage,\n            translatedPoints[i].offset.dx.toInt(),\n            translatedPoints[i].offset.dy.toInt(),\n            penStrokeWidth.toInt(),\n            img.getColor(255, 255, 255));\n      }\n    }\n    // encode the image to PNG\n    return Uint8List.fromList(img.encodePng(cheartDrawImage));\n  }\n</code></pre>\n",
        "codigo": [
            " Uint8List? _toPngBytesForWeb() {\n    if (isEmpty) return null;\n    var pColor = img.getColor(penColor.red, penColor.green, penColor.blue); //The function 'getColor' isn't defined.\n    \n    Color backgroundColor = exportBackgroundColor ?? Colors.transparent;\n    var bColor = img.getColor(backgroundColor.red, backgroundColor.green, backgroundColor.blue, backgroundColor.alpha.toInt());\n\n    double minX = double.infinity;\n    double maxX = 0;\n    double minY = double.infinity;\n    double maxY = 0;\n\n    // point to create fixed size\n    points.add(\n        Point(Offset(0 + penStrokeWidth, 0 + penStrokeWidth), PointType.tap));\n    points.add(\n        Point(Offset(616 + penStrokeWidth, 0 + penStrokeWidth), PointType.tap));\n    points.add(Point(\n        Offset(616 + penStrokeWidth, 512 + penStrokeWidth), PointType.tap));\n    points.add(\n        Point(Offset(0 + penStrokeWidth, 512 + penStrokeWidth), PointType.tap));\n    points.add(\n        Point(Offset(616 + penStrokeWidth, 0 + penStrokeWidth), PointType.tap));\n\n    points.forEach((point) {\n      minX = min(point.offset.dx, minX);\n      maxX = max(point.offset.dx, maxX);\n\n      minY = min(point.offset.dy, minY);\n      maxY = max(point.offset.dy, maxY);\n    });\n\n    //point translation\n    //List<Point> translatedPoints = List();\n    List<Point> translatedPoints = [];\n    points.forEach((point) {\n      translatedPoints.add(Point(\n          Offset(point.offset.dx - minX + penStrokeWidth,\n              point.offset.dy - minY + penStrokeWidth),\n          point.type));\n    });\n\n    var width = (maxX - minX + penStrokeWidth * 2).toInt();\n    var height = (maxY - minY + penStrokeWidth * 2).toInt();\n\n    // create the image with the given size\n    img.Image cheartDrawImage = img.Image(width, height);\n    // set the image background color\n    img.fill(cheartDrawImage, bColor);\n\n    // read the drawing points list and draw the image\n    // it uses the same logic as the CustomPainter Paint function\n    for (int i = 0; i < translatedPoints.length - 1; i++) {\n      if (translatedPoints[i + 1].type == PointType.move) {\n        img.drawLine( //The named parameter 'x1' is required, but there's no corresponding argument.\n            cheartDrawImage,\n            translatedPoints[i].offset.dx.toInt(),//Too many positional arguments: 1 expected, but 6 found.\n            translatedPoints[i].offset.dy.toInt(),\n            translatedPoints[i + 1].offset.dx.toInt(),\n            translatedPoints[i + 1].offset.dy.toInt(),\n            pColor,\n            thickness: penStrokeWidth);\n        \n      } else {\n        // draw the point to the image\n        img.fillCircle(\n            cheartDrawImage,\n            translatedPoints[i].offset.dx.toInt(),\n            translatedPoints[i].offset.dy.toInt(),\n            penStrokeWidth.toInt(),\n            img.getColor(255, 255, 255));\n      }\n    }\n    // encode the image to PNG\n    return Uint8List.fromList(img.encodePng(cheartDrawImage));\n  }\n"
        ]
    },
    {
        "titulo": "Error: Member not found: &#39;FirebaseAppPlatform.verifyExtends&#39;. Flutter version (3.13.0)",
        "score": 0,
        "views": 299,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76988273/error-member-not-found-firebaseappplatform-verifyextends-flutter-version-3",
        "conteudo_html": "<p>approximately 1.5 years ago, I developed a multiplatform application. When attempting to run it today, I encountered an error. While I have successfully resolved most of the issues, I am still facing errors when I execute the main.dart file.</p>\n<pre><code>Running Gradle task 'assembleDebug'...\n../../../AppData/Local/Pub/Cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/firebase_app.dart:18:25: Error: Member not found: 'FirebaseAppPlatform.verifyExtends'.\n    FirebaseAppPlatform.verifyExtends(_delegate);\n                        ^^^^^^^^^^^^^\n../../../AppData/Local/Pub/Cache/hosted/pub.dev/firebase_auth_platform_interface-6.10.1/lib/src/action_code_info.dart:65:15: Error: The method 'FallThroughError' isn't defined for the class 'ActionCodeInfo'.\n - 'ActionCodeInfo' is from 'package:firebase_auth_platform_interface/src/action_code_info.dart' ('../../../AppData/Local/Pub/Cache/hosted/pub.dev/firebase_auth_platform_interface-6.10.1/lib/src/action_code_info.dart').\nTry correcting the name to the name of an existing method, or defining a method named 'FallThroughError'.\n        throw FallThroughError();\n              ^^^^^^^^^^^^^^^^\n../../../AppData/Local/Pub/Cache/hosted/pub.dev/cloud_firestore_platform_interface-5.7.7/lib/src/platform_interface/utils/load_bundle_task_state.dart:13:13: Error: Method not found: 'FallThroughError'.\n      throw FallThroughError();\n            ^^^^^^^^^^^^^^^^\nTarget kernel_snapshot failed: Exception\n\n\nFAILURE: Build failed with an exception.\n</code></pre>\n<p><strong>Here is my pubspec.yaml file</strong></p>\n<pre><code>name: multi_vending_grocery_app\ndescription: Grocery Application\n\n# The following line prevents the package from being accidentally published to\n# pub.dev using `flutter pub publish`. This is preferred for private packages.\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\n# The following defines the version and build number for your application.\n# A version number is three numbers separated by dots, like 1.2.43\n# followed by an optional build number separated by a +.\n# Both the version and the builder number may be overridden in flutter\n# build by specifying --build-name and --build-number, respectively.\n# In Android, build-name is used as versionName while build-number used as versionCode.\n# Read more about Android versioning at https://developer.android.com/studio/publish/versioning\n# In iOS, build-name is used as CFBundleShortVersionString while build-number used as CFBundleVersion.\n# Read more about iOS versioning at\n# https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html\nversion: 1.0.0+1\n\nenvironment:\n  sdk: &quot;&gt;=2.15.1 &lt;3.0.0&quot;\n\n# Dependencies specify other packages that your package needs in order to work.\n# To automatically upgrade your package dependencies to the latest versions\n# consider running `flutter pub upgrade --major-versions`. Alternatively,\n# dependencies can be manually updated by changing the version numbers below to\n# the latest version available on pub.dev. To see which dependencies have newer\n# versions available, run `flutter pub outdated`.\ndependencies:\n  flutter:\n    sdk: flutter\n\n\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons:\n  dots_indicator:\n  fluttertoast:\n  firebase_auth: ^3.11.2\n  firebase_core: ^1.10.0\n  cloud_firestore: ^2.5.4\n  url_launcher:\n  firebase_core_platform_interface: ^4.8.0\n  provider:\n  geolocator:\n  google_maps_flutter:\n  geocoding: ^2.1.0\n  flutter_spinkit:\n  shared_preferences:\n  carousel_slider:\n  get:\n  paginate_firestore:\n  persistent_bottom_nav_bar: ^5.0.2\n  map_launcher:\n  flutter_phone_direct_caller:\n  expandable_text:\n  flutter_easyloading:\n  toggle_switch: ^2.1.0\n  dotted_border:\n  intl:\n  chips_choice:\n  flutter_credit_card:\n  flutter_stripe:\n  http:\n  progress_dialog_null_safe: ^1.0.7\n  flutter_slidable:\n  razorpay_flutter:\n  search_page:\n  lottie:\n  firebase_core_web:\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  # The &quot;flutter_lints&quot; package below contains a set of recommended lints to\n  # encourage good coding practices. The lint set provided by the package is\n  # activated in the `analysis_options.yaml` file located at the root of your\n  # package. See that file for information about deactivating specific lint\n  # rules and activating additional ones.\n  flutter_lints: ^2.0.1\n\n# For information on the generic Dart part of this file, see the\n# following page: https://dart.dev/tools/pub/pubspec\n\n# The following section is specific to Flutter.\nflutter:\n\n  # The following line ensures that the Material Icons font is\n  # included with your application, so that you can use the icons in\n  # the material Icons class.\n  uses-material-design: true\n\n  # To add assets to your application, add an assets section, like this:\n  assets:\n    - assets/\n\n  # An image asset can refer to one or more resolution-specific &quot;variants&quot;, see\n  # https://flutter.dev/assets-and-images/#resolution-aware.\n\n  # For details regarding adding assets from package dependencies, see\n  # https://flutter.dev/assets-and-images/#from-packages\n\n  # To add custom fonts to your application, add a fonts section here,\n  # in this &quot;flutter&quot; section. Each entry in this list should have a\n  # &quot;family&quot; key with the font family name, and a &quot;fonts&quot; key with a\n  # list giving the asset and other descriptors for the font. For\n  # example:\n  fonts:\n    - family: Lato\n      fonts:\n        - asset: fonts/Lato-Bold.ttf\n          weight: 700\n        - asset: fonts/Lato-Regular.ttf\n\n    - family: Anton\n      fonts:\n        - asset: fonts/Anton-Regular.ttf\n\n  #     fonts:\n  #       - asset: fonts/Schyler-Regular.ttf\n  #       - asset: fonts/Schyler-Italic.ttf\n  #         style: italic\n  #   - family: Trajan Pro\n  #     fonts:\n  #       - asset: fonts/TrajanPro.ttf\n  #       - asset: fonts/TrajanPro_Bold.ttf\n  #         weight: 700\n  #\n  # For details regarding fonts from package dependencies,\n  # see https://flutter.dev/custom-fonts/#from-packages\n\n</code></pre>\n<p><strong>I am unable to fix the code. Experts help me out.</strong></p>\n",
        "codigo": [
            "Running Gradle task 'assembleDebug'...\n../../../AppData/Local/Pub/Cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/firebase_app.dart:18:25: Error: Member not found: 'FirebaseAppPlatform.verifyExtends'.\n    FirebaseAppPlatform.verifyExtends(_delegate);\n                        ^^^^^^^^^^^^^\n../../../AppData/Local/Pub/Cache/hosted/pub.dev/firebase_auth_platform_interface-6.10.1/lib/src/action_code_info.dart:65:15: Error: The method 'FallThroughError' isn't defined for the class 'ActionCodeInfo'.\n - 'ActionCodeInfo' is from 'package:firebase_auth_platform_interface/src/action_code_info.dart' ('../../../AppData/Local/Pub/Cache/hosted/pub.dev/firebase_auth_platform_interface-6.10.1/lib/src/action_code_info.dart').\nTry correcting the name to the name of an existing method, or defining a method named 'FallThroughError'.\n        throw FallThroughError();\n              ^^^^^^^^^^^^^^^^\n../../../AppData/Local/Pub/Cache/hosted/pub.dev/cloud_firestore_platform_interface-5.7.7/lib/src/platform_interface/utils/load_bundle_task_state.dart:13:13: Error: Method not found: 'FallThroughError'.\n      throw FallThroughError();\n            ^^^^^^^^^^^^^^^^\nTarget kernel_snapshot failed: Exception\n\n\nFAILURE: Build failed with an exception.\n",
            "name: multi_vending_grocery_app\ndescription: Grocery Application\n\n# The following line prevents the package from being accidentally published to\n# pub.dev using `flutter pub publish`. This is preferred for private packages.\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\n# The following defines the version and build number for your application.\n# A version number is three numbers separated by dots, like 1.2.43\n# followed by an optional build number separated by a +.\n# Both the version and the builder number may be overridden in flutter\n# build by specifying --build-name and --build-number, respectively.\n# In Android, build-name is used as versionName while build-number used as versionCode.\n# Read more about Android versioning at https://developer.android.com/studio/publish/versioning\n# In iOS, build-name is used as CFBundleShortVersionString while build-number used as CFBundleVersion.\n# Read more about iOS versioning at\n# https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html\nversion: 1.0.0+1\n\nenvironment:\n  sdk: \">=2.15.1 <3.0.0\"\n\n# Dependencies specify other packages that your package needs in order to work.\n# To automatically upgrade your package dependencies to the latest versions\n# consider running `flutter pub upgrade --major-versions`. Alternatively,\n# dependencies can be manually updated by changing the version numbers below to\n# the latest version available on pub.dev. To see which dependencies have newer\n# versions available, run `flutter pub outdated`.\ndependencies:\n  flutter:\n    sdk: flutter\n\n\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons:\n  dots_indicator:\n  fluttertoast:\n  firebase_auth: ^3.11.2\n  firebase_core: ^1.10.0\n  cloud_firestore: ^2.5.4\n  url_launcher:\n  firebase_core_platform_interface: ^4.8.0\n  provider:\n  geolocator:\n  google_maps_flutter:\n  geocoding: ^2.1.0\n  flutter_spinkit:\n  shared_preferences:\n  carousel_slider:\n  get:\n  paginate_firestore:\n  persistent_bottom_nav_bar: ^5.0.2\n  map_launcher:\n  flutter_phone_direct_caller:\n  expandable_text:\n  flutter_easyloading:\n  toggle_switch: ^2.1.0\n  dotted_border:\n  intl:\n  chips_choice:\n  flutter_credit_card:\n  flutter_stripe:\n  http:\n  progress_dialog_null_safe: ^1.0.7\n  flutter_slidable:\n  razorpay_flutter:\n  search_page:\n  lottie:\n  firebase_core_web:\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  # The \"flutter_lints\" package below contains a set of recommended lints to\n  # encourage good coding practices. The lint set provided by the package is\n  # activated in the `analysis_options.yaml` file located at the root of your\n  # package. See that file for information about deactivating specific lint\n  # rules and activating additional ones.\n  flutter_lints: ^2.0.1\n\n# For information on the generic Dart part of this file, see the\n# following page: https://dart.dev/tools/pub/pubspec\n\n# The following section is specific to Flutter.\nflutter:\n\n  # The following line ensures that the Material Icons font is\n  # included with your application, so that you can use the icons in\n  # the material Icons class.\n  uses-material-design: true\n\n  # To add assets to your application, add an assets section, like this:\n  assets:\n    - assets/\n\n  # An image asset can refer to one or more resolution-specific \"variants\", see\n  # https://flutter.dev/assets-and-images/#resolution-aware.\n\n  # For details regarding adding assets from package dependencies, see\n  # https://flutter.dev/assets-and-images/#from-packages\n\n  # To add custom fonts to your application, add a fonts section here,\n  # in this \"flutter\" section. Each entry in this list should have a\n  # \"family\" key with the font family name, and a \"fonts\" key with a\n  # list giving the asset and other descriptors for the font. For\n  # example:\n  fonts:\n    - family: Lato\n      fonts:\n        - asset: fonts/Lato-Bold.ttf\n          weight: 700\n        - asset: fonts/Lato-Regular.ttf\n\n    - family: Anton\n      fonts:\n        - asset: fonts/Anton-Regular.ttf\n\n  #     fonts:\n  #       - asset: fonts/Schyler-Regular.ttf\n  #       - asset: fonts/Schyler-Italic.ttf\n  #         style: italic\n  #   - family: Trajan Pro\n  #     fonts:\n  #       - asset: fonts/TrajanPro.ttf\n  #       - asset: fonts/TrajanPro_Bold.ttf\n  #         weight: 700\n  #\n  # For details regarding fonts from package dependencies,\n  # see https://flutter.dev/custom-fonts/#from-packages\n\n"
        ]
    },
    {
        "titulo": "Flutter &quot;Unable to Find Target Name&quot;",
        "score": 0,
        "views": 878,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "cocoapods",
            "macbookpro"
        ],
        "link": "https://stackoverflow.com/questions/76987656/flutter-unable-to-find-target-name",
        "conteudo_html": "<p>I've seen several threads that start to address this issue but none have solved mine. Having an error trying to compile on my 2023 M2 MacBook Pro.</p>\n<p>Error: [!] Unable to find a target named <code>RunnerTests</code> in project <code>Runner.xcodeproj</code>, did find <code>Runner</code>.</p>\n<p>Here is some the error and the Flutter Doctor.\nInstalled through HomeBrew</p>\n<pre><code>[✓] Flutter (Channel stable, 3.13.1, on macOS 13.4 22F66 darwin-arm64 (Rosetta), locale en-US)\n    • Flutter version 3.13.1 on channel stable at /Users/brennanaltringer/Documents/development/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision e1e47221e8 (4 days ago), 2023-08-22 21:43:18 -0700\n    • Engine revision b20183e040\n    • Dart version 3.1.0\n    • DevTools version 2.25.0\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /Users/brennanaltringer/Library/Android/sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b829.9-10027231)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.3.1)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14E300c\n    • CocoaPods version 1.12.1\n\n[✗] Chrome - develop for the web (Cannot find Chrome executable at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome)\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n\n[✓] Android Studio (version 2022.3)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b829.9-10027231)\n\n[✓] VS Code (version 1.81.1)\n    • VS Code at /Users/brennanaltringer/Downloads/Visual Studio Code.app/Contents\n    • Flutter extension version 3.70.0\n\n[✓] Connected device (3 available)\n    • sdk gphone arm64 (mobile)  • emulator-5554                        • android-arm64 • Android 11 (API 30) (emulator)\n    • iPhone 14 Pro Max (mobile) • 38B5F0BC-D398-4800-900F-624FE2D8974D • ios           • com.apple.CoreSimulator.SimRuntime.iOS-16-4 (simulator)\n    • macOS (desktop)            • macos                                • darwin-arm64  • macOS 13.4 22F66 darwin-arm64 (Rosetta)\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n</code></pre>\n<p>Error on compile:</p>\n<pre><code>Launching lib/main.dart on iPhone 14 Pro Max in debug mode...\nRunning pod install...                                             384ms\nCocoaPods' output:\n↳\n      Preparing\n\n    Analyzing dependencies\n\n    Inspecting targets to integrate\n      Using `ARCHS` setting to build architectures of target `Pods-Runner`: (``)\n    [!] Unable to find a target named `RunnerTests` in project `Runner.xcodeproj`, did find `Runner`.\n\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer/target_inspector.rb:108:in `compute_targets'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer/target_inspector.rb:40:in `compute_results'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer.rb:1197:in `block (3 levels) in\n    inspect_targets_to_integrate'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer.rb:1195:in `each'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer.rb:1195:in `block (2 levels) in\n    inspect_targets_to_integrate'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer.rb:1193:in `each'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer.rb:1193:in `block in inspect_targets_to_integrate'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/user_interface.rb:64:in `section'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer.rb:1188:in `inspect_targets_to_integrate'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer.rb:107:in `analyze'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer.rb:422:in `analyze'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer.rb:244:in `block in resolve_dependencies'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/user_interface.rb:64:in `section'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer.rb:243:in `resolve_dependencies'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer.rb:162:in `install!'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/command/install.rb:52:in `run'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/claide-1.1.0/lib/claide/command.rb:334:in `run'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/command.rb:52:in `run'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/bin/pod:55:in `&lt;top (required)&gt;'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/bin/pod:25:in `load'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/bin/pod:25:in `&lt;main&gt;'\n\nError running pod install\nError launching application on iPhone 14 Pro Max.\n</code></pre>\n<p>I am also getting an error in my Runner in Xcode complaining about &quot;Module 'assets_audio_player' not found&quot;</p>\n<p>I've tried ever version online for reinstalling pod with gem and brew, paths are updated and pointing in the right direction. Flutter clean and all those easy stuff didn't work either. I believe Ruby is up to date. Please help.</p>\n",
        "codigo": [
            "RunnerTests",
            "Runner.xcodeproj",
            "Runner",
            "[✓] Flutter (Channel stable, 3.13.1, on macOS 13.4 22F66 darwin-arm64 (Rosetta), locale en-US)\n    • Flutter version 3.13.1 on channel stable at /Users/brennanaltringer/Documents/development/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision e1e47221e8 (4 days ago), 2023-08-22 21:43:18 -0700\n    • Engine revision b20183e040\n    • Dart version 3.1.0\n    • DevTools version 2.25.0\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /Users/brennanaltringer/Library/Android/sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b829.9-10027231)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.3.1)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14E300c\n    • CocoaPods version 1.12.1\n\n[✗] Chrome - develop for the web (Cannot find Chrome executable at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome)\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n\n[✓] Android Studio (version 2022.3)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b829.9-10027231)\n\n[✓] VS Code (version 1.81.1)\n    • VS Code at /Users/brennanaltringer/Downloads/Visual Studio Code.app/Contents\n    • Flutter extension version 3.70.0\n\n[✓] Connected device (3 available)\n    • sdk gphone arm64 (mobile)  • emulator-5554                        • android-arm64 • Android 11 (API 30) (emulator)\n    • iPhone 14 Pro Max (mobile) • 38B5F0BC-D398-4800-900F-624FE2D8974D • ios           • com.apple.CoreSimulator.SimRuntime.iOS-16-4 (simulator)\n    • macOS (desktop)            • macos                                • darwin-arm64  • macOS 13.4 22F66 darwin-arm64 (Rosetta)\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n",
            "Launching lib/main.dart on iPhone 14 Pro Max in debug mode...\nRunning pod install...                                             384ms\nCocoaPods' output:\n↳\n      Preparing\n\n    Analyzing dependencies\n\n    Inspecting targets to integrate\n      Using `ARCHS` setting to build architectures of target `Pods-Runner`: (``)\n    [!] Unable to find a target named `RunnerTests` in project `Runner.xcodeproj`, did find `Runner`.\n\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer/target_inspector.rb:108:in `compute_targets'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer/target_inspector.rb:40:in `compute_results'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer.rb:1197:in `block (3 levels) in\n    inspect_targets_to_integrate'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer.rb:1195:in `each'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer.rb:1195:in `block (2 levels) in\n    inspect_targets_to_integrate'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer.rb:1193:in `each'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer.rb:1193:in `block in inspect_targets_to_integrate'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/user_interface.rb:64:in `section'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer.rb:1188:in `inspect_targets_to_integrate'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer/analyzer.rb:107:in `analyze'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer.rb:422:in `analyze'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer.rb:244:in `block in resolve_dependencies'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/user_interface.rb:64:in `section'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer.rb:243:in `resolve_dependencies'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/installer.rb:162:in `install!'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/command/install.rb:52:in `run'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/claide-1.1.0/lib/claide/command.rb:334:in `run'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/lib/cocoapods/command.rb:52:in `run'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/gems/cocoapods-1.12.1/bin/pod:55:in `<top (required)>'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/bin/pod:25:in `load'\n    /opt/homebrew/Cellar/cocoapods/1.12.1/libexec/bin/pod:25:in `<main>'\n\nError running pod install\nError launching application on iPhone 14 Pro Max.\n"
        ]
    },
    {
        "titulo": "type &#39;Null&#39; is not a subtype of type &#39;Future&lt;Either&lt;Failure, NumberTrival&gt;&gt;&#39;",
        "score": 0,
        "views": 36,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76976854/type-null-is-not-a-subtype-of-type-futureeitherfailure-numbertrival",
        "conteudo_html": "<p>I have been writing test for GetConcreteNumberTrival class and it shows the above error at this statement:</p>\n<pre><code>when(mockNumberTrivalRepository.getConcreteNumberTrival(number: tNumber))\n          .thenAnswer((_) async{\n        return right(numberTrival);\n      });\n</code></pre>\n<p>full code: get_concrete_number_trival_test.dart</p>\n<pre><code>import 'package:dartz/dartz.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\nimport 'package:number_trivia/core/failure/failure.dart';\nimport 'package:number_trivia/features/number_trivia/domain/entities/number_trival.dart';\nimport 'package:number_trivia/features/number_trivia/domain/repositories/number_trival_repository.dart';\nimport 'package:number_trivia/features/number_trivia/domain/usecases/get_concrete_number_trival.dart';\n\n// we create abstract of NumberTrivalRepo because GetConcreteNumberTrival\n// use NumberTrivalRepository to get data. So, we mock it to use it\n// as per our need\nclass MockNumberTrivalRepository extends Mock\n    implements NumberTrivalRepository {}\n\n\nvoid main() {\n  late MockNumberTrivalRepository mockNumberTrivalRepository;\n  late GetConcreteNumberTrival sut;\n\n  setUp(() {\n    mockNumberTrivalRepository = MockNumberTrivalRepository();\n    sut = GetConcreteNumberTrival(mockNumberTrivalRepository);\n    print(&quot;initialize&quot;);\n  });\n\n  final numberTrival = NumberTrival(text: &quot;text&quot;, number: 4);\n  int tNumber = 4;\n\n  test(\n    &quot;get concrete number trivial&quot;,\n    () async {\n      when(mockNumberTrivalRepository.getConcreteNumberTrival(number: tNumber))\n          .thenAnswer((_) async{\n        return right(numberTrival);\n      });\n      final result = await sut.execute(tNumber);\n\n      expect(result, right(numberTrival));\n      verify(\n          mockNumberTrivalRepository.getConcreteNumberTrival(number: tNumber));\n    },\n  );\n}\n\n</code></pre>\n<p>NumberTrivalRepository class:</p>\n<pre><code>import 'package:dartz/dartz.dart';\nimport 'package:number_trivia/features/number_trivia/domain/entities/number_trival.dart';\n\nimport '../../../../core/failure/failure.dart';\n\nabstract class NumberTrivalRepository {\n  \n\n  Future&lt;Either&lt;Failure, NumberTrival&gt;&gt; getConcreteNumberTrival(\n      {required int number});\n  Future&lt;Either&lt;Failure, NumberTrival&gt;&gt; getRandomNumberTrival();\n}\n\n</code></pre>\n<p>GetConcreteNumberTrival class:</p>\n<pre><code>import 'package:dartz/dartz.dart';\nimport 'package:number_trivia/core/failure/failure.dart';\nimport 'package:number_trivia/features/number_trivia/domain/entities/number_trival.dart';\nimport 'package:number_trivia/features/number_trivia/domain/repositories/number_trival_repository.dart';\n\nclass GetConcreteNumberTrival {\n  NumberTrivalRepository repository;\n\n  GetConcreteNumberTrival(this.repository);\n\n  Future&lt;Either&lt;Failure, NumberTrival&gt;&gt; execute(int number) async {\n    return await repository.getConcreteNumberTrival(number: number);\n  }\n}\n\n</code></pre>\n<p>I spend my whole day solving this but cannot get it. Helping hands is appreciated</p>\n",
        "codigo": [
            "when(mockNumberTrivalRepository.getConcreteNumberTrival(number: tNumber))\n          .thenAnswer((_) async{\n        return right(numberTrival);\n      });\n",
            "import 'package:dartz/dartz.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\nimport 'package:number_trivia/core/failure/failure.dart';\nimport 'package:number_trivia/features/number_trivia/domain/entities/number_trival.dart';\nimport 'package:number_trivia/features/number_trivia/domain/repositories/number_trival_repository.dart';\nimport 'package:number_trivia/features/number_trivia/domain/usecases/get_concrete_number_trival.dart';\n\n// we create abstract of NumberTrivalRepo because GetConcreteNumberTrival\n// use NumberTrivalRepository to get data. So, we mock it to use it\n// as per our need\nclass MockNumberTrivalRepository extends Mock\n    implements NumberTrivalRepository {}\n\n\nvoid main() {\n  late MockNumberTrivalRepository mockNumberTrivalRepository;\n  late GetConcreteNumberTrival sut;\n\n  setUp(() {\n    mockNumberTrivalRepository = MockNumberTrivalRepository();\n    sut = GetConcreteNumberTrival(mockNumberTrivalRepository);\n    print(\"initialize\");\n  });\n\n  final numberTrival = NumberTrival(text: \"text\", number: 4);\n  int tNumber = 4;\n\n  test(\n    \"get concrete number trivial\",\n    () async {\n      when(mockNumberTrivalRepository.getConcreteNumberTrival(number: tNumber))\n          .thenAnswer((_) async{\n        return right(numberTrival);\n      });\n      final result = await sut.execute(tNumber);\n\n      expect(result, right(numberTrival));\n      verify(\n          mockNumberTrivalRepository.getConcreteNumberTrival(number: tNumber));\n    },\n  );\n}\n\n",
            "import 'package:dartz/dartz.dart';\nimport 'package:number_trivia/features/number_trivia/domain/entities/number_trival.dart';\n\nimport '../../../../core/failure/failure.dart';\n\nabstract class NumberTrivalRepository {\n  \n\n  Future<Either<Failure, NumberTrival>> getConcreteNumberTrival(\n      {required int number});\n  Future<Either<Failure, NumberTrival>> getRandomNumberTrival();\n}\n\n",
            "import 'package:dartz/dartz.dart';\nimport 'package:number_trivia/core/failure/failure.dart';\nimport 'package:number_trivia/features/number_trivia/domain/entities/number_trival.dart';\nimport 'package:number_trivia/features/number_trivia/domain/repositories/number_trival_repository.dart';\n\nclass GetConcreteNumberTrival {\n  NumberTrivalRepository repository;\n\n  GetConcreteNumberTrival(this.repository);\n\n  Future<Either<Failure, NumberTrival>> execute(int number) async {\n    return await repository.getConcreteNumberTrival(number: number);\n  }\n}\n\n"
        ]
    },
    {
        "titulo": "Flutter Disabling Button Does Not Execute Function During Testing",
        "score": 0,
        "views": 118,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76966148/flutter-disabling-button-does-not-execute-function-during-testing",
        "conteudo_html": "<p>I am running into a weird scenario in Flutter with buttons and testing and I am hoping for some explanation, as I couldn't find any documentation or similar problems describing this.</p>\n<p>I have a Button that looks something like this,</p>\n<pre><code>FilledButton(\n    onPressed: state.valid &amp;&amp; !state.loading ? () async {\n        // debugger();\n        await context.read&lt;SignInCubit&gt;().signIn();\n    }: null,\n    child: const Text('Sign In'))\n</code></pre>\n<p>This works fine when I run it in a simulator - the button is initially disabled when the form is empty. When I fill in the form, it becomes enabled again. When I click on the button to sign in, the button becomes disabled again.</p>\n<p>The issue comes when I try to describe this in test,</p>\n<pre><code>testGoldens('should disable button when signing in',\n        (WidgetTester tester) async {\n      // prepare\n      ...\n      await tester.enterText(\n          find.widgetWithText(TextFormField, 'E-mail'), 'valid@gmail.com');\n      await tester.enterText(\n          find.widgetWithText(TextFormField, 'Password'), 'validpassword');\n      when(mockAuthService.signIn(\n              email: anyNamed('email'), password: anyNamed('password')))\n          .thenAnswer((realInvocation) async {\n        await Future.delayed(const Duration(seconds: 3));\n        return Future.value(User.empty());\n      });\n\n      // act\n      await tester.tap(find.widgetWithText(FilledButton, &quot;Sign In&quot;));\n      await tester.pumpAndSettle(const Duration(seconds: 2));\n\n      // verify\n      await screenMatchesGolden(tester, tester.testDescription);\n      verify(mockAuthService.signIn(\n              email: anyNamed('email'), password: anyNamed('password')))\n          .called(1);\n      expect(\n          tester\n              .widget&lt;FilledButton&gt;(\n                  find.widgetWithText(FilledButton, &quot;Sign In&quot;))\n              .enabled,\n          isFalse);\n</code></pre>\n<p>I am expecting thsi to call the mocked service, but it never does. The execution never seems to reach the debugger I placed in the async function either.</p>\n<p>However, if I change the code to something like,</p>\n<pre><code>FilledButton(\n    onPressed: () async {\n        // debugger\n        await context.read&lt;SignInCubit&gt;().signIn();\n    },\n    child: const Text('Sign In'))\n</code></pre>\n<p>The mocked service gets invoked successfully (because Mockito does not throw exception anymore), and if I put a debugger in the function, it also stops in there.</p>\n<p>I am relatively new to Dart and Flutter, so this might be a noob question - why does the latter execute the async function assigned to <code>onPressed</code>, but the former with the ternary expression doesn't?</p>\n",
        "codigo": [
            "FilledButton(\n    onPressed: state.valid && !state.loading ? () async {\n        // debugger();\n        await context.read<SignInCubit>().signIn();\n    }: null,\n    child: const Text('Sign In'))\n",
            "testGoldens('should disable button when signing in',\n        (WidgetTester tester) async {\n      // prepare\n      ...\n      await tester.enterText(\n          find.widgetWithText(TextFormField, 'E-mail'), 'valid@gmail.com');\n      await tester.enterText(\n          find.widgetWithText(TextFormField, 'Password'), 'validpassword');\n      when(mockAuthService.signIn(\n              email: anyNamed('email'), password: anyNamed('password')))\n          .thenAnswer((realInvocation) async {\n        await Future.delayed(const Duration(seconds: 3));\n        return Future.value(User.empty());\n      });\n\n      // act\n      await tester.tap(find.widgetWithText(FilledButton, \"Sign In\"));\n      await tester.pumpAndSettle(const Duration(seconds: 2));\n\n      // verify\n      await screenMatchesGolden(tester, tester.testDescription);\n      verify(mockAuthService.signIn(\n              email: anyNamed('email'), password: anyNamed('password')))\n          .called(1);\n      expect(\n          tester\n              .widget<FilledButton>(\n                  find.widgetWithText(FilledButton, \"Sign In\"))\n              .enabled,\n          isFalse);\n",
            "FilledButton(\n    onPressed: () async {\n        // debugger\n        await context.read<SignInCubit>().signIn();\n    },\n    child: const Text('Sign In'))\n",
            "onPressed"
        ]
    },
    {
        "titulo": "LateInitializationError: Field &#39;iCategory&#39; has not been initialized",
        "score": 0,
        "views": 21,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76963894/lateinitializationerror-field-icategory-has-not-been-initialized",
        "conteudo_html": "<p>I'm performing tests in flutter and this error is occurring (LateInitializationError: Field 'iCategory' has not been initialized.\ntest\\interfaces\\icategory_test.dart<br />\niCategory\ntest\\interfaces\\icategory_test.dart:1\nmain.)</p>\n<pre><code>       //iterfaces/icategory.dart\n        import '../models/categorias/category_model.dart';\n\n        abstract class ICategory {\n          Future&lt;List&lt;CategoryModel&gt;&gt; fetchCategory(int page);\n        }\n\n        //iterfaces/icategory_test.dart\n\n        // ignore_for_file: avoid_print\n\n        import 'package:flutter_test/flutter_test.dart';\n        import 'package:app/interfaces/icategory.dart';\n\n        late ICategory iCategory;\n        void main() {\n          test('Teste iCategory', () {\n            print(iCategory);\n          });\n        }\n        //Error - LateInitializationError: Field 'iCategory' has not been initialized.\n        //test\\interfaces\\icategory_test.dart       iCategory\n        //test\\interfaces\\icategory_test.dart:1\n       //main.&lt;fn&gt;\n</code></pre>\n",
        "codigo": [
            "       //iterfaces/icategory.dart\n        import '../models/categorias/category_model.dart';\n\n        abstract class ICategory {\n          Future<List<CategoryModel>> fetchCategory(int page);\n        }\n\n        //iterfaces/icategory_test.dart\n\n        // ignore_for_file: avoid_print\n\n        import 'package:flutter_test/flutter_test.dart';\n        import 'package:app/interfaces/icategory.dart';\n\n        late ICategory iCategory;\n        void main() {\n          test('Teste iCategory', () {\n            print(iCategory);\n          });\n        }\n        //Error - LateInitializationError: Field 'iCategory' has not been initialized.\n        //test\\interfaces\\icategory_test.dart       iCategory\n        //test\\interfaces\\icategory_test.dart:1\n       //main.<fn>\n"
        ]
    },
    {
        "titulo": "How can I insert an item into a list after comparing the previous and next items in Dart?",
        "score": 0,
        "views": 618,
        "respostas": 2,
        "tags": [
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76957194/how-can-i-insert-an-item-into-a-list-after-comparing-the-previous-and-next-items",
        "conteudo_html": "<p>I will explain what I'm trying to achieve after I provide some sample code. Firstly, I've written an extension on <code>List&lt;T&gt;</code>.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>extension ListExtension&lt;T&gt; on List&lt;T&gt; {\n  void place(T item, bool Function(T? prev, T curr, T? next) comparator) {\n    for (int i = 0; i &lt; length; i++) {\n      T? prev;\n      try {\n        prev = elementAtOrNull(i - 1);\n        // ignore: avoid_catching_errors\n      } on RangeError {\n        prev = null;\n      }\n      final next = elementAtOrNull(i + 1);\n\n      final check = comparator(prev, item, next);\n      if (check) {\n        insert(i, item);\n      }\n    }\n  }\n}\n</code></pre>\n<p>And this is how my test looks like:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void main() {\n  bool comparator(int? prev, int curr, int? next) {\n    if (next == null) {\n      return true;\n    }\n\n    if (prev == null &amp;&amp; curr &lt; next) {\n      return true;\n    }\n\n    if (curr &gt;= prev! &amp;&amp; curr &lt; next) {\n      return true;\n    }\n\n    if (curr &gt;= prev &amp;&amp; curr &lt; next) {\n      return true;\n    }\n\n    return false;\n  }\n\n  test('place', () {\n    final list = [1];\n\n    // ignore: cascade_invocations\n    list.place(2, comparator);\n    expect(list, [1, 2]);\n\n    list.place(4, comparator);\n    expect(list, [1, 2, 4]);\n\n    list.place(3, comparator);\n    expect(list, [1, 2, 3, 4]);\n  });\n}\n</code></pre>\n<p>Now, onto the explanation: I want to create a method for <code>List&lt;T&gt;</code>, which will insert an item/element into it. It will iterate over each item, compare the given item to the previous and next one and insert it with the condition provided by <code>comparator</code> function (which is shamelessly named <code>place</code>).</p>\n<p>What I basically want to do is to create a list that is ordered, but instead of using <code>order</code> and methods alike, I want to do it on the fly.</p>\n<p>Probably the implementation of <code>order</code> and similar methods are safer and much more performant. The reason I want to do this is because the datatype I'm planning to use is much more complex and it is provided via a Stream, so it's naturally unordered and unpredictable and I don't want to mangle the order of my <code>ListView</code> after bloc emits the list once again.</p>\n<p>The problem with this implementation at hand is it, for some weird reason, hangs. The test never finishes for some reason. I can't seem to understand the reason.</p>\n<p>And also I'd like to get your opinion about this approach. I think there's a hidden performance cost that I can't wrap my head around. Maybe there's a better type of collection that I can do these kind of things. Any suggestions are welcome.</p>\n<p>Thanks in advance.</p>\n",
        "codigo": [
            "List<T>",
            "extension ListExtension<T> on List<T> {\n  void place(T item, bool Function(T? prev, T curr, T? next) comparator) {\n    for (int i = 0; i < length; i++) {\n      T? prev;\n      try {\n        prev = elementAtOrNull(i - 1);\n        // ignore: avoid_catching_errors\n      } on RangeError {\n        prev = null;\n      }\n      final next = elementAtOrNull(i + 1);\n\n      final check = comparator(prev, item, next);\n      if (check) {\n        insert(i, item);\n      }\n    }\n  }\n}\n",
            "void main() {\n  bool comparator(int? prev, int curr, int? next) {\n    if (next == null) {\n      return true;\n    }\n\n    if (prev == null && curr < next) {\n      return true;\n    }\n\n    if (curr >= prev! && curr < next) {\n      return true;\n    }\n\n    if (curr >= prev && curr < next) {\n      return true;\n    }\n\n    return false;\n  }\n\n  test('place', () {\n    final list = [1];\n\n    // ignore: cascade_invocations\n    list.place(2, comparator);\n    expect(list, [1, 2]);\n\n    list.place(4, comparator);\n    expect(list, [1, 2, 4]);\n\n    list.place(3, comparator);\n    expect(list, [1, 2, 3, 4]);\n  });\n}\n",
            "List<T>",
            "comparator",
            "place",
            "order",
            "order",
            "ListView"
        ]
    },
    {
        "titulo": "i want to make this code excuted in the least number of code lines in dart",
        "score": 0,
        "views": 29,
        "respostas": 2,
        "tags": [
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76952231/i-want-to-make-this-code-excuted-in-the-least-number-of-code-lines-in-dart",
        "conteudo_html": "<pre><code>int a = 10;\nint b = 20;\n\n\nint Istru(bool c, int num1, int num2){\n  return c?num1:num2;\n}\n\nprint(Istru(true, 10, 220));\n</code></pre>\n<p>it makes that error when i run it:</p>\n<pre><code>Error compiling to JavaScript:\nlib/main.dart:9:19:\nError: Expected an identifier, but got '10'.\nprint(Istru(True, 10, 220));\n                  ^^\nlib/main.dart:9:23:\nError: Expected an identifier, but got '220'.\nprint(Istru(True, 10, 220));\n                      ^^^\nlib/main.dart:9:28:\nError: Expected a function body or '=&gt;'.\nprint(Istru(True, 10, 220));\n                           ^\nError: No 'main' method found.\nError: Compilation failed.\n</code></pre>\n",
        "codigo": [
            "int a = 10;\nint b = 20;\n\n\nint Istru(bool c, int num1, int num2){\n  return c?num1:num2;\n}\n\nprint(Istru(true, 10, 220));\n",
            "Error compiling to JavaScript:\nlib/main.dart:9:19:\nError: Expected an identifier, but got '10'.\nprint(Istru(True, 10, 220));\n                  ^^\nlib/main.dart:9:23:\nError: Expected an identifier, but got '220'.\nprint(Istru(True, 10, 220));\n                      ^^^\nlib/main.dart:9:28:\nError: Expected a function body or '=>'.\nprint(Istru(True, 10, 220));\n                           ^\nError: No 'main' method found.\nError: Compilation failed.\n"
        ]
    },
    {
        "titulo": "Error: Unable to &#39;pub upgrade&#39; flutter tool. Retrying in five seconds... Error on line 14, column 6 of pubspec.yaml: Expected &#39;:&#39;",
        "score": 0,
        "views": 211,
        "respostas": 3,
        "tags": [
            "flutter",
            "dart",
            "dart-pub",
            "flutter-pub",
            "flutter-pubspec"
        ],
        "link": "https://stackoverflow.com/questions/76938293/error-unable-to-pub-upgrade-flutter-tool-retrying-in-five-seconds-error-o",
        "conteudo_html": "<p>Someone on stackoverflow posted about this issue before and there isn't an answer to this issue.</p>\n<p>The issue:</p>\n<pre><code>Error on line 14, column 6 of pubspec.yaml: Expected ':'.\n   ╷\n14 │   dds: 2.7.10\n   │      ^\n   ╵\n</code></pre>\n<p>I tried everything that was suggested in this post: <a href=\"https://stackoverflow.com/questions/70811247/error-unable-to-pub-upgrade-flutter-tool\">Error: Unable to &#39;pub upgrade&#39; flutter tool</a></p>\n<pre class=\"lang-bash prettyprint-override\"><code>&gt;&gt;&gt; flutter pub get\n&gt;&gt;&gt; flutter clean\n&gt;&gt;&gt; flutter run\n&gt;&gt;&gt; flutter pub cache repair\n&gt;&gt;&gt; flutter doctor\n&gt;&gt;&gt; flutter upgrade\n</code></pre>\n<p>All this didn't work, still jump to this error.</p>\n<p>If anyone knows how to solve this issue, please answer or add a comment on this question, thanks.</p>\n<p>here is my pubspec.yaml file:</p>\n<pre><code>name: mytable\ndescription: A new Flutter project.\n# The following line prevents the package from being accidentally published to\n# pub.dev using `flutter pub publish`. This is preferred for private packages.\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\n# The following defines the version and build number for your application.\n# A version number is three numbers separated by dots, like 1.2.43\n# followed by an optional build number separated by a +.\n# Both the version and the builder number may be overridden in flutter\n# build by specifying --build-name and --build-number, respectively.\n# In Android, build-name is used as versionName while build-number used as versionCode.\n# Read more about Android versioning at https://developer.android.com/studio/publish/versioning\n# In iOS, build-name is used as CFBundleShortVersionString while build-number is used as CFBundleVersion.\n# Read more about iOS versioning at\n# https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html\n# In Windows, build-name is used as the major, minor, and patch parts\n# of the product and file versions while build-number is used as the build suffix.\nversion: 1.0.0+1\n\nenvironment:\n  sdk: '&gt;=3.0.5 &lt;4.0.0'\n\n# Dependencies specify other packages that your package needs in order to work.\n# To automatically upgrade your package dependencies to the latest versions\n# consider running `flutter pub upgrade --major-versions`. Alternatively,\n# dependencies can be manually updated by changing the version numbers below to\n# the latest version available on pub.dev. To see which dependencies have newer\n# versions available, run `flutter pub outdated`.\ndependencies:\n  cupertino_icons: ^1.0.2\n  flutter:\n    sdk: flutter\n  flutter_screenutil: ^5.8.4\n  flutter_svg: ^2.0.7\n  flutter_custom_clippers: ^2.1.0\n  intl: ^0.18.1\n  \n\ndev_dependencies:\n\n  # The &quot;flutter_lints&quot; package below contains a set of recommended lints to\n  # encourage good coding practices. The lint set provided by the package is\n  # activated in the `analysis_options.yaml` file located at the root of your\n  # package. See that file for information about deactivating specific lint\n  # # rules and activating additional ones.\n  flutter_lints: ^2.0.0\n  flutter_test:\n    sdk: flutter\n\n# For information on the generic Dart part of this file, see the\n# following page: https://dart.dev/tools/pub/pubspec\n# The following section is specific to Flutter packages.\nflutter:\n\n  # The following line ensures that the Material Icons font is\n  # included with your application, so that you can use the icons in\n  # the material Icons class.\n  uses-material-design: true\n  # To add assets to your application, add an assets section, like this:\n  assets: \n  - assets/images/\n  \n  # An image asset can refer to one or more resolution-specific &quot;variants&quot;, see\n  # https://flutter.dev/assets-and-images/#resolution-aware\n  # For details regarding adding assets from package dependencies, see\n  # https://flutter.dev/assets-and-images/#from-packages\n  # To add custom fonts to your application, add a fonts section here,\n  # in this &quot;flutter&quot; section. Each entry in this list should have a\n  # &quot;family&quot; key with the font family name, and a &quot;fonts&quot; key with a\n  # list giving the asset and other descriptors for the font. For\n  # example:\n  fonts:\n    - family: Almarai-Bold\n      fonts:\n        - asset: assets/fonts/Almarai/Almarai-Bold.ttf\n\n    - family: Almarai-Regular\n      fonts:\n        - asset: assets/fonts/Almarai/Almarai-Regular.ttf\n     \n    - family: Poppins-Medium\n      fonts:\n        - asset: assets/fonts/Poppins/Poppins-Medium.ttf\n\n    - family: Amiri\n      fonts: \n        - asset: assets/fonts/Amiri/Amiri-Bold.ttf\n       \n   \n  #\n  # For details regarding fonts from package dependencies,\n  # see https://flutter.dev/custom-fonts/#from-packages\n</code></pre>\n<p><a href=\"https://i.sstatic.net/ZdCGg.png\" rel=\"nofollow noreferrer\">screenshot of pubspec.yaml</a></p>\n",
        "codigo": [
            "Error on line 14, column 6 of pubspec.yaml: Expected ':'.\n   ╷\n14 │   dds: 2.7.10\n   │      ^\n   ╵\n",
            ">>> flutter pub get\n>>> flutter clean\n>>> flutter run\n>>> flutter pub cache repair\n>>> flutter doctor\n>>> flutter upgrade\n",
            "name: mytable\ndescription: A new Flutter project.\n# The following line prevents the package from being accidentally published to\n# pub.dev using `flutter pub publish`. This is preferred for private packages.\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\n# The following defines the version and build number for your application.\n# A version number is three numbers separated by dots, like 1.2.43\n# followed by an optional build number separated by a +.\n# Both the version and the builder number may be overridden in flutter\n# build by specifying --build-name and --build-number, respectively.\n# In Android, build-name is used as versionName while build-number used as versionCode.\n# Read more about Android versioning at https://developer.android.com/studio/publish/versioning\n# In iOS, build-name is used as CFBundleShortVersionString while build-number is used as CFBundleVersion.\n# Read more about iOS versioning at\n# https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html\n# In Windows, build-name is used as the major, minor, and patch parts\n# of the product and file versions while build-number is used as the build suffix.\nversion: 1.0.0+1\n\nenvironment:\n  sdk: '>=3.0.5 <4.0.0'\n\n# Dependencies specify other packages that your package needs in order to work.\n# To automatically upgrade your package dependencies to the latest versions\n# consider running `flutter pub upgrade --major-versions`. Alternatively,\n# dependencies can be manually updated by changing the version numbers below to\n# the latest version available on pub.dev. To see which dependencies have newer\n# versions available, run `flutter pub outdated`.\ndependencies:\n  cupertino_icons: ^1.0.2\n  flutter:\n    sdk: flutter\n  flutter_screenutil: ^5.8.4\n  flutter_svg: ^2.0.7\n  flutter_custom_clippers: ^2.1.0\n  intl: ^0.18.1\n  \n\ndev_dependencies:\n\n  # The \"flutter_lints\" package below contains a set of recommended lints to\n  # encourage good coding practices. The lint set provided by the package is\n  # activated in the `analysis_options.yaml` file located at the root of your\n  # package. See that file for information about deactivating specific lint\n  # # rules and activating additional ones.\n  flutter_lints: ^2.0.0\n  flutter_test:\n    sdk: flutter\n\n# For information on the generic Dart part of this file, see the\n# following page: https://dart.dev/tools/pub/pubspec\n# The following section is specific to Flutter packages.\nflutter:\n\n  # The following line ensures that the Material Icons font is\n  # included with your application, so that you can use the icons in\n  # the material Icons class.\n  uses-material-design: true\n  # To add assets to your application, add an assets section, like this:\n  assets: \n  - assets/images/\n  \n  # An image asset can refer to one or more resolution-specific \"variants\", see\n  # https://flutter.dev/assets-and-images/#resolution-aware\n  # For details regarding adding assets from package dependencies, see\n  # https://flutter.dev/assets-and-images/#from-packages\n  # To add custom fonts to your application, add a fonts section here,\n  # in this \"flutter\" section. Each entry in this list should have a\n  # \"family\" key with the font family name, and a \"fonts\" key with a\n  # list giving the asset and other descriptors for the font. For\n  # example:\n  fonts:\n    - family: Almarai-Bold\n      fonts:\n        - asset: assets/fonts/Almarai/Almarai-Bold.ttf\n\n    - family: Almarai-Regular\n      fonts:\n        - asset: assets/fonts/Almarai/Almarai-Regular.ttf\n     \n    - family: Poppins-Medium\n      fonts:\n        - asset: assets/fonts/Poppins/Poppins-Medium.ttf\n\n    - family: Amiri\n      fonts: \n        - asset: assets/fonts/Amiri/Amiri-Bold.ttf\n       \n   \n  #\n  # For details regarding fonts from package dependencies,\n  # see https://flutter.dev/custom-fonts/#from-packages\n"
        ]
    },
    {
        "titulo": "Express web server deployed to prod but GET returns a timeout error",
        "score": 1,
        "views": 202,
        "respostas": 2,
        "tags": [
            "node.js",
            "flutter",
            "express",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76900664/express-web-server-deployed-to-prod-but-get-returns-a-timeout-error",
        "conteudo_html": "<p>I have a server that is running Windows 10. I created an Express project using this <a href=\"https://github.com/seanpmaxwell/express-generator-typescript\" rel=\"nofollow noreferrer\">repo</a>. I ran in development mode just fine and I now want to deploy to production. I followed the instructions to do so:</p>\n<ul>\n<li>Check for linting errors: <code>npm run lint</code></li>\n<li>Build the project for production: <code>npm run build</code></li>\n<li>Run the production build: <code>npm start</code></li>\n</ul>\n<p>However, when I try to send a <code>GET</code> request to the IP address of the server, I get a connection timed out error. Was I supposed to do other things to prepare for deploying to production? Do I need to specify a port number? I'm relatively new to web server development, so I apologize if this is a dumb question. I am sending the request through a Flutter app:</p>\n<pre><code>  void test() async {    \n    var url = Uri.http('ServerIPAddress');\n\n    try {\n      var response = await http.get(url);\n      if (kDebugMode) {\n        print('Response status: ${response.statusCode}');\n      }\n    } catch (e) {\n      if (kDebugMode) {\n        print('ERROR: $e');\n      }\n    }\n  }\n</code></pre>\n<p>Note: this is all on an internal network. It is not exposed to the public internet.</p>\n",
        "codigo": [
            "npm run lint",
            "npm run build",
            "npm start",
            "GET",
            "  void test() async {    \n    var url = Uri.http('ServerIPAddress');\n\n    try {\n      var response = await http.get(url);\n      if (kDebugMode) {\n        print('Response status: ${response.statusCode}');\n      }\n    } catch (e) {\n      if (kDebugMode) {\n        print('ERROR: $e');\n      }\n    }\n  }\n"
        ]
    },
    {
        "titulo": "How to create a signature using secp256k1 in Dart the same as in JavaScript code",
        "score": 1,
        "views": 1107,
        "respostas": 2,
        "tags": [
            "javascript",
            "dart",
            "cryptography",
            "ecdsa",
            "ecdsasignature"
        ],
        "link": "https://stackoverflow.com/questions/76899213/how-to-create-a-signature-using-secp256k1-in-dart-the-same-as-in-javascript-code",
        "conteudo_html": "<p>I am trying to create a signature in Dart using <code>secp256k1</code>. But I am generating  different signature as compared to javascript. JavaScript Method as follows:</p>\n<pre><code>import * as secp from &quot;@noble/secp256k1&quot;;    \nconst signature = await secp.sign(msgHash, hashingPrivateKey, {\n        der: false,\n        recovered: true,\n    });\n</code></pre>\n<p>I need to pass these <code>der</code> and <code>recovered</code> parameters in my Dart code. I wasn't able to find any option to add those params in my Dart code. My code is as follows:</p>\n<pre><code>import 'package:secp256k1/secp256k1.dart' as secp;\n    var pk = secp.PrivateKey.fromHex(hashingPrivateKey);\n    var pub = pk.publicKey;\n    final signature = pk.signature(msgHash);\n</code></pre>\n<p><em><strong>Each time I run this function in dart , different signature.R and different signature.S are returning.Could you please explain ?</strong></em></p>\n<p>Javascript library version is <code>&quot;@noble/secp256k1&quot;: &quot;^1.7.0&quot;,</code>\ninput values are</p>\n<p><code>msgHash : fea272bf4112f825697cfebe6f8f7dd8de1726d0c62ab45b78de4cb62f99a8dc</code></p>\n<pre><code>hashingPrivateKey : bf751b9f4cacc36548c56a88dc47aa87b93b415705b9a62aa0a669d98381f619\n</code></pre>\n<p>result signature from javascript is <code>A2Mt3EHNy1HHgBwt46PSUBJG0BdyPs326hoixd6/AJdaY9axCXwEQRHgt4Xb1dr9LLr5r+C/fRM24ySeioOBWAA=</code></p>\n<p>result signature from dart is <code>D+ZSaLNGbFiAinyJ/B5GcLwI7dl1NqyHDkKG34iUXvlUhQ7Q6LF2gR94Nbyx2JZ3TH0fVZ4mU4MGAyWxtEDJeA==</code></p>\n<p>generated from</p>\n<pre><code>var sig = Uint8List.fromList([\n        ...NanoHelpers.bigIntToBytes(signature.R),\n        ...NanoHelpers.bigIntToBytes(signature.S)\n      ]);\n</code></pre>\n<p>using <code>pointycaslte</code> I tried the below function which also couldn't able to generate same signature.</p>\n<pre><code>ECSignature createSignature(String msgHash, String hashingPrivateKey) {\n  var domain = ECDomainParameters('secp256k1');\n  ECPrivateKey ecPrivateKey = ECPrivateKey(\n      NanoHelpers.byteToBigInt(\n          Uint8List.fromList(hex.decode(hashingPrivateKey))),\n      domain);\n\n  ECSignature signature = CryptoUtils.ecSign(\n      ecPrivateKey, Uint8List.fromList(hex.decode(msgHash)),\n      algorithmName: 'SHA-256/DET-ECDSA');\n\n  var g = ecPrivateKey.parameters?.G;\n  var ecPublicKey = ECPublicKey(\n    g! *\n        NanoHelpers.byteToBigInt(\n            Uint8List.fromList(hex.decode(hashingPrivateKey))),\n    domain,\n  );\n  var verify = CryptoUtils.ecVerify(\n      ecPublicKey, Uint8List.fromList(hex.decode(msgHash)), signature,\n      algorithm: 'SHA-256/DET-ECDSA');\n\n  print('verify====$verify');\n  print('ECSignature.R===${signature.r.toRadixString(16)}');\n  print('ECSignature.S===${signature.s.toRadixString(16)}');\n  var sig = Uint8List.fromList([\n    ...NanoHelpers.bigIntToBytes(signature.r),\n    ...NanoHelpers.bigIntToBytes(signature.s)\n  ]);\n  print('sig=createSignature==1==${base64.encode(sig)}');\n  print('sig==createSignature=1==${base64.encode(sig).length}');\n  return signature;\n}\n</code></pre>\n",
        "codigo": [
            "secp256k1",
            "import * as secp from \"@noble/secp256k1\";    \nconst signature = await secp.sign(msgHash, hashingPrivateKey, {\n        der: false,\n        recovered: true,\n    });\n",
            "der",
            "recovered",
            "import 'package:secp256k1/secp256k1.dart' as secp;\n    var pk = secp.PrivateKey.fromHex(hashingPrivateKey);\n    var pub = pk.publicKey;\n    final signature = pk.signature(msgHash);\n",
            "\"@noble/secp256k1\": \"^1.7.0\",",
            "msgHash : fea272bf4112f825697cfebe6f8f7dd8de1726d0c62ab45b78de4cb62f99a8dc",
            "hashingPrivateKey : bf751b9f4cacc36548c56a88dc47aa87b93b415705b9a62aa0a669d98381f619\n",
            "A2Mt3EHNy1HHgBwt46PSUBJG0BdyPs326hoixd6/AJdaY9axCXwEQRHgt4Xb1dr9LLr5r+C/fRM24ySeioOBWAA=",
            "D+ZSaLNGbFiAinyJ/B5GcLwI7dl1NqyHDkKG34iUXvlUhQ7Q6LF2gR94Nbyx2JZ3TH0fVZ4mU4MGAyWxtEDJeA==",
            "var sig = Uint8List.fromList([\n        ...NanoHelpers.bigIntToBytes(signature.R),\n        ...NanoHelpers.bigIntToBytes(signature.S)\n      ]);\n",
            "pointycaslte",
            "ECSignature createSignature(String msgHash, String hashingPrivateKey) {\n  var domain = ECDomainParameters('secp256k1');\n  ECPrivateKey ecPrivateKey = ECPrivateKey(\n      NanoHelpers.byteToBigInt(\n          Uint8List.fromList(hex.decode(hashingPrivateKey))),\n      domain);\n\n  ECSignature signature = CryptoUtils.ecSign(\n      ecPrivateKey, Uint8List.fromList(hex.decode(msgHash)),\n      algorithmName: 'SHA-256/DET-ECDSA');\n\n  var g = ecPrivateKey.parameters?.G;\n  var ecPublicKey = ECPublicKey(\n    g! *\n        NanoHelpers.byteToBigInt(\n            Uint8List.fromList(hex.decode(hashingPrivateKey))),\n    domain,\n  );\n  var verify = CryptoUtils.ecVerify(\n      ecPublicKey, Uint8List.fromList(hex.decode(msgHash)), signature,\n      algorithm: 'SHA-256/DET-ECDSA');\n\n  print('verify====$verify');\n  print('ECSignature.R===${signature.r.toRadixString(16)}');\n  print('ECSignature.S===${signature.s.toRadixString(16)}');\n  var sig = Uint8List.fromList([\n    ...NanoHelpers.bigIntToBytes(signature.r),\n    ...NanoHelpers.bigIntToBytes(signature.s)\n  ]);\n  print('sig=createSignature==1==${base64.encode(sig)}');\n  print('sig==createSignature=1==${base64.encode(sig).length}');\n  return signature;\n}\n"
        ]
    },
    {
        "titulo": "Error: Expected a value of type &#39;List&lt;String&gt;&#39;, but got one of type &#39;List&lt;dynamic&gt;&#39;",
        "score": 1,
        "views": 698,
        "respostas": 2,
        "tags": [
            "json",
            "flutter",
            "list",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76890701/error-expected-a-value-of-type-liststring-but-got-one-of-type-listdynami",
        "conteudo_html": "<p>I get a json response from a server that looks like this:</p>\n<pre><code>{&quot;status&quot;: &quot;OK&quot;, &quot;names&quot;: [&quot;omegaChannel&quot;]}\n</code></pre>\n<p>And then I parse it like this:</p>\n<pre><code>Map&lt;String, dynamic&gt; map = jsonDecode(response.body);\n</code></pre>\n<p>The 'names' field of this map is a list of strings, so I want to convert it to a list of strings:</p>\n<pre><code>List&lt;String&gt; channels = map['names'];\n</code></pre>\n<p>No problem at compile time, but when the app reaches this line at runtime, I get this error:</p>\n<pre><code>Error: Expected a value of type 'List&lt;String&gt;', but got one of type 'List&lt;dynamic&gt;\n</code></pre>\n<p> </p>\n<p>I have tried the following solutions but to no avail. They all get the error.</p>\n<p>Using .map() and .toString():</p>\n<pre><code>List&lt;String&gt; channels = map['names'].map((val) =&gt; val.toString()).toList();\n</code></pre>\n<p>Casting to a list of strings:</p>\n<pre><code>List&lt;String&gt; channels = map['names'] as List&lt;String&gt;;\n</code></pre>\n<p>Or even just using a plain list first:</p>\n<pre><code>List channels4 = map['names'] as List&lt;String&gt;;\n</code></pre>\n<p> </p>\n<p>Thanks</p>\n",
        "codigo": [
            "{\"status\": \"OK\", \"names\": [\"omegaChannel\"]}\n",
            "Map<String, dynamic> map = jsonDecode(response.body);\n",
            "List<String> channels = map['names'];\n",
            "Error: Expected a value of type 'List<String>', but got one of type 'List<dynamic>\n",
            "List<String> channels = map['names'].map((val) => val.toString()).toList();\n",
            "List<String> channels = map['names'] as List<String>;\n",
            "List channels4 = map['names'] as List<String>;\n"
        ]
    },
    {
        "titulo": "Testing StreamController with one listener present",
        "score": 0,
        "views": 115,
        "respostas": 1,
        "tags": [
            "dart",
            "unit-testing",
            "dart-test"
        ],
        "link": "https://stackoverflow.com/questions/76887994/testing-streamcontroller-with-one-listener-present",
        "conteudo_html": "<p>I wanted to know how are <code>StreamController</code> with listener assigned or implemented are tested.</p>\n<p>I have a class as follows:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class Foo&lt;T&gt;{\n  \n  late final StreamController&lt;T&gt; _streamController;\n  \n  Foo(){\n    _streamController = StreamController&lt;T&gt;();\n    _streamController.stream.listen((T data)=&gt; _aListner); // listner attached to the stream.\n\n  }\n  \n  void _aListner(T data){\n    // doing something with the data\n    print(data);\n  }\n  \n  void addData(T data){\n    _streamController.add(data);\n  }\n  \n  Stream&lt;T&gt; get stream =&gt; _streamController.stream;\n  \n}\n</code></pre>\n<p>I want to implement an test to check if data is added to the stream in order (a simple test using the Stream matcher). But it always throws an error that the stream has already been listened to.</p>\n<p>test implementation:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>test('stream getter  test.', ()async {\n  \n      final Foo&lt;String&gt; foo = Foo&lt;String&gt;();  \n      const String data1 = 'data1';\n      const String data2 = 'data2';\n      const String data3 = 'data3';\n      const String data4 = 'data4';\n\n\n      foo.addData(data1);\n      foo.addData(data2);\n      foo.addData(data3);\n      foo.addData(data4);\n\n\n      print(foo.stream.length); // even this throws- Bad state: Stream has already been listened to.\n    });\n\n</code></pre>\n<p>I know converting the <code>_streamController</code> to broadcast would resolve the issue. But the defined class has only one listener function and this is by design, so no need of making it broadcast stream.</p>\n<p>I can Mock the class using <code>mockito</code>, but the constructor mocking is not supported ( I may be wrong here please correct me, if so).</p>\n<p>The main objective here is used to <code>StreamMatcher</code> in test cases and use <code>emitsInOrder</code> or <code>emits</code>, <a href=\"https://api.flutter.dev/flutter/package-matcher_expect/StreamMatcher-class.html\" rel=\"nofollow noreferrer\">read here</a>.</p>\n",
        "codigo": [
            "StreamController",
            "class Foo<T>{\n  \n  late final StreamController<T> _streamController;\n  \n  Foo(){\n    _streamController = StreamController<T>();\n    _streamController.stream.listen((T data)=> _aListner); // listner attached to the stream.\n\n  }\n  \n  void _aListner(T data){\n    // doing something with the data\n    print(data);\n  }\n  \n  void addData(T data){\n    _streamController.add(data);\n  }\n  \n  Stream<T> get stream => _streamController.stream;\n  \n}\n",
            "test('stream getter  test.', ()async {\n  \n      final Foo<String> foo = Foo<String>();  \n      const String data1 = 'data1';\n      const String data2 = 'data2';\n      const String data3 = 'data3';\n      const String data4 = 'data4';\n\n\n      foo.addData(data1);\n      foo.addData(data2);\n      foo.addData(data3);\n      foo.addData(data4);\n\n\n      print(foo.stream.length); // even this throws- Bad state: Stream has already been listened to.\n    });\n\n",
            "_streamController",
            "mockito",
            "StreamMatcher",
            "emitsInOrder",
            "emits"
        ]
    },
    {
        "titulo": "Using Provider package in flutter to listen to changes in flutter",
        "score": 0,
        "views": 180,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-provider",
            "flutter-table"
        ],
        "link": "https://stackoverflow.com/questions/76886357/using-provider-package-in-flutter-to-listen-to-changes-in-flutter",
        "conteudo_html": "<p>In the job_details.dart file I want to listen to changes in the timestamp field when the start time or end time button is pressed and add the corresponding table row. But currently, I am getting value for my current job by listening to changes in my Jobs class and fetching the particular job using its ID. Therefore a new Table row does not get rendered when I tap on the Start time or End time button. How do I implement the above scenario to listen to changes in my Job class whenever a new timestamp is added to the _timestamps list and render a new Table row correspondingly?</p>\n<p><strong>job.dart</strong></p>\n<pre><code>\nclass Job with ChangeNotifier{\n  final int jobID;\n  final String name;\n  final String startTime = DateTime.now().toString();\n  String expectedDeliveryDate;\n  final List&lt;String&gt; _progressImagesUrl = [];\n  bool isCompleted = false;\n  final List&lt;Map&lt;String, DateTime?&gt;&gt; _timestamps = [];\n\n  Job({required this.jobID, required this.name, this.expectedDeliveryDate = &quot;&quot;});\n\n  void editExpectedDeliveryDate(DateTime dt){\n    expectedDeliveryDate = dt.toString();\n    notifyListeners();\n  }\n\n  List&lt;String&gt; get progressImagesUrl{\n    return [..._progressImagesUrl];\n  }\n\n  List&lt;Map&lt;String, DateTime?&gt;&gt; get timestamps{\n    return [..._timestamps];\n  }\n\n  void addStartTime(){\n    if(_timestamps.isNotEmpty &amp;&amp; _timestamps.last[&quot;endTime&quot;] == null){\n      print(&quot;error&quot;);\n      throw Exception(&quot;Provide end time first&quot;);\n    }\n    print(&quot;added start time&quot;);\n    _timestamps.add({&quot;startTime&quot;: DateTime.now(), &quot;endTime&quot;: null});\n    notifyListeners();\n  }\n  void addEndTime(){\n    if(_timestamps.isEmpty || _timestamps.last[&quot;endTime&quot;] != null){\n      throw Exception(&quot;Provide start time first&quot;);\n    }\n    print(&quot;added end time&quot;);\n    _timestamps.last[&quot;endTime&quot;] = DateTime.now();\n    notifyListeners();\n  }\n\n  void addImage(String imageUrl){\n    _progressImagesUrl.add(imageUrl);\n    notifyListeners();\n  }\n\n  void toggleIsCompleted(){\n    isCompleted != isCompleted;\n    notifyListeners();\n  }\n}\n</code></pre>\n<p><strong>jobs.dart</strong></p>\n<pre><code>import 'package:flutter/material.dart';\n\nimport 'job.dart';\n\nclass Jobs with ChangeNotifier{\n  final List&lt;Job&gt; _items = [\n    Job(\n        jobID: 1,\n        name: 'firstProduct',\n        expectedDeliveryDate: DateTime.now().toString(),\n    ),\n    Job(\n        jobID: 2,\n        name: 'second product',\n        expectedDeliveryDate: DateTime.now().toString(),\n    ),\n    Job(\n        jobID: 3,\n        name: 'third product',\n        expectedDeliveryDate: DateTime.now().toString(),\n    ),\n    Job(\n        jobID: 4,\n        name: 'fourth product',\n        expectedDeliveryDate: DateTime.now().toString(),\n    ),\n  ];\n\n  List&lt;Job&gt; get items{\n    return [..._items];\n  }\n\n  void addJob(String name, String endTime){\n    Job newJob = Job(jobID: name.length, name: name, expectedDeliveryDate: endTime);\n    _items.add(newJob);\n    notifyListeners();\n  }\n\n  Job findById(int id){\n    return _items.firstWhere((element) =&gt; element.jobID == id);\n  }\n\n  List&lt;Job&gt; get completedJobs{\n    return _items.where((element) =&gt; element.isCompleted).toList();\n  }\n}\n</code></pre>\n<p><strong>job_details.dart</strong></p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'package:rupa_creation/provider/jobs.dart';\n\nimport '../provider/job.dart';\n\nclass JobDetailsScreen extends StatelessWidget {\n  const JobDetailsScreen({Key? key}) : super(key: key);\n  static const routeName = '/product-detail';\n\n  @override\n  Widget build(BuildContext context) {\n    final jobId = ModalRoute.of(context)?.settings.arguments as int;\n    final loadedJob = Provider.of&lt;Jobs&gt;(\n      context,\n    ).findById(jobId);\n    List&lt;TableRow&gt; createTimeStampTable(List&lt;Map&lt;String, DateTime?&gt;&gt; items) {\n      List&lt;TableRow&gt; itemProperties = [];\n      itemProperties.add(const TableRow(children: [\n        TableCell(child: Text(&quot;Start Time&quot;)),\n        TableCell(child: Text(&quot;End Time&quot;))\n      ]));\n      for (int i = 0; i &lt; items.length; ++i) {\n        itemProperties.add(TableRow(children: [\n          TableCell(child: Text(&quot;${items[i][&quot;startTime&quot;]?.hour}:${items[i][&quot;startTime&quot;]?.minute}&quot;)),\n          TableCell(child: Text(&quot;${items[i][&quot;endTime&quot;]?.hour}:${items[i][&quot;endTime&quot;]?.minute}&quot;)),\n        ]));\n      }\n      return itemProperties;\n    }\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(loadedJob.name),\n      ),\n      body: Container(\n        child: Column(\n          children: [\n            Row(\n              children: [\n                TextButton(\n                    onPressed: () {\n                      try {\n                        loadedJob.addStartTime();\n                        // Navigator.of(context).pushReplacementNamed(JobDetailsScreen.routeName, arguments: jobId);\n                      } on Exception catch (e) {\n                        AlertDialog(\n                          title: Text(e.toString()),\n                          actions: [\n                            TextButton(\n                              onPressed: () {\n                                Navigator.of(context).pop();\n\n                              },\n                              child: Container(\n                                color: Colors.green,\n                                padding: const EdgeInsets.all(14),\n                                child: const Text(&quot;okay&quot;),\n                              ),\n                            ),\n                          ],\n                        );\n                      }\n                    },\n                    child: const Text(&quot;Start&quot;)),\n                TextButton(\n                    onPressed: () {\n                      try {\n                        loadedJob.addEndTime();\n                        // Navigator.of(context).pushReplacementNamed(JobDetailsScreen.routeName, arguments: jobId);\n                      } on Exception catch (e) {\n                        print(&quot;here&quot;);\n                        AlertDialog(\n                          title: Text(e.toString()),\n                          actions: [\n                            TextButton(\n                              onPressed: () {\n                                Navigator.of(context).pop();\n                              },\n                              child: Container(\n                                color: Colors.green,\n                                padding: const EdgeInsets.all(14),\n                                child: const Text(&quot;okay&quot;),\n                              ),\n                            ),\n                          ],\n                        );\n                      }\n                    },\n                    child: const Text(&quot;Stop&quot;)),\n              ],\n            ),\n            Table(\n              children: createTimeStampTable(loadedJob.timestamps),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p><strong>job_overview.dart</strong></p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:intl/intl.dart';\nimport 'package:provider/provider.dart';\nimport 'package:rupa_creation/provider/job.dart';\n\nimport '../screens/job_details.dart';\n\nclass JobOverview extends StatelessWidget {\n  const JobOverview({\n    Key? key,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    final job = Provider.of&lt;Job&gt;(context);\n    DateTime startDateTime = DateTime.parse(job.startTime);\n    DateTime endDateTime = DateTime.parse(job.expectedDeliveryDate);\n    return Card(\n      child: ListTile(\n        tileColor: Colors.black12,\n          // contentPadding: EdgeInsets.all(10),\n          leading: Icon(Icons.ac_unit),\n          title: Text(job.name, textScaleFactor:  1.2,),\n          subtitle: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              Text(&quot;Start Date: ${DateFormat(&quot;dd-MM-yyyy&quot;).format(startDateTime)}&quot;),\n              Text(&quot;Expected Delivery Date: ${DateFormat(&quot;dd-MM-yyyy&quot;).format(endDateTime)}&quot;),\n            ],\n          ),\n        onTap: (){\n          Navigator.of(context).pushNamed(JobDetailsScreen.routeName, arguments: job.jobID);\n        },\n      ),\n    );\n  }\n}\n</code></pre>\n<p><a href=\"https://i.sstatic.net/MxpLU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/MxpLU.jpg\" alt=\"enter image description here\" /></a></p>\n",
        "codigo": [
            "\nclass Job with ChangeNotifier{\n  final int jobID;\n  final String name;\n  final String startTime = DateTime.now().toString();\n  String expectedDeliveryDate;\n  final List<String> _progressImagesUrl = [];\n  bool isCompleted = false;\n  final List<Map<String, DateTime?>> _timestamps = [];\n\n  Job({required this.jobID, required this.name, this.expectedDeliveryDate = \"\"});\n\n  void editExpectedDeliveryDate(DateTime dt){\n    expectedDeliveryDate = dt.toString();\n    notifyListeners();\n  }\n\n  List<String> get progressImagesUrl{\n    return [..._progressImagesUrl];\n  }\n\n  List<Map<String, DateTime?>> get timestamps{\n    return [..._timestamps];\n  }\n\n  void addStartTime(){\n    if(_timestamps.isNotEmpty && _timestamps.last[\"endTime\"] == null){\n      print(\"error\");\n      throw Exception(\"Provide end time first\");\n    }\n    print(\"added start time\");\n    _timestamps.add({\"startTime\": DateTime.now(), \"endTime\": null});\n    notifyListeners();\n  }\n  void addEndTime(){\n    if(_timestamps.isEmpty || _timestamps.last[\"endTime\"] != null){\n      throw Exception(\"Provide start time first\");\n    }\n    print(\"added end time\");\n    _timestamps.last[\"endTime\"] = DateTime.now();\n    notifyListeners();\n  }\n\n  void addImage(String imageUrl){\n    _progressImagesUrl.add(imageUrl);\n    notifyListeners();\n  }\n\n  void toggleIsCompleted(){\n    isCompleted != isCompleted;\n    notifyListeners();\n  }\n}\n",
            "import 'package:flutter/material.dart';\n\nimport 'job.dart';\n\nclass Jobs with ChangeNotifier{\n  final List<Job> _items = [\n    Job(\n        jobID: 1,\n        name: 'firstProduct',\n        expectedDeliveryDate: DateTime.now().toString(),\n    ),\n    Job(\n        jobID: 2,\n        name: 'second product',\n        expectedDeliveryDate: DateTime.now().toString(),\n    ),\n    Job(\n        jobID: 3,\n        name: 'third product',\n        expectedDeliveryDate: DateTime.now().toString(),\n    ),\n    Job(\n        jobID: 4,\n        name: 'fourth product',\n        expectedDeliveryDate: DateTime.now().toString(),\n    ),\n  ];\n\n  List<Job> get items{\n    return [..._items];\n  }\n\n  void addJob(String name, String endTime){\n    Job newJob = Job(jobID: name.length, name: name, expectedDeliveryDate: endTime);\n    _items.add(newJob);\n    notifyListeners();\n  }\n\n  Job findById(int id){\n    return _items.firstWhere((element) => element.jobID == id);\n  }\n\n  List<Job> get completedJobs{\n    return _items.where((element) => element.isCompleted).toList();\n  }\n}\n",
            "import 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'package:rupa_creation/provider/jobs.dart';\n\nimport '../provider/job.dart';\n\nclass JobDetailsScreen extends StatelessWidget {\n  const JobDetailsScreen({Key? key}) : super(key: key);\n  static const routeName = '/product-detail';\n\n  @override\n  Widget build(BuildContext context) {\n    final jobId = ModalRoute.of(context)?.settings.arguments as int;\n    final loadedJob = Provider.of<Jobs>(\n      context,\n    ).findById(jobId);\n    List<TableRow> createTimeStampTable(List<Map<String, DateTime?>> items) {\n      List<TableRow> itemProperties = [];\n      itemProperties.add(const TableRow(children: [\n        TableCell(child: Text(\"Start Time\")),\n        TableCell(child: Text(\"End Time\"))\n      ]));\n      for (int i = 0; i < items.length; ++i) {\n        itemProperties.add(TableRow(children: [\n          TableCell(child: Text(\"${items[i][\"startTime\"]?.hour}:${items[i][\"startTime\"]?.minute}\")),\n          TableCell(child: Text(\"${items[i][\"endTime\"]?.hour}:${items[i][\"endTime\"]?.minute}\")),\n        ]));\n      }\n      return itemProperties;\n    }\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(loadedJob.name),\n      ),\n      body: Container(\n        child: Column(\n          children: [\n            Row(\n              children: [\n                TextButton(\n                    onPressed: () {\n                      try {\n                        loadedJob.addStartTime();\n                        // Navigator.of(context).pushReplacementNamed(JobDetailsScreen.routeName, arguments: jobId);\n                      } on Exception catch (e) {\n                        AlertDialog(\n                          title: Text(e.toString()),\n                          actions: [\n                            TextButton(\n                              onPressed: () {\n                                Navigator.of(context).pop();\n\n                              },\n                              child: Container(\n                                color: Colors.green,\n                                padding: const EdgeInsets.all(14),\n                                child: const Text(\"okay\"),\n                              ),\n                            ),\n                          ],\n                        );\n                      }\n                    },\n                    child: const Text(\"Start\")),\n                TextButton(\n                    onPressed: () {\n                      try {\n                        loadedJob.addEndTime();\n                        // Navigator.of(context).pushReplacementNamed(JobDetailsScreen.routeName, arguments: jobId);\n                      } on Exception catch (e) {\n                        print(\"here\");\n                        AlertDialog(\n                          title: Text(e.toString()),\n                          actions: [\n                            TextButton(\n                              onPressed: () {\n                                Navigator.of(context).pop();\n                              },\n                              child: Container(\n                                color: Colors.green,\n                                padding: const EdgeInsets.all(14),\n                                child: const Text(\"okay\"),\n                              ),\n                            ),\n                          ],\n                        );\n                      }\n                    },\n                    child: const Text(\"Stop\")),\n              ],\n            ),\n            Table(\n              children: createTimeStampTable(loadedJob.timestamps),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n",
            "import 'package:flutter/material.dart';\nimport 'package:intl/intl.dart';\nimport 'package:provider/provider.dart';\nimport 'package:rupa_creation/provider/job.dart';\n\nimport '../screens/job_details.dart';\n\nclass JobOverview extends StatelessWidget {\n  const JobOverview({\n    Key? key,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    final job = Provider.of<Job>(context);\n    DateTime startDateTime = DateTime.parse(job.startTime);\n    DateTime endDateTime = DateTime.parse(job.expectedDeliveryDate);\n    return Card(\n      child: ListTile(\n        tileColor: Colors.black12,\n          // contentPadding: EdgeInsets.all(10),\n          leading: Icon(Icons.ac_unit),\n          title: Text(job.name, textScaleFactor:  1.2,),\n          subtitle: Column(\n            crossAxisAlignment: CrossAxisAlignment.start,\n            children: [\n              Text(\"Start Date: ${DateFormat(\"dd-MM-yyyy\").format(startDateTime)}\"),\n              Text(\"Expected Delivery Date: ${DateFormat(\"dd-MM-yyyy\").format(endDateTime)}\"),\n            ],\n          ),\n        onTap: (){\n          Navigator.of(context).pushNamed(JobDetailsScreen.routeName, arguments: job.jobID);\n        },\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Using One Page Login/Registration with Firebase Phone Authentication",
        "score": 0,
        "views": 397,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/76873332/using-one-page-login-registration-with-firebase-phone-authentication",
        "conteudo_html": "<p>So, I have Witten some code in flutter. here I asking the phone number to generate OTP and after passing the OTP it successfully login. but here I need some changes. When even I submitted the OTP then its check the number is already in the firebase phone authentication console. if its already been their it will just show me the home page. otherwise if the number is not exist then it goes to a UserInformation page where user need to give some simple information then after continue it will show the home page. in a sense I need a one page login registration panel by using only phone number.\nhere is my flutter code.</p>\n<pre><code>import 'package:firebase_auth/firebase_auth.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter/src/widgets/framework.dart';\nimport 'package:flutter/src/widgets/placeholder.dart';\nimport 'package:pinput/pinput.dart';\n\nimport '../utils/route.dart';\n\nclass SignUpPage extends StatefulWidget {\n  const SignUpPage({super.key});\n\n  @override\n  State&lt;SignUpPage&gt; createState() =&gt; _SignUpPageState();\n}\n\nclass _SignUpPageState extends State&lt;SignUpPage&gt; {\n  final FirebaseAuth auth = FirebaseAuth.instance;\n  // bool _obscureText = true;\n  String countryCode = &quot;+880&quot;;\n  String phoneNumber = &quot;&quot;;\n  String otpCode = &quot;&quot;;\n  String phoneVerificationId = &quot;&quot;;\n\n  @override\n  void initState() {\n    // TODO: implement initState\n    super.initState();\n  }\n\n  \n\n  signUp(String phoneNumber) async {\n    FirebaseAuth.instance.verifyPhoneNumber(\n      phoneNumber: phoneNumber,\n      verificationCompleted: (PhoneAuthCredential credential) {},\n      verificationFailed: (FirebaseAuthException e) {},\n      codeSent: (String verificationId, int? resendToken) {\n        phoneVerificationId = verificationId;\n      },\n      codeAutoRetrievalTimeout: (String verificationId) {},\n    );\n  }\n\n  final defaultPinTheme = PinTheme(\n    width: 56,\n    height: 56,\n    textStyle: TextStyle(\n        fontSize: 20,\n        color: Color.fromRGBO(30, 60, 87, 1),\n        fontWeight: FontWeight.w600),\n    decoration: BoxDecoration(\n      border: Border.all(color: Color(0xFF1818B4)),\n      borderRadius: BorderRadius.circular(20),\n    ),\n  );\n\n  @override\n  Widget build(BuildContext context) {\n    final focusedPinTheme = defaultPinTheme.copyDecorationWith(\n      border: Border.all(color: Color(0xFF1818B4)),\n      borderRadius: BorderRadius.circular(15),\n    );\n    final submittedPinTheme = defaultPinTheme.copyWith(\n      decoration: defaultPinTheme.decoration?.copyWith(\n        color: Color.fromRGBO(234, 239, 243, 1),\n      ),\n    );\n\n    return Scaffold(\n      backgroundColor: Color(0xFF1818B4),\n      body: Column(\n        children: [\n          Column(children: [\n            Padding(\n              padding: const EdgeInsets.only(top: 70.0),\n              child: Container(\n                height: 200,\n                alignment: Alignment.center,\n                child: Image.asset(\n                  'assets/images/we_serve.jpg',\n                ),\n              ),\n            ),\n            SizedBox(\n              height: 10,\n            ),\n            Text(\n              'WHERE SERVICE MEETS EXCELLENCE',\n              style: TextStyle(\n                color: Colors.white,\n                fontSize: 18,\n                fontWeight: FontWeight.bold,\n              ),\n            ),\n          ]),\n          SizedBox(\n            height: 50,\n          ),\n          Padding(\n            padding: const EdgeInsets.only(left: 22, bottom: 10),\n            child: Align(\n              alignment: Alignment.centerLeft,\n              child: Text(\n                &quot;Please Enter Your Mobile Number&quot;,\n                style: TextStyle(color: Colors.white),\n                textAlign: TextAlign.left,\n              ),\n            ),\n          ),\n          Padding(\n            padding: const EdgeInsets.only(left: 20, right: 20),\n            child: Row(\n              children: [\n                Expanded(\n                  flex: 2,\n                  child: TextFormField(\n                    enabled: false,\n                    decoration: InputDecoration(\n                      filled: true,\n                      fillColor: Colors.white,\n                      border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10)),\n                      hintText: &quot;  +880&quot;,\n                      hintStyle: TextStyle(\n                          color: Color.fromARGB(255, 64, 63, 63),\n                          fontWeight: FontWeight.bold),\n                    ),\n                  ),\n                ),\n                SizedBox(width: 5),\n                Flexible(\n                  flex: 7,\n                  child: TextField(\n                    // controller: _phoneController,\n                    onChanged: (value) =&gt; {\n                      phoneNumber = countryCode + value,\n                    },\n                    keyboardType: TextInputType.phone,\n                    decoration: InputDecoration(\n                        filled: true,\n                        fillColor: Colors.white,\n                        // labelText: 'Mobile Number',\n                        hintText: &quot;Mobile Number&quot;,\n                        hintStyle: TextStyle(color: Colors.grey),\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10.0),\n                        )),\n                  ),\n                ),\n              ],\n            ),\n          ),\n          SizedBox(\n            height: 30,\n          ),\n          ElevatedButton(\n            onPressed: () async {\n              signUp(phoneNumber);\n              showDialog(\n                barrierColor: Colors.grey.withOpacity(.7),\n                context: context,\n                builder: (BuildContext context) {\n                  return AlertDialog(\n                    titlePadding: const EdgeInsets.all(0),\n                    elevation: 8,\n                    titleTextStyle: TextStyle(\n                        fontWeight: FontWeight.bold,\n                        fontSize: 20,\n                        color: Colors.white),\n                    shape: RoundedRectangleBorder(\n                        // borderRadius: BorderRadius.circular(20),\n                        ),\n                    title: Container(\n                      color: Color(0xFF1818B4),\n                      child: Center(\n                          child: Padding(\n                        padding: const EdgeInsets.all(16.0),\n                        child: Text('Verification Code'),\n                      )),\n                    ),\n                    content: Container(\n                      height: 120,\n                      child: Form(\n                        // key: _formkey,\n                        child: Column(\n                          children: [\n                            SizedBox(height: 20),\n                            Center(\n                                child: Text(&quot;Please Enter Your 6-digit OTP&quot;)),\n                            SizedBox(height: 20),\n                            Pinput(\n                              defaultPinTheme: defaultPinTheme,\n                              focusedPinTheme: focusedPinTheme,\n                              submittedPinTheme: submittedPinTheme,\n                              pinputAutovalidateMode:\n                                  PinputAutovalidateMode.onSubmit,\n                              length: 6,\n                              showCursor: true,\n                              onChanged: (value) =&gt; {\n                                otpCode = value,\n                              },\n                            )\n                          ],\n                        ),\n                      ),\n                    ),\n                    actions: [\n                      Center(\n                        child: ElevatedButton(\n                          onPressed: () async {\n                            try {\n                              final currentUser =\n                                  FirebaseAuth.instance.currentUser;\n\n                              print(currentUser?.uid);\n\n                              PhoneAuthCredential credential =\n                                  PhoneAuthProvider.credential(\n                                      verificationId: phoneVerificationId,\n                                      smsCode: otpCode);\n                              print(credential);\n                              await auth.signInWithCredential(credential);\n\n                              Navigator.pushNamed(context, MyRoutes.homeRoute);\n                            } catch (e) {\n                              print(&quot;Wrong OTP&quot;);\n                            }\n                          },\n                          style: ElevatedButton.styleFrom(\n                              backgroundColor: Color(0xFFFFE001),\n                              shape: RoundedRectangleBorder(\n                                  borderRadius: BorderRadius.circular(20))),\n                          child: Padding(\n                            padding: const EdgeInsets.only(\n                                left: 40, right: 40, top: 10, bottom: 10),\n                            child: Text(\n                              'Confirm',\n                              style: TextStyle(\n                                  fontSize: 24,\n                                  // color: Color(0xFF1818B4),\n                                  color: Colors.black),\n                            ),\n                          ),\n                        ),\n                      ),\n                      SizedBox(\n                        height: 40,\n                      )\n                    ],\n                  );\n                },\n              );\n            },\n            style: ElevatedButton.styleFrom(\n                backgroundColor: Color(0xFFFFE001),\n                shape: RoundedRectangleBorder(\n                    borderRadius: BorderRadius.circular(20))),\n            child: Padding(\n              padding: const EdgeInsets.only(\n                  left: 70, right: 70, top: 10, bottom: 10),\n              child: Text(\n                'Continue',\n                style: TextStyle(\n                    fontSize: 24,\n                    // color: Color(0xFF1818B4),\n                    color: Colors.black),\n              ),\n            ),\n          ),\n          Spacer(),\n          Padding(\n            padding: const EdgeInsets.only(bottom: 20),\n            child: GestureDetector(\n              onTap: () {\n                // Navigator.pushNamed(context, MyRoutes.homeRoute);\n              },\n              child: Text(\n                'Contact Us',\n                style: TextStyle(\n                  fontSize: 24,\n                  color: Color(0xFF808080),\n                ),\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n\n</code></pre>\n<p>I have completed the phone verification system successfully. Now want to separate mechanism for new user and old user.</p>\n",
        "codigo": [
            "import 'package:firebase_auth/firebase_auth.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter/src/widgets/framework.dart';\nimport 'package:flutter/src/widgets/placeholder.dart';\nimport 'package:pinput/pinput.dart';\n\nimport '../utils/route.dart';\n\nclass SignUpPage extends StatefulWidget {\n  const SignUpPage({super.key});\n\n  @override\n  State<SignUpPage> createState() => _SignUpPageState();\n}\n\nclass _SignUpPageState extends State<SignUpPage> {\n  final FirebaseAuth auth = FirebaseAuth.instance;\n  // bool _obscureText = true;\n  String countryCode = \"+880\";\n  String phoneNumber = \"\";\n  String otpCode = \"\";\n  String phoneVerificationId = \"\";\n\n  @override\n  void initState() {\n    // TODO: implement initState\n    super.initState();\n  }\n\n  \n\n  signUp(String phoneNumber) async {\n    FirebaseAuth.instance.verifyPhoneNumber(\n      phoneNumber: phoneNumber,\n      verificationCompleted: (PhoneAuthCredential credential) {},\n      verificationFailed: (FirebaseAuthException e) {},\n      codeSent: (String verificationId, int? resendToken) {\n        phoneVerificationId = verificationId;\n      },\n      codeAutoRetrievalTimeout: (String verificationId) {},\n    );\n  }\n\n  final defaultPinTheme = PinTheme(\n    width: 56,\n    height: 56,\n    textStyle: TextStyle(\n        fontSize: 20,\n        color: Color.fromRGBO(30, 60, 87, 1),\n        fontWeight: FontWeight.w600),\n    decoration: BoxDecoration(\n      border: Border.all(color: Color(0xFF1818B4)),\n      borderRadius: BorderRadius.circular(20),\n    ),\n  );\n\n  @override\n  Widget build(BuildContext context) {\n    final focusedPinTheme = defaultPinTheme.copyDecorationWith(\n      border: Border.all(color: Color(0xFF1818B4)),\n      borderRadius: BorderRadius.circular(15),\n    );\n    final submittedPinTheme = defaultPinTheme.copyWith(\n      decoration: defaultPinTheme.decoration?.copyWith(\n        color: Color.fromRGBO(234, 239, 243, 1),\n      ),\n    );\n\n    return Scaffold(\n      backgroundColor: Color(0xFF1818B4),\n      body: Column(\n        children: [\n          Column(children: [\n            Padding(\n              padding: const EdgeInsets.only(top: 70.0),\n              child: Container(\n                height: 200,\n                alignment: Alignment.center,\n                child: Image.asset(\n                  'assets/images/we_serve.jpg',\n                ),\n              ),\n            ),\n            SizedBox(\n              height: 10,\n            ),\n            Text(\n              'WHERE SERVICE MEETS EXCELLENCE',\n              style: TextStyle(\n                color: Colors.white,\n                fontSize: 18,\n                fontWeight: FontWeight.bold,\n              ),\n            ),\n          ]),\n          SizedBox(\n            height: 50,\n          ),\n          Padding(\n            padding: const EdgeInsets.only(left: 22, bottom: 10),\n            child: Align(\n              alignment: Alignment.centerLeft,\n              child: Text(\n                \"Please Enter Your Mobile Number\",\n                style: TextStyle(color: Colors.white),\n                textAlign: TextAlign.left,\n              ),\n            ),\n          ),\n          Padding(\n            padding: const EdgeInsets.only(left: 20, right: 20),\n            child: Row(\n              children: [\n                Expanded(\n                  flex: 2,\n                  child: TextFormField(\n                    enabled: false,\n                    decoration: InputDecoration(\n                      filled: true,\n                      fillColor: Colors.white,\n                      border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10)),\n                      hintText: \"  +880\",\n                      hintStyle: TextStyle(\n                          color: Color.fromARGB(255, 64, 63, 63),\n                          fontWeight: FontWeight.bold),\n                    ),\n                  ),\n                ),\n                SizedBox(width: 5),\n                Flexible(\n                  flex: 7,\n                  child: TextField(\n                    // controller: _phoneController,\n                    onChanged: (value) => {\n                      phoneNumber = countryCode + value,\n                    },\n                    keyboardType: TextInputType.phone,\n                    decoration: InputDecoration(\n                        filled: true,\n                        fillColor: Colors.white,\n                        // labelText: 'Mobile Number',\n                        hintText: \"Mobile Number\",\n                        hintStyle: TextStyle(color: Colors.grey),\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(10.0),\n                        )),\n                  ),\n                ),\n              ],\n            ),\n          ),\n          SizedBox(\n            height: 30,\n          ),\n          ElevatedButton(\n            onPressed: () async {\n              signUp(phoneNumber);\n              showDialog(\n                barrierColor: Colors.grey.withOpacity(.7),\n                context: context,\n                builder: (BuildContext context) {\n                  return AlertDialog(\n                    titlePadding: const EdgeInsets.all(0),\n                    elevation: 8,\n                    titleTextStyle: TextStyle(\n                        fontWeight: FontWeight.bold,\n                        fontSize: 20,\n                        color: Colors.white),\n                    shape: RoundedRectangleBorder(\n                        // borderRadius: BorderRadius.circular(20),\n                        ),\n                    title: Container(\n                      color: Color(0xFF1818B4),\n                      child: Center(\n                          child: Padding(\n                        padding: const EdgeInsets.all(16.0),\n                        child: Text('Verification Code'),\n                      )),\n                    ),\n                    content: Container(\n                      height: 120,\n                      child: Form(\n                        // key: _formkey,\n                        child: Column(\n                          children: [\n                            SizedBox(height: 20),\n                            Center(\n                                child: Text(\"Please Enter Your 6-digit OTP\")),\n                            SizedBox(height: 20),\n                            Pinput(\n                              defaultPinTheme: defaultPinTheme,\n                              focusedPinTheme: focusedPinTheme,\n                              submittedPinTheme: submittedPinTheme,\n                              pinputAutovalidateMode:\n                                  PinputAutovalidateMode.onSubmit,\n                              length: 6,\n                              showCursor: true,\n                              onChanged: (value) => {\n                                otpCode = value,\n                              },\n                            )\n                          ],\n                        ),\n                      ),\n                    ),\n                    actions: [\n                      Center(\n                        child: ElevatedButton(\n                          onPressed: () async {\n                            try {\n                              final currentUser =\n                                  FirebaseAuth.instance.currentUser;\n\n                              print(currentUser?.uid);\n\n                              PhoneAuthCredential credential =\n                                  PhoneAuthProvider.credential(\n                                      verificationId: phoneVerificationId,\n                                      smsCode: otpCode);\n                              print(credential);\n                              await auth.signInWithCredential(credential);\n\n                              Navigator.pushNamed(context, MyRoutes.homeRoute);\n                            } catch (e) {\n                              print(\"Wrong OTP\");\n                            }\n                          },\n                          style: ElevatedButton.styleFrom(\n                              backgroundColor: Color(0xFFFFE001),\n                              shape: RoundedRectangleBorder(\n                                  borderRadius: BorderRadius.circular(20))),\n                          child: Padding(\n                            padding: const EdgeInsets.only(\n                                left: 40, right: 40, top: 10, bottom: 10),\n                            child: Text(\n                              'Confirm',\n                              style: TextStyle(\n                                  fontSize: 24,\n                                  // color: Color(0xFF1818B4),\n                                  color: Colors.black),\n                            ),\n                          ),\n                        ),\n                      ),\n                      SizedBox(\n                        height: 40,\n                      )\n                    ],\n                  );\n                },\n              );\n            },\n            style: ElevatedButton.styleFrom(\n                backgroundColor: Color(0xFFFFE001),\n                shape: RoundedRectangleBorder(\n                    borderRadius: BorderRadius.circular(20))),\n            child: Padding(\n              padding: const EdgeInsets.only(\n                  left: 70, right: 70, top: 10, bottom: 10),\n              child: Text(\n                'Continue',\n                style: TextStyle(\n                    fontSize: 24,\n                    // color: Color(0xFF1818B4),\n                    color: Colors.black),\n              ),\n            ),\n          ),\n          Spacer(),\n          Padding(\n            padding: const EdgeInsets.only(bottom: 20),\n            child: GestureDetector(\n              onTap: () {\n                // Navigator.pushNamed(context, MyRoutes.homeRoute);\n              },\n              child: Text(\n                'Contact Us',\n                style: TextStyle(\n                  fontSize: 24,\n                  color: Color(0xFF808080),\n                ),\n              ),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n}\n\n"
        ]
    },
    {
        "titulo": "json.decode and jsonDecode returns object of type _JsonMap",
        "score": 0,
        "views": 399,
        "respostas": 1,
        "tags": [
            "json",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76854947/json-decode-and-jsondecode-returns-object-of-type-jsonmap",
        "conteudo_html": "<p>I started developing a web-only flutter app and am using <code>dart:convert</code> library to decode a json. When getting a response from server and decoding it via json.decode, it weirdly becomes a _JsonMap object with _JsonMap objects inside.</p>\n<p>Here are my outputs in console while debugging:</p>\n<pre><code>json.decode('{&quot;data&quot;:[{&quot;_id&quot;:&quot;64517a0cd447940df60e74c2&quot;, &quot;type&quot;:[&quot;asd&quot;, &quot;fds&quot;]}]}')\njson.decode('{&quot;data&quot;:[{&quot;_id&quot;:&quot;64517a0cd447940df60e74c2&quot;}]}')\njson.decode('[&quot;foo&quot;, { &quot;bar&quot;: 499 }]')\n</code></pre>\n<p><a href=\"https://i.sstatic.net/a0zWn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/a0zWn.png\" alt=\"picture\" /></a></p>\n<p>Creating a new project fixes the issue, but I have no ideas left to debug.</p>\n<pre><code>flutter doctor -v\n[✓] Flutter (Channel stable, 3.10.6, on macOS 13.0.1 22A400 darwin-arm64, locale en-UA)\n    • Flutter version 3.10.6 on channel stable at /Users/vladli/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision f468f3366c (4 weeks ago), 2023-07-12 15:19:05 -0700\n    • Engine revision cdbeda788a\n    • Dart version 3.0.6\n    • DevTools version 2.23.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\n    • Android SDK at /Users/vladli/Library/Android/sdk\n    • Platform android-33, build-tools 33.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.12+0-b1504.28-7817840)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14C18\n    • CocoaPods version 1.12.1\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2021.2)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.12+0-b1504.28-7817840)\n\n[✓] VS Code (version 1.80.1)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.70.0\n\n[✓] Connected device (3 available)\n    • iPhone 12 mini (mobile) • 1BB27A09-BBE8-44D9-977E-B9D56B962071 • ios            • com.apple.CoreSimulator.SimRuntime.iOS-16-2 (simulator)\n    • macOS (desktop)         • macos                                • darwin-arm64   • macOS 13.0.1 22A400 darwin-arm64\n    • Chrome (web)            • chrome                               • web-javascript • Google Chrome 115.0.5790.114\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n<p>The question is – why am I getting this _JsonMap? Looks internal and there is scarcely any information about it online.</p>\n",
        "codigo": [
            "dart:convert",
            "json.decode('{\"data\":[{\"_id\":\"64517a0cd447940df60e74c2\", \"type\":[\"asd\", \"fds\"]}]}')\njson.decode('{\"data\":[{\"_id\":\"64517a0cd447940df60e74c2\"}]}')\njson.decode('[\"foo\", { \"bar\": 499 }]')\n",
            "flutter doctor -v\n[✓] Flutter (Channel stable, 3.10.6, on macOS 13.0.1 22A400 darwin-arm64, locale en-UA)\n    • Flutter version 3.10.6 on channel stable at /Users/vladli/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision f468f3366c (4 weeks ago), 2023-07-12 15:19:05 -0700\n    • Engine revision cdbeda788a\n    • Dart version 3.0.6\n    • DevTools version 2.23.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\n    • Android SDK at /Users/vladli/Library/Android/sdk\n    • Platform android-33, build-tools 33.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.12+0-b1504.28-7817840)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14C18\n    • CocoaPods version 1.12.1\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2021.2)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.12+0-b1504.28-7817840)\n\n[✓] VS Code (version 1.80.1)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.70.0\n\n[✓] Connected device (3 available)\n    • iPhone 12 mini (mobile) • 1BB27A09-BBE8-44D9-977E-B9D56B962071 • ios            • com.apple.CoreSimulator.SimRuntime.iOS-16-2 (simulator)\n    • macOS (desktop)         • macos                                • darwin-arm64   • macOS 13.0.1 22A400 darwin-arm64\n    • Chrome (web)            • chrome                               • web-javascript • Google Chrome 115.0.5790.114\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n"
        ]
    },
    {
        "titulo": "Using getX for State Management: Blank Screen appears with GetX Controller on First Screen, Works Fine on Subsequent Pages",
        "score": 0,
        "views": 453,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "flutter-getx"
        ],
        "link": "https://stackoverflow.com/questions/76849033/using-getx-for-state-management-blank-screen-appears-with-getx-controller-on-fi",
        "conteudo_html": "<p>I'm currently using GetX for state management in my Flutter app. However, I'm facing an issue where if I use the GetX controller and try to access certain variables on the first screen, they appear blank. Surprisingly, on all pages after the first one, the variables work as expected.</p>\n<p>Here's an overview of my setup:</p>\n<p>I have a GetX controller responsible for handling the state and providing data to the screens.\nOn the first screen, I'm using this controller to retrieve some data, but the variables show up blank.</p>\n<p>On subsequent pages, when I navigate using GetX's routing, the variables work perfectly fine.\nHas anyone experienced this issue before or can suggest what might be causing this behavior? I've ensured that my state is being properly updated, and the data seems to be available in the controller. Is there anything specific to consider when using GetX on the first screen that could be causing this discrepancy?</p>\n<p>Any insights or suggestions on how to troubleshoot and resolve this issue would be greatly appreciated. Thanks in advance!</p>\n<pre><code>main code\nvoid main() {\n  runApp( const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n   const MyApp({super.key});\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return Listener(\n      onPointerHover: (onPointerMove){\n        FocusManager.instance.primaryFocus?.unfocus();\n      },\n      child: GetMaterialApp(\n        debugShowCheckedModeBanner: false,\n        title: 'Flutter Demo',\n        getPages: AppRoutes.appRoutes(),\n        initialBinding: InitialBindings(),\n        initialRoute: RoutesName.launchScreen,\n      ),\n    );\n  }\n}\n\n</code></pre>\n<p>LaunchScreen ui code</p>\n<pre><code>class LaunchScreen extends StatefulWidget {\n  const LaunchScreen({super.key});\n\n  @override\n  State&lt;LaunchScreen&gt; createState() =&gt; _LaunchScreenState();\n}\nclass _LaunchScreenState extends State&lt;LaunchScreen&gt; {\n  final controller = Get.put(LaunchController());\n  final AppThemeState _appTheme = AppThemeState();\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Container(\n        padding: const EdgeInsets.symmetric(horizontal: 25, vertical: 25),\n        height: controller.height,\n        width: controller.width,\n        decoration: const BoxDecoration(\n          image: DecorationImage(\n              image: AssetImage(ImageAssetsPath.launchBackImage),\n              fit: BoxFit.fill),\n        ),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.center,\n          mainAxisAlignment: MainAxisAlignment.end,\n          children: [\n            Text(&quot;Dhulayi.com&quot;.tr,\n                style: _appTheme.customTextStyle(\n                    fontSize: 35, fontWeightType: _appTheme.boldWeightType)),\n            SizedBox(\n              height: controller.height * 0.02,\n            ),\n            Text(\n              &quot;lorem Ipsum is simply dummy text of the printing and typesetting industry.LoremIpsum has been the industry's standard dummy text ever since the 1500s&quot;,\n              style: _appTheme.customTextStyle(\n                  fontSize: 12, fontWeightType: _appTheme.regularWeightType),\n              textAlign: TextAlign.center,\n            ),\n            SizedBox(\n              height: controller.height * .05,\n            ),\n            MaterialButton(\n              onPressed: () {\n                controller.navigateToMain();\n              },\n              height: 50,\n              color: AppColors.redBackGroundColor,\n              minWidth: controller.width,\n              child: Text(&quot;Swipe Here&quot;,\n                  style: _appTheme.customTextStyle(\n                      color: AppColors.buttonTextColor,\n                      fontWeightType: _appTheme.boldWeightType,\n                      fontSize: 20)),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>/// Launch controller code</p>\n<pre><code>     class LaunchController extends GetxController{\n          double height = Get.height;\n          double width = Get.width;\n        \n          void navigateToMain(){\n            Get.offNamed(RoutesName.verifyView);\n          }\n        }\n\n</code></pre>\n<p>when I tried to use width and height using Media Query without using Getx Controller then it worked fine. however i was still using getx controller to call navigation method</p>\n",
        "codigo": [
            "main code\nvoid main() {\n  runApp( const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n   const MyApp({super.key});\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return Listener(\n      onPointerHover: (onPointerMove){\n        FocusManager.instance.primaryFocus?.unfocus();\n      },\n      child: GetMaterialApp(\n        debugShowCheckedModeBanner: false,\n        title: 'Flutter Demo',\n        getPages: AppRoutes.appRoutes(),\n        initialBinding: InitialBindings(),\n        initialRoute: RoutesName.launchScreen,\n      ),\n    );\n  }\n}\n\n",
            "class LaunchScreen extends StatefulWidget {\n  const LaunchScreen({super.key});\n\n  @override\n  State<LaunchScreen> createState() => _LaunchScreenState();\n}\nclass _LaunchScreenState extends State<LaunchScreen> {\n  final controller = Get.put(LaunchController());\n  final AppThemeState _appTheme = AppThemeState();\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Container(\n        padding: const EdgeInsets.symmetric(horizontal: 25, vertical: 25),\n        height: controller.height,\n        width: controller.width,\n        decoration: const BoxDecoration(\n          image: DecorationImage(\n              image: AssetImage(ImageAssetsPath.launchBackImage),\n              fit: BoxFit.fill),\n        ),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.center,\n          mainAxisAlignment: MainAxisAlignment.end,\n          children: [\n            Text(\"Dhulayi.com\".tr,\n                style: _appTheme.customTextStyle(\n                    fontSize: 35, fontWeightType: _appTheme.boldWeightType)),\n            SizedBox(\n              height: controller.height * 0.02,\n            ),\n            Text(\n              \"lorem Ipsum is simply dummy text of the printing and typesetting industry.LoremIpsum has been the industry's standard dummy text ever since the 1500s\",\n              style: _appTheme.customTextStyle(\n                  fontSize: 12, fontWeightType: _appTheme.regularWeightType),\n              textAlign: TextAlign.center,\n            ),\n            SizedBox(\n              height: controller.height * .05,\n            ),\n            MaterialButton(\n              onPressed: () {\n                controller.navigateToMain();\n              },\n              height: 50,\n              color: AppColors.redBackGroundColor,\n              minWidth: controller.width,\n              child: Text(\"Swipe Here\",\n                  style: _appTheme.customTextStyle(\n                      color: AppColors.buttonTextColor,\n                      fontWeightType: _appTheme.boldWeightType,\n                      fontSize: 20)),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n",
            "     class LaunchController extends GetxController{\n          double height = Get.height;\n          double width = Get.width;\n        \n          void navigateToMain(){\n            Get.offNamed(RoutesName.verifyView);\n          }\n        }\n\n"
        ]
    },
    {
        "titulo": "Execute one async function at a time",
        "score": 0,
        "views": 97,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76846470/execute-one-async-function-at-a-time",
        "conteudo_html": "<p>I would like to serially execute async functions.  So, wait until the first one has finished before starting the next one.  To do this, I have created a boolean to serve as a type of lock which blocks until we are ready to execute the next function.</p>\n<p>isExecuting gets set to true, but it is never set to false afterwards.  Do you see why?</p>\n<p>Here is a test which I wrote.</p>\n<pre><code>test('Should execute serially', () async {\n  WidgetsFlutterBinding.ensureInitialized();\n  final example = DoSynchronously();\n  example.convertToSync();\n});\n</code></pre>\n<p>Here is the example code:</p>\n<pre><code>class DoSynchronously {  \n\n  static bool isExecuting = false;\n  static const readDelay = 1000;\n\n  void convertToSync() {\n    while (true) {\n      waitToExecute();\n      isExecuting = true;\n      anAsyncFunction();\n    }\n  }\n\n  void waitToExecute() {\n    while (isExecuting) {\n      print(&quot;read delay&quot;);\n      sleep(\n        const Duration(milliseconds: readDelay),\n      );\n    }\n  }\n\n  Future&lt;void&gt; anAsyncFunction() async {\n    startExecuting();\n    await Future.delayed(Duration(seconds: 1), () =&gt; 'Delayed 2 seconds.')\n        .then((result) =&gt; print(result));\n    stopExecuting();\n  }\n\n  void startExecuting() {\n    isExecuting = true;\n    print(&quot;executing = true&quot;);\n  }\n\n  void stopExecuting() {\n    isExecuting = false;\n    print(&quot;Stopped executing&quot;);\n  }\n}\n</code></pre>\n",
        "codigo": [
            "test('Should execute serially', () async {\n  WidgetsFlutterBinding.ensureInitialized();\n  final example = DoSynchronously();\n  example.convertToSync();\n});\n",
            "class DoSynchronously {  \n\n  static bool isExecuting = false;\n  static const readDelay = 1000;\n\n  void convertToSync() {\n    while (true) {\n      waitToExecute();\n      isExecuting = true;\n      anAsyncFunction();\n    }\n  }\n\n  void waitToExecute() {\n    while (isExecuting) {\n      print(\"read delay\");\n      sleep(\n        const Duration(milliseconds: readDelay),\n      );\n    }\n  }\n\n  Future<void> anAsyncFunction() async {\n    startExecuting();\n    await Future.delayed(Duration(seconds: 1), () => 'Delayed 2 seconds.')\n        .then((result) => print(result));\n    stopExecuting();\n  }\n\n  void startExecuting() {\n    isExecuting = true;\n    print(\"executing = true\");\n  }\n\n  void stopExecuting() {\n    isExecuting = false;\n    print(\"Stopped executing\");\n  }\n}\n"
        ]
    },
    {
        "titulo": "FirebaseAuthMultiFactorException isn&#39;t being caught",
        "score": 1,
        "views": 87,
        "respostas": 2,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/76840832/firebaseauthmultifactorexception-isnt-being-caught",
        "conteudo_html": "<p>My dart code isn't catching the FirebaseAuthMultiFactorException required for logging in users that have opted in to MFA. For some reason, the exception is caught as a standard FirebaseAuthException.</p>\n<pre><code>Future handleLogin(String email, String pass, BuildContext context) async {\n    try {\n      await signInWithEmail(email, pass);\n    } on FirebaseAuthMultiFactorException catch (e) {\n      final firstHint = e.resolver.hints.first;\n      if (firstHint is! PhoneMultiFactorInfo) {\n        return;\n      }\n      await FirebaseAuth.instance.verifyPhoneNumber(\n        multiFactorSession: e.resolver.session,\n        multiFactorInfo: firstHint,\n        verificationCompleted: (_) {},\n        verificationFailed: (_) {},\n        codeSent: (String verificationId, int? resendToken) async {\n          final smsCode = await Navigator.push&lt;String&gt;(\n            context,\n            CupertinoPageRoute(builder: (context) =&gt; SmsCodePage()),\n          );\n\n          if (smsCode != null) {\n            final credential = PhoneAuthProvider.credential(\n              verificationId: verificationId,\n              smsCode: smsCode,\n            );\n\n            try {\n              await e.resolver.resolveSignIn(\n                PhoneMultiFactorGenerator.getAssertion(\n                  credential,\n                ),\n              );\n            } on FirebaseAuthException catch (e) {\n              print(e.message);\n            }\n          }\n        },\n        codeAutoRetrievalTimeout: (_) {},\n      );\n    } on FirebaseAuthException catch (e) {\n      if (e.code == 'user-disabled') {\n        return &quot;banned&quot;;\n      } else {\n        print(&quot;firebase auth exception $e&quot;);\n        return null;\n      }\n    } catch (e) {\n      print(&quot;generic error: $e&quot;);\n      return null;\n    }\n  }\n</code></pre>\n<p>Console output when attempting login with a user that has opted in to MFA (already setup):</p>\n<p><code>flutter: firebase auth exception [firebase_auth/multi-factor-auth-required] 0x283bfcc90&gt;}</code></p>\n<p>Why is this being caught as a &quot;standard&quot; auth exception and not as a FirebaseAuthMultiFactorException?</p>\n",
        "codigo": [
            "Future handleLogin(String email, String pass, BuildContext context) async {\n    try {\n      await signInWithEmail(email, pass);\n    } on FirebaseAuthMultiFactorException catch (e) {\n      final firstHint = e.resolver.hints.first;\n      if (firstHint is! PhoneMultiFactorInfo) {\n        return;\n      }\n      await FirebaseAuth.instance.verifyPhoneNumber(\n        multiFactorSession: e.resolver.session,\n        multiFactorInfo: firstHint,\n        verificationCompleted: (_) {},\n        verificationFailed: (_) {},\n        codeSent: (String verificationId, int? resendToken) async {\n          final smsCode = await Navigator.push<String>(\n            context,\n            CupertinoPageRoute(builder: (context) => SmsCodePage()),\n          );\n\n          if (smsCode != null) {\n            final credential = PhoneAuthProvider.credential(\n              verificationId: verificationId,\n              smsCode: smsCode,\n            );\n\n            try {\n              await e.resolver.resolveSignIn(\n                PhoneMultiFactorGenerator.getAssertion(\n                  credential,\n                ),\n              );\n            } on FirebaseAuthException catch (e) {\n              print(e.message);\n            }\n          }\n        },\n        codeAutoRetrievalTimeout: (_) {},\n      );\n    } on FirebaseAuthException catch (e) {\n      if (e.code == 'user-disabled') {\n        return \"banned\";\n      } else {\n        print(\"firebase auth exception $e\");\n        return null;\n      }\n    } catch (e) {\n      print(\"generic error: $e\");\n      return null;\n    }\n  }\n",
            "flutter: firebase auth exception [firebase_auth/multi-factor-auth-required] 0x283bfcc90>}"
        ]
    },
    {
        "titulo": "Is there a way to fix the fall through error?",
        "score": 0,
        "views": 281,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76829266/is-there-a-way-to-fix-the-fall-through-error",
        "conteudo_html": "<pre><code>../../AppData/Local/Pub/Cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/firebase_app.dart:18:25: Error: Member not found: 'FirebaseAppPlatform.verifyExtends'.\n    FirebaseAppPlatform.verifyExtends(_delegate);\n                        ^^^^^^^^^^^^^\n../../AppData/Local/Pub/Cache/hosted/pub.dev/cloud_firestore_web-2.8.10/lib/src/utils/web_utils.dart:71:13: Error: Method not found: 'FallThroughError'.\n      throw FallThroughError();\n            ^^^^^^^^^^^^^^^^\n../../AppData/Local/Pub/Cache/hosted/pub.dev/cloud_firestore_platform_interface-5.7.7/lib/src/platform_interface/utils/load_bundle_task_state.dart:13:13: Error: Method not found: 'FallThroughError'.\n      throw FallThroughError();\n            ^^^^^^^^^^^^^^^^\nFailed to compile application.\n\n</code></pre>\n<p>This is the error I'm getting when trying to run my application.</p>\n<p>This error started happening only after I connected my app to firebase. And I can't get what it means.</p>\n",
        "codigo": [
            "../../AppData/Local/Pub/Cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/firebase_app.dart:18:25: Error: Member not found: 'FirebaseAppPlatform.verifyExtends'.\n    FirebaseAppPlatform.verifyExtends(_delegate);\n                        ^^^^^^^^^^^^^\n../../AppData/Local/Pub/Cache/hosted/pub.dev/cloud_firestore_web-2.8.10/lib/src/utils/web_utils.dart:71:13: Error: Method not found: 'FallThroughError'.\n      throw FallThroughError();\n            ^^^^^^^^^^^^^^^^\n../../AppData/Local/Pub/Cache/hosted/pub.dev/cloud_firestore_platform_interface-5.7.7/lib/src/platform_interface/utils/load_bundle_task_state.dart:13:13: Error: Method not found: 'FallThroughError'.\n      throw FallThroughError();\n            ^^^^^^^^^^^^^^^^\nFailed to compile application.\n\n"
        ]
    },
    {
        "titulo": "Error generating dart client-side code from OpenAPI JSON",
        "score": 2,
        "views": 2265,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "openapi",
            "openapi-generator",
            "build-runner"
        ],
        "link": "https://stackoverflow.com/questions/76817370/error-generating-dart-client-side-code-from-openapi-json",
        "conteudo_html": "<p>I am trying to generate the client-side code of an OpenAPI API using the openapi-generator-cli with the Dart-Dio generator. However, I am encountering errors during the generation process. The API JSON provided is just a small part of the whole API, and we have already successfully generated the API client code using the typescript-angular generator for Angular without any issues.</p>\n<p>Since this API client code generation is created as a package, I think there are no steps to reproduce this other than just using the shell script. You may have to install the <a href=\"https://openapi-generator.tech/docs/installation/\" rel=\"nofollow noreferrer\">openapi-generator-cli</a> and <a href=\"https://docs.flutter.dev/get-started/install\" rel=\"nofollow noreferrer\">flutter</a>.</p>\n<p><strong>OpenAPI version and <code>openapitools.json</code> contents</strong></p>\n<p><code>openapi-generator-cli</code> version should be <code>6.0.0</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;$schema&quot;: &quot;./node_modules/@openapitools/openapi-generator-cli/config.schema.json&quot;,\n  &quot;spaces&quot;: 2,\n  &quot;generator-cli&quot;: {\n    &quot;version&quot;: &quot;6.6.0&quot;\n  }\n}\n</code></pre>\n<p><strong>JSON file I am using as input (just a snippet of the actual API):</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;openapi&quot;: &quot;3.0.2&quot;,\n    &quot;info&quot;: {\n        &quot;title&quot;: &quot;Some API&quot;,\n        &quot;description&quot;: &quot;Some API description&quot;,\n        &quot;version&quot;: &quot;1.0.0&quot;\n    },\n    &quot;paths&quot;: {\n        &quot;/token/{organization_id}&quot;: {\n            &quot;get&quot;: {\n                &quot;tags&quot;: [&quot;Authentication&quot;],\n                &quot;summary&quot;: &quot;Get Token For Organization&quot;,\n                &quot;description&quot;: &quot;Get a token for a specific organization&quot;,\n                &quot;operationId&quot;: &quot;get_token_for_organization_token__organization_id__get&quot;,\n                &quot;parameters&quot;: [\n                    {\n                        &quot;required&quot;: true,\n                        &quot;schema&quot;: { &quot;title&quot;: &quot;Organization Id&quot;, &quot;type&quot;: &quot;string&quot; },\n                        &quot;name&quot;: &quot;organization_id&quot;,\n                        &quot;in&quot;: &quot;path&quot;\n                    }\n                ],\n                &quot;responses&quot;: {\n                    &quot;200&quot;: {\n                        &quot;description&quot;: &quot;Successful Response&quot;,\n                        &quot;content&quot;: { &quot;application/json&quot;: { &quot;schema&quot;: { &quot;$ref&quot;: &quot;#/components/schemas/TokenInfo&quot; } } }\n                    },\n                    &quot;422&quot;: {\n                        &quot;description&quot;: &quot;Validation Error&quot;,\n                        &quot;content&quot;: { &quot;application/json&quot;: { &quot;schema&quot;: { &quot;$ref&quot;: &quot;#/components/schemas/HTTPValidationError&quot; } } }\n                    }\n                },\n                &quot;security&quot;: [{ &quot;OAuth2PasswordBearer&quot;: [] }]\n            }\n        },\n        &quot;/&quot;: {\n            &quot;get&quot;: {\n                &quot;summary&quot;: &quot;Read Root&quot;,\n                &quot;operationId&quot;: &quot;read_root__get&quot;,\n                &quot;responses&quot;: {\n                    &quot;200&quot;: { &quot;description&quot;: &quot;Successful Response&quot;, &quot;content&quot;: { &quot;application/json&quot;: { &quot;schema&quot;: {} } } }\n                }\n            }\n        }\n    },\n    &quot;components&quot;: {\n        &quot;schemas&quot;: {\n            &quot;ValidationError&quot;: {\n                &quot;title&quot;: &quot;ValidationError&quot;,\n                &quot;required&quot;: [&quot;loc&quot;, &quot;msg&quot;, &quot;type&quot;],\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;properties&quot;: {\n                    &quot;loc&quot;: {\n                        &quot;title&quot;: &quot;Location&quot;,\n                        &quot;type&quot;: &quot;array&quot;,\n                        &quot;items&quot;: { &quot;anyOf&quot;: [{ &quot;type&quot;: &quot;string&quot; }, { &quot;type&quot;: &quot;integer&quot; }] }\n                    },\n                    &quot;msg&quot;: { &quot;title&quot;: &quot;Message&quot;, &quot;type&quot;: &quot;string&quot; },\n                    &quot;type&quot;: { &quot;title&quot;: &quot;Error Type&quot;, &quot;type&quot;: &quot;string&quot; }\n                }\n            },\n            &quot;HTTPValidationError&quot;: {\n                &quot;title&quot;: &quot;HTTPValidationError&quot;,\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;properties&quot;: {\n                    &quot;detail&quot;: { &quot;title&quot;: &quot;Detail&quot;, &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;$ref&quot;: &quot;#/components/schemas/ValidationError&quot; } }\n                }\n            },\n            &quot;TokenInfo&quot;: {\n                &quot;title&quot;: &quot;TokenInfo&quot;,\n                &quot;required&quot;: [&quot;access_token&quot;],\n                &quot;type&quot;: &quot;object&quot;,\n                &quot;properties&quot;: {\n                    &quot;access_token&quot;: { &quot;title&quot;: &quot;Access Token&quot;, &quot;type&quot;: &quot;string&quot; },\n                    &quot;token_type&quot;: { &quot;allOf&quot;: [{ &quot;$ref&quot;: &quot;#/components/schemas/TokenTypes&quot; }], &quot;default&quot;: &quot;bearer&quot; }\n                }\n            },\n            &quot;TokenTypes&quot;: { &quot;title&quot;: &quot;TokenTypes&quot;, &quot;enum&quot;: [&quot;bearer&quot;], &quot;type&quot;: &quot;string&quot;, &quot;description&quot;: &quot;An enumeration.&quot; }\n        },\n        &quot;securitySchemes&quot;: {\n            &quot;OAuth2PasswordBearer&quot;: {\n                &quot;type&quot;: &quot;oauth2&quot;,\n                &quot;flows&quot;: {\n                    &quot;password&quot;: {\n                        &quot;scopes&quot;: { &quot;system&quot;: &quot;system&quot;, &quot;user&quot;: &quot;user&quot;, &quot;mobile&quot;: &quot;mobile&quot; },\n                        &quot;tokenUrl&quot;: &quot;/auth/token&quot;\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Script I am using for the generation of the code:</strong></p>\n<pre><code>cd packages/apis\n\necho &quot;Removing old files...&quot;\nrm -rf client_api\n\necho &quot;Generating client api...&quot;\nopenapi-generator-cli generate -i &quot;../../scripts/api_snippet.json&quot; -g dart-dio -o client_api\n\ncd client_api\n\necho &quot;Adding dependencies...&quot;\nflutter pub add build_runner\nflutter pub add analyzer:0.39.14\n\necho &quot;Cleaning up...&quot;\nflutter clean\nflutter pub cache repair\nflutter pub run build_runner clean\n\necho &quot;Getting dependencies...&quot;\nflutter pub get\n\necho &quot;Running build_runner...&quot;\ndart pub run build_runner build --delete-conflicting-outputs\n</code></pre>\n<p>I've also tried using the <code>dart</code> openapi generator, but this also did not work out. I think I would like to have it with <code>dart-dio</code>, since this seems to be the most liked option by the flutter community.</p>\n<p><strong>Logs after running command:</strong></p>\n<pre><code>Removing old files...\nGenerating client api...\n[main] INFO  o.o.codegen.DefaultGenerator - Generating with dryRun=false\n[main] INFO  o.o.c.ignore.CodegenIgnoreProcessor - Output directory (/path/to/cloned/repo/client_api) does not exist, or is inaccessible. No file (.openapi-generator-ignore) will be evaluated.\n[main] INFO  o.o.codegen.DefaultGenerator - Generator 'dart-dio' is considered stable.\n[main] INFO  o.o.c.languages.AbstractDartCodegen - Environment variable DART_POST_PROCESS_FILE not defined so the Dart code may not be properly formatted. To define it, try `export DART_POST_PROCESS_FILE=&quot;/usr/local/bin/dartfmt -w&quot;` (Linux/Mac)\n[main] INFO  o.o.c.languages.AbstractDartCodegen - NOTE: To enable file post-processing, 'enablePostProcessFile' must be set to `true` (--enable-post-process-file for CLI).\n[main] INFO  o.o.c.languages.DartDioClientCodegen - Environment variable DART_POST_PROCESS_FILE not defined so the Dart code may not be properly formatted. To define it, try `export DART_POST_PROCESS_FILE=&quot;/usr/local/bin/dartfmt -w&quot;` (Linux/Mac)\n[main] INFO  o.o.c.languages.DartDioClientCodegen - NOTE: To enable file post-processing, 'enablePostProcessFile' must be set to `true` (--enable-post-process-file for CLI).\n[main] INFO  o.o.codegen.InlineModelResolver - Inline schema created as Location_inner. To have complete control of the model name, set the `title` field or use the inlineSchemaNameMapping option (--inline-schema-name-mappings in CLI).\n[main] INFO  o.o.codegen.utils.URLPathUtils - 'host' (OAS 2.0) or 'servers' (OAS 3.0) not defined in the spec. Default to [http://localhost] for server URL [http://localhost/]\n[main] INFO  o.o.codegen.utils.URLPathUtils - 'host' (OAS 2.0) or 'servers' (OAS 3.0) not defined in the spec. Default to [http://localhost] for server URL [http://localhost/]\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/model/http_validation_error.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/test/http_validation_error_test.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/doc/HTTPValidationError.md\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/model/location_inner.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/test/location_inner_test.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/doc/LocationInner.md\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/model/token_info.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/test/token_info_test.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/doc/TokenInfo.md\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/model/token_types.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/test/token_types_test.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/doc/TokenTypes.md\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/model/validation_error.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/test/validation_error_test.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/doc/ValidationError.md\n[main] INFO  o.o.codegen.utils.URLPathUtils - 'host' (OAS 2.0) or 'servers' (OAS 3.0) not defined in the spec. Default to [http://localhost] for server URL [http://localhost/]\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/api/authentication_api.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/test/authentication_api_test.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/doc/AuthenticationApi.md\n[main] INFO  o.o.codegen.utils.URLPathUtils - 'host' (OAS 2.0) or 'servers' (OAS 3.0) not defined in the spec. Default to [http://localhost] for server URL [http://localhost/]\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/api/default_api.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/test/default_api_test.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/doc/DefaultApi.md\n[main] INFO  o.o.codegen.utils.URLPathUtils - 'host' (OAS 2.0) or 'servers' (OAS 3.0) not defined in the spec. Default to [http://localhost] for server URL [http://localhost/]\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/pubspec.yaml\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/analysis_options.yaml\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/.gitignore\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/README.md\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/openapi.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/api.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/auth/api_key_auth.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/auth/basic_auth.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/auth/bearer_auth.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/auth/oauth.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/auth/auth.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/serializers.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/api_util.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/model/date.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/date_serializer.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/.openapi-generator-ignore\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/.openapi-generator/VERSION\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/.openapi-generator/FILES\n################################################################################\n# Thanks for using OpenAPI Generator.                                          #\n# Please consider donation to help us maintain this project 🙏                 #\n# https://opencollective.com/openapi_generator/donate                          #\n################################################################################\nAdding dependencies...\n&quot;build_runner&quot; was found in dev_dependencies. Removing &quot;build_runner&quot; and adding it to dependencies instead.\nResolving dependencies... \n+ _fe_analyzer_shared 61.0.0 (62.0.0 available)\n+ analyzer 5.13.0 (6.0.0 available)\n+ args 2.4.2\n+ async 2.11.0\n+ boolean_selector 2.1.1\n+ build 2.4.1\n+ build_config 1.1.1\n+ build_daemon 4.0.0\n+ build_resolvers 2.2.1\n+ build_runner 2.4.6\n+ build_runner_core 7.2.10\n+ built_collection 5.1.1\n+ built_value 8.6.1\n+ built_value_generator 8.6.1\n+ checked_yaml 2.0.3\n+ code_builder 4.5.0\n+ collection 1.18.0\n+ convert 3.1.1\n+ coverage 1.6.3\n+ crypto 3.0.3\n+ dart_style 2.3.2\n+ dio 5.3.1\n+ file 7.0.0\n+ fixnum 1.1.0\n+ frontend_server_client 3.2.0\n+ glob 2.1.2\n+ graphs 2.3.1\n+ http_multi_server 3.2.1\n+ http_parser 4.0.2\n+ io 1.0.4\n+ js 0.6.7\n+ json_annotation 4.8.1\n+ logging 1.2.0\n+ matcher 0.12.16\n+ meta 1.9.1\n+ mime 1.0.4\n+ node_preamble 2.0.2\n+ one_of 1.5.0\n+ one_of_serializer 1.5.0\n+ package_config 2.1.0\n+ path 1.8.3\n+ pool 1.5.1\n+ pub_semver 2.1.4\n+ pubspec_parse 1.2.3\n+ quiver 3.2.1\n+ shelf 1.4.1\n+ shelf_packages_handler 3.0.2\n+ shelf_static 1.1.2\n+ shelf_web_socket 1.0.4\n+ source_gen 1.4.0\n+ source_map_stack_trace 2.1.1\n+ source_maps 0.10.12\n+ source_span 1.10.0\n+ stack_trace 1.11.1\n+ stream_channel 2.1.2\n+ stream_transform 2.1.0\n+ string_scanner 1.2.0\n+ term_glyph 1.2.1\n+ test 1.24.5\n+ test_api 0.6.1\n+ test_core 0.5.5\n+ timing 1.0.1\n+ typed_data 1.3.2\n+ vm_service 11.8.0\n+ watcher 1.1.0\n+ web_socket_channel 2.4.0\n+ webkit_inspection_protocol 1.2.0\n+ yaml 3.1.2\nChanged 68 dependencies!\nThe current Dart SDK version is 3.0.6.\n\nBecause openapi depends on analyzer &gt;=0.9.1 &lt;0.42.0-nullsafety.0\n  which doesn't support null safety, version solving failed.\n\nThe lower bound of &quot;sdk: '&gt;=0.8.8 &lt;3.0.0'&quot; must be 2.12.0 or higher to enable null safety.\nFor details, see https://dart.dev/null-safety\nCleaning up...\nDeleting .dart_tool...                                                    1ms\nReinstalled 147 packages.\nReactivating melos 3.1.1...\nBuilding package executables... \nBuilt melos:melos.\nInstalled executable melos.\nWarning: Pub installs executables into $HOME/.pub-cache/bin, which is not on your path.\nYou can fix that by adding this to your shell's config file (.bashrc, .bash_profile, etc.):\n\n  export PATH=&quot;$PATH&quot;:&quot;$HOME/.pub-cache/bin&quot;\n\nReactivated 1 package.\nDeprecated. Use `dart run` instead.\nResolving dependencies... \nCannot open file, path = '.dart_tool/package_config.json' (OS Error: No such file or directory, errno = 2)\nGot dependencies.\nGetting dependencies...\nResolving dependencies... \n  _fe_analyzer_shared 61.0.0 (62.0.0 available)\n  analyzer 5.13.0 (6.0.0 available)\nGot dependencies!\nRunning build_runner...\nDeprecated. Use `dart run` instead.\nBuilding package executable... (3.6s)\nBuilt build_runner:build_runner.\n[INFO] Generating build script completed, took 145ms\n[INFO] Precompiling build script... completed, took 3.4s\n[INFO] Building new asset graph completed, took 367ms\n[INFO] Checking for unexpected pre-existing outputs. completed, took 0ms\n[INFO] Generating SDK summary completed, took 2.3s\n[SEVERE] built_value_generator:built_value on lib/src/model/token_info.dart:\n\nThis builder requires Dart inputs without syntax errors.\nHowever, package:openapi/src/model/token_info.dart (or an existing part) contains the following errors.\ntoken_info.dart:32:27: Expected an identifier.\n\nTry fixing the errors and re-running the build.\n\n[INFO] Running build completed, took 3.7s\n[INFO] Caching finalized dependency graph completed, took 19ms\n[SEVERE] Failed after 3.7s\n</code></pre>\n<p><strong>Contents of the generated <code>pubspec.yaml</code> file:</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: openapi\nversion: 1.0.0\ndescription: OpenAPI API client\nhomepage: homepage\n\nenvironment:\n  sdk: '&gt;=2.15.0 &lt;3.0.0'\n\ndependencies:\n  dio: '^5.0.0'\n  one_of: '&gt;=1.5.0 &lt;2.0.0'\n  one_of_serializer: '&gt;=1.5.0 &lt;2.0.0'\n  built_value: '&gt;=8.4.0 &lt;9.0.0'\n  built_collection: '&gt;=5.1.1 &lt;6.0.0'\n  build_runner: ^2.4.6\n\ndev_dependencies:\n  built_value_generator: '&gt;=8.4.0 &lt;9.0.0'\n  test: ^1.16.0\n</code></pre>\n<p><strong>Expected Outcome:</strong>\nI expect the Dart client-side code to be successfully generated without any syntax errors.</p>\n<p><strong>Actual Outcome:</strong>\nThe generation process fails with syntax errors in the token_info.dart file.</p>\n<p>Contents of the <code>token_info.dart</code> file:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>//\n// AUTO-GENERATED FILE, DO NOT MODIFY!\n//\n\n// ignore_for_file: unused_element\nimport 'package:openapi/src/model/token_types.dart';\nimport 'package:built_value/built_value.dart';\nimport 'package:built_value/serializer.dart';\n\npart 'token_info.g.dart';\n\n/// TokenInfo\n///\n/// Properties:\n/// * [accessToken] \n/// * [tokenType] \n@BuiltValue()\nabstract class TokenInfo implements Built&lt;TokenInfo, TokenInfoBuilder&gt; {\n  @BuiltValueField(wireName: r'access_token')\n  String get accessToken;\n\n  @BuiltValueField(wireName: r'token_type')\n  TokenTypes? get tokenType;\n  // enum tokenTypeEnum {  bearer,  };\n\n  TokenInfo._();\n\n  factory TokenInfo([void updates(TokenInfoBuilder b)]) = _$TokenInfo;\n\n  @BuiltValueHook(initializeBuilder: true)\n  static void _defaults(TokenInfoBuilder b) =&gt; b\n      ..tokenType = const ._(TokenTypes.bearer);\n\n  @BuiltValueSerializer(custom: true)\n  static Serializer&lt;TokenInfo&gt; get serializer =&gt; _$TokenInfoSerializer();\n}\n\nclass _$TokenInfoSerializer implements PrimitiveSerializer&lt;TokenInfo&gt; {\n  @override\n  final Iterable&lt;Type&gt; types = const [TokenInfo, _$TokenInfo];\n\n  @override\n  final String wireName = r'TokenInfo';\n\n  Iterable&lt;Object?&gt; _serializeProperties(\n    Serializers serializers,\n    TokenInfo object, {\n    FullType specifiedType = FullType.unspecified,\n  }) sync* {\n    yield r'access_token';\n    yield serializers.serialize(\n      object.accessToken,\n      specifiedType: const FullType(String),\n    );\n    if (object.tokenType != null) {\n      yield r'token_type';\n      yield serializers.serialize(\n        object.tokenType,\n        specifiedType: const FullType(TokenTypes),\n      );\n    }\n  }\n\n  @override\n  Object serialize(\n    Serializers serializers,\n    TokenInfo object, {\n    FullType specifiedType = FullType.unspecified,\n  }) {\n    return _serializeProperties(serializers, object, specifiedType: specifiedType).toList();\n  }\n\n  void _deserializeProperties(\n    Serializers serializers,\n    Object serialized, {\n    FullType specifiedType = FullType.unspecified,\n    required List&lt;Object?&gt; serializedList,\n    required TokenInfoBuilder result,\n    required List&lt;Object?&gt; unhandled,\n  }) {\n    for (var i = 0; i &lt; serializedList.length; i += 2) {\n      final key = serializedList[i] as String;\n      final value = serializedList[i + 1];\n      switch (key) {\n        case r'access_token':\n          final valueDes = serializers.deserialize(\n            value,\n            specifiedType: const FullType(String),\n          ) as String;\n          result.accessToken = valueDes;\n          break;\n        case r'token_type':\n          final valueDes = serializers.deserialize(\n            value,\n            specifiedType: const FullType(TokenTypes),\n          ) as TokenTypes;\n          result.tokenType = valueDes;\n          break;\n        default:\n          unhandled.add(key);\n          unhandled.add(value);\n          break;\n      }\n    }\n  }\n\n  @override\n  TokenInfo deserialize(\n    Serializers serializers,\n    Object serialized, {\n    FullType specifiedType = FullType.unspecified,\n  }) {\n    final result = TokenInfoBuilder();\n    final serializedList = (serialized as Iterable&lt;Object?&gt;).toList();\n    final unhandled = &lt;Object?&gt;[];\n    _deserializeProperties(\n      serializers,\n      serialized,\n      specifiedType: specifiedType,\n      serializedList: serializedList,\n      unhandled: unhandled,\n      result: result,\n    );\n    return result.build();\n  }\n}\n</code></pre>\n<p>Error when hovering over <code>part 'token_info.g.dart</code>:</p>\n<pre><code>Target of URI hasn't been generated: 'package:openapi/src/model/token_info.g.dart'.\nTry running the generator that will generate the file referenced by the URI. dart([uri_has_not_been_generated](https://dart.dev/diagnostics/uri_has_not_been_generated))\n</code></pre>\n<p><code>TokenInfoBuilder</code> is also underlined in red everywhere and shows the following error when hovering over:</p>\n<pre><code>Undefined class 'TokenInfoBuilder'.\nTry changing the name to the name of an existing class, or creating a class with the name 'TokenInfoBuilder'. dart([undefined_class](https://dart.dev/diagnostics/undefined_class))\n</code></pre>\n<p>As a disclaimer, I must admit that I am more of a beginner when it comes to Flutter. If you have any questions or suggestions regarding the problem and the provided logs, please feel free to ask. I will do my best to address any queries and work towards finding a solution. Thank you for taking the time to review my problem and for any assistance you can provide!</p>\n",
        "codigo": [
            "openapitools.json",
            "openapi-generator-cli",
            "6.0.0",
            "{\n  \"$schema\": \"./node_modules/@openapitools/openapi-generator-cli/config.schema.json\",\n  \"spaces\": 2,\n  \"generator-cli\": {\n    \"version\": \"6.6.0\"\n  }\n}\n",
            "{\n    \"openapi\": \"3.0.2\",\n    \"info\": {\n        \"title\": \"Some API\",\n        \"description\": \"Some API description\",\n        \"version\": \"1.0.0\"\n    },\n    \"paths\": {\n        \"/token/{organization_id}\": {\n            \"get\": {\n                \"tags\": [\"Authentication\"],\n                \"summary\": \"Get Token For Organization\",\n                \"description\": \"Get a token for a specific organization\",\n                \"operationId\": \"get_token_for_organization_token__organization_id__get\",\n                \"parameters\": [\n                    {\n                        \"required\": true,\n                        \"schema\": { \"title\": \"Organization Id\", \"type\": \"string\" },\n                        \"name\": \"organization_id\",\n                        \"in\": \"path\"\n                    }\n                ],\n                \"responses\": {\n                    \"200\": {\n                        \"description\": \"Successful Response\",\n                        \"content\": { \"application/json\": { \"schema\": { \"$ref\": \"#/components/schemas/TokenInfo\" } } }\n                    },\n                    \"422\": {\n                        \"description\": \"Validation Error\",\n                        \"content\": { \"application/json\": { \"schema\": { \"$ref\": \"#/components/schemas/HTTPValidationError\" } } }\n                    }\n                },\n                \"security\": [{ \"OAuth2PasswordBearer\": [] }]\n            }\n        },\n        \"/\": {\n            \"get\": {\n                \"summary\": \"Read Root\",\n                \"operationId\": \"read_root__get\",\n                \"responses\": {\n                    \"200\": { \"description\": \"Successful Response\", \"content\": { \"application/json\": { \"schema\": {} } } }\n                }\n            }\n        }\n    },\n    \"components\": {\n        \"schemas\": {\n            \"ValidationError\": {\n                \"title\": \"ValidationError\",\n                \"required\": [\"loc\", \"msg\", \"type\"],\n                \"type\": \"object\",\n                \"properties\": {\n                    \"loc\": {\n                        \"title\": \"Location\",\n                        \"type\": \"array\",\n                        \"items\": { \"anyOf\": [{ \"type\": \"string\" }, { \"type\": \"integer\" }] }\n                    },\n                    \"msg\": { \"title\": \"Message\", \"type\": \"string\" },\n                    \"type\": { \"title\": \"Error Type\", \"type\": \"string\" }\n                }\n            },\n            \"HTTPValidationError\": {\n                \"title\": \"HTTPValidationError\",\n                \"type\": \"object\",\n                \"properties\": {\n                    \"detail\": { \"title\": \"Detail\", \"type\": \"array\", \"items\": { \"$ref\": \"#/components/schemas/ValidationError\" } }\n                }\n            },\n            \"TokenInfo\": {\n                \"title\": \"TokenInfo\",\n                \"required\": [\"access_token\"],\n                \"type\": \"object\",\n                \"properties\": {\n                    \"access_token\": { \"title\": \"Access Token\", \"type\": \"string\" },\n                    \"token_type\": { \"allOf\": [{ \"$ref\": \"#/components/schemas/TokenTypes\" }], \"default\": \"bearer\" }\n                }\n            },\n            \"TokenTypes\": { \"title\": \"TokenTypes\", \"enum\": [\"bearer\"], \"type\": \"string\", \"description\": \"An enumeration.\" }\n        },\n        \"securitySchemes\": {\n            \"OAuth2PasswordBearer\": {\n                \"type\": \"oauth2\",\n                \"flows\": {\n                    \"password\": {\n                        \"scopes\": { \"system\": \"system\", \"user\": \"user\", \"mobile\": \"mobile\" },\n                        \"tokenUrl\": \"/auth/token\"\n                    }\n                }\n            }\n        }\n    }\n}\n",
            "cd packages/apis\n\necho \"Removing old files...\"\nrm -rf client_api\n\necho \"Generating client api...\"\nopenapi-generator-cli generate -i \"../../scripts/api_snippet.json\" -g dart-dio -o client_api\n\ncd client_api\n\necho \"Adding dependencies...\"\nflutter pub add build_runner\nflutter pub add analyzer:0.39.14\n\necho \"Cleaning up...\"\nflutter clean\nflutter pub cache repair\nflutter pub run build_runner clean\n\necho \"Getting dependencies...\"\nflutter pub get\n\necho \"Running build_runner...\"\ndart pub run build_runner build --delete-conflicting-outputs\n",
            "dart",
            "dart-dio",
            "Removing old files...\nGenerating client api...\n[main] INFO  o.o.codegen.DefaultGenerator - Generating with dryRun=false\n[main] INFO  o.o.c.ignore.CodegenIgnoreProcessor - Output directory (/path/to/cloned/repo/client_api) does not exist, or is inaccessible. No file (.openapi-generator-ignore) will be evaluated.\n[main] INFO  o.o.codegen.DefaultGenerator - Generator 'dart-dio' is considered stable.\n[main] INFO  o.o.c.languages.AbstractDartCodegen - Environment variable DART_POST_PROCESS_FILE not defined so the Dart code may not be properly formatted. To define it, try `export DART_POST_PROCESS_FILE=\"/usr/local/bin/dartfmt -w\"` (Linux/Mac)\n[main] INFO  o.o.c.languages.AbstractDartCodegen - NOTE: To enable file post-processing, 'enablePostProcessFile' must be set to `true` (--enable-post-process-file for CLI).\n[main] INFO  o.o.c.languages.DartDioClientCodegen - Environment variable DART_POST_PROCESS_FILE not defined so the Dart code may not be properly formatted. To define it, try `export DART_POST_PROCESS_FILE=\"/usr/local/bin/dartfmt -w\"` (Linux/Mac)\n[main] INFO  o.o.c.languages.DartDioClientCodegen - NOTE: To enable file post-processing, 'enablePostProcessFile' must be set to `true` (--enable-post-process-file for CLI).\n[main] INFO  o.o.codegen.InlineModelResolver - Inline schema created as Location_inner. To have complete control of the model name, set the `title` field or use the inlineSchemaNameMapping option (--inline-schema-name-mappings in CLI).\n[main] INFO  o.o.codegen.utils.URLPathUtils - 'host' (OAS 2.0) or 'servers' (OAS 3.0) not defined in the spec. Default to [http://localhost] for server URL [http://localhost/]\n[main] INFO  o.o.codegen.utils.URLPathUtils - 'host' (OAS 2.0) or 'servers' (OAS 3.0) not defined in the spec. Default to [http://localhost] for server URL [http://localhost/]\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/model/http_validation_error.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/test/http_validation_error_test.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/doc/HTTPValidationError.md\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/model/location_inner.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/test/location_inner_test.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/doc/LocationInner.md\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/model/token_info.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/test/token_info_test.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/doc/TokenInfo.md\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/model/token_types.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/test/token_types_test.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/doc/TokenTypes.md\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/model/validation_error.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/test/validation_error_test.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/doc/ValidationError.md\n[main] INFO  o.o.codegen.utils.URLPathUtils - 'host' (OAS 2.0) or 'servers' (OAS 3.0) not defined in the spec. Default to [http://localhost] for server URL [http://localhost/]\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/api/authentication_api.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/test/authentication_api_test.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/doc/AuthenticationApi.md\n[main] INFO  o.o.codegen.utils.URLPathUtils - 'host' (OAS 2.0) or 'servers' (OAS 3.0) not defined in the spec. Default to [http://localhost] for server URL [http://localhost/]\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/api/default_api.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/test/default_api_test.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/doc/DefaultApi.md\n[main] INFO  o.o.codegen.utils.URLPathUtils - 'host' (OAS 2.0) or 'servers' (OAS 3.0) not defined in the spec. Default to [http://localhost] for server URL [http://localhost/]\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/pubspec.yaml\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/analysis_options.yaml\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/.gitignore\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/README.md\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/openapi.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/api.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/auth/api_key_auth.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/auth/basic_auth.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/auth/bearer_auth.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/auth/oauth.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/auth/auth.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/serializers.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/api_util.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/model/date.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/lib/src/date_serializer.dart\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/.openapi-generator-ignore\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/.openapi-generator/VERSION\n[main] INFO  o.o.codegen.TemplateManager - writing file /path/to/cloned/repo/client_api/.openapi-generator/FILES\n################################################################################\n# Thanks for using OpenAPI Generator.                                          #\n# Please consider donation to help us maintain this project 🙏                 #\n# https://opencollective.com/openapi_generator/donate                          #\n################################################################################\nAdding dependencies...\n\"build_runner\" was found in dev_dependencies. Removing \"build_runner\" and adding it to dependencies instead.\nResolving dependencies... \n+ _fe_analyzer_shared 61.0.0 (62.0.0 available)\n+ analyzer 5.13.0 (6.0.0 available)\n+ args 2.4.2\n+ async 2.11.0\n+ boolean_selector 2.1.1\n+ build 2.4.1\n+ build_config 1.1.1\n+ build_daemon 4.0.0\n+ build_resolvers 2.2.1\n+ build_runner 2.4.6\n+ build_runner_core 7.2.10\n+ built_collection 5.1.1\n+ built_value 8.6.1\n+ built_value_generator 8.6.1\n+ checked_yaml 2.0.3\n+ code_builder 4.5.0\n+ collection 1.18.0\n+ convert 3.1.1\n+ coverage 1.6.3\n+ crypto 3.0.3\n+ dart_style 2.3.2\n+ dio 5.3.1\n+ file 7.0.0\n+ fixnum 1.1.0\n+ frontend_server_client 3.2.0\n+ glob 2.1.2\n+ graphs 2.3.1\n+ http_multi_server 3.2.1\n+ http_parser 4.0.2\n+ io 1.0.4\n+ js 0.6.7\n+ json_annotation 4.8.1\n+ logging 1.2.0\n+ matcher 0.12.16\n+ meta 1.9.1\n+ mime 1.0.4\n+ node_preamble 2.0.2\n+ one_of 1.5.0\n+ one_of_serializer 1.5.0\n+ package_config 2.1.0\n+ path 1.8.3\n+ pool 1.5.1\n+ pub_semver 2.1.4\n+ pubspec_parse 1.2.3\n+ quiver 3.2.1\n+ shelf 1.4.1\n+ shelf_packages_handler 3.0.2\n+ shelf_static 1.1.2\n+ shelf_web_socket 1.0.4\n+ source_gen 1.4.0\n+ source_map_stack_trace 2.1.1\n+ source_maps 0.10.12\n+ source_span 1.10.0\n+ stack_trace 1.11.1\n+ stream_channel 2.1.2\n+ stream_transform 2.1.0\n+ string_scanner 1.2.0\n+ term_glyph 1.2.1\n+ test 1.24.5\n+ test_api 0.6.1\n+ test_core 0.5.5\n+ timing 1.0.1\n+ typed_data 1.3.2\n+ vm_service 11.8.0\n+ watcher 1.1.0\n+ web_socket_channel 2.4.0\n+ webkit_inspection_protocol 1.2.0\n+ yaml 3.1.2\nChanged 68 dependencies!\nThe current Dart SDK version is 3.0.6.\n\nBecause openapi depends on analyzer >=0.9.1 <0.42.0-nullsafety.0\n  which doesn't support null safety, version solving failed.\n\nThe lower bound of \"sdk: '>=0.8.8 <3.0.0'\" must be 2.12.0 or higher to enable null safety.\nFor details, see https://dart.dev/null-safety\nCleaning up...\nDeleting .dart_tool...                                                    1ms\nReinstalled 147 packages.\nReactivating melos 3.1.1...\nBuilding package executables... \nBuilt melos:melos.\nInstalled executable melos.\nWarning: Pub installs executables into $HOME/.pub-cache/bin, which is not on your path.\nYou can fix that by adding this to your shell's config file (.bashrc, .bash_profile, etc.):\n\n  export PATH=\"$PATH\":\"$HOME/.pub-cache/bin\"\n\nReactivated 1 package.\nDeprecated. Use `dart run` instead.\nResolving dependencies... \nCannot open file, path = '.dart_tool/package_config.json' (OS Error: No such file or directory, errno = 2)\nGot dependencies.\nGetting dependencies...\nResolving dependencies... \n  _fe_analyzer_shared 61.0.0 (62.0.0 available)\n  analyzer 5.13.0 (6.0.0 available)\nGot dependencies!\nRunning build_runner...\nDeprecated. Use `dart run` instead.\nBuilding package executable... (3.6s)\nBuilt build_runner:build_runner.\n[INFO] Generating build script completed, took 145ms\n[INFO] Precompiling build script... completed, took 3.4s\n[INFO] Building new asset graph completed, took 367ms\n[INFO] Checking for unexpected pre-existing outputs. completed, took 0ms\n[INFO] Generating SDK summary completed, took 2.3s\n[SEVERE] built_value_generator:built_value on lib/src/model/token_info.dart:\n\nThis builder requires Dart inputs without syntax errors.\nHowever, package:openapi/src/model/token_info.dart (or an existing part) contains the following errors.\ntoken_info.dart:32:27: Expected an identifier.\n\nTry fixing the errors and re-running the build.\n\n[INFO] Running build completed, took 3.7s\n[INFO] Caching finalized dependency graph completed, took 19ms\n[SEVERE] Failed after 3.7s\n",
            "pubspec.yaml",
            "name: openapi\nversion: 1.0.0\ndescription: OpenAPI API client\nhomepage: homepage\n\nenvironment:\n  sdk: '>=2.15.0 <3.0.0'\n\ndependencies:\n  dio: '^5.0.0'\n  one_of: '>=1.5.0 <2.0.0'\n  one_of_serializer: '>=1.5.0 <2.0.0'\n  built_value: '>=8.4.0 <9.0.0'\n  built_collection: '>=5.1.1 <6.0.0'\n  build_runner: ^2.4.6\n\ndev_dependencies:\n  built_value_generator: '>=8.4.0 <9.0.0'\n  test: ^1.16.0\n",
            "token_info.dart",
            "//\n// AUTO-GENERATED FILE, DO NOT MODIFY!\n//\n\n// ignore_for_file: unused_element\nimport 'package:openapi/src/model/token_types.dart';\nimport 'package:built_value/built_value.dart';\nimport 'package:built_value/serializer.dart';\n\npart 'token_info.g.dart';\n\n/// TokenInfo\n///\n/// Properties:\n/// * [accessToken] \n/// * [tokenType] \n@BuiltValue()\nabstract class TokenInfo implements Built<TokenInfo, TokenInfoBuilder> {\n  @BuiltValueField(wireName: r'access_token')\n  String get accessToken;\n\n  @BuiltValueField(wireName: r'token_type')\n  TokenTypes? get tokenType;\n  // enum tokenTypeEnum {  bearer,  };\n\n  TokenInfo._();\n\n  factory TokenInfo([void updates(TokenInfoBuilder b)]) = _$TokenInfo;\n\n  @BuiltValueHook(initializeBuilder: true)\n  static void _defaults(TokenInfoBuilder b) => b\n      ..tokenType = const ._(TokenTypes.bearer);\n\n  @BuiltValueSerializer(custom: true)\n  static Serializer<TokenInfo> get serializer => _$TokenInfoSerializer();\n}\n\nclass _$TokenInfoSerializer implements PrimitiveSerializer<TokenInfo> {\n  @override\n  final Iterable<Type> types = const [TokenInfo, _$TokenInfo];\n\n  @override\n  final String wireName = r'TokenInfo';\n\n  Iterable<Object?> _serializeProperties(\n    Serializers serializers,\n    TokenInfo object, {\n    FullType specifiedType = FullType.unspecified,\n  }) sync* {\n    yield r'access_token';\n    yield serializers.serialize(\n      object.accessToken,\n      specifiedType: const FullType(String),\n    );\n    if (object.tokenType != null) {\n      yield r'token_type';\n      yield serializers.serialize(\n        object.tokenType,\n        specifiedType: const FullType(TokenTypes),\n      );\n    }\n  }\n\n  @override\n  Object serialize(\n    Serializers serializers,\n    TokenInfo object, {\n    FullType specifiedType = FullType.unspecified,\n  }) {\n    return _serializeProperties(serializers, object, specifiedType: specifiedType).toList();\n  }\n\n  void _deserializeProperties(\n    Serializers serializers,\n    Object serialized, {\n    FullType specifiedType = FullType.unspecified,\n    required List<Object?> serializedList,\n    required TokenInfoBuilder result,\n    required List<Object?> unhandled,\n  }) {\n    for (var i = 0; i < serializedList.length; i += 2) {\n      final key = serializedList[i] as String;\n      final value = serializedList[i + 1];\n      switch (key) {\n        case r'access_token':\n          final valueDes = serializers.deserialize(\n            value,\n            specifiedType: const FullType(String),\n          ) as String;\n          result.accessToken = valueDes;\n          break;\n        case r'token_type':\n          final valueDes = serializers.deserialize(\n            value,\n            specifiedType: const FullType(TokenTypes),\n          ) as TokenTypes;\n          result.tokenType = valueDes;\n          break;\n        default:\n          unhandled.add(key);\n          unhandled.add(value);\n          break;\n      }\n    }\n  }\n\n  @override\n  TokenInfo deserialize(\n    Serializers serializers,\n    Object serialized, {\n    FullType specifiedType = FullType.unspecified,\n  }) {\n    final result = TokenInfoBuilder();\n    final serializedList = (serialized as Iterable<Object?>).toList();\n    final unhandled = <Object?>[];\n    _deserializeProperties(\n      serializers,\n      serialized,\n      specifiedType: specifiedType,\n      serializedList: serializedList,\n      unhandled: unhandled,\n      result: result,\n    );\n    return result.build();\n  }\n}\n",
            "part 'token_info.g.dart",
            "Target of URI hasn't been generated: 'package:openapi/src/model/token_info.g.dart'.\nTry running the generator that will generate the file referenced by the URI. dart([uri_has_not_been_generated](https://dart.dev/diagnostics/uri_has_not_been_generated))\n",
            "TokenInfoBuilder",
            "Undefined class 'TokenInfoBuilder'.\nTry changing the name to the name of an existing class, or creating a class with the name 'TokenInfoBuilder'. dart([undefined_class](https://dart.dev/diagnostics/undefined_class))\n"
        ]
    },
    {
        "titulo": "SVG is loading but is somehow invisible in Flutter App",
        "score": 0,
        "views": 2721,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "svg",
            "package",
            "widget"
        ],
        "link": "https://stackoverflow.com/questions/76807521/svg-is-loading-but-is-somehow-invisible-in-flutter-app",
        "conteudo_html": "<p>Im a complete beginner with Flutter and wanted to learn how to display a simple SVG image.</p>\n<p>So I installed the flutter_svg: ^2.0.7 package and put it in the pubspec.yaml file.\nI put my SVG in the pubspec.yaml file under the correct path and imported the package in main.dart.</p>\n<p>Everything works. The Container is displayed in the center and scales itself to the size of the SVG even when I change it, but the SVG itself is invisible.</p>\n<ul>\n<li>I checked the SVG file to see if it's broken, but it's fine.</li>\n<li>I checked if I wrote the wrong path in the code or in pubspec.yaml but it is correct.</li>\n<li>I checked if the SVG has the same backround color as the container, but this is not the issue.</li>\n<li>I tried using my phone and the emulator to test the code, in order to see if the issue is with the device I'm testing on, but this is not the case.</li>\n</ul>\n<p>I wrote this code to test if the SVG is displayable:</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_svg/flutter_svg.dart';\n\nvoid main() =&gt; runApp(MaterialApp(home: Test()));\n\nclass Test extends StatelessWidget {\n  const Test({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        appBar: AppBar(\n          title: Text('Training with Flutter'),\n          backgroundColor: Colors.green,\n        ),\n        body: Center(\n          child: Container(\n            color: Color(0xff141414),\n            child: SvgPicture.asset(&quot;assets/images/turquoise_logo.svg&quot;,\n                width: 88, height: 181),\n          ),\n        ));\n  }\n}\n</code></pre>\n<p>This is the pubspec.yaml file:</p>\n<pre><code>name: training\ndescription: A new Flutter project.\n\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\nversion: 0.0.1+1\n\nenvironment:\n  sdk: '&gt;=2.19.4 &lt;4.0.0'\n\ndependencies:\n  flutter:\n    sdk: flutter\n\n\n  provider: ^6.0.0\n  flutter_svg: ^2.0.7\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  flutter_lints: ^2.0.0\n\nflutter:\n  uses-material-design: true\n  assets:\n    - assets/images/turquoise_logo.svg\n\n</code></pre>\n",
        "codigo": [
            "import 'package:flutter/material.dart';\nimport 'package:flutter_svg/flutter_svg.dart';\n\nvoid main() => runApp(MaterialApp(home: Test()));\n\nclass Test extends StatelessWidget {\n  const Test({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        appBar: AppBar(\n          title: Text('Training with Flutter'),\n          backgroundColor: Colors.green,\n        ),\n        body: Center(\n          child: Container(\n            color: Color(0xff141414),\n            child: SvgPicture.asset(\"assets/images/turquoise_logo.svg\",\n                width: 88, height: 181),\n          ),\n        ));\n  }\n}\n",
            "name: training\ndescription: A new Flutter project.\n\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\nversion: 0.0.1+1\n\nenvironment:\n  sdk: '>=2.19.4 <4.0.0'\n\ndependencies:\n  flutter:\n    sdk: flutter\n\n\n  provider: ^6.0.0\n  flutter_svg: ^2.0.7\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  flutter_lints: ^2.0.0\n\nflutter:\n  uses-material-design: true\n  assets:\n    - assets/images/turquoise_logo.svg\n\n"
        ]
    },
    {
        "titulo": "flutter/firebase -error: multiFactorInfo must be provided - how do I get multiFactorInfo from firebase_auth",
        "score": 0,
        "views": 370,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "firebase-authentication",
            "multi-factor-authentication"
        ],
        "link": "https://stackoverflow.com/questions/76806605/flutter-firebase-error-multifactorinfo-must-be-provided-how-do-i-get-multifa",
        "conteudo_html": "<p>I have a working firebase phone sign-in for my app and am trying to reuse the code for 2-factor authentication.</p>\n<p>I added multiFactorSession and to differentiate I use the variable globalIs2FactorAuth.</p>\n<p>But I get this error: &quot;'phoneNumber != null || multiFactorInfo != null': Either phoneNumber or <strong>multiFactorInfo must be provided</strong>.&quot;</p>\n<p>I added &quot;multiFactorInfo:&quot; and now am failing to get the required value. <strong>How do I get multiFactorInfo from firebase_auth?</strong></p>\n<pre><code>final session = await FirebaseAuth.instance.currentUser!.multiFactor.getSession();\nawait FirebaseAuth.instance.verifyPhoneNumber(\n        phoneNumber: globalIs2FactorAuth != true ?phone.toString() :null,\n        multiFactorSession: globalIs2FactorAuth == true ?session :null,\n        multiFactorInfo: ????,  //&lt;----------------------how do I get this ?\n        timeout: Duration(seconds: 60),\n        verificationCompleted: verificationCompleted,\n        verificationFailed: verificationFailed,\n        codeSent: codeSent,\n        codeAutoRetrievalTimeout: codeAutoRetrievalTimeout)\n    .then((value) {\n</code></pre>\n",
        "codigo": [
            "final session = await FirebaseAuth.instance.currentUser!.multiFactor.getSession();\nawait FirebaseAuth.instance.verifyPhoneNumber(\n        phoneNumber: globalIs2FactorAuth != true ?phone.toString() :null,\n        multiFactorSession: globalIs2FactorAuth == true ?session :null,\n        multiFactorInfo: ????,  //<----------------------how do I get this ?\n        timeout: Duration(seconds: 60),\n        verificationCompleted: verificationCompleted,\n        verificationFailed: verificationFailed,\n        codeSent: codeSent,\n        codeAutoRetrievalTimeout: codeAutoRetrievalTimeout)\n    .then((value) {\n"
        ]
    },
    {
        "titulo": "Flutter Late variable throwing LateInitializationError even after assigning a value in a function in class",
        "score": 0,
        "views": 49,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "oop",
            "flutter-cubit"
        ],
        "link": "https://stackoverflow.com/questions/76806010/flutter-late-variable-throwing-lateinitializationerror-even-after-assigning-a-va",
        "conteudo_html": "<p>I am doing phone authentication using firebase in flutter and I have defined a late variable called verification id so that when the otp is sent it is initialized by it's value and i can use it later, but it is always null why is that?</p>\n<p>This is my cubit:</p>\n<pre><code>import 'package:bloc/bloc.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:meta/meta.dart';\n\npart 'phone_auth_state.dart';\n\nclass PhoneAuthCubit extends Cubit&lt;PhoneAuthState&gt; {\n  late String verificationId;\n\n  PhoneAuthCubit() : super(PhoneAuthInitial());\n\n  Future&lt;void&gt; submitPhoneNumber(String phoneNumber) async {\n    emit(PhoneAuthLoading());\n\n    await FirebaseAuth.instance.verifyPhoneNumber(\n      phoneNumber: '$phoneNumber',\n      timeout: const Duration(seconds: 14),\n      verificationCompleted: verificationCompleted,\n      verificationFailed: verificationFailed,\n      codeSent: codeSent,\n      codeAutoRetrievalTimeout: codeAutoRetrievalTimeout,\n    );\n  }\n\n  void verificationCompleted(PhoneAuthCredential credential) async {\n    print('verificationCompleted');\n    await signIn(credential);\n  }\n\n  void verificationFailed(FirebaseAuthException error) {\n    print('verificationFailed : ${error.toString()}');\n    emit(PhoneAuthFailure(errorMessage: error.toString()));\n  }\n\n  void codeSent(String verificationId, int? resendToken) {\n    print('codeSent');\n    this.verificationId = verificationId;\n    emit(PhoneNumberSubmitted());\n    print(&quot;khlst code sent&quot;);\n  }\n\n  void codeAutoRetrievalTimeout(String verificationId) {\n    print('codeAutoRetrievalTimeout');\n  }\n\n  Future&lt;void&gt; submitOTP(String otpCode) async { \n    PhoneAuthCredential credential = PhoneAuthProvider.credential(\n        verificationId: this.verificationId, smsCode: otpCode);\n\n    await signIn(credential);\n  }\n\n  Future&lt;void&gt; signIn(PhoneAuthCredential credential) async {\n    try {\n      await FirebaseAuth.instance.signInWithCredential(credential);\n      emit(PhoneOTPVerified());\n    } catch (error) {\n      emit(PhoneAuthFailure(errorMessage: error.toString()));\n    }\n  }\n\n  Future&lt;void&gt; signOut() async {\n    await FirebaseAuth.instance.signOut();\n  }\n\n  User getLoggedInUser() {\n    User firebaseUser = FirebaseAuth.instance.currentUser!;\n    return firebaseUser;\n  }\n}\n</code></pre>\n<p>The error is thrown in function submitOTP</p>\n",
        "codigo": [
            "import 'package:bloc/bloc.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:meta/meta.dart';\n\npart 'phone_auth_state.dart';\n\nclass PhoneAuthCubit extends Cubit<PhoneAuthState> {\n  late String verificationId;\n\n  PhoneAuthCubit() : super(PhoneAuthInitial());\n\n  Future<void> submitPhoneNumber(String phoneNumber) async {\n    emit(PhoneAuthLoading());\n\n    await FirebaseAuth.instance.verifyPhoneNumber(\n      phoneNumber: '$phoneNumber',\n      timeout: const Duration(seconds: 14),\n      verificationCompleted: verificationCompleted,\n      verificationFailed: verificationFailed,\n      codeSent: codeSent,\n      codeAutoRetrievalTimeout: codeAutoRetrievalTimeout,\n    );\n  }\n\n  void verificationCompleted(PhoneAuthCredential credential) async {\n    print('verificationCompleted');\n    await signIn(credential);\n  }\n\n  void verificationFailed(FirebaseAuthException error) {\n    print('verificationFailed : ${error.toString()}');\n    emit(PhoneAuthFailure(errorMessage: error.toString()));\n  }\n\n  void codeSent(String verificationId, int? resendToken) {\n    print('codeSent');\n    this.verificationId = verificationId;\n    emit(PhoneNumberSubmitted());\n    print(\"khlst code sent\");\n  }\n\n  void codeAutoRetrievalTimeout(String verificationId) {\n    print('codeAutoRetrievalTimeout');\n  }\n\n  Future<void> submitOTP(String otpCode) async { \n    PhoneAuthCredential credential = PhoneAuthProvider.credential(\n        verificationId: this.verificationId, smsCode: otpCode);\n\n    await signIn(credential);\n  }\n\n  Future<void> signIn(PhoneAuthCredential credential) async {\n    try {\n      await FirebaseAuth.instance.signInWithCredential(credential);\n      emit(PhoneOTPVerified());\n    } catch (error) {\n      emit(PhoneAuthFailure(errorMessage: error.toString()));\n    }\n  }\n\n  Future<void> signOut() async {\n    await FirebaseAuth.instance.signOut();\n  }\n\n  User getLoggedInUser() {\n    User firebaseUser = FirebaseAuth.instance.currentUser!;\n    return firebaseUser;\n  }\n}\n"
        ]
    },
    {
        "titulo": "Firebase Phone Auth not working in Play-Store version of flutter app",
        "score": 2,
        "views": 451,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "google-cloud-platform",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/76804000/firebase-phone-auth-not-working-in-play-store-version-of-flutter-app",
        "conteudo_html": "<p>I am currently facing an issue where in my Play-Store version of the Flutter app, whenever a user goes through the login process, they enter their phone number and after the verified their phone number via <strong>_firebaseAuth.verifyPhoneNumber</strong> they are taken to OTP screen where they have to enter OTP that is received on their device but when even after entering the correct OTP, the user will face &quot;sms code has expired please resend the sms code and try again&quot; Snackbar message.</p>\n<p>This really seems unusual as I didn't face any issue like this during the internal testing or in debug mode and have <strong>signed</strong> my app with the <strong>upload-key</strong> from the Play console, I also further checked that my debug mode/test app shows SHA-256 of <strong>Upload key certificate</strong> and my play store app shows SHA-256 of <strong>App signing key certificate</strong> via Asset Link Tools + I even added every SHA-7/256 keys to the Firebase Project Settings as well. I also noticed that <strong>google.cloud.identitytoolkit.v1.AuthenticationService.SignInWithPhoneNumber</strong> showed 53% of errors in my Identity Toolkit API in google cloud leading me to believe that the issue is definitely related to the code which I am not quite able to figure out what is really causing this aka root of the problem...</p>\n<p>This is my flutter code that is handling the login part:</p>\n<p><strong>utils.dart</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>class AuthProvider extends ChangeNotifier {\nfinal FirebaseAuth _firebaseAuth = FirebaseAuth.instance;\n\nvoid signInWithPhone(BuildContext context, String phoneNumber, Function() onVerificationSuccess) async {\n    try {\n      await _firebaseAuth.verifyPhoneNumber(\n          phoneNumber: phoneNumber,\n          verificationCompleted:\n              (PhoneAuthCredential phoneAuthCredential) async {\n            await _firebaseAuth.signInWithCredential(phoneAuthCredential);\n          },\n          verificationFailed: (error) {\n            toastBar(context, error.message.toString());\n          },\n          codeSent: (verificationId, forceResendingToken) {\n            Navigator.of(context).push(createRoute(LoginScreen2(\n              phone: phoneNumber,\n              verficationId: verificationId,\n            )));\n\n            onVerificationSuccess();\n          },\n          timeout: const Duration(seconds: 60),\n          codeAutoRetrievalTimeout: (verificationId) {\n            showSnackBar(context, 'OTP retrieval timed out. Please try again.');\n          });\n    } on FirebaseAuthException catch (e) {\n      toastBar(context, e.message.toString());\n    }\n  }\n\nvoid verifyOtp({\n    required BuildContext context,\n    required String verificationId,\n    required String userOtp,\n    required Function onSuccess,\n  }) async {\n    notifyListeners();\n\n    try {\n      PhoneAuthCredential creds = PhoneAuthProvider.credential(\n          verificationId: verificationId, smsCode: userOtp);\n\n      User? user = (await _firebaseAuth.signInWithCredential(creds)).user;\n\n      if (user != null) {\n        // carry our logic\n        onSuccess();\n      }\n\n      notifyListeners();\n    } on FirebaseAuthException catch (e) {\n      showSnackBar(context, e.message.toString());\n      notifyListeners();\n    }\n  }\n\nFuture userSignOut() async {\n    await _firebaseAuth.signOut();\n    notifyListeners();\n  }\n}\n</code></pre>\n<p>Based on the above explanation, it seems signInWithPhone() works perfectly, so the error is probably in the verifyOtp() part but what exactly?</p>\n<p><strong>otp.dart</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>// verify otp\n  void verifyOtp(BuildContext context, String userOtp) {\n    final ap = Provider.of&lt;AuthProvider&gt;(context, listen: false);\n    ap.verifyOtp(\n      context: context,\n      verificationId: widget.verficationId,\n      userOtp: userOtp,\n      onSuccess: () {\n        // checking whether user exists in the db\n        uid = FirebaseAuth.instance.currentUser?.uid;\n        FirebaseFirestore.instance\n            .collection('Users')\n            .doc(uid)\n            .get()\n            .then((value) async {\n              // handles the sucess\n        });\n      },\n    );\n  }\n</code></pre>\n<p><strong>login.dart</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>void sendPhoneNumber() {\n    setState(() {\n      _loading = true;\n    });\n\n    final ap = Provider.of&lt;AuthProvider&gt;(context, listen: false);\n    ap.signInWithPhone(\n      context,\n      &quot;+91${_controller.text}&quot;,\n      () {\n        // Callback function: invoked after verification and navigation\n        setState(() {\n          _loading = false;\n        });\n\n        // Perform any additional actions here\n      },\n    );\n  }\n</code></pre>\n<p>Added this in case it's any important:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>await FirebaseAppCheck.instance.activate(\n    webRecaptchaSiteKey: _webKey,\n    androidProvider: kDebugMode ? AndroidProvider.debug : AndroidProvider.playIntegrity,\n    appleProvider: AppleProvider.appAttest,\n  );\n</code></pre>\n<p>Maybe I should remove the _firebaseAuth.signInWithCredential(creds) that’s being used twice but wouldn’t that remove auto sign-in like similar to earlier version of Play Integrity.</p>\n<p>A very very thank-you to whoever helps me in finding the bug in this issue!</p>\n",
        "codigo": [
            "class AuthProvider extends ChangeNotifier {\nfinal FirebaseAuth _firebaseAuth = FirebaseAuth.instance;\n\nvoid signInWithPhone(BuildContext context, String phoneNumber, Function() onVerificationSuccess) async {\n    try {\n      await _firebaseAuth.verifyPhoneNumber(\n          phoneNumber: phoneNumber,\n          verificationCompleted:\n              (PhoneAuthCredential phoneAuthCredential) async {\n            await _firebaseAuth.signInWithCredential(phoneAuthCredential);\n          },\n          verificationFailed: (error) {\n            toastBar(context, error.message.toString());\n          },\n          codeSent: (verificationId, forceResendingToken) {\n            Navigator.of(context).push(createRoute(LoginScreen2(\n              phone: phoneNumber,\n              verficationId: verificationId,\n            )));\n\n            onVerificationSuccess();\n          },\n          timeout: const Duration(seconds: 60),\n          codeAutoRetrievalTimeout: (verificationId) {\n            showSnackBar(context, 'OTP retrieval timed out. Please try again.');\n          });\n    } on FirebaseAuthException catch (e) {\n      toastBar(context, e.message.toString());\n    }\n  }\n\nvoid verifyOtp({\n    required BuildContext context,\n    required String verificationId,\n    required String userOtp,\n    required Function onSuccess,\n  }) async {\n    notifyListeners();\n\n    try {\n      PhoneAuthCredential creds = PhoneAuthProvider.credential(\n          verificationId: verificationId, smsCode: userOtp);\n\n      User? user = (await _firebaseAuth.signInWithCredential(creds)).user;\n\n      if (user != null) {\n        // carry our logic\n        onSuccess();\n      }\n\n      notifyListeners();\n    } on FirebaseAuthException catch (e) {\n      showSnackBar(context, e.message.toString());\n      notifyListeners();\n    }\n  }\n\nFuture userSignOut() async {\n    await _firebaseAuth.signOut();\n    notifyListeners();\n  }\n}\n",
            "// verify otp\n  void verifyOtp(BuildContext context, String userOtp) {\n    final ap = Provider.of<AuthProvider>(context, listen: false);\n    ap.verifyOtp(\n      context: context,\n      verificationId: widget.verficationId,\n      userOtp: userOtp,\n      onSuccess: () {\n        // checking whether user exists in the db\n        uid = FirebaseAuth.instance.currentUser?.uid;\n        FirebaseFirestore.instance\n            .collection('Users')\n            .doc(uid)\n            .get()\n            .then((value) async {\n              // handles the sucess\n        });\n      },\n    );\n  }\n",
            "void sendPhoneNumber() {\n    setState(() {\n      _loading = true;\n    });\n\n    final ap = Provider.of<AuthProvider>(context, listen: false);\n    ap.signInWithPhone(\n      context,\n      \"+91${_controller.text}\",\n      () {\n        // Callback function: invoked after verification and navigation\n        setState(() {\n          _loading = false;\n        });\n\n        // Perform any additional actions here\n      },\n    );\n  }\n",
            "await FirebaseAppCheck.instance.activate(\n    webRecaptchaSiteKey: _webKey,\n    androidProvider: kDebugMode ? AndroidProvider.debug : AndroidProvider.playIntegrity,\n    appleProvider: AppleProvider.appAttest,\n  );\n"
        ]
    },
    {
        "titulo": "Unacceptable certificate:CN=GTS CA 1C3, O=Google Trust Services LLC, C=US",
        "score": 1,
        "views": 1380,
        "respostas": 0,
        "tags": [
            "android",
            "flutter",
            "firebase",
            "dart",
            "google-cloud-platform"
        ],
        "link": "https://stackoverflow.com/questions/76803015/unacceptable-certificatecn-gts-ca-1c3-o-google-trust-services-llc-c-us",
        "conteudo_html": "<p>I have a flutter application with Firebase and I'm trying to add Phone authentication to it but whenever I try to send an OTP code an error message appears says:\nSMS verification code request failed: unknown status code: 17499 Unacceptable certificate:CN=GTS CA 1C3, O=Google Trust Services LLC, C=US\nD/FirebaseAuth(10240): Invoking original failure callbacks after phone verification failure for +962795231474, error - An internal error has occurred. [ Unacceptable certificate:CN=GTS CA 1C3, O=Google Trust Services LLC, C=US ]</p>\n<pre><code>ElevatedButton(\n          style: ButtonStyle(\n            backgroundColor:\n            MaterialStateProperty.all&lt;Color&gt;(Colors.purple),\n            padding: MaterialStateProperty.all&lt;EdgeInsets&gt;(\n              const EdgeInsets.symmetric(horizontal: 40.0, vertical: 12.0),\n            ),\n            shape: MaterialStateProperty.all&lt;RoundedRectangleBorder&gt;(\n              RoundedRectangleBorder(\n                borderRadius: BorderRadius.circular(10.0),\n              ),\n            ),\n          ),\n          onPressed: () async {\n            \n            String phoneNumber = _phoneNumberController.text.trim();\n\n            await _auth.verifyPhoneNumber(\n              phoneNumber: phoneNumber,\n              verificationCompleted: (PhoneAuthCredential credential) async {\n                \n                await _auth.signInWithCredential(credential);\n              },\n              verificationFailed: (FirebaseAuthException e) {\n               \n                print('Error: ${e.message}');\n              },\n              codeSent: (String verificationId, int? resendToken) {\n                setState(() {\n                  _verificationId = verificationId;\n                });\n              },\n              codeAutoRetrievalTimeout: (String verificationId) {\n                setState(() {\n                  _verificationId = verificationId;\n                });\n              },\n              timeout: Duration(seconds: 60),\n            );\n          },\n          child: const Text(\n            &quot;Log In With OTP&quot;,\n            style: TextStyle(\n              fontSize: 15,\n              color: Colors.white,\n            ),\n          ),\n        ),\n</code></pre>\n",
        "codigo": [
            "ElevatedButton(\n          style: ButtonStyle(\n            backgroundColor:\n            MaterialStateProperty.all<Color>(Colors.purple),\n            padding: MaterialStateProperty.all<EdgeInsets>(\n              const EdgeInsets.symmetric(horizontal: 40.0, vertical: 12.0),\n            ),\n            shape: MaterialStateProperty.all<RoundedRectangleBorder>(\n              RoundedRectangleBorder(\n                borderRadius: BorderRadius.circular(10.0),\n              ),\n            ),\n          ),\n          onPressed: () async {\n            \n            String phoneNumber = _phoneNumberController.text.trim();\n\n            await _auth.verifyPhoneNumber(\n              phoneNumber: phoneNumber,\n              verificationCompleted: (PhoneAuthCredential credential) async {\n                \n                await _auth.signInWithCredential(credential);\n              },\n              verificationFailed: (FirebaseAuthException e) {\n               \n                print('Error: ${e.message}');\n              },\n              codeSent: (String verificationId, int? resendToken) {\n                setState(() {\n                  _verificationId = verificationId;\n                });\n              },\n              codeAutoRetrievalTimeout: (String verificationId) {\n                setState(() {\n                  _verificationId = verificationId;\n                });\n              },\n              timeout: Duration(seconds: 60),\n            );\n          },\n          child: const Text(\n            \"Log In With OTP\",\n            style: TextStyle(\n              fontSize: 15,\n              color: Colors.white,\n            ),\n          ),\n        ),\n"
        ]
    },
    {
        "titulo": "How to serialize all fields in Dart enhanced enums?",
        "score": 1,
        "views": 1176,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "freezed",
            "json-serializable",
            "flutter-freezed"
        ],
        "link": "https://stackoverflow.com/questions/76781228/how-to-serialize-all-fields-in-dart-enhanced-enums",
        "conteudo_html": "<p>I am using Flutter <a href=\"https://pub.dev/packages/freezed\" rel=\"nofollow noreferrer\">Freezed</a> package which in turn uses Dart <a href=\"https://pub.dev/packages/json_serializable\" rel=\"nofollow noreferrer\">json_serialize</a> package.</p>\n<p>I have this Dart enhanced enum with 2 fields:</p>\n<pre><code>enum WorkingMode {\n  mix(type: 1, name: &quot;mix&quot;),\n  parallel(type: 2, name: &quot;parallel&quot;),\n  sequential(type: 3, name: &quot;sequential&quot;),\n  relay(type: 4, name: &quot;relay&quot;),\n  free(type: 5, name: &quot;free&quot;),\n  associative(type: 6, name: &quot;associative&quot;);\n\n  final int type;\n  final String name;\n\n  const WorkingMode({\n    required this.type,\n    required this.name,\n  });\n}\n</code></pre>\n<p>Which is referenced in this <code>@freezed</code> class:</p>\n<pre><code>@freezed\nclass Test with _$Test {\n  const factory Test({\n    required List&lt;WorkingMode&gt; workingModes,\n  }) = _Test;\n\n  factory Test.fromJson(Map&lt;String, Object?&gt; json) =&gt; _$TestFromJson(json);\n}\n</code></pre>\n<p>And this is the code generated for the fromJson() method:</p>\n<pre><code>_$_Test _$$_TestFromJson(Map&lt;String, dynamic&gt; json) =&gt; _$_Test(\n      workingModes: (json['workingModes'] as List&lt;dynamic&gt;)\n          .map((e) =&gt; $enumDecode(_$WorkingModeEnumMap, e))\n          .toList(),\n    );\n\nconst _$WorkingModeEnumMap = {\n  WorkingMode.mix: 'mix',\n};\n</code></pre>\n<p>This code expects to decode the final value only based in one particular field, in this case the <code>name</code> field. I mean it works if the JSON received is like this:</p>\n<pre><code>{\n   &quot;workingModes&quot;:[\n        &quot;parallel&quot;,\n        &quot;sequential&quot;,\n        &quot;mix&quot;,\n        &quot;relay&quot;,\n        &quot;free&quot;,\n        &quot;associative&quot;\n   ]\n}\n</code></pre>\n<p>But the problem I have is that I am receiving the JSON with all the fields in the enum from a Java REST API like this:</p>\n<pre><code>{\n   &quot;workingModes&quot;:[\n      {\n         &quot;type&quot;:2,\n         &quot;name&quot;:&quot;parallel&quot;\n      },\n      {\n         &quot;type&quot;:3,\n         &quot;name&quot;:&quot;sequential&quot;\n      },\n      {\n         &quot;type&quot;:1,\n         &quot;name&quot;:&quot;mix&quot;\n      },\n      {\n         &quot;type&quot;:4,\n         &quot;name&quot;:&quot;relay&quot;\n      },\n      {\n         &quot;type&quot;:5,\n         &quot;name&quot;:&quot;free&quot;\n      },\n      {\n         &quot;type&quot;:6,\n         &quot;name&quot;:&quot;associative&quot;\n      }\n   ]\n}\n</code></pre>\n<p>I have tried to use the <code>@JsonValue</code> and <code>@JsonEnum(valueField: 'XXX )</code> annotations but it seems you can specify another different field, but not several fields at the same time.</p>\n<p>At this time I have resolved this by coding my own fromJson/toJson methods through <code>@JsonKey</code>:</p>\n<pre><code>@freezed\nclass Test with _$Test {\n  const factory Test({\n    @JsonKey(\n      fromJson: fromJsonWorkingModes,\n      toJson: toJsonWorkingModes,\n    )\n    required List&lt;WorkingMode&gt; workingModes,\n  }) = _Test;\n\n  factory Test.fromJson(Map&lt;String, Object?&gt; json) =&gt; _$TestFromJson(json);\n}\n\nList&lt;WorkingMode&gt; fromJsonWorkingModes(List&lt;dynamic&gt; rawWorkingModes) {\n  return rawWorkingModes\n      .map((rawWorkingMode) =&gt; WorkingMode.values\n          .firstWhere((element) =&gt; element.type == rawWorkingMode['type']))\n      .toList();\n}\n\nList&lt;dynamic&gt; toJsonWorkingModes(List&lt;WorkingMode&gt; workingModes) {\n  List&lt;dynamic&gt; finalWorkingModes = [];\n  for (WorkingMode workingMode in workingModes) {\n    var data = {'type': workingMode.type, 'name': workingMode.name};\n    finalWorkingModes.add(data);\n  }\n  return finalWorkingModes;\n}\n</code></pre>\n<p>But I was wondering if this could be done in a more direct form. Of course another possibility would be getting rid of the enhanced enum and transform it into a plain class also annotated with <code>@freezed</code> but that way I'd lose all the benefits of the enum.</p>\n<p>Thanks.</p>\n",
        "codigo": [
            "enum WorkingMode {\n  mix(type: 1, name: \"mix\"),\n  parallel(type: 2, name: \"parallel\"),\n  sequential(type: 3, name: \"sequential\"),\n  relay(type: 4, name: \"relay\"),\n  free(type: 5, name: \"free\"),\n  associative(type: 6, name: \"associative\");\n\n  final int type;\n  final String name;\n\n  const WorkingMode({\n    required this.type,\n    required this.name,\n  });\n}\n",
            "@freezed",
            "@freezed\nclass Test with _$Test {\n  const factory Test({\n    required List<WorkingMode> workingModes,\n  }) = _Test;\n\n  factory Test.fromJson(Map<String, Object?> json) => _$TestFromJson(json);\n}\n",
            "_$_Test _$$_TestFromJson(Map<String, dynamic> json) => _$_Test(\n      workingModes: (json['workingModes'] as List<dynamic>)\n          .map((e) => $enumDecode(_$WorkingModeEnumMap, e))\n          .toList(),\n    );\n\nconst _$WorkingModeEnumMap = {\n  WorkingMode.mix: 'mix',\n};\n",
            "name",
            "{\n   \"workingModes\":[\n        \"parallel\",\n        \"sequential\",\n        \"mix\",\n        \"relay\",\n        \"free\",\n        \"associative\"\n   ]\n}\n",
            "{\n   \"workingModes\":[\n      {\n         \"type\":2,\n         \"name\":\"parallel\"\n      },\n      {\n         \"type\":3,\n         \"name\":\"sequential\"\n      },\n      {\n         \"type\":1,\n         \"name\":\"mix\"\n      },\n      {\n         \"type\":4,\n         \"name\":\"relay\"\n      },\n      {\n         \"type\":5,\n         \"name\":\"free\"\n      },\n      {\n         \"type\":6,\n         \"name\":\"associative\"\n      }\n   ]\n}\n",
            "@JsonValue",
            "@JsonEnum(valueField: 'XXX )",
            "@JsonKey",
            "@freezed\nclass Test with _$Test {\n  const factory Test({\n    @JsonKey(\n      fromJson: fromJsonWorkingModes,\n      toJson: toJsonWorkingModes,\n    )\n    required List<WorkingMode> workingModes,\n  }) = _Test;\n\n  factory Test.fromJson(Map<String, Object?> json) => _$TestFromJson(json);\n}\n\nList<WorkingMode> fromJsonWorkingModes(List<dynamic> rawWorkingModes) {\n  return rawWorkingModes\n      .map((rawWorkingMode) => WorkingMode.values\n          .firstWhere((element) => element.type == rawWorkingMode['type']))\n      .toList();\n}\n\nList<dynamic> toJsonWorkingModes(List<WorkingMode> workingModes) {\n  List<dynamic> finalWorkingModes = [];\n  for (WorkingMode workingMode in workingModes) {\n    var data = {'type': workingMode.type, 'name': workingMode.name};\n    finalWorkingModes.add(data);\n  }\n  return finalWorkingModes;\n}\n",
            "@freezed"
        ]
    },
    {
        "titulo": "How to initialise a GoRouter in a Flutter app with use of persisted data from SharedPreferences?",
        "score": 2,
        "views": 1118,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "async-await"
        ],
        "link": "https://stackoverflow.com/questions/76763286/how-to-initialise-a-gorouter-in-a-flutter-app-with-use-of-persisted-data-from-sh",
        "conteudo_html": "<p>I am rebuilding an existing app in Flutter. There is an onboarding sequence of screens at its first start that is skipped on the subsequent app launches once the onboarding was finished. Nothing extraordinary.</p>\n<p>I am also trying to use a GoRouter for navigation. The idea was that I use the <code>initialLocation</code> parameter of its constructor to implement the above requirement like this:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MyApp extends StatelessWidget {\n …\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp.router(\n      routerConfig: GoRouter(\n        …\n        initialLocation: expectedCurrentPath,\n      ),\n    …\n    );\n  }\n}\n</code></pre>\n<p>That <code>expectedCurrentPath</code> is being conditionally assigned one of the two possible paths based on the value of a bool field that I read out of an instance of SharedPreferences. Once the user is past the last screen of onboarding, I write <code>true</code> into that field. So, ideally, next time when the app starts, that conditional evaluates into true and that second path is assigned to <code>expectedCurrentPath</code>.</p>\n<p>However, there is a huge problem I cannot seem to solve. An instance of SharedPreferences can only be obtained in async way. I have to <code>await</code> for it to actually read the value. But this <code>build</code> method is not async and I cannot seem to easily make it one - it must return a <code>Widget</code> and not a <code>Future&lt;Widget&gt;</code>. So, in the code above I am not allowed to <code>await</code>.</p>\n<p>I tried also making the <code>main()</code> function <code>async</code> and do the <code>await</code> step there like this:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>\nFuture&lt;void&gt; main() async {\n  // this is a global model-like object to work with my items in SharedPreferences; \n  // an instance of SharedPreferences is created inside that async initialize()\n  await myState.initialize();\n  runApp(const MyApp());\n}\n</code></pre>\n<p>But that does not work at all: SharedPreferences already expects the app to exist in order for it to access the storage. When initialised at this position it throws exception.</p>\n<p>So, overall, the conflict goes like this: in order to initialise the app, I need a resolved initial location for the router; in order to resolve it, I need to obtain an instance of SharedPreferences; in order to obtain that instance, the app must already be initialized.</p>\n<p>How is this typically solved in Flutter? I suspect this is a rather common case and popular components.</p>\n",
        "codigo": [
            "initialLocation",
            "class MyApp extends StatelessWidget {\n …\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp.router(\n      routerConfig: GoRouter(\n        …\n        initialLocation: expectedCurrentPath,\n      ),\n    …\n    );\n  }\n}\n",
            "expectedCurrentPath",
            "true",
            "expectedCurrentPath",
            "await",
            "build",
            "Widget",
            "Future<Widget>",
            "await",
            "main()",
            "async",
            "await",
            "\nFuture<void> main() async {\n  // this is a global model-like object to work with my items in SharedPreferences; \n  // an instance of SharedPreferences is created inside that async initialize()\n  await myState.initialize();\n  runApp(const MyApp());\n}\n"
        ]
    },
    {
        "titulo": "How to show a loader while calling a function asynchronously?",
        "score": 0,
        "views": 140,
        "respostas": 2,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "asynchronous"
        ],
        "link": "https://stackoverflow.com/questions/76756353/how-to-show-a-loader-while-calling-a-function-asynchronously",
        "conteudo_html": "<p>I am calling a function asynchronously to register user with phone number using Firebase. I want to show a <code>CircularProgressIndicator</code> while making the call as it takes little time to process the request. I used a state variable, <code>isLoading</code>, for this purpose. Whenever I call the async function, I set <code>isLoading </code>to <code>true</code>. In my widget tree, I have a <code>if </code>condition that shows a <code>CircularProgressIndicator</code> when this condition is true. But it is not showing the loader. Please help me understanding the control flow of this code.</p>\n<p>Also, can I use Future builder here?</p>\n<p>I have set <code>isLoading = false</code> initially.</p>\n<pre><code>if (isLoading)\n              const Center(\n                child: CircularProgressIndicator(),\n              ),\n            LoginButton(\n              loginText: StaticText.sendCode,\n              onTapButton: () async {\n                setState(() {\n                  isLoading = true;\n                });\n\n                // onClickSendCode calls another function asynchronously\n\n                await AuthFunctions.onClickSendCode(\n                  mobileController: mobileController,\n                  context: context,\n                );\n\n                setState(() {\n                  isLoading = false;\n                });\n              },\n            ),\n            if (isLoading)\n              const Center(\n                child: CircularProgressIndicator(),\n              ),\n</code></pre>\n<p>This is my onClickSendCode function:</p>\n<pre><code>  // SENDING OTP\n  static Future&lt;void&gt; onClickSendCode({\n    required TextEditingController mobileController,\n    required BuildContext context,\n  }) async {\n    if (mobileController.text.length != 10) {\n      failureBar(StaticText.invalidPhoneNo, context);\n      return;\n    }\n    FocusManager.instance.primaryFocus?.unfocus();\n\n    print('circular');\n    const CircularProgressIndicator();\n\n    await AuthService().registerUserWithPhone(\n      mobileController.text,\n      context,\n    );\n  }\n</code></pre>\n<p>This is registerUserWithPhone:</p>\n<pre><code>  //  OTP\n  Future&lt;void&gt; registerUserWithPhone(\n    String mobile,\n    BuildContext context,\n  ) async {\n    final auth = FirebaseAuth.instance;\n    // print(mobile);\n    await auth.verifyPhoneNumber(\n      phoneNumber: '+91$mobile',\n      verificationCompleted: (PhoneAuthCredential credential) {},\n      verificationFailed: (FirebaseAuthException e) {},\n      codeSent: (String verificationId, int? forceResendingToken) {\n        Navigator.pushNamed(\n          context,\n          NamedRoutes.verifyCode,\n          arguments: verificationId,\n        );\n      },\n      codeAutoRetrievalTimeout: (String verificationId) {},\n      timeout: const Duration(\n        seconds: 120,\n      ),\n    );\n  }\n}\n</code></pre>\n<p>I tried to use Future builder but it also didn't work. I couldn't understand how setState method calls build method. Please help me.</p>\n",
        "codigo": [
            "CircularProgressIndicator",
            "isLoading",
            "isLoading ",
            "true",
            "if ",
            "CircularProgressIndicator",
            "isLoading = false",
            "if (isLoading)\n              const Center(\n                child: CircularProgressIndicator(),\n              ),\n            LoginButton(\n              loginText: StaticText.sendCode,\n              onTapButton: () async {\n                setState(() {\n                  isLoading = true;\n                });\n\n                // onClickSendCode calls another function asynchronously\n\n                await AuthFunctions.onClickSendCode(\n                  mobileController: mobileController,\n                  context: context,\n                );\n\n                setState(() {\n                  isLoading = false;\n                });\n              },\n            ),\n            if (isLoading)\n              const Center(\n                child: CircularProgressIndicator(),\n              ),\n",
            "  // SENDING OTP\n  static Future<void> onClickSendCode({\n    required TextEditingController mobileController,\n    required BuildContext context,\n  }) async {\n    if (mobileController.text.length != 10) {\n      failureBar(StaticText.invalidPhoneNo, context);\n      return;\n    }\n    FocusManager.instance.primaryFocus?.unfocus();\n\n    print('circular');\n    const CircularProgressIndicator();\n\n    await AuthService().registerUserWithPhone(\n      mobileController.text,\n      context,\n    );\n  }\n",
            "  //  OTP\n  Future<void> registerUserWithPhone(\n    String mobile,\n    BuildContext context,\n  ) async {\n    final auth = FirebaseAuth.instance;\n    // print(mobile);\n    await auth.verifyPhoneNumber(\n      phoneNumber: '+91$mobile',\n      verificationCompleted: (PhoneAuthCredential credential) {},\n      verificationFailed: (FirebaseAuthException e) {},\n      codeSent: (String verificationId, int? forceResendingToken) {\n        Navigator.pushNamed(\n          context,\n          NamedRoutes.verifyCode,\n          arguments: verificationId,\n        );\n      },\n      codeAutoRetrievalTimeout: (String verificationId) {},\n      timeout: const Duration(\n        seconds: 120,\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Flutter Strange behavior when pressing the Android back button on child Beamer",
        "score": 1,
        "views": 453,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-beamer"
        ],
        "link": "https://stackoverflow.com/questions/76746817/flutter-strange-behavior-when-pressing-the-android-back-button-on-child-beamer",
        "conteudo_html": "<p>In my application, at the beginning, I have 3 pages with the following routes:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>routerDelegate = BeamerDelegate(\n  initialPath: initialPath,\n  locationBuilder: RoutesLocationBuilder(\n    routes: {\n      '/signup': (_, __, ___) =&gt; const SignupScreenWidget(),\n      '/verifyCode': (_, __, ___) =&gt; const VerifyCodeRootScreenWidget(),\n      '/home': (_, __, ___) =&gt; const HomeScreen(),\n    },\n  ),\n);\n</code></pre>\n<p>Inside the Home page, I defined the following <code>BeamLocations</code>, and since I have another <code>BeamLocation</code> inside the <code>ChefRootWidget</code> that has its own specific links, when I go to the following path:</p>\n<pre><code>/home/chefMainWidget/chefStoreHomePage/chefStoreMenu\n</code></pre>\n<p>There is no problem returning to the previous page by clicking on the back icon from <code>chefStoreMenu</code> to <code>chefStoreHomePage</code>. However, after touching the back button on the phone, the return occurs again, i.e., instead of returning to <code>chefStoreHomePage</code>, I am directly taken to the home page, which is wrong, and the page should be displayed. Therefore, both the home and <code>chefStoreHomePage</code> pages have their own specific <code>BeamLocations</code>.</p>\n<p>The BeamLocation of the Home page is:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class HomeScreenTab extends BeamLocation&lt;BeamState&gt; {\n  HomeScreenTab(super.routeInformation);\n\n  @override\n  List&lt;String&gt; get pathPatterns =&gt; [\n        '/home/chefMainWidget/:storeId',\n      ];\n\n  @override\n  List&lt;BeamPage&gt; buildPages(BuildContext context, BeamState state) {\n    List&lt;BeamPage&gt; pages = [];\n    pages.add(\n      const BeamPage(\n        key: ValueKey('/home'),\n        type: BeamPageType.noTransition,\n        child: HomeRootScreenWidget(),\n      ),\n    );\n\n    if (state.uri.pathSegments.length &gt; 1) {\n      String key = '';\n      Widget? screen;\n      switch (state.uri.pathSegments[1]) {\n        case 'chefMainWidget':\n          final storeId = state.pathParameters['storeId'];\n          key = '/home/chefMainWidget-$storeId-${DateTime.now()}';\n          screen = storeId == null ? null : ChefRootWidget(storeId: int.tryParse(storeId));\n          break;\n      }\n      if (screen != null) {\n        pages.add(BeamPage(\n          key: ValueKey(key),\n          type: BeamPageType.slideRightTransition,\n          child: screen,\n        ));\n      }\n    }\n\n    return pages;\n  }\n}\n</code></pre>\n<p>and <code>ChefRootWidget</code> class:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class ChefRootWidget extends StatefulWidget {\n  final int? storeId;\n\n  const ChefRootWidget({super.key, required this.storeId});\n\n  @override\n  State&lt;StatefulWidget&gt; createState() =&gt; _ChefRootWidget();\n}\n\nclass _ChefRootWidget extends State&lt;ChefRootWidget&gt; {\n  int get storeId =&gt; widget.storeId!;\n  late List&lt;BeamerDelegate&gt; _routerDelegates;\n\n\n  @override\n  void initState() {\n    _routerDelegates = [\n      BeamerDelegate(\n        initialPath: '/home/chefMainWidget/chefStoreHomePage',\n        locationBuilder: (routeInformation, _) {\n          if (routeInformation.uri.toString().contains('/home/chefMainWidget/chefStoreHomePage')) {\n            return ChefStoreBeamer(routeInformation, storeId);\n          }\n          return NotFound(path: routeInformation.uri.toString());\n        },\n      ),\n    ];\n    super.initState();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Beamer(\n        routerDelegate: _routerDelegates[0],\n      ),\n    );\n  }\n}\n</code></pre>\n<p>The BeamLocation of the chefStoreHomePage page is:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class ChefStoreBeamer extends BeamLocation&lt;BeamState&gt; {\n  final int storeId;\n\n  ChefStoreBeamer(super.routeInformation, this.storeId);\n\n  @override\n  List&lt;String&gt; get pathPatterns =&gt; [\n        '/home/chefMainWidget/chefStoreHomePage/chefStoreMenu/:menuId',\n      ];\n\n  @override\n  List&lt;BeamPage&gt; buildPages(BuildContext context, BeamState state) {\n    List&lt;BeamPage&gt; pages = [];\n    pages.add(\n      BeamPage(\n        key: ValueKey('/home/chefMainWidget/chefStoreHomePage-$storeId-${DateTime.now()}'),\n        type: BeamPageType.slideRightTransition,\n        child: ChefStoreHomePageWidget(storeId: storeId),\n      ),\n    );\n    if (state.uri.pathSegments.contains('chefStoreMenu')) {\n      final menuId = state.pathParameters['menuId'];\n      if (menuId != null) {\n        pages.add(\n          BeamPage(\n            key: ValueKey('/home/chefMainWidget/chefStoreHomePage/chefStoreMenu-$menuId-${DateTime.now()}'),\n            type: BeamPageType.slideRightTransition,\n            child: ChefMenuWidget(menuId: int.tryParse(menuId)),\n          ),\n        );\n      }\n    }\n    return pages;\n  }\n}\n</code></pre>\n<p>What I do is use <code>Beamer.of(context).beamToNamed</code> to move between pages, for example:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Beamer.of(context).beamToNamed('/home/chefMainWidget/chefStoreHomePage/chefStoreMenu/$menuId');\n</code></pre>\n<h1>and then its full sample code:</h1>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:beamer/beamer.dart';\nimport 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass ALocation extends BeamLocation&lt;BeamState&gt; {\n  ALocation(super.routeInformation);\n\n  @override\n  List&lt;String&gt; get pathPatterns =&gt; ['/a/child-root'];\n\n  @override\n  List&lt;BeamPage&gt; buildPages(BuildContext context, BeamState state) {\n    List&lt;BeamPage&gt; pages = [];\n    pages.add(\n      const BeamPage(\n        key: ValueKey('/a'),\n        type: BeamPageType.noTransition,\n        child: RootScreen(),\n      ),\n    );\n\n    if (state.pathPatternSegments.contains('child-root')) {\n      pages.add(\n        const BeamPage(\n          key: ValueKey('/a/child-root'),\n          type: BeamPageType.noTransition,\n          child: ChildScreen(),\n        ),\n      );\n    }\n\n    return pages;\n  }\n}\n\nclass RootBeamerScreen extends StatefulWidget {\n  const RootBeamerScreen({super.key});\n\n  @override\n  State&lt;RootBeamerScreen&gt; createState() =&gt; _RootBeamerScreenState();\n}\n\nclass _RootBeamerScreenState extends State&lt;RootBeamerScreen&gt; {\n  final _routerDelegates = [\n    BeamerDelegate(\n      initialPath: '/a',\n      locationBuilder: (routeInformation, _) {\n        if (routeInformation.uri.toString().contains('/a')) {\n          return ALocation(routeInformation);\n        }\n        return NotFound(path: routeInformation.uri.toString());\n      },\n    ),\n  ];\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Beamer(\n        routerDelegate: _routerDelegates[0],\n      ),\n    );\n  }\n}\n\nclass RootScreen extends StatelessWidget {\n  const RootScreen({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('root'),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: &lt;Widget&gt;[\n            const Padding(padding: EdgeInsets.all(4)),\n            TextButton(\n              onPressed: () =&gt; Beamer.of(context).beamToNamed('/a/child-root'),\n              child: const Text('View child-root'),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass ChildLocation extends BeamLocation&lt;BeamState&gt; {\n  ChildLocation(super.routeInformation);\n\n  @override\n  List&lt;String&gt; get pathPatterns =&gt; ['/child-root/detail'];\n\n  @override\n  List&lt;BeamPage&gt; buildPages(BuildContext context, BeamState state) {\n    List&lt;BeamPage&gt; pages = [];\n    pages.add(\n      const BeamPage(\n        key: ValueKey('/child-root'),\n        type: BeamPageType.noTransition,\n        child: ChildDetailWidget(),\n      ),\n    );\n\n    if (state.pathPatternSegments.contains('detail')) {\n      pages.add(\n        const BeamPage(\n          key: ValueKey('/child-root/detail'),\n          type: BeamPageType.noTransition,\n          child: DetailScreen(),\n        ),\n      );\n    }\n\n    return pages;\n  }\n}\n\nclass DetailScreen extends StatelessWidget {\n  const DetailScreen({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: const Text('child screen')),\n      body: const SizedBox(\n        width: double.infinity,\n        height: double.infinity,\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          crossAxisAlignment: CrossAxisAlignment.center,\n          children: [\n            Text('Yooohooooooooo'),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass ChildScreen extends StatefulWidget {\n  const ChildScreen({Key? key}) : super(key: key);\n\n  @override\n  State&lt;StatefulWidget&gt; createState() =&gt; _ChildScreen();\n}\n\nclass _ChildScreen extends State&lt;ChildScreen&gt; {\n  final _routerDelegates = [\n    BeamerDelegate(\n      initialPath: '/child-root',\n      locationBuilder: (routeInformation, _) {\n        if (routeInformation.uri.toString().contains('/child-root')) {\n          return ChildLocation(routeInformation);\n        }\n        return NotFound(path: routeInformation.uri.toString());\n      },\n    ),\n  ];\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Beamer(\n        routerDelegate: _routerDelegates[0],\n      ),\n    );\n  }\n}\n\nclass ChildDetailWidget extends StatelessWidget {\n  const ChildDetailWidget({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: const Text('child screen')),\n      body: SizedBox(\n        width: double.infinity,\n        height: double.infinity,\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          crossAxisAlignment: CrossAxisAlignment.center,\n          children: [\n            TextButton(\n              onPressed: () =&gt;\n                  Beamer.of(context).beamToNamed('/child-root/detail'),\n              child: const Text('Click here'),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass MyApp extends StatelessWidget {\n  MyApp({super.key});\n\n  final routerDelegate = BeamerDelegate(\n    initialPath: '/a',\n    locationBuilder: RoutesLocationBuilder(\n      routes: {\n        '*': (context, state, data) =&gt; const RootBeamerScreen(),\n      },\n    ),\n  );\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp.router(\n      debugShowCheckedModeBanner: false,\n      theme: ThemeData(primarySwatch: Colors.indigo),\n      routerDelegate: routerDelegate,\n      routeInformationParser: BeamerParser(),\n      backButtonDispatcher: BeamerBackButtonDispatcher(\n        delegate: routerDelegate,\n      ),\n    );\n  }\n}\n</code></pre>\n",
        "codigo": [
            "routerDelegate = BeamerDelegate(\n  initialPath: initialPath,\n  locationBuilder: RoutesLocationBuilder(\n    routes: {\n      '/signup': (_, __, ___) => const SignupScreenWidget(),\n      '/verifyCode': (_, __, ___) => const VerifyCodeRootScreenWidget(),\n      '/home': (_, __, ___) => const HomeScreen(),\n    },\n  ),\n);\n",
            "BeamLocations",
            "BeamLocation",
            "ChefRootWidget",
            "/home/chefMainWidget/chefStoreHomePage/chefStoreMenu\n",
            "chefStoreMenu",
            "chefStoreHomePage",
            "chefStoreHomePage",
            "chefStoreHomePage",
            "BeamLocations",
            "class HomeScreenTab extends BeamLocation<BeamState> {\n  HomeScreenTab(super.routeInformation);\n\n  @override\n  List<String> get pathPatterns => [\n        '/home/chefMainWidget/:storeId',\n      ];\n\n  @override\n  List<BeamPage> buildPages(BuildContext context, BeamState state) {\n    List<BeamPage> pages = [];\n    pages.add(\n      const BeamPage(\n        key: ValueKey('/home'),\n        type: BeamPageType.noTransition,\n        child: HomeRootScreenWidget(),\n      ),\n    );\n\n    if (state.uri.pathSegments.length > 1) {\n      String key = '';\n      Widget? screen;\n      switch (state.uri.pathSegments[1]) {\n        case 'chefMainWidget':\n          final storeId = state.pathParameters['storeId'];\n          key = '/home/chefMainWidget-$storeId-${DateTime.now()}';\n          screen = storeId == null ? null : ChefRootWidget(storeId: int.tryParse(storeId));\n          break;\n      }\n      if (screen != null) {\n        pages.add(BeamPage(\n          key: ValueKey(key),\n          type: BeamPageType.slideRightTransition,\n          child: screen,\n        ));\n      }\n    }\n\n    return pages;\n  }\n}\n",
            "ChefRootWidget",
            "class ChefRootWidget extends StatefulWidget {\n  final int? storeId;\n\n  const ChefRootWidget({super.key, required this.storeId});\n\n  @override\n  State<StatefulWidget> createState() => _ChefRootWidget();\n}\n\nclass _ChefRootWidget extends State<ChefRootWidget> {\n  int get storeId => widget.storeId!;\n  late List<BeamerDelegate> _routerDelegates;\n\n\n  @override\n  void initState() {\n    _routerDelegates = [\n      BeamerDelegate(\n        initialPath: '/home/chefMainWidget/chefStoreHomePage',\n        locationBuilder: (routeInformation, _) {\n          if (routeInformation.uri.toString().contains('/home/chefMainWidget/chefStoreHomePage')) {\n            return ChefStoreBeamer(routeInformation, storeId);\n          }\n          return NotFound(path: routeInformation.uri.toString());\n        },\n      ),\n    ];\n    super.initState();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Beamer(\n        routerDelegate: _routerDelegates[0],\n      ),\n    );\n  }\n}\n",
            "class ChefStoreBeamer extends BeamLocation<BeamState> {\n  final int storeId;\n\n  ChefStoreBeamer(super.routeInformation, this.storeId);\n\n  @override\n  List<String> get pathPatterns => [\n        '/home/chefMainWidget/chefStoreHomePage/chefStoreMenu/:menuId',\n      ];\n\n  @override\n  List<BeamPage> buildPages(BuildContext context, BeamState state) {\n    List<BeamPage> pages = [];\n    pages.add(\n      BeamPage(\n        key: ValueKey('/home/chefMainWidget/chefStoreHomePage-$storeId-${DateTime.now()}'),\n        type: BeamPageType.slideRightTransition,\n        child: ChefStoreHomePageWidget(storeId: storeId),\n      ),\n    );\n    if (state.uri.pathSegments.contains('chefStoreMenu')) {\n      final menuId = state.pathParameters['menuId'];\n      if (menuId != null) {\n        pages.add(\n          BeamPage(\n            key: ValueKey('/home/chefMainWidget/chefStoreHomePage/chefStoreMenu-$menuId-${DateTime.now()}'),\n            type: BeamPageType.slideRightTransition,\n            child: ChefMenuWidget(menuId: int.tryParse(menuId)),\n          ),\n        );\n      }\n    }\n    return pages;\n  }\n}\n",
            "Beamer.of(context).beamToNamed",
            "Beamer.of(context).beamToNamed('/home/chefMainWidget/chefStoreHomePage/chefStoreMenu/$menuId');\n",
            "import 'package:beamer/beamer.dart';\nimport 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass ALocation extends BeamLocation<BeamState> {\n  ALocation(super.routeInformation);\n\n  @override\n  List<String> get pathPatterns => ['/a/child-root'];\n\n  @override\n  List<BeamPage> buildPages(BuildContext context, BeamState state) {\n    List<BeamPage> pages = [];\n    pages.add(\n      const BeamPage(\n        key: ValueKey('/a'),\n        type: BeamPageType.noTransition,\n        child: RootScreen(),\n      ),\n    );\n\n    if (state.pathPatternSegments.contains('child-root')) {\n      pages.add(\n        const BeamPage(\n          key: ValueKey('/a/child-root'),\n          type: BeamPageType.noTransition,\n          child: ChildScreen(),\n        ),\n      );\n    }\n\n    return pages;\n  }\n}\n\nclass RootBeamerScreen extends StatefulWidget {\n  const RootBeamerScreen({super.key});\n\n  @override\n  State<RootBeamerScreen> createState() => _RootBeamerScreenState();\n}\n\nclass _RootBeamerScreenState extends State<RootBeamerScreen> {\n  final _routerDelegates = [\n    BeamerDelegate(\n      initialPath: '/a',\n      locationBuilder: (routeInformation, _) {\n        if (routeInformation.uri.toString().contains('/a')) {\n          return ALocation(routeInformation);\n        }\n        return NotFound(path: routeInformation.uri.toString());\n      },\n    ),\n  ];\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Beamer(\n        routerDelegate: _routerDelegates[0],\n      ),\n    );\n  }\n}\n\nclass RootScreen extends StatelessWidget {\n  const RootScreen({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('root'),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: <Widget>[\n            const Padding(padding: EdgeInsets.all(4)),\n            TextButton(\n              onPressed: () => Beamer.of(context).beamToNamed('/a/child-root'),\n              child: const Text('View child-root'),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass ChildLocation extends BeamLocation<BeamState> {\n  ChildLocation(super.routeInformation);\n\n  @override\n  List<String> get pathPatterns => ['/child-root/detail'];\n\n  @override\n  List<BeamPage> buildPages(BuildContext context, BeamState state) {\n    List<BeamPage> pages = [];\n    pages.add(\n      const BeamPage(\n        key: ValueKey('/child-root'),\n        type: BeamPageType.noTransition,\n        child: ChildDetailWidget(),\n      ),\n    );\n\n    if (state.pathPatternSegments.contains('detail')) {\n      pages.add(\n        const BeamPage(\n          key: ValueKey('/child-root/detail'),\n          type: BeamPageType.noTransition,\n          child: DetailScreen(),\n        ),\n      );\n    }\n\n    return pages;\n  }\n}\n\nclass DetailScreen extends StatelessWidget {\n  const DetailScreen({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: const Text('child screen')),\n      body: const SizedBox(\n        width: double.infinity,\n        height: double.infinity,\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          crossAxisAlignment: CrossAxisAlignment.center,\n          children: [\n            Text('Yooohooooooooo'),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass ChildScreen extends StatefulWidget {\n  const ChildScreen({Key? key}) : super(key: key);\n\n  @override\n  State<StatefulWidget> createState() => _ChildScreen();\n}\n\nclass _ChildScreen extends State<ChildScreen> {\n  final _routerDelegates = [\n    BeamerDelegate(\n      initialPath: '/child-root',\n      locationBuilder: (routeInformation, _) {\n        if (routeInformation.uri.toString().contains('/child-root')) {\n          return ChildLocation(routeInformation);\n        }\n        return NotFound(path: routeInformation.uri.toString());\n      },\n    ),\n  ];\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Beamer(\n        routerDelegate: _routerDelegates[0],\n      ),\n    );\n  }\n}\n\nclass ChildDetailWidget extends StatelessWidget {\n  const ChildDetailWidget({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: const Text('child screen')),\n      body: SizedBox(\n        width: double.infinity,\n        height: double.infinity,\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          crossAxisAlignment: CrossAxisAlignment.center,\n          children: [\n            TextButton(\n              onPressed: () =>\n                  Beamer.of(context).beamToNamed('/child-root/detail'),\n              child: const Text('Click here'),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass MyApp extends StatelessWidget {\n  MyApp({super.key});\n\n  final routerDelegate = BeamerDelegate(\n    initialPath: '/a',\n    locationBuilder: RoutesLocationBuilder(\n      routes: {\n        '*': (context, state, data) => const RootBeamerScreen(),\n      },\n    ),\n  );\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp.router(\n      debugShowCheckedModeBanner: false,\n      theme: ThemeData(primarySwatch: Colors.indigo),\n      routerDelegate: routerDelegate,\n      routeInformationParser: BeamerParser(),\n      backButtonDispatcher: BeamerBackButtonDispatcher(\n        delegate: routerDelegate,\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Error running flutter doctor -v on Mac M1 2020",
        "score": 0,
        "views": 279,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-dependencies"
        ],
        "link": "https://stackoverflow.com/questions/76745517/error-running-flutter-doctor-v-on-mac-m1-2020",
        "conteudo_html": "<p>I am facing an issue with Flutter on my Mac M1 2020. When I run flutter doctor -v, I encounter the following error:</p>\n<pre><code>#0      throwToolExit (package:flutter_tools/src/base/common.dart:10:3)\n#1      _DefaultPub._runWithStdioInherited (package:flutter_tools/src/dart/pub.dart:447:7)\n&lt;asynchronous suspension&gt;\n#2      _DefaultPub.get (package:flutter_tools/src/dart/pub.dart:323:5)\n&lt;asynchronous suspension&gt;\n#3      PubDependencies.update (package:flutter_tools/src/flutter_cache.dart:126:5)\n&lt;asynchronous suspension&gt;\n#4      Cache.updateAll (package:flutter_tools/src/cache.dart:677:9)\n&lt;asynchronous suspension&gt;\n#5      FlutterCommand.verifyThenRunCommand (package:flutter_tools/src/runner/flutter_command.dart:1518:7)\n&lt;asynchronous suspension&gt;\n#6      FlutterCommand.run.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command.dart:1336:27)\n&lt;asynchronous suspension&gt;\n#7      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n&lt;asynchronous suspension&gt;\n#8      CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n&lt;asynchronous suspension&gt;\n#9      FlutterCommandRunner.runCommand.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command_runner.dart:296:9)\n&lt;asynchronous suspension&gt;\n#10     AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n&lt;asynchronous suspension&gt;\n#11     FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:244:5)\n&lt;asynchronous suspension&gt;\n#12     run.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:flutter_tools/runner.dart:91:9)\n&lt;asynchronous suspension&gt;\n#13     AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n&lt;asynchronous suspension&gt;\n#14     main (package:flutter_tools/executable.dart:91:3)\n&lt;asynchronous suspension&gt;\n</code></pre>\n<p>I have tried reinstalling Flutter using the latest version.\nI verified that Xcode and Android Studio are correctly installed and updated.\nI checked my environment variables and added the Flutter bin directory to my PATH.\nI ran flutter doctor --android-licenses to ensure I have accepted the Android licenses.\nI have restarted my laptop multiple times.\nI have cleaned the Flutter cache and re-run the doctor command.\nI have tried running flutter doctor but it returns nothing.</p>\n<p>However all of this has not been effective.\n(Sorry if this post was formatted incorrectly, new to stack overflow)</p>\n",
        "codigo": [
            "#0      throwToolExit (package:flutter_tools/src/base/common.dart:10:3)\n#1      _DefaultPub._runWithStdioInherited (package:flutter_tools/src/dart/pub.dart:447:7)\n<asynchronous suspension>\n#2      _DefaultPub.get (package:flutter_tools/src/dart/pub.dart:323:5)\n<asynchronous suspension>\n#3      PubDependencies.update (package:flutter_tools/src/flutter_cache.dart:126:5)\n<asynchronous suspension>\n#4      Cache.updateAll (package:flutter_tools/src/cache.dart:677:9)\n<asynchronous suspension>\n#5      FlutterCommand.verifyThenRunCommand (package:flutter_tools/src/runner/flutter_command.dart:1518:7)\n<asynchronous suspension>\n#6      FlutterCommand.run.<anonymous closure> (package:flutter_tools/src/runner/flutter_command.dart:1336:27)\n<asynchronous suspension>\n#7      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n<asynchronous suspension>\n#8      CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n<asynchronous suspension>\n#9      FlutterCommandRunner.runCommand.<anonymous closure> (package:flutter_tools/src/runner/flutter_command_runner.dart:296:9)\n<asynchronous suspension>\n#10     AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n<asynchronous suspension>\n#11     FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:244:5)\n<asynchronous suspension>\n#12     run.<anonymous closure>.<anonymous closure> (package:flutter_tools/runner.dart:91:9)\n<asynchronous suspension>\n#13     AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n<asynchronous suspension>\n#14     main (package:flutter_tools/executable.dart:91:3)\n<asynchronous suspension>\n"
        ]
    },
    {
        "titulo": "Bottom navigation bar only appears after hot restart?",
        "score": 0,
        "views": 51,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76731606/bottom-navigation-bar-only-appears-after-hot-restart",
        "conteudo_html": "<p>After pressing the elevated button, I'm navigated to HomeScreen2 but my bottom navigation bar doesn't show.</p>\n<p>It used to show a left chevron arrow/back button that navigated back to the page with the elevated button(profile set up). And then on that page it had another back button, which took me to HomeScreen2 and it had the bottom navigation bar. I was able to get rid off the back button with Navigator.pushAndRemoveUntil but after changing that I still don't have the bottom navigation bar. Unless I press hot restart..</p>\n<pre><code>ElevatedButton(\n              onPressed: () async {\n                final username = _usernameController.text.trim();\n                final name = _nameController.text.trim();\n\n                final user = FirebaseAuth.instance.currentUser;\n                if (user != null) {\n                  try {\n                 \n                    await FirebaseFirestore.instance\n                        .collection('users')\n                        .doc(user.uid)\n                        .update({\n                      'username': username,\n                      'name': name,\n                    });\n\n                    final profilePictureURL =\n                        await loadProfilePicture(user.uid);\n                    await loadProfilePicture(user.uid);\n\n                    Navigator.pushAndRemoveUntil(\n                      context,\n                      MaterialPageRoute(builder: (context) =&gt; HomeScreen2()),\n                      (route) =&gt; false,\n                    );\n                  } catch (e) {\n                    // Handle errors\n                    print(e);\n                    ScaffoldMessenger.of(context).showSnackBar(\n                      SnackBar(\n                        content: Text('Error saving profile details.'),\n                      ),\n                    );\n                  }\n                }\n              },\n              child: const Text('Save Profile'),\n            ),\n</code></pre>\n<p>Here is my navigation bar:</p>\n<pre><code>class Navigation extends StatefulWidget {\n final user = FirebaseAuth.instance.currentUser;\n\n  Navigation({Key? key}) : super(key: key);\n  @override\n  _NavigationState createState() =&gt; _NavigationState();\n}\n\nclass _NavigationState extends State&lt;Navigation&gt; {\n  int _selectedIndex = 2;\n\n  List&lt;Widget&gt; getWidgetOptions() {\n    // Initialize _widgetOptions inside the build method\n    return [\n      Test(note: NoteModel()),\n      Options(bookmarkedRecipes: [],),\n      HomeScreen2(),\n      Test(note: NoteModel()),\n      Profile(users: UserModel()),\n    ];\n  }\n\n  void _onItemTap(int index) {\n    setState(() {\n      _selectedIndex = index;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final _widgetOptions = getWidgetOptions(); // Retrieve _widgetOptions from a method\n\n    return Scaffold(\n      extendBody: true,\n      backgroundColor: Colors.transparent,\n      body: Stack(\n        children: [_widgetOptions.elementAt(_selectedIndex)],\n      ),\n\n      bottomNavigationBar: Container(\n        margin: EdgeInsets.zero,\n        decoration: const BoxDecoration(\n          color: Color(0xFF162242),\n          borderRadius: BorderRadius.only(\n            topLeft: Radius.circular(30.0),\n            topRight: Radius.circular(30.0),\n          ),\n        ),\n        child: Theme(\n          data: ThemeData(\n            splashColor: Colors.transparent,\n            highlightColor: Colors.transparent,\n          ),\n          child: BottomNavigationBar(\n            backgroundColor: Colors.transparent,\n            showUnselectedLabels: false,\n            showSelectedLabels: false,\n            type: BottomNavigationBarType.fixed,\n            elevation: 0,\n            items: const &lt;BottomNavigationBarItem&gt;[\n              BottomNavigationBarItem(\n                icon: Icon(MyFlutterAppHouse.sketch_house, size: 27.5),\n                label: '',\n              ),\n              BottomNavigationBarItem(\n                icon: Icon(MyFlutterAppOptionsLong.sketch_options_long, size: 35),\n                label: '',\n              ),\n              BottomNavigationBarItem(\n                icon: Icon(MyFlutterAppBook.sketch_book, size: 34),\n                label: '',\n              ),\n              BottomNavigationBarItem(\n                icon: Icon(MyFlutterAppSearch.sketch_search, size: 34),\n                label: '',\n              ),\n              BottomNavigationBarItem(\n                icon: Icon(MyFlutterAppPerson.sketch_person, size: 30.5),\n                label: '',\n              ),\n            ],\n            currentIndex: _selectedIndex,\n            onTap: _onItemTap,\n            unselectedItemColor: const Color(0xFF677CA7),\n            selectedItemColor: Colors.white,\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>I don't see what the problem is. Please help me out. If you think the problem is else where let me know</p>\n",
        "codigo": [
            "ElevatedButton(\n              onPressed: () async {\n                final username = _usernameController.text.trim();\n                final name = _nameController.text.trim();\n\n                final user = FirebaseAuth.instance.currentUser;\n                if (user != null) {\n                  try {\n                 \n                    await FirebaseFirestore.instance\n                        .collection('users')\n                        .doc(user.uid)\n                        .update({\n                      'username': username,\n                      'name': name,\n                    });\n\n                    final profilePictureURL =\n                        await loadProfilePicture(user.uid);\n                    await loadProfilePicture(user.uid);\n\n                    Navigator.pushAndRemoveUntil(\n                      context,\n                      MaterialPageRoute(builder: (context) => HomeScreen2()),\n                      (route) => false,\n                    );\n                  } catch (e) {\n                    // Handle errors\n                    print(e);\n                    ScaffoldMessenger.of(context).showSnackBar(\n                      SnackBar(\n                        content: Text('Error saving profile details.'),\n                      ),\n                    );\n                  }\n                }\n              },\n              child: const Text('Save Profile'),\n            ),\n",
            "class Navigation extends StatefulWidget {\n final user = FirebaseAuth.instance.currentUser;\n\n  Navigation({Key? key}) : super(key: key);\n  @override\n  _NavigationState createState() => _NavigationState();\n}\n\nclass _NavigationState extends State<Navigation> {\n  int _selectedIndex = 2;\n\n  List<Widget> getWidgetOptions() {\n    // Initialize _widgetOptions inside the build method\n    return [\n      Test(note: NoteModel()),\n      Options(bookmarkedRecipes: [],),\n      HomeScreen2(),\n      Test(note: NoteModel()),\n      Profile(users: UserModel()),\n    ];\n  }\n\n  void _onItemTap(int index) {\n    setState(() {\n      _selectedIndex = index;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final _widgetOptions = getWidgetOptions(); // Retrieve _widgetOptions from a method\n\n    return Scaffold(\n      extendBody: true,\n      backgroundColor: Colors.transparent,\n      body: Stack(\n        children: [_widgetOptions.elementAt(_selectedIndex)],\n      ),\n\n      bottomNavigationBar: Container(\n        margin: EdgeInsets.zero,\n        decoration: const BoxDecoration(\n          color: Color(0xFF162242),\n          borderRadius: BorderRadius.only(\n            topLeft: Radius.circular(30.0),\n            topRight: Radius.circular(30.0),\n          ),\n        ),\n        child: Theme(\n          data: ThemeData(\n            splashColor: Colors.transparent,\n            highlightColor: Colors.transparent,\n          ),\n          child: BottomNavigationBar(\n            backgroundColor: Colors.transparent,\n            showUnselectedLabels: false,\n            showSelectedLabels: false,\n            type: BottomNavigationBarType.fixed,\n            elevation: 0,\n            items: const <BottomNavigationBarItem>[\n              BottomNavigationBarItem(\n                icon: Icon(MyFlutterAppHouse.sketch_house, size: 27.5),\n                label: '',\n              ),\n              BottomNavigationBarItem(\n                icon: Icon(MyFlutterAppOptionsLong.sketch_options_long, size: 35),\n                label: '',\n              ),\n              BottomNavigationBarItem(\n                icon: Icon(MyFlutterAppBook.sketch_book, size: 34),\n                label: '',\n              ),\n              BottomNavigationBarItem(\n                icon: Icon(MyFlutterAppSearch.sketch_search, size: 34),\n                label: '',\n              ),\n              BottomNavigationBarItem(\n                icon: Icon(MyFlutterAppPerson.sketch_person, size: 30.5),\n                label: '',\n              ),\n            ],\n            currentIndex: _selectedIndex,\n            onTap: _onItemTap,\n            unselectedItemColor: const Color(0xFF677CA7),\n            selectedItemColor: Colors.white,\n          ),\n        ),\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Flutter SDK version issue",
        "score": 0,
        "views": 1032,
        "respostas": 0,
        "tags": [
            "flutter",
            "visual-studio",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76724615/flutter-sdk-version-issue",
        "conteudo_html": "<p>Ill explain original issue and then some details I figured out while I was trying to fix it</p>\n<p>I am trying to build signed apk in VS for flutter</p>\n<p><code>flutter build appbundle</code></p>\n<p>And got this error</p>\n<p><code>The current Flutter SDK version is 0.0.0-unknown.</code>\n<code>Because workmanager 0.5.1 requires Flutter SDK version &gt;=2.5.0 and no versions of workmanager match &gt;0.5.1 &lt;0.6.0, workmanager ^0.5.1 is forbidden. So, because pocket_mentor depends on workmanager ^0.5.1, version solving failed.</code></p>\n<p>I was trying to run</p>\n<p><code>flutter upgrade</code></p>\n<p>But got this error</p>\n<p><code>ProcessException: Process exited abnormally: fatal: no such branch: 'stable' Command: git rev-parse --verify @{upstream}</code></p>\n<p>I was trying to change the channel to stable with</p>\n<p><code>flutter channel stable</code></p>\n<p>But got this error</p>\n<p><code>git: fatal: 'origin/stable' is not a commit and a branch 'stable' cannot be created from it Switching channels failed with error code 128.</code></p>\n<p>So it seems flutter installed on machine and saved in <code>Path</code> variable. But for some reason it does not see the version</p>\n<p>When I run</p>\n<p><code>flutter doctor</code></p>\n<p>I see this</p>\n<p><code>Doctor summary (to see all details, run flutter doctor -v): Failed to find the latest git commit date: VersionCheckError: Command exited with code 128: git -c log.showSignature=false log HEAD -n 1 --pretty=format:%ad --date=iso Standard out: Standard error: fatal: ambiguous argument 'HEAD': unknown revision or path not in the working tree. Use '--' to separate paths from revisions, like this: 'git &lt;command&gt; [&lt;revision&gt;...] -- [&lt;file&gt;...]' Returning 1969-12-31 19:00:00.000 instead. [!] Flutter (Channel unknown, 0.0.0-unknown, on Microsoft Windows [Version 10.0.22621.1992], locale en-US) ! Flutter version 0.0.0-unknown on channel unknown at C:\\flutter\\flutter Currently on an unknown channel. Run</code>flutter channel<code>to switch to an official channel. If that doesn't fix the issue, reinstall Flutter by following instructions at https://flutter.dev/docs/get-started/install. Cannot resolve current version, possibly due to local changes. Reinstall Flutter by following instructions at https://flutter.dev/docs/get-started/install. ! Unknown upstream repository. Reinstall Flutter by following instructions at https://flutter.dev/docs/get-started/install. [√] Windows Version (Installed version of Windows is version 10 or higher) [!] Android toolchain - develop for Android devices (Android SDK version 33.0.1) X cmdline-tools component is missing Run</code>path/to/sdkmanager --install &quot;cmdline-tools;latest&quot;<code>See https://developer.android.com/studio/command-line for more details. X Android license status unknown. Run</code>flutter doctor --android-licenses<code> to accept the SDK licenses. See https://flutter.dev/docs/get-started/install/windows#android-setup for more details. [√] Chrome - develop for the web [√] Android Studio (version 2021.3) [√] VS Code (version 1.80.1) [√] Connected device (2 available) [√] Network resources ! Doctor found issues in 2 categories.</code></p>\n",
        "codigo": [
            "flutter build appbundle",
            "The current Flutter SDK version is 0.0.0-unknown.",
            "Because workmanager 0.5.1 requires Flutter SDK version >=2.5.0 and no versions of workmanager match >0.5.1 <0.6.0, workmanager ^0.5.1 is forbidden. So, because pocket_mentor depends on workmanager ^0.5.1, version solving failed.",
            "flutter upgrade",
            "ProcessException: Process exited abnormally: fatal: no such branch: 'stable' Command: git rev-parse --verify @{upstream}",
            "flutter channel stable",
            "git: fatal: 'origin/stable' is not a commit and a branch 'stable' cannot be created from it Switching channels failed with error code 128.",
            "Path",
            "flutter doctor",
            "Doctor summary (to see all details, run flutter doctor -v): Failed to find the latest git commit date: VersionCheckError: Command exited with code 128: git -c log.showSignature=false log HEAD -n 1 --pretty=format:%ad --date=iso Standard out: Standard error: fatal: ambiguous argument 'HEAD': unknown revision or path not in the working tree. Use '--' to separate paths from revisions, like this: 'git <command> [<revision>...] -- [<file>...]' Returning 1969-12-31 19:00:00.000 instead. [!] Flutter (Channel unknown, 0.0.0-unknown, on Microsoft Windows [Version 10.0.22621.1992], locale en-US) ! Flutter version 0.0.0-unknown on channel unknown at C:\\flutter\\flutter Currently on an unknown channel. Run",
            "to switch to an official channel. If that doesn't fix the issue, reinstall Flutter by following instructions at https://flutter.dev/docs/get-started/install. Cannot resolve current version, possibly due to local changes. Reinstall Flutter by following instructions at https://flutter.dev/docs/get-started/install. ! Unknown upstream repository. Reinstall Flutter by following instructions at https://flutter.dev/docs/get-started/install. [√] Windows Version (Installed version of Windows is version 10 or higher) [!] Android toolchain - develop for Android devices (Android SDK version 33.0.1) X cmdline-tools component is missing Run",
            "See https://developer.android.com/studio/command-line for more details. X Android license status unknown. Run",
            " to accept the SDK licenses. See https://flutter.dev/docs/get-started/install/windows#android-setup for more details. [√] Chrome - develop for the web [√] Android Studio (version 2021.3) [√] VS Code (version 1.80.1) [√] Connected device (2 available) [√] Network resources ! Doctor found issues in 2 categories."
        ]
    },
    {
        "titulo": "Resolving Flutter Exception: &#39;FlutterError (setState() or markNeedsBuild() called during build.&#39;",
        "score": 0,
        "views": 44,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76723137/resolving-flutter-exception-fluttererror-setstate-or-markneedsbuild-calle",
        "conteudo_html": "<p>I am completing Chapter 12 of the <a href=\"https://www.youtube.com/watch?v=VPvVD8t02U8\" rel=\"nofollow noreferrer\">FreeCodeCamp 37 hour Flutter tutorial</a> (timestamp 11:20:59) and I have encountered an Exception that is blocking me from continuing. Can you please assist me in resolving this?</p>\n<p>The Error text:</p>\n<pre><code>Exception has occurred.\nFlutterError (setState() or markNeedsBuild() called during build.\nThis Overlay widget cannot be marked as needing to build because the framework is already in the process of building widgets. A widget can be marked as needing to be built during the build phase only if one of its ancestors is currently building. This exception is allowed because the framework builds parent widgets before children, which means a dirty descendant will always be built. Otherwise, the framework might not visit this widget during this build phase.\nThe widget on which setState() or markNeedsBuild() was called was:\n  Overlay-[LabeledGlobalKey&lt;OverlayState&gt;#f420f]\nThe widget which was currently being built when the offending call was made was:\n  FutureBuilder&lt;FirebaseApp&gt;)\n</code></pre>\n<p>Error occurs on this line of code <code>Navigator.of(context).push(</code></p>\n<p>That line is a apart of this block of code:</p>\n<pre><code>class HomePage extends StatelessWidget {\n  const HomePage({super.key});\n\n@override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Home'),\n      ),\n      body: FutureBuilder(\n        future: Firebase.initializeApp(\n          options: DefaultFirebaseOptions.currentPlatform,\n        ),\n        builder: (context, snapshot) {\n          switch (snapshot.connectionState) {\n            case ConnectionState.done:\n              final user = FirebaseAuth.instance.currentUser;\n              if (user?.emailVerified ?? false) {\n                return const Text('Done');\n              } else {\n                Navigator.of(context).push(\n                  MaterialPageRoute(\n                    builder: (context) =&gt; const VerifyEmailView(),\n                  ),\n                );\n              }\n              return const Text('Done');\n            default:\n              return const Text('Loading...');\n          }\n        },\n      ),\n    );\n  }\n}\n</code></pre>\n<p>I expect the code to display the VerifyEmailView class instead, the HomePage class is displayed with the default text of 'Loading...'</p>\n",
        "codigo": [
            "Exception has occurred.\nFlutterError (setState() or markNeedsBuild() called during build.\nThis Overlay widget cannot be marked as needing to build because the framework is already in the process of building widgets. A widget can be marked as needing to be built during the build phase only if one of its ancestors is currently building. This exception is allowed because the framework builds parent widgets before children, which means a dirty descendant will always be built. Otherwise, the framework might not visit this widget during this build phase.\nThe widget on which setState() or markNeedsBuild() was called was:\n  Overlay-[LabeledGlobalKey<OverlayState>#f420f]\nThe widget which was currently being built when the offending call was made was:\n  FutureBuilder<FirebaseApp>)\n",
            "Navigator.of(context).push(",
            "class HomePage extends StatelessWidget {\n  const HomePage({super.key});\n\n@override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Home'),\n      ),\n      body: FutureBuilder(\n        future: Firebase.initializeApp(\n          options: DefaultFirebaseOptions.currentPlatform,\n        ),\n        builder: (context, snapshot) {\n          switch (snapshot.connectionState) {\n            case ConnectionState.done:\n              final user = FirebaseAuth.instance.currentUser;\n              if (user?.emailVerified ?? false) {\n                return const Text('Done');\n              } else {\n                Navigator.of(context).push(\n                  MaterialPageRoute(\n                    builder: (context) => const VerifyEmailView(),\n                  ),\n                );\n              }\n              return const Text('Done');\n            default:\n              return const Text('Loading...');\n          }\n        },\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Issue with the supabase initalization before calling Supabase.instance during unit testing",
        "score": 1,
        "views": 679,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "mocking",
            "supabase"
        ],
        "link": "https://stackoverflow.com/questions/76713747/issue-with-the-supabase-initalization-before-calling-supabase-instance-during-un",
        "conteudo_html": "<p>I'm trying to do unit test on one of the functions in a cubit. The error says that Supabase was not initalized before calling Supabase.instance.</p>\n<p>Supabase is used for authentication via google OAuth, access token and storing of data in db.</p>\n<p>This is the testing code.</p>\n<pre><code>void main() {\n  late MockTeamHomeRepository mockTeamHomeRepository;\n  late TeamHomeCubit teamHomeCubit;\n\n  group(&quot;getTeamHomeData()&quot;, () {\n    setUp(() async {\n      mockTeamHomeRepository = MockTeamHomeRepository();\n      teamHomeCubit = TeamHomeCubit(AuthRepository(Supabase.instance),\n          TeamRepository(), UserRepository(Supabase.instance));\n    });\n\n    blocTest&lt;TeamHomeCubit, TeamHomeState&gt;(\n      'Cubit should emit the state that changes isLeading to true.',\n      build: () =&gt; teamHomeCubit,\n      act: (cubit) =&gt; cubit.setIsLeadingState(true),\n      expect: () =&gt; [const TeamHomeState(isLeading: true)],\n    );\n  });\n}\n</code></pre>\n<pre><code>_AssertionError ('package:supabase_flutter/src/supabase.dart': Failed assertion: line 32 pos 7: '_instance._initialized': You must initialize the supabase instance before calling Supabase.instance)\n</code></pre>\n<p>The cubit requires repositories that require the Supabase.instance, so I could not start testing any codes thus far.</p>\n<p>I've tried to create a fake Supabase similar to this, but failed to integrate it with my testing code. So, the same error persists.</p>\n<pre><code>import 'package:flutter_test/flutter_test.dart';\nimport 'package:supabase/supabase.dart';\n\nvoid main() {\n  test('Fake Supabase', () async {\n    final supabase = FakeSupabase();\n\n    final response = await supabase.auth.signInWithPassword(\n      email: 'test@gmail.com',\n      password: 'passsword',\n    );\n    expect(response.session, isA&lt;Session&gt;());\n  });\n}\n\nclass FakeSupabase extends Fake implements SupabaseClient {\n  @override\n  get auth =&gt; FakeGotrue();\n}\n\nclass FakeGotrue extends Fake implements GoTrueClient {\n  final _user = User(\n    id: 'id',\n    appMetadata: {},\n    userMetadata: {},\n    aud: 'aud',\n    createdAt: DateTime.now().toIso8601String(),\n  );\n  @override\n  Future&lt;AuthResponse&gt; signInWithPassword(\n      {String? email,\n      String? phone,\n      required String password,\n      String? captchaToken}) async {\n    return AuthResponse(\n      session: Session(\n        accessToken: '',\n        tokenType: '',\n        user: _user,\n      ),\n      user: _user,\n    );\n  }\n}\n</code></pre>\n",
        "codigo": [
            "void main() {\n  late MockTeamHomeRepository mockTeamHomeRepository;\n  late TeamHomeCubit teamHomeCubit;\n\n  group(\"getTeamHomeData()\", () {\n    setUp(() async {\n      mockTeamHomeRepository = MockTeamHomeRepository();\n      teamHomeCubit = TeamHomeCubit(AuthRepository(Supabase.instance),\n          TeamRepository(), UserRepository(Supabase.instance));\n    });\n\n    blocTest<TeamHomeCubit, TeamHomeState>(\n      'Cubit should emit the state that changes isLeading to true.',\n      build: () => teamHomeCubit,\n      act: (cubit) => cubit.setIsLeadingState(true),\n      expect: () => [const TeamHomeState(isLeading: true)],\n    );\n  });\n}\n",
            "_AssertionError ('package:supabase_flutter/src/supabase.dart': Failed assertion: line 32 pos 7: '_instance._initialized': You must initialize the supabase instance before calling Supabase.instance)\n",
            "import 'package:flutter_test/flutter_test.dart';\nimport 'package:supabase/supabase.dart';\n\nvoid main() {\n  test('Fake Supabase', () async {\n    final supabase = FakeSupabase();\n\n    final response = await supabase.auth.signInWithPassword(\n      email: 'test@gmail.com',\n      password: 'passsword',\n    );\n    expect(response.session, isA<Session>());\n  });\n}\n\nclass FakeSupabase extends Fake implements SupabaseClient {\n  @override\n  get auth => FakeGotrue();\n}\n\nclass FakeGotrue extends Fake implements GoTrueClient {\n  final _user = User(\n    id: 'id',\n    appMetadata: {},\n    userMetadata: {},\n    aud: 'aud',\n    createdAt: DateTime.now().toIso8601String(),\n  );\n  @override\n  Future<AuthResponse> signInWithPassword(\n      {String? email,\n      String? phone,\n      required String password,\n      String? captchaToken}) async {\n    return AuthResponse(\n      session: Session(\n        accessToken: '',\n        tokenType: '',\n        user: _user,\n      ),\n      user: _user,\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Flutter integration tests - how to ignore exceptions thrown inside `Timer` callbacks?",
        "score": 2,
        "views": 2654,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "dart-async",
            "flutter-integration-test"
        ],
        "link": "https://stackoverflow.com/questions/76711592/flutter-integration-tests-how-to-ignore-exceptions-thrown-inside-timer-callb",
        "conteudo_html": "<p>I'm trying to write a test for an app which isn't well-implemented, and has an exception that is thrown inside a <code>Timer</code> callback. I'd like to ignore that exception inside my integration test, because I'm not interested in that exception.</p>\n<p>That's a minimal example of the problem I'm having:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:async';\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:integration_test/integration_test.dart';\n\nvoid main() {\n  IntegrationTestWidgetsFlutterBinding.ensureInitialized();\n\n  testWidgets(\n    'exception test',\n    (tester) async {\n      await tester.pumpWidget(\n        MaterialApp(\n          home: Scaffold(\n            body: Center(\n              child: Text('Hello, World!'),\n            ),\n          ),\n        ),\n      );\n\n      // Let's assume this Timer is created inside the app, and I do not\n      // want to change it.\n      Timer.periodic(\n        const Duration(seconds: 2),\n        (_) =&gt; throw Exception('thrown on purpose'),\n      );\n\n      await Future&lt;void&gt;.delayed(Duration(seconds: 3));\n  );\n}\n</code></pre>\n<p>Running the above code with <code>flutter test integration_test/exception_test.dart</code> gives me:</p>\n<pre><code>══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════\nThe following _Exception was thrown running a test:\nException: thrown on purpose\n\nWhen the exception was thrown, this was the stack:\n#0      main.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (file:///Users/bartek/example_project/integration_test/exception_test.dart:31:16)\n#16     _RawReceivePort._handleMessage (dart:isolate-patch/isolate_patch.dart:189:12)\n(elided 15 frames from class _Timer, dart:async, and package:stack_trace)\n\nThe test description was:\n  exception test\n════════════════════════════════════════════════════════════════════════════════════════════════════\n00:30 +0 -1: exception test [E]\n  Test failed. See exception logs above.\n  The test description was: exception test\n</code></pre>\n<p>Now, I'd like to ignore that exception. I tried doing 2 things:</p>\n<ul>\n<li>changing the value of <a href=\"https://api.flutter.dev/flutter/foundation/FlutterError/onError.html\" rel=\"nofollow noreferrer\"><code>FlutterError.onError</code></a></li>\n<li>using <a href=\"https://api.flutter.dev/flutter/flutter_test/WidgetTester/takeException.html\" rel=\"nofollow noreferrer\"><code>WidgetTester.takeException()</code></a></li>\n</ul>\n<p>but I have had no success.</p>\n<p>I tried resetting the callback (remembering to restore it at the end of the test):</p>\n<pre><code>void main() {\n  IntegrationTestWidgetsFlutterBinding.ensureInitialized();\n\n  testWidgets(\n    'exception test',\n    (tester) async {\n      final oldCallback = FlutterError.onError;\n      FlutterError.onError = (details) { /* do nothing on purpose */ };\n\n      await tester.pumpWidget(\n        MaterialApp(\n          home: Scaffold(\n            body: Center(\n              child: Text('Hello, World!'),\n            ),\n          ),\n        ),\n      );\n\n      Timer.periodic(\n        const Duration(seconds: 2),\n        (_) =&gt; throw Exception('thrown on purpose'),\n      );\n\n      await Future&lt;void&gt;.delayed(Duration(seconds: 3));\n      FlutterError.onError = oldCallback;\n    },\n  );\n}\n\n</code></pre>\n<p>but the internal assertion is still violated:</p>\n<pre><code>  'package:flutter_test/src/binding.dart': Failed assertion: line 954 pos 14: '_pendingExceptionDetails != null': A test overrode FlutterError.onError but either failed to return it to its original state, or had unexpected additional errors that it could not handle. Typically, this is caused by using expect() before restoring FlutterError.onError.\n  dart:core                                                                                                              _AssertionError._throwNew\n  package:flutter_test/src/binding.dart 954:14                                                                           TestWidgetsFlutterBinding._runTest.handleUncaughtError\n  package:flutter_test/src/binding.dart 959:9                                                                            TestWidgetsFlutterBinding._runTest.&lt;fn&gt;\n</code></pre>\n<p>I also tried doing:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>FlutterError.onError = (details) {\n  tester.takeException();\n  oldCallback!(details);\n};\n</code></pre>\n<p>but this, understandably, gives the original error.</p>\n",
        "codigo": [
            "Timer",
            "import 'dart:async';\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:integration_test/integration_test.dart';\n\nvoid main() {\n  IntegrationTestWidgetsFlutterBinding.ensureInitialized();\n\n  testWidgets(\n    'exception test',\n    (tester) async {\n      await tester.pumpWidget(\n        MaterialApp(\n          home: Scaffold(\n            body: Center(\n              child: Text('Hello, World!'),\n            ),\n          ),\n        ),\n      );\n\n      // Let's assume this Timer is created inside the app, and I do not\n      // want to change it.\n      Timer.periodic(\n        const Duration(seconds: 2),\n        (_) => throw Exception('thrown on purpose'),\n      );\n\n      await Future<void>.delayed(Duration(seconds: 3));\n  );\n}\n",
            "flutter test integration_test/exception_test.dart",
            "══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════\nThe following _Exception was thrown running a test:\nException: thrown on purpose\n\nWhen the exception was thrown, this was the stack:\n#0      main.<anonymous closure>.<anonymous closure> (file:///Users/bartek/example_project/integration_test/exception_test.dart:31:16)\n#16     _RawReceivePort._handleMessage (dart:isolate-patch/isolate_patch.dart:189:12)\n(elided 15 frames from class _Timer, dart:async, and package:stack_trace)\n\nThe test description was:\n  exception test\n════════════════════════════════════════════════════════════════════════════════════════════════════\n00:30 +0 -1: exception test [E]\n  Test failed. See exception logs above.\n  The test description was: exception test\n",
            "FlutterError.onError",
            "WidgetTester.takeException()",
            "void main() {\n  IntegrationTestWidgetsFlutterBinding.ensureInitialized();\n\n  testWidgets(\n    'exception test',\n    (tester) async {\n      final oldCallback = FlutterError.onError;\n      FlutterError.onError = (details) { /* do nothing on purpose */ };\n\n      await tester.pumpWidget(\n        MaterialApp(\n          home: Scaffold(\n            body: Center(\n              child: Text('Hello, World!'),\n            ),\n          ),\n        ),\n      );\n\n      Timer.periodic(\n        const Duration(seconds: 2),\n        (_) => throw Exception('thrown on purpose'),\n      );\n\n      await Future<void>.delayed(Duration(seconds: 3));\n      FlutterError.onError = oldCallback;\n    },\n  );\n}\n\n",
            "  'package:flutter_test/src/binding.dart': Failed assertion: line 954 pos 14: '_pendingExceptionDetails != null': A test overrode FlutterError.onError but either failed to return it to its original state, or had unexpected additional errors that it could not handle. Typically, this is caused by using expect() before restoring FlutterError.onError.\n  dart:core                                                                                                              _AssertionError._throwNew\n  package:flutter_test/src/binding.dart 954:14                                                                           TestWidgetsFlutterBinding._runTest.handleUncaughtError\n  package:flutter_test/src/binding.dart 959:9                                                                            TestWidgetsFlutterBinding._runTest.<fn>\n",
            "FlutterError.onError = (details) {\n  tester.takeException();\n  oldCallback!(details);\n};\n"
        ]
    },
    {
        "titulo": "Dart - List of generic subclasses",
        "score": 0,
        "views": 64,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76700775/dart-list-of-generic-subclasses",
        "conteudo_html": "<p>I would like to know if there is a way to create a list of references of subclasses and be able to construct them later.</p>\n<p>Example :</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter_test/flutter_test.dart';\n\nabstract class Animal{\n  abstract String sound;\n}\n\nclass Dog extends Animal{\n  @override\n  String sound = &quot;woaf&quot;;\n}\n\nclass Cat extends Animal{\n  @override\n  String sound = &quot;meow&quot;;\n}\n\nvoid main() {\n  test('Subclasses', () {\n    final l = [Dog, Cat];\n    l.forEach((E) { \n      print(E().sound); // doesn't work\n    });\n  });\n}\n</code></pre>\n",
        "codigo": [
            "import 'package:flutter_test/flutter_test.dart';\n\nabstract class Animal{\n  abstract String sound;\n}\n\nclass Dog extends Animal{\n  @override\n  String sound = \"woaf\";\n}\n\nclass Cat extends Animal{\n  @override\n  String sound = \"meow\";\n}\n\nvoid main() {\n  test('Subclasses', () {\n    final l = [Dog, Cat];\n    l.forEach((E) { \n      print(E().sound); // doesn't work\n    });\n  });\n}\n"
        ]
    },
    {
        "titulo": "Firebase Email Verification working but User emailVerified is still false",
        "score": 0,
        "views": 1035,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/76698267/firebase-email-verification-working-but-user-emailverified-is-still-false",
        "conteudo_html": "<p>I have a Flutter app where I let users sign up with only their email address. It should of course be verified. When sending the request the mail arrives and the link works. It even says &quot;Your email has been verified&quot;. For some reason the user in the app is still not registered as verified though.</p>\n<pre><code>class HomeScreen extends StatelessWidget {\n  const HomeScreen({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return StreamBuilder(\n      stream: AuthService().userStream,\n      builder: (context, snapshot) {\n        if (snapshot.connectionState == ConnectionState.waiting) {\n          return const LoadingScreen();\n        }\n        if (snapshot.hasError) {\n          return const Scaffold(\n            body: Padding(\n              padding: EdgeInsets.all(10),\n              child: ErrorScreen(),\n            ),\n          );\n        } else if (snapshot.hasData) {\n          if (snapshot.data!.emailVerified) {\n            return const OverviewScreen();\n          }\n          return Scaffold(\n            body: Center(\n                child: Column(\n              children: [\n                const Spacer(),\n                const Spacer(),\n                const Text('Verify yourself'),\n                const Spacer(),\n                ElevatedButton(\n                  onPressed: () {\n                    AuthService().user!.sendEmailVerification();\n                  },\n                  child: const Text('Resend verification email'),\n                ),\n                const Spacer(),\n              ],\n            )),\n          );\n        } else {\n          return const RegisterScreen();\n        }\n      },\n    );\n  }\n}\n</code></pre>\n<p>AuthService().userStream is just</p>\n<pre><code>FirebaseAuth.instance.authStateChanges();\n</code></pre>\n<p>And AuthService().user is just</p>\n<pre><code>FirebaseAuth.instance.currentUser;\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/41024205/firebase-email-verification-not-working-properly\">This question here</a> tackles a similar problem, but even after restarting the app, the user's still not verified. Using the StreamBuilder should prevent manual reloading anyway.</p>\n",
        "codigo": [
            "class HomeScreen extends StatelessWidget {\n  const HomeScreen({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return StreamBuilder(\n      stream: AuthService().userStream,\n      builder: (context, snapshot) {\n        if (snapshot.connectionState == ConnectionState.waiting) {\n          return const LoadingScreen();\n        }\n        if (snapshot.hasError) {\n          return const Scaffold(\n            body: Padding(\n              padding: EdgeInsets.all(10),\n              child: ErrorScreen(),\n            ),\n          );\n        } else if (snapshot.hasData) {\n          if (snapshot.data!.emailVerified) {\n            return const OverviewScreen();\n          }\n          return Scaffold(\n            body: Center(\n                child: Column(\n              children: [\n                const Spacer(),\n                const Spacer(),\n                const Text('Verify yourself'),\n                const Spacer(),\n                ElevatedButton(\n                  onPressed: () {\n                    AuthService().user!.sendEmailVerification();\n                  },\n                  child: const Text('Resend verification email'),\n                ),\n                const Spacer(),\n              ],\n            )),\n          );\n        } else {\n          return const RegisterScreen();\n        }\n      },\n    );\n  }\n}\n",
            "FirebaseAuth.instance.authStateChanges();\n",
            "FirebaseAuth.instance.currentUser;\n"
        ]
    },
    {
        "titulo": "Widget testing Error: The getter &#39;mounted&#39; isn&#39;t defined for the class &#39;BuildContext&#39;",
        "score": 1,
        "views": 106,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "widget-test-flutter"
        ],
        "link": "https://stackoverflow.com/questions/76693285/widget-testing-error-the-getter-mounted-isnt-defined-for-the-class-buildcon",
        "conteudo_html": "<p>I am doing widget testing but I got <code>Error: The getter 'mounted' isn't defined for the class 'BuildContext'.</code>. How can I fix this error?</p>\n<p>fvm flutter --version\nFlutter 3.7.12 • channel stable • <a href=\"https://github.com/flutter/flutter.git\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter.git</a>\nFramework • revision 4d9e56e694 (3 months ago) • 2023-04-17 21:47:46 -0400\nEngine • revision 1a65d409c7\nTools • Dart 2.19.6 • DevTools 2.20.1</p>\n<pre><code>void main() {\n  setupLocator();\n\n  const testWidget = MediaQuery(\n    data: MediaQueryData(),\n    child: MaterialApp(\n      home: CommitteeHubView(),\n    ),\n  );\n  testWidgets(&quot;CommitteeHubView&quot;, (WidgetTester tester) async {\n    await tester.pumpWidget(testWidget);\n\n    expect(find.text('Committee Hub'), findsOneWidget);\n  });\n}\n</code></pre>\n<p>: Error: The getter 'mounted' isn't defined for the class 'BuildContext'.\nrm.dart:2127</p>\n<ul>\n<li><p>'BuildContext' is from 'package:flutter/src/widgets/framework.dart' ('../../../../flutter/packages/flutter/lib/src/widgets/framework.dart').\nframework.dart:1\nTry correcting the name to the name of an existing getter, or defining a getter or field named 'mounted'.</p>\n<pre><code>    _contextSet.last.mounted ? _contextSet.last.findRenderObject() : null;\n                     ^^^^^^^\n</code></pre>\n</li>\n</ul>\n<p>Failed to load &quot;/Users/jaehyuckchoi/Desktop/resvu/untitled folder/communitilink_flutter_app/test/view/committee_hub/committee_hub_view_test.dart&quot;: Compilation failed for testPath=/Users/jaehyuckchoi/Desktop/resvu/untitled folder/communitilink_flutter_app/test/view/committee_hub/committee_hub_view_test.dart</p>\n<p>✖ loading /Users/jaehyuckchoi/Desktop/resvu/untitled folder/communitilink_flutter_app/test/view/committee_hub/committee_hub_view_test.dart\nExited (1)</p>\n",
        "codigo": [
            "Error: The getter 'mounted' isn't defined for the class 'BuildContext'.",
            "void main() {\n  setupLocator();\n\n  const testWidget = MediaQuery(\n    data: MediaQueryData(),\n    child: MaterialApp(\n      home: CommitteeHubView(),\n    ),\n  );\n  testWidgets(\"CommitteeHubView\", (WidgetTester tester) async {\n    await tester.pumpWidget(testWidget);\n\n    expect(find.text('Committee Hub'), findsOneWidget);\n  });\n}\n",
            "    _contextSet.last.mounted ? _contextSet.last.findRenderObject() : null;\n                     ^^^^^^^\n"
        ]
    },
    {
        "titulo": "GRPC, dart lang, How to detect failure connection, succesfull connection, lost connection from the server",
        "score": 1,
        "views": 249,
        "respostas": 0,
        "tags": [
            "dart",
            "grpc",
            "grpc-dart"
        ],
        "link": "https://stackoverflow.com/questions/76692986/grpc-dart-lang-how-to-detect-failure-connection-succesfull-connection-lost-c",
        "conteudo_html": "<p>Hi I wondering how to detect connection from the server. How to solve it. As far as i know channel is an abstraction which managing services ? Do i understand it right? So I can be able to ask channel about connection to server exist. I am trying but I can't see method which returns Connection State to the server. I would think this should be implemented into the grpc library. But I can't see or I am blindness or I don' understand idea of grpc protocol. Eventually how to implement this functionality ?\nMy example code:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:grpc/grpc.dart';\n\nclass GrpcManager {\n  late ClientChannel channel;\n  //late MetadaztaClient stub;\n  Future&lt;void&gt; connect(List&lt;String&gt; args) async {\n    channel = ClientChannel(\n      '127.0.0.1',\n      port: 8080,\n      options: const ChannelOptions(\n        credentials: ChannelCredentials.insecure(),\n        keepAlive: ClientKeepAliveOptions(\n          pingInterval: Duration(seconds: 1),\n          timeout: Duration(seconds: 10),\n          permitWithoutCalls: true,\n        ),\n      ),\n    );\n    // stub = MetadataClient(channel);\n    final clientConnection = await channel.getConnection(); // I expected method like server connection or something similar\n    if (clientConnection.) {}\n    await channel.shutdown();\n  }\n}\n</code></pre>\n<p>I was expecting that grpc will have method which return state of connection to the ip server maybe.</p>\n",
        "codigo": [
            "import 'package:grpc/grpc.dart';\n\nclass GrpcManager {\n  late ClientChannel channel;\n  //late MetadaztaClient stub;\n  Future<void> connect(List<String> args) async {\n    channel = ClientChannel(\n      '127.0.0.1',\n      port: 8080,\n      options: const ChannelOptions(\n        credentials: ChannelCredentials.insecure(),\n        keepAlive: ClientKeepAliveOptions(\n          pingInterval: Duration(seconds: 1),\n          timeout: Duration(seconds: 10),\n          permitWithoutCalls: true,\n        ),\n      ),\n    );\n    // stub = MetadataClient(channel);\n    final clientConnection = await channel.getConnection(); // I expected method like server connection or something similar\n    if (clientConnection.) {}\n    await channel.shutdown();\n  }\n}\n"
        ]
    },
    {
        "titulo": "Get Flutter BLoC Current State - Flutter unit test",
        "score": 0,
        "views": 889,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "bloc",
            "flutter-bloc"
        ],
        "link": "https://stackoverflow.com/questions/76663426/get-flutter-bloc-current-state-flutter-unit-test",
        "conteudo_html": "<p>Is possible to get current state in the unit test code base</p>\n<p>Test Code</p>\n<pre><code>group('registerWithFacebookEvent', () {\n    const response =\n        RegisterUser(name: &quot;Dolapo Olakanmi&quot;, message: &quot;Successful&quot;);\n    test(\n        'should validate emit sequence when registerWithFacebook usecase is successful',\n        () async {\n      when(registerUserWithFacebook(const NoParam()))\n          .thenAnswer((_) async =&gt; const Right(response));\n\n      const expected = [Success(response: response)];\n      expectLater(bloc.stream, emitsInOrder(expected));\n      bloc.add(RegisterUserWithFacebookEvent());\n      expect(bloc.state, expected.first);\n    });\n  });\n</code></pre>\n<p>Prod Code</p>\n<pre><code>if (event is RegisterUserWithFacebookEvent) {\n   final failureOrSuccess = await registerUserWithFacebook(const NoParam());\n   emit(failureOrSuccess.fold(\n     (l) =&gt; throw UnimplementedError(), (r) =&gt; Success(response: r)));\n}\n</code></pre>\n<p>The test fails because the line <code>expect(bloc.state, expected.first)</code> fails and the reason is the bloc.state return the initial state which is in my case:</p>\n<pre><code>Expected: Success:&lt;Success()&gt;\n  Actual: RegisterUserInitial:&lt;RegisterUserInitial()&gt;\n</code></pre>\n",
        "codigo": [
            "group('registerWithFacebookEvent', () {\n    const response =\n        RegisterUser(name: \"Dolapo Olakanmi\", message: \"Successful\");\n    test(\n        'should validate emit sequence when registerWithFacebook usecase is successful',\n        () async {\n      when(registerUserWithFacebook(const NoParam()))\n          .thenAnswer((_) async => const Right(response));\n\n      const expected = [Success(response: response)];\n      expectLater(bloc.stream, emitsInOrder(expected));\n      bloc.add(RegisterUserWithFacebookEvent());\n      expect(bloc.state, expected.first);\n    });\n  });\n",
            "if (event is RegisterUserWithFacebookEvent) {\n   final failureOrSuccess = await registerUserWithFacebook(const NoParam());\n   emit(failureOrSuccess.fold(\n     (l) => throw UnimplementedError(), (r) => Success(response: r)));\n}\n",
            "expect(bloc.state, expected.first)",
            "Expected: Success:<Success()>\n  Actual: RegisterUserInitial:<RegisterUserInitial()>\n"
        ]
    },
    {
        "titulo": "ListView dosen&#39;t render widget when using riverpod provider",
        "score": 0,
        "views": 414,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "provider",
            "riverpod"
        ],
        "link": "https://stackoverflow.com/questions/76656611/listview-dosent-render-widget-when-using-riverpod-provider",
        "conteudo_html": "<p>I writing an app using flutter that add item to list (using simpleDialog) and show thus items in ListView when you add on.\nThe problem is that the list only update when I move to another page and them get to the list page, so the data is there. I just don't understand how to make the list to re-render...</p>\n<p>This is the provider I declare</p>\n<pre><code>@riverpod\nList&lt;Task&gt; tasks(TasksRef ref) =&gt; [];\n</code></pre>\n<p>This is my widget how preset the list (tasks)</p>\n<pre><code>class TasksScreen extends StatefulHookConsumerWidget {\n  const TasksScreen({super.key});\n\n  @override\n  ConsumerState&lt;TasksScreen&gt; createState() =&gt; _TasksScreenState();\n}\n\nclass _TasksScreenState extends ConsumerState&lt;TasksScreen&gt; {\n  @override\n  Widget build(BuildContext context) {\n    List&lt;model.Task&gt; tasks = ref.read(tasksProvider);\n    List&lt;Task&gt; list = [];\n    list = [...test(tasks)];\n\n    return ProviderScope(\n        child: Scaffold(\n      body: ListView.builder(\n        itemBuilder: (context, index) {\n          return Task(task: ref.read(tasksProvider)[index]);\n        },\n        itemCount: ref.read(tasksProvider).length,\n      ),\n    ));\n  }\n\n  List&lt;Task&gt; test(List&lt;model.Task&gt; list) {\n    List&lt;Task&gt; tasks = [];\n\n    for (var i = 0; i &lt; list.length; i++) {\n      tasks.add(Task(task: list[i]));\n    }\n\n    return tasks;\n  }\n}\n</code></pre>\n<p>Thanks a lot for helpers !</p>\n<p>I expecting that the changing of the provider lead to the list that render the page and show the list</p>\n",
        "codigo": [
            "@riverpod\nList<Task> tasks(TasksRef ref) => [];\n",
            "class TasksScreen extends StatefulHookConsumerWidget {\n  const TasksScreen({super.key});\n\n  @override\n  ConsumerState<TasksScreen> createState() => _TasksScreenState();\n}\n\nclass _TasksScreenState extends ConsumerState<TasksScreen> {\n  @override\n  Widget build(BuildContext context) {\n    List<model.Task> tasks = ref.read(tasksProvider);\n    List<Task> list = [];\n    list = [...test(tasks)];\n\n    return ProviderScope(\n        child: Scaffold(\n      body: ListView.builder(\n        itemBuilder: (context, index) {\n          return Task(task: ref.read(tasksProvider)[index]);\n        },\n        itemCount: ref.read(tasksProvider).length,\n      ),\n    ));\n  }\n\n  List<Task> test(List<model.Task> list) {\n    List<Task> tasks = [];\n\n    for (var i = 0; i < list.length; i++) {\n      tasks.add(Task(task: list[i]));\n    }\n\n    return tasks;\n  }\n}\n"
        ]
    },
    {
        "titulo": "Error: MissingPluginException(No implementation found for method resync on channel razorpay_flutter)",
        "score": 0,
        "views": 147,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "razorpay"
        ],
        "link": "https://stackoverflow.com/questions/76646919/error-missingpluginexceptionno-implementation-found-for-method-resync-on-chann",
        "conteudo_html": "<p>Trying to integrate RazorPay with <strong>flutter web</strong>. But encountering the below issue.\n<a href=\"https://i.sstatic.net/0txfp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/0txfp.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is the code</p>\n<pre><code>import 'dart:convert';\nimport 'dart:io';\n\nimport 'package:flutter/material.dart';\nimport 'package:razorpay_flutter/razorpay_flutter.dart';\nimport 'package:http/http.dart' as http;\nimport 'razor_credentials.dart' as razorCredentials;\n\n/*void main() {\n  HttpOverrides.global = MyHttpOverrides();\n\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Razorpay Demo',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: const MyHomePage(),\n    );\n  }\n}*/\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({Key? key}) : super(key: key);\n\n  @override\n  State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  final _razorpay = Razorpay();\n\n  @override\n  void initState() {\n    WidgetsBinding.instance.addPostFrameCallback((timeStamp) {\n      _razorpay.on(Razorpay.EVENT_PAYMENT_SUCCESS, _handlePaymentSuccess);\n      _razorpay.on(Razorpay.EVENT_PAYMENT_ERROR, _handlePaymentError);\n      _razorpay.on(Razorpay.EVENT_EXTERNAL_WALLET, _handleExternalWallet);\n    });\n    super.initState();\n  }\n\n  void _handlePaymentSuccess(PaymentSuccessResponse response) {\n    // Do something when payment succeeds\n    print(response);\n    verifySignature(\n      signature: response.signature,\n      paymentId: response.paymentId,\n      orderId: response.orderId,\n    );\n  }\n\n  void _handlePaymentError(PaymentFailureResponse response) {\n    print(response);\n    // Do something when payment fails\n    ScaffoldMessenger.of(context).showSnackBar(\n      SnackBar(\n        content: Text(response.message ?? ''),\n      ),\n    );\n  }\n\n  void _handleExternalWallet(ExternalWalletResponse response) {\n    print(response);\n    // Do something when an external wallet is selected\n    ScaffoldMessenger.of(context).showSnackBar(\n      SnackBar(\n        content: Text(response.walletName ?? ''),\n      ),\n    );\n  }\n\n// create order\n  void createOrder() async {\n    String username = razorCredentials.keyId;\n    String password = razorCredentials.keySecret;\n    String basicAuth =\n        'Basic ${base64Encode(utf8.encode('$username:$password'))}';\n\n    Map&lt;String, dynamic&gt; body = {\n      &quot;amount&quot;: 100,\n      &quot;currency&quot;: &quot;INR&quot;,\n      &quot;receipt&quot;: &quot;rcptid_11&quot;\n    };\n    var res = await http.post(\n      Uri.https(\n          &quot;api.razorpay.com&quot;, &quot;v1/orders&quot;), //https://api.razorpay.com/v1/orders\n      headers: &lt;String, String&gt;{\n        &quot;Content-Type&quot;: &quot;application/json&quot;,\n        'authorization': basicAuth,\n      },\n      body: jsonEncode(body),\n    );\n\n    if (res.statusCode == 200) {\n      openGateway(jsonDecode(res.body)['id']);\n    }\n    print(res.body);\n  }\n\n  openGateway(String orderId) {\n    var options = {\n      'key': razorCredentials.keyId,\n      'amount': 100, //in the smallest currency sub-unit.\n      'name': 'Aegle Link Solutions',\n      'order_id': orderId, // Generate order_id using Orders API\n      'description': 'Fine T-Shirt',\n      'timeout': 60 * 5, // in seconds // 5 minutes\n      'prefill': {\n        'contact': '9123456789',\n        'email': 'ary@example.com',\n      }\n    };\n    _razorpay.open(options);\n  }\n\n  verifySignature({\n    String? signature,\n    String? paymentId,\n    String? orderId,\n  }) async {\n    Map&lt;String, dynamic&gt; body = {\n      'razorpay_signature': signature,\n      'razorpay_payment_id': paymentId,\n      'razorpay_order_id': orderId,\n    };\n\n    var parts = [];\n    body.forEach((key, value) {\n      parts.add('${Uri.encodeQueryComponent(key)}='\n          '${Uri.encodeQueryComponent(value)}');\n    });\n    var formData = parts.join('&amp;');\n    var res = await http.post(\n      Uri.https(\n        &quot;10.0.2.2&quot;, // my ip address , localhost\n        &quot;razorpay_signature_verify.php&quot;,\n      ),\n      headers: {\n        &quot;Content-Type&quot;: &quot;application/x-www-form-urlencoded&quot;, // urlencoded\n      },\n      body: formData,\n    );\n\n    print(res.body);\n    if (res.statusCode == 200) {\n      ScaffoldMessenger.of(context).showSnackBar(\n        SnackBar(\n          content: Text(res.body),\n        ),\n      );\n    }\n  }\n\n  @override\n  void dispose() {\n    _razorpay.clear(); // Removes all listeners\n\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text(&quot;Razorpay Demo&quot;),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            ElevatedButton(\n              onPressed: () {\n                createOrder();\n              },\n              child: const Text(&quot;Pay Rs.100&quot;),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass MyHttpOverrides extends HttpOverrides {\n  @override\n  HttpClient createHttpClient(SecurityContext? context) {\n    return super.createHttpClient(context)\n      ..badCertificateCallback =\n          (X509Certificate cert, String host, int port) =&gt; true;\n  }\n}\n</code></pre>\n<p>Tried to restarting the browser,laptop and added &quot;proguard-rules.pro&quot; in Android-&gt;app folder\n<a href=\"https://i.sstatic.net/ZK8F4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/ZK8F4.png\" alt=\"enter image description here\" /></a></p>\n<p>and added build types in build.gradle\n<a href=\"https://i.sstatic.net/lHKmO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/lHKmO.png\" alt=\"enter image description here\" /></a></p>\n<p>Any ideas how to proceed with this? Do I have to create an another project and implement again? Your ideas will be so much helpful!</p>\n",
        "codigo": [
            "import 'dart:convert';\nimport 'dart:io';\n\nimport 'package:flutter/material.dart';\nimport 'package:razorpay_flutter/razorpay_flutter.dart';\nimport 'package:http/http.dart' as http;\nimport 'razor_credentials.dart' as razorCredentials;\n\n/*void main() {\n  HttpOverrides.global = MyHttpOverrides();\n\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Razorpay Demo',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: const MyHomePage(),\n    );\n  }\n}*/\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({Key? key}) : super(key: key);\n\n  @override\n  State<MyHomePage> createState() => _MyHomePageState();\n}\n\nclass _MyHomePageState extends State<MyHomePage> {\n  final _razorpay = Razorpay();\n\n  @override\n  void initState() {\n    WidgetsBinding.instance.addPostFrameCallback((timeStamp) {\n      _razorpay.on(Razorpay.EVENT_PAYMENT_SUCCESS, _handlePaymentSuccess);\n      _razorpay.on(Razorpay.EVENT_PAYMENT_ERROR, _handlePaymentError);\n      _razorpay.on(Razorpay.EVENT_EXTERNAL_WALLET, _handleExternalWallet);\n    });\n    super.initState();\n  }\n\n  void _handlePaymentSuccess(PaymentSuccessResponse response) {\n    // Do something when payment succeeds\n    print(response);\n    verifySignature(\n      signature: response.signature,\n      paymentId: response.paymentId,\n      orderId: response.orderId,\n    );\n  }\n\n  void _handlePaymentError(PaymentFailureResponse response) {\n    print(response);\n    // Do something when payment fails\n    ScaffoldMessenger.of(context).showSnackBar(\n      SnackBar(\n        content: Text(response.message ?? ''),\n      ),\n    );\n  }\n\n  void _handleExternalWallet(ExternalWalletResponse response) {\n    print(response);\n    // Do something when an external wallet is selected\n    ScaffoldMessenger.of(context).showSnackBar(\n      SnackBar(\n        content: Text(response.walletName ?? ''),\n      ),\n    );\n  }\n\n// create order\n  void createOrder() async {\n    String username = razorCredentials.keyId;\n    String password = razorCredentials.keySecret;\n    String basicAuth =\n        'Basic ${base64Encode(utf8.encode('$username:$password'))}';\n\n    Map<String, dynamic> body = {\n      \"amount\": 100,\n      \"currency\": \"INR\",\n      \"receipt\": \"rcptid_11\"\n    };\n    var res = await http.post(\n      Uri.https(\n          \"api.razorpay.com\", \"v1/orders\"), //https://api.razorpay.com/v1/orders\n      headers: <String, String>{\n        \"Content-Type\": \"application/json\",\n        'authorization': basicAuth,\n      },\n      body: jsonEncode(body),\n    );\n\n    if (res.statusCode == 200) {\n      openGateway(jsonDecode(res.body)['id']);\n    }\n    print(res.body);\n  }\n\n  openGateway(String orderId) {\n    var options = {\n      'key': razorCredentials.keyId,\n      'amount': 100, //in the smallest currency sub-unit.\n      'name': 'Aegle Link Solutions',\n      'order_id': orderId, // Generate order_id using Orders API\n      'description': 'Fine T-Shirt',\n      'timeout': 60 * 5, // in seconds // 5 minutes\n      'prefill': {\n        'contact': '9123456789',\n        'email': 'ary@example.com',\n      }\n    };\n    _razorpay.open(options);\n  }\n\n  verifySignature({\n    String? signature,\n    String? paymentId,\n    String? orderId,\n  }) async {\n    Map<String, dynamic> body = {\n      'razorpay_signature': signature,\n      'razorpay_payment_id': paymentId,\n      'razorpay_order_id': orderId,\n    };\n\n    var parts = [];\n    body.forEach((key, value) {\n      parts.add('${Uri.encodeQueryComponent(key)}='\n          '${Uri.encodeQueryComponent(value)}');\n    });\n    var formData = parts.join('&');\n    var res = await http.post(\n      Uri.https(\n        \"10.0.2.2\", // my ip address , localhost\n        \"razorpay_signature_verify.php\",\n      ),\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\", // urlencoded\n      },\n      body: formData,\n    );\n\n    print(res.body);\n    if (res.statusCode == 200) {\n      ScaffoldMessenger.of(context).showSnackBar(\n        SnackBar(\n          content: Text(res.body),\n        ),\n      );\n    }\n  }\n\n  @override\n  void dispose() {\n    _razorpay.clear(); // Removes all listeners\n\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text(\"Razorpay Demo\"),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            ElevatedButton(\n              onPressed: () {\n                createOrder();\n              },\n              child: const Text(\"Pay Rs.100\"),\n            )\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass MyHttpOverrides extends HttpOverrides {\n  @override\n  HttpClient createHttpClient(SecurityContext? context) {\n    return super.createHttpClient(context)\n      ..badCertificateCallback =\n          (X509Certificate cert, String host, int port) => true;\n  }\n}\n"
        ]
    },
    {
        "titulo": "Error when running flutter app with firebase dependencies",
        "score": 1,
        "views": 95,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "google-cloud-firestore"
        ],
        "link": "https://stackoverflow.com/questions/76641707/error-when-running-flutter-app-with-firebase-dependencies",
        "conteudo_html": "<p>Since I added fetching from firestore to my app, when running <code>flutter run</code> I get this error:</p>\n<pre><code>Launching lib/main.dart on 2109119DG in debug mode...\n../../../../.pub-cache/hosted/pub.dev/cloud_firestore_platform_interface-5.7.7/lib/src/platform_interface/utils/load_bundle_task_state.dart:13:13: Error: Method not found: 'FallThroughError'.\n      throw FallThroughError();\n            ^^^^^^^^^^^^^^^^\n../../../../.pub-cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/firebase_app.dart:18:25: Error: Member not found: 'FirebaseAppPlatform.verifyExtends'.\n    FirebaseAppPlatform.verifyExtends(_delegate);\n                        ^^^^^^^^^^^^^\nTarget kernel_snapshot failed: Exception\n\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript '/home/user/.flutter/flutter/packages/flutter_tools/gradle/flutter.gradle' line: 1201\n\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuildDebug'.\n&gt; Process 'command '/home/user/.flutter/flutter/bin/flutter'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 3s\nRunning Gradle task 'assembleDebug'...                              3.9s\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>Here is the main.dart:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\nimport 'package:precio_luz/screens/main_screen.dart';\n\nvoid main() {\n  runApp(PrecioLuz());\n}\n\nclass PrecioLuz extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'PrecioLuz',\n      theme: ThemeData(\n        primarySwatch: Colors.grey,\n      ),\n      home: MainScreen(),\n    );\n  }\n}\n</code></pre>\n<p>And the file where I have the fetching from firestore:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>  int selectedDate =\n      0; // 0 for 'Today', 1 for 'Tomorrow', 2 for 'Historical Day'\n  String selectedHistoricalDate =\n      '2023-4-17'; // Replace this with the selected date.\n\n  Stream&lt;DocumentSnapshot&gt; getPricesStream() {\n    FirebaseFirestore firestore = FirebaseFirestore.instance;\n\n    switch (selectedDate) {\n      case 0:\n        return firestore\n            .collection('electricityPrices')\n            .doc('todayData')\n            .snapshots();\n      case 1:\n        return firestore\n            .collection('electricityPrices')\n            .doc('tomorrowData')\n            .snapshots();\n      case 2:\n        return firestore\n            .collection('electricityPrices')\n            .doc('historicalData')\n            .collection('dates')\n            .doc(selectedHistoricalDate)\n            .snapshots();\n      default:\n        throw Exception('Invalid selectedDate: $selectedDate');\n    }\n  }\n...\n</code></pre>\n<p>Rest of the file is not relevant.\nWhat is this issue, and how can I solve it?</p>\n<p>I have already tried cleaning and rebuilding, upgrading flutter, downgrading and upgrading packages, and many more things but still haven't resolved the issue.</p>\n",
        "codigo": [
            "flutter run",
            "Launching lib/main.dart on 2109119DG in debug mode...\n../../../../.pub-cache/hosted/pub.dev/cloud_firestore_platform_interface-5.7.7/lib/src/platform_interface/utils/load_bundle_task_state.dart:13:13: Error: Method not found: 'FallThroughError'.\n      throw FallThroughError();\n            ^^^^^^^^^^^^^^^^\n../../../../.pub-cache/hosted/pub.dev/firebase_core-1.24.0/lib/src/firebase_app.dart:18:25: Error: Member not found: 'FirebaseAppPlatform.verifyExtends'.\n    FirebaseAppPlatform.verifyExtends(_delegate);\n                        ^^^^^^^^^^^^^\nTarget kernel_snapshot failed: Exception\n\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript '/home/user/.flutter/flutter/packages/flutter_tools/gradle/flutter.gradle' line: 1201\n\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuildDebug'.\n> Process 'command '/home/user/.flutter/flutter/bin/flutter'' finished with non-zero exit value 1\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 3s\nRunning Gradle task 'assembleDebug'...                              3.9s\nException: Gradle task assembleDebug failed with exit code 1\n",
            "import 'package:flutter/material.dart';\nimport 'package:precio_luz/screens/main_screen.dart';\n\nvoid main() {\n  runApp(PrecioLuz());\n}\n\nclass PrecioLuz extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'PrecioLuz',\n      theme: ThemeData(\n        primarySwatch: Colors.grey,\n      ),\n      home: MainScreen(),\n    );\n  }\n}\n",
            "  int selectedDate =\n      0; // 0 for 'Today', 1 for 'Tomorrow', 2 for 'Historical Day'\n  String selectedHistoricalDate =\n      '2023-4-17'; // Replace this with the selected date.\n\n  Stream<DocumentSnapshot> getPricesStream() {\n    FirebaseFirestore firestore = FirebaseFirestore.instance;\n\n    switch (selectedDate) {\n      case 0:\n        return firestore\n            .collection('electricityPrices')\n            .doc('todayData')\n            .snapshots();\n      case 1:\n        return firestore\n            .collection('electricityPrices')\n            .doc('tomorrowData')\n            .snapshots();\n      case 2:\n        return firestore\n            .collection('electricityPrices')\n            .doc('historicalData')\n            .collection('dates')\n            .doc(selectedHistoricalDate)\n            .snapshots();\n      default:\n        throw Exception('Invalid selectedDate: $selectedDate');\n    }\n  }\n...\n"
        ]
    },
    {
        "titulo": "Firebase Auth: The format of the phone number provided is incorrect",
        "score": 0,
        "views": 862,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/76637843/firebase-auth-the-format-of-the-phone-number-provided-is-incorrect",
        "conteudo_html": "<p>I'm trying to implement phone number authentication in my Flutter app using Firebase Auth. However, when I attempt to verify the phone number using the verifyPhoneNumber method provided by FirebaseAuth.instance, I keep receiving the following error:</p>\n<pre><code>flutter: +15555551234\nflutter: sending otp to +15555551234\nflutter: Auth failed: The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].\n</code></pre>\n<p>Here's a snippet of the code I'm using:</p>\n<pre><code>Future verifyPhone({\n  String? phoneNumber,\n  required void Function(PhoneAuthCredential) verificationCompleted,\n  required void Function(FirebaseAuthException) verificationFailed,\n  required void Function(String, int?) codeSent,\n  required void Function(String) codeAutoRetrievalTimeout,\n  int? forceResendingToken,\n}) async {\n  debugPrint('sending otp to $phoneNumber');\n  try {\n    FirebaseAuth.instance.verifyPhoneNumber(\n      phoneNumber: phoneNumber,\n      verificationCompleted: verificationCompleted,\n      verificationFailed: verificationFailed,\n      codeSent: codeSent,\n      codeAutoRetrievalTimeout: codeAutoRetrievalTimeout,\n      forceResendingToken: forceResendingToken,\n    );\n  } catch (e) {\n    if (kDebugMode) {\n      print(e);\n    }\n  }\n}\n</code></pre>\n<p>No matter how I format a US phone number, I keep getting the error mentioned above. Code works fine for country code +91.</p>\n<p>Could someone please help me understand what I might be doing wrong? I'm already using E.164 formatting. Is +15555551234 not a valid number?</p>\n",
        "codigo": [
            "flutter: +15555551234\nflutter: sending otp to +15555551234\nflutter: Auth failed: The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].\n",
            "Future verifyPhone({\n  String? phoneNumber,\n  required void Function(PhoneAuthCredential) verificationCompleted,\n  required void Function(FirebaseAuthException) verificationFailed,\n  required void Function(String, int?) codeSent,\n  required void Function(String) codeAutoRetrievalTimeout,\n  int? forceResendingToken,\n}) async {\n  debugPrint('sending otp to $phoneNumber');\n  try {\n    FirebaseAuth.instance.verifyPhoneNumber(\n      phoneNumber: phoneNumber,\n      verificationCompleted: verificationCompleted,\n      verificationFailed: verificationFailed,\n      codeSent: codeSent,\n      codeAutoRetrievalTimeout: codeAutoRetrievalTimeout,\n      forceResendingToken: forceResendingToken,\n    );\n  } catch (e) {\n    if (kDebugMode) {\n      print(e);\n    }\n  }\n}\n"
        ]
    },
    {
        "titulo": "Flutter iOS build/run error: widgets/context_menu_button_item.dart:49:9: Error: Type &#39;VoidCallback&#39; not found",
        "score": 0,
        "views": 363,
        "respostas": 1,
        "tags": [
            "ios",
            "flutter",
            "xcode",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76600179/flutter-ios-build-run-error-widgets-context-menu-button-item-dart499-error",
        "conteudo_html": "<p>I can reproduce the issue with the following simple steps:</p>\n<pre><code>flutter create ios_test\ncd ios_test\nflutter run\n</code></pre>\n<p>Versions:</p>\n<pre><code>Flutter 3.10.5 • channel stable • https://github.com/flutter/flutter.git\nFramework • revision 796c8ef792 (3 weeks ago) • 2023-06-13 15:51:02 -0700\nEngine • revision 45f6e00911\nTools • Dart 3.0.5 • DevTools 2.23.1\nDart SDK version: 3.0.5 (stable) (Mon Jun 12 18:31:49 2023 +0000) on &quot;macos_arm64&quot;\n\nflutter -v doctor\n[✓] Flutter (Channel stable, 3.10.5, on macOS 13.4 22F66 darwin-arm64, locale en-US)\n    • Flutter version 3.10.5 on channel stable at /Applications/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 796c8ef792 (3 weeks ago), 2023-06-13 15:51:02 -0700\n    • Engine revision 45f6e00911\n    • Dart version 3.0.5\n    • DevTools version 2.23.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /Users/marku/Library/Android/sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b802.4-9586694)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.3.1)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14E300c\n    • CocoaPods version 1.12.1\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2022.2)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b802.4-9586694)\n\n[✓] VS Code (version 1.79.2)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.66.0\n\n[✓] Connected device (3 available)\n    • iPhone 14 (mobile) • A9282848-729E-41F9-BC77-591834D5DAD2 • ios            • com.apple.CoreSimulator.SimRuntime.iOS-16-4 (simulator)\n    • macOS (desktop)    • macos                                • darwin-arm64   • macOS 13.4 22F66 darwin-arm64\n    • Chrome (web)       • chrome                               • web-javascript • Google Chrome 114.0.5735.198\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n<p>Sometimes it gets a slightly different error (after trying to build the project in Xcode):</p>\n<pre><code>[   +2 ms] Failed to build iOS app\n[        ] Error (Xcode): [ +520 ms] /Applications/flutter/packages/flutter/lib/src/services/text_input.dart:713:1: Error: Type 'TextAffinity' not found.\n           \n[   +1 ms] Could not build the application for the simulator.\n[        ] Error launching application on iPhone 14.\n[   +1 ms] &quot;flutter run&quot; took 10,603ms.\n</code></pre>\n<p>Tried upgrading flutter packages and running <code>dart fix</code>.</p>\n<p>Trying to compile the project in Xcode fails with different error messages.</p>\n",
        "codigo": [
            "flutter create ios_test\ncd ios_test\nflutter run\n",
            "Flutter 3.10.5 • channel stable • https://github.com/flutter/flutter.git\nFramework • revision 796c8ef792 (3 weeks ago) • 2023-06-13 15:51:02 -0700\nEngine • revision 45f6e00911\nTools • Dart 3.0.5 • DevTools 2.23.1\nDart SDK version: 3.0.5 (stable) (Mon Jun 12 18:31:49 2023 +0000) on \"macos_arm64\"\n\nflutter -v doctor\n[✓] Flutter (Channel stable, 3.10.5, on macOS 13.4 22F66 darwin-arm64, locale en-US)\n    • Flutter version 3.10.5 on channel stable at /Applications/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 796c8ef792 (3 weeks ago), 2023-06-13 15:51:02 -0700\n    • Engine revision 45f6e00911\n    • Dart version 3.0.5\n    • DevTools version 2.23.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 34.0.0)\n    • Android SDK at /Users/marku/Library/Android/sdk\n    • Platform android-34, build-tools 34.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b802.4-9586694)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.3.1)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14E300c\n    • CocoaPods version 1.12.1\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2022.2)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b802.4-9586694)\n\n[✓] VS Code (version 1.79.2)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.66.0\n\n[✓] Connected device (3 available)\n    • iPhone 14 (mobile) • A9282848-729E-41F9-BC77-591834D5DAD2 • ios            • com.apple.CoreSimulator.SimRuntime.iOS-16-4 (simulator)\n    • macOS (desktop)    • macos                                • darwin-arm64   • macOS 13.4 22F66 darwin-arm64\n    • Chrome (web)       • chrome                               • web-javascript • Google Chrome 114.0.5735.198\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n",
            "[   +2 ms] Failed to build iOS app\n[        ] Error (Xcode): [ +520 ms] /Applications/flutter/packages/flutter/lib/src/services/text_input.dart:713:1: Error: Type 'TextAffinity' not found.\n           \n[   +1 ms] Could not build the application for the simulator.\n[        ] Error launching application on iPhone 14.\n[   +1 ms] \"flutter run\" took 10,603ms.\n",
            "dart fix"
        ]
    },
    {
        "titulo": "How to test Random method of dart library in Flutter?",
        "score": 2,
        "views": 411,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "testing",
            "manual-testing"
        ],
        "link": "https://stackoverflow.com/questions/76599576/how-to-test-random-method-of-dart-library-in-flutter",
        "conteudo_html": "<p>I am trying to test the Random method from the dart library in Flutter. I got to know about seeding for the Random method to test it but it doesn't make the method purely random as it would behave without seeding because the seeded method always gives the same sequence of numbers. Is it any way to mock the method I tried mocking it and the mocked method never gets called as the method does not have the dependency passed as a parameter. The code I tried.</p>\n<p><em>bacground_color.dart</em></p>\n<pre><code> ///Method responsible for change of colour of background.\n  Color? colorChanger() {\n    const parameterRandom = 100;\n    const parameterNextInt = 256;\n    int parameterARGB = 0;\n    final parameterARGB2 = Random().nextInt(parameterNextInt);\n    final parameterARGB3 = Random().nextInt(parameterNextInt);\n    final parameterARGB4 = Random().nextInt(parameterNextInt);\n\n    if (background ==\n        Color.fromARGB(\n          parameterARGB,\n          parameterARGB,\n          parameterARGB,\n          parameterARGB,\n        ))\n    //Case created done for the widget testing so that 1st time the color is,\n    // what is specified in widget test and the second time it is all random\n    {\n      background = Color.fromARGB(\n        Random(parameterRandom).nextInt(parameterNextInt),\n        Random(parameterRandom).nextInt(parameterNextInt),\n        Random(parameterRandom).nextInt(parameterNextInt),\n        Random(parameterRandom).nextInt(parameterNextInt),\n      );\n    } else {\n      parameterARGB = Random().nextInt(parameterNextInt);\n      background = Color.fromARGB(\n        parameterARGB,\n        parameterARGB2,\n        parameterARGB3,\n        parameterARGB4,\n      );\n    }\n\n    return background;\n  }\n</code></pre>\n<p><em>main_file_unit_test.dart</em></p>\n<pre><code>import 'dart:math';\nimport 'dart:ui';\n\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mocktail/mocktail.dart';\nimport 'package:solid_software/Model/background_color.dart';\n\nclass MockRandom extends Mock implements Random {}\n\nvoid main() {\n  late MockRandom mockRandom;\n  setUp(() {\n    mockRandom = MockRandom();\n  });\n  test(&quot;Unit test of main method&quot;, () {\n    const int nextIntParameter = 256;\n    const int aRGBParameter = 74;\n    when(() =&gt; mockRandom.nextInt(nextIntParameter)).thenReturn(aRGBParameter);\n// final _MyHomePageState testOfColorChanger =const MyHomePage();\n// testOfColorChanger\n    final BackgroundColor backgroundColor = BackgroundColor();\n    expect(backgroundColor.background, const Color.fromARGB(0, 0, 0, 0));\n    backgroundColor.colorChanger();\n    expect(\n      backgroundColor.background,\n      const Color.fromARGB(\n          aRGBParameter, aRGBParameter, aRGBParameter, aRGBParameter),\n    );\n  });\n}\n</code></pre>\n<p>I got some help asking around about seeding but not able to understand exactly how we can do this.\nThe whole code is from the repository <a href=\"https://github.com/theashggl/solid_software\" rel=\"nofollow noreferrer\">https://github.com/theashggl/solid_software</a></p>\n",
        "codigo": [
            " ///Method responsible for change of colour of background.\n  Color? colorChanger() {\n    const parameterRandom = 100;\n    const parameterNextInt = 256;\n    int parameterARGB = 0;\n    final parameterARGB2 = Random().nextInt(parameterNextInt);\n    final parameterARGB3 = Random().nextInt(parameterNextInt);\n    final parameterARGB4 = Random().nextInt(parameterNextInt);\n\n    if (background ==\n        Color.fromARGB(\n          parameterARGB,\n          parameterARGB,\n          parameterARGB,\n          parameterARGB,\n        ))\n    //Case created done for the widget testing so that 1st time the color is,\n    // what is specified in widget test and the second time it is all random\n    {\n      background = Color.fromARGB(\n        Random(parameterRandom).nextInt(parameterNextInt),\n        Random(parameterRandom).nextInt(parameterNextInt),\n        Random(parameterRandom).nextInt(parameterNextInt),\n        Random(parameterRandom).nextInt(parameterNextInt),\n      );\n    } else {\n      parameterARGB = Random().nextInt(parameterNextInt);\n      background = Color.fromARGB(\n        parameterARGB,\n        parameterARGB2,\n        parameterARGB3,\n        parameterARGB4,\n      );\n    }\n\n    return background;\n  }\n",
            "import 'dart:math';\nimport 'dart:ui';\n\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mocktail/mocktail.dart';\nimport 'package:solid_software/Model/background_color.dart';\n\nclass MockRandom extends Mock implements Random {}\n\nvoid main() {\n  late MockRandom mockRandom;\n  setUp(() {\n    mockRandom = MockRandom();\n  });\n  test(\"Unit test of main method\", () {\n    const int nextIntParameter = 256;\n    const int aRGBParameter = 74;\n    when(() => mockRandom.nextInt(nextIntParameter)).thenReturn(aRGBParameter);\n// final _MyHomePageState testOfColorChanger =const MyHomePage();\n// testOfColorChanger\n    final BackgroundColor backgroundColor = BackgroundColor();\n    expect(backgroundColor.background, const Color.fromARGB(0, 0, 0, 0));\n    backgroundColor.colorChanger();\n    expect(\n      backgroundColor.background,\n      const Color.fromARGB(\n          aRGBParameter, aRGBParameter, aRGBParameter, aRGBParameter),\n    );\n  });\n}\n"
        ]
    },
    {
        "titulo": "Error &quot;Target file &quot;windows&quot; not found.&quot; when I start windows application in debug mode",
        "score": 1,
        "views": 979,
        "respostas": 2,
        "tags": [
            "windows",
            "flutter",
            "dart",
            "flutter-windows"
        ],
        "link": "https://stackoverflow.com/questions/76595136/error-target-file-windows-not-found-when-i-start-windows-application-in-deb",
        "conteudo_html": "<p>&quot;Target file &quot;windows&quot; not found.&quot; error after &quot;flutter run windows&quot;.</p>\n<p>All project dependencies:</p>\n<pre><code>cupertino_icons: ^1.0.2\nfirebase_core: ^2.13.1\nsliding_up_panel: ^2.0.0+1\nflutter_slidable: ^2.0.0\njust_audio: ^0.9.32\nflutter_modular: ^5.0.3\nurl_strategy: ^0.2.0\naudio_service: ^0.18.0\naudio_video_progress_bar: ^1.0.1\nget_it: ^7.6.0\naudio_session: ^0.1.13\njust_audio_windows: ^0.2.0\nwindow_manager: ^0.3.4\ngoogle_fonts: ^4.0.4\n</code></pre>\n<p>This is doctor -v:</p>\n<pre><code>[√] Flutter (Channel main, 3.12.0-2.0.pre.9, on Microsoft Windows [Version 10.0.22000.2057], locale ru-RU)\n    • Flutter version 3.12.0-2.0.pre.9 on channel main at D:\\Flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 96afa500db (3 weeks ago), 2023-06-07 04:52:17 +0000\n    • Engine revision 59d5444cf0\n    • Dart version 3.1.0 (build 3.1.0-163.0.dev)\n    • DevTools version 2.24.0\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\n    • Android SDK at C:\\Users\\User\\AppData\\Local\\Android\\Sdk\n    • Platform android-33, build-tools 33.0.1\n    • Java binary at: D:\\AndroidStudio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 11.0.15+0-b2043.56-9505619)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.6.4)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.6.33815.320\n    • Windows 10 SDK version 10.0.22000.0\n\n[√] Android Studio (version 2022.1)\n    • Android Studio at D:\\AndroidStudio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.15+0-b2043.56-9505619)\n\n[√] VS Code, 64-bit edition (version 1.76.2)\n    • VS Code at C:\\Program Files\\Microsoft VS Code\n    • Flutter extension version 3.66.0\n\n[√] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.22000.2057]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 114.0.5735.199\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 114.0.1823.58\n\n[√] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n<p>This is <code>flutter run windows</code>:</p>\n<pre><code>Target file &quot;windows&quot; not found.\n</code></pre>\n<p>And this is <code>flutter run -v windows</code>:</p>\n<pre><code>[   +3 ms] executing: [D:\\Flutter/] git -c log.showSignature=false log -n 1 --pretty=format:%H\n[ +144 ms] Exit code 0 from: git -c log.showSignature=false log -n 1 --pretty=format:%H\n[   +2 ms] 96afa500dbf1f185616cea3f48de429675cd3274\n[   +1 ms] executing: [D:\\Flutter/] git tag --points-at 96afa500dbf1f185616cea3f48de429675cd3274\n[ +228 ms] Exit code 0 from: git tag --points-at 96afa500dbf1f185616cea3f48de429675cd3274\n[   +2 ms] executing: [D:\\Flutter/] git describe --match *.*.* --long --tags 96afa500dbf1f185616cea3f48de429675cd3274\n[ +299 ms] Exit code 0 from: git describe --match *.*.* --long --tags 96afa500dbf1f185616cea3f48de429675cd3274\n[   +1 ms] 3.12.0-1.0.pre-9-g96afa500db\n[   +5 ms] executing: [D:\\Flutter/] git symbolic-ref --short HEAD\n[ +251 ms] Exit code 0 from: git symbolic-ref --short HEAD\n[   +1 ms] main\n[ +102 ms] executing: [D:\\Flutter/] git rev-parse --abbrev-ref --symbolic @{upstream}\n[ +180 ms] Exit code 0 from: git rev-parse --abbrev-ref --symbolic @{upstream}\n[   +2 ms] origin/main\n[   +2 ms] executing: [D:\\Flutter/] git ls-remote --get-url origin\n[ +184 ms] Exit code 0 from: git ls-remote --get-url origin\n[   +3 ms] https://github.com/flutter/flutter.git\n[ +297 ms] Artifact Instance of 'AndroidGenSnapshotArtifacts' is not required, skipping update.\n[   +3 ms] Artifact Instance of 'AndroidInternalBuildArtifacts' is not required, skipping update.\n[   +1 ms] Artifact Instance of 'IOSEngineArtifacts' is not required, skipping update.\n[   +1 ms] Artifact Instance of 'FlutterWebSdk' is not required, skipping update.\n[        ] Artifact Instance of 'LegacyCanvasKitRemover' is not required, skipping update.\n[  +16 ms] Artifact Instance of 'WindowsEngineArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'MacOSEngineArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'LinuxEngineArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'LinuxFuchsiaSDKArtifacts' is not required, skipping update.\n[   +1 ms] Artifact Instance of 'MacOSFuchsiaSDKArtifacts' is not required, skipping update.\n[   +2 ms] Artifact Instance of 'FlutterRunnerSDKArtifacts' is not required, skipping update.\n[   +3 ms] Artifact Instance of 'FlutterRunnerDebugSymbols' is not required, skipping update.\n[ +147 ms] executing: C:\\Users\\User\\AppData\\Local\\Android\\Sdk\\platform-tools\\adb.exe devices -l\n[  +95 ms] List of devices attached\n[  +13 ms] Artifact Instance of 'AndroidGenSnapshotArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'AndroidInternalBuildArtifacts' is not required, skipping update.\n[   +1 ms] Artifact Instance of 'IOSEngineArtifacts' is not required, skipping update.\n[  +28 ms] Artifact Instance of 'MacOSEngineArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'LinuxEngineArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'LinuxFuchsiaSDKArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'MacOSFuchsiaSDKArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'FlutterRunnerSDKArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'FlutterRunnerDebugSymbols' is not required, skipping update.\n[ +115 ms] &quot;flutter run&quot; took 508ms.\n[  +35 ms] Target file &quot;windows&quot; not found.\n[   +5 ms] \n           #0      FlutterCommand.validateCommand (package:flutter_tools/src/runner/flutter_command.dart:1610:9)\n           #1      RunCommand.validateCommand (package:flutter_tools/src/commands/run.dart:532:19)\n           #2      FlutterCommand.verifyThenRunCommand (package:flutter_tools/src/runner/flutter_command.dart:1481:11)\n           &lt;asynchronous suspension&gt;\n           #3      FlutterCommand.run.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command.dart:1297:27)\n           &lt;asynchronous suspension&gt;\n           #4      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n           &lt;asynchronous suspension&gt;\n           #5      CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n           &lt;asynchronous suspension&gt;\n           #6      FlutterCommandRunner.runCommand.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command_runner.dart:336:9)\n           &lt;asynchronous suspension&gt;\n           #7      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n           &lt;asynchronous suspension&gt;\n           #8      FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:284:5)\n           &lt;asynchronous suspension&gt;\n           #9      run.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:flutter_tools/runner.dart:115:9)\n           &lt;asynchronous suspension&gt;\n           #10     AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n           &lt;asynchronous suspension&gt;\n           #11     main (package:flutter_tools/executable.dart:91:3)\n           &lt;asynchronous suspension&gt;\n\n\n[ +275 ms] ensureAnalyticsSent: 256ms\n[   +1 ms] Running 0 shutdown hooks\n[   +1 ms] Shutdown hooks complete\n[   +5 ms] exiting with code 1\n</code></pre>\n<p>I work in VS Code and after run program using <code>F5</code> all stack on <code>Launching lib\\main.dart on Windows in debug mode... </code></p>\n<p>I have tried reinstalling visual studio components, changing flutter channels but nothing helps.</p>\n",
        "codigo": [
            "cupertino_icons: ^1.0.2\nfirebase_core: ^2.13.1\nsliding_up_panel: ^2.0.0+1\nflutter_slidable: ^2.0.0\njust_audio: ^0.9.32\nflutter_modular: ^5.0.3\nurl_strategy: ^0.2.0\naudio_service: ^0.18.0\naudio_video_progress_bar: ^1.0.1\nget_it: ^7.6.0\naudio_session: ^0.1.13\njust_audio_windows: ^0.2.0\nwindow_manager: ^0.3.4\ngoogle_fonts: ^4.0.4\n",
            "[√] Flutter (Channel main, 3.12.0-2.0.pre.9, on Microsoft Windows [Version 10.0.22000.2057], locale ru-RU)\n    • Flutter version 3.12.0-2.0.pre.9 on channel main at D:\\Flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 96afa500db (3 weeks ago), 2023-06-07 04:52:17 +0000\n    • Engine revision 59d5444cf0\n    • Dart version 3.1.0 (build 3.1.0-163.0.dev)\n    • DevTools version 2.24.0\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\n    • Android SDK at C:\\Users\\User\\AppData\\Local\\Android\\Sdk\n    • Platform android-33, build-tools 33.0.1\n    • Java binary at: D:\\AndroidStudio\\jbr\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 11.0.15+0-b2043.56-9505619)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop Windows apps (Visual Studio Community 2022 17.6.4)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.6.33815.320\n    • Windows 10 SDK version 10.0.22000.0\n\n[√] Android Studio (version 2022.1)\n    • Android Studio at D:\\AndroidStudio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.15+0-b2043.56-9505619)\n\n[√] VS Code, 64-bit edition (version 1.76.2)\n    • VS Code at C:\\Program Files\\Microsoft VS Code\n    • Flutter extension version 3.66.0\n\n[√] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.22000.2057]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 114.0.5735.199\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 114.0.1823.58\n\n[√] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n",
            "flutter run windows",
            "Target file \"windows\" not found.\n",
            "flutter run -v windows",
            "[   +3 ms] executing: [D:\\Flutter/] git -c log.showSignature=false log -n 1 --pretty=format:%H\n[ +144 ms] Exit code 0 from: git -c log.showSignature=false log -n 1 --pretty=format:%H\n[   +2 ms] 96afa500dbf1f185616cea3f48de429675cd3274\n[   +1 ms] executing: [D:\\Flutter/] git tag --points-at 96afa500dbf1f185616cea3f48de429675cd3274\n[ +228 ms] Exit code 0 from: git tag --points-at 96afa500dbf1f185616cea3f48de429675cd3274\n[   +2 ms] executing: [D:\\Flutter/] git describe --match *.*.* --long --tags 96afa500dbf1f185616cea3f48de429675cd3274\n[ +299 ms] Exit code 0 from: git describe --match *.*.* --long --tags 96afa500dbf1f185616cea3f48de429675cd3274\n[   +1 ms] 3.12.0-1.0.pre-9-g96afa500db\n[   +5 ms] executing: [D:\\Flutter/] git symbolic-ref --short HEAD\n[ +251 ms] Exit code 0 from: git symbolic-ref --short HEAD\n[   +1 ms] main\n[ +102 ms] executing: [D:\\Flutter/] git rev-parse --abbrev-ref --symbolic @{upstream}\n[ +180 ms] Exit code 0 from: git rev-parse --abbrev-ref --symbolic @{upstream}\n[   +2 ms] origin/main\n[   +2 ms] executing: [D:\\Flutter/] git ls-remote --get-url origin\n[ +184 ms] Exit code 0 from: git ls-remote --get-url origin\n[   +3 ms] https://github.com/flutter/flutter.git\n[ +297 ms] Artifact Instance of 'AndroidGenSnapshotArtifacts' is not required, skipping update.\n[   +3 ms] Artifact Instance of 'AndroidInternalBuildArtifacts' is not required, skipping update.\n[   +1 ms] Artifact Instance of 'IOSEngineArtifacts' is not required, skipping update.\n[   +1 ms] Artifact Instance of 'FlutterWebSdk' is not required, skipping update.\n[        ] Artifact Instance of 'LegacyCanvasKitRemover' is not required, skipping update.\n[  +16 ms] Artifact Instance of 'WindowsEngineArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'MacOSEngineArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'LinuxEngineArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'LinuxFuchsiaSDKArtifacts' is not required, skipping update.\n[   +1 ms] Artifact Instance of 'MacOSFuchsiaSDKArtifacts' is not required, skipping update.\n[   +2 ms] Artifact Instance of 'FlutterRunnerSDKArtifacts' is not required, skipping update.\n[   +3 ms] Artifact Instance of 'FlutterRunnerDebugSymbols' is not required, skipping update.\n[ +147 ms] executing: C:\\Users\\User\\AppData\\Local\\Android\\Sdk\\platform-tools\\adb.exe devices -l\n[  +95 ms] List of devices attached\n[  +13 ms] Artifact Instance of 'AndroidGenSnapshotArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'AndroidInternalBuildArtifacts' is not required, skipping update.\n[   +1 ms] Artifact Instance of 'IOSEngineArtifacts' is not required, skipping update.\n[  +28 ms] Artifact Instance of 'MacOSEngineArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'LinuxEngineArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'LinuxFuchsiaSDKArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'MacOSFuchsiaSDKArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'FlutterRunnerSDKArtifacts' is not required, skipping update.\n[        ] Artifact Instance of 'FlutterRunnerDebugSymbols' is not required, skipping update.\n[ +115 ms] \"flutter run\" took 508ms.\n[  +35 ms] Target file \"windows\" not found.\n[   +5 ms] \n           #0      FlutterCommand.validateCommand (package:flutter_tools/src/runner/flutter_command.dart:1610:9)\n           #1      RunCommand.validateCommand (package:flutter_tools/src/commands/run.dart:532:19)\n           #2      FlutterCommand.verifyThenRunCommand (package:flutter_tools/src/runner/flutter_command.dart:1481:11)\n           <asynchronous suspension>\n           #3      FlutterCommand.run.<anonymous closure> (package:flutter_tools/src/runner/flutter_command.dart:1297:27)\n           <asynchronous suspension>\n           #4      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n           <asynchronous suspension>\n           #5      CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n           <asynchronous suspension>\n           #6      FlutterCommandRunner.runCommand.<anonymous closure> (package:flutter_tools/src/runner/flutter_command_runner.dart:336:9)\n           <asynchronous suspension>\n           #7      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n           <asynchronous suspension>\n           #8      FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:284:5)\n           <asynchronous suspension>\n           #9      run.<anonymous closure>.<anonymous closure> (package:flutter_tools/runner.dart:115:9)\n           <asynchronous suspension>\n           #10     AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n           <asynchronous suspension>\n           #11     main (package:flutter_tools/executable.dart:91:3)\n           <asynchronous suspension>\n\n\n[ +275 ms] ensureAnalyticsSent: 256ms\n[   +1 ms] Running 0 shutdown hooks\n[   +1 ms] Shutdown hooks complete\n[   +5 ms] exiting with code 1\n",
            "F5",
            "Launching lib\\main.dart on Windows in debug mode... "
        ]
    },
    {
        "titulo": "I run through this issue while building apk file",
        "score": 0,
        "views": 153,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "conditional-operator"
        ],
        "link": "https://stackoverflow.com/questions/76585921/i-run-through-this-issue-while-building-apk-file",
        "conteudo_html": "<pre><code>\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':cached_video_player:verifyReleaseResources'.        \n&gt; A failure occurred while executing com.android.build.gradle.tasks.VerifyLibraryResourcesTask$Action\n   &gt; Android resource linking failed\n     ERROR:C:\\Users\\Mazen\\.gradle\\caches\\transforms-3\\e1db1d7e58d402c8040729c1f98d1141\\transformed\\core-1.7.0\\res\\values\\values.xml:105:5-114:25: AAPT: error: resource android:attr/lStar not found.\n\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 27s\nRunning Gradle task 'assembleRelease'...                           28.4s        \nGradle task assembleRelease failed with exit code 1\n</code></pre>\n<p>I don't run through this while building app through emulator just while building apk and I tried mostly everything not working</p>\n",
        "codigo": [
            "\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':cached_video_player:verifyReleaseResources'.        \n> A failure occurred while executing com.android.build.gradle.tasks.VerifyLibraryResourcesTask$Action\n   > Android resource linking failed\n     ERROR:C:\\Users\\Mazen\\.gradle\\caches\\transforms-3\\e1db1d7e58d402c8040729c1f98d1141\\transformed\\core-1.7.0\\res\\values\\values.xml:105:5-114:25: AAPT: error: resource android:attr/lStar not found.\n\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 27s\nRunning Gradle task 'assembleRelease'...                           28.4s        \nGradle task assembleRelease failed with exit code 1\n"
        ]
    },
    {
        "titulo": "Providing await to a code which throws an Exception is giving error in Flutter",
        "score": 1,
        "views": 45,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76583650/providing-await-to-a-code-which-throws-an-exception-is-giving-error-in-flutter",
        "conteudo_html": "<p>I'm a beginner to flutter development. I want to learn the logic behind this :</p>\n<p>Below provided code is a basic code that I wrote to understand the error which I got in unit testing my <code>AuthProvider</code></p>\n<p>Providing <code>await</code> keyword to the <code>provider.createUser()</code> redirects to <code>await</code> statements in <code>remote_listener.dart</code> and <code>invoker.dart</code> when debugging. When unit testing with this logic, fails the test.</p>\n<p>My Question:  Why should we avoid <code>await</code> in a code where we expect to throw an exception when unit testing</p>\n<pre><code>void main() async {\n\n  final provider = MockAuthProvider();\n  final result = await provider.createUser(\n    email: 'email@email.com',\n    password: 'testPassword',\n  );\n\n}\n\n\nclass MockAuthProvider {\n\nFuture&lt;AuthUser&gt; createUser({\n    required String email,\n    required String password,\n  }) async {\n\n    if (!isInitialized) throw NotInitializedException();\n    await Future.delayed(const Duration(seconds: 1));\n    const user = AuthUser(email: 'email@email.com', isEmailVerified: false);\n    return user;\n}\n</code></pre>\n<p>The actual Unit testing code is provided below. The test fails when an <code>await</code> is given to the <code>badEmailUser</code> and <code>badPassword</code> as shown below. If we remove the <code>await</code>, the test passes.</p>\n<p>The thing I wanna know is why providing <code>await</code> fails the test? What is the logic behind the code?</p>\n<pre><code>\n      group('Mock Authentication', () {\n        final provider = MockAuthProvider();\n\n        test('Create user should delegate to login', () async {\n        \n        final badEmailUser = await provider.createUser(\n            email: 'bad@email.com',\n            password: 'test',\n        );\n        expect(badEmailUser,\n            throwsA(const TypeMatcher&lt;UserNotFoundAuthException&gt;()));\n\n        final badPassword = await provider.createUser(\n            email: 'email@email.com',\n            password: 'badPassword',\n        );\n        expect(badPassword,\n            throwsA(const TypeMatcher&lt;WrongPasswordAuthException&gt;()));\n\n        final user = await provider.createUser(\n            email: 'email@email.com',\n            password: 'testPassword',\n        );\n        expect(provider.currentUser, user);\n        expect(user.isEmailVerified, false);\n        });\n   });\n}\n\n\nclass MockAuthProvider {\n\n    Future&lt;AuthUser&gt; createUser({\n        required String email,\n        required String password,\n    }) async {\n\n        if (!isInitialized) throw NotInitializedException();\n        await Future.delayed(const Duration(seconds: 1));\n        const user = AuthUser(email: 'email@email.com', isEmailVerified: false);\n        return user;\n} \n</code></pre>\n",
        "codigo": [
            "AuthProvider",
            "await",
            "provider.createUser()",
            "await",
            "remote_listener.dart",
            "invoker.dart",
            "await",
            "void main() async {\n\n  final provider = MockAuthProvider();\n  final result = await provider.createUser(\n    email: 'email@email.com',\n    password: 'testPassword',\n  );\n\n}\n\n\nclass MockAuthProvider {\n\nFuture<AuthUser> createUser({\n    required String email,\n    required String password,\n  }) async {\n\n    if (!isInitialized) throw NotInitializedException();\n    await Future.delayed(const Duration(seconds: 1));\n    const user = AuthUser(email: 'email@email.com', isEmailVerified: false);\n    return user;\n}\n",
            "await",
            "badEmailUser",
            "badPassword",
            "await",
            "await",
            "\n      group('Mock Authentication', () {\n        final provider = MockAuthProvider();\n\n        test('Create user should delegate to login', () async {\n        \n        final badEmailUser = await provider.createUser(\n            email: 'bad@email.com',\n            password: 'test',\n        );\n        expect(badEmailUser,\n            throwsA(const TypeMatcher<UserNotFoundAuthException>()));\n\n        final badPassword = await provider.createUser(\n            email: 'email@email.com',\n            password: 'badPassword',\n        );\n        expect(badPassword,\n            throwsA(const TypeMatcher<WrongPasswordAuthException>()));\n\n        final user = await provider.createUser(\n            email: 'email@email.com',\n            password: 'testPassword',\n        );\n        expect(provider.currentUser, user);\n        expect(user.isEmailVerified, false);\n        });\n   });\n}\n\n\nclass MockAuthProvider {\n\n    Future<AuthUser> createUser({\n        required String email,\n        required String password,\n    }) async {\n\n        if (!isInitialized) throw NotInitializedException();\n        await Future.delayed(const Duration(seconds: 1));\n        const user = AuthUser(email: 'email@email.com', isEmailVerified: false);\n        return user;\n} \n"
        ]
    },
    {
        "titulo": "Firebase Phone Authentication awaiting for login bug | Flutter",
        "score": 0,
        "views": 51,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/76582131/firebase-phone-authentication-awaiting-for-login-bug-flutter",
        "conteudo_html": "<p>I'm making a Flutter app that uses phone authentication and I'm facing difficulty in organizing the <code>verifyPhoneNumber</code> method and how to proceed thereafter.</p>\n<p>I organized my code in two classes, one which is the app interface:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/foundation.dart';\nimport 'package:pinput/pinput.dart';\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\nimport 'dart:async';\nimport 'package:wecourtsappv1/main.dart';\n\nclass OTPView extends StatefulWidget {\n  const OTPView({super.key, required this.title});\n\n  final String title;\n\n  @override\n  State&lt;OTPView&gt; createState() =&gt; _OTPViewState();\n}\n\nclass _OTPViewState extends State&lt;OTPView&gt; {\n\n\n  @override\n  initState() {\n    super.initState();\n    //code removed for NDA reasons \n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final defaultPinTheme = PinTheme(\n      width: 56,\n      height: 56,\n      textStyle: const TextStyle(\n          fontSize: 20,\n          color: Color.fromRGBO(30, 60, 87, 1),\n          fontWeight: FontWeight.w600),\n      decoration: BoxDecoration(\n        border: Border.all(color: const Color.fromRGBO(234, 239, 243, 1)),\n        color: Colors.blueGrey,\n        borderRadius: BorderRadius.circular(20),\n      ),\n    );\n\n    final focusedPinTheme = defaultPinTheme.copyDecorationWith(\n      border: Border.all(color: const Color.fromRGBO(114, 178, 238, 1)),\n      borderRadius: BorderRadius.circular(8),\n    );\n\n    final submittedPinTheme = defaultPinTheme.copyWith(\n      decoration: defaultPinTheme.decoration?.copyWith(\n        color: const Color.fromRGBO(234, 239, 243, 1),\n      ),\n    );\n\n \n    return Scaffold(\n      body: Stack(\n        children: [\n          Center(\n            child: Column(\n              children: [\n                Pinput(\n                  length: 6,\n                  defaultPinTheme: defaultPinTheme,\n                  focusedPinTheme: focusedPinTheme,\n                  submittedPinTheme: submittedPinTheme,\n                  validator: (s) {\n                  },\n                  pinputAutovalidateMode: PinputAutovalidateMode.onSubmit,\n                  showCursor: true,\n                  onCompleted: (pin) async {\n                    setState(() {\n                      firebaseAuthService.smsCode = pin;\n                      firebaseAuthService.signInWithPhoneNumber();\n                    });\n                  },\n                ),\n              ],\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n  \n  //code removed for NDA reasons\n\n  void invalidAlert(BuildContext context) {\n    showDialog(\n      context: context,\n      builder: (BuildContext context) =&gt; AlertDialog(\n        title: const Text('Invalid OTP'),\n        content: const Text('This OTP is invalid.'),\n        actions: &lt;Widget&gt;[\n          TextButton(\n            onPressed: () =&gt; Navigator.pop(context, 'Cancel'),\n            child: const Text('Cancel'),\n          ),\n          TextButton(\n            onPressed: () =&gt; Navigator.pop(context, 'OK'),\n            child: const Text('OK'),\n          ),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n<h3>NOTE: I get the phone number from another class and save it to the firebase auth class as seen below:</h3>\n<p>And this is the code for my Auth class:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class FirebaseAuthService {\n  final FirebaseAuth _firebaseAuth = FirebaseAuth.instance;\n  late final User user;\n\n  late String phoneNumber;\n  late String smsCode;\n\n  bool enteredOTP = false;\n\n  Future&lt;void&gt; signInWithPhoneNumber() async {\n    try {\n      await FirebaseAuth.instance.verifyPhoneNumber(\n        phoneNumber: phoneNumber,\n        verificationCompleted: (PhoneAuthCredential credential) async {\n          // ANDROID ONLY!\n\n          // Sign the user in (or link) with the auto-generated credential\n          await _firebaseAuth.signInWithCredential(credential);\n        },\n        verificationFailed: (FirebaseAuthException e) {\n          if (e.code == 'invalid-phone-number') {\n            print('The provided phone number is not valid.');\n          }\n\n          // Handle other errors\n        },\n        codeSent: (String verificationId, int? resendToken) async {\n          // Update the UI - wait for the user to enter the SMS code\n\n\n          // Create a PhoneAuthCredential with the code\n\n          PhoneAuthCredential credential = PhoneAuthProvider.credential(verificationId: verificationId, smsCode: smsCode);\n\n          // Sign the user in (or link) with the credential\n          await _firebaseAuth.signInWithCredential(credential);\n        },\n        codeAutoRetrievalTimeout: (String verificationId) {},\n      );\n      ;\n    } on Exception catch (e) {\n      print(e);\n    }\n  }\n}\n\n</code></pre>\n<p>The issue I'm facing is I'm currently unable to check if the OTP smsCode is valid and if its invalid.</p>\n<p>I tried looking into <code>async</code> and <code>await</code> calls but I'm honestly unsure how that works. Any help would be appreicated.</p>\n",
        "codigo": [
            "verifyPhoneNumber",
            "import 'package:flutter/foundation.dart';\nimport 'package:pinput/pinput.dart';\nimport 'package:flutter/cupertino.dart';\nimport 'package:flutter/material.dart';\nimport 'dart:async';\nimport 'package:wecourtsappv1/main.dart';\n\nclass OTPView extends StatefulWidget {\n  const OTPView({super.key, required this.title});\n\n  final String title;\n\n  @override\n  State<OTPView> createState() => _OTPViewState();\n}\n\nclass _OTPViewState extends State<OTPView> {\n\n\n  @override\n  initState() {\n    super.initState();\n    //code removed for NDA reasons \n  }\n\n  @override\n  Widget build(BuildContext context) {\n    final defaultPinTheme = PinTheme(\n      width: 56,\n      height: 56,\n      textStyle: const TextStyle(\n          fontSize: 20,\n          color: Color.fromRGBO(30, 60, 87, 1),\n          fontWeight: FontWeight.w600),\n      decoration: BoxDecoration(\n        border: Border.all(color: const Color.fromRGBO(234, 239, 243, 1)),\n        color: Colors.blueGrey,\n        borderRadius: BorderRadius.circular(20),\n      ),\n    );\n\n    final focusedPinTheme = defaultPinTheme.copyDecorationWith(\n      border: Border.all(color: const Color.fromRGBO(114, 178, 238, 1)),\n      borderRadius: BorderRadius.circular(8),\n    );\n\n    final submittedPinTheme = defaultPinTheme.copyWith(\n      decoration: defaultPinTheme.decoration?.copyWith(\n        color: const Color.fromRGBO(234, 239, 243, 1),\n      ),\n    );\n\n \n    return Scaffold(\n      body: Stack(\n        children: [\n          Center(\n            child: Column(\n              children: [\n                Pinput(\n                  length: 6,\n                  defaultPinTheme: defaultPinTheme,\n                  focusedPinTheme: focusedPinTheme,\n                  submittedPinTheme: submittedPinTheme,\n                  validator: (s) {\n                  },\n                  pinputAutovalidateMode: PinputAutovalidateMode.onSubmit,\n                  showCursor: true,\n                  onCompleted: (pin) async {\n                    setState(() {\n                      firebaseAuthService.smsCode = pin;\n                      firebaseAuthService.signInWithPhoneNumber();\n                    });\n                  },\n                ),\n              ],\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n  \n  //code removed for NDA reasons\n\n  void invalidAlert(BuildContext context) {\n    showDialog(\n      context: context,\n      builder: (BuildContext context) => AlertDialog(\n        title: const Text('Invalid OTP'),\n        content: const Text('This OTP is invalid.'),\n        actions: <Widget>[\n          TextButton(\n            onPressed: () => Navigator.pop(context, 'Cancel'),\n            child: const Text('Cancel'),\n          ),\n          TextButton(\n            onPressed: () => Navigator.pop(context, 'OK'),\n            child: const Text('OK'),\n          ),\n        ],\n      ),\n    );\n  }\n}\n",
            "class FirebaseAuthService {\n  final FirebaseAuth _firebaseAuth = FirebaseAuth.instance;\n  late final User user;\n\n  late String phoneNumber;\n  late String smsCode;\n\n  bool enteredOTP = false;\n\n  Future<void> signInWithPhoneNumber() async {\n    try {\n      await FirebaseAuth.instance.verifyPhoneNumber(\n        phoneNumber: phoneNumber,\n        verificationCompleted: (PhoneAuthCredential credential) async {\n          // ANDROID ONLY!\n\n          // Sign the user in (or link) with the auto-generated credential\n          await _firebaseAuth.signInWithCredential(credential);\n        },\n        verificationFailed: (FirebaseAuthException e) {\n          if (e.code == 'invalid-phone-number') {\n            print('The provided phone number is not valid.');\n          }\n\n          // Handle other errors\n        },\n        codeSent: (String verificationId, int? resendToken) async {\n          // Update the UI - wait for the user to enter the SMS code\n\n\n          // Create a PhoneAuthCredential with the code\n\n          PhoneAuthCredential credential = PhoneAuthProvider.credential(verificationId: verificationId, smsCode: smsCode);\n\n          // Sign the user in (or link) with the credential\n          await _firebaseAuth.signInWithCredential(credential);\n        },\n        codeAutoRetrievalTimeout: (String verificationId) {},\n      );\n      ;\n    } on Exception catch (e) {\n      print(e);\n    }\n  }\n}\n\n",
            "async",
            "await"
        ]
    },
    {
        "titulo": "Riverpod Stream Provider Testing in Pure Dart",
        "score": 4,
        "views": 224,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "mockito",
            "riverpod",
            "dart-stream"
        ],
        "link": "https://stackoverflow.com/questions/76560554/riverpod-stream-provider-testing-in-pure-dart",
        "conteudo_html": "<p>I'm struggling with writing a test for a Stream Provider. It can obviously be done, but I'm kind of new to using Mocks, and I haven't figured out a way to get it to work. Here's what I have so far:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>@Riverpod(keepAlive: true)\nclass AtFhirListen extends _$AtFhirListen {\n  @override\n  Stream&lt;AtFhirNotification&gt; build(AtClient atClient) async* {\n    atClient.notificationService\n        .subscribe(shouldDecrypt: true)\n        .map((AtNotification atNotification) async* {\n      if (atNotification.value != null) {\n        try {\n          final AtFhirNotification atFhirNotification =\n              AtFhirNotification.fromJsonString(atNotification.value!);\n          yield atFhirNotification;\n        } catch (exception) {\n          // TODO(Dokotela): what do to with this error\n        }\n      }\n    });\n  }\n}\n</code></pre>\n<p>And then:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class MockAtClient extends Mock implements AtClient {\n  @override\n  final NotificationService notificationService = MockNotificationService();\n}\n\nclass MockNotificationService extends Mock implements NotificationService {\n  @override\n  Stream&lt;AtNotification&gt; subscribe({String? regex, bool? shouldDecrypt}) {\n    return Stream&lt;AtNotification&gt;.fromIterable(&lt;AtNotification&gt;[\n      AtNotification('id1', 'key1', '@from1', '@to1', 12345, 'text', true),\n      AtNotification('id2', 'key2', '@from2', '@to2', 12345, 'text', true,\n          value: Dstu2ResourceNotification(\n                  dstu2.Patient(fhirId: dstu2.FhirId('id2')))\n              .toJsonString()),\n      AtNotification('id3', 'key3', '@from3', '@to3', 12345, 'text', true),\n      AtNotification('id4', 'key4', '@from4', '@to4', 12345, 'text', true),\n    ]);\n  }\n}\n\nvoid main() {\n  final MockAtClient atClient = MockAtClient();\n  group('AtFhirListen', () {\n    test('should return AtFhirNotification', () async {\n      final Stream&lt;AtFhirNotification&gt; stream = AtFhirListen().build(atClient);\n      expect(\n          await stream.first,\n          AtFhirNotification.dstu2Resource(\n              dstu2.Patient(fhirId: dstu2.FhirId('id2'))));\n    });\n  });\n}\n</code></pre>\n<p>Which gives me a <code>bad state, no element error</code>. I've also tried to follow the <a href=\"https://codewithandrea.com/articles/unit-test-async-notifier-riverpod/\" rel=\"nofollow noreferrer\">tutorial here</a>, which I thought would give me something like this:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void main() {\n  group('AtFhirListen', () {\n    test('should return AtFhirNotification', () async {\n      final MockAtClient atClient = MockAtClient();\n      final ProviderContainer container = ProviderContainer();\n      final Listener&lt;AsyncValue&lt;AtFhirNotification&gt;&gt; listener =\n          Listener&lt;AsyncValue&lt;AtFhirNotification&gt;&gt;();\n\n      container.listen(\n        atFhirListenProvider(atClient),\n        listener,\n        fireImmediately: true,\n      );\n      verify(\n        () =&gt; listener(\n            null,\n            AsyncData&lt;AtFhirNotification&gt;(\n              Dstu2ResourceNotification(\n                  dstu2.Patient(fhirId: dstu2.FhirId('id2'))),\n            )),\n      );\n    });\n  });\n}\n</code></pre>\n<p>But then that gives me an error of: <code>TestFailure (Used on a non-mockito object)</code>. As I said, I'm new to using Mockito, so pointers on what I'm doing wrong would be appreciated.</p>\n",
        "codigo": [
            "@Riverpod(keepAlive: true)\nclass AtFhirListen extends _$AtFhirListen {\n  @override\n  Stream<AtFhirNotification> build(AtClient atClient) async* {\n    atClient.notificationService\n        .subscribe(shouldDecrypt: true)\n        .map((AtNotification atNotification) async* {\n      if (atNotification.value != null) {\n        try {\n          final AtFhirNotification atFhirNotification =\n              AtFhirNotification.fromJsonString(atNotification.value!);\n          yield atFhirNotification;\n        } catch (exception) {\n          // TODO(Dokotela): what do to with this error\n        }\n      }\n    });\n  }\n}\n",
            "class MockAtClient extends Mock implements AtClient {\n  @override\n  final NotificationService notificationService = MockNotificationService();\n}\n\nclass MockNotificationService extends Mock implements NotificationService {\n  @override\n  Stream<AtNotification> subscribe({String? regex, bool? shouldDecrypt}) {\n    return Stream<AtNotification>.fromIterable(<AtNotification>[\n      AtNotification('id1', 'key1', '@from1', '@to1', 12345, 'text', true),\n      AtNotification('id2', 'key2', '@from2', '@to2', 12345, 'text', true,\n          value: Dstu2ResourceNotification(\n                  dstu2.Patient(fhirId: dstu2.FhirId('id2')))\n              .toJsonString()),\n      AtNotification('id3', 'key3', '@from3', '@to3', 12345, 'text', true),\n      AtNotification('id4', 'key4', '@from4', '@to4', 12345, 'text', true),\n    ]);\n  }\n}\n\nvoid main() {\n  final MockAtClient atClient = MockAtClient();\n  group('AtFhirListen', () {\n    test('should return AtFhirNotification', () async {\n      final Stream<AtFhirNotification> stream = AtFhirListen().build(atClient);\n      expect(\n          await stream.first,\n          AtFhirNotification.dstu2Resource(\n              dstu2.Patient(fhirId: dstu2.FhirId('id2'))));\n    });\n  });\n}\n",
            "bad state, no element error",
            "void main() {\n  group('AtFhirListen', () {\n    test('should return AtFhirNotification', () async {\n      final MockAtClient atClient = MockAtClient();\n      final ProviderContainer container = ProviderContainer();\n      final Listener<AsyncValue<AtFhirNotification>> listener =\n          Listener<AsyncValue<AtFhirNotification>>();\n\n      container.listen(\n        atFhirListenProvider(atClient),\n        listener,\n        fireImmediately: true,\n      );\n      verify(\n        () => listener(\n            null,\n            AsyncData<AtFhirNotification>(\n              Dstu2ResourceNotification(\n                  dstu2.Patient(fhirId: dstu2.FhirId('id2'))),\n            )),\n      );\n    });\n  });\n}\n",
            "TestFailure (Used on a non-mockito object)"
        ]
    },
    {
        "titulo": "Unable to Pass Image Parameter to replicate gfpgan/api in Flutter: Input Validation Error 422",
        "score": 1,
        "views": 1615,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76551248/unable-to-pass-image-parameter-to-replicate-gfpgan-api-in-flutter-input-validat",
        "conteudo_html": "<p>I am integrating the gfpgan/api from replicate (Official documentation : <a href=\"https://replicate.com/tencentarc/gfpgan\" rel=\"nofollow noreferrer\">https://replicate.com/tencentarc/gfpgan</a>) into my Flutter application to allow users to enhance their images. However, I'm encountering issues with sending the image in the request body. I have tried multiple approaches mentioned in the API documentation, but none of them seem to work.</p>\n<p>Here are the methods I've tried:</p>\n<ol>\n<li>Using the image file path directly:</li>\n</ol>\n<pre class=\"lang-dart prettyprint-override\"><code>final predictionUrl = 'https://api.replicate.com/v1/predictions';\nfinal imgValue = imageFile != null ? Uri.file(imageFile.path).toString() : &quot;&quot;;\nprint('img value: $imgValue');\nfinal predictionData = {\n  'version': modelVersion,\n  'input': {'img': imgValue},\n};\n</code></pre>\n<p>I tested the generated path and it looks like: <code>file:///C:/Users/pc/Pictures/Intropic.png</code>.</p>\n<ol start=\"2\">\n<li>Passing the image file path directly.</li>\n<li>Encoding the image file as base64 and passing it as a string.</li>\n<li>Passing the image as a stream.</li>\n</ol>\n<p>Unfortunately, all of these methods result in the following error:</p>\n<pre><code>Prediction request failed: 422\nbody: {&quot;detail&quot;:&quot;- input.img: Does not match format 'uri'\\n&quot;,&quot;status&quot;:422,&quot;title&quot;:&quot;Input validation failed&quot;,&quot;invalid_fields&quot;:[{&quot;type&quot;:…&quot;}\n</code></pre>\n<p>I have also tried a different approach where I successfully generate the input body parameter using the base64-encoded image data:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>var input = Uri.dataFromString(base64Encode(fileBytes!), mimeType: 'application/octet-stream').toString();\n</code></pre>\n<p>However, this method throws a different exception:</p>\n<pre><code>Prediction input failed validation: {&quot;detail&quot;:[{&quot;loc&quot;:[&quot;body&quot;,&quot;input&quot;,&quot;img&quot;],&quot;msg&quot;:&quot;not enough values to unpack (expected 2, got…&quot;, &quot;status&quot;: &quot;failed&quot;}\n</code></pre>\n<p>I would greatly appreciate any guidance or insights into the correct way to pass the input image parameter in the request.</p>\n<p>Thank you in advance for your help!</p>\n",
        "codigo": [
            "final predictionUrl = 'https://api.replicate.com/v1/predictions';\nfinal imgValue = imageFile != null ? Uri.file(imageFile.path).toString() : \"\";\nprint('img value: $imgValue');\nfinal predictionData = {\n  'version': modelVersion,\n  'input': {'img': imgValue},\n};\n",
            "file:///C:/Users/pc/Pictures/Intropic.png",
            "Prediction request failed: 422\nbody: {\"detail\":\"- input.img: Does not match format 'uri'\\n\",\"status\":422,\"title\":\"Input validation failed\",\"invalid_fields\":[{\"type\":…\"}\n",
            "var input = Uri.dataFromString(base64Encode(fileBytes!), mimeType: 'application/octet-stream').toString();\n",
            "Prediction input failed validation: {\"detail\":[{\"loc\":[\"body\",\"input\",\"img\"],\"msg\":\"not enough values to unpack (expected 2, got…\", \"status\": \"failed\"}\n"
        ]
    },
    {
        "titulo": "flutter error - Expected a value of type &#39;String&#39;, but got one of type &#39;int&#39;",
        "score": 1,
        "views": 430,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76546203/flutter-error-expected-a-value-of-type-string-but-got-one-of-type-int",
        "conteudo_html": "<p>This is my function in a Flutter app to calculate the final price of the product by multiplying the product price and product quantity from the list</p>\n<pre><code>int calci() {\n  int totalPrice = 0;\n  for (int i = 0; i &lt; cartitem.length; i++) {\n    int price = int.parse(cartitem[i][1]);\n    int quantity = int.parse(cartitem[i][4]);\n    totalPrice += price * quantity;\n  }\n  return totalPrice;\n}\n</code></pre>\n<p>and here is the code where I am displaying it</p>\n<pre><code>Text(\n  '₹${calci().toString()}',\n  style: const TextStyle(\n    fontSize: 18,\n    fontWeight: FontWeight.bold,\n    color: Colors.white,\n  ),\n),\n</code></pre>\n<p>Now after running the app, this is giving me an error of typecasting I don't know I tried a lot but was unable to resolve it.</p>\n<p><code>Expected a value of type 'String', but got one of type 'int' </code></p>\n",
        "codigo": [
            "int calci() {\n  int totalPrice = 0;\n  for (int i = 0; i < cartitem.length; i++) {\n    int price = int.parse(cartitem[i][1]);\n    int quantity = int.parse(cartitem[i][4]);\n    totalPrice += price * quantity;\n  }\n  return totalPrice;\n}\n",
            "Text(\n  '₹${calci().toString()}',\n  style: const TextStyle(\n    fontSize: 18,\n    fontWeight: FontWeight.bold,\n    color: Colors.white,\n  ),\n),\n",
            "Expected a value of type 'String', but got one of type 'int' "
        ]
    },
    {
        "titulo": "Dart Null-Check subpattern? error in IntelliJIDEA",
        "score": 0,
        "views": 59,
        "respostas": 2,
        "tags": [
            "dart",
            "intellij-idea"
        ],
        "link": "https://stackoverflow.com/questions/76543213/dart-null-check-subpattern-error-in-intellijidea",
        "conteudo_html": "<p>According to the official dart documentation (<a href=\"https://dart.dev/language/pattern-types\" rel=\"nofollow noreferrer\">https://dart.dev/language/pattern-types</a>) the following pattern should be valid:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>String? maybeString = 'nullable with base type String';\n\nswitch (maybeString) {\n  case var s?:\n    break;\n    // 's' has type non-nullable String here.\n}\n</code></pre>\n<p>I am developing in IntelliJ IDEA 2023.1.3 (Community Edition) with Dart 3.0.5 and I am getting the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>bin/dart_testproject.dart:7:16: Error: Expected an identifier, but got ':'.\nTry inserting an identifier before ':'.\n    case var a?:\n</code></pre>\n<p>I was on an older version of dart and IntelliJ before. Updated everything to the newest official releases but the error remains.</p>\n",
        "codigo": [
            "String? maybeString = 'nullable with base type String';\n\nswitch (maybeString) {\n  case var s?:\n    break;\n    // 's' has type non-nullable String here.\n}\n",
            "bin/dart_testproject.dart:7:16: Error: Expected an identifier, but got ':'.\nTry inserting an identifier before ':'.\n    case var a?:\n"
        ]
    },
    {
        "titulo": "Flutter: setState in a callback rebuilds but doesn&#39;t fetch fresh data",
        "score": 0,
        "views": 85,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76530556/flutter-setstate-in-a-callback-rebuilds-but-doesnt-fetch-fresh-data",
        "conteudo_html": "<p>Just getting back into flutter, with the skeleton of a simple v2 project to upgrade and finish.</p>\n<p>I create a page as the scaffold body with and pass variables and a callback function. The callback function wraps the update of the variables inside a setState. The same body widget will be used several times with different values passed and then different data loaded.</p>\n<p>I've got a demo at <a href=\"https://zapp.run/edit/zy3c060xy3d0?split=50&amp;lazy=false&amp;entry=lib/main.dart&amp;file=lib/menu_list_screen.dart\" rel=\"nofollow noreferrer\">https://zapp.run/edit/zy3c060xy3d0?split=50&amp;lazy=false&amp;entry=lib/main.dart&amp;file=lib/menu_list_screen.dart</a></p>\n<pre><code>@override\n  Widget build(BuildContext context) {\n\n    return Scaffold(\n      appBar: MyAppBar(),\n      body: getPage(_pageKey),\n      bottomNavigationBar: bottomNavBar,\n    );\n  }\n</code></pre>\n<p>getPage simply invokes the widget and returns it. There's a switch but it's essentially lots of this...</p>\n<pre><code>return MenuListScreen(\n            menu: _pageKey,\n            email: _email,\n            associationId: _associationId,\n            callback: menuCallback);\n</code></pre>\n<p>The callback needs to work out what the menu item was requesting and I'd expected the setState to trigger the rebuild. I can see that the callback is running, the private variables are changing but the build() never gets called.</p>\n<pre><code>// C A L L B A C K\n  void menuCallback(pageType, url) {\n    setState(() {\n      if (url.contains('/feed/menu/mobile')) {\n        _pageType = 'menu';\n        _pageKey = getMenuName(url);\n        _pageId = '';\n      } else {\n        _pageType = pageType;\n        _pageKey = '';\n        _pageId = getPageId(url);\n      }\n    });\n\n    print('===');\n    print('menuCallback $_pageType $_pageKey $_pageId $url');\n    print('===');\n  }\n</code></pre>\n<p>Put it all together and the class looks like this:</p>\n<pre><code>class MyTabBuilder extends StatefulWidget {\n  const MyTabBuilder({Key? key}) : super(key: key);\n\n  static const routeName = '/tabBuilder';\n\n  @override\n  State&lt;MyTabBuilder&gt; createState() =&gt; _MyTabBuilderState();\n}\n\nclass _MyTabBuilderState extends State&lt;MyTabBuilder&gt; {\n \n\n  // Used to draw the tabs at the bottom\n  final List&lt;Map&lt;String, Object&gt;&gt; _tabs = [\n    {'label': 'Home', 'icon': Icons.home},\n    {'label': 'Card', 'icon': Icons.credit_card},\n    {'label': 'Events', 'icon': Icons.calendar_month},\n    {'label': 'News', 'icon': Icons.newspaper},\n  ];\n\n  //int _selectedPageIndex = 0;\n  String _email = &quot;&quot;;\n  int _associationId = 22;\n  String _pageType = 'menu';\n  String _pageKey = 'mobilehome';\n  String _pageId = &quot;&quot;; // contents_id for when showing a single news/event etc\n\n  \n\n  // listing mobileevents but all the menu options will be handled the same way.\n  final List pageReference = [\n    \n    {'page': 'eventview', 'index': 5, 'tabIndex': 2},\n    {'page': 'newsview', 'index': 6, 'tabIndex': 3},\n    {'page': 'menu', 'index': 7, 'tabIndex': 0},\n  ];\n\n  int get tabIndex {\n    final pageDetails =\n        pageReference.where((map) =&gt; map[&quot;page&quot;] == _pageType).toList();\n    if (pageDetails.isNotEmpty) {\n      return pageDetails[0]['tabIndex'];\n    }\n    return 7;\n  }\n\n  // which tab do we want\n  int getPageIndex(pageName) {\n    final pageRef =\n        pageReference.where((map) =&gt; map[&quot;page&quot;] == pageName).toList();\n\n    if (pageRef.isNotEmpty) {\n      // expected to be able to return pageDetails[0].index but many errors.\n      return pageRef[0]['index'];\n    }\n\n    // 7 is the home screen but it's never a callback\n    return 7;\n  }\n\n  String getMenuName(url) {\n    const String start = '/feed/menu/';\n    const String end = '.json';\n    final startIndex = url.indexOf(start);\n    final endIndex = url.indexOf(end, startIndex + start.length);\n\n    return url.substring(startIndex + start.length, endIndex);\n  }\n\n  String getPageId(url) {\n    const String start = '/feed/item/';\n    const String end = '.json';\n    final startIndex = url.indexOf(start);\n    final endIndex = url.indexOf(end, startIndex + start.length);\n\n    return url.substring(startIndex + start.length, endIndex);\n  }\n\n  // C A L L B A C K\n  void menuCallback(pageType, url) {\n    setState(() {\n      if (url.contains('/feed/menu/mobile')) {\n        _pageType = 'menu';\n        _pageKey = getMenuName(url);\n        _pageId = '';\n      } else {\n        _pageType = pageType;\n        _pageKey = '';\n        _pageId = getPageId(url);\n      }\n    });\n\n    //int index = getPageIndex(pageType);\n    print('===');\n    print('menuCallback $_pageType $_pageKey $_pageId $url');\n    print('===');\n  }\n\n \n\n  @override\n  void initState() {\n    super.initState();\n    \n  }\n\n  \n\n  List&lt;BottomNavigationBarItem&gt; get _getBottomNavigationBarItems {\n    List&lt;BottomNavigationBarItem&gt; output = [];\n\n    for (var element in _tabs) {\n      print(&quot;bottom tab bar item: ${element['label']}&quot;);\n\n      output.add(\n        BottomNavigationBarItem(\n          icon: Icon(element['icon'] as IconData),\n          label: (element['label'] as String),\n          backgroundColor: Colors.blue,\n        ),\n      );\n    }\n\n    return output;\n  }\n\n  Widget getPage(pageKey) {\n    int idx = getPageIndex(pageKey);\n    print('getPage: $pageKey, $idx');\n\n    switch (idx) {\n      \n      case 0:\n      case 7:\n      default:\n        print('=-=-=-=-=');\n        print('$_pageType $_pageKey $_pageId');\n        print('=-=-=-=-=');\n        return MenuListScreen(\n            menu: _pageKey,\n            email: _email,\n            associationId: _associationId,\n            callback: menuCallback);\n    }\n  }\n\n  BottomNavigationBar get bottomNavBar =&gt; BottomNavigationBar(\n      items: _getBottomNavigationBarItems,\n      currentIndex: tabIndex,\n      elevation: 10.0,\n      selectedItemColor: Colors.green,\n      unselectedItemColor: Colors.white,\n      selectedLabelStyle: const TextStyle(color: Colors.green),\n      unselectedLabelStyle: const TextStyle(color: Colors.white),\n      showSelectedLabels: true,\n      showUnselectedLabels: true,\n      onTap: (int index) {\n        setState(() {\n          _pageKey = _pageKey;\n          // this will be ignored by news and events but overrides any existing\n          // choices made by the user.\n          _pageId = '';\n        });\n      });\n\n  @override\n  Widget build(BuildContext context) {\n    //final routeArgs = ModalRoute.of(context)!.settings.arguments;\n\n    print('build: $_pageKey');\n\n    return Scaffold(\n      appBar: MyAppBar(),\n      body: getPage(_pageKey),\n      bottomNavigationBar: bottomNavBar,\n    );\n  }\n}\n</code></pre>\n<p>On the widget that's being called there's a refresh function and when that is invoked the body does rebuild and with the new information.</p>\n<pre><code>void doRefresh() {\n    menuList =\n        NetworkMenuList(menu: widget.menu, email: widget.email).refreshMenuList();\n    setState(() {});\n  }\n</code></pre>\n<p>The full MenuList is</p>\n<pre><code>class MenuListScreen extends StatefulWidget {\n  const MenuListScreen(\n      {Key? key,\n      required this.menu,\n      required this.email,\n      required this.associationId,\n      required this.callback})\n      : super(key: key);\n  final String menu;\n  final String email;\n  final int associationId;\n  final Function callback;\n\n  static const routeName = '/menuList';\n\n  @override\n  State&lt;MenuListScreen&gt; createState() =&gt; _HomeListScreenState();\n}\n\nclass _HomeListScreenState extends State&lt;MenuListScreen&gt; {\n  late Future&lt;MenuListModel&gt; menuList =\n      NetworkMenuList(menu: widget.menu, email: widget.email).getMenuList();\n\n  @override\n  void initState() {\n    super.initState();\n    print(&quot;=*=*=*=*=*=*= init ${widget.menu}&quot;);\n  }\n\n  void doRefresh() {\n    menuList =\n        NetworkMenuList(menu: widget.menu, email: widget.email).refreshMenuList();\n    setState(() {});\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    //final routeArgs = ModalRoute.of(context)!.settings.arguments;\n\n    return RefreshIndicator(\n      color: Colors.green,\n      onRefresh: () async {\n        return doRefresh();\n      },\n      child: Column(\n        mainAxisAlignment: MainAxisAlignment.start,\n        crossAxisAlignment: CrossAxisAlignment.center,\n        children: [\n          const SizedBox(\n            height: 20,\n            width: double.infinity,\n          ),\n          FutureBuilder&lt;MenuListModel&gt;(\n              future: menuList,\n              builder: (context, snapshot) {\n                if (snapshot.hasData) {\n\n                  return Expanded(\n                    child: ListView.builder(\n                        itemCount: snapshot.data!.menu.length,\n                        itemBuilder: (context, index) {\n                          return MenuCard(\n                              menuRow: snapshot.data!.menu[index],\n                              callback: widget.callback);\n                        }),\n                  );\n                } else {\n                  return const CircularProgressIndicator();\n                }\n              }),\n        ],\n      ),\n    );\n  }\n}\n</code></pre>\n<p>EDIT: I've added more debugging and I can see that the widgets rebuild BUT the call to get the data doesn't run and it uses the old value. I'm creating a new instance of the screen, I'd expect the data to have to run. How do I force it?</p>\n",
        "codigo": [
            "@override\n  Widget build(BuildContext context) {\n\n    return Scaffold(\n      appBar: MyAppBar(),\n      body: getPage(_pageKey),\n      bottomNavigationBar: bottomNavBar,\n    );\n  }\n",
            "return MenuListScreen(\n            menu: _pageKey,\n            email: _email,\n            associationId: _associationId,\n            callback: menuCallback);\n",
            "// C A L L B A C K\n  void menuCallback(pageType, url) {\n    setState(() {\n      if (url.contains('/feed/menu/mobile')) {\n        _pageType = 'menu';\n        _pageKey = getMenuName(url);\n        _pageId = '';\n      } else {\n        _pageType = pageType;\n        _pageKey = '';\n        _pageId = getPageId(url);\n      }\n    });\n\n    print('===');\n    print('menuCallback $_pageType $_pageKey $_pageId $url');\n    print('===');\n  }\n",
            "class MyTabBuilder extends StatefulWidget {\n  const MyTabBuilder({Key? key}) : super(key: key);\n\n  static const routeName = '/tabBuilder';\n\n  @override\n  State<MyTabBuilder> createState() => _MyTabBuilderState();\n}\n\nclass _MyTabBuilderState extends State<MyTabBuilder> {\n \n\n  // Used to draw the tabs at the bottom\n  final List<Map<String, Object>> _tabs = [\n    {'label': 'Home', 'icon': Icons.home},\n    {'label': 'Card', 'icon': Icons.credit_card},\n    {'label': 'Events', 'icon': Icons.calendar_month},\n    {'label': 'News', 'icon': Icons.newspaper},\n  ];\n\n  //int _selectedPageIndex = 0;\n  String _email = \"\";\n  int _associationId = 22;\n  String _pageType = 'menu';\n  String _pageKey = 'mobilehome';\n  String _pageId = \"\"; // contents_id for when showing a single news/event etc\n\n  \n\n  // listing mobileevents but all the menu options will be handled the same way.\n  final List pageReference = [\n    \n    {'page': 'eventview', 'index': 5, 'tabIndex': 2},\n    {'page': 'newsview', 'index': 6, 'tabIndex': 3},\n    {'page': 'menu', 'index': 7, 'tabIndex': 0},\n  ];\n\n  int get tabIndex {\n    final pageDetails =\n        pageReference.where((map) => map[\"page\"] == _pageType).toList();\n    if (pageDetails.isNotEmpty) {\n      return pageDetails[0]['tabIndex'];\n    }\n    return 7;\n  }\n\n  // which tab do we want\n  int getPageIndex(pageName) {\n    final pageRef =\n        pageReference.where((map) => map[\"page\"] == pageName).toList();\n\n    if (pageRef.isNotEmpty) {\n      // expected to be able to return pageDetails[0].index but many errors.\n      return pageRef[0]['index'];\n    }\n\n    // 7 is the home screen but it's never a callback\n    return 7;\n  }\n\n  String getMenuName(url) {\n    const String start = '/feed/menu/';\n    const String end = '.json';\n    final startIndex = url.indexOf(start);\n    final endIndex = url.indexOf(end, startIndex + start.length);\n\n    return url.substring(startIndex + start.length, endIndex);\n  }\n\n  String getPageId(url) {\n    const String start = '/feed/item/';\n    const String end = '.json';\n    final startIndex = url.indexOf(start);\n    final endIndex = url.indexOf(end, startIndex + start.length);\n\n    return url.substring(startIndex + start.length, endIndex);\n  }\n\n  // C A L L B A C K\n  void menuCallback(pageType, url) {\n    setState(() {\n      if (url.contains('/feed/menu/mobile')) {\n        _pageType = 'menu';\n        _pageKey = getMenuName(url);\n        _pageId = '';\n      } else {\n        _pageType = pageType;\n        _pageKey = '';\n        _pageId = getPageId(url);\n      }\n    });\n\n    //int index = getPageIndex(pageType);\n    print('===');\n    print('menuCallback $_pageType $_pageKey $_pageId $url');\n    print('===');\n  }\n\n \n\n  @override\n  void initState() {\n    super.initState();\n    \n  }\n\n  \n\n  List<BottomNavigationBarItem> get _getBottomNavigationBarItems {\n    List<BottomNavigationBarItem> output = [];\n\n    for (var element in _tabs) {\n      print(\"bottom tab bar item: ${element['label']}\");\n\n      output.add(\n        BottomNavigationBarItem(\n          icon: Icon(element['icon'] as IconData),\n          label: (element['label'] as String),\n          backgroundColor: Colors.blue,\n        ),\n      );\n    }\n\n    return output;\n  }\n\n  Widget getPage(pageKey) {\n    int idx = getPageIndex(pageKey);\n    print('getPage: $pageKey, $idx');\n\n    switch (idx) {\n      \n      case 0:\n      case 7:\n      default:\n        print('=-=-=-=-=');\n        print('$_pageType $_pageKey $_pageId');\n        print('=-=-=-=-=');\n        return MenuListScreen(\n            menu: _pageKey,\n            email: _email,\n            associationId: _associationId,\n            callback: menuCallback);\n    }\n  }\n\n  BottomNavigationBar get bottomNavBar => BottomNavigationBar(\n      items: _getBottomNavigationBarItems,\n      currentIndex: tabIndex,\n      elevation: 10.0,\n      selectedItemColor: Colors.green,\n      unselectedItemColor: Colors.white,\n      selectedLabelStyle: const TextStyle(color: Colors.green),\n      unselectedLabelStyle: const TextStyle(color: Colors.white),\n      showSelectedLabels: true,\n      showUnselectedLabels: true,\n      onTap: (int index) {\n        setState(() {\n          _pageKey = _pageKey;\n          // this will be ignored by news and events but overrides any existing\n          // choices made by the user.\n          _pageId = '';\n        });\n      });\n\n  @override\n  Widget build(BuildContext context) {\n    //final routeArgs = ModalRoute.of(context)!.settings.arguments;\n\n    print('build: $_pageKey');\n\n    return Scaffold(\n      appBar: MyAppBar(),\n      body: getPage(_pageKey),\n      bottomNavigationBar: bottomNavBar,\n    );\n  }\n}\n",
            "void doRefresh() {\n    menuList =\n        NetworkMenuList(menu: widget.menu, email: widget.email).refreshMenuList();\n    setState(() {});\n  }\n",
            "class MenuListScreen extends StatefulWidget {\n  const MenuListScreen(\n      {Key? key,\n      required this.menu,\n      required this.email,\n      required this.associationId,\n      required this.callback})\n      : super(key: key);\n  final String menu;\n  final String email;\n  final int associationId;\n  final Function callback;\n\n  static const routeName = '/menuList';\n\n  @override\n  State<MenuListScreen> createState() => _HomeListScreenState();\n}\n\nclass _HomeListScreenState extends State<MenuListScreen> {\n  late Future<MenuListModel> menuList =\n      NetworkMenuList(menu: widget.menu, email: widget.email).getMenuList();\n\n  @override\n  void initState() {\n    super.initState();\n    print(\"=*=*=*=*=*=*= init ${widget.menu}\");\n  }\n\n  void doRefresh() {\n    menuList =\n        NetworkMenuList(menu: widget.menu, email: widget.email).refreshMenuList();\n    setState(() {});\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    //final routeArgs = ModalRoute.of(context)!.settings.arguments;\n\n    return RefreshIndicator(\n      color: Colors.green,\n      onRefresh: () async {\n        return doRefresh();\n      },\n      child: Column(\n        mainAxisAlignment: MainAxisAlignment.start,\n        crossAxisAlignment: CrossAxisAlignment.center,\n        children: [\n          const SizedBox(\n            height: 20,\n            width: double.infinity,\n          ),\n          FutureBuilder<MenuListModel>(\n              future: menuList,\n              builder: (context, snapshot) {\n                if (snapshot.hasData) {\n\n                  return Expanded(\n                    child: ListView.builder(\n                        itemCount: snapshot.data!.menu.length,\n                        itemBuilder: (context, index) {\n                          return MenuCard(\n                              menuRow: snapshot.data!.menu[index],\n                              callback: widget.callback);\n                        }),\n                  );\n                } else {\n                  return const CircularProgressIndicator();\n                }\n              }),\n        ],\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "How to use latest version dart package?",
        "score": 0,
        "views": 4772,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-dependencies",
            "dart-pub"
        ],
        "link": "https://stackoverflow.com/questions/76515614/how-to-use-latest-version-dart-package",
        "conteudo_html": "<p>I am using Flutter on Android Studio. And I want to use some package that null safety. I can not use any package when this package's title has. I tried Flutter upgrade and I upgraded to the latest version. But it still is not working. Also, I upgraded the latest Dart package. Lastly, I used stable mod. But I still get the error message.</p>\n<p>I want to use accordion 2.5.1. It has null safety title.</p>\n<p>environment:</p>\n<pre><code>  sdk: &quot;&gt;=2.7.0 &lt;3.0.5&quot;\n</code></pre>\n<p>I tried to make :</p>\n<p>environment:</p>\n<pre><code>  sdk: &quot;&gt;=2.11.0 &lt;3.0.0&quot;\n</code></pre>\n<p>But I still get this error message:</p>\n<pre><code>The current Dart SDK version is 2.11.0-213.1.beta.\n\nBecause unnamed_cv requires SDK version &gt;=2.11.0 &lt;3.0.5, version solving failed.\npub get failed (1; Because unnamed_cv requires SDK version &gt;=2.11.0 &lt;3.0.5, version solving failed.)\n</code></pre>\n<p>Also, You can see my terminal message:</p>\n<pre><code>C:\\Users\\user\\AndroidStudioProjects\\unnamed_cv&gt;flutter packages pub upgrade\nResolving dependencies...\nThe lower bound of &quot;sdk: '&gt;=2.7.0 &lt;3.0.0'&quot; must be 2.12.0'\nor higher to enable null safety.\n\nThe current Dart SDK (3.0.5) only supports null safety.\n</code></pre>\n<p>While I use  accordion 2.5.1. or other high version packages. I always same error. How can I fix it?</p>\n<p>Also, You can check when I wrote to the terminal &quot;flutter doctor -v&quot; I am getting this message:</p>\n<pre><code> Flutter (Channel stable, 3.10.5, on Microsoft Windows [Version 10.0.19045.3086], locale tr-TR)\n    • Flutter version 3.10.5 on channel stable at C:\\Users\\user\\Documents\\flutter_windows_1.22.2-stable\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 796c8ef792 (7 days ago), 2023-06-13 15:51:02 -0700\n    • Engine revision 45f6e00911\n    • Dart version 3.0.5\n    • DevTools version 2.23.1\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[!] Android toolchain - develop for Android devices (Android SDK version 30.0.2)\n    • Android SDK at C:\\Users\\user\\AppData\\Local\\Android\\sdk\n    X cmdline-tools component is missing\n      Run `path/to/sdkmanager --install &quot;cmdline-tools;latest&quot;`\n      See https://developer.android.com/studio/command-line for more details.\n    X Android license status unknown.\n      Run `flutter doctor --android-licenses` to accept the SDK licenses.\n      See https://flutter.dev/docs/get-started/install/windows#android-setup for more details.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[!] Visual Studio - develop for Windows (Visual Studio Community 2019 16.11.3)\n    • Visual Studio at C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\n    • Visual Studio Community 2019 version 16.11.31702.278\n    • Windows 10 SDK version 10.0.19041.0\n    X Visual Studio is missing necessary components. Please re-run the Visual Studio installer for the &quot;Desktop development with C++&quot; workload, and include these components:\n        MSVC v142 - VS 2019 C++ x64/x86 build tools\n         - If there are multiple build tool versions available, install the latest\n        C++ CMake tools for Windows\n        Windows 10 SDK\n\n[√] Android Studio (version 4.1)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\n\n[√] VS Code (version 1.78.2)\n    • VS Code at C:\\Users\\user\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension can be installed from:\n       https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter\n\n[√] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.19045.3086]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 114.0.5735.134\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 114.0.1823.43\n\n[√] Network resources\n    • All expected network resources are available.\n</code></pre>\n",
        "codigo": [
            "  sdk: \">=2.7.0 <3.0.5\"\n",
            "  sdk: \">=2.11.0 <3.0.0\"\n",
            "The current Dart SDK version is 2.11.0-213.1.beta.\n\nBecause unnamed_cv requires SDK version >=2.11.0 <3.0.5, version solving failed.\npub get failed (1; Because unnamed_cv requires SDK version >=2.11.0 <3.0.5, version solving failed.)\n",
            "C:\\Users\\user\\AndroidStudioProjects\\unnamed_cv>flutter packages pub upgrade\nResolving dependencies...\nThe lower bound of \"sdk: '>=2.7.0 <3.0.0'\" must be 2.12.0'\nor higher to enable null safety.\n\nThe current Dart SDK (3.0.5) only supports null safety.\n",
            " Flutter (Channel stable, 3.10.5, on Microsoft Windows [Version 10.0.19045.3086], locale tr-TR)\n    • Flutter version 3.10.5 on channel stable at C:\\Users\\user\\Documents\\flutter_windows_1.22.2-stable\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 796c8ef792 (7 days ago), 2023-06-13 15:51:02 -0700\n    • Engine revision 45f6e00911\n    • Dart version 3.0.5\n    • DevTools version 2.23.1\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[!] Android toolchain - develop for Android devices (Android SDK version 30.0.2)\n    • Android SDK at C:\\Users\\user\\AppData\\Local\\Android\\sdk\n    X cmdline-tools component is missing\n      Run `path/to/sdkmanager --install \"cmdline-tools;latest\"`\n      See https://developer.android.com/studio/command-line for more details.\n    X Android license status unknown.\n      Run `flutter doctor --android-licenses` to accept the SDK licenses.\n      See https://flutter.dev/docs/get-started/install/windows#android-setup for more details.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[!] Visual Studio - develop for Windows (Visual Studio Community 2019 16.11.3)\n    • Visual Studio at C:\\Program Files (x86)\\Microsoft Visual Studio\\2019\\Community\n    • Visual Studio Community 2019 version 16.11.31702.278\n    • Windows 10 SDK version 10.0.19041.0\n    X Visual Studio is missing necessary components. Please re-run the Visual Studio installer for the \"Desktop development with C++\" workload, and include these components:\n        MSVC v142 - VS 2019 C++ x64/x86 build tools\n         - If there are multiple build tool versions available, install the latest\n        C++ CMake tools for Windows\n        Windows 10 SDK\n\n[√] Android Studio (version 4.1)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\n\n[√] VS Code (version 1.78.2)\n    • VS Code at C:\\Users\\user\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension can be installed from:\n       https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter\n\n[√] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.19045.3086]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 114.0.5735.134\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 114.0.1823.43\n\n[√] Network resources\n    • All expected network resources are available.\n"
        ]
    },
    {
        "titulo": "Flutter - Prevent invalid data conversion default behavior",
        "score": 0,
        "views": 57,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "datetime",
            "date-conversion"
        ],
        "link": "https://stackoverflow.com/questions/76502498/flutter-prevent-invalid-data-conversion-default-behavior",
        "conteudo_html": "<p>I would like to check whether a date entered by the user in DateTime format is valid or not, to convert it if it is valid and to display an exception if it is not</p>\n<p>The problem is that Dart internally already converts that date for me into a valid date, example</p>\n<p>The month of september has only 30 days and the test below returns false as dart converts the date 09/31/2023 to 10/01/2023 which is a valid date</p>\n<pre><code>expect(format.validDateTime(DateTime(2023, 9, 31)), false); // the test was supposed to return false, but it returns true\n</code></pre>\n<p>Is there a way to prevent this Dart conversion behavior and keep the date entered by the user?</p>\n",
        "codigo": [
            "expect(format.validDateTime(DateTime(2023, 9, 31)), false); // the test was supposed to return false, but it returns true\n"
        ]
    },
    {
        "titulo": "Is there a way to remove the first instance of an Object with specific key values from a list of Objects",
        "score": 0,
        "views": 515,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76502427/is-there-a-way-to-remove-the-first-instance-of-an-object-with-specific-key-value",
        "conteudo_html": "<p>The Dart/Flutter documentation mentions using remove and removeWhere as being the right way to remove objects from a list of objects.</p>\n<p>This is also answered here on SO:</p>\n<ol>\n<li><a href=\"https://api.dart.dev/stable/2.0.0/dart-core/List/remove.html\" rel=\"nofollow noreferrer\">Dart Reference</a></li>\n</ol>\n<blockquote>\n<p>Removes the first occurrence of value from this list.</p>\n<p>Returns true if value was in the list, false otherwise. The list must\nbe growable.</p>\n</blockquote>\n<ol start=\"2\">\n<li><a href=\"https://devsheet.com/delete-item-from-a-list-in-flutter-dart/#:%7E:text=If%20you%20want%20to%20delete,a%20parameter%20and%20deletes%20it.\" rel=\"nofollow noreferrer\">DevSheet Article</a></li>\n</ol>\n<blockquote>\n<p>If you want to delete a single item from the list with its first\noccurrence in the list then you can use the List.remove() function. It\nwill search for the first occurrence of the item in the list and\ndelete it. The remove() function takes the item as a parameter and\ndeletes it.</p>\n</blockquote>\n<ol start=\"3\">\n<li><p><a href=\"https://stackoverflow.com/questions/52778601/how-to-remove-specific-items-from-a-list\">StackOverflow Question</a></p>\n</li>\n<li><p><a href=\"https://flutterbyexample.com/lesson/removing-elements-remove-clear-remove-where\" rel=\"nofollow noreferrer\">Flutter By Example</a></p>\n</li>\n</ol>\n<blockquote>\n<p>remove(element) removes a single element from the list, which is\nstrictly equal to the element passed in.</p>\n</blockquote>\n<p>So I came up with the following code to try implement something I have in mind:</p>\n<pre><code>class Test {\n  bool? a;\n  bool? b;\n  String? ex;\n  String? yz;\n  \n  Test({\n    this.a,\n    this.b,\n    this.ex,\n    this.yz,\n  });\n  \n   Map&lt;String, dynamic&gt; toJson() =&gt;\n      {\n        &quot;a&quot;: a,\n        &quot;b&quot;: b,\n        &quot;ex&quot;: ex,\n        &quot;yz&quot;: yz,\n      \n      };\n  \n  Test copy({bool? a, bool? b, String? ex, String? yz}){\n    return Test(\n      a : a ?? this.a,\n      b : b ?? this.b,\n      ex : ex ?? this.ex,\n      yz : yz ?? this.yz,\n    );\n  }\n  \n\n}\n\nvoid main() {\n  Test a = Test(\n    a : true,\n    b : false,\n    ex : &quot;S001&quot;,\n    yz : &quot;plus&quot;\n  );\n  \n  Test b = Test(\n    a : false,\n    b : true,\n    ex : &quot;S001&quot;,\n    yz : &quot;plus&quot;\n  );\n  \n  Test c = Test(\n    a : true,\n    b : true,\n    ex : &quot;S001&quot;,\n    yz : &quot;plus&quot;\n  );\n  \n  Test d = Test(\n    a : false,\n    b : false,\n    ex : &quot;S001&quot;,\n    yz : &quot;plus&quot;\n  );\n  \n  Test z = a.copy(); // we want to remove an object with attributes matching 'a' from the list\n  \n  List&lt;Test&gt; testList = [a, b, c, d];\n  \n  for(var item in testList){ print(item.toJson()); } // [a, b, c, d]\n  \n  var result = testList.remove(z);\n  \n  print(result);\n  \n  for(var item in testList){ print(item.toJson()); }\n  \n}\n</code></pre>\n<p>However when I try to implement this, the remove function returns false.\nMy result is a false, and the object in question is not removed from the list.\nWhile removing 'a' from the list works just fine, removing a.copy() doesn't.</p>\n<p>Am I doing something wrong or is there a different way to remove said object from the list?</p>\n<p>I've added this code to a public dartpad. Can anyone help me understand why this isn't working and what can be done to obtain the desired result?</p>\n<p><a href=\"https://dartpad.dev/?id=b1633d9851eea0d013c0710d00f8af2b\" rel=\"nofollow noreferrer\">Dartpad link</a></p>\n<pre><code>{a: true, b: false, ex: S001, yz: plus}\n{a: false, b: true, ex: S001, yz: plus}\n{a: true, b: true, ex: S001, yz: plus}\n{a: false, b: false, ex: S001, yz: plus}\nfalse\n{a: true, b: false, ex: S001, yz: plus}\n{a: false, b: true, ex: S001, yz: plus}\n{a: true, b: true, ex: S001, yz: plus}\n{a: false, b: false, ex: S001, yz: plus}\n</code></pre>\n",
        "codigo": [
            "class Test {\n  bool? a;\n  bool? b;\n  String? ex;\n  String? yz;\n  \n  Test({\n    this.a,\n    this.b,\n    this.ex,\n    this.yz,\n  });\n  \n   Map<String, dynamic> toJson() =>\n      {\n        \"a\": a,\n        \"b\": b,\n        \"ex\": ex,\n        \"yz\": yz,\n      \n      };\n  \n  Test copy({bool? a, bool? b, String? ex, String? yz}){\n    return Test(\n      a : a ?? this.a,\n      b : b ?? this.b,\n      ex : ex ?? this.ex,\n      yz : yz ?? this.yz,\n    );\n  }\n  \n\n}\n\nvoid main() {\n  Test a = Test(\n    a : true,\n    b : false,\n    ex : \"S001\",\n    yz : \"plus\"\n  );\n  \n  Test b = Test(\n    a : false,\n    b : true,\n    ex : \"S001\",\n    yz : \"plus\"\n  );\n  \n  Test c = Test(\n    a : true,\n    b : true,\n    ex : \"S001\",\n    yz : \"plus\"\n  );\n  \n  Test d = Test(\n    a : false,\n    b : false,\n    ex : \"S001\",\n    yz : \"plus\"\n  );\n  \n  Test z = a.copy(); // we want to remove an object with attributes matching 'a' from the list\n  \n  List<Test> testList = [a, b, c, d];\n  \n  for(var item in testList){ print(item.toJson()); } // [a, b, c, d]\n  \n  var result = testList.remove(z);\n  \n  print(result);\n  \n  for(var item in testList){ print(item.toJson()); }\n  \n}\n",
            "{a: true, b: false, ex: S001, yz: plus}\n{a: false, b: true, ex: S001, yz: plus}\n{a: true, b: true, ex: S001, yz: plus}\n{a: false, b: false, ex: S001, yz: plus}\nfalse\n{a: true, b: false, ex: S001, yz: plus}\n{a: false, b: true, ex: S001, yz: plus}\n{a: true, b: true, ex: S001, yz: plus}\n{a: false, b: false, ex: S001, yz: plus}\n"
        ]
    },
    {
        "titulo": "The named parameter &#39;X&#39; isn&#39;t defined. - Flutter",
        "score": 0,
        "views": 1648,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76497509/the-named-parameter-x-isnt-defined-flutter",
        "conteudo_html": "<p>I've getting these errors on my terminal, while I still define and declare then in the correct format.</p>\n<pre><code>The named parameter 'localDataSource' isn't defined.\nTry correcting the name to an existing named parameter's name, or defining a named parameter with the name 'localDataSource'.\n3 positional arguments expected by 'NumberTriviaRepositoryImpl.new', but 0 found.\nTry adding the missing arguments.\n</code></pre>\n<p>This is my injector file <code>injection_container.dart</code>.</p>\n<pre><code>final sl = GetIt.instance; // service locator\n\nFuture&lt;void&gt; init() async {\n  /* Features - Number Trivia */\n  // Bloc\n  sl.registerFactory(\n    () =&gt; NumberTriviaBloc(\n      concrete: sl(),\n      random: sl(),\n      inputConverter: sl(),\n    ),\n  );\n\n  //Use cases\n  sl.registerLazySingleton(() =&gt; GetConcreteNumberTrivia(sl()));\n  sl.registerLazySingleton(() =&gt; GetRandomNumberTrivia(sl()));\n\n  // Repository\n  sl.registerLazySingleton&lt;NumberTriviaRepository&gt;(\n    () =&gt; NumberTriviaRepositoryImpl(\n      localDataSource: sl(),   // Error\n      remoteDataSource: sl(),  // Error\n      networkInfo: sl(),       // Error\n    ),\n  );\n</code></pre>\n<p>This is my repository implementation file <code>number_trivia_repository_impl.dart</code>.</p>\n<pre><code>typedef Future&lt;NumberTrivia&gt; _ConcreteOrRandomChooser();\n\nclass NumberTriviaRepositoryImpl implements NumberTriviaRepository {\n  final NumberTriviaRemoteDataSource remoteDataSource;\n  final NumberTriviaLocalDataSource localDataSource;\n  final NetworkInfo networkInfo;\n\n  NumberTriviaRepositoryImpl(\n    @required this.remoteDataSource,\n    @required this.localDataSource,\n    @required this.networkInfo,\n    // {required networkInfo}\n  );\n</code></pre>\n<p>What I have to do now for using the implementation parameters? As I already added them.\nThanks in advance.</p>\n",
        "codigo": [
            "The named parameter 'localDataSource' isn't defined.\nTry correcting the name to an existing named parameter's name, or defining a named parameter with the name 'localDataSource'.\n3 positional arguments expected by 'NumberTriviaRepositoryImpl.new', but 0 found.\nTry adding the missing arguments.\n",
            "injection_container.dart",
            "final sl = GetIt.instance; // service locator\n\nFuture<void> init() async {\n  /* Features - Number Trivia */\n  // Bloc\n  sl.registerFactory(\n    () => NumberTriviaBloc(\n      concrete: sl(),\n      random: sl(),\n      inputConverter: sl(),\n    ),\n  );\n\n  //Use cases\n  sl.registerLazySingleton(() => GetConcreteNumberTrivia(sl()));\n  sl.registerLazySingleton(() => GetRandomNumberTrivia(sl()));\n\n  // Repository\n  sl.registerLazySingleton<NumberTriviaRepository>(\n    () => NumberTriviaRepositoryImpl(\n      localDataSource: sl(),   // Error\n      remoteDataSource: sl(),  // Error\n      networkInfo: sl(),       // Error\n    ),\n  );\n",
            "number_trivia_repository_impl.dart",
            "typedef Future<NumberTrivia> _ConcreteOrRandomChooser();\n\nclass NumberTriviaRepositoryImpl implements NumberTriviaRepository {\n  final NumberTriviaRemoteDataSource remoteDataSource;\n  final NumberTriviaLocalDataSource localDataSource;\n  final NetworkInfo networkInfo;\n\n  NumberTriviaRepositoryImpl(\n    @required this.remoteDataSource,\n    @required this.localDataSource,\n    @required this.networkInfo,\n    // {required networkInfo}\n  );\n"
        ]
    },
    {
        "titulo": "Flutter - How to select any one item in ListView Builder during integration testing?",
        "score": 1,
        "views": 701,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "testing",
            "integration-testing"
        ],
        "link": "https://stackoverflow.com/questions/76482418/flutter-how-to-select-any-one-item-in-listview-builder-during-integration-test",
        "conteudo_html": "<p>I'm testing my application using the &quot;integration testing&quot; method.</p>\n<p>Currently, I'm testing the order history page. That page contains a list of containers wrapped with a gesture detector using the <strong>ListView Builder widget</strong>.</p>\n<p>For testing, I set the condition to find the order history page. But I'm not sure how to give a condition to select one gesture detector.</p>\n<p>For example, when testing the code it redirects to the order history page. That page has several containers. To redirect to the next page it has to click first or second or any one container. How to achieve this?</p>\n<p>Doubt line:</p>\n<pre><code>await tester.tap(find.byKey(const Key(&quot;OrderInfo&quot;)));\n\nOr\n\nawait tester.tap(find.byType(GestureDetector));\n\n</code></pre>\n<p>Full test code:</p>\n<pre><code>import 'package:flutter_test/flutter_test.dart';\nimport 'package:integration_test/integration_test.dart';\nimport 'package:toyzania_app/main.dart' as app;\n\nvoid main() {\n  IntegrationTestWidgetsFlutterBinding.ensureInitialized();\n\n  group('end-to-end test', () {\n\n testWidgets('verify settings screen',\n        (tester) async {\n      app.main();\n\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n      await tester.tap(find.byKey(const Key('settingspage')));\n\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n      expect(find.byType(OrderHistory), findsOneWidget);\n      await Future.delayed(const Duration(seconds: 2));\n\n      await tester.tap(find.byType(GestureDetector));\n\n      await Future.delayed(const Duration(seconds: 2));\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n      expect(find.byType(OrderInfo), findsOneWidget);\n\n    });\n   \n  });\n}\n\n</code></pre>\n<p>Order page code:</p>\n<pre><code>ListView.builder(\n                        itemCount: productController\n                            .orders.value.data!.customer!.orders!.edges!.length,\n                        itemBuilder: (context, index) {\n                          return GestureDetector(\n                            key: const ValueKey(&quot;OrderInfo&quot;),\n                            onTap: () {\n                              Get.to(OrderInfo(productController.orders.value\n                                  .data!.customer!.orders!.edges![index]));\n                            },\n                            child: Padding(\n                              padding: const EdgeInsets.only(\n                                top: 25,\n                                left: 15,\n                                right: 15,\n                              ),\n                              child: Container(\n                                decoration: BoxDecoration(\n                                    border: Border.all(\n                                      width: 0.5,\n                                      color: Color.fromARGB(255, 212, 212, 212),\n                                    ),\n                                    borderRadius:\n                                        BorderRadius.all(Radius.circular(5))),\n                                child: Column(\n                                  mainAxisAlignment: MainAxisAlignment.start,\n                                  crossAxisAlignment: CrossAxisAlignment.start,\n                                  children: [\n                                    Row(\n                                      children: [\n                                        Padding(\n                                          padding: const EdgeInsets.only(\n                                              top: 10, left: 15, right: 15),\n                                          child: SizedBox(\n                                            width: 80.0,\n                                            height: 80.0,\n                                            child: Row(\n                                              mainAxisAlignment:\n                                                  MainAxisAlignment.center,\n                                              crossAxisAlignment:\n                                                  CrossAxisAlignment.center,\n                                              children: [\n                                                if (productController\n                                                        .orders\n                                                        .value\n                                                        .data!\n                                                        .customer!\n                                                        .orders!\n                                                        .edges![index]\n                                                        .node!\n                                                        .lineItems!\n                                                        .edges![0]\n                                                        .node1!\n                                                        .variant !=\n                                                    null)\n                                                  if (productController\n                                                          .orders\n                                                          .value\n                                                          .data!\n                                                          .customer!\n                                                          .orders!\n                                                          .edges![index]\n                                                          .node!\n                                                          .lineItems!\n                                                          .edges![0]\n                                                          .node1!\n                                                          .variant!\n                                                          .image !=\n                                                      null)\n                                                    Container(\n                                                      width: 80.0,\n                                                      height: 70.0,\n                                                      decoration: BoxDecoration(\n                                                          image: DecorationImage(\n                                                              image: CachedNetworkImageProvider(\n                                                                  productController\n                                                                      .orders\n                                                                      .value\n                                                                      .data!\n                                                                      .customer!\n                                                                      .orders!\n                                                                      .edges![\n                                                                          index]\n                                                                      .node!\n                                                                      .lineItems!\n                                                                      .edges![0]\n                                                                      .node1!\n                                                                      .variant!\n                                                                      .image!\n                                                                      .url\n                                                                      .toString()),\n                                                              fit:\n                                                                  BoxFit.cover),\n                                                          border: Border.all(\n                                                            width: 0.5,\n                                                            color: Color(\n                                                                0xffe3e3e3),\n                                                          ),\n                                                          borderRadius:\n                                                              BorderRadius.all(\n                                                                  Radius\n                                                                      .circular(\n                                                                          5))),\n                                                    )\n                                                  else\n                                                    Container(\n                                                      width: 80.0,\n                                                      height: 110.0,\n                                                      decoration: BoxDecoration(\n                                                          border: Border.all(\n                                                            width: 0.5,\n                                                            color: Color(\n                                                                0xffe3e3e3),\n                                                          ),\n                                                          borderRadius:\n                                                              BorderRadius.all(\n                                                                  Radius\n                                                                      .circular(\n                                                                          5))),\n                                                      child: Center(\n                                                        child: Image.asset(\n                                                          'assets/images/logo.png',\n                                                        ),\n                                                      ),\n                                                    ),\n                                              ],\n                                            ),\n                                          ),\n                                        ),\n                                        Padding(\n                                          padding: const EdgeInsets.only(\n                                              top: 0, left: 15, right: 15),\n                                          child: Container(\n                                            width: Get.width / 2,\n                                            child: Text(\n                                              productController\n                                                  .orders\n                                                  .value\n                                                  .data!\n                                                  .customer!\n                                                  .orders!\n                                                  .edges![index]\n                                                  .node!\n                                                  .lineItems!\n                                                  .edges![0]\n                                                  .node1!\n                                                  .title\n                                                  .toString(),\n                                              overflow: TextOverflow.clip,\n                                              style: GoogleFonts.poppins(\n                                                  fontSize: 14,\n                                                  fontWeight: FontWeight.w500,\n                                                  letterSpacing: 0.2),\n                                            ),\n                                          ),\n                                        ),\n                                      ],\n                                    ),\n                                    Padding(\n                                      padding: const EdgeInsets.only(\n                                          top: 20, left: 15, right: 15),\n                                      child: Row(\n                                        mainAxisAlignment:\n                                            MainAxisAlignment.spaceBetween,\n                                        children: [\n                                          Text(\n                                              '${'createdon'.tr}: ${productController.orders.value.data!.customer!.orders!.edges![index].node!.displayProcessedAt.toString()}',\n                                              style: GoogleFonts.poppins(\n                                                  color:\n                                                      const Color(0xff6e8498),\n                                                  fontSize: 12,\n                                                  fontWeight: FontWeight.w500,\n                                                  letterSpacing: 0.2)),\n                                          Padding(\n                                            padding: const EdgeInsets.only(\n                                                top: 0, left: 0),\n                                            child: Container(\n                                              width: 100,\n                                              child: Text(\n                                                  &quot;${&quot;orderno&quot;.tr}: ${productController.orders.value.data!.customer!.orders!.edges![index].node!.orderNumber.toString()}&quot;,\n                                                  overflow: TextOverflow.clip,\n                                                  style: GoogleFonts.poppins(\n                                                      color: const Color(\n                                                          0xff6e8498),\n                                                      fontSize: 12,\n                                                      fontWeight:\n                                                          FontWeight.w500,\n                                                      letterSpacing: 0.2)),\n                                            ),\n                                          ),\n                                        ],\n                                      ),\n                                    ),\n                                    Padding(\n                                      padding: const EdgeInsets.only(\n                                          top: 10, left: 10, right: 10),\n                                      child: SizedBox(\n                                        width: 350.0,\n                                        height: 70.0,\n                                        child: Card(\n                                          color: Color(0xffF0EAFF),\n                                          child: Padding(\n                                            padding: const EdgeInsets.only(\n                                                top: 8, left: 5),\n                                            child: Row(\n                                              mainAxisAlignment:\n                                                  MainAxisAlignment.spaceAround,\n                                              children: [\n                                                Padding(\n                                                  padding:\n                                                      const EdgeInsets.only(\n                                                          top: 5, left: 0),\n                                                  child: Column(\n                                                    children: [\n                                                      Text('totalamount'.tr,\n                                                          style: GoogleFonts\n                                                              .poppins(\n                                                            color: Color(\n                                                                0xff6e8498),\n                                                            fontSize: 12,\n                                                            fontWeight:\n                                                                FontWeight.w500,\n                                                            letterSpacing: 0.3,\n                                                          )),\n                                                      Text(\n                                                          'BHD${&quot; ${productController.orders.value.data!.customer!.orders!.edges![index].node!.lineItems!.edges![0].node1!.originalTotalPrice!.amount}&quot;}',\n                                                          overflow:\n                                                              TextOverflow.clip,\n                                                          style: GoogleFonts\n                                                              .poppins(\n                                                            color: Color(\n                                                                0xff000000),\n                                                            fontSize: 14,\n                                                            fontWeight:\n                                                                FontWeight.w500,\n                                                            letterSpacing: 0.3,\n                                                          )),\n                                                    ],\n                                                  ),\n                                                ),\n}),\n\n</code></pre>\n",
        "codigo": [
            "await tester.tap(find.byKey(const Key(\"OrderInfo\")));\n\nOr\n\nawait tester.tap(find.byType(GestureDetector));\n\n",
            "import 'package:flutter_test/flutter_test.dart';\nimport 'package:integration_test/integration_test.dart';\nimport 'package:toyzania_app/main.dart' as app;\n\nvoid main() {\n  IntegrationTestWidgetsFlutterBinding.ensureInitialized();\n\n  group('end-to-end test', () {\n\n testWidgets('verify settings screen',\n        (tester) async {\n      app.main();\n\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n      await tester.tap(find.byKey(const Key('settingspage')));\n\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n      expect(find.byType(OrderHistory), findsOneWidget);\n      await Future.delayed(const Duration(seconds: 2));\n\n      await tester.tap(find.byType(GestureDetector));\n\n      await Future.delayed(const Duration(seconds: 2));\n      await tester.pumpAndSettle();\n      await Future.delayed(const Duration(seconds: 2));\n      expect(find.byType(OrderInfo), findsOneWidget);\n\n    });\n   \n  });\n}\n\n",
            "ListView.builder(\n                        itemCount: productController\n                            .orders.value.data!.customer!.orders!.edges!.length,\n                        itemBuilder: (context, index) {\n                          return GestureDetector(\n                            key: const ValueKey(\"OrderInfo\"),\n                            onTap: () {\n                              Get.to(OrderInfo(productController.orders.value\n                                  .data!.customer!.orders!.edges![index]));\n                            },\n                            child: Padding(\n                              padding: const EdgeInsets.only(\n                                top: 25,\n                                left: 15,\n                                right: 15,\n                              ),\n                              child: Container(\n                                decoration: BoxDecoration(\n                                    border: Border.all(\n                                      width: 0.5,\n                                      color: Color.fromARGB(255, 212, 212, 212),\n                                    ),\n                                    borderRadius:\n                                        BorderRadius.all(Radius.circular(5))),\n                                child: Column(\n                                  mainAxisAlignment: MainAxisAlignment.start,\n                                  crossAxisAlignment: CrossAxisAlignment.start,\n                                  children: [\n                                    Row(\n                                      children: [\n                                        Padding(\n                                          padding: const EdgeInsets.only(\n                                              top: 10, left: 15, right: 15),\n                                          child: SizedBox(\n                                            width: 80.0,\n                                            height: 80.0,\n                                            child: Row(\n                                              mainAxisAlignment:\n                                                  MainAxisAlignment.center,\n                                              crossAxisAlignment:\n                                                  CrossAxisAlignment.center,\n                                              children: [\n                                                if (productController\n                                                        .orders\n                                                        .value\n                                                        .data!\n                                                        .customer!\n                                                        .orders!\n                                                        .edges![index]\n                                                        .node!\n                                                        .lineItems!\n                                                        .edges![0]\n                                                        .node1!\n                                                        .variant !=\n                                                    null)\n                                                  if (productController\n                                                          .orders\n                                                          .value\n                                                          .data!\n                                                          .customer!\n                                                          .orders!\n                                                          .edges![index]\n                                                          .node!\n                                                          .lineItems!\n                                                          .edges![0]\n                                                          .node1!\n                                                          .variant!\n                                                          .image !=\n                                                      null)\n                                                    Container(\n                                                      width: 80.0,\n                                                      height: 70.0,\n                                                      decoration: BoxDecoration(\n                                                          image: DecorationImage(\n                                                              image: CachedNetworkImageProvider(\n                                                                  productController\n                                                                      .orders\n                                                                      .value\n                                                                      .data!\n                                                                      .customer!\n                                                                      .orders!\n                                                                      .edges![\n                                                                          index]\n                                                                      .node!\n                                                                      .lineItems!\n                                                                      .edges![0]\n                                                                      .node1!\n                                                                      .variant!\n                                                                      .image!\n                                                                      .url\n                                                                      .toString()),\n                                                              fit:\n                                                                  BoxFit.cover),\n                                                          border: Border.all(\n                                                            width: 0.5,\n                                                            color: Color(\n                                                                0xffe3e3e3),\n                                                          ),\n                                                          borderRadius:\n                                                              BorderRadius.all(\n                                                                  Radius\n                                                                      .circular(\n                                                                          5))),\n                                                    )\n                                                  else\n                                                    Container(\n                                                      width: 80.0,\n                                                      height: 110.0,\n                                                      decoration: BoxDecoration(\n                                                          border: Border.all(\n                                                            width: 0.5,\n                                                            color: Color(\n                                                                0xffe3e3e3),\n                                                          ),\n                                                          borderRadius:\n                                                              BorderRadius.all(\n                                                                  Radius\n                                                                      .circular(\n                                                                          5))),\n                                                      child: Center(\n                                                        child: Image.asset(\n                                                          'assets/images/logo.png',\n                                                        ),\n                                                      ),\n                                                    ),\n                                              ],\n                                            ),\n                                          ),\n                                        ),\n                                        Padding(\n                                          padding: const EdgeInsets.only(\n                                              top: 0, left: 15, right: 15),\n                                          child: Container(\n                                            width: Get.width / 2,\n                                            child: Text(\n                                              productController\n                                                  .orders\n                                                  .value\n                                                  .data!\n                                                  .customer!\n                                                  .orders!\n                                                  .edges![index]\n                                                  .node!\n                                                  .lineItems!\n                                                  .edges![0]\n                                                  .node1!\n                                                  .title\n                                                  .toString(),\n                                              overflow: TextOverflow.clip,\n                                              style: GoogleFonts.poppins(\n                                                  fontSize: 14,\n                                                  fontWeight: FontWeight.w500,\n                                                  letterSpacing: 0.2),\n                                            ),\n                                          ),\n                                        ),\n                                      ],\n                                    ),\n                                    Padding(\n                                      padding: const EdgeInsets.only(\n                                          top: 20, left: 15, right: 15),\n                                      child: Row(\n                                        mainAxisAlignment:\n                                            MainAxisAlignment.spaceBetween,\n                                        children: [\n                                          Text(\n                                              '${'createdon'.tr}: ${productController.orders.value.data!.customer!.orders!.edges![index].node!.displayProcessedAt.toString()}',\n                                              style: GoogleFonts.poppins(\n                                                  color:\n                                                      const Color(0xff6e8498),\n                                                  fontSize: 12,\n                                                  fontWeight: FontWeight.w500,\n                                                  letterSpacing: 0.2)),\n                                          Padding(\n                                            padding: const EdgeInsets.only(\n                                                top: 0, left: 0),\n                                            child: Container(\n                                              width: 100,\n                                              child: Text(\n                                                  \"${\"orderno\".tr}: ${productController.orders.value.data!.customer!.orders!.edges![index].node!.orderNumber.toString()}\",\n                                                  overflow: TextOverflow.clip,\n                                                  style: GoogleFonts.poppins(\n                                                      color: const Color(\n                                                          0xff6e8498),\n                                                      fontSize: 12,\n                                                      fontWeight:\n                                                          FontWeight.w500,\n                                                      letterSpacing: 0.2)),\n                                            ),\n                                          ),\n                                        ],\n                                      ),\n                                    ),\n                                    Padding(\n                                      padding: const EdgeInsets.only(\n                                          top: 10, left: 10, right: 10),\n                                      child: SizedBox(\n                                        width: 350.0,\n                                        height: 70.0,\n                                        child: Card(\n                                          color: Color(0xffF0EAFF),\n                                          child: Padding(\n                                            padding: const EdgeInsets.only(\n                                                top: 8, left: 5),\n                                            child: Row(\n                                              mainAxisAlignment:\n                                                  MainAxisAlignment.spaceAround,\n                                              children: [\n                                                Padding(\n                                                  padding:\n                                                      const EdgeInsets.only(\n                                                          top: 5, left: 0),\n                                                  child: Column(\n                                                    children: [\n                                                      Text('totalamount'.tr,\n                                                          style: GoogleFonts\n                                                              .poppins(\n                                                            color: Color(\n                                                                0xff6e8498),\n                                                            fontSize: 12,\n                                                            fontWeight:\n                                                                FontWeight.w500,\n                                                            letterSpacing: 0.3,\n                                                          )),\n                                                      Text(\n                                                          'BHD${\" ${productController.orders.value.data!.customer!.orders!.edges![index].node!.lineItems!.edges![0].node1!.originalTotalPrice!.amount}\"}',\n                                                          overflow:\n                                                              TextOverflow.clip,\n                                                          style: GoogleFonts\n                                                              .poppins(\n                                                            color: Color(\n                                                                0xff000000),\n                                                            fontSize: 14,\n                                                            fontWeight:\n                                                                FontWeight.w500,\n                                                            letterSpacing: 0.3,\n                                                          )),\n                                                    ],\n                                                  ),\n                                                ),\n}),\n\n"
        ]
    },
    {
        "titulo": "No matching calls with Mockito verify despite call matches",
        "score": 0,
        "views": 579,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "mockito-dart",
            "dart-mockito"
        ],
        "link": "https://stackoverflow.com/questions/76477815/no-matching-calls-with-mockito-verify-despite-call-matches",
        "conteudo_html": "<p>I have a provider named <code>SqliteFavoriteProvider</code> and it has a method named <code>add</code>, it is as shown:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>  @override\n  Future&lt;int&gt; add({\n    required int startStationId,\n    required int endStationId,\n    int? dayId,\n  }) async {\n    // `_database` here will be mocked\n    return await _database.insert('favorites', {\n      'startStationId': startStationId,\n      'endStationId': endStationId,\n      'dayId': dayId,\n      'lastUpdate': clock.now().toIso8601String(),\n    });\n  }\n</code></pre>\n<p>I mock it using <code>mockito</code>, and I test it as such:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>    late FavoriteProvider provider;\n    late Database mockDb;\n\n    setupAll(() {\n        mockDb = MockDatabase();\n        // `mockDb` injected into SqliteFavoriteProvider\n        provider = SqliteFavoriteProvider(database: mockDb);\n    });\n\n    // ...\n\n    test('-- add (no day)', () {\n      withClock(Clock.fixed(DateTime(2023)), () {\n        provider.add(startStationId: 1, endStationId: 1);\n      });\n      verify(\n        mockDb.insert(\n          'favorites',\n          {\n            'startStationId': 1,\n            'endStationId': 1,\n            'dayId': null,\n            'lastUpdate': '2023-01-01T00:00:00.0',\n          },\n          nullColumnHack: null, // doesn't work even if this is absent\n          conflictAlgorithm: null, // doesn't work even if this absent\n        ),\n      );\n    });\n</code></pre>\n<p><code>mockDb</code> is <code>MockDatabase</code> instance generated by <code>mockito</code>.</p>\n<p>The problem is, test fails saying:</p>\n<pre><code>  No matching calls. All calls: MockDatabase.insert('favorites', {startStationId: 1, endStationId: 1, dayId: null, lastUpdate: 2023-01-01T00:00:00.000}, {nullColumnHack: null, conflictAlgorithm: null})\n  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)\n</code></pre>\n<p>However, I call it with exact parameters. Is there something I'm missing?</p>\n",
        "codigo": [
            "SqliteFavoriteProvider",
            "add",
            "  @override\n  Future<int> add({\n    required int startStationId,\n    required int endStationId,\n    int? dayId,\n  }) async {\n    // `_database` here will be mocked\n    return await _database.insert('favorites', {\n      'startStationId': startStationId,\n      'endStationId': endStationId,\n      'dayId': dayId,\n      'lastUpdate': clock.now().toIso8601String(),\n    });\n  }\n",
            "mockito",
            "    late FavoriteProvider provider;\n    late Database mockDb;\n\n    setupAll(() {\n        mockDb = MockDatabase();\n        // `mockDb` injected into SqliteFavoriteProvider\n        provider = SqliteFavoriteProvider(database: mockDb);\n    });\n\n    // ...\n\n    test('-- add (no day)', () {\n      withClock(Clock.fixed(DateTime(2023)), () {\n        provider.add(startStationId: 1, endStationId: 1);\n      });\n      verify(\n        mockDb.insert(\n          'favorites',\n          {\n            'startStationId': 1,\n            'endStationId': 1,\n            'dayId': null,\n            'lastUpdate': '2023-01-01T00:00:00.0',\n          },\n          nullColumnHack: null, // doesn't work even if this is absent\n          conflictAlgorithm: null, // doesn't work even if this absent\n        ),\n      );\n    });\n",
            "mockDb",
            "MockDatabase",
            "mockito",
            "  No matching calls. All calls: MockDatabase.insert('favorites', {startStationId: 1, endStationId: 1, dayId: null, lastUpdate: 2023-01-01T00:00:00.000}, {nullColumnHack: null, conflictAlgorithm: null})\n  (If you called `verify(...).called(0);`, please instead use `verifyNever(...);`.)\n"
        ]
    },
    {
        "titulo": "Flutter Integration Testing - The non-nullable local variable &#39;driver&#39; must be assigned before it can be used",
        "score": 0,
        "views": 75,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "testing",
            "integration-testing"
        ],
        "link": "https://stackoverflow.com/questions/76471855/flutter-integration-testing-the-non-nullable-local-variable-driver-must-be-a",
        "conteudo_html": "<p>I'm a flutter beginner. I'm testing my application in 'integration testing' mode. I have added the required packages. I'm getting the below error in the test code. Can anyone help me solve this?</p>\n<p>Error:</p>\n<p>The non-nullable local variable '<strong>driver</strong>' must be assigned before it can be used.\nTry giving it an initializer expression, or ensure that it's assigned on every execution</p>\n<p>Error lines:</p>\n<pre><code>FlutterDriver driver;\n    Future&lt;bool&gt; isPresent(SerializableFinder byValueKey,\n    {Duration timeout = const Duration(seconds: 1)}) async {\n      try {\n        await driver .waitFor(byValueKey, timeout: timeout);\n        return true;\n      } catch (exception){\n        return false;\n      }\n\ntearDownAll(() async {\n      if (driver != null) {\n        driver.close();\n      }\n    });\n\n</code></pre>\n<p>app test code:</p>\n<pre><code>import 'package:flutter_driver/flutter_driver.dart';\nimport 'package:test/test.dart';\n\n\nvoid main() {\n\n  group('Toyzania App', () {\n    \n    //login screen\n    final emailField = find.byValueKey('Email');\n    final passwordField = find.byValueKey('Password');\n    final loginButton = find.byValueKey('Login');\n    final CreateAccountButton = find.byValueKey('CreateAccount');\n    final logoutButton = find.byValueKey('Logout');\n\n\n\n    FlutterDriver driver;\n    Future&lt;bool&gt; isPresent(SerializableFinder byValueKey,\n    {Duration timeout = const Duration(seconds: 1)}) async {\n      try {\n        await driver .waitFor(byValueKey, timeout: timeout);\n        return true;\n      } catch (exception){\n        return false;\n      }\n    }\n\n    setUpAll(() async {\n      driver = await FlutterDriver.connect();\n    });\n\n    tearDownAll(() async {\n      if (driver != null) {\n        driver.close();\n      }\n    });\n\n    test('login', () async{\n      if(await isPresent(logoutButton)){\n        await driver.tap(logoutButton);\n      }\n\n      await driver.tap(emailField);\n      await driver.enterText('test11@gmail.com');\n\n      await driver.tap(passwordField);\n      await driver.enterText('123456');\n\n      await driver.tap(loginButton);\n      await driver.waitFor(find.text(&quot;My Account&quot;));\n    });\n\n  });\n}\n</code></pre>\n",
        "codigo": [
            "FlutterDriver driver;\n    Future<bool> isPresent(SerializableFinder byValueKey,\n    {Duration timeout = const Duration(seconds: 1)}) async {\n      try {\n        await driver .waitFor(byValueKey, timeout: timeout);\n        return true;\n      } catch (exception){\n        return false;\n      }\n\ntearDownAll(() async {\n      if (driver != null) {\n        driver.close();\n      }\n    });\n\n",
            "import 'package:flutter_driver/flutter_driver.dart';\nimport 'package:test/test.dart';\n\n\nvoid main() {\n\n  group('Toyzania App', () {\n    \n    //login screen\n    final emailField = find.byValueKey('Email');\n    final passwordField = find.byValueKey('Password');\n    final loginButton = find.byValueKey('Login');\n    final CreateAccountButton = find.byValueKey('CreateAccount');\n    final logoutButton = find.byValueKey('Logout');\n\n\n\n    FlutterDriver driver;\n    Future<bool> isPresent(SerializableFinder byValueKey,\n    {Duration timeout = const Duration(seconds: 1)}) async {\n      try {\n        await driver .waitFor(byValueKey, timeout: timeout);\n        return true;\n      } catch (exception){\n        return false;\n      }\n    }\n\n    setUpAll(() async {\n      driver = await FlutterDriver.connect();\n    });\n\n    tearDownAll(() async {\n      if (driver != null) {\n        driver.close();\n      }\n    });\n\n    test('login', () async{\n      if(await isPresent(logoutButton)){\n        await driver.tap(logoutButton);\n      }\n\n      await driver.tap(emailField);\n      await driver.enterText('test11@gmail.com');\n\n      await driver.tap(passwordField);\n      await driver.enterText('123456');\n\n      await driver.tap(loginButton);\n      await driver.waitFor(find.text(\"My Account\"));\n    });\n\n  });\n}\n"
        ]
    },
    {
        "titulo": "Unit test with mocktail in flutter using Either is getting something wrong",
        "score": 0,
        "views": 708,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "clean-architecture"
        ],
        "link": "https://stackoverflow.com/questions/76468387/unit-test-with-mocktail-in-flutter-using-either-is-getting-something-wrong",
        "conteudo_html": "<p>im trying to do unit test which code is</p>\n<pre><code>class SearchRepositoryMock extends Mock implements SearchRepository {}\nvoid main() {\n\n  `final repository = SearchRepositoryMock();\n  final useCase = SearchByTextImpl(repository);\n  test('should retun list of ResultSearch', () async {\n    when(() =&gt; repository.search(any())).thenAnswer((_) async =&gt; const Right(&lt;ResultSearch&gt;[]));\n    final result = await useCase(&quot;something&quot;);\n    expect(result, isA&lt;List&lt;ResultSearch&gt;&gt;());\n  });\n}`\nenter code here\n</code></pre>\n<p>my SearchRepository is a &quot;interface&quot;</p>\n<pre><code>abstract class SearchRepository {\n  Future&lt;Either&lt;FailureSearchException, List&lt;ResultSearch&gt;&gt;&gt; search(String? searchText);\n}\n</code></pre>\n<p>after running test im getting error <a href=\"https://i.sstatic.net/cHb6E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/cHb6E.png\" alt=\"enter image description here\" /></a></p>\n<p>i dont know how to fix it.</p>\n",
        "codigo": [
            "class SearchRepositoryMock extends Mock implements SearchRepository {}\nvoid main() {\n\n  `final repository = SearchRepositoryMock();\n  final useCase = SearchByTextImpl(repository);\n  test('should retun list of ResultSearch', () async {\n    when(() => repository.search(any())).thenAnswer((_) async => const Right(<ResultSearch>[]));\n    final result = await useCase(\"something\");\n    expect(result, isA<List<ResultSearch>>());\n  });\n}`\nenter code here\n",
            "abstract class SearchRepository {\n  Future<Either<FailureSearchException, List<ResultSearch>>> search(String? searchText);\n}\n"
        ]
    },
    {
        "titulo": "Bad state: GetIt: Object/factory with type &lt;&gt; is not registered inside GetIt",
        "score": 4,
        "views": 14963,
        "respostas": 2,
        "tags": [
            "dart",
            "testing",
            "dependency-injection",
            "get-it"
        ],
        "link": "https://stackoverflow.com/questions/76462865/bad-state-getit-object-factory-with-type-is-not-registered-inside-getit",
        "conteudo_html": "<p>I am trying to use dependency injection with <code>get_it</code> package, in order to make unit tests.</p>\n<p>I am using these dependencies :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>get_it: ^7.6.0\ninjectable_generator: ^2.1.6\n</code></pre>\n<p>My <code>main</code> function looks like this :</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void main(List&lt;String&gt; args) async {\n  // Configure injection\n  await setup(Env.test);\n  await getIt.allReady();\n\n  // [...]\n}\n</code></pre>\n<p>I wait for the setup with the <code>test</code> environment, and I wait for it to be <code>allReady</code>.</p>\n<p>The file uses <code>injection.dart</code>, which contains the <code>setup()</code> function :</p>\n<pre class=\"lang-dart prettyprint-override\"><code>GetIt getIt = GetIt.instance;\n\n@InjectableInit(preferRelativeImports: false)\nsetup(String env) {\n  getIt.init();\n  if (env == Env.test) {\n    getIt.registerLazySingleton&lt;IAuthRepository&gt;(() =&gt; TestAuthRepository());\n  } else {\n    getIt.registerLazySingleton&lt;IAuthRepository&gt;(() =&gt; AuthRepository());\n  }\n}\n\nabstract class Env {\n  // static const dev = 'dev';\n  static const prod = 'prod';\n  static const test = 'test';\n}\n\n</code></pre>\n<p>As you can see, I want to use <code>AuthRepository</code> for production (will call a database), or <code>TestAuthRepository</code> for unit tests (will not call the database).</p>\n<p>I declared theses class here, in a file <code>auth_repository.dart</code> :</p>\n<pre class=\"lang-dart prettyprint-override\"><code>abstract class IAuthRepository {\n  Future&lt;int&gt; createNewUser({\n    required String login,\n    required String email,\n    required String password,\n  });\n}\n\n@Injectable(as: IAuthRepository, env: [Env.prod])\nclass AuthRepository extends BaseRepository implements IAuthRepository {\n\n  @override\n  Future&lt;int&gt; createNewUser({\n    required String login,\n    required String email,\n    required String password,\n  }) async {\n    try {\n      final connection = await getDatabaseConnection();\n\n      // ... (make the database call) ...\n\n      return 1;\n    } catch (exception) {\n      print(exception);\n      return -1;\n    }\n  }\n}\n\n@Injectable(as: IAuthRepository, env: [Env.test])\nclass TestAuthRepository extends BaseRepository implements IAuthRepository {\n\n  @override\n  Future&lt;int&gt; createNewUser({required String login, required String email, required String password}) {\n    return Future.value(2);\n  }\n}\n</code></pre>\n<p>For now, the testing function <code>createNewUser</code> will only return 2.</p>\n<p>I am launching my test here :</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void main() {\n\n  AuthController authController = AuthController();\n\n  test('Registration success', () async {\n\n    int response = await authController.register(\n      login: 'test',\n      email: 'email@mail.com',\n      password: 'Testing193!',\n      passwordConfirmation: 'Testing193!',\n    );\n    expect(response, 1);\n  });\n  \n  // ...\n}\n</code></pre>\n<p>This test calls for <code>authController.register()</code>, which is here :</p>\n<pre class=\"lang-dart prettyprint-override\"><code>  Future&lt;int&gt; register({\n    required String login,\n    required String email,\n    required String password,\n    required String passwordConfirmation,\n  }) async {\n\n    // [...]\n\n    // IAuthRepository authRepository = getIt&lt;IAuthRepository&gt;();\n    IAuthRepository authRepository = getIt.get&lt;IAuthRepository&gt;();\n    return await authRepository.createNewUser(\n      login: login,\n      email: email,\n      password: password,\n    );\n  }\n</code></pre>\n<p>I try to retrieve an <code>IAuthRepository</code> instance with <code>getIt</code>.</p>\n<p>However, when I am launching my tests, I get this error :</p>\n<pre><code>00:00 +0 -1: Registration success [E]                                                                                                                     \n  Bad state: GetIt: Object/factory with type IAuthRepository is not registered inside GetIt. \n  (Did you accidentally do GetIt sl=GetIt.instance(); instead of GetIt sl=GetIt.instance;\n  Did you forget to register it?)\n  package:get_it/get_it_impl.dart 12:19                 throwIfNot\n  package:get_it/get_it_impl.dart 395:5                 _GetItImplementation._findFactoryByNameAndType\n  package:get_it/get_it_impl.dart 423:29                _GetItImplementation.get\n  package:toast/controllers/auth_controller.dart 31:44  AuthController.register\n  test/controllers/auth_controller_test.dart 23:41      main.&lt;fn&gt;\n</code></pre>\n<p>I thought I registered my <code>IAuthRepository</code> class, however it does not work. How can I register it ?</p>\n",
        "codigo": [
            "get_it",
            "get_it: ^7.6.0\ninjectable_generator: ^2.1.6\n",
            "main",
            "void main(List<String> args) async {\n  // Configure injection\n  await setup(Env.test);\n  await getIt.allReady();\n\n  // [...]\n}\n",
            "test",
            "allReady",
            "injection.dart",
            "setup()",
            "GetIt getIt = GetIt.instance;\n\n@InjectableInit(preferRelativeImports: false)\nsetup(String env) {\n  getIt.init();\n  if (env == Env.test) {\n    getIt.registerLazySingleton<IAuthRepository>(() => TestAuthRepository());\n  } else {\n    getIt.registerLazySingleton<IAuthRepository>(() => AuthRepository());\n  }\n}\n\nabstract class Env {\n  // static const dev = 'dev';\n  static const prod = 'prod';\n  static const test = 'test';\n}\n\n",
            "AuthRepository",
            "TestAuthRepository",
            "auth_repository.dart",
            "abstract class IAuthRepository {\n  Future<int> createNewUser({\n    required String login,\n    required String email,\n    required String password,\n  });\n}\n\n@Injectable(as: IAuthRepository, env: [Env.prod])\nclass AuthRepository extends BaseRepository implements IAuthRepository {\n\n  @override\n  Future<int> createNewUser({\n    required String login,\n    required String email,\n    required String password,\n  }) async {\n    try {\n      final connection = await getDatabaseConnection();\n\n      // ... (make the database call) ...\n\n      return 1;\n    } catch (exception) {\n      print(exception);\n      return -1;\n    }\n  }\n}\n\n@Injectable(as: IAuthRepository, env: [Env.test])\nclass TestAuthRepository extends BaseRepository implements IAuthRepository {\n\n  @override\n  Future<int> createNewUser({required String login, required String email, required String password}) {\n    return Future.value(2);\n  }\n}\n",
            "createNewUser",
            "void main() {\n\n  AuthController authController = AuthController();\n\n  test('Registration success', () async {\n\n    int response = await authController.register(\n      login: 'test',\n      email: 'email@mail.com',\n      password: 'Testing193!',\n      passwordConfirmation: 'Testing193!',\n    );\n    expect(response, 1);\n  });\n  \n  // ...\n}\n",
            "authController.register()",
            "  Future<int> register({\n    required String login,\n    required String email,\n    required String password,\n    required String passwordConfirmation,\n  }) async {\n\n    // [...]\n\n    // IAuthRepository authRepository = getIt<IAuthRepository>();\n    IAuthRepository authRepository = getIt.get<IAuthRepository>();\n    return await authRepository.createNewUser(\n      login: login,\n      email: email,\n      password: password,\n    );\n  }\n",
            "IAuthRepository",
            "getIt",
            "00:00 +0 -1: Registration success [E]                                                                                                                     \n  Bad state: GetIt: Object/factory with type IAuthRepository is not registered inside GetIt. \n  (Did you accidentally do GetIt sl=GetIt.instance(); instead of GetIt sl=GetIt.instance;\n  Did you forget to register it?)\n  package:get_it/get_it_impl.dart 12:19                 throwIfNot\n  package:get_it/get_it_impl.dart 395:5                 _GetItImplementation._findFactoryByNameAndType\n  package:get_it/get_it_impl.dart 423:29                _GetItImplementation.get\n  package:toast/controllers/auth_controller.dart 31:44  AuthController.register\n  test/controllers/auth_controller_test.dart 23:41      main.<fn>\n",
            "IAuthRepository"
        ]
    },
    {
        "titulo": "Flutter cryptography test case",
        "score": 0,
        "views": 221,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing"
        ],
        "link": "https://stackoverflow.com/questions/76459186/flutter-cryptography-test-case",
        "conteudo_html": "<p>Why can not use <code>cryptography</code> on flutter test ?</p>\n<pre><code>import 'package:cryptography/cryptography.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nvoid main() {\n  group(&quot;Test ECDH&quot;, () {\n    test(&quot;generate shared secret&quot;, () async {\n      final algorithm = Ecdh.p256(length: 32);\n      final aliceKeyPair = await algorithm.newKeyPair();\n    });\n  });\n}\n</code></pre>\n<p>i receive this error :</p>\n<pre><code>/opt/flutter/bin/flutter --no-color test --machine --start-paused test/custom_test.dart\nTesting started at 9:24 PM ...\n\npackage:cryptography/src/dart/ecdh.dart 53:5  DartEcdh.newKeyPair\ntest/custom_test.dart 8:44                   main.&lt;fn&gt;.&lt;fn&gt;\n\nUnimplementedError\n</code></pre>\n<p>this simple code does work on real application (web or mobile ...)<br />\nbut i can not write test case for this library !</p>\n<p><strong>Note: I test this code on Linux Ubuntu 22.04</strong></p>\n",
        "codigo": [
            "cryptography",
            "import 'package:cryptography/cryptography.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nvoid main() {\n  group(\"Test ECDH\", () {\n    test(\"generate shared secret\", () async {\n      final algorithm = Ecdh.p256(length: 32);\n      final aliceKeyPair = await algorithm.newKeyPair();\n    });\n  });\n}\n",
            "/opt/flutter/bin/flutter --no-color test --machine --start-paused test/custom_test.dart\nTesting started at 9:24 PM ...\n\npackage:cryptography/src/dart/ecdh.dart 53:5  DartEcdh.newKeyPair\ntest/custom_test.dart 8:44                   main.<fn>.<fn>\n\nUnimplementedError\n"
        ]
    },
    {
        "titulo": "Hello there! i&#39;m facing some version issues in integrating the Zoom Video Sdk in a flutter app",
        "score": -2,
        "views": 706,
        "respostas": 1,
        "tags": [
            "flutter",
            "kotlin",
            "dart",
            "version"
        ],
        "link": "https://stackoverflow.com/questions/76452766/hello-there-im-facing-some-version-issues-in-integrating-the-zoom-video-sdk-in",
        "conteudo_html": "<p>The app was made using Flutter 3.7.7 and there is some depencies that are not working very well. When i run the app in my device via USB it's work perfectly. But always when i try to build a realese it's give me the following error:</p>\n<pre><code>Note: C:\\Users\\F�bio Brasileiro\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\cloud_firestore-4.8.0\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\firestore\\FlutterFirebaseFirestoreMessageCodec.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: C:\\Users\\F�bio Brasileiro\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\cloud_firestore-4.8.0\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\firestore\\FlutterFirebaseFirestoreMessageCodec.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\nNote: C:\\Users\\F�bio Brasileiro\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\flutter_zoom_videosdk-1.7.0\\android\\src\\main\\java\\com\\flutterzoom\\videosdk\\FlutterZoomVideoSdkPlugin.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/a2a101baaed768f358d4d8f74655776a/transformed/jetified-activity-1.7.0/jars/classes.jar!/META-INF/activity_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is \n1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/b365cbbdc580e3f264ee929243b93252/transformed/lifecycle-livedata-2.6.1/jars/classes.jar!/META-INF/lifecycle-livedata_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/4817204ab7acc54a5f2c041737b3ebbd/transformed/lifecycle-viewmodel-2.6.1/jars/classes.jar!/META-INF/lifecycle-viewmodel_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/fb13d994a9c57675c3797fdb5edd3dc7/transformed/lifecycle-livedata-core-2.6.1/jars/classes.jar!/META-INF/lifecycle-livedata-core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/7c1fedf36a262d80afd033982dc78c54/transformed/jetified-lifecycle-viewmodel-savedstate-2.6.1/jars/classes.jar!/META-INF/lifecycle-viewmodel-savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/f7cdfb73eaf400e8b2c346bb8e6d73ec/transformed/jetified-core-ktx-1.10.1/jars/classes.jar!/META-INF/core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/9c9ab1a476c120097a79d748cec7161f/transformed/core-1.10.1/jars/classes.jar!/META-INF/core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected \nversion is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/ad9f1a2743e3eaf4aa449a5b2d8828b3/transformed/lifecycle-runtime-2.6.1/jars/classes.jar!/META-INF/lifecycle-runtime_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/modules-2/files-2.1/androidx.lifecycle/lifecycle-common/2.6.1/10f354fdb64868baecd67128560c5a0d6312c495/lifecycle-common-2.6.1.jar!/META-INF/lifecycle-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/acc0a4ed60db051ae6d4cb2c458aa935/transformed/jetified-savedstate-1.2.1/jars/classes.jar!/META-INF/savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation-jvm/1.6.0/a7257339a052df0f91433cf9651231bbb802b502/annotation-jvm-1.6.0.jar!/META-INF/annotation.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.21/43d50ab85bc7587adfe3dda3dbe579e5f8d51265/kotlin-stdlib-1.8.21.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.21/43d50ab85bc7587adfe3dda3dbe579e5f8d51265/kotlin-stdlib-1.8.21.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.21/43d50ab85bc7587adfe3dda3dbe579e5f8d51265/kotlin-stdlib-1.8.21.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.8.21/d749cd5ae25da36d06e5028785038e24f9d37976/kotlin-stdlib-common-1.8.21.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n</code></pre>\n<p>That is my pubspec file:</p>\n<pre><code>environment:\n  sdk: '&gt;=2.19.4 &lt;3.0.0'\n\ndependencies:\n  flutter:\n    sdk: flutter\n  http: ^0.13.4\n  flutter_secure_storage: ^8.0.0\n  shared_preferences: ^2.1.1\n  auth_buttons: ^3.0.0\n  google_sign_in: ^6.0.2\n  flutter_facebook_auth: ^5.0.11\n  postgres: ^2.6.1\n  bcrypt: ^1.1.3\n  flutter_animate: ^4.1.1+1\n  page_transition: ^2.0.9\n  image_picker: ^0.8.7+5\n  validatorless: ^1.2.3\n  crypto: ^3.0.3\n  google_nav_bar: ^5.0.6\n  rxdart: ^0.27.7\n  rflutter_alert: ^2.0.6\n  get_it: ^7.6.0\n  cloud_firestore: ^4.8.0\n  google_mobile_ads: ^3.0.0\n  firebase_core: ^2.13.1\n  flutter_zoom_videosdk: \n  cupertino_icons: ^1.0.2\n  flutter_hooks: ^0.18.6\n  dart_jsonwebtoken: ^2.4.2\n  shared_value: ^3.0.0\n  events_emitter: ^0.5.2\n  permission_handler: ^10.2.0\n  google_fonts: ^3.0.0\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  flutter_lints: ^2.0.0\n</code></pre>\n<p>And for more information about my app. That is my gradlew file:</p>\n<p>defaultConfig {</p>\n<pre><code>    minSdkVersion 24\n    targetSdkVersion 33\n    versionCode flutterVersionCode.toInteger()\n    versionName flutterVersionName\n    \n}\n\nbuildTypes {\n    release {\n        // TODO: Add your own signing config for the release build.\n        // Signing with the debug keys for now, so `flutter run --release` works.\n        signingConfig signingConfigs.debug\n         ext.kotlin_version = '1.4.32'\n    }\n}\n</code></pre>\n<p>}</p>\n<p>flutter {\nsource '../..'\n}</p>\n<p>dependencies {</p>\n<pre><code>implementation &quot;us.zoom.videosdk:ZoomVideoSDK:0.0.1-beta&quot;\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib:1.8.21&quot;\n</code></pre>\n<p>I tried the following snipets:</p>\n<p><code>./gradlew clean</code></p>\n<p>and</p>\n<p><code>../gradlew assembleRelease</code></p>\n<p>but didn't work.</p>\n<p>I need to  run</p>\n<p><code>flutter build apk --release</code></p>\n<p>and work in my cellphone.</p>\n",
        "codigo": [
            "Note: C:\\Users\\F�bio Brasileiro\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\cloud_firestore-4.8.0\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\firestore\\FlutterFirebaseFirestoreMessageCodec.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: C:\\Users\\F�bio Brasileiro\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\cloud_firestore-4.8.0\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\firestore\\FlutterFirebaseFirestoreMessageCodec.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\nNote: C:\\Users\\F�bio Brasileiro\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\flutter_zoom_videosdk-1.7.0\\android\\src\\main\\java\\com\\flutterzoom\\videosdk\\FlutterZoomVideoSdkPlugin.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/a2a101baaed768f358d4d8f74655776a/transformed/jetified-activity-1.7.0/jars/classes.jar!/META-INF/activity_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is \n1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/b365cbbdc580e3f264ee929243b93252/transformed/lifecycle-livedata-2.6.1/jars/classes.jar!/META-INF/lifecycle-livedata_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/4817204ab7acc54a5f2c041737b3ebbd/transformed/lifecycle-viewmodel-2.6.1/jars/classes.jar!/META-INF/lifecycle-viewmodel_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/fb13d994a9c57675c3797fdb5edd3dc7/transformed/lifecycle-livedata-core-2.6.1/jars/classes.jar!/META-INF/lifecycle-livedata-core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/7c1fedf36a262d80afd033982dc78c54/transformed/jetified-lifecycle-viewmodel-savedstate-2.6.1/jars/classes.jar!/META-INF/lifecycle-viewmodel-savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/f7cdfb73eaf400e8b2c346bb8e6d73ec/transformed/jetified-core-ktx-1.10.1/jars/classes.jar!/META-INF/core-ktx_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/9c9ab1a476c120097a79d748cec7161f/transformed/core-1.10.1/jars/classes.jar!/META-INF/core_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected \nversion is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/ad9f1a2743e3eaf4aa449a5b2d8828b3/transformed/lifecycle-runtime-2.6.1/jars/classes.jar!/META-INF/lifecycle-runtime_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/modules-2/files-2.1/androidx.lifecycle/lifecycle-common/2.6.1/10f354fdb64868baecd67128560c5a0d6312c495/lifecycle-common-2.6.1.jar!/META-INF/lifecycle-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/transforms-3/acc0a4ed60db051ae6d4cb2c458aa935/transformed/jetified-savedstate-1.2.1/jars/classes.jar!/META-INF/savedstate_release.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/modules-2/files-2.1/androidx.annotation/annotation-jvm/1.6.0/a7257339a052df0f91433cf9651231bbb802b502/annotation-jvm-1.6.0.jar!/META-INF/annotation.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.21/43d50ab85bc7587adfe3dda3dbe579e5f8d51265/kotlin-stdlib-1.8.21.jar!/META-INF/kotlin-stdlib-jdk7.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.21/43d50ab85bc7587adfe3dda3dbe579e5f8d51265/kotlin-stdlib-1.8.21.jar!/META-INF/kotlin-stdlib.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.8.21/43d50ab85bc7587adfe3dda3dbe579e5f8d51265/kotlin-stdlib-1.8.21.jar!/META-INF/kotlin-stdlib-jdk8.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\ne: C:/Users/F�bio Brasileiro/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.8.21/d749cd5ae25da36d06e5028785038e24f9d37976/kotlin-stdlib-common-1.8.21.jar!/META-INF/kotlin-stdlib-common.kotlin_module: Module was compiled with an incompatible version of Kotlin. The binary version of its metadata is 1.8.0, expected version is 1.6.0.\n",
            "environment:\n  sdk: '>=2.19.4 <3.0.0'\n\ndependencies:\n  flutter:\n    sdk: flutter\n  http: ^0.13.4\n  flutter_secure_storage: ^8.0.0\n  shared_preferences: ^2.1.1\n  auth_buttons: ^3.0.0\n  google_sign_in: ^6.0.2\n  flutter_facebook_auth: ^5.0.11\n  postgres: ^2.6.1\n  bcrypt: ^1.1.3\n  flutter_animate: ^4.1.1+1\n  page_transition: ^2.0.9\n  image_picker: ^0.8.7+5\n  validatorless: ^1.2.3\n  crypto: ^3.0.3\n  google_nav_bar: ^5.0.6\n  rxdart: ^0.27.7\n  rflutter_alert: ^2.0.6\n  get_it: ^7.6.0\n  cloud_firestore: ^4.8.0\n  google_mobile_ads: ^3.0.0\n  firebase_core: ^2.13.1\n  flutter_zoom_videosdk: \n  cupertino_icons: ^1.0.2\n  flutter_hooks: ^0.18.6\n  dart_jsonwebtoken: ^2.4.2\n  shared_value: ^3.0.0\n  events_emitter: ^0.5.2\n  permission_handler: ^10.2.0\n  google_fonts: ^3.0.0\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  flutter_lints: ^2.0.0\n",
            "    minSdkVersion 24\n    targetSdkVersion 33\n    versionCode flutterVersionCode.toInteger()\n    versionName flutterVersionName\n    \n}\n\nbuildTypes {\n    release {\n        // TODO: Add your own signing config for the release build.\n        // Signing with the debug keys for now, so `flutter run --release` works.\n        signingConfig signingConfigs.debug\n         ext.kotlin_version = '1.4.32'\n    }\n}\n",
            "implementation \"us.zoom.videosdk:ZoomVideoSDK:0.0.1-beta\"\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib:1.8.21\"\n",
            "./gradlew clean",
            "../gradlew assembleRelease",
            "flutter build apk --release"
        ]
    },
    {
        "titulo": "Bizarre behavior of Dart (in Flutter)",
        "score": 0,
        "views": 47,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "behavior"
        ],
        "link": "https://stackoverflow.com/questions/76450070/bizarre-behavior-of-dart-in-flutter",
        "conteudo_html": "<p>I have this code:</p>\n<pre><code>class Pack {\n  Pack({\n    required this.responseCode,\n    required this.object,\n  });\n\n  int responseCode;\n  dynamic object;\n\n  factory Pack.fromJson(Map&lt;String, dynamic&gt; jsonString) =&gt; Pack(\n        responseCode: jsonString['ResponseCode'],\n        object: jsonString['Object'],\n      );\n}\n</code></pre>\n<pre><code>class EntityTypeModel {\n  EntityTypeModel({\n    required this.entityTypeCode,\n    required this.entityTypeName,\n  });\n\n  int entityTypeCode;\n  String entityTypeName;\n\n  factory EntityTypeModel.fromJson(Map&lt;String, dynamic&gt; jsonString) =&gt;\n      EntityTypeModel(\n        entityTypeCode: jsonString['EntityTypeCode'],\n        entityTypeName: jsonString['EntityTypeName'],\n      );\n\n  Map&lt;String, dynamic&gt; toJson() =&gt; {\n        &quot;EntityTypeCode&quot;: entityTypeCode,\n        &quot;EntityTypeName&quot;: entityTypeName,\n      };\n}\n</code></pre>\n<pre><code>Future&lt;dynamic&gt; Test(String bodyString) async {\n  Map&lt;String, dynamic&gt; bodyJson = json.decode(bodyString);\n\n  final pack = Pack.fromJson(bodyJson);\n\n  dynamic object= entityTypeListFromObject(pack.object);\n  //...\n}\n</code></pre>\n<p>and these two versions of code that, in theory, should do the exact same thing.</p>\n<p>Version 1:</p>\n<pre><code>List&lt;EntityTypeModel&gt;? entityTypeListFromObject(dynamic object) {\n  return object.map((element) =&gt; EntityTypeModel.fromJson(element)).toList();\n}\n</code></pre>\n<p>Version 2:</p>\n<pre><code>List&lt;EntityTypeModel&gt;? entityTypeListFromObject(dynamic object) {\n  if (object is List) {\n    return object\n        .map((element) =&gt; EntityTypeModel.fromJson(element))\n        .toList();\n  } else {\n    throw Exception('Invalid response format');\n  }\n}\n</code></pre>\n<p>The input data &quot;object&quot; is ALWAYS a list not null and not empty.\nAnd the bodyString is:</p>\n<pre><code>{&quot;ResponseCode&quot;:1,&quot;Object&quot;:[{&quot;EntityTypeCode&quot;:10,&quot;EntityTypeName&quot;:&quot;&quot;},{&quot;EntityTypeCode&quot;:11,&quot;EntityTypeName&quot;:&quot;&quot;},{&quot;EntityTypeCode&quot;:12,&quot;EntityTypeName&quot;:&quot;&quot;},{&quot;EntityTypeCode&quot;:13,&quot;EntityTypeName&quot;:&quot;&quot;},{&quot;EntityTypeCode&quot;:14,&quot;EntityTypeName&quot;:&quot;&quot;},{&quot;EntityTypeCode&quot;:15,&quot;EntityTypeName&quot;:&quot;&quot;}]}\n</code></pre>\n<p>In Version 1, I obtains this error:</p>\n<p>_TypeError (type 'List&lt;dynamic&gt;' is not a subtype of type 'List&lt;EntityTypeModel&gt;?')</p>\n<p>WHY ???</p>\n",
        "codigo": [
            "class Pack {\n  Pack({\n    required this.responseCode,\n    required this.object,\n  });\n\n  int responseCode;\n  dynamic object;\n\n  factory Pack.fromJson(Map<String, dynamic> jsonString) => Pack(\n        responseCode: jsonString['ResponseCode'],\n        object: jsonString['Object'],\n      );\n}\n",
            "class EntityTypeModel {\n  EntityTypeModel({\n    required this.entityTypeCode,\n    required this.entityTypeName,\n  });\n\n  int entityTypeCode;\n  String entityTypeName;\n\n  factory EntityTypeModel.fromJson(Map<String, dynamic> jsonString) =>\n      EntityTypeModel(\n        entityTypeCode: jsonString['EntityTypeCode'],\n        entityTypeName: jsonString['EntityTypeName'],\n      );\n\n  Map<String, dynamic> toJson() => {\n        \"EntityTypeCode\": entityTypeCode,\n        \"EntityTypeName\": entityTypeName,\n      };\n}\n",
            "Future<dynamic> Test(String bodyString) async {\n  Map<String, dynamic> bodyJson = json.decode(bodyString);\n\n  final pack = Pack.fromJson(bodyJson);\n\n  dynamic object= entityTypeListFromObject(pack.object);\n  //...\n}\n",
            "List<EntityTypeModel>? entityTypeListFromObject(dynamic object) {\n  return object.map((element) => EntityTypeModel.fromJson(element)).toList();\n}\n",
            "List<EntityTypeModel>? entityTypeListFromObject(dynamic object) {\n  if (object is List) {\n    return object\n        .map((element) => EntityTypeModel.fromJson(element))\n        .toList();\n  } else {\n    throw Exception('Invalid response format');\n  }\n}\n",
            "{\"ResponseCode\":1,\"Object\":[{\"EntityTypeCode\":10,\"EntityTypeName\":\"\"},{\"EntityTypeCode\":11,\"EntityTypeName\":\"\"},{\"EntityTypeCode\":12,\"EntityTypeName\":\"\"},{\"EntityTypeCode\":13,\"EntityTypeName\":\"\"},{\"EntityTypeCode\":14,\"EntityTypeName\":\"\"},{\"EntityTypeCode\":15,\"EntityTypeName\":\"\"}]}\n"
        ]
    },
    {
        "titulo": "Flutter gradle compile error when using Dart 3 new features. How can I fix it?",
        "score": 0,
        "views": 126,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "gradle"
        ],
        "link": "https://stackoverflow.com/questions/76438160/flutter-gradle-compile-error-when-using-dart-3-new-features-how-can-i-fix-it",
        "conteudo_html": "<p>I was experimenting with new Dart 3 features but my app won't compile.</p>\n<pre><code>packages/charts_repository/lib/src/models/peak_mean.dart:35:14: Error: Expected ')' before this.\n    if (json case {'DataSavedTime': final date, 'Value': final value}) {\n             ^^^^\npackages/charts_repository/lib/src/models/peak_mean.dart:36:38: Error: Undefined name 'date'.\n      return PeakMean(DateTime.parse(date), num.parse(value));\n                                     ^^^^\npackages/charts_repository/lib/src/models/peak_mean.dart:36:55: Error: Undefined name 'value'.\n      return PeakMean(DateTime.parse(date), num.parse(value));\n                                                      ^^^^^\npackages/charts_repository/lib/src/models/peak_mean.dart:35:9: Error: A value of type 'Map&lt;String, dynamic&gt;' can't be assigned to a variable of type 'bool'.\n - 'Map' is from 'dart:core'.\n    if (json case {'DataSavedTime': final date, 'Value': final value}) {\n</code></pre>\n<p>Here is the new dart 3 feature causing the error</p>\n<pre><code>class PeakMean {\n  final DateTime x;\n  final num y;\n\n  PeakMean(this.x, this.y);\n\n  factory PeakMean.fromJson(Map&lt;String, dynamic&gt; json) {\n    if (json case {'DataSavedTime': final date, 'Value': final value}) {\n      return PeakMean(DateTime.parse(date), num.parse(value));\n    }\n    throw const FormatException('Unexpected JSON format');\n  }\n}\n</code></pre>\n<p>Output from <code>flutter doctor -v</code></p>\n<pre><code>• Flutter version 3.10.4 on channel stable at C:\\Users\\itsroom\\Development\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 682aa387cf (3 days ago), 2023-06-05 18:04:56 -0500\n    • Engine revision 2a3401c9bb\n    • Dart version 3.0.3\n    • DevTools version 2.23.1\n</code></pre>\n<p><code>pubspec.yaml</code></p>\n<pre><code>environment:\n  sdk: &quot;&gt;=3.0.0 &lt;4.0.0&quot;\n</code></pre>\n",
        "codigo": [
            "packages/charts_repository/lib/src/models/peak_mean.dart:35:14: Error: Expected ')' before this.\n    if (json case {'DataSavedTime': final date, 'Value': final value}) {\n             ^^^^\npackages/charts_repository/lib/src/models/peak_mean.dart:36:38: Error: Undefined name 'date'.\n      return PeakMean(DateTime.parse(date), num.parse(value));\n                                     ^^^^\npackages/charts_repository/lib/src/models/peak_mean.dart:36:55: Error: Undefined name 'value'.\n      return PeakMean(DateTime.parse(date), num.parse(value));\n                                                      ^^^^^\npackages/charts_repository/lib/src/models/peak_mean.dart:35:9: Error: A value of type 'Map<String, dynamic>' can't be assigned to a variable of type 'bool'.\n - 'Map' is from 'dart:core'.\n    if (json case {'DataSavedTime': final date, 'Value': final value}) {\n",
            "class PeakMean {\n  final DateTime x;\n  final num y;\n\n  PeakMean(this.x, this.y);\n\n  factory PeakMean.fromJson(Map<String, dynamic> json) {\n    if (json case {'DataSavedTime': final date, 'Value': final value}) {\n      return PeakMean(DateTime.parse(date), num.parse(value));\n    }\n    throw const FormatException('Unexpected JSON format');\n  }\n}\n",
            "flutter doctor -v",
            "• Flutter version 3.10.4 on channel stable at C:\\Users\\itsroom\\Development\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 682aa387cf (3 days ago), 2023-06-05 18:04:56 -0500\n    • Engine revision 2a3401c9bb\n    • Dart version 3.0.3\n    • DevTools version 2.23.1\n",
            "pubspec.yaml",
            "environment:\n  sdk: \">=3.0.0 <4.0.0\"\n"
        ]
    },
    {
        "titulo": "W/Parcel ( 8822): Expecting binder but got null! on android studio",
        "score": 2,
        "views": 6084,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76438037/w-parcel-8822-expecting-binder-but-got-null-on-android-studio",
        "conteudo_html": "<p>Im getting this error <code>W/Parcel  ( 8822): Expecting binder but got null!</code> when running the below code.</p>\n<p>Code:</p>\n<pre><code>import 'package:audioplayers/audioplayers.dart';\nimport 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(\n      XylophoneApp(),\n    );\n\nclass XylophoneApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        body: SafeArea(\n          child: Center(\n            child: OutlinedButton(\n              onPressed: () async {\n                final player = AudioPlayer(); // Audio player\n                player.play(\n                    UrlSource('note1.wav')); // will immediately start playing\n                await player.play(AssetSource('asset/note1.wav'));\n              },\n              child: Text('Click Me'),\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}\n\n</code></pre>\n<p>The warning</p>\n<pre><code>W/Parcel ( 8822): Expecting binder but got null!\n</code></pre>\n<p>Here's the console:\n<a href=\"https://i.sstatic.net/ul3k5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/ul3k5.png\" alt=\"console\" /></a></p>\n<p>pubspec.yaml\n<a href=\"https://i.sstatic.net/eaCEL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/eaCEL.png\" alt=\"pubspec.yaml\" /></a></p>\n<p>flutter doctor:\n<a href=\"https://i.sstatic.net/eryU4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/eryU4.png\" alt=\"flutter doctor\" /></a></p>\n<p>assets folder:\n<br/>\n<a href=\"https://i.sstatic.net/BNOAf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/BNOAf.png\" alt=\"assets folder\" /></a></p>\n<p>This is what I get when I click the button on onClick() with the warning</p>\n<pre><code>Launching lib\\main.dart on sdk gphone x86 64 in debug mode...\nRunning Gradle task 'assembleDebug'...\n√  Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\nDebug service listening on ws://127.0.0.1:59516/Nb3xIBlDGmY=/ws\nSyncing files to device sdk gphone x86 64...\nI/lophone_flutter(11340): Compiler allocated 4533KB to compile void android.view.ViewRootImpl.performTraversals()\nW/Parcel  (11340): Expecting binder but got null!\nE/flutter (11340): [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: Unable to load asset: &quot;assets/asset/note1.wav&quot;.\nE/flutter (11340): The asset does not exist or has empty data.\nE/flutter (11340): #0      PlatformAssetBundle.load.&lt;anonymous closure&gt; (package:flutter/src/services/asset_bundle.dart:328:9)\nE/flutter (11340): &lt;asynchronous suspension&gt;\nE/flutter (11340): #1      AudioCache.fetchToMemory (package:audioplayers/src/audio_cache.dart:88:22)\nE/flutter (11340): &lt;asynchronous suspension&gt;\nE/flutter (11340): #2      AudioCache.load (package:audioplayers/src/audio_cache.dart:114:31)\nE/flutter (11340): &lt;asynchronous suspension&gt;\nE/flutter (11340): #3      AudioPlayer.setSourceAsset (package:audioplayers/src/audioplayer.dart:337:17)\nE/flutter (11340): &lt;asynchronous suspension&gt;\nE/flutter (11340): #4      AudioPlayer.setSource (package:audioplayers/src/audioplayer.dart:284:5)\nE/flutter (11340): &lt;asynchronous suspension&gt;\nE/flutter (11340): #5      AudioPlayer.play (package:audioplayers/src/audioplayer.dart:182:5)\nE/flutter (11340): &lt;asynchronous suspension&gt;\nE/flutter (11340): #6      XylophoneApp.build.&lt;anonymous closure&gt; (package:xylophone_flutter/main.dart:20:17)\nE/flutter (11340): &lt;asynchronous suspension&gt;\nE/flutter (11340): \nD/EGL_emulation(11340): app_time_stats: avg=6796.08ms min=3.35ms max=13588.81ms count=2\nV/MediaPlayer(11340): resetDrmState:  mDrmInfo=null mDrmProvisioningThread=null mPrepareDrmInProgress=false mActiveDrmScheme=false\nV/MediaPlayer(11340): cleanDrmObj: mDrmObj=null mDrmSessionId=null\nE/flutter (11340): [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: PlatformException(AndroidAudioError, note1.wav: open failed: ENOENT (No such file or directory), java.io.FileNotFoundException: note1.wav: open failed: ENOENT (No such file or directory)\nE/flutter (11340):  at libcore.io.IoBridge.open(IoBridge.java:574)\nE/flutter (11340):  at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:160)\nE/flutter (11340):  at android.media.MediaPlayer.setDataSource(MediaPlayer.java:1209)\nE/flutter (11340):  at android.media.MediaPlayer.setDataSource(MediaPlayer.java:1187)\nE/flutter (11340):  at android.media.MediaPlayer.setDataSource(MediaPlayer.java:1152)\nE/flutter (11340):  at xyz.luan.audioplayers.source.UrlSource.setForMediaPlayer(UrlSource.kt:16)\nE/flutter (11340):  at xyz.luan.audioplayers.player.MediaPlayerPlayer.setSource(MediaPlayerPlayer.kt:53)\nE/flutter (11340):  at xyz.luan.audioplayers.player.WrappedPlayer.setSource(WrappedPlayer.kt:29)\nE/flutter (11340):  at xyz.luan.audioplayers.AudioplayersPlugin.methodHandler(AudioplayersPlugin.kt:126)\nE/flutter (11340):  at xyz.luan.audioplayers.AudioplayersPlugin.access$methodHandler(AudioplayersPlugin.kt:29)\nE/flutter (11340):  at xyz.luan.audioplayers.AudioplayersPlugin$onAttachedToEngine$1$1.invoke(AudioplayersPlugin.kt:50)\nE/flutter (11340):  at xyz.luan.audioplayers.AudioplayersPlugin$onAttachedToEngine$1$1.invoke(AudioplayersPlugin.kt:50)\nE/flutter (11340):  at xyz.luan.audioplayers.AudioplayersPlugin$safeCall$1.invokeSuspend(AudioplayersPlugin.kt:75)\nE/flutter (11340):  at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\nE/flutter (11340):  at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\nE/flutter (11340):  at kotlinx.coroutines.internal.LimitedDispatcher.run(LimitedDispatcher.kt:42)\nE/flutter (11340):  at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:95)\nE/flutter (11340):  at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\nE/flutter (11340):  at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\nE/flutter (11340):  at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\nE/flutter (11340):  at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\nE/flutter (11340): Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\nE/flutter (11340):  at libcore.io.Linux.open(Native Method)\nE/flutter (11340):  at libcore.io.ForwardingOs.open(ForwardingOs.java:563)\nE/flutter (11340):  at libcore.io.BlockGuardOs.open(BlockGuardOs.java:274)\nE/flutter (11340):  at libcore.io.ForwardingOs.open(ForwardingOs.java:563)\nE/flutter (11340):  at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:7758)\nE/flutter (11340):  at libcore.io.IoBridge.open(IoBridge.java:560)\nE/flutter (11340):  ... 20 more\nE/flutter (11340): , null)\nE/flutter (11340): #0      StandardMethodCodec.decodeEnvelope (package:flutter/src/services/message_codecs.dart:652:7)\nE/flutter (11340): #1      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:310:18)\nE/flutter (11340): &lt;asynchronous suspension&gt;\nE/flutter (11340): #2      AudioPlayer._completePrepared (package:audioplayers/src/audioplayer.dart:301:5)\nE/flutter (11340): &lt;asynchronous suspension&gt;\nE/flutter (11340): #3      AudioPlayer.setSourceUrl (package:audioplayers/src/audioplayer.dart:313:5)\nE/flutter (11340): &lt;asynchronous suspension&gt;\nE/flutter (11340): #4      AudioPlayer.setSource (package:audioplayers/src/audioplayer.dart:284:5)\nE/flutter (11340): &lt;asynchronous suspension&gt;\nE/flutter (11340): #5      AudioPlayer.play (package:audioplayers/src/audioplayer.dart:182:5)\nE/flutter (11340): &lt;asynchronous suspension&gt;\nE/flutter (11340): \n\n</code></pre>\n<p>I tried:\nflutter clean\nflutter doctor\nclean cache\nupdated SDK, IDE and flutter\nWidgetsFlutterBinding.ensureInitialized(); on main() &lt;-- This i tried didnt work im not sure if this works</p>\n<p>And due to the above errors i cant get my output on onClick().</p>\n<p>Feel free to ask any doubts :)</p>\n",
        "codigo": [
            "W/Parcel  ( 8822): Expecting binder but got null!",
            "import 'package:audioplayers/audioplayers.dart';\nimport 'package:flutter/material.dart';\n\nvoid main() => runApp(\n      XylophoneApp(),\n    );\n\nclass XylophoneApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        body: SafeArea(\n          child: Center(\n            child: OutlinedButton(\n              onPressed: () async {\n                final player = AudioPlayer(); // Audio player\n                player.play(\n                    UrlSource('note1.wav')); // will immediately start playing\n                await player.play(AssetSource('asset/note1.wav'));\n              },\n              child: Text('Click Me'),\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}\n\n",
            "W/Parcel ( 8822): Expecting binder but got null!\n",
            "Launching lib\\main.dart on sdk gphone x86 64 in debug mode...\nRunning Gradle task 'assembleDebug'...\n√  Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\nDebug service listening on ws://127.0.0.1:59516/Nb3xIBlDGmY=/ws\nSyncing files to device sdk gphone x86 64...\nI/lophone_flutter(11340): Compiler allocated 4533KB to compile void android.view.ViewRootImpl.performTraversals()\nW/Parcel  (11340): Expecting binder but got null!\nE/flutter (11340): [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: Unable to load asset: \"assets/asset/note1.wav\".\nE/flutter (11340): The asset does not exist or has empty data.\nE/flutter (11340): #0      PlatformAssetBundle.load.<anonymous closure> (package:flutter/src/services/asset_bundle.dart:328:9)\nE/flutter (11340): <asynchronous suspension>\nE/flutter (11340): #1      AudioCache.fetchToMemory (package:audioplayers/src/audio_cache.dart:88:22)\nE/flutter (11340): <asynchronous suspension>\nE/flutter (11340): #2      AudioCache.load (package:audioplayers/src/audio_cache.dart:114:31)\nE/flutter (11340): <asynchronous suspension>\nE/flutter (11340): #3      AudioPlayer.setSourceAsset (package:audioplayers/src/audioplayer.dart:337:17)\nE/flutter (11340): <asynchronous suspension>\nE/flutter (11340): #4      AudioPlayer.setSource (package:audioplayers/src/audioplayer.dart:284:5)\nE/flutter (11340): <asynchronous suspension>\nE/flutter (11340): #5      AudioPlayer.play (package:audioplayers/src/audioplayer.dart:182:5)\nE/flutter (11340): <asynchronous suspension>\nE/flutter (11340): #6      XylophoneApp.build.<anonymous closure> (package:xylophone_flutter/main.dart:20:17)\nE/flutter (11340): <asynchronous suspension>\nE/flutter (11340): \nD/EGL_emulation(11340): app_time_stats: avg=6796.08ms min=3.35ms max=13588.81ms count=2\nV/MediaPlayer(11340): resetDrmState:  mDrmInfo=null mDrmProvisioningThread=null mPrepareDrmInProgress=false mActiveDrmScheme=false\nV/MediaPlayer(11340): cleanDrmObj: mDrmObj=null mDrmSessionId=null\nE/flutter (11340): [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: PlatformException(AndroidAudioError, note1.wav: open failed: ENOENT (No such file or directory), java.io.FileNotFoundException: note1.wav: open failed: ENOENT (No such file or directory)\nE/flutter (11340):  at libcore.io.IoBridge.open(IoBridge.java:574)\nE/flutter (11340):  at java.io.FileInputStream.<init>(FileInputStream.java:160)\nE/flutter (11340):  at android.media.MediaPlayer.setDataSource(MediaPlayer.java:1209)\nE/flutter (11340):  at android.media.MediaPlayer.setDataSource(MediaPlayer.java:1187)\nE/flutter (11340):  at android.media.MediaPlayer.setDataSource(MediaPlayer.java:1152)\nE/flutter (11340):  at xyz.luan.audioplayers.source.UrlSource.setForMediaPlayer(UrlSource.kt:16)\nE/flutter (11340):  at xyz.luan.audioplayers.player.MediaPlayerPlayer.setSource(MediaPlayerPlayer.kt:53)\nE/flutter (11340):  at xyz.luan.audioplayers.player.WrappedPlayer.setSource(WrappedPlayer.kt:29)\nE/flutter (11340):  at xyz.luan.audioplayers.AudioplayersPlugin.methodHandler(AudioplayersPlugin.kt:126)\nE/flutter (11340):  at xyz.luan.audioplayers.AudioplayersPlugin.access$methodHandler(AudioplayersPlugin.kt:29)\nE/flutter (11340):  at xyz.luan.audioplayers.AudioplayersPlugin$onAttachedToEngine$1$1.invoke(AudioplayersPlugin.kt:50)\nE/flutter (11340):  at xyz.luan.audioplayers.AudioplayersPlugin$onAttachedToEngine$1$1.invoke(AudioplayersPlugin.kt:50)\nE/flutter (11340):  at xyz.luan.audioplayers.AudioplayersPlugin$safeCall$1.invokeSuspend(AudioplayersPlugin.kt:75)\nE/flutter (11340):  at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\nE/flutter (11340):  at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\nE/flutter (11340):  at kotlinx.coroutines.internal.LimitedDispatcher.run(LimitedDispatcher.kt:42)\nE/flutter (11340):  at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:95)\nE/flutter (11340):  at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\nE/flutter (11340):  at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\nE/flutter (11340):  at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\nE/flutter (11340):  at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\nE/flutter (11340): Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\nE/flutter (11340):  at libcore.io.Linux.open(Native Method)\nE/flutter (11340):  at libcore.io.ForwardingOs.open(ForwardingOs.java:563)\nE/flutter (11340):  at libcore.io.BlockGuardOs.open(BlockGuardOs.java:274)\nE/flutter (11340):  at libcore.io.ForwardingOs.open(ForwardingOs.java:563)\nE/flutter (11340):  at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:7758)\nE/flutter (11340):  at libcore.io.IoBridge.open(IoBridge.java:560)\nE/flutter (11340):  ... 20 more\nE/flutter (11340): , null)\nE/flutter (11340): #0      StandardMethodCodec.decodeEnvelope (package:flutter/src/services/message_codecs.dart:652:7)\nE/flutter (11340): #1      MethodChannel._invokeMethod (package:flutter/src/services/platform_channel.dart:310:18)\nE/flutter (11340): <asynchronous suspension>\nE/flutter (11340): #2      AudioPlayer._completePrepared (package:audioplayers/src/audioplayer.dart:301:5)\nE/flutter (11340): <asynchronous suspension>\nE/flutter (11340): #3      AudioPlayer.setSourceUrl (package:audioplayers/src/audioplayer.dart:313:5)\nE/flutter (11340): <asynchronous suspension>\nE/flutter (11340): #4      AudioPlayer.setSource (package:audioplayers/src/audioplayer.dart:284:5)\nE/flutter (11340): <asynchronous suspension>\nE/flutter (11340): #5      AudioPlayer.play (package:audioplayers/src/audioplayer.dart:182:5)\nE/flutter (11340): <asynchronous suspension>\nE/flutter (11340): \n\n"
        ]
    },
    {
        "titulo": "Get Flutter/Vscode to use Java from newly installed Android Studio?",
        "score": 2,
        "views": 551,
        "respostas": 0,
        "tags": [
            "android",
            "linux",
            "flutter",
            "android-studio",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76434493/get-flutter-vscode-to-use-java-from-newly-installed-android-studio",
        "conteudo_html": "<p>I just installed <strong>Android Studio 2022.2</strong> in addition to the existing <strong>Android Studio 2021.2</strong> on my Ubuntu 22.04 system.</p>\n<p>When I build my Flutter app through Vscode by running <code>Run &gt; Start debugging</code>, the build will fail and the error messages show that it is still using the bundled JDK of the old Andriod Studio <code>/opt/android-studio-2021.2.1/android-studio/jre</code></p>\n<pre><code>* What went wrong:\nA problem occurred evaluating project ':app'.\n&gt; Failed to apply plugin 'com.android.internal.application'.\n   &gt; Android Gradle plugin requires Java 17 to run. You are currently using Java 11.\n      Your current JDK is located in /opt/android-studio-2021.2.1/android-studio/jre\n      You can try some of the following options:\n       - changing the IDE settings.\n       - changing the JAVA_HOME environment variable.\n       - changing `org.gradle.java.home` in `gradle.properties`.\n</code></pre>\n<p>This is the output of <code>flutter doctor -v</code></p>\n<pre><code>[✓] Flutter (Channel stable, 3.10.4, on Ubuntu 22.04.2 LTS 5.19.0-41-generic, locale en_US.UTF-8)\n    • Flutter version 3.10.4 on channel stable at /home/gameveloster/snap/flutter/common/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 682aa387cf (3 days ago), 2023-06-05 18:04:56 -0500\n    • Engine revision 2a3401c9bb\n    • Dart version 3.0.3\n    • DevTools version 2.23.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.2)\n    • Android SDK at /home/gameveloster/Android/Sdk\n    • Platform android-33, build-tools 33.0.2\n    • Java binary at: /opt/android-studio-2022.2.1.20-linux/android-studio/jbr/bin/java\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b802.4-9586694)\n    • All Android licenses accepted.\n\n[✓] Chrome - develop for the web\n    • Chrome at google-chrome\n\n[✓] Linux toolchain - develop for Linux desktop\n    • clang version 10.0.0-4ubuntu1\n    • cmake version 3.16.3\n    • ninja version 1.10.0\n    • pkg-config version 0.29.1\n\n[✓] Android Studio (version 2022.2)\n    • Android Studio at /opt/android-studio-2022.2.1.20-linux/android-studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b802.4-9586694)\n\n[✓] Android Studio (version 2021.2)\n    • Android Studio at /opt/android-studio-2021.2.1/android-studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.12+0-b1504.28-7817840)\n\n[!] Android Studio\n    • Android Studio at /opt/android-studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    ✗ Unable to find bundled Java version.\n    • Try updating or re-installing Android Studio.\n\n[✓] VS Code\n    • VS Code at /snap/code/current\n    • Flutter extension version 3.66.0\n\n[✓] Connected device (2 available)\n    • Linux (desktop)   • linux              • linux-x64      • Ubuntu 22.04.2 LTS 5.19.0-41-generic\n    • Chrome (web)      • chrome             • web-javascript • Google Chrome 114.0.5735.106\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n</code></pre>\n<p>In <code>/opt</code> I have</p>\n<pre><code>lrwxrwxrwx  1 root root   47 Jun  8 13:26  android-studio -&gt; android-studio-2022.2.1.20-linux/android-studio/\nlrwxrwxrwx  1 root root   38 Aug  3  2022  android-studio-2021 -&gt; android-studio-2021.2.1/android-studio/\ndrwxr-xr-x  3 root root 4096 Sep 13  2022  android-studio-2021.2.1/\ndrwxrwxr-x  3 root root 4096 Jun  8 13:15  android-studio-2022.2.1.20-linux/\n</code></pre>\n<p>There's no java or flutter paths in my <code>$PATH</code>.</p>\n<pre><code>$ echo $PATH\n/home/gameveloster/go/bin:/home/gameveloster/.go/bin:/opt/anaconda3/condabin:/home/linuxbrew/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/sbin:/home/gameveloster/.cargo/bin:/home/gameveloster/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/home/gameveloster/.dotnet/tools:/usr/local/go/bin\n</code></pre>\n",
        "codigo": [
            "Run > Start debugging",
            "/opt/android-studio-2021.2.1/android-studio/jre",
            "* What went wrong:\nA problem occurred evaluating project ':app'.\n> Failed to apply plugin 'com.android.internal.application'.\n   > Android Gradle plugin requires Java 17 to run. You are currently using Java 11.\n      Your current JDK is located in /opt/android-studio-2021.2.1/android-studio/jre\n      You can try some of the following options:\n       - changing the IDE settings.\n       - changing the JAVA_HOME environment variable.\n       - changing `org.gradle.java.home` in `gradle.properties`.\n",
            "flutter doctor -v",
            "[✓] Flutter (Channel stable, 3.10.4, on Ubuntu 22.04.2 LTS 5.19.0-41-generic, locale en_US.UTF-8)\n    • Flutter version 3.10.4 on channel stable at /home/gameveloster/snap/flutter/common/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 682aa387cf (3 days ago), 2023-06-05 18:04:56 -0500\n    • Engine revision 2a3401c9bb\n    • Dart version 3.0.3\n    • DevTools version 2.23.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.2)\n    • Android SDK at /home/gameveloster/Android/Sdk\n    • Platform android-33, build-tools 33.0.2\n    • Java binary at: /opt/android-studio-2022.2.1.20-linux/android-studio/jbr/bin/java\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b802.4-9586694)\n    • All Android licenses accepted.\n\n[✓] Chrome - develop for the web\n    • Chrome at google-chrome\n\n[✓] Linux toolchain - develop for Linux desktop\n    • clang version 10.0.0-4ubuntu1\n    • cmake version 3.16.3\n    • ninja version 1.10.0\n    • pkg-config version 0.29.1\n\n[✓] Android Studio (version 2022.2)\n    • Android Studio at /opt/android-studio-2022.2.1.20-linux/android-studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b802.4-9586694)\n\n[✓] Android Studio (version 2021.2)\n    • Android Studio at /opt/android-studio-2021.2.1/android-studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.12+0-b1504.28-7817840)\n\n[!] Android Studio\n    • Android Studio at /opt/android-studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    ✗ Unable to find bundled Java version.\n    • Try updating or re-installing Android Studio.\n\n[✓] VS Code\n    • VS Code at /snap/code/current\n    • Flutter extension version 3.66.0\n\n[✓] Connected device (2 available)\n    • Linux (desktop)   • linux              • linux-x64      • Ubuntu 22.04.2 LTS 5.19.0-41-generic\n    • Chrome (web)      • chrome             • web-javascript • Google Chrome 114.0.5735.106\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n",
            "/opt",
            "lrwxrwxrwx  1 root root   47 Jun  8 13:26  android-studio -> android-studio-2022.2.1.20-linux/android-studio/\nlrwxrwxrwx  1 root root   38 Aug  3  2022  android-studio-2021 -> android-studio-2021.2.1/android-studio/\ndrwxr-xr-x  3 root root 4096 Sep 13  2022  android-studio-2021.2.1/\ndrwxrwxr-x  3 root root 4096 Jun  8 13:15  android-studio-2022.2.1.20-linux/\n",
            "$PATH",
            "$ echo $PATH\n/home/gameveloster/go/bin:/home/gameveloster/.go/bin:/opt/anaconda3/condabin:/home/linuxbrew/.linuxbrew/bin:/home/linuxbrew/.linuxbrew/sbin:/home/gameveloster/.cargo/bin:/home/gameveloster/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/snap/bin:/home/gameveloster/.dotnet/tools:/usr/local/go/bin\n"
        ]
    },
    {
        "titulo": "Need help creating a persistent bottom navigation bar in inner pages using auto_route: ^7.4.0 in Flutter",
        "score": 3,
        "views": 1147,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-navigation",
            "auto-route"
        ],
        "link": "https://stackoverflow.com/questions/76429266/need-help-creating-a-persistent-bottom-navigation-bar-in-inner-pages-using-auto",
        "conteudo_html": "<p>Hello Stack Overflow community,</p>\n<p>I'm currently working on a project and I'm facing an issue regarding the implementation of a persistent bottom navigation bar using auto_route: ^7.4.0 in my Flutter application. I've searched extensively for a solution but haven't found anything that addresses my specific requirement.</p>\n<p>Here's what I'm trying to achieve: I want to create a bottom navigation bar that remains persistent across multiple pages or screens in my app. I have already implemented the navigation using auto_route: ^7.4.0, which is working well for navigating between screens. However, I'm struggling to figure out how to keep the bottom navigation bar visible and interactive when switching between pages.</p>\n<p>Here are some relevant details about my setup:</p>\n<p>Flutter version: 3.10\nauto_route version: ^7.4.0\nI would greatly appreciate it if someone could guide me in the right direction or provide a code example demonstrating how to achieve a persistent bottom navigation bar using auto_route: ^7.4.0. Any insights, suggestions, or alternative approaches to consider would be highly valuable.</p>\n<p>Thank you in advance for your time and assistance.\n<strong>My Tab page</strong></p>\n<pre><code>AutoTabsScaffold(\n        routes: [\n          const HomeRoute(),\n          SearchRoute(),\n          const CoursesRoute(),\n          const ProfileRoute()\n        ],\n        bottomNavigationBuilder: (_,tabsRouter) {\n          //final tabsRouter = AutoTabsRouter.of(context);\n          return WillPopScope(\n            onWillPop: () async {\n              if (tabsRouter.activeIndex != 0) {\n                if (backStack.isNotEmpty) {\n                  final previousIndex = backStack.removeLast();\n                  tabsRouter.setActiveIndex(previousIndex);\n                  return false; // Prevent the app from closing\n                }\n                return true;\n              }\n              backStack.clear();\n              return true;\n            },\n            child: Container(\n              height: 72,\n              decoration: buildYellowBoxDecoration(),\n              child: Padding(\n                padding: const EdgeInsets.only(top: 6.0),\n                child: Container(\n                  decoration: buildGreenBoxDecoration(),\n                  child: ClipRRect(\n                    borderRadius: const BorderRadius.only(\n                      topRight: Radius.circular(20),\n                      topLeft: Radius.circular(20),\n                    ),\n                    child: Padding(\n                      padding: const EdgeInsets.only(top: 8.0),\n                      child: buildBottomNavigationBar(\n                          tabsRouter,\n                          backStack,\n                          homeIcon,\n                          homeIconActive,\n                          searchIcon,\n                          searchIconActive,\n                          coursesIcon,\n                          coursesIconActive,\n                          profileIcon,\n                          profileIconActive),\n                    ),\n                  ),\n                ),\n              ),\n            ),\n          );\n        }\n        // bottomNavigationBuilder: (context, tabsRouter) {\n        //     return   NumberOneAppBottomBarWidget( tabsRouter: tabsRouter,);\n        //   }\n\n        );\n</code></pre>\n<p><strong>My router page</strong></p>\n<pre><code>@AutoRouterConfig()\nclass AppRouter extends _$AppRouter {\n  @override\n  final List&lt;AutoRoute&gt; routes = [\n    //login and onBoarding\n    AutoRoute(\n      page: SplashRoute.page,\n      path: &quot;/splash&quot;,\n    ),\n    AutoRoute(page: DashBoardRoute.page, path: &quot;/&quot;, guards: [AuthGuard()]),\n    AutoRoute(\n        page: RegistrationSuccessfulRoute.page,\n        path: &quot;/registration_successful&quot;),\n    AutoRoute(page: RegistrationRoute.page, path: &quot;/registration&quot;),\n    AutoRoute(page: LoginRoute.page, path: &quot;/loginPage&quot;),\n    AutoRoute(page: VerifyOtpRoute.page, path: &quot;/verifyOtp&quot;),\n    AutoRoute(page: LanguageSelectionRoute.page, path: &quot;/languageSelect&quot;),\n    AutoRoute(\n        page: OnBoardSelectEntrepreneurRoute.page,\n        path: &quot;/onboard_select_entrepreneur&quot;),\n    AutoRoute(\n        page: OnBoardPreparingDataRoute.page, path: &quot;/onboard_prepare_data&quot;),\n\n    AutoRoute(page: NotificationRoute.page, path: &quot;/notifications&quot;),\n    AutoRoute(page: CourseDetailRoute.page, path: &quot;/course_detail&quot;),\n    AutoRoute(page: VideoBuilderRoute.page, path: &quot;/video_player/:arguments&quot;),\n    //AutoRoute(page: VideoPlayRoute.page, path: &quot;/video_player_appinio&quot;),\n\n    AutoRoute(page: BundleCourseRoute.page, path: &quot;/bundle_course_page&quot;),\n\n    //BottomNavigation\n    AutoRoute(page: HomeTabRoute.page, path: &quot;/&quot;, children: [\n      CustomRoute(page: HomeRoute.page, path: &quot;home_page&quot;,\n      children: [\n        AutoRoute(page: VideoPlayRoute.page, path: &quot;course_details_page/:arguments&quot;),\n      ]),\n      CustomRoute(page: SearchRoute.page, path: &quot;search_route&quot;),\n      CustomRoute(page: ProfileRoute.page, path: &quot;profile_route&quot;),\n      CustomRoute(page: CoursesRoute.page, path: &quot;courses_route&quot;),\n    ]),\n    //Admin Pages\n    AutoRoute(page: AdminCourseListRoute.page, path: &quot;/admin_course_list&quot;),\n    AutoRoute(page: AdminAddLessonRoute.page, path: &quot;/admin_add_lesson_page&quot;),\n    AutoRoute(page: AdminAddCourseRoute.page, path: &quot;/admin_add_course_page&quot;),\n\n    RedirectRoute(path: '*', redirectTo: '/'),\n  ];\n}\n</code></pre>\n<p>I've explored different approaches, including using a global widget for the bottom navigation bar, but it doesn't seem to work as expected. I'm unsure if I'm missing something or if there's a specific configuration I need to apply to make it work.</p>\n",
        "codigo": [
            "AutoTabsScaffold(\n        routes: [\n          const HomeRoute(),\n          SearchRoute(),\n          const CoursesRoute(),\n          const ProfileRoute()\n        ],\n        bottomNavigationBuilder: (_,tabsRouter) {\n          //final tabsRouter = AutoTabsRouter.of(context);\n          return WillPopScope(\n            onWillPop: () async {\n              if (tabsRouter.activeIndex != 0) {\n                if (backStack.isNotEmpty) {\n                  final previousIndex = backStack.removeLast();\n                  tabsRouter.setActiveIndex(previousIndex);\n                  return false; // Prevent the app from closing\n                }\n                return true;\n              }\n              backStack.clear();\n              return true;\n            },\n            child: Container(\n              height: 72,\n              decoration: buildYellowBoxDecoration(),\n              child: Padding(\n                padding: const EdgeInsets.only(top: 6.0),\n                child: Container(\n                  decoration: buildGreenBoxDecoration(),\n                  child: ClipRRect(\n                    borderRadius: const BorderRadius.only(\n                      topRight: Radius.circular(20),\n                      topLeft: Radius.circular(20),\n                    ),\n                    child: Padding(\n                      padding: const EdgeInsets.only(top: 8.0),\n                      child: buildBottomNavigationBar(\n                          tabsRouter,\n                          backStack,\n                          homeIcon,\n                          homeIconActive,\n                          searchIcon,\n                          searchIconActive,\n                          coursesIcon,\n                          coursesIconActive,\n                          profileIcon,\n                          profileIconActive),\n                    ),\n                  ),\n                ),\n              ),\n            ),\n          );\n        }\n        // bottomNavigationBuilder: (context, tabsRouter) {\n        //     return   NumberOneAppBottomBarWidget( tabsRouter: tabsRouter,);\n        //   }\n\n        );\n",
            "@AutoRouterConfig()\nclass AppRouter extends _$AppRouter {\n  @override\n  final List<AutoRoute> routes = [\n    //login and onBoarding\n    AutoRoute(\n      page: SplashRoute.page,\n      path: \"/splash\",\n    ),\n    AutoRoute(page: DashBoardRoute.page, path: \"/\", guards: [AuthGuard()]),\n    AutoRoute(\n        page: RegistrationSuccessfulRoute.page,\n        path: \"/registration_successful\"),\n    AutoRoute(page: RegistrationRoute.page, path: \"/registration\"),\n    AutoRoute(page: LoginRoute.page, path: \"/loginPage\"),\n    AutoRoute(page: VerifyOtpRoute.page, path: \"/verifyOtp\"),\n    AutoRoute(page: LanguageSelectionRoute.page, path: \"/languageSelect\"),\n    AutoRoute(\n        page: OnBoardSelectEntrepreneurRoute.page,\n        path: \"/onboard_select_entrepreneur\"),\n    AutoRoute(\n        page: OnBoardPreparingDataRoute.page, path: \"/onboard_prepare_data\"),\n\n    AutoRoute(page: NotificationRoute.page, path: \"/notifications\"),\n    AutoRoute(page: CourseDetailRoute.page, path: \"/course_detail\"),\n    AutoRoute(page: VideoBuilderRoute.page, path: \"/video_player/:arguments\"),\n    //AutoRoute(page: VideoPlayRoute.page, path: \"/video_player_appinio\"),\n\n    AutoRoute(page: BundleCourseRoute.page, path: \"/bundle_course_page\"),\n\n    //BottomNavigation\n    AutoRoute(page: HomeTabRoute.page, path: \"/\", children: [\n      CustomRoute(page: HomeRoute.page, path: \"home_page\",\n      children: [\n        AutoRoute(page: VideoPlayRoute.page, path: \"course_details_page/:arguments\"),\n      ]),\n      CustomRoute(page: SearchRoute.page, path: \"search_route\"),\n      CustomRoute(page: ProfileRoute.page, path: \"profile_route\"),\n      CustomRoute(page: CoursesRoute.page, path: \"courses_route\"),\n    ]),\n    //Admin Pages\n    AutoRoute(page: AdminCourseListRoute.page, path: \"/admin_course_list\"),\n    AutoRoute(page: AdminAddLessonRoute.page, path: \"/admin_add_lesson_page\"),\n    AutoRoute(page: AdminAddCourseRoute.page, path: \"/admin_add_course_page\"),\n\n    RedirectRoute(path: '*', redirectTo: '/'),\n  ];\n}\n"
        ]
    },
    {
        "titulo": "Flutter PaginatedDataTable from GET Request, Problems Parsing Response List",
        "score": 0,
        "views": 75,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "async-await",
            "flutter-futurebuilder",
            "paginateddatatable"
        ],
        "link": "https://stackoverflow.com/questions/76426758/flutter-paginateddatatable-from-get-request-problems-parsing-response-list",
        "conteudo_html": "<p>Using Flutter 3.10 Web, building a List of Users for FutureBuilder with PaginatedDataTable.  I have the following in a single dart file:</p>\n<pre><code>import 'dart:async';\nimport 'dart:convert';\nimport 'package:flutter_axum/providers/url.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_axum/providers/user_auth.dart';\nimport 'package:http/http.dart' as http;\nimport '../models/user.dart';\nimport '../providers/user_secure_storage.dart';\n\nclass HomePage extends StatefulWidget {\n  const HomePage({Key? key}) : super(key: key);\n\n  @override\n  State&lt;HomePage&gt; createState() =&gt; _HomePageState();\n}\n\nclass _HomePageState extends State&lt;HomePage&gt; {\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('User Paginated Data Table'),\n        actions: [\n          IconButton(\n              icon: const Icon(Icons.exit_to_app),\n              onPressed: () {\n                ///logout\n                AuthenticationProvider().logoutUser(context: context);\n              }),\n        ],\n      ),\n        body: FutureBuilder(\n          future: getUsers(),\n          builder: (context, snapshot) {\n            if (ConnectionState.active != null &amp;&amp; !snapshot.hasData) {\n              print(&quot;ConnectionState is active, snapshot.hasData&quot;);\n              // print(snapshot);\n              // print(snapshot.data);\n              // print(snapshot.stackTrace);\n              return Center(child: Text('Loading'));\n            }\n            if (ConnectionState.done != null &amp;&amp; snapshot.hasError) {\n              print(&quot;ConnectionState is done, snapshot.hasError&quot;);\n              return Center(child: Text(snapshot.error.toString()));\n            } else {\n              print(&quot;ConnectionState done, snapshot has data without errors.&quot;);\n              print(snapshot);\n              print(snapshot.data);\n              print(&quot;snapshot.data is about to reach PaginatedDataTable.&quot;);\n              return PaginatedDataTable(\n                  columns: getColumns(),\n                  source: UserDataTableSource(source: snapshot.data as List&lt;User&gt;)\n              );\n            }\n          }\n        )\n    );\n  }\n}\n\n// List&lt;User&gt; parseUsers(List&lt;dynamic&gt; snapshotData) {\n//   final parsed = jsonDecode(snapshotData).cast&lt;Map&lt;String,dynamic&gt;&gt;();\n//   return parsed.map&lt;User&gt;((json) =&gt; User.fromJson(json)).toList();\n// }\n\n// List&lt;User&gt; parseUsers(String requestBody) {\n//   final parsed = jsonDecode(requestBody).cast&lt;Map&lt;String,dynamic&gt;&gt;();\n//   return parsed.map&lt;User&gt;((json) =&gt; User.fromJson(json)).toList();\n// }\n\nFuture getUsers() async {\n\n  final StorageService storageService = StorageService();\n  final bearer = await storageService.readSecureData('token');\n  final url = BaseUrl.baseUrl;\n  String _url = &quot;$url/user/list&quot;;\n\n  try {\n    final response = await http.get(Uri.parse(_url), headers: {'Access-Control-Allow-Origin': '*', 'Authorization': 'Bearer $bearer'});\n\n    print(&quot;Status Code: &quot;+response.statusCode.toString());\n    print(response.body);\n\n    if (response.statusCode == 200 || response.statusCode == 201){\n\n      print(&quot;user_fetch: after response received, before json.decode&quot;);\n      print(json.decode(response.body));\n\n      final list = json.decode(response.body);\n      \n      // List&lt;User&gt; list = json.decode(response.body);\n\n      // List&lt;User&gt; list(String resBody) =&gt; List&lt;User&gt;.from(json.decode(response.body).map((x) =&gt; User.fromJson(x)));\n\n      // List&lt;User&gt; list = userFromJson(response.body);\n\n      // List&lt;User&gt; list = (response.body as List)\n      //     .map((body) =&gt; User.fromJson(body))\n      //     .toList();\n\n      print(&quot;user_fetch: after response received, after json.decode&quot;);\n      print(list);\n\n      if (list == null) {\n\n        print(&quot;user_fetch: after response received, after json.decode, request.body is null&quot;);\n        print(list);\n        return DefSource;\n\n      } else {\n\n        print(&quot;user_fetch: after response received, after json.decode, request.body is not null&quot;);\n        print(list);\n\n        return list;\n      }\n    } else {\n\n      print(&quot;WTF&quot;);\n      return DefSource;\n    }\n  } catch (e) {\n    return Future.error(e.toString());\n  }\n}\n\nclass UserDataTableSource extends DataTableSource {\n  UserDataTableSource({required source}) : userList = source;\n\n  final List&lt;User&gt; userList;\n\n  @override\n  DataRow getRow(int index) {\n    print(&quot;Inside UserDataTableSource&quot;);\n    final User user = userList[index];\n\n    return DataRow.byIndex(index: index, cells: [\n      DataCell(Text('${user.id}')),\n      DataCell(Text(user.alias)),\n      DataCell(Text(user.nameFirst)),\n      DataCell(Text(user.nameLast)),\n      DataCell(Text(user.email)),\n      DataCell(Text(user.phone)),\n      DataCell(Text('${user.dateBirth}')),\n      //const DataCell(Text(&quot;Edit|Delete&quot;)),\n    ]);\n  }\n    @override\n    bool get isRowCountApproximate =&gt; false;\n    @override\n    int get rowCount =&gt; userList.length;\n    @override\n    int get selectedRowCount =&gt; 0;\n}\n\nconst String colID = 'ID';\nconst String colAlias = 'Alias';\nconst String colNameFirst = 'First Name';\nconst String colNameLast = 'Last Name';\nconst String colEmail = 'Email';\nconst String colPhone = 'Phone';\nconst String colDateBirth = 'Date of Birth';\n\nList&lt;DataColumn&gt; getColumns(){\n  final List&lt;DataColumn&gt; columns =\n  &lt;DataColumn&gt;[\n    const DataColumn(\n      label: Text(colID),\n      tooltip: colID,\n    ),\n    const DataColumn(\n      label: Text(colAlias),\n      tooltip: colAlias,\n    ),\n    const DataColumn(\n      label: Text(colNameFirst),\n      tooltip: colNameFirst,\n    ),\n    const DataColumn(\n      label: Text(colNameLast),\n      tooltip: colNameLast,\n    ),\n    const DataColumn(\n      label: Text(colEmail),\n      tooltip: colEmail,\n    ),\n    const DataColumn(\n      label: Text(colPhone),\n      tooltip: colPhone,\n    ),\n    const DataColumn(\n      label: Text(colDateBirth),\n      tooltip: colDateBirth,\n    ),\n  ];\n\n  return columns;\n}\n\nclass DefSource extends DataTableSource {\n  @override\n  DataRow getRow(int index) =&gt; DataRow.byIndex(\n    index: index,\n    cells: [\n      DataCell(Text('id #$index')),\n      DataCell(Text('alias $index')),\n      DataCell(Text('first name $index')),\n      DataCell(Text('last name $index')),\n      DataCell(Text('email $index')),\n      DataCell(Text('phone $index')),\n      DataCell(Text('birth date $index')),\n    ],\n  );\n  @override\n  int get rowCount =&gt; 10;\n  @override\n  bool get isRowCountApproximate =&gt; false;\n  @override\n  int get selectedRowCount =&gt; 0;\n}\n</code></pre>\n<p>User Model for reference:</p>\n<pre><code>import 'dart:convert';\n\nList&lt;User&gt; userFromJson(String str) =&gt; List&lt;User&gt;.from(json.decode(str).map((x) =&gt; User.fromJson(x)));\n\nString userToJson(List&lt;User&gt; data) =&gt; json.encode(List&lt;dynamic&gt;.from(data.map((x) =&gt; x.toJson())));\n\nclass User {\n  User({\n    required this.id,\n    required this.alias,\n    required this.nameFirst,\n    required this.nameLast,\n    required this.email,\n    required this.phone,\n    required this.dateBirth,\n    this.password,\n  });\n\n  int id;\n  String alias;\n  String nameFirst;\n  String nameLast;\n  String email;\n  String phone;\n  DateTime dateBirth;\n  String? password;\n\n  factory User.fromJson(Map&lt;String, dynamic&gt; json) =&gt; User(\n    id: json[&quot;id&quot;],\n    alias: json[&quot;alias&quot;],\n    nameFirst: json[&quot;nameFirst&quot;],\n    nameLast: json[&quot;nameLast&quot;],\n    email: json[&quot;email&quot;],\n    phone: json[&quot;phone&quot;],\n    dateBirth: DateTime.parse(json[&quot;date_birth&quot;]),\n    password: json[&quot;password&quot;],\n  );\n\n  // factory User.fromJson(Map&lt;String, dynamic&gt; json) {\n  //   Iterable list = json['users'];\n  //   print(list.runtimeType);\n  //   List&lt;User&gt; users = list.map((i) =&gt;\n  //       User.fromJson(i)).toList();\n  //   return User(\n  //       id: json[&quot;id&quot;],\n  //       alias: json[&quot;alias&quot;],\n  //       nameFirst: json[&quot;nameFirst&quot;],\n  //       nameLast: json[&quot;nameLast&quot;],\n  //       email: json[&quot;email&quot;],\n  //       phone: json[&quot;phone&quot;],\n  //       dateBirth: DateTime.parse(json[&quot;date_birth&quot;]),\n  //       password: json[&quot;password&quot;],\n  //\n  //   );\n  // }\n\n  Map&lt;String, dynamic&gt; toJson() =&gt; {\n    &quot;id&quot;: id,\n    &quot;alias&quot;: alias,\n    &quot;nameFirst&quot;: nameFirst,\n    &quot;nameLast&quot;: nameLast,\n    &quot;email&quot;: email,\n    &quot;phone&quot;: phone,\n    &quot;date_birth&quot;: &quot;${dateBirth.year.toString().padLeft(4, '0')}-${dateBirth.month.toString().padLeft(2, '0')}-${dateBirth.day.toString().padLeft(2, '0')}&quot;,\n    &quot;password&quot;: password,\n  };\n}\n</code></pre>\n<p>I believe the source of the problem is within &quot;Future getUsers&quot; where I have attempted the following (over several failed attempts) to parse the Response:</p>\n<pre><code>final list = json.decode(response.body);\n\nfinal List&lt;User&gt; list = json.decode(response.body);\n\nList&lt;User&gt; list(String resBody) =&gt; List&lt;User&gt;.from(json.decode(response.body).map((x) =&gt; User.fromJson(x)));\n\nList&lt;User&gt; list = userFromJson(response.body);\n\nList&lt;User&gt; list = (response.body as List)\n    .map((body) =&gt; User.fromJson(body))\n    .toList();\n</code></pre>\n<p>Using <code>final list = json.decode(response.body);</code>  from the options above, I get closest to pushing snapshot through the PaginatedDataTable as part of the source (or so I believe based upon prints to console).</p>\n<p><code>Expected a value of type 'List&lt;User&gt;', but got one of type 'List&lt;dynamic&gt;'</code></p>\n<pre><code>======== Exception caught by widgets library =======================================================\nThe following TypeErrorImpl was thrown building FutureBuilder&lt;dynamic&gt;(dirty, state: _FutureBuilderState&lt;dynamic&gt;#ff8f7):\nExpected a value of type 'List&lt;User&gt;', but got one of type 'List&lt;dynamic&gt;'\n\nThe relevant error-causing widget was: \n  FutureBuilder&lt;dynamic&gt; FutureBuilder:file:///home/user/projects/flutter_axum/lib/views/user_data_table.dart:33:15\nWhen the exception was thrown, this was the stack: \ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 288:49      throw_\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 121:3       castError\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/operations.dart 529:12  cast\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/classes.dart 638:14     as_C\npackages/flutter_axum/views/user_data_table.dart 152:34                           new\npackages/flutter_axum/views/user_data_table.dart 53:29                            &lt;fn&gt;\npackages/flutter/src/widgets/async.dart 612:48                                    build\npackages/flutter/src/widgets/framework.dart 5198:27                               build\npackages/flutter/src/widgets/framework.dart 5086:15                               performRebuild\npackages/flutter/src/widgets/framework.dart 5251:11                               performRebuild\npackages/flutter/src/widgets/framework.dart 4805:7                                rebuild\npackages/flutter/src/widgets/framework.dart 2780:18                               buildScope\npackages/flutter/src/widgets/binding.dart 903:9                                   drawFrame\npackages/flutter/src/rendering/binding.dart 358:5                                 [_handlePersistentFrameCallback]\npackages/flutter/src/scheduler/binding.dart 1284:15                               [_invokeFrameCallback]\npackages/flutter/src/scheduler/binding.dart 1214:9                                handleDrawFrame\npackages/flutter/src/scheduler/binding.dart 1072:5                                [_handleDrawFrame]\nlib/_engine/engine/platform_dispatcher.dart 1236:13                               invoke\nlib/_engine/engine/platform_dispatcher.dart 244:5                                 invokeOnDrawFrame\nlib/_engine/engine/initialization.dart 190:45                                     &lt;fn&gt;\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/operations.dart 367:37  _checkAndCall\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/operations.dart 372:39  dcall\n====================================================================================================\n</code></pre>\n<p>The other attempts to parse are resulting in a fail on the HomePage, such that the &quot;Loading&quot; screen appears while waiting for a proper response/snapshot which never arrives.  The stacktrace is empty and the app basically enters a hanging state.</p>\n<p>I have included print statements and some commented code in the application to provide the following for debugging:</p>\n<pre><code>print(&quot;Status Code: &quot;+response.statusCode.toString());\n\nStatus Code: 200\n\nprint(request.body)\n\n[{&quot;id&quot;:6,&quot;alias&quot;:&quot;username&quot;,&quot;name_first&quot;:&quot;fIrStNaMe&quot;,&quot;name_last&quot;:&quot;lAsTnAmE&quot;,&quot;email&quot;:&quot;email&quot;,&quot;phone&quot;:&quot;2222222222&quot;,&quot;date_birth&quot;:&quot;2000-12-01&quot;},{&quot;id&quot;:1,&quot;alias&quot;:&quot;ALIAS&quot;,&quot;name_first&quot;:&quot;FiRsTnAmE&quot;,&quot;name_last&quot;:&quot;LaStNaMe&quot;,&quot;email&quot;:&quot;email&quot;,&quot;phone&quot;:&quot;9999999999&quot;,&quot;date_birth&quot;:&quot;2000-01-31&quot;}]\n\nprint(json.decode(request.body))\n\n[{id: 6, alias: username, name_first: fIrStNaMe, name_last: lAsTnAmE, email: email, phone: 2222222222, date_birth: 2000-12-01}, {id: 1, alias: ALIAS, name_first: FiRsTnAmE, name_last: LaStNaMe, email: email, phone: 9999999999, date_birth: 2000-01-31}]\n\nAfter returning the list from the request to the FutureBuilder for snapshot, validation is performed for snapshot.hasData and snapshot.hasError, and both are passing.\n\nprint(snapshot);\n\nAsyncSnapshot&lt;dynamic&gt;(ConnectionState.done, [{id: 1, alias: ALIAS, name_first: FiRsTnAmE, name_last: LaStNaMe, email: email, phone: 9999999999, date_birth: 2000-01-31}, {id: 6, alias: username, name_first: fIrStNaMe, name_last: lAsTnAmE, email: email, phone: 2222222222, date_birth: 2000-12-01}], null, null)\n\nprint(snapshot.data);\n\n[{id: 1, alias: ALIAS, name_first: FiRsTnAmE, name_last: LaStNaMe, email: email, phone: 9999999999, date_birth: 2000-01-31}, {id: 6, alias: username, name_first: fIrStNaMe, name_last: lAsTnAmE, email: email, phone: 2222222222, date_birth: 2000-12-01}]\n</code></pre>\n<p>I have referred to several stackflow links, without success.  I am almost certain my failure is tied to the parsing of the API Response, but I'm running out of idea on how to move forward.  A second pair of eyes, and some feedback would be greatly appreciated.</p>\n",
        "codigo": [
            "import 'dart:async';\nimport 'dart:convert';\nimport 'package:flutter_axum/providers/url.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_axum/providers/user_auth.dart';\nimport 'package:http/http.dart' as http;\nimport '../models/user.dart';\nimport '../providers/user_secure_storage.dart';\n\nclass HomePage extends StatefulWidget {\n  const HomePage({Key? key}) : super(key: key);\n\n  @override\n  State<HomePage> createState() => _HomePageState();\n}\n\nclass _HomePageState extends State<HomePage> {\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('User Paginated Data Table'),\n        actions: [\n          IconButton(\n              icon: const Icon(Icons.exit_to_app),\n              onPressed: () {\n                ///logout\n                AuthenticationProvider().logoutUser(context: context);\n              }),\n        ],\n      ),\n        body: FutureBuilder(\n          future: getUsers(),\n          builder: (context, snapshot) {\n            if (ConnectionState.active != null && !snapshot.hasData) {\n              print(\"ConnectionState is active, snapshot.hasData\");\n              // print(snapshot);\n              // print(snapshot.data);\n              // print(snapshot.stackTrace);\n              return Center(child: Text('Loading'));\n            }\n            if (ConnectionState.done != null && snapshot.hasError) {\n              print(\"ConnectionState is done, snapshot.hasError\");\n              return Center(child: Text(snapshot.error.toString()));\n            } else {\n              print(\"ConnectionState done, snapshot has data without errors.\");\n              print(snapshot);\n              print(snapshot.data);\n              print(\"snapshot.data is about to reach PaginatedDataTable.\");\n              return PaginatedDataTable(\n                  columns: getColumns(),\n                  source: UserDataTableSource(source: snapshot.data as List<User>)\n              );\n            }\n          }\n        )\n    );\n  }\n}\n\n// List<User> parseUsers(List<dynamic> snapshotData) {\n//   final parsed = jsonDecode(snapshotData).cast<Map<String,dynamic>>();\n//   return parsed.map<User>((json) => User.fromJson(json)).toList();\n// }\n\n// List<User> parseUsers(String requestBody) {\n//   final parsed = jsonDecode(requestBody).cast<Map<String,dynamic>>();\n//   return parsed.map<User>((json) => User.fromJson(json)).toList();\n// }\n\nFuture getUsers() async {\n\n  final StorageService storageService = StorageService();\n  final bearer = await storageService.readSecureData('token');\n  final url = BaseUrl.baseUrl;\n  String _url = \"$url/user/list\";\n\n  try {\n    final response = await http.get(Uri.parse(_url), headers: {'Access-Control-Allow-Origin': '*', 'Authorization': 'Bearer $bearer'});\n\n    print(\"Status Code: \"+response.statusCode.toString());\n    print(response.body);\n\n    if (response.statusCode == 200 || response.statusCode == 201){\n\n      print(\"user_fetch: after response received, before json.decode\");\n      print(json.decode(response.body));\n\n      final list = json.decode(response.body);\n      \n      // List<User> list = json.decode(response.body);\n\n      // List<User> list(String resBody) => List<User>.from(json.decode(response.body).map((x) => User.fromJson(x)));\n\n      // List<User> list = userFromJson(response.body);\n\n      // List<User> list = (response.body as List)\n      //     .map((body) => User.fromJson(body))\n      //     .toList();\n\n      print(\"user_fetch: after response received, after json.decode\");\n      print(list);\n\n      if (list == null) {\n\n        print(\"user_fetch: after response received, after json.decode, request.body is null\");\n        print(list);\n        return DefSource;\n\n      } else {\n\n        print(\"user_fetch: after response received, after json.decode, request.body is not null\");\n        print(list);\n\n        return list;\n      }\n    } else {\n\n      print(\"WTF\");\n      return DefSource;\n    }\n  } catch (e) {\n    return Future.error(e.toString());\n  }\n}\n\nclass UserDataTableSource extends DataTableSource {\n  UserDataTableSource({required source}) : userList = source;\n\n  final List<User> userList;\n\n  @override\n  DataRow getRow(int index) {\n    print(\"Inside UserDataTableSource\");\n    final User user = userList[index];\n\n    return DataRow.byIndex(index: index, cells: [\n      DataCell(Text('${user.id}')),\n      DataCell(Text(user.alias)),\n      DataCell(Text(user.nameFirst)),\n      DataCell(Text(user.nameLast)),\n      DataCell(Text(user.email)),\n      DataCell(Text(user.phone)),\n      DataCell(Text('${user.dateBirth}')),\n      //const DataCell(Text(\"Edit|Delete\")),\n    ]);\n  }\n    @override\n    bool get isRowCountApproximate => false;\n    @override\n    int get rowCount => userList.length;\n    @override\n    int get selectedRowCount => 0;\n}\n\nconst String colID = 'ID';\nconst String colAlias = 'Alias';\nconst String colNameFirst = 'First Name';\nconst String colNameLast = 'Last Name';\nconst String colEmail = 'Email';\nconst String colPhone = 'Phone';\nconst String colDateBirth = 'Date of Birth';\n\nList<DataColumn> getColumns(){\n  final List<DataColumn> columns =\n  <DataColumn>[\n    const DataColumn(\n      label: Text(colID),\n      tooltip: colID,\n    ),\n    const DataColumn(\n      label: Text(colAlias),\n      tooltip: colAlias,\n    ),\n    const DataColumn(\n      label: Text(colNameFirst),\n      tooltip: colNameFirst,\n    ),\n    const DataColumn(\n      label: Text(colNameLast),\n      tooltip: colNameLast,\n    ),\n    const DataColumn(\n      label: Text(colEmail),\n      tooltip: colEmail,\n    ),\n    const DataColumn(\n      label: Text(colPhone),\n      tooltip: colPhone,\n    ),\n    const DataColumn(\n      label: Text(colDateBirth),\n      tooltip: colDateBirth,\n    ),\n  ];\n\n  return columns;\n}\n\nclass DefSource extends DataTableSource {\n  @override\n  DataRow getRow(int index) => DataRow.byIndex(\n    index: index,\n    cells: [\n      DataCell(Text('id #$index')),\n      DataCell(Text('alias $index')),\n      DataCell(Text('first name $index')),\n      DataCell(Text('last name $index')),\n      DataCell(Text('email $index')),\n      DataCell(Text('phone $index')),\n      DataCell(Text('birth date $index')),\n    ],\n  );\n  @override\n  int get rowCount => 10;\n  @override\n  bool get isRowCountApproximate => false;\n  @override\n  int get selectedRowCount => 0;\n}\n",
            "import 'dart:convert';\n\nList<User> userFromJson(String str) => List<User>.from(json.decode(str).map((x) => User.fromJson(x)));\n\nString userToJson(List<User> data) => json.encode(List<dynamic>.from(data.map((x) => x.toJson())));\n\nclass User {\n  User({\n    required this.id,\n    required this.alias,\n    required this.nameFirst,\n    required this.nameLast,\n    required this.email,\n    required this.phone,\n    required this.dateBirth,\n    this.password,\n  });\n\n  int id;\n  String alias;\n  String nameFirst;\n  String nameLast;\n  String email;\n  String phone;\n  DateTime dateBirth;\n  String? password;\n\n  factory User.fromJson(Map<String, dynamic> json) => User(\n    id: json[\"id\"],\n    alias: json[\"alias\"],\n    nameFirst: json[\"nameFirst\"],\n    nameLast: json[\"nameLast\"],\n    email: json[\"email\"],\n    phone: json[\"phone\"],\n    dateBirth: DateTime.parse(json[\"date_birth\"]),\n    password: json[\"password\"],\n  );\n\n  // factory User.fromJson(Map<String, dynamic> json) {\n  //   Iterable list = json['users'];\n  //   print(list.runtimeType);\n  //   List<User> users = list.map((i) =>\n  //       User.fromJson(i)).toList();\n  //   return User(\n  //       id: json[\"id\"],\n  //       alias: json[\"alias\"],\n  //       nameFirst: json[\"nameFirst\"],\n  //       nameLast: json[\"nameLast\"],\n  //       email: json[\"email\"],\n  //       phone: json[\"phone\"],\n  //       dateBirth: DateTime.parse(json[\"date_birth\"]),\n  //       password: json[\"password\"],\n  //\n  //   );\n  // }\n\n  Map<String, dynamic> toJson() => {\n    \"id\": id,\n    \"alias\": alias,\n    \"nameFirst\": nameFirst,\n    \"nameLast\": nameLast,\n    \"email\": email,\n    \"phone\": phone,\n    \"date_birth\": \"${dateBirth.year.toString().padLeft(4, '0')}-${dateBirth.month.toString().padLeft(2, '0')}-${dateBirth.day.toString().padLeft(2, '0')}\",\n    \"password\": password,\n  };\n}\n",
            "final list = json.decode(response.body);\n\nfinal List<User> list = json.decode(response.body);\n\nList<User> list(String resBody) => List<User>.from(json.decode(response.body).map((x) => User.fromJson(x)));\n\nList<User> list = userFromJson(response.body);\n\nList<User> list = (response.body as List)\n    .map((body) => User.fromJson(body))\n    .toList();\n",
            "final list = json.decode(response.body);",
            "Expected a value of type 'List<User>', but got one of type 'List<dynamic>'",
            "======== Exception caught by widgets library =======================================================\nThe following TypeErrorImpl was thrown building FutureBuilder<dynamic>(dirty, state: _FutureBuilderState<dynamic>#ff8f7):\nExpected a value of type 'List<User>', but got one of type 'List<dynamic>'\n\nThe relevant error-causing widget was: \n  FutureBuilder<dynamic> FutureBuilder:file:///home/user/projects/flutter_axum/lib/views/user_data_table.dart:33:15\nWhen the exception was thrown, this was the stack: \ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 288:49      throw_\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 121:3       castError\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/operations.dart 529:12  cast\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/classes.dart 638:14     as_C\npackages/flutter_axum/views/user_data_table.dart 152:34                           new\npackages/flutter_axum/views/user_data_table.dart 53:29                            <fn>\npackages/flutter/src/widgets/async.dart 612:48                                    build\npackages/flutter/src/widgets/framework.dart 5198:27                               build\npackages/flutter/src/widgets/framework.dart 5086:15                               performRebuild\npackages/flutter/src/widgets/framework.dart 5251:11                               performRebuild\npackages/flutter/src/widgets/framework.dart 4805:7                                rebuild\npackages/flutter/src/widgets/framework.dart 2780:18                               buildScope\npackages/flutter/src/widgets/binding.dart 903:9                                   drawFrame\npackages/flutter/src/rendering/binding.dart 358:5                                 [_handlePersistentFrameCallback]\npackages/flutter/src/scheduler/binding.dart 1284:15                               [_invokeFrameCallback]\npackages/flutter/src/scheduler/binding.dart 1214:9                                handleDrawFrame\npackages/flutter/src/scheduler/binding.dart 1072:5                                [_handleDrawFrame]\nlib/_engine/engine/platform_dispatcher.dart 1236:13                               invoke\nlib/_engine/engine/platform_dispatcher.dart 244:5                                 invokeOnDrawFrame\nlib/_engine/engine/initialization.dart 190:45                                     <fn>\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/operations.dart 367:37  _checkAndCall\ndart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/operations.dart 372:39  dcall\n====================================================================================================\n",
            "print(\"Status Code: \"+response.statusCode.toString());\n\nStatus Code: 200\n\nprint(request.body)\n\n[{\"id\":6,\"alias\":\"username\",\"name_first\":\"fIrStNaMe\",\"name_last\":\"lAsTnAmE\",\"email\":\"email\",\"phone\":\"2222222222\",\"date_birth\":\"2000-12-01\"},{\"id\":1,\"alias\":\"ALIAS\",\"name_first\":\"FiRsTnAmE\",\"name_last\":\"LaStNaMe\",\"email\":\"email\",\"phone\":\"9999999999\",\"date_birth\":\"2000-01-31\"}]\n\nprint(json.decode(request.body))\n\n[{id: 6, alias: username, name_first: fIrStNaMe, name_last: lAsTnAmE, email: email, phone: 2222222222, date_birth: 2000-12-01}, {id: 1, alias: ALIAS, name_first: FiRsTnAmE, name_last: LaStNaMe, email: email, phone: 9999999999, date_birth: 2000-01-31}]\n\nAfter returning the list from the request to the FutureBuilder for snapshot, validation is performed for snapshot.hasData and snapshot.hasError, and both are passing.\n\nprint(snapshot);\n\nAsyncSnapshot<dynamic>(ConnectionState.done, [{id: 1, alias: ALIAS, name_first: FiRsTnAmE, name_last: LaStNaMe, email: email, phone: 9999999999, date_birth: 2000-01-31}, {id: 6, alias: username, name_first: fIrStNaMe, name_last: lAsTnAmE, email: email, phone: 2222222222, date_birth: 2000-12-01}], null, null)\n\nprint(snapshot.data);\n\n[{id: 1, alias: ALIAS, name_first: FiRsTnAmE, name_last: LaStNaMe, email: email, phone: 9999999999, date_birth: 2000-01-31}, {id: 6, alias: username, name_first: fIrStNaMe, name_last: lAsTnAmE, email: email, phone: 2222222222, date_birth: 2000-12-01}]\n"
        ]
    },
    {
        "titulo": "The named parameter &#39;queryParameters&#39; is required, but there&#39;s no corresponding argument. Try adding the required argument",
        "score": 0,
        "views": 51,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76424162/the-named-parameter-queryparameters-is-required-but-theres-no-corresponding",
        "conteudo_html": "<blockquote>\n<p>Please help me. Here A lot of these are the same problems I have been facing.</p>\n</blockquote>\n<p>There are mainly issues about - The named parameter' is required, but there's no corresponding argument.</p>\n<p>Issue section -  ```</p>\n<pre><code>Future&lt;ApiResponse&gt; forgetPassword(String identity) async {\n    try {\n      log(identity);\n      Response response = await dioClient.post(AppConstants.FORGET_PASSWORD_URI, \n     data: {&quot;identity&quot;: identity}\n</code></pre>\n<pre><code>\n**Problem message** -\n*The named parameter 'queryParameters' is required, but there's no corresponding argument.\nTry adding the required argument*\n\n</code></pre>\n<pre><code>import 'dart:developer';\nimport 'dart:io';\nimport 'package:dio/dio.dart';\nimport 'package:firebase_messaging/firebase_messaging.dart';\nimport 'package:shared_preferences/shared_preferences.dart';\nimport 'package:eamar_seller_app/data/datasource/remote/dio/dio_client.dart';\nimport 'package:eamar_seller_app/data/datasource/remote/exception/api_error_handler.dart';\nimport 'package:eamar_seller_app/data/model/response/base/api_response.dart';\nimport 'package:eamar_seller_app/utill/app_constants.dart';\n\nclass AuthRepo {\n late final DioClient dioClient;\n late final SharedPreferences sharedPreferences;\n  AuthRepo({required this.dioClient, required this.sharedPreferences});\n\n  Future&lt;ApiResponse&gt; login({String? emailAddress, String? password}) async {\n    try {\n      Response response = await dioClient.post(\n        AppConstants.LOGIN_URI, data:\n         {&quot;email&quot;: emailAddress, &quot;password&quot;: password},\n      );\n      return ApiResponse.withSuccess(response);\n    } catch (e) {\n     return ApiResponse.withError(ApiErrorHandler.getMessage(e));\n    }\n  }\n\n\n  Future&lt;ApiResponse&gt; forgetPassword(String identity) async {\n    try {\n      log(identity);\n      Response response = await dioClient.post(AppConstants.FORGET_PASSWORD_URI, \n     data: {&quot;identity&quot;: identity}\n      \n      );\n      log(response.toString());\n      return ApiResponse.withSuccess(response);\n    } catch (e) {\n      log(e.toString());\n      return ApiResponse.withError(ApiErrorHandler.getMessage(e));\n    }\n  }\n\n  Future&lt;ApiResponse&gt; resetPassword(String identity, String otp ,String password, String confirmPassword) async {\n    try {\n      Response response = await dioClient.post(\n          AppConstants.RESET_PASSWORD_URI, data: {&quot;_method&quot; : &quot;put&quot;,\n        &quot;identity&quot;: identity.trim(), &quot;otp&quot;: otp,\n        &quot;password&quot;: password, &quot;confirm_password&quot;:confirmPassword});\n      return ApiResponse.withSuccess(response);\n    } catch (e) {\n      return ApiResponse.withError(ApiErrorHandler.getMessage(e));\n    }\n  }\n\n  Future&lt;ApiResponse&gt; verifyOtp(String identity, String otp) async {\n    try {\n      Response response = await dioClient.post(\n          AppConstants.VERIFY_OTP_URI, data: {&quot;identity&quot;: identity.trim(), &quot;otp&quot;: otp});\n      return ApiResponse.withSuccess(response);\n    } catch (e) {\n      return ApiResponse.withError(ApiErrorHandler.getMessage(e));\n    }\n  }\n\n\n  Future&lt;ApiResponse&gt; updateToken() async {\n    try {\n      String _deviceToken = await _getDeviceToken();\n      FirebaseMessaging.instance.subscribeToTopic(AppConstants.TOPIC);\n      Response response = await dioClient.post(\n        AppConstants.TOKEN_URI,\n        data: {&quot;_method&quot;: &quot;put&quot;, &quot;cm_firebase_token&quot;: _deviceToken},\n      );\n      return ApiResponse.withSuccess(response);\n    } catch (e) {\n      return ApiResponse.withError(ApiErrorHandler.getMessage(e));\n    }\n  }\n\n  Future&lt;String&gt; _getDeviceToken() async {\n    String _deviceToken;\n    if(Platform.isIOS) {\n      _deviceToken = (await FirebaseMessaging.instance.getAPNSToken())!;\n    }else {\n      _deviceToken = (await FirebaseMessaging.instance.getToken())!;\n    }\n\n    print('--------Device Token---------- '+_deviceToken);\n    return _deviceToken;\n  }\n\n  // for  user token\n  Future&lt;void&gt; saveUserToken(String token) async {\n    dioClient.token = token;\n    dioClient.dio.options.headers = {'Content-Type': 'application/json; charset=UTF-8', 'Authorization': 'Bearer $token'};\n\n    try {\n      await sharedPreferences.setString(AppConstants.TOKEN, token);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  String getUserToken() {\n    return sharedPreferences.getString(AppConstants.TOKEN) ?? &quot;&quot;;\n  }\n\n  bool isLoggedIn() {\n    return sharedPreferences.containsKey(AppConstants.TOKEN);\n  }\n\n  Future&lt;bool&gt; clearSharedData() async {\n    await FirebaseMessaging.instance.unsubscribeFromTopic(AppConstants.TOPIC);\n    return sharedPreferences.remove(AppConstants.TOKEN);\n    //return sharedPreferences.clear();\n  }\n\n  // for  Remember Email\n  Future&lt;void&gt; saveUserNumberAndPassword(String number, String password) async {\n    try {\n      await sharedPreferences.setString(AppConstants.USER_PASSWORD, password);\n      await sharedPreferences.setString(AppConstants.USER_EMAIL, number);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  String getUserEmail() {\n    return sharedPreferences.getString(AppConstants.USER_EMAIL) ?? &quot;&quot;;\n  }\n\n  String getUserPassword() {\n    return sharedPreferences.getString(AppConstants.USER_PASSWORD) ?? &quot;&quot;;\n  }\n\n  Future&lt;bool&gt; clearUserNumberAndPassword() async {\n    await sharedPreferences.remove(AppConstants.USER_PASSWORD);\n    return await sharedPreferences.remove(AppConstants.USER_EMAIL);\n  }\n\n}\n</code></pre>\n<pre><code></code></pre>\n",
        "codigo": [
            "Future<ApiResponse> forgetPassword(String identity) async {\n    try {\n      log(identity);\n      Response response = await dioClient.post(AppConstants.FORGET_PASSWORD_URI, \n     data: {\"identity\": identity}\n",
            "\n**Problem message** -\n*The named parameter 'queryParameters' is required, but there's no corresponding argument.\nTry adding the required argument*\n\n",
            "import 'dart:developer';\nimport 'dart:io';\nimport 'package:dio/dio.dart';\nimport 'package:firebase_messaging/firebase_messaging.dart';\nimport 'package:shared_preferences/shared_preferences.dart';\nimport 'package:eamar_seller_app/data/datasource/remote/dio/dio_client.dart';\nimport 'package:eamar_seller_app/data/datasource/remote/exception/api_error_handler.dart';\nimport 'package:eamar_seller_app/data/model/response/base/api_response.dart';\nimport 'package:eamar_seller_app/utill/app_constants.dart';\n\nclass AuthRepo {\n late final DioClient dioClient;\n late final SharedPreferences sharedPreferences;\n  AuthRepo({required this.dioClient, required this.sharedPreferences});\n\n  Future<ApiResponse> login({String? emailAddress, String? password}) async {\n    try {\n      Response response = await dioClient.post(\n        AppConstants.LOGIN_URI, data:\n         {\"email\": emailAddress, \"password\": password},\n      );\n      return ApiResponse.withSuccess(response);\n    } catch (e) {\n     return ApiResponse.withError(ApiErrorHandler.getMessage(e));\n    }\n  }\n\n\n  Future<ApiResponse> forgetPassword(String identity) async {\n    try {\n      log(identity);\n      Response response = await dioClient.post(AppConstants.FORGET_PASSWORD_URI, \n     data: {\"identity\": identity}\n      \n      );\n      log(response.toString());\n      return ApiResponse.withSuccess(response);\n    } catch (e) {\n      log(e.toString());\n      return ApiResponse.withError(ApiErrorHandler.getMessage(e));\n    }\n  }\n\n  Future<ApiResponse> resetPassword(String identity, String otp ,String password, String confirmPassword) async {\n    try {\n      Response response = await dioClient.post(\n          AppConstants.RESET_PASSWORD_URI, data: {\"_method\" : \"put\",\n        \"identity\": identity.trim(), \"otp\": otp,\n        \"password\": password, \"confirm_password\":confirmPassword});\n      return ApiResponse.withSuccess(response);\n    } catch (e) {\n      return ApiResponse.withError(ApiErrorHandler.getMessage(e));\n    }\n  }\n\n  Future<ApiResponse> verifyOtp(String identity, String otp) async {\n    try {\n      Response response = await dioClient.post(\n          AppConstants.VERIFY_OTP_URI, data: {\"identity\": identity.trim(), \"otp\": otp});\n      return ApiResponse.withSuccess(response);\n    } catch (e) {\n      return ApiResponse.withError(ApiErrorHandler.getMessage(e));\n    }\n  }\n\n\n  Future<ApiResponse> updateToken() async {\n    try {\n      String _deviceToken = await _getDeviceToken();\n      FirebaseMessaging.instance.subscribeToTopic(AppConstants.TOPIC);\n      Response response = await dioClient.post(\n        AppConstants.TOKEN_URI,\n        data: {\"_method\": \"put\", \"cm_firebase_token\": _deviceToken},\n      );\n      return ApiResponse.withSuccess(response);\n    } catch (e) {\n      return ApiResponse.withError(ApiErrorHandler.getMessage(e));\n    }\n  }\n\n  Future<String> _getDeviceToken() async {\n    String _deviceToken;\n    if(Platform.isIOS) {\n      _deviceToken = (await FirebaseMessaging.instance.getAPNSToken())!;\n    }else {\n      _deviceToken = (await FirebaseMessaging.instance.getToken())!;\n    }\n\n    print('--------Device Token---------- '+_deviceToken);\n    return _deviceToken;\n  }\n\n  // for  user token\n  Future<void> saveUserToken(String token) async {\n    dioClient.token = token;\n    dioClient.dio.options.headers = {'Content-Type': 'application/json; charset=UTF-8', 'Authorization': 'Bearer $token'};\n\n    try {\n      await sharedPreferences.setString(AppConstants.TOKEN, token);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  String getUserToken() {\n    return sharedPreferences.getString(AppConstants.TOKEN) ?? \"\";\n  }\n\n  bool isLoggedIn() {\n    return sharedPreferences.containsKey(AppConstants.TOKEN);\n  }\n\n  Future<bool> clearSharedData() async {\n    await FirebaseMessaging.instance.unsubscribeFromTopic(AppConstants.TOPIC);\n    return sharedPreferences.remove(AppConstants.TOKEN);\n    //return sharedPreferences.clear();\n  }\n\n  // for  Remember Email\n  Future<void> saveUserNumberAndPassword(String number, String password) async {\n    try {\n      await sharedPreferences.setString(AppConstants.USER_PASSWORD, password);\n      await sharedPreferences.setString(AppConstants.USER_EMAIL, number);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  String getUserEmail() {\n    return sharedPreferences.getString(AppConstants.USER_EMAIL) ?? \"\";\n  }\n\n  String getUserPassword() {\n    return sharedPreferences.getString(AppConstants.USER_PASSWORD) ?? \"\";\n  }\n\n  Future<bool> clearUserNumberAndPassword() async {\n    await sharedPreferences.remove(AppConstants.USER_PASSWORD);\n    return await sharedPreferences.remove(AppConstants.USER_EMAIL);\n  }\n\n}\n",
            ""
        ]
    },
    {
        "titulo": "type &#39;Null&#39; is not a subtype of type &#39;Future&lt;Response&gt;&#39;",
        "score": 0,
        "views": 1528,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing"
        ],
        "link": "https://stackoverflow.com/questions/76418232/type-null-is-not-a-subtype-of-type-futureresponse",
        "conteudo_html": "<p>I'm having an issue Flutter unit tests and I've been running into this error for about two days now. I'm trying to write a test for an API call, Best practice demands that the response should be mocked and not actually retrieved from the internet. I'm using Mockito to mock the API response but keep getting the error below.</p>\n<p><code>type 'Null' is not a subtype of type 'Future&lt;Response&gt;' test/auth_test.dart 14:7   MockClient.get test/auth_test.dart 29:21  main.&lt;fn&gt;</code></p>\n<p>I've researched across multiple platforms to no avail, <a href=\"https://stackoverflow.com/questions/71452160/flutter-test-error-type-null-is-not-a-subtype-of-type-futureresponse\">This link has some info</a> but still did not help solve my problem. My research shows this error has to do with dart null safety. Any help will be greatly appreciated as I've been on this for two days now. Below is my test code</p>\n<pre><code>import 'dart:convert';\n\nimport 'package:chronicles/models/grace_model.dart';\nimport 'package:chronicles/repositories/auth.dart';\nimport 'package:chronicles/services/api_services.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:http/http.dart' as http;\nimport 'package:mockito/annotations.dart';\nimport 'package:mockito/mockito.dart';\n\n// Create a mock API service using Mockito\nclass MockApiService extends Mock implements ApiService {}\n\nclass MockClient extends Mock implements http.Client {}\n\n@GenerateMocks([http.Client])\nvoid main() {\n  GraceRepository graceRepository;\n  test('should return GraceModel when API call is successful', () async {\n    final mockClient = MockClient();\n    when(mockClient.get(Uri.parse('https://www.thunderclient.com/welcome')))\n        .thenAnswer((_) async =&gt; http.Response(\n            '{ &quot;message&quot;: &quot;Welcome to Thunder Client&quot;, &quot;createdBy&quot;: &quot;Ranga Vadhineni&quot;, }',\n            200));\n  });\n}\n\n</code></pre>\n",
        "codigo": [
            "type 'Null' is not a subtype of type 'Future<Response>' test/auth_test.dart 14:7   MockClient.get test/auth_test.dart 29:21  main.<fn>",
            "import 'dart:convert';\n\nimport 'package:chronicles/models/grace_model.dart';\nimport 'package:chronicles/repositories/auth.dart';\nimport 'package:chronicles/services/api_services.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:http/http.dart' as http;\nimport 'package:mockito/annotations.dart';\nimport 'package:mockito/mockito.dart';\n\n// Create a mock API service using Mockito\nclass MockApiService extends Mock implements ApiService {}\n\nclass MockClient extends Mock implements http.Client {}\n\n@GenerateMocks([http.Client])\nvoid main() {\n  GraceRepository graceRepository;\n  test('should return GraceModel when API call is successful', () async {\n    final mockClient = MockClient();\n    when(mockClient.get(Uri.parse('https://www.thunderclient.com/welcome')))\n        .thenAnswer((_) async => http.Response(\n            '{ \"message\": \"Welcome to Thunder Client\", \"createdBy\": \"Ranga Vadhineni\", }',\n            200));\n  });\n}\n\n"
        ]
    },
    {
        "titulo": "There are no issues with iOS, but when building for the Android emulator, an error occurs",
        "score": 0,
        "views": 303,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76414082/there-are-no-issues-with-ios-but-when-building-for-the-android-emulator-an-err",
        "conteudo_html": "<p>I want to build my Flutter app in debug mode for the Android emulator, but I'm encountering an error. (I have included the error message below.) However, I have no issues building it in debug mode for the iOS emulator.</p>\n<p>How can I resolve this problem?</p>\n<p>Here is the error message.</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':app:compileDebugJavaWithJavac'.\n&gt; Could not resolve all dependencies for configuration ':app:debugCompileClasspath'.\n   &gt; Could not create task ':app:generateDebugLintModel'.\n      &gt; java.lang.NullPointerException (no error message)\n</code></pre>\n<p>I will provide the error message below, which occurred when executing 'flutter run --verbose' command. (Since it is a long text, I will only include the top part.)</p>\n<pre><code>'/Users/user/.pub-cache/hosted/pub.dev/webview_flutter_android-3.7.1/android/build.gradle'.\n[        ] All projects evaluated.\n[        ] Task name matched 'assembleDebug'\n[        ] Selected primary task 'assembleDebug' from project :\n[        ] FAILURE: Build failed with an exception.\n[   +1 ms] * What went wrong:\n[        ] Could not determine the dependencies of task ':app:compileDebugJavaWithJavac'.\n[        ] &gt; Could not resolve all dependencies for configuration ':app:debugCompileClasspath'.\n[        ]    &gt; Could not create task ':app:generateDebugLintModel'.\n[        ]       &gt; java.lang.NullPointerException (no error message)\n[        ] * Try:\n[        ] &gt; Run with --debug option to get more log output.\n[        ] &gt; Run with --scan to get full insights.\n[        ] * Exception is:\n[        ] org.gradle.api.internal.tasks.TaskDependencyResolveException: Could not determine the\ndependencies of task ':app:compileDebugJavaWithJavac'.\n</code></pre>\n<pre class=\"lang-dart prettyprint-override\"><code>[✓] Flutter (Channel stable, 3.10.3, on macOS 13.3.1  darwin-arm64, locale ja-JP)\n    • Flutter version 3.10.3 on channel stable at /Users/user/development/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision f92f44110e (4 days ago), 2023-06-01 18:17:33 -0500\n    • Engine revision 2a3401c9bb\n    • Dart version 3.0.3\n    • DevTools version 2.23.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\n    • Android SDK at /Users/user/Library/Android/sdk\n    • Platform android-33, build-tools 33.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.3.1)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14E300c\n    • CocoaPods version 1.12.1\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2021.3)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n\n[✓] VS Code (version 1.73.0)\n    • VS Code at /Users/user/Downloads/Visual Studio Code.app/Contents\n    • Flutter extension version 3.60.0\n\n[✓] Connected device (3 available)\n    • sdk gphone64 arm64 (mobile) • emulator-5554 • android-arm64  • Android 12 (API 32) (emulator)\n    • macOS (desktop)             • macos         • darwin-arm64   • macOS 13.3.1 darwin-arm64\n    • Chrome (web)                • chrome        • web-javascript • Google Chrome \n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n<p>I have tried executing commands such as 'flutter clean' and 'flutter pub cache repair,' but it did not resolve the issue. I also ran 'flutter pub outdated' and tried updating to the recommended versions as a temporary solution, but it did not make a difference.</p>\n<p>Additional note:\nI have installed Java.</p>\n<p>% brew install openjdk\n% sudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\n% echo 'export PATH=&quot;/opt/homebrew/opt/openjdk/bin:$PATH&quot;' &gt;&gt; ~/.zshrc\n% export CPPFLAGS=&quot;-I/opt/homebrew/opt/openjdk/include&quot;</p>\n",
        "codigo": [
            "FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':app:compileDebugJavaWithJavac'.\n> Could not resolve all dependencies for configuration ':app:debugCompileClasspath'.\n   > Could not create task ':app:generateDebugLintModel'.\n      > java.lang.NullPointerException (no error message)\n",
            "'/Users/user/.pub-cache/hosted/pub.dev/webview_flutter_android-3.7.1/android/build.gradle'.\n[        ] All projects evaluated.\n[        ] Task name matched 'assembleDebug'\n[        ] Selected primary task 'assembleDebug' from project :\n[        ] FAILURE: Build failed with an exception.\n[   +1 ms] * What went wrong:\n[        ] Could not determine the dependencies of task ':app:compileDebugJavaWithJavac'.\n[        ] > Could not resolve all dependencies for configuration ':app:debugCompileClasspath'.\n[        ]    > Could not create task ':app:generateDebugLintModel'.\n[        ]       > java.lang.NullPointerException (no error message)\n[        ] * Try:\n[        ] > Run with --debug option to get more log output.\n[        ] > Run with --scan to get full insights.\n[        ] * Exception is:\n[        ] org.gradle.api.internal.tasks.TaskDependencyResolveException: Could not determine the\ndependencies of task ':app:compileDebugJavaWithJavac'.\n",
            "[✓] Flutter (Channel stable, 3.10.3, on macOS 13.3.1  darwin-arm64, locale ja-JP)\n    • Flutter version 3.10.3 on channel stable at /Users/user/development/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision f92f44110e (4 days ago), 2023-06-01 18:17:33 -0500\n    • Engine revision 2a3401c9bb\n    • Dart version 3.0.3\n    • DevTools version 2.23.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\n    • Android SDK at /Users/user/Library/Android/sdk\n    • Platform android-33, build-tools 33.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.3.1)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14E300c\n    • CocoaPods version 1.12.1\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2021.3)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n\n[✓] VS Code (version 1.73.0)\n    • VS Code at /Users/user/Downloads/Visual Studio Code.app/Contents\n    • Flutter extension version 3.60.0\n\n[✓] Connected device (3 available)\n    • sdk gphone64 arm64 (mobile) • emulator-5554 • android-arm64  • Android 12 (API 32) (emulator)\n    • macOS (desktop)             • macos         • darwin-arm64   • macOS 13.3.1 darwin-arm64\n    • Chrome (web)                • chrome        • web-javascript • Google Chrome \n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n"
        ]
    },
    {
        "titulo": "Flutter error: &#39;Vertical viewport was given unbounded height&#39; and &#39;nthrow&#39; isn&#39;t a type",
        "score": 0,
        "views": 98,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "debugging"
        ],
        "link": "https://stackoverflow.com/questions/76407328/flutter-error-vertical-viewport-was-given-unbounded-height-and-nthrow-isnt",
        "conteudo_html": "<p>I am working on a flutter project using VS Code and when I changed the device I was using to preview my work I started getting an error. This is what my debug console is showing me:</p>\n<pre><code>Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this source!\nLaunching lib\\main.dart on SM A037F in debug mode...\nmain.dart:1\nFlutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this source!\n/E:/AppData/new/flutter/packages/flutter/lib/src/rendering/debug.dart:328:13: Error: 'nthrow' isn't a type.\n            nthrow FlutterError.fromParts(&lt;DiagnosticsNode&gt;[\n            ^^^^^^\n/E:/AppData/new/flutter/packages/flutter/lib/src/rendering/debug.dart:328:20: Error: Expected ';' after this.\n            nthrow FlutterError.fromParts(&lt;DiagnosticsNode&gt;[\n                   ^^^^^^^^^^^^\n/E:/AppData/new/flutter/packages/flutter/lib/src/rendering/debug.dart:328:32: Error: Expected an identifier, but got '.'.\n\nTry inserting an identifier before '.'.\n            nthrow FlutterError.fromParts(&lt;DiagnosticsNode&gt;[\n                               ^\nTarget kernel_snapshot failed: Exception\n2\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript 'E:\\AppData\\new\\flutter\\packages\\flutter_tools\\gradle\\flutter.gradle' line: 1201\n\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuildDebug'.\n&gt; Process 'command 'E:\\AppData\\new\\flutter\\bin\\flutter.bat'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 14s\nException: Gradle task assembleDebug failed with exit code 1\nExited (sigterm)\n</code></pre>\n<p>This is the debug.dart part that is being referenced on the error from line 327</p>\n<pre><code>if (!constraints.hasBoundedHeight) {\n            nthrow FlutterError.fromParts(&lt;DiagnosticsNode&gt;[\n              ErrorSummary('Vertical viewport was given unbounded height.'),\n              ErrorDescription(\n                'Viewports expand in the scrolling direction to fill their container. '\n                'In this case, a vertical viewport was given an unlimited amount of '\n                'vertical space in which to expand. This situation typically happens '\n                'when a scrollable widget is nested inside another scrollable widget.',\n              ),\n              ErrorHint(\n                'If this widget is always nested in a scrollable widget there '\n                'is no need to use a viewport because there will always be enough '\n                'vertical space for the children. In this case, consider using a '\n                'Column or Wrap instead. Otherwise, consider using a '\n                'CustomScrollView to concatenate arbitrary slivers into a '\n                'single scrollable.',\n              ),\n            ]);\n          }\n</code></pre>\n<p>Help me fix this issue so that I can resume working on my project. I am using</p>\n<pre><code>Flutter 3.10.2 • channel stable • https://github.com/flutter/flutter.git \nFramework • revision 9cd3d0d9ff (12 days ago) • 2023-05-23 20:57:28 -0700\nEngine • revision 90fa3ae28f\nTools • Dart 3.0.2 • DevTools 2.23.1\n</code></pre>\n<p>I have tried running <code>flutter clean</code>, <code>flutter pub get</code>, <code>flutter pub cache repair</code> but none of them seem to fix my issue. When I run <code>flutter doctor</code> this is the output I get:</p>\n<pre><code>Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this source!\nDoctor summary (to see all details, run flutter doctor -v):\n[√] Flutter (Channel stable, 3.10.2, on Microsoft Windows [Version 10.0.19045.2965], locale en-KE)\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n[√] Android toolchain - develop for Android devices (Android SDK version 32.1.0-rc1)\n[√] Chrome - develop for the web\n[√] Visual Studio - develop for Windows (Visual Studio Community 2022 17.6.2)\n[√] Android Studio (version 2021.2)\n[√] VS Code (version 1.78.2)\n[√] Connected device (4 available)\n[√] Network resources\n\n• No issues found!\n</code></pre>\n",
        "codigo": [
            "Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this source!\nLaunching lib\\main.dart on SM A037F in debug mode...\nmain.dart:1\nFlutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this source!\n/E:/AppData/new/flutter/packages/flutter/lib/src/rendering/debug.dart:328:13: Error: 'nthrow' isn't a type.\n            nthrow FlutterError.fromParts(<DiagnosticsNode>[\n            ^^^^^^\n/E:/AppData/new/flutter/packages/flutter/lib/src/rendering/debug.dart:328:20: Error: Expected ';' after this.\n            nthrow FlutterError.fromParts(<DiagnosticsNode>[\n                   ^^^^^^^^^^^^\n/E:/AppData/new/flutter/packages/flutter/lib/src/rendering/debug.dart:328:32: Error: Expected an identifier, but got '.'.\n\nTry inserting an identifier before '.'.\n            nthrow FlutterError.fromParts(<DiagnosticsNode>[\n                               ^\nTarget kernel_snapshot failed: Exception\n2\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript 'E:\\AppData\\new\\flutter\\packages\\flutter_tools\\gradle\\flutter.gradle' line: 1201\n\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuildDebug'.\n> Process 'command 'E:\\AppData\\new\\flutter\\bin\\flutter.bat'' finished with non-zero exit value 1\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 14s\nException: Gradle task assembleDebug failed with exit code 1\nExited (sigterm)\n",
            "if (!constraints.hasBoundedHeight) {\n            nthrow FlutterError.fromParts(<DiagnosticsNode>[\n              ErrorSummary('Vertical viewport was given unbounded height.'),\n              ErrorDescription(\n                'Viewports expand in the scrolling direction to fill their container. '\n                'In this case, a vertical viewport was given an unlimited amount of '\n                'vertical space in which to expand. This situation typically happens '\n                'when a scrollable widget is nested inside another scrollable widget.',\n              ),\n              ErrorHint(\n                'If this widget is always nested in a scrollable widget there '\n                'is no need to use a viewport because there will always be enough '\n                'vertical space for the children. In this case, consider using a '\n                'Column or Wrap instead. Otherwise, consider using a '\n                'CustomScrollView to concatenate arbitrary slivers into a '\n                'single scrollable.',\n              ),\n            ]);\n          }\n",
            "Flutter 3.10.2 • channel stable • https://github.com/flutter/flutter.git \nFramework • revision 9cd3d0d9ff (12 days ago) • 2023-05-23 20:57:28 -0700\nEngine • revision 90fa3ae28f\nTools • Dart 3.0.2 • DevTools 2.23.1\n",
            "flutter clean",
            "flutter pub get",
            "flutter pub cache repair",
            "flutter doctor",
            "Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this source!\nDoctor summary (to see all details, run flutter doctor -v):\n[√] Flutter (Channel stable, 3.10.2, on Microsoft Windows [Version 10.0.19045.2965], locale en-KE)\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n[√] Android toolchain - develop for Android devices (Android SDK version 32.1.0-rc1)\n[√] Chrome - develop for the web\n[√] Visual Studio - develop for Windows (Visual Studio Community 2022 17.6.2)\n[√] Android Studio (version 2021.2)\n[√] VS Code (version 1.78.2)\n[√] Connected device (4 available)\n[√] Network resources\n\n• No issues found!\n"
        ]
    },
    {
        "titulo": "How to solve when sms authentication expired in firebase?",
        "score": 3,
        "views": 132,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/76371525/how-to-solve-when-sms-authentication-expired-in-firebase",
        "conteudo_html": "<p>After distributing the application on the Google Play Store, there was a problem with phone number authentication. After entering the verification code, the following error occurs.</p>\n<p>[firebase_auth/session-expired] The SMS code has expired. Please re-send the verification code to try again.</p>\n<p>How should I change my code to solve this problem?</p>\n<p>###Code 1. verification screen</p>\n<pre><code>Future&lt;void&gt; verifyOtp(BuildContext context, String userOtp) async {\n    final authProvider = Provider.of&lt;AuthViewModel&gt;(context, listen: false);\n    await authProvider.verifyOtp(\n        context: context,\n        verificationId: widget.verificationId,\n        userOtp: userOtp,\n        onSuccess: () async {\n          // checking whether user exists in database or not\n          bool userExists = await authProvider.checkExistingUser();\n          if (userExists) {\n            // user exists in our database\n            await authProvider.getDataFromFirestore();\n            await authProvider.saveDataToSP();\n            await authProvider.setSignIn();\n            if (!mounted) return;\n            Navigator.pushAndRemoveUntil(\n                context,\n                MaterialPageRoute(builder: (context) =&gt; HomeMain()),\n                (route) =&gt; false);\n          } else {\n            // user does not exist (new user)\n            if (!mounted) return;\n\n            Navigator.pushAndRemoveUntil(\n                context,\n                MaterialPageRoute(builder: (context) =&gt; GenderSelection()),\n                (route) =&gt; false);\n          }\n        });\n  }\n</code></pre>\n<p>###Code 2. auth provider:</p>\n<pre><code>  // signin\n  void signInWithPhone(BuildContext context, String phoneNumber) async {\n    try {\n      await _auth.verifyPhoneNumber(\n        phoneNumber: phoneNumber,\n        verificationCompleted: (PhoneAuthCredential credential) async {\n          await _auth.signInWithCredential(credential);\n        },\n        verificationFailed: (FirebaseAuthException e) {\n          throw Exception(e.message);\n        },\n        codeSent: (verificationId, forceRecendingToken) async {\n          Navigator.push(\n            context,\n            MaterialPageRoute(\n              builder: (context) =&gt; InputVerificationNumber(\n                verificationId: verificationId,\n              ),\n            ),\n          );\n        },\n        codeAutoRetrievalTimeout: (String verificationId) {},\n      );\n    } on FirebaseAuthException catch (e) {\n      // ignore: unused_result\n      showAlertDialog(\n          context: context,\n          title: 'Error',\n          message: e.message ?? '에러가 발생했습니다. 개발팀에 문의해주세요.');\n    }\n  }\n\n// verify otp\nFuture&lt;void&gt; verifyOtp({\n    required BuildContext context,\n    required String verificationId,\n    required String userOtp,\n    required Function onSuccess,\n  }) async {\n    _isLoading = true;\n    notifyListeners();\n\n    try {\n      PhoneAuthCredential credential = PhoneAuthProvider.credential(\n        verificationId: verificationId,\n        smsCode: userOtp,\n      );\n\n      User? user = (await _auth.signInWithCredential(credential)).user;\n      if (user != null) {\n        // implement logic\n        _uid = user.uid;\n        await onSuccess();\n      }\n\n      _isLoading = false;\n      notifyListeners();\n    } on FirebaseAuthException catch (e) {\n      _isLoading = false;\n      notifyListeners();\n\n      await showOkAlertDialog(\n          context: context, message: '로그인 과정에서 문제가 발생했습니다. \\n$e');\n    }\n  }\n</code></pre>\n",
        "codigo": [
            "Future<void> verifyOtp(BuildContext context, String userOtp) async {\n    final authProvider = Provider.of<AuthViewModel>(context, listen: false);\n    await authProvider.verifyOtp(\n        context: context,\n        verificationId: widget.verificationId,\n        userOtp: userOtp,\n        onSuccess: () async {\n          // checking whether user exists in database or not\n          bool userExists = await authProvider.checkExistingUser();\n          if (userExists) {\n            // user exists in our database\n            await authProvider.getDataFromFirestore();\n            await authProvider.saveDataToSP();\n            await authProvider.setSignIn();\n            if (!mounted) return;\n            Navigator.pushAndRemoveUntil(\n                context,\n                MaterialPageRoute(builder: (context) => HomeMain()),\n                (route) => false);\n          } else {\n            // user does not exist (new user)\n            if (!mounted) return;\n\n            Navigator.pushAndRemoveUntil(\n                context,\n                MaterialPageRoute(builder: (context) => GenderSelection()),\n                (route) => false);\n          }\n        });\n  }\n",
            "  // signin\n  void signInWithPhone(BuildContext context, String phoneNumber) async {\n    try {\n      await _auth.verifyPhoneNumber(\n        phoneNumber: phoneNumber,\n        verificationCompleted: (PhoneAuthCredential credential) async {\n          await _auth.signInWithCredential(credential);\n        },\n        verificationFailed: (FirebaseAuthException e) {\n          throw Exception(e.message);\n        },\n        codeSent: (verificationId, forceRecendingToken) async {\n          Navigator.push(\n            context,\n            MaterialPageRoute(\n              builder: (context) => InputVerificationNumber(\n                verificationId: verificationId,\n              ),\n            ),\n          );\n        },\n        codeAutoRetrievalTimeout: (String verificationId) {},\n      );\n    } on FirebaseAuthException catch (e) {\n      // ignore: unused_result\n      showAlertDialog(\n          context: context,\n          title: 'Error',\n          message: e.message ?? '에러가 발생했습니다. 개발팀에 문의해주세요.');\n    }\n  }\n\n// verify otp\nFuture<void> verifyOtp({\n    required BuildContext context,\n    required String verificationId,\n    required String userOtp,\n    required Function onSuccess,\n  }) async {\n    _isLoading = true;\n    notifyListeners();\n\n    try {\n      PhoneAuthCredential credential = PhoneAuthProvider.credential(\n        verificationId: verificationId,\n        smsCode: userOtp,\n      );\n\n      User? user = (await _auth.signInWithCredential(credential)).user;\n      if (user != null) {\n        // implement logic\n        _uid = user.uid;\n        await onSuccess();\n      }\n\n      _isLoading = false;\n      notifyListeners();\n    } on FirebaseAuthException catch (e) {\n      _isLoading = false;\n      notifyListeners();\n\n      await showOkAlertDialog(\n          context: context, message: '로그인 과정에서 문제가 발생했습니다. \\n$e');\n    }\n  }\n"
        ]
    },
    {
        "titulo": "What causes &#39;Null check operator used on a null value&#39; error while using serverpod generate command in Dart on Windows 11?",
        "score": 1,
        "views": 183,
        "respostas": 1,
        "tags": [
            "dart",
            "serverpod"
        ],
        "link": "https://stackoverflow.com/questions/76353681/what-causes-null-check-operator-used-on-a-null-value-error-while-using-serverp",
        "conteudo_html": "<p>Serverpod generate command throws &quot;Null check operator used on a null value&quot; error.</p>\n<p>While using serverpod generate on a brand-new project with only the following code added, I get the following error:</p>\n<p>In example_endpoint.dart, I added this in the ExampleEndpoint class:</p>\n<pre><code>  Future&lt;Article&gt; test(Session session) async{\n    return Article(\n      title: 'Test Title',\n    );\n  }\n</code></pre>\n<p>I added article.yaml in the protocol folder with the following content:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>class: Article\nfields:\n  title: String\n</code></pre>\n<p>This is the output from serverpod generate:</p>\n<pre><code>WARNING! Windows is not officially supported yet. Things may or may not work as expected.\n\nYikes! It is possible that this error is caused by an internal issue with the Serverpod tooling. We would appreciate if you filed an issue over at Github. Please include the stack trace below and describe any steps you did to trigger the error.\nhttps://github.com/serverpod/serverpod/issues\nNull check operator used on a null value\n#0      new TypeDefinition.fromDartType (package:serverpod_cli/src/generator/types.dart:75:49)\n#1      new TypeDefinition.fromDartType.&lt;anonymous closure&gt; (package:serverpod_cli/src/generator/types.dart:70:56)\n#2      MappedListIterable.elementAt (dart:_internal/iterable.dart:415:31)\n#3      ListIterator.moveNext (dart:_internal/iterable.dart:344:26)\n#4      new _GrowableList._ofEfficientLengthIterable (dart:core-patch/growable_array.dart:189:27)\n#5      new _GrowableList.of (dart:core-patch/growable_array.dart:150:28)\n#6      new List.of (dart:core-patch/array_patch.dart:47:28)\n#7      ListIterable.toList (dart:_internal/iterable.dart:214:7)\n#8      new TypeDefinition.fromDartType (package:serverpod_cli/src/generator/types.dart:70:73)\n#9      EndpointsAnalyzer.analyze (package:serverpod_cli/src/analyzer/dart/endpoints_analyzer.dart:168:48)\n&lt;asynchronous suspension&gt;\n#10     performGenerate (package:serverpod_cli/src/generator/generator.dart:46:19)\n&lt;asynchronous suspension&gt;\n#11     _main (file:///C:/Users/dschu/AppData/Local/Pub/Cache/hosted/pub.dev/serverpod_cli-1.1.1/bin/serverpod_cli.dart:221:7)\n&lt;asynchronous suspension&gt;\n#12     main.&lt;anonymous closure&gt; (file:///C:/Users/dschu/AppData/Local/Pub/Cache/hosted/pub.dev/serverpod_cli-1.1.1/bin/serverpod_cli.dart:36:9)\n&lt;asynchronous suspension&gt;\n#13     main (file:///C:/Users/dschu/AppData/Local/Pub/Cache/hosted/pub.dev/serverpod_cli-1.1.1/bin/serverpod_cli.dart:33:3)\n&lt;asynchronous suspension&gt;\n</code></pre>\n<p>I am on Windows 11 using serverpod version 1.1.1</p>\n",
        "codigo": [
            "  Future<Article> test(Session session) async{\n    return Article(\n      title: 'Test Title',\n    );\n  }\n",
            "class: Article\nfields:\n  title: String\n",
            "WARNING! Windows is not officially supported yet. Things may or may not work as expected.\n\nYikes! It is possible that this error is caused by an internal issue with the Serverpod tooling. We would appreciate if you filed an issue over at Github. Please include the stack trace below and describe any steps you did to trigger the error.\nhttps://github.com/serverpod/serverpod/issues\nNull check operator used on a null value\n#0      new TypeDefinition.fromDartType (package:serverpod_cli/src/generator/types.dart:75:49)\n#1      new TypeDefinition.fromDartType.<anonymous closure> (package:serverpod_cli/src/generator/types.dart:70:56)\n#2      MappedListIterable.elementAt (dart:_internal/iterable.dart:415:31)\n#3      ListIterator.moveNext (dart:_internal/iterable.dart:344:26)\n#4      new _GrowableList._ofEfficientLengthIterable (dart:core-patch/growable_array.dart:189:27)\n#5      new _GrowableList.of (dart:core-patch/growable_array.dart:150:28)\n#6      new List.of (dart:core-patch/array_patch.dart:47:28)\n#7      ListIterable.toList (dart:_internal/iterable.dart:214:7)\n#8      new TypeDefinition.fromDartType (package:serverpod_cli/src/generator/types.dart:70:73)\n#9      EndpointsAnalyzer.analyze (package:serverpod_cli/src/analyzer/dart/endpoints_analyzer.dart:168:48)\n<asynchronous suspension>\n#10     performGenerate (package:serverpod_cli/src/generator/generator.dart:46:19)\n<asynchronous suspension>\n#11     _main (file:///C:/Users/dschu/AppData/Local/Pub/Cache/hosted/pub.dev/serverpod_cli-1.1.1/bin/serverpod_cli.dart:221:7)\n<asynchronous suspension>\n#12     main.<anonymous closure> (file:///C:/Users/dschu/AppData/Local/Pub/Cache/hosted/pub.dev/serverpod_cli-1.1.1/bin/serverpod_cli.dart:36:9)\n<asynchronous suspension>\n#13     main (file:///C:/Users/dschu/AppData/Local/Pub/Cache/hosted/pub.dev/serverpod_cli-1.1.1/bin/serverpod_cli.dart:33:3)\n<asynchronous suspension>\n"
        ]
    },
    {
        "titulo": "Flutter IOS debug build installs the app on a real device but fails to initialize dart VM server",
        "score": 3,
        "views": 5759,
        "respostas": 4,
        "tags": [
            "ios",
            "flutter",
            "xcode",
            "dart",
            "ipad"
        ],
        "link": "https://stackoverflow.com/questions/76340188/flutter-ios-debug-build-installs-the-app-on-a-real-device-but-fails-to-initializ",
        "conteudo_html": "<p>Flutter IOS debug build installs the app on a real device but fails to initialize dart VM server within 30 seconds and fails to run the app with error message :</p>\n<pre><code>Launching lib/main.dart on User's iPad in debug mode...\nmain.dart:1\nAutomatically signing iOS for device deployment using specified development team in Xcode project: FQ********\nXcode build done.                                           25.7s\nThe Dart VM Service was not discovered after 30 seconds. This is taking much longer than expected...\n(lldb) process interrupt\nerror: Failed to halt process: Halt timed out. State = running\nError launching application on User's iPad.\nExited\n</code></pre>\n<p>But when I try to install on the device with XCode or with simulator, it builds and works fine. I tried solutions on the the <a href=\"https://stackoverflow.com/questions/69140504/ios-observatory-not-discovered-after-30-seconds-error-launching-application-on\">link</a> on stackoverflow with different issue, but none of them have no avail to fix the problem.</p>\n<p>I have tried with IPad pro 11 inch 2020 and IPhone 11 pro with the same WIFI network. And I am using Macbook M1 pro 14 inch 2021 base model. I've been using real IOS devices for more than a year with the same project. But about a month ago it started giving me the error.</p>\n<p>When I try to build with a real device, the app doesn't ask local network permission nor notification permission. I've tried with different projects and it had the same error. Also I created a new flutter project with 0 dependencies, it gave me the same error but after I ran the app with XCode for two times it started working. But after I added dependencies from the first project that I ran into problem with, I started getting the same error. But the weird thing is when I use Flutter release mode, it works fine with any project. (By the way I have enabled wireless debug on XCode with both of the real devices I have mentioned earlier. But no difference with debug builds.)</p>\n<p>XCode version : Version 14.3 (14E222b)</p>\n<p>Podfile :</p>\n<pre><code>ENV['COCOAPODS_DISABLE_STATS'] = 'true'\n\nproject 'Runner', {\n  'Debug' =&gt; :debug,\n  'Profile' =&gt; :release,\n  'Release' =&gt; :release,\n}\n\ndef flutter_root\n  generated_xcode_build_settings_path = File.expand_path(File.join('..', 'Flutter', 'Generated.xcconfig'), __FILE__)\n  unless File.exist?(generated_xcode_build_settings_path)\n    raise &quot;#{generated_xcode_build_settings_path} must exist. If you're running pod install manually, make sure flutter pub get is executed first&quot;\n  end\n\n  File.foreach(generated_xcode_build_settings_path) do |line|\n    matches = line.match(/FLUTTER_ROOT\\=(.*)/)\n    return matches[1].strip if matches\n  end\n  raise &quot;FLUTTER_ROOT not found in #{generated_xcode_build_settings_path}. Try deleting Generated.xcconfig, then run flutter pub get&quot;\nend\n\nrequire File.expand_path(File.join('packages', 'flutter_tools', 'bin', 'podhelper'), flutter_root)\n\nflutter_ios_podfile_setup\n\ntarget 'Runner' do\n  use_frameworks!\n  use_modular_headers!\n\n  flutter_install_all_ios_pods File.dirname(File.realpath(__FILE__))\nend\n\npost_install do |installer|\n  installer.generated_projects.each do |project|\n    project.targets.each do |target|\n      target.build_configurations.each do |config|\n        # config.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] = '11.0'\n        config.build_settings['GCC_PREPROCESSOR_DEFINITIONS'] ||= [\n          '$(inherited)',\n          \n          ## dart: [PermissionGroup.location, PermissionGroup.locationAlways, PermissionGroup.locationWhenInUse]\n          'PERMISSION_LOCATION=1',\n          \n          ## dart: PermissionGroup.photos\n          'PERMISSION_PHOTOS=1',\n            \n          ## dart: PermissionGroup.camera\n          'PERMISSION_CAMERA=1',\n          ]\n      end\n    end\n  end\n\n  installer.pods_project.targets.each do |target|\n    flutter_additional_ios_build_settings(target)\n  end\nend\n</code></pre>\n<p>Flutter doctor verbose :</p>\n<pre><code>[✓] Flutter (Channel stable, 3.10.1, on macOS 13.3.1 22E772610a darwin-arm64, locale en-MN)\n    • Flutter version 3.10.1 on channel stable at /Users/gantushig/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision d3d8effc68 (9 days ago), 2023-05-16 17:59:05 -0700\n    • Engine revision b4fb11214d\n    • Dart version 3.0.1\n    • DevTools version 2.23.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.2)\n    • Android SDK at /Users/gantushig/Library/Android/sdk\n    • Platform android-33, build-tools 33.0.2\n    • Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.15+0-b2043.56-8887301)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.3)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14E222b\n    • CocoaPods version 1.12.1\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2022.1)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.15+0-b2043.56-8887301)\n\n[✓] VS Code (version 1.78.2)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.64.0\n\n[✓] Connected device (3 available)\n    • Gantushig’s iPad (mobile) • 00008027-000C684A0A08402E • ios            • iOS 16.4.1 20E252\n    • macOS (desktop)           • macos                     • darwin-arm64   • macOS 13.3.1 22E772610a darwin-arm64\n    • Chrome (web)              • chrome                    • web-javascript • Google Chrome 113.0.5672.126\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n<p>Flutter run verbose last few lines :</p>\n<pre><code>[  +52 ms] [ 95%] GeneratingApplicationMap\n[ +327 ms] [100%] InstallComplete\n[ +987 ms] [100%] Installed package build/ios/iphoneos/Runner.app\n[  +99 ms] ------ Debug phase ------\n[        ] Starting debug of 00008027-000C684A0A08402E (J418AP, iPad Pro 2G (11&quot; Cell), iphoneos, arm64e, 16.4.1, 20E252) a.k.a. 'Gantushig’s iPad' connected\nthrough USB...\n[+1026 ms] [  0%] Looking up developer disk image\n[  +27 ms] [ 95%] Developer disk image mounted successfully\n[  +23 ms] Symbol Path: /Users/gantushig/Library/Developer/Xcode/iOS DeviceSupport/16.4.1 (20E252) arm64e/Symbols\n[ +457 ms] [100%] Connecting to remote debug server\n[        ] -------------------------\n[  +99 ms] (lldb) command source -s 0 '/tmp/B9863F2D-673A-40A5-9D48-5C384D397A22/fruitstrap-lldb-prep-cmds-00008027_000C684A0A08402E'\n[        ] Executing commands in '/tmp/B9863F2D-673A-40A5-9D48-5C384D397A22/fruitstrap-lldb-prep-cmds-00008027_000C684A0A08402E'.\n[        ] (lldb)     platform select remote-'ios' --sysroot '/Users/gantushig/Library/Developer/Xcode/iOS DeviceSupport/16.4.1 (20E252) arm64e/Symbols'\n[        ]   Platform: remote-ios\n[        ]  Connected: no\n[        ]    Sysroot: /Users/gantushig/Library/Developer/Xcode/iOS DeviceSupport/16.4.1 (20E252) arm64e/Symbols\n[        ]   SDK Path: &quot;/Users/gantushig/Library/Developer/Xcode/iOS DeviceSupport/16.4.1 (20E252) arm64e/Symbols&quot;\n[        ] (lldb)     target create &quot;/Users/gantushig/projects/soyohon/soyohon_mobile/build/ios/iphoneos/Runner.app&quot;\n[+6149 ms] Current executable set to '/Users/gantushig/projects/soyohon/soyohon_mobile/build/ios/iphoneos/Runner.app' (arm64).\n[        ] (lldb)     script fruitstrap_device_app=&quot;/private/var/containers/Bundle/Application/9191066D-06EC-41D9-A945-7BBDAB5CEBA1/Runner.app&quot;\n[        ] (lldb)     script fruitstrap_connect_url=&quot;connect://127.0.0.1:59678&quot;\n[        ] (lldb)     script fruitstrap_output_path=&quot;&quot;\n[        ] (lldb)     script fruitstrap_error_path=&quot;&quot;\n[        ] (lldb)     target modules search-paths add /usr &quot;/Users/gantushig/Library/Developer/Xcode/iOS DeviceSupport/16.4.1 (20E252) arm64e/Symbols/usr&quot;\n/System &quot;/Users/gantushig/Library/Developer/Xcode/iOS DeviceSupport/16.4.1 (20E252) arm64e/Symbols/System&quot;\n&quot;/private/var/containers/Bundle/Application/9191066D-06EC-41D9-A945-7BBDAB5CEBA1&quot; &quot;/Users/gantushig/projects/soyohon/soyohon_mobile/build/ios/iphoneos&quot;\n&quot;/var/containers/Bundle/Application/9191066D-06EC-41D9-A945-7BBDAB5CEBA1&quot; &quot;/Users/gantushig/projects/soyohon/soyohon_mobile/build/ios/iphoneos&quot; /Developer\n&quot;/Users/gantushig/Library/Developer/Xcode/iOS DeviceSupport/16.4.1 (20E252) arm64e/Symbols/Developer&quot;\n[  +34 ms] (lldb)     command script import &quot;/tmp/B9863F2D-673A-40A5-9D48-5C384D397A22/fruitstrap_00008027_000C684A0A08402E.py&quot;\n[   +3 ms] (lldb)     command script add -f fruitstrap_00008027_000C684A0A08402E.connect_command connect\n[        ] (lldb)     command script add -s asynchronous -f fruitstrap_00008027_000C684A0A08402E.run_command run\n[        ] (lldb)     command script add -s asynchronous -f fruitstrap_00008027_000C684A0A08402E.autoexit_command autoexit\n[        ] (lldb)     command script add -s asynchronous -f fruitstrap_00008027_000C684A0A08402E.safequit_command safequit\n[        ] (lldb)     connect\n[  +32 ms] (lldb)     run\n[ +198 ms] success\n[        ] Application launched on the device. Waiting for Dart VM Service url.\n[+30005 ms] The Dart VM Service was not discovered after 30 seconds. This is taking much longer than expected...\n[   +8 ms] (lldb) process interrupt\n[        ] error: Failed to halt process: Halt timed out. State = running\n[+2073 ms] (lldb) Process 2598 exited with status = -1 (0xffffffff) lost connection\n[   +3 ms] ios-deploy exited with code 0\n[   +6 ms] Installing and launching... (completed in 56.6s)\n[        ] Error launching application on Gantushig’s iPad.\n[   +2 ms] &quot;flutter run&quot; took 96,019ms.\n[   +3 ms] \n           #0      throwToolExit (package:flutter_tools/src/base/common.dart:10:3)\n           #1      RunCommand.runCommand (package:flutter_tools/src/commands/run.dart:757:9)\n           &lt;asynchronous suspension&gt;\n           #2      FlutterCommand.run.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command.dart:1336:27)\n           &lt;asynchronous suspension&gt;\n           #3      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n           &lt;asynchronous suspension&gt;\n           #4      CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n           &lt;asynchronous suspension&gt;\n           #5      FlutterCommandRunner.runCommand.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command_runner.dart:296:9)\n           &lt;asynchronous suspension&gt;\n           #6      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n           &lt;asynchronous suspension&gt;\n           #7      FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:244:5)\n           &lt;asynchronous suspension&gt;\n           #8      run.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:flutter_tools/runner.dart:91:9)\n           &lt;asynchronous suspension&gt;\n           #9      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n           &lt;asynchronous suspension&gt;\n           #10     main (package:flutter_tools/executable.dart:91:3)\n           &lt;asynchronous suspension&gt;\n           \n           \n[ +259 ms] ensureAnalyticsSent: 253ms\n[        ] Running 1 shutdown hook\n[   +3 ms] Shutdown hooks complete\n[        ] exiting with code 1\n</code></pre>\n<p>Flutter pubspec yaml file :</p>\n<pre><code>name: flutter_app\ndescription: Social app.\n\npublish_to: 'none'\n\nversion: 1.0.0+36\n\nenvironment:\n  sdk: '&gt;=3.0.1 &lt;4.0.0'\n\ndependencies:\n  flutter:\n    sdk: flutter\n\n  cupertino_icons: ^1.0.2\n  dio: ^5.0.0\n  rive: ^0.11.1\n  provider: ^6.0.2\n  cookie_jar: ^4.0.2\n  dio_cookie_manager: ^3.0.0\n  path_provider: ^2.0.8\n  flutter_form_builder: ^9.0.0-dev.3\n  form_builder_validators: ^9.0.0-dev.2\n  fluttertoast: ^8.0.9\n  flutter_svg: ^2.0.0+1\n  get_it: ^7.2.0\n  another_flushbar: ^1.10.28\n  flutter_native_splash: ^2.2.9\n  image_picker: ^0.8.3\n  image_cropper: ^3.0.0\n  pinput: ^2.2.7\n  firebase_core: ^2.4.1\n  firebase_messaging: ^14.2.1\n  flutter_local_notifications: ^14.0.0+1\n  socket_io_client: ^2.0.1\n  location: ^4.4.0\n  avatar_glow: ^2.0.2\n  device_info_plus: ^9.0.0\n  carousel_slider: ^4.1.1\n  skeletons: ^0.0.3\n  hive: ^2.2.3\n  hive_flutter: ^1.1.0\n  qr_flutter: ^4.0.0\n  url_launcher: ^6.1.6\n  android_intent_plus: ^4.0.0\n  device_apps: ^2.2.0\n  cached_network_image: ^3.2.2\n  external_app_launcher: ^3.1.0\n  permission_handler: ^10.2.0\n  flutter_cache_manager: ^3.3.0\n  water_drop_nav_bar: ^2.2.0+5\n  connectivity_plus: ^4.0.0\n  font_awesome_flutter: ^10.3.0\n  intl: ^0.18.0\n  freezed_annotation: ^2.2.0\n  json_annotation: ^4.8.0\n  collection: ^1.17.0\n  webview_flutter: ^4.2.0\n  webview_flutter_android: ^3.7.0\n  webview_flutter_wkwebview: ^3.4.3\n\nflutter_native_splash:\n  image: assets/images/logo.png\n  color: '#FA4251'\n\n  android_12:\n    image: assets/images/android_splash_icon.png\n    icon_background_color: '#FA4251'\n    image_dark: assets/images/android_splash_icon.png\n    icon_background_color_dark: '#FA4251'\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  freezed: ^2.3.2\n  flutter_lints: ^2.0.0\n  hive_generator: ^2.0.0\n  build_runner: ^2.3.3\n  json_serializable: ^6.6.1\n\nflutter:\n  uses-material-design: true\n  assets:\n    - assets/rive_models/simple-loader.riv\n    - assets/rive_models/find_user.riv\n    - assets/rive_models/new_file.riv\n    - assets/rive_models/spaceship_pull_refresh.riv\n    - assets/rive_models/\n    - assets/images/christmas_logo.png\n    - assets/images/astrology/\n    - assets/images/svg/back.svg\n    - assets/images/svg/icons/shopping-bag.svg\n    - assets/images/svg/\n    - assets/images/back_image/\n    - assets/images/logo.png\n    - assets/images/membership/\n    - assets/images/android_splash_icon.png\n    - assets/images/mission/icons/\n    - assets/images/mission/\n    - assets/images/\n    - assets/gif/\n\n  fonts:\n    - family: Rubik\n      fonts:\n        - asset: assets/fonts/Rubik/Rubik-Light.ttf\n          style: normal\n          weight: 300\n        - asset: assets/fonts/Rubik/Rubik-LightItalic.ttf\n          style: italic\n          weight: 300\n        - asset: assets/fonts/Rubik/Rubik-Regular.ttf\n          style: normal\n          weight: 400\n        - asset: assets/fonts/Rubik/Rubik-Italic.ttf\n          style: italic\n          weight: 400\n        - asset: assets/fonts/Rubik/Rubik-Medium.ttf\n          style: normal\n          weight: 500\n        - asset: assets/fonts/Rubik/Rubik-MediumItalic.ttf\n          style: italic\n          weight: 500\n        - asset: assets/fonts/Rubik/Rubik-SemiBold.ttf\n          style: normal\n          weight: 600\n        - asset: assets/fonts/Rubik/Rubik-SemiBoldItalic.ttf\n          style: italic\n          weight: 600\n        - asset: assets/fonts/Rubik/Rubik-Bold.ttf\n          style: normal\n          weight: 700\n        - asset: assets/fonts/Rubik/Rubik-BoldItalic.ttf\n          style: italic\n          weight: 700\n        - asset: assets/fonts/Rubik/Rubik-ExtraBold.ttf\n          style: normal\n          weight: 800\n        - asset: assets/fonts/Rubik/Rubik-ExtraBoldItalic.ttf\n          style: italic\n          weight: 800\n        - asset: assets/fonts/Rubik/Rubik-Black.ttf\n          style: normal\n          weight: 900\n        - asset: assets/fonts/Rubik/Rubik-BlackItalic.ttf\n          style: italic\n          weight: 900\n    - family: Roboto\n      fonts:\n        - asset: assets/fonts/Roboto/Roboto-Thin.ttf\n          style: normal\n          weight: 100\n        - asset: assets/fonts/Roboto/Roboto-ThinItalic.ttf\n          style: italic\n          weight: 100\n        - asset: assets/fonts/Roboto/Roboto-Light.ttf\n          style: normal\n          weight: 300\n        - asset: assets/fonts/Roboto/Roboto-LightItalic.ttf\n          style: italic\n          weight: 300\n        - asset: assets/fonts/Roboto/Roboto-Regular.ttf\n          style: normal\n          weight: 400\n        - asset: assets/fonts/Roboto/Roboto-Italic.ttf\n          style: italic\n          weight: 400\n        - asset: assets/fonts/Roboto/Roboto-Medium.ttf\n          style: normal\n          weight: 500\n        - asset: assets/fonts/Roboto/Roboto-MediumItalic.ttf\n          style: italic\n          weight: 500\n        - asset: assets/fonts/Roboto/Roboto-Bold.ttf\n          style: normal\n          weight: 700\n        - asset: assets/fonts/Roboto/Roboto-BoldItalic.ttf\n          style: italic\n          weight: 700\n        - asset: assets/fonts/Roboto/Roboto-Black.ttf\n          style: normal\n          weight: 900\n        - asset: assets/fonts/Roboto/Roboto-BlackItalic.ttf\n          style: italic\n          weight: 900\n    - family: Poppins\n      fonts:\n        - asset: assets/fonts/Poppins/Poppins-Thin.ttf\n          style: normal\n          weight: 100\n        - asset: assets/fonts/Poppins/Poppins-ThinItalic.ttf\n          style: italic\n          weight: 100\n        - asset: assets/fonts/Poppins/Poppins-ExtraLight.ttf\n          style: normal\n          weight: 200\n        - asset: assets/fonts/Poppins/Poppins-ExtraLightItalic.ttf\n          style: italic\n          weight: 200\n        - asset: assets/fonts/Poppins/Poppins-Light.ttf\n          style: normal\n          weight: 300\n        - asset: assets/fonts/Poppins/Poppins-LightItalic.ttf\n          style: italic\n          weight: 300\n        - asset: assets/fonts/Poppins/Poppins-Regular.ttf\n          style: normal\n          weight: 400\n        - asset: assets/fonts/Poppins/Poppins-Italic.ttf\n          style: italic\n          weight: 400\n        - asset: assets/fonts/Poppins/Poppins-Medium.ttf\n          style: normal\n          weight: 500\n        - asset: assets/fonts/Poppins/Poppins-MediumItalic.ttf\n          style: italic\n          weight: 500\n        - asset: assets/fonts/Poppins/Poppins-SemiBold.ttf\n          style: normal\n          weight: 600\n        - asset: assets/fonts/Poppins/Poppins-SemiBoldItalic.ttf\n          style: italic\n          weight: 600\n        - asset: assets/fonts/Poppins/Poppins-Bold.ttf\n          style: normal\n          weight: 700\n        - asset: assets/fonts/Poppins/Poppins-BoldItalic.ttf\n          style: italic\n          weight: 700\n        - asset: assets/fonts/Poppins/Poppins-ExtraBold.ttf\n          style: normal\n          weight: 800\n        - asset: assets/fonts/Poppins/Poppins-ExtraBoldItalic.ttf\n          style: italic\n          weight: 800\n        - asset: assets/fonts/Poppins/Poppins-Black.ttf\n          style: normal\n          weight: 900\n        - asset: assets/fonts/Poppins/Poppins-Black.ttf\n          style: italic\n          weight: 900\n    - family: Inter\n      fonts:\n        - asset: assets/fonts/Inter/Inter-Thin.ttf\n          style: normal\n          weight: 100\n        - asset: assets/fonts/Inter/Inter-ExtraLight.ttf\n          style: normal\n          weight: 200\n        - asset: assets/fonts/Inter/Inter-Light.ttf\n          style: normal\n          weight: 300\n        - asset: assets/fonts/Inter/Inter-Regular.ttf\n          style: normal\n          weight: 400\n        - asset: assets/fonts/Inter/Inter-Medium.ttf\n          style: normal\n          weight: 500\n        - asset: assets/fonts/Inter/Inter-SemiBold.ttf\n          style: normal\n          weight: 600\n        - asset: assets/fonts/Inter/Inter-Bold.ttf\n          style: normal\n          weight: 700\n        - asset: assets/fonts/Inter/Inter-ExtraBold.ttf\n          style: normal\n          weight: 800\n        - asset: assets/fonts/Inter/Inter-Black.ttf\n          style: normal\n          weight: 900\n    - family: Source Sans Pro\n      fonts:\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-ExtraLight.ttf\n          style: normal\n          weight: 200\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-ExtraLightItalic.ttf\n          style: italic\n          weight: 200\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-Light.ttf\n          style: normal\n          weight: 300\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-LightItalic.ttf\n          style: italic\n          weight: 300\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-Regular.ttf\n          style: normal\n          weight: 400\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-Italic.ttf\n          style: italic\n          weight: 400\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-SemiBold.ttf\n          style: normal\n          weight: 600\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-SemiBoldItalic.ttf\n          style: italic\n          weight: 600\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-Bold.ttf\n          style: normal\n          weight: 700\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-BoldItalic.ttf\n          style: italic\n          weight: 700\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-Black.ttf\n          style: normal\n          weight: 900\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-BlackItalic.ttf\n          style: italic\n          weight: 900\n</code></pre>\n<p>It should work fine. And I really need to enable this feautre since it is way more convenient with testing with real devices.</p>\n",
        "codigo": [
            "Launching lib/main.dart on User's iPad in debug mode...\nmain.dart:1\nAutomatically signing iOS for device deployment using specified development team in Xcode project: FQ********\nXcode build done.                                           25.7s\nThe Dart VM Service was not discovered after 30 seconds. This is taking much longer than expected...\n(lldb) process interrupt\nerror: Failed to halt process: Halt timed out. State = running\nError launching application on User's iPad.\nExited\n",
            "ENV['COCOAPODS_DISABLE_STATS'] = 'true'\n\nproject 'Runner', {\n  'Debug' => :debug,\n  'Profile' => :release,\n  'Release' => :release,\n}\n\ndef flutter_root\n  generated_xcode_build_settings_path = File.expand_path(File.join('..', 'Flutter', 'Generated.xcconfig'), __FILE__)\n  unless File.exist?(generated_xcode_build_settings_path)\n    raise \"#{generated_xcode_build_settings_path} must exist. If you're running pod install manually, make sure flutter pub get is executed first\"\n  end\n\n  File.foreach(generated_xcode_build_settings_path) do |line|\n    matches = line.match(/FLUTTER_ROOT\\=(.*)/)\n    return matches[1].strip if matches\n  end\n  raise \"FLUTTER_ROOT not found in #{generated_xcode_build_settings_path}. Try deleting Generated.xcconfig, then run flutter pub get\"\nend\n\nrequire File.expand_path(File.join('packages', 'flutter_tools', 'bin', 'podhelper'), flutter_root)\n\nflutter_ios_podfile_setup\n\ntarget 'Runner' do\n  use_frameworks!\n  use_modular_headers!\n\n  flutter_install_all_ios_pods File.dirname(File.realpath(__FILE__))\nend\n\npost_install do |installer|\n  installer.generated_projects.each do |project|\n    project.targets.each do |target|\n      target.build_configurations.each do |config|\n        # config.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] = '11.0'\n        config.build_settings['GCC_PREPROCESSOR_DEFINITIONS'] ||= [\n          '$(inherited)',\n          \n          ## dart: [PermissionGroup.location, PermissionGroup.locationAlways, PermissionGroup.locationWhenInUse]\n          'PERMISSION_LOCATION=1',\n          \n          ## dart: PermissionGroup.photos\n          'PERMISSION_PHOTOS=1',\n            \n          ## dart: PermissionGroup.camera\n          'PERMISSION_CAMERA=1',\n          ]\n      end\n    end\n  end\n\n  installer.pods_project.targets.each do |target|\n    flutter_additional_ios_build_settings(target)\n  end\nend\n",
            "[✓] Flutter (Channel stable, 3.10.1, on macOS 13.3.1 22E772610a darwin-arm64, locale en-MN)\n    • Flutter version 3.10.1 on channel stable at /Users/gantushig/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision d3d8effc68 (9 days ago), 2023-05-16 17:59:05 -0700\n    • Engine revision b4fb11214d\n    • Dart version 3.0.1\n    • DevTools version 2.23.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.2)\n    • Android SDK at /Users/gantushig/Library/Android/sdk\n    • Platform android-33, build-tools 33.0.2\n    • Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.15+0-b2043.56-8887301)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.3)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14E222b\n    • CocoaPods version 1.12.1\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2022.1)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.15+0-b2043.56-8887301)\n\n[✓] VS Code (version 1.78.2)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.64.0\n\n[✓] Connected device (3 available)\n    • Gantushig’s iPad (mobile) • 00008027-000C684A0A08402E • ios            • iOS 16.4.1 20E252\n    • macOS (desktop)           • macos                     • darwin-arm64   • macOS 13.3.1 22E772610a darwin-arm64\n    • Chrome (web)              • chrome                    • web-javascript • Google Chrome 113.0.5672.126\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n",
            "[  +52 ms] [ 95%] GeneratingApplicationMap\n[ +327 ms] [100%] InstallComplete\n[ +987 ms] [100%] Installed package build/ios/iphoneos/Runner.app\n[  +99 ms] ------ Debug phase ------\n[        ] Starting debug of 00008027-000C684A0A08402E (J418AP, iPad Pro 2G (11\" Cell), iphoneos, arm64e, 16.4.1, 20E252) a.k.a. 'Gantushig’s iPad' connected\nthrough USB...\n[+1026 ms] [  0%] Looking up developer disk image\n[  +27 ms] [ 95%] Developer disk image mounted successfully\n[  +23 ms] Symbol Path: /Users/gantushig/Library/Developer/Xcode/iOS DeviceSupport/16.4.1 (20E252) arm64e/Symbols\n[ +457 ms] [100%] Connecting to remote debug server\n[        ] -------------------------\n[  +99 ms] (lldb) command source -s 0 '/tmp/B9863F2D-673A-40A5-9D48-5C384D397A22/fruitstrap-lldb-prep-cmds-00008027_000C684A0A08402E'\n[        ] Executing commands in '/tmp/B9863F2D-673A-40A5-9D48-5C384D397A22/fruitstrap-lldb-prep-cmds-00008027_000C684A0A08402E'.\n[        ] (lldb)     platform select remote-'ios' --sysroot '/Users/gantushig/Library/Developer/Xcode/iOS DeviceSupport/16.4.1 (20E252) arm64e/Symbols'\n[        ]   Platform: remote-ios\n[        ]  Connected: no\n[        ]    Sysroot: /Users/gantushig/Library/Developer/Xcode/iOS DeviceSupport/16.4.1 (20E252) arm64e/Symbols\n[        ]   SDK Path: \"/Users/gantushig/Library/Developer/Xcode/iOS DeviceSupport/16.4.1 (20E252) arm64e/Symbols\"\n[        ] (lldb)     target create \"/Users/gantushig/projects/soyohon/soyohon_mobile/build/ios/iphoneos/Runner.app\"\n[+6149 ms] Current executable set to '/Users/gantushig/projects/soyohon/soyohon_mobile/build/ios/iphoneos/Runner.app' (arm64).\n[        ] (lldb)     script fruitstrap_device_app=\"/private/var/containers/Bundle/Application/9191066D-06EC-41D9-A945-7BBDAB5CEBA1/Runner.app\"\n[        ] (lldb)     script fruitstrap_connect_url=\"connect://127.0.0.1:59678\"\n[        ] (lldb)     script fruitstrap_output_path=\"\"\n[        ] (lldb)     script fruitstrap_error_path=\"\"\n[        ] (lldb)     target modules search-paths add /usr \"/Users/gantushig/Library/Developer/Xcode/iOS DeviceSupport/16.4.1 (20E252) arm64e/Symbols/usr\"\n/System \"/Users/gantushig/Library/Developer/Xcode/iOS DeviceSupport/16.4.1 (20E252) arm64e/Symbols/System\"\n\"/private/var/containers/Bundle/Application/9191066D-06EC-41D9-A945-7BBDAB5CEBA1\" \"/Users/gantushig/projects/soyohon/soyohon_mobile/build/ios/iphoneos\"\n\"/var/containers/Bundle/Application/9191066D-06EC-41D9-A945-7BBDAB5CEBA1\" \"/Users/gantushig/projects/soyohon/soyohon_mobile/build/ios/iphoneos\" /Developer\n\"/Users/gantushig/Library/Developer/Xcode/iOS DeviceSupport/16.4.1 (20E252) arm64e/Symbols/Developer\"\n[  +34 ms] (lldb)     command script import \"/tmp/B9863F2D-673A-40A5-9D48-5C384D397A22/fruitstrap_00008027_000C684A0A08402E.py\"\n[   +3 ms] (lldb)     command script add -f fruitstrap_00008027_000C684A0A08402E.connect_command connect\n[        ] (lldb)     command script add -s asynchronous -f fruitstrap_00008027_000C684A0A08402E.run_command run\n[        ] (lldb)     command script add -s asynchronous -f fruitstrap_00008027_000C684A0A08402E.autoexit_command autoexit\n[        ] (lldb)     command script add -s asynchronous -f fruitstrap_00008027_000C684A0A08402E.safequit_command safequit\n[        ] (lldb)     connect\n[  +32 ms] (lldb)     run\n[ +198 ms] success\n[        ] Application launched on the device. Waiting for Dart VM Service url.\n[+30005 ms] The Dart VM Service was not discovered after 30 seconds. This is taking much longer than expected...\n[   +8 ms] (lldb) process interrupt\n[        ] error: Failed to halt process: Halt timed out. State = running\n[+2073 ms] (lldb) Process 2598 exited with status = -1 (0xffffffff) lost connection\n[   +3 ms] ios-deploy exited with code 0\n[   +6 ms] Installing and launching... (completed in 56.6s)\n[        ] Error launching application on Gantushig’s iPad.\n[   +2 ms] \"flutter run\" took 96,019ms.\n[   +3 ms] \n           #0      throwToolExit (package:flutter_tools/src/base/common.dart:10:3)\n           #1      RunCommand.runCommand (package:flutter_tools/src/commands/run.dart:757:9)\n           <asynchronous suspension>\n           #2      FlutterCommand.run.<anonymous closure> (package:flutter_tools/src/runner/flutter_command.dart:1336:27)\n           <asynchronous suspension>\n           #3      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n           <asynchronous suspension>\n           #4      CommandRunner.runCommand (package:args/command_runner.dart:212:13)\n           <asynchronous suspension>\n           #5      FlutterCommandRunner.runCommand.<anonymous closure> (package:flutter_tools/src/runner/flutter_command_runner.dart:296:9)\n           <asynchronous suspension>\n           #6      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n           <asynchronous suspension>\n           #7      FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:244:5)\n           <asynchronous suspension>\n           #8      run.<anonymous closure>.<anonymous closure> (package:flutter_tools/runner.dart:91:9)\n           <asynchronous suspension>\n           #9      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n           <asynchronous suspension>\n           #10     main (package:flutter_tools/executable.dart:91:3)\n           <asynchronous suspension>\n           \n           \n[ +259 ms] ensureAnalyticsSent: 253ms\n[        ] Running 1 shutdown hook\n[   +3 ms] Shutdown hooks complete\n[        ] exiting with code 1\n",
            "name: flutter_app\ndescription: Social app.\n\npublish_to: 'none'\n\nversion: 1.0.0+36\n\nenvironment:\n  sdk: '>=3.0.1 <4.0.0'\n\ndependencies:\n  flutter:\n    sdk: flutter\n\n  cupertino_icons: ^1.0.2\n  dio: ^5.0.0\n  rive: ^0.11.1\n  provider: ^6.0.2\n  cookie_jar: ^4.0.2\n  dio_cookie_manager: ^3.0.0\n  path_provider: ^2.0.8\n  flutter_form_builder: ^9.0.0-dev.3\n  form_builder_validators: ^9.0.0-dev.2\n  fluttertoast: ^8.0.9\n  flutter_svg: ^2.0.0+1\n  get_it: ^7.2.0\n  another_flushbar: ^1.10.28\n  flutter_native_splash: ^2.2.9\n  image_picker: ^0.8.3\n  image_cropper: ^3.0.0\n  pinput: ^2.2.7\n  firebase_core: ^2.4.1\n  firebase_messaging: ^14.2.1\n  flutter_local_notifications: ^14.0.0+1\n  socket_io_client: ^2.0.1\n  location: ^4.4.0\n  avatar_glow: ^2.0.2\n  device_info_plus: ^9.0.0\n  carousel_slider: ^4.1.1\n  skeletons: ^0.0.3\n  hive: ^2.2.3\n  hive_flutter: ^1.1.0\n  qr_flutter: ^4.0.0\n  url_launcher: ^6.1.6\n  android_intent_plus: ^4.0.0\n  device_apps: ^2.2.0\n  cached_network_image: ^3.2.2\n  external_app_launcher: ^3.1.0\n  permission_handler: ^10.2.0\n  flutter_cache_manager: ^3.3.0\n  water_drop_nav_bar: ^2.2.0+5\n  connectivity_plus: ^4.0.0\n  font_awesome_flutter: ^10.3.0\n  intl: ^0.18.0\n  freezed_annotation: ^2.2.0\n  json_annotation: ^4.8.0\n  collection: ^1.17.0\n  webview_flutter: ^4.2.0\n  webview_flutter_android: ^3.7.0\n  webview_flutter_wkwebview: ^3.4.3\n\nflutter_native_splash:\n  image: assets/images/logo.png\n  color: '#FA4251'\n\n  android_12:\n    image: assets/images/android_splash_icon.png\n    icon_background_color: '#FA4251'\n    image_dark: assets/images/android_splash_icon.png\n    icon_background_color_dark: '#FA4251'\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  freezed: ^2.3.2\n  flutter_lints: ^2.0.0\n  hive_generator: ^2.0.0\n  build_runner: ^2.3.3\n  json_serializable: ^6.6.1\n\nflutter:\n  uses-material-design: true\n  assets:\n    - assets/rive_models/simple-loader.riv\n    - assets/rive_models/find_user.riv\n    - assets/rive_models/new_file.riv\n    - assets/rive_models/spaceship_pull_refresh.riv\n    - assets/rive_models/\n    - assets/images/christmas_logo.png\n    - assets/images/astrology/\n    - assets/images/svg/back.svg\n    - assets/images/svg/icons/shopping-bag.svg\n    - assets/images/svg/\n    - assets/images/back_image/\n    - assets/images/logo.png\n    - assets/images/membership/\n    - assets/images/android_splash_icon.png\n    - assets/images/mission/icons/\n    - assets/images/mission/\n    - assets/images/\n    - assets/gif/\n\n  fonts:\n    - family: Rubik\n      fonts:\n        - asset: assets/fonts/Rubik/Rubik-Light.ttf\n          style: normal\n          weight: 300\n        - asset: assets/fonts/Rubik/Rubik-LightItalic.ttf\n          style: italic\n          weight: 300\n        - asset: assets/fonts/Rubik/Rubik-Regular.ttf\n          style: normal\n          weight: 400\n        - asset: assets/fonts/Rubik/Rubik-Italic.ttf\n          style: italic\n          weight: 400\n        - asset: assets/fonts/Rubik/Rubik-Medium.ttf\n          style: normal\n          weight: 500\n        - asset: assets/fonts/Rubik/Rubik-MediumItalic.ttf\n          style: italic\n          weight: 500\n        - asset: assets/fonts/Rubik/Rubik-SemiBold.ttf\n          style: normal\n          weight: 600\n        - asset: assets/fonts/Rubik/Rubik-SemiBoldItalic.ttf\n          style: italic\n          weight: 600\n        - asset: assets/fonts/Rubik/Rubik-Bold.ttf\n          style: normal\n          weight: 700\n        - asset: assets/fonts/Rubik/Rubik-BoldItalic.ttf\n          style: italic\n          weight: 700\n        - asset: assets/fonts/Rubik/Rubik-ExtraBold.ttf\n          style: normal\n          weight: 800\n        - asset: assets/fonts/Rubik/Rubik-ExtraBoldItalic.ttf\n          style: italic\n          weight: 800\n        - asset: assets/fonts/Rubik/Rubik-Black.ttf\n          style: normal\n          weight: 900\n        - asset: assets/fonts/Rubik/Rubik-BlackItalic.ttf\n          style: italic\n          weight: 900\n    - family: Roboto\n      fonts:\n        - asset: assets/fonts/Roboto/Roboto-Thin.ttf\n          style: normal\n          weight: 100\n        - asset: assets/fonts/Roboto/Roboto-ThinItalic.ttf\n          style: italic\n          weight: 100\n        - asset: assets/fonts/Roboto/Roboto-Light.ttf\n          style: normal\n          weight: 300\n        - asset: assets/fonts/Roboto/Roboto-LightItalic.ttf\n          style: italic\n          weight: 300\n        - asset: assets/fonts/Roboto/Roboto-Regular.ttf\n          style: normal\n          weight: 400\n        - asset: assets/fonts/Roboto/Roboto-Italic.ttf\n          style: italic\n          weight: 400\n        - asset: assets/fonts/Roboto/Roboto-Medium.ttf\n          style: normal\n          weight: 500\n        - asset: assets/fonts/Roboto/Roboto-MediumItalic.ttf\n          style: italic\n          weight: 500\n        - asset: assets/fonts/Roboto/Roboto-Bold.ttf\n          style: normal\n          weight: 700\n        - asset: assets/fonts/Roboto/Roboto-BoldItalic.ttf\n          style: italic\n          weight: 700\n        - asset: assets/fonts/Roboto/Roboto-Black.ttf\n          style: normal\n          weight: 900\n        - asset: assets/fonts/Roboto/Roboto-BlackItalic.ttf\n          style: italic\n          weight: 900\n    - family: Poppins\n      fonts:\n        - asset: assets/fonts/Poppins/Poppins-Thin.ttf\n          style: normal\n          weight: 100\n        - asset: assets/fonts/Poppins/Poppins-ThinItalic.ttf\n          style: italic\n          weight: 100\n        - asset: assets/fonts/Poppins/Poppins-ExtraLight.ttf\n          style: normal\n          weight: 200\n        - asset: assets/fonts/Poppins/Poppins-ExtraLightItalic.ttf\n          style: italic\n          weight: 200\n        - asset: assets/fonts/Poppins/Poppins-Light.ttf\n          style: normal\n          weight: 300\n        - asset: assets/fonts/Poppins/Poppins-LightItalic.ttf\n          style: italic\n          weight: 300\n        - asset: assets/fonts/Poppins/Poppins-Regular.ttf\n          style: normal\n          weight: 400\n        - asset: assets/fonts/Poppins/Poppins-Italic.ttf\n          style: italic\n          weight: 400\n        - asset: assets/fonts/Poppins/Poppins-Medium.ttf\n          style: normal\n          weight: 500\n        - asset: assets/fonts/Poppins/Poppins-MediumItalic.ttf\n          style: italic\n          weight: 500\n        - asset: assets/fonts/Poppins/Poppins-SemiBold.ttf\n          style: normal\n          weight: 600\n        - asset: assets/fonts/Poppins/Poppins-SemiBoldItalic.ttf\n          style: italic\n          weight: 600\n        - asset: assets/fonts/Poppins/Poppins-Bold.ttf\n          style: normal\n          weight: 700\n        - asset: assets/fonts/Poppins/Poppins-BoldItalic.ttf\n          style: italic\n          weight: 700\n        - asset: assets/fonts/Poppins/Poppins-ExtraBold.ttf\n          style: normal\n          weight: 800\n        - asset: assets/fonts/Poppins/Poppins-ExtraBoldItalic.ttf\n          style: italic\n          weight: 800\n        - asset: assets/fonts/Poppins/Poppins-Black.ttf\n          style: normal\n          weight: 900\n        - asset: assets/fonts/Poppins/Poppins-Black.ttf\n          style: italic\n          weight: 900\n    - family: Inter\n      fonts:\n        - asset: assets/fonts/Inter/Inter-Thin.ttf\n          style: normal\n          weight: 100\n        - asset: assets/fonts/Inter/Inter-ExtraLight.ttf\n          style: normal\n          weight: 200\n        - asset: assets/fonts/Inter/Inter-Light.ttf\n          style: normal\n          weight: 300\n        - asset: assets/fonts/Inter/Inter-Regular.ttf\n          style: normal\n          weight: 400\n        - asset: assets/fonts/Inter/Inter-Medium.ttf\n          style: normal\n          weight: 500\n        - asset: assets/fonts/Inter/Inter-SemiBold.ttf\n          style: normal\n          weight: 600\n        - asset: assets/fonts/Inter/Inter-Bold.ttf\n          style: normal\n          weight: 700\n        - asset: assets/fonts/Inter/Inter-ExtraBold.ttf\n          style: normal\n          weight: 800\n        - asset: assets/fonts/Inter/Inter-Black.ttf\n          style: normal\n          weight: 900\n    - family: Source Sans Pro\n      fonts:\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-ExtraLight.ttf\n          style: normal\n          weight: 200\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-ExtraLightItalic.ttf\n          style: italic\n          weight: 200\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-Light.ttf\n          style: normal\n          weight: 300\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-LightItalic.ttf\n          style: italic\n          weight: 300\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-Regular.ttf\n          style: normal\n          weight: 400\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-Italic.ttf\n          style: italic\n          weight: 400\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-SemiBold.ttf\n          style: normal\n          weight: 600\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-SemiBoldItalic.ttf\n          style: italic\n          weight: 600\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-Bold.ttf\n          style: normal\n          weight: 700\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-BoldItalic.ttf\n          style: italic\n          weight: 700\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-Black.ttf\n          style: normal\n          weight: 900\n        - asset: assets/fonts/Source_Sans_Pro/SourceSansPro-BlackItalic.ttf\n          style: italic\n          weight: 900\n"
        ]
    },
    {
        "titulo": "I got an error on my project after updating flutter",
        "score": 0,
        "views": 698,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76338140/i-got-an-error-on-my-project-after-updating-flutter",
        "conteudo_html": "<p>I have explicitly added firebase_core_platform_interface to pubspec.yaml but still not working</p>\n<p>this is the error message</p>\n<pre><code>: Error: Member not found: 'FirebaseAppPlatform.verifyExtends'.\nfirebase_app.dart:18\n    FirebaseAppPlatform.verifyExtends(_delegate);\n                        ^^^^^^^^^^^^^\n: Error: The method 'FallThroughError' isn't defined for the class 'ActionCodeInfo'.\naction_code_info.dart:64\n- 'ActionCodeInfo' is from 'package:firebase_auth_platform_interface/src/action_code_info.dart' ('../../.pub-cache/hosted/pub.dev/firebase_auth_platform_interface-4.3.1/lib/src/action_code_info.dart').\naction_code_info.dart:1\nTry correcting the name to the name of an existing method, or defining a method named 'FallThroughError'.\n        throw FallThroughError();\n              ^^^^^^^^^^^^^^^^\n: Error: Method not found: 'FallThroughError'.\nload_bundle_task_state.dart:13\n</code></pre>\n<p>on its pubspec. lock</p>\n<pre><code>firebase_core_platform_interface:\n    dependency: &quot;direct main&quot;\n    description:\n      name: firebase_core_platform_interface\n      sha256: b63e3be6c96ef5c33bdec1aab23c91eb00696f6452f0519401d640938c94cba2\n      url: &quot;https://pub.dev&quot;\n    source: hosted\n    version: &quot;4.8.0&quot;\n</code></pre>\n<p>Help me to be able to run my previous project</p>\n",
        "codigo": [
            ": Error: Member not found: 'FirebaseAppPlatform.verifyExtends'.\nfirebase_app.dart:18\n    FirebaseAppPlatform.verifyExtends(_delegate);\n                        ^^^^^^^^^^^^^\n: Error: The method 'FallThroughError' isn't defined for the class 'ActionCodeInfo'.\naction_code_info.dart:64\n- 'ActionCodeInfo' is from 'package:firebase_auth_platform_interface/src/action_code_info.dart' ('../../.pub-cache/hosted/pub.dev/firebase_auth_platform_interface-4.3.1/lib/src/action_code_info.dart').\naction_code_info.dart:1\nTry correcting the name to the name of an existing method, or defining a method named 'FallThroughError'.\n        throw FallThroughError();\n              ^^^^^^^^^^^^^^^^\n: Error: Method not found: 'FallThroughError'.\nload_bundle_task_state.dart:13\n",
            "firebase_core_platform_interface:\n    dependency: \"direct main\"\n    description:\n      name: firebase_core_platform_interface\n      sha256: b63e3be6c96ef5c33bdec1aab23c91eb00696f6452f0519401d640938c94cba2\n      url: \"https://pub.dev\"\n    source: hosted\n    version: \"4.8.0\"\n"
        ]
    },
    {
        "titulo": "My flutter app crashes and closes when i use listview.builder to display a large list of images",
        "score": 0,
        "views": 194,
        "respostas": 0,
        "tags": [
            "flutter",
            "performance",
            "dart",
            "memory",
            "memory-leaks"
        ],
        "link": "https://stackoverflow.com/questions/76314986/my-flutter-app-crashes-and-closes-when-i-use-listview-builder-to-display-a-large",
        "conteudo_html": "<p>I want to create an application that displays 604 images of 165kb (96MB total image size) in a listview.builder, but as soon as I launch the application, the application crashes and closes, but when I reduce the number of images and I just display 200 the application works and I can scroll but over time it also crashes and closes, here is the code I use:</p>\n<p>Public Repo : <a href=\"https://github.com/youcefdoukhi/mushaf_hafs\" rel=\"nofollow noreferrer\">https://github.com/youcefdoukhi/mushaf_hafs</a></p>\n<pre><code>main() {\n  runApp(\n    const Test(),\n  );\n}\n\nclass Test extends StatelessWidget {\n  const Test({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        body: SafeArea(\n          child: ListView.builder(\n            itemCount: 200,\n            itemBuilder: (context, index) {\n              String pageNum = &quot;&quot;;\n\n              if ((index + 1) &lt; 10) {\n                pageNum = &quot;00${index + 1}&quot;;\n              } else if ((index + 1) &lt; 100 &amp;&amp; (index + 1) &gt; 9) {\n                pageNum = &quot;0${index + 1}&quot;;\n              } else {\n                pageNum = &quot;${index + 1}&quot;;\n              }\n              return Image(\n                image: AssetImage('images/mushaf_photos_2/page$pageNum.png'),\n                fit: BoxFit.fill,\n              );\n            },\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>I tried to use the ResizeImage class to reduce the size of the images but the problem persists, I also have the addAutomaticKeepAlives and shrinkwrap options but without result</p>\n<p><a href=\"https://i.sstatic.net/Sw2h4.jpg\" rel=\"nofollow noreferrer\">Image : Memory </a></p>\n",
        "codigo": [
            "main() {\n  runApp(\n    const Test(),\n  );\n}\n\nclass Test extends StatelessWidget {\n  const Test({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        body: SafeArea(\n          child: ListView.builder(\n            itemCount: 200,\n            itemBuilder: (context, index) {\n              String pageNum = \"\";\n\n              if ((index + 1) < 10) {\n                pageNum = \"00${index + 1}\";\n              } else if ((index + 1) < 100 && (index + 1) > 9) {\n                pageNum = \"0${index + 1}\";\n              } else {\n                pageNum = \"${index + 1}\";\n              }\n              return Image(\n                image: AssetImage('images/mushaf_photos_2/page$pageNum.png'),\n                fit: BoxFit.fill,\n              );\n            },\n          ),\n        ),\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Asynchronous Notifier initialization will cause error &quot;asynchronous gap&quot; in unit testing",
        "score": 1,
        "views": 76,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "riverpod",
            "dart-test"
        ],
        "link": "https://stackoverflow.com/questions/76304224/asynchronous-notifier-initialization-will-cause-error-asynchronous-gap-in-unit",
        "conteudo_html": "<p>Describe the bug\nI have a StateNotifierProvider which is (cardOnboardingProvider), that holds CardTypesState. when I initialize this provider in the constructor function, I make an API call, and on &quot;.then( () =&gt; {})&quot; I set the state of that provider.\nWhen I want to test it. There is another provider (onboardingProvider) and trigger this provider and make it initialize.\nAfter running the test, it shows an error and says this\n<code>===== asynchronous gap ===========================</code></p>\n<p>And also :\n<code>MissingStubError: 'getCardTypesList' No stub was found which matches the arguments of this method call: getCardTypesList('', {isMock: true})</code>\nwhich is not an issue because I've removed the asynchronous API call from to provider and I saw this one resolved as well.</p>\n<p>This works fine for me in the app. It's just the testing that shows an error.</p>\n<p>To Reproduce</p>\n<p>** Provider **</p>\n<pre><code>@freezed\nclass CardTypesState with _$CardTypesState {\n  const factory CardTypesState.idle() = _CardTypesIdle;\n\n  const factory CardTypesState.showError() = _CardTypeShowError;\n\n  const factory CardTypesState.loading() = _CardTypesLoading;\n\n  const factory CardTypesState.showCardList({required List&lt;CardTypesModel&gt; cardList}) = _CardTypeShowCardList;\n}\n\nfinal cardOnboardingProvider = StateNotifierProvider&lt;CardOnboardingNotifier, CardTypesState&gt;((ref) {\n  return CardOnboardingNotifier(ref: ref, filteringApiCalls: ref.watch(cardTypesListApiCallsProvider));\n});\n\nclass CardOnboardingNotifier extends StateNotifier&lt;CardTypesState&gt; {\n  Ref ref;\n  final CardTypeListApiCalls filteringApiCalls;\n\n  CardOnboardingNotifier({required this.ref, required this.filteringApiCalls}) : super(CardTypesState.loading()) {\n    getListTypes();\n  }\n\n  void getListTypes() {\n    state = CardTypesState.loading();\n    filteringApiCalls.getCardTypesList().then((value) {\n      state = CardTypesState.showCardList(cardList: value);\n    });\n  }\n}\n\n</code></pre>\n<p>** Test file **</p>\n<pre><code>Future&lt;List&lt;ListTypeResponse&gt;&gt; listTypesMockFromFile() {\n  final listTypeResponse = File('sample/sample/sample/sample.json').readAsStringSync();\n  final listTypeJson = json.decode(listTypeResponse);\n  final List&lt;ListTypeResponse&gt; listTypes =\n  listTypeJson.map&lt;ListTypeResponse&gt;((i) =&gt; ListTypeResponse.fromJson(i as Map&lt;String, dynamic&gt;)).toList();\n  return Future.value(listTypes);\n}\n\n@GenerateMocks([FacadeStoreService, FacadeHttpRestClient])\nvoid main() {\n  group(&quot;Group test&quot;, () {\n    final happyPath = ProviderContainer(\n      overrides: [\n        storeProvider.overrideWith((ref) =&gt; MockFacadeStoreService()),\n        httpClientProvider.overrideWith((ref) =&gt; MockFacadeHttpRestClient()),\n      ],\n    );\n\n    test(&quot;Initial value&quot;, () async {\n      /// Check onboardingProvider state\n      expect(happyPath.read(onboardingProvider), OnboardingState.showVehicleType(isNextAvailable: false));\n      expect(happyPath.read(onboardingProvider.notifier).pageIndex, 0);\n\n      // ATTENTION : the above provider(onboardingProvider) is triggering (cardOnboardingProvider) which is\n      // The provider that makes the asynchronous API call.\n\n      /// Check CardOnboardingProvider state\n      final Future&lt;List&lt;ListTypeResponse&gt;&gt; futureListTypes = listTypesMockFromFile();\n      when(happyPath.read(httpClientProvider).getCardTypesList(&quot;&quot;, {&quot;isMock&quot;: &quot;true&quot;})).thenAnswer((_) =&gt; futureListTypes);\n      expect(happyPath.read(httpClientProvider).getCardTypesList(&quot;&quot;, {&quot;isMock&quot;: &quot;true&quot;}), same(futureListTypes));\n    });\n  });\n}\n\n</code></pre>\n<p>Expected behavior\nWe need to make an API call and set the value on the initialization of the provider.\nHow come it can't just initiate the provider and then change the value after the asynchronous function?</p>\n",
        "codigo": [
            "===== asynchronous gap ===========================",
            "MissingStubError: 'getCardTypesList' No stub was found which matches the arguments of this method call: getCardTypesList('', {isMock: true})",
            "@freezed\nclass CardTypesState with _$CardTypesState {\n  const factory CardTypesState.idle() = _CardTypesIdle;\n\n  const factory CardTypesState.showError() = _CardTypeShowError;\n\n  const factory CardTypesState.loading() = _CardTypesLoading;\n\n  const factory CardTypesState.showCardList({required List<CardTypesModel> cardList}) = _CardTypeShowCardList;\n}\n\nfinal cardOnboardingProvider = StateNotifierProvider<CardOnboardingNotifier, CardTypesState>((ref) {\n  return CardOnboardingNotifier(ref: ref, filteringApiCalls: ref.watch(cardTypesListApiCallsProvider));\n});\n\nclass CardOnboardingNotifier extends StateNotifier<CardTypesState> {\n  Ref ref;\n  final CardTypeListApiCalls filteringApiCalls;\n\n  CardOnboardingNotifier({required this.ref, required this.filteringApiCalls}) : super(CardTypesState.loading()) {\n    getListTypes();\n  }\n\n  void getListTypes() {\n    state = CardTypesState.loading();\n    filteringApiCalls.getCardTypesList().then((value) {\n      state = CardTypesState.showCardList(cardList: value);\n    });\n  }\n}\n\n",
            "Future<List<ListTypeResponse>> listTypesMockFromFile() {\n  final listTypeResponse = File('sample/sample/sample/sample.json').readAsStringSync();\n  final listTypeJson = json.decode(listTypeResponse);\n  final List<ListTypeResponse> listTypes =\n  listTypeJson.map<ListTypeResponse>((i) => ListTypeResponse.fromJson(i as Map<String, dynamic>)).toList();\n  return Future.value(listTypes);\n}\n\n@GenerateMocks([FacadeStoreService, FacadeHttpRestClient])\nvoid main() {\n  group(\"Group test\", () {\n    final happyPath = ProviderContainer(\n      overrides: [\n        storeProvider.overrideWith((ref) => MockFacadeStoreService()),\n        httpClientProvider.overrideWith((ref) => MockFacadeHttpRestClient()),\n      ],\n    );\n\n    test(\"Initial value\", () async {\n      /// Check onboardingProvider state\n      expect(happyPath.read(onboardingProvider), OnboardingState.showVehicleType(isNextAvailable: false));\n      expect(happyPath.read(onboardingProvider.notifier).pageIndex, 0);\n\n      // ATTENTION : the above provider(onboardingProvider) is triggering (cardOnboardingProvider) which is\n      // The provider that makes the asynchronous API call.\n\n      /// Check CardOnboardingProvider state\n      final Future<List<ListTypeResponse>> futureListTypes = listTypesMockFromFile();\n      when(happyPath.read(httpClientProvider).getCardTypesList(\"\", {\"isMock\": \"true\"})).thenAnswer((_) => futureListTypes);\n      expect(happyPath.read(httpClientProvider).getCardTypesList(\"\", {\"isMock\": \"true\"}), same(futureListTypes));\n    });\n  });\n}\n\n"
        ]
    },
    {
        "titulo": "_TypeError (type &#39;(dynamic) =&gt; User&#39; is not a subtype of type &#39;(String, dynamic) =&gt; MapEntry&lt;dynamic, dynamic&gt;&#39; of &#39;transform&#39;)",
        "score": 0,
        "views": 234,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "http"
        ],
        "link": "https://stackoverflow.com/questions/76299986/typeerror-type-dynamic-user-is-not-a-subtype-of-type-string-dynamic",
        "conteudo_html": "<p>I'm new to Flutter and following the tutorial <a href=\"https://www.youtube.com/watch?v=jpLa3NjWqs0\" rel=\"nofollow noreferrer\">link</a>. and I get the TypeError, here I have used <code>http</code> library to fetch the data that I have created using node express.</p>\n<p>if I use fake API from jsonplaceholder it works but get an error in my own API why?</p>\n<p>user model</p>\n<pre><code>import 'dart:convert';\n\nList&lt;User&gt; userFromJson(String str) =&gt;\n    List&lt;User&gt;.from(json.decode(str).map((x) =&gt; User.fromJson(x)));\n\nString userToJson(List&lt;User&gt; data) =&gt;\n    json.encode(List&lt;dynamic&gt;.from(data.map((x) =&gt; x.toJson())));\n\nclass User {\n  int index;\n  int id;\n  String firstName;\n  String lastName;\n  String phone;\n  String email;\n\n  User({\n    required this.index,\n    required this.id,\n    required this.firstName,\n    required this.lastName,\n    required this.phone,\n    required this.email,\n  });\n\n  factory User.fromJson(Map&lt;String, dynamic&gt; json) =&gt; User(\n        index: json[&quot;index&quot;],\n        id: json[&quot;id&quot;],\n        firstName: json[&quot;first_name&quot;],\n        lastName: json[&quot;last_name&quot;],\n        phone: json[&quot;phone&quot;],\n        email: json[&quot;email&quot;],\n      );\n\n  Map&lt;String, dynamic&gt; toJson() =&gt; {\n        &quot;index&quot;: index,\n        &quot;id&quot;: id,\n        &quot;first_name&quot;: firstName,\n        &quot;last_name&quot;: lastName,\n        &quot;phone&quot;: phone,\n        &quot;email&quot;: email,\n      };\n}\n\n</code></pre>\n<p>HTTP get method</p>\n<pre><code>import 'package:http/http.dart' as http;\n\nconst String baseUrl = &quot;http://192.168.166.153:5000/api/user&quot;;\n\nclass BaseClient {\n  var client = http.Client();\n  Future&lt;dynamic&gt; get(String api) async {\n    var url = Uri.parse(baseUrl + api);\n    var headers = {\n      &quot;autherization&quot;:\n          &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNzZ2dAbW0uaW4iLCJpYXQiOjE2ODQ2NzEwMDEsImV4cCI6MTY4NDcyNTAwMX0.lTIIgHi7129dxvoI83sN82r5sHG88E8RGL2nsEimD1I&quot;,\n    };\n\n    var response = await client.get(url, headers: headers);\n    if (response.statusCode == 200) {\n      return response.body;\n    } else {\n      // else part\n    }\n  }\n}\n</code></pre>\n<p>Error occurs at <a href=\"https://i.sstatic.net/uaqpY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/uaqpY.png\" alt=\"image\" /></a></p>\n<p>response received form REST API</p>\n<pre><code>{\n    &quot;responseCode&quot;: 200,\n    &quot;responseMessage&quot;: &quot;Everything worked as expected&quot;,\n    &quot;responseData&quot;: [\n        {\n            &quot;index&quot;: 2,\n            &quot;id&quot;: 1,\n            &quot;first_name&quot;: &quot;oggy&quot;,\n            &quot;last_name&quot;: &quot;ss&quot;,\n            &quot;phone&quot;: &quot;1234567890&quot;,\n            &quot;email&quot;: &quot;ss@ss.in&quot;\n        },\n        {\n            &quot;index&quot;: 3,\n            &quot;id&quot;: 2,\n            &quot;first_name&quot;: &quot;olly&quot;,\n            &quot;last_name&quot;: &quot;ss&quot;,\n            &quot;phone&quot;: &quot;1234567899&quot;,\n            &quot;email&quot;: &quot;gg@gg.in&quot;\n        },\n        {\n            &quot;index&quot;: 4,\n            &quot;id&quot;: 3,\n            &quot;first_name&quot;: &quot;jack&quot;,\n            &quot;last_name&quot;: &quot;jj&quot;,\n            &quot;phone&quot;: &quot;1234567898&quot;,\n            &quot;email&quot;: &quot;jj@jj.in&quot;\n        }\n    ]\n}\n</code></pre>\n",
        "codigo": [
            "http",
            "import 'dart:convert';\n\nList<User> userFromJson(String str) =>\n    List<User>.from(json.decode(str).map((x) => User.fromJson(x)));\n\nString userToJson(List<User> data) =>\n    json.encode(List<dynamic>.from(data.map((x) => x.toJson())));\n\nclass User {\n  int index;\n  int id;\n  String firstName;\n  String lastName;\n  String phone;\n  String email;\n\n  User({\n    required this.index,\n    required this.id,\n    required this.firstName,\n    required this.lastName,\n    required this.phone,\n    required this.email,\n  });\n\n  factory User.fromJson(Map<String, dynamic> json) => User(\n        index: json[\"index\"],\n        id: json[\"id\"],\n        firstName: json[\"first_name\"],\n        lastName: json[\"last_name\"],\n        phone: json[\"phone\"],\n        email: json[\"email\"],\n      );\n\n  Map<String, dynamic> toJson() => {\n        \"index\": index,\n        \"id\": id,\n        \"first_name\": firstName,\n        \"last_name\": lastName,\n        \"phone\": phone,\n        \"email\": email,\n      };\n}\n\n",
            "import 'package:http/http.dart' as http;\n\nconst String baseUrl = \"http://192.168.166.153:5000/api/user\";\n\nclass BaseClient {\n  var client = http.Client();\n  Future<dynamic> get(String api) async {\n    var url = Uri.parse(baseUrl + api);\n    var headers = {\n      \"autherization\":\n          \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNzZ2dAbW0uaW4iLCJpYXQiOjE2ODQ2NzEwMDEsImV4cCI6MTY4NDcyNTAwMX0.lTIIgHi7129dxvoI83sN82r5sHG88E8RGL2nsEimD1I\",\n    };\n\n    var response = await client.get(url, headers: headers);\n    if (response.statusCode == 200) {\n      return response.body;\n    } else {\n      // else part\n    }\n  }\n}\n",
            "{\n    \"responseCode\": 200,\n    \"responseMessage\": \"Everything worked as expected\",\n    \"responseData\": [\n        {\n            \"index\": 2,\n            \"id\": 1,\n            \"first_name\": \"oggy\",\n            \"last_name\": \"ss\",\n            \"phone\": \"1234567890\",\n            \"email\": \"ss@ss.in\"\n        },\n        {\n            \"index\": 3,\n            \"id\": 2,\n            \"first_name\": \"olly\",\n            \"last_name\": \"ss\",\n            \"phone\": \"1234567899\",\n            \"email\": \"gg@gg.in\"\n        },\n        {\n            \"index\": 4,\n            \"id\": 3,\n            \"first_name\": \"jack\",\n            \"last_name\": \"jj\",\n            \"phone\": \"1234567898\",\n            \"email\": \"jj@jj.in\"\n        }\n    ]\n}\n"
        ]
    },
    {
        "titulo": "Flutter: Images not filling the entire Card widget",
        "score": 0,
        "views": 54,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-card"
        ],
        "link": "https://stackoverflow.com/questions/76295284/flutter-images-not-filling-the-entire-card-widget",
        "conteudo_html": "<p>I'm currently working on a Flutter project where I load images from a network into a Card widget. However, I'm facing an issue where the images are not filling the entire Card, leaving a significant amount of white space on the sides. This happens even when I set the fit property to BoxFit.cover or BoxFit.contain.</p>\n<p>Here's a snippet of my code:</p>\n<pre><code> return Card(\n  elevation: 5,\n  clipBehavior: Clip.antiAlias,\n  child: Stack(\n    children: [\n      Center(\n        child: Image.network(\n          _imageUrls[index - 1]['url'] ?? '',\n          fit: BoxFit.cover,\n          loadingBuilder: (BuildContext context, Widget child, ImageChunkEvent? loadingProgress) {\n            if (loadingProgress == null) return child;\n            return Center(\n              child: CircularProgressIndicator(\n                value: loadingProgress.expectedTotalBytes != null\n                  ? loadingProgress.cumulativeBytesLoaded / loadingProgress.expectedTotalBytes!\n                  : null,\n              ),\n            );\n          },\n        ),\n      ),\n      Positioned(\n        right: 5.0,\n        top: 5.0,\n        child: Icon(Icons.more_horiz, color: Colors.black, size: 30),\n      ),\n    ],\n  ),\n);\n</code></pre>\n",
        "codigo": [
            " return Card(\n  elevation: 5,\n  clipBehavior: Clip.antiAlias,\n  child: Stack(\n    children: [\n      Center(\n        child: Image.network(\n          _imageUrls[index - 1]['url'] ?? '',\n          fit: BoxFit.cover,\n          loadingBuilder: (BuildContext context, Widget child, ImageChunkEvent? loadingProgress) {\n            if (loadingProgress == null) return child;\n            return Center(\n              child: CircularProgressIndicator(\n                value: loadingProgress.expectedTotalBytes != null\n                  ? loadingProgress.cumulativeBytesLoaded / loadingProgress.expectedTotalBytes!\n                  : null,\n              ),\n            );\n          },\n        ),\n      ),\n      Positioned(\n        right: 5.0,\n        top: 5.0,\n        child: Icon(Icons.more_horiz, color: Colors.black, size: 30),\n      ),\n    ],\n  ),\n);\n"
        ]
    },
    {
        "titulo": "Flutter video_player - passing video file as parameter without errors",
        "score": 1,
        "views": 892,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "flutter-dependencies",
            "flutter-video-player"
        ],
        "link": "https://stackoverflow.com/questions/76288811/flutter-video-player-passing-video-file-as-parameter-without-errors",
        "conteudo_html": "<p>I'm attempting to create a page in my app which renders a video background, using <a href=\"https://pub.dev/packages/video_player\" rel=\"nofollow noreferrer\">video_player</a>. I want to pass a video file into my video player widget, and I have followed the docs and <a href=\"https://medium.com/@aakashjangidme/how-to-make-a-video-player-in-flutter-fe66fb5ea0c5\" rel=\"nofollow noreferrer\">this article for passing in a value</a>, but I still have the following issues:</p>\n<ol>\n<li>If I follow the article where I call <code>VideoPlayer(_controller)</code> at the bottom of <strong>video_player.dart</strong>, I get the error that <strong>video is required</strong> so I must include it</li>\n<li>If I include video as <code>VideoPlayer(_controller, video:widget.video)</code> , then I get <code>Too many positional arguments: 0 expected, but 1 found.</code>  over _controller.</li>\n<li>If I leave out _controller, then it doesn't get initialised and the app fails.</li>\n<li>I can't remove required from video, otherwise it throws <code>The parameter 'video' can't have a value of 'null' because of its type, but the implicit default value is 'null'.</code></li>\n</ol>\n<p>How can I correctly pass video_player a file without all these errors throwing?</p>\n<p>Here are my two files</p>\n<p><strong>video_player.dart</strong></p>\n<pre><code>import 'dart:io';\n\nimport 'package:flutter/material.dart';\nimport 'package:video_player/video_player.dart';\n\nclass VideoPlayer extends StatefulWidget {\n  final File video;\n\n  VideoPlayer({\n    super.key, \n    required this.video\n  });\n\n  @override\n  _VideoPlayerState createState() =&gt; _VideoPlayerState();\n}\n\nclass _VideoPlayerState extends State&lt;VideoPlayer&gt; {\n  late VideoPlayerController _controller;\n\n  @override\n  void initState() {\n    super.initState();\n\n    _controller = VideoPlayerController.file(widget.video);\n\n    _controller.addListener(() {\n      setState(() {});\n    });\n    _controller.setLooping(true);\n    _controller.initialize().then((_) =&gt; setState(() {}));\n    _controller.play();\n  }\n\n  @override\n  void dispose() {\n    super.dispose();\n    _controller.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return FittedBox(\n      fit: BoxFit.fill,\n        child: _controller.value.isInitialized \n        ? SizedBox(\n          width: _controller.value.size.width,\n          height: _controller.value.size.height,\n          // The problem child\n          child: VideoPlayer(_controller, video:widget.video)) \n        : Container(),\n    );\n  }\n}\n</code></pre>\n<p><strong>page.dart</strong></p>\n<pre><code>class MyPage extends StatelessWidget {\n  const MyPage({super.key, required this.file});\n\n  final File file;\n\n  @override\n  Widget build(BuildContext context) {\n    return Stack(\n          fit: StackFit.expand, \n          children: [\n            VideoPlayer(video:File(file)),\n            PageContent(),\n        ]);\n  }\n}\n</code></pre>\n",
        "codigo": [
            "VideoPlayer(_controller)",
            "VideoPlayer(_controller, video:widget.video)",
            "Too many positional arguments: 0 expected, but 1 found.",
            "The parameter 'video' can't have a value of 'null' because of its type, but the implicit default value is 'null'.",
            "import 'dart:io';\n\nimport 'package:flutter/material.dart';\nimport 'package:video_player/video_player.dart';\n\nclass VideoPlayer extends StatefulWidget {\n  final File video;\n\n  VideoPlayer({\n    super.key, \n    required this.video\n  });\n\n  @override\n  _VideoPlayerState createState() => _VideoPlayerState();\n}\n\nclass _VideoPlayerState extends State<VideoPlayer> {\n  late VideoPlayerController _controller;\n\n  @override\n  void initState() {\n    super.initState();\n\n    _controller = VideoPlayerController.file(widget.video);\n\n    _controller.addListener(() {\n      setState(() {});\n    });\n    _controller.setLooping(true);\n    _controller.initialize().then((_) => setState(() {}));\n    _controller.play();\n  }\n\n  @override\n  void dispose() {\n    super.dispose();\n    _controller.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return FittedBox(\n      fit: BoxFit.fill,\n        child: _controller.value.isInitialized \n        ? SizedBox(\n          width: _controller.value.size.width,\n          height: _controller.value.size.height,\n          // The problem child\n          child: VideoPlayer(_controller, video:widget.video)) \n        : Container(),\n    );\n  }\n}\n",
            "class MyPage extends StatelessWidget {\n  const MyPage({super.key, required this.file});\n\n  final File file;\n\n  @override\n  Widget build(BuildContext context) {\n    return Stack(\n          fit: StackFit.expand, \n          children: [\n            VideoPlayer(video:File(file)),\n            PageContent(),\n        ]);\n  }\n}\n"
        ]
    },
    {
        "titulo": "How to catch an error coming from a in flutter widget test?",
        "score": 1,
        "views": 209,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76270275/how-to-catch-an-error-coming-from-a-in-flutter-widget-test",
        "conteudo_html": "<p>Here's a simple testwidget that reproduces the problem in a very simple way (thanks to Remi Rousselet for the simplification of the problem).</p>\n<pre><code>`void main() {\n  testWidgets('MyApp Widget Test', ((WidgetTester tester) async {\n    await tester.pumpWidget(MultiProvider(\n      providers: [\n        ChangeNotifierProvider(\n          create: (_) =&gt; MovieViewModel(),\n        ),\n        ChangeNotifierProvider(\n          create: (_) =&gt; PersonViewModel(),\n        ),\n      ],\n      child: const MaterialApp(\n        home: MovieScreen(),\n      ),\n    ));\n\n    expect(find.text('Movie Screen'), findsOneWidget);\n  }));\n}`\n\n</code></pre>\n<pre><code>══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════\nThe following message was thrown:\nMultiple exceptions (2) were detected during the running of the current test, and at least one was\nunexpected.════════════════════════════════════════════════════════════════════════════════════════════════════\n</code></pre>\n",
        "codigo": [
            "`void main() {\n  testWidgets('MyApp Widget Test', ((WidgetTester tester) async {\n    await tester.pumpWidget(MultiProvider(\n      providers: [\n        ChangeNotifierProvider(\n          create: (_) => MovieViewModel(),\n        ),\n        ChangeNotifierProvider(\n          create: (_) => PersonViewModel(),\n        ),\n      ],\n      child: const MaterialApp(\n        home: MovieScreen(),\n      ),\n    ));\n\n    expect(find.text('Movie Screen'), findsOneWidget);\n  }));\n}`\n\n",
            "══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════\nThe following message was thrown:\nMultiple exceptions (2) were detected during the running of the current test, and at least one was\nunexpected.════════════════════════════════════════════════════════════════════════════════════════════════════\n"
        ]
    },
    {
        "titulo": "Streaming endless custom audio bytes in dart",
        "score": 0,
        "views": 871,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "asynchronous",
            "audio",
            "just-audio"
        ],
        "link": "https://stackoverflow.com/questions/76256797/streaming-endless-custom-audio-bytes-in-dart",
        "conteudo_html": "<p>Using the just_audio API on Windows 10 building a windows app, I'm trying to create a <code>StreamAudioSource</code> that streams audio as 16bit PCM wav from a synthesizer running via dart:ffi (in this case, just a basic oscillator). Full code in <a href=\"https://github.com/t2techno/flutter_faust_ffi\" rel=\"nofollow noreferrer\">repo</a>.</p>\n<p>TLDR: My class extends <code>StreamAudioSource</code>, the stream parameter for the <code>StreamAudioResponse</code> in the overridden <code>StreamAudioSource.request()</code> method is given a <code>Stream.periodic()</code> object. When playing the <code>audioPlayer</code> that consumes my custom <code>StreamAudioSource</code>, I receive the following exception:</p>\n<pre><code>&quot;HttpException: Content size exceeds specified contentLength. 1088 bytes written while expected 544.&quot;\n</code></pre>\n<p>I have confirmed that my wav header is working properly and that I can write a playable <code>.wav</code> file.</p>\n<p>Some relevant constants: <code>_sampleRate: 48000, _bufferSize=125, _bitRate=16, _numChannels=2</code>.<br/>\nMy Stream of audio, when listened to, is producing data in batches of 544 Bytes (125samples * 2channels * 2Bytes + 44Byte header) as expected. Which makes the exception of exactly double suspicious.</p>\n<p>My synth class, which interfaces with the C API and produces the actual audio bytes as a Uint8List, extends the <code>StreamAudioSource</code>. I am creating and keeping references to a <code>Stream.periodic()</code> stream  and it's <code>streamSubscription</code>:</p>\n<pre><code>void initializeStream(){\n    _synthStream = Stream&lt;Uint8List&gt;.periodic(_tick, \n        (count) =&gt; _waveFile.headerWithData(compute())\n    ).asBroadcastStream();\n\n    // pause the stream until we need it\n    // when I print data.length in listener, it is 544Bytes as expected\n    _streamSub = _synthStream.listen((data)=&gt;{})..pause();\n}\n\n// isPcm == true\nUint8List compute() {\n    _impl.computemydsp(_mydsp, _bufferSize, _inputBuffer, _buffer);\n    return _isPcm ? interleavedIntBytes : interleavedFloatBytes;\n}\n// should run about 48000/125 = 384 times per second\n_tick = Duration(microseconds:(1000000*bufferSize)~/_sampleRate);\n\nUint8List get interleavedIntBytes {\n    Float32List left  = leftFloats;\n    Float32List right = rightFloats;\n    for(var i=0; i&lt;_bufferSize; i++){\n        _bb..add(int16bytes((left[i]* signedInt16Max).toInt()))\n           ..add(int16bytes((right[i]*signedInt16Max).toInt()));\n    }\n    return _bb.takeBytes();\n}\n\n// _buffer = Pointer&lt;Pointer&lt;Float&gt;&gt;\nFloat32List get leftFloats  =&gt; _buffer[0].asTypedList(_bufferSize);\nFloat32List get rightFloats =&gt; _buffer[1].asTypedList(_bufferSize);\n\nUint8List int16bytes(int v) =&gt; Uint8List(2)..buffer.asInt16List()[0] = v\n</code></pre>\n<p>I'm using the <code>_synthStream</code> as the parameter in the <code>StreamAudioResponse</code> object returned from the overridden <code>StreamAudioSource.request()</code> method:</p>\n<pre><code>@override\nFuture&lt;StreamAudioResponse&gt; request([int? start, int? end]) async {\n    print('request');\n    _streamSub.resume();\n\n    start ??= 0;\n    end ??= _batchByteSize;\n    print('end: $end');\n    return StreamAudioResponse(\n        sourceLength: 10000000,\n        contentLength: end - start,\n        offset: start,\n        stream: _synthStream,\n        contentType: 'audio/wave',\n    );\n}\n</code></pre>\n<p>Note: The <code>sourceLength</code> was set to an arbitrarily large number while I tried to get the stream to work. If I naively increase the <code>contentLength</code> to 1088, <code>_batchByteSize*2</code>, then the exceeded size becomes 1632, which is again, one batch larger than what I specified.</p>\n<p>This seems like it would either be an issue with my use of streams or the way I am providing it to the <code>StreamAudioResponse</code>. Because the player is receiving a larger amount of data than I specify, I imagine my problem has to do with where I add my wave header to the audio stream, and how I can get the content size for the stream to be used in the <code>StreamAudioResponse</code> object.</p>\n<p>WaveFile:</p>\n<pre><code>Uint8List headerWithData(Uint8List data){\n    // ToDo: poor error handling\n    if (_header.lengthInBytes == 0){\n        print('need to initialize header first');\n        return data;\n    }\n\n    if(_subchunk2Size == data.length){\n        // BytesBuilder\n        _output..add(headerBytes)..add(data);\n        return _output.takeBytes();\n    }\n    \n    _subchunk2Size = data.length;\n    updateNBytesForOffset(4, fourBytes(_subchunk2Size), _subchunk2SizeOffset);\n\n    _chunkSize = (_wavHeaderSize-8) + _subchunk2Size;\n    updateNBytesForOffset(4, fourBytes(_chunkSize), _chunkSizeOffset);\n    _output..add(headerBytes)..add(data);\n    return _output.takeBytes();\n}\n\nvoid updateNBytesForOffset(int n, Uint8List bytes, int offset){\n    for(int i=0; i&lt;n; i++){\n        offset+=i;\n        _header.setUint8(offset, bytes[i]);\n    }\n}\n\nUint8List fourBytes(int v) =&gt; Uint8List(4)..buffer.asByteData().setInt32(0,v,Endian.little);\n</code></pre>\n",
        "codigo": [
            "StreamAudioSource",
            "StreamAudioSource",
            "StreamAudioResponse",
            "StreamAudioSource.request()",
            "Stream.periodic()",
            "audioPlayer",
            "StreamAudioSource",
            "\"HttpException: Content size exceeds specified contentLength. 1088 bytes written while expected 544.\"\n",
            ".wav",
            "_sampleRate: 48000, _bufferSize=125, _bitRate=16, _numChannels=2",
            "StreamAudioSource",
            "Stream.periodic()",
            "streamSubscription",
            "void initializeStream(){\n    _synthStream = Stream<Uint8List>.periodic(_tick, \n        (count) => _waveFile.headerWithData(compute())\n    ).asBroadcastStream();\n\n    // pause the stream until we need it\n    // when I print data.length in listener, it is 544Bytes as expected\n    _streamSub = _synthStream.listen((data)=>{})..pause();\n}\n\n// isPcm == true\nUint8List compute() {\n    _impl.computemydsp(_mydsp, _bufferSize, _inputBuffer, _buffer);\n    return _isPcm ? interleavedIntBytes : interleavedFloatBytes;\n}\n// should run about 48000/125 = 384 times per second\n_tick = Duration(microseconds:(1000000*bufferSize)~/_sampleRate);\n\nUint8List get interleavedIntBytes {\n    Float32List left  = leftFloats;\n    Float32List right = rightFloats;\n    for(var i=0; i<_bufferSize; i++){\n        _bb..add(int16bytes((left[i]* signedInt16Max).toInt()))\n           ..add(int16bytes((right[i]*signedInt16Max).toInt()));\n    }\n    return _bb.takeBytes();\n}\n\n// _buffer = Pointer<Pointer<Float>>\nFloat32List get leftFloats  => _buffer[0].asTypedList(_bufferSize);\nFloat32List get rightFloats => _buffer[1].asTypedList(_bufferSize);\n\nUint8List int16bytes(int v) => Uint8List(2)..buffer.asInt16List()[0] = v\n",
            "_synthStream",
            "StreamAudioResponse",
            "StreamAudioSource.request()",
            "@override\nFuture<StreamAudioResponse> request([int? start, int? end]) async {\n    print('request');\n    _streamSub.resume();\n\n    start ??= 0;\n    end ??= _batchByteSize;\n    print('end: $end');\n    return StreamAudioResponse(\n        sourceLength: 10000000,\n        contentLength: end - start,\n        offset: start,\n        stream: _synthStream,\n        contentType: 'audio/wave',\n    );\n}\n",
            "sourceLength",
            "contentLength",
            "_batchByteSize*2",
            "StreamAudioResponse",
            "StreamAudioResponse",
            "Uint8List headerWithData(Uint8List data){\n    // ToDo: poor error handling\n    if (_header.lengthInBytes == 0){\n        print('need to initialize header first');\n        return data;\n    }\n\n    if(_subchunk2Size == data.length){\n        // BytesBuilder\n        _output..add(headerBytes)..add(data);\n        return _output.takeBytes();\n    }\n    \n    _subchunk2Size = data.length;\n    updateNBytesForOffset(4, fourBytes(_subchunk2Size), _subchunk2SizeOffset);\n\n    _chunkSize = (_wavHeaderSize-8) + _subchunk2Size;\n    updateNBytesForOffset(4, fourBytes(_chunkSize), _chunkSizeOffset);\n    _output..add(headerBytes)..add(data);\n    return _output.takeBytes();\n}\n\nvoid updateNBytesForOffset(int n, Uint8List bytes, int offset){\n    for(int i=0; i<n; i++){\n        offset+=i;\n        _header.setUint8(offset, bytes[i]);\n    }\n}\n\nUint8List fourBytes(int v) => Uint8List(4)..buffer.asByteData().setInt32(0,v,Endian.little);\n"
        ]
    },
    {
        "titulo": "match function is giving an error in Supabase flutter",
        "score": 0,
        "views": 703,
        "respostas": 1,
        "tags": [
            "database",
            "flutter",
            "dart",
            "supabase",
            "supabase-database"
        ],
        "link": "https://stackoverflow.com/questions/76253871/match-function-is-giving-an-error-in-supabase-flutter",
        "conteudo_html": "<p>I'm trying to fetch some data from the database using the code</p>\n<pre><code>  Supabase.instance.client\n      .from('delivery')\n      .select('location')\n      .match({'order': 'test'})\n      .then((value){print(value);});\n</code></pre>\n<p>unfortunately it gives mt the error</p>\n<pre><code>PostgrestException(message: &quot;failed to parse order (eq.test)&quot; (line 1, column 4), code: PGRST100, details: unexpected &quot;t&quot; expecting &quot;asc&quot;, &quot;desc&quot;, &quot;nullsfirst&quot; or &quot;nullslast&quot;, hint: null)\nE/flutter (10564): #0      PostgrestBuilder._parseResponse (package:postgrest/src/postgrest_builder.dart:323:7)\nE/flutter (10564): #1      PostgrestBuilder._execute (package:postgrest/src/postgrest_builder.dart:198:14)\nE/flutter (10564): &lt;asynchronous suspension&gt;\nE/flutter (10564): #2      PostgrestBuilder.then (package:postgrest/src/postgrest_builder.dart:400:24)\nE/flutter (10564): &lt;asynchronous suspension&gt;\nE/flutter (10564):  \n</code></pre>\n<p>any ideas how can i solve that ?</p>\n<p>Thanks.</p>\n",
        "codigo": [
            "  Supabase.instance.client\n      .from('delivery')\n      .select('location')\n      .match({'order': 'test'})\n      .then((value){print(value);});\n",
            "PostgrestException(message: \"failed to parse order (eq.test)\" (line 1, column 4), code: PGRST100, details: unexpected \"t\" expecting \"asc\", \"desc\", \"nullsfirst\" or \"nullslast\", hint: null)\nE/flutter (10564): #0      PostgrestBuilder._parseResponse (package:postgrest/src/postgrest_builder.dart:323:7)\nE/flutter (10564): #1      PostgrestBuilder._execute (package:postgrest/src/postgrest_builder.dart:198:14)\nE/flutter (10564): <asynchronous suspension>\nE/flutter (10564): #2      PostgrestBuilder.then (package:postgrest/src/postgrest_builder.dart:400:24)\nE/flutter (10564): <asynchronous suspension>\nE/flutter (10564):  \n"
        ]
    },
    {
        "titulo": "StreamProvider which is nested in StreamProvider stuck on loading",
        "score": 0,
        "views": 101,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "unit-testing"
        ],
        "link": "https://stackoverflow.com/questions/76249845/streamprovider-which-is-nested-in-streamprovider-stuck-on-loading",
        "conteudo_html": "<p>I'm using <code>recordStreamProvider</code> as a parent <code>StreamProvider</code>, and <code>userStreamProvider</code> as a nested <code>StreamProvider</code> in my Flutter app. However, the <code>recordStreamProvider</code> is getting stuck on the loading state and not updating with new data from the <code>userStreamProvider</code>. Some problem may be in <code>recordStreamProvider</code> (<code>userStreamProvider</code> works.) What could be causing this issue, and how can I resolve it?</p>\n<p>Here is my <code>repogitories.dart</code> code:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:cloud_firestore/cloud_firestore.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:flutter_riverpod/flutter_riverpod.dart';\n\nfinal userStreamProvider = StreamProvider((_) {\n  return FirebaseAuth.instance.authStateChanges().map((user) {\n    return user;\n  });\n});\n\nfinal recordStreamProvider = StreamProvider&lt;List&lt;Record&gt;&gt;((ref) {\n  User? user = null;\n  // User? user = ref.watch(userStreamProvider).value;\n  if (user == null) {\n    return Stream.value([]);\n  } else {\n    CollectionReference&lt;Map&lt;String, dynamic&gt;&gt; cref = FirebaseFirestore.instance\n        .collection('/$usersFieldKey/${user.uid}/$recordsFieldKey');\n    return cref.snapshots().map((snapshot) =&gt;\n        snapshot.docs.map((doc) =&gt; Record.fromJson(doc.data())).toList());\n  }\n});\n</code></pre>\n<p>Here is my <code>repogitories_test.dart</code> test code:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter_riverpod/flutter_riverpod.dart';\nimport 'package:test/test.dart';\n\nvoid main() async {\n  group('recordStreamProvider', () {\n    test('returns empty list if user is null', () async {\n      // Override the userStreamProvider with a null AsyncValue.\n      final container = ProviderContainer(\n        overrides: [\n          userStreamProvider.overrideWith((ref) =&gt; Stream.value(null)),\n        ],\n      );\n      container.refresh(userStreamProvider);\n      await Future.delayed(const Duration(seconds: 1));\n      final recordStream = container.read(recordStreamProvider);\n\n      // Retrieve the stream provider and evaluate its state.\n      expect(recordStream.value, []);\n    });\n  });\n}\n</code></pre>\n<p>Expect to get the value of an empty list from <code>recordStream</code>, but got the following result by testing:</p>\n<pre><code>00:03 +0 -1: recordStreamProvider returns empty list if user is null [E]\n  Expected: []\n    Actual: &lt;null&gt;\n     Which: is not Iterable\n\n  package:test_api                       expect\n  test\\record_repogitory_test.dart 42:7  main.&lt;fn&gt;.&lt;fn&gt;\n\n\n'recordStreamProvider returns empty list if user is null'\n00:03 +0 -1: Some tests failed.\n</code></pre>\n",
        "codigo": [
            "recordStreamProvider",
            "StreamProvider",
            "userStreamProvider",
            "StreamProvider",
            "recordStreamProvider",
            "userStreamProvider",
            "recordStreamProvider",
            "userStreamProvider",
            "repogitories.dart",
            "import 'package:cloud_firestore/cloud_firestore.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:flutter_riverpod/flutter_riverpod.dart';\n\nfinal userStreamProvider = StreamProvider((_) {\n  return FirebaseAuth.instance.authStateChanges().map((user) {\n    return user;\n  });\n});\n\nfinal recordStreamProvider = StreamProvider<List<Record>>((ref) {\n  User? user = null;\n  // User? user = ref.watch(userStreamProvider).value;\n  if (user == null) {\n    return Stream.value([]);\n  } else {\n    CollectionReference<Map<String, dynamic>> cref = FirebaseFirestore.instance\n        .collection('/$usersFieldKey/${user.uid}/$recordsFieldKey');\n    return cref.snapshots().map((snapshot) =>\n        snapshot.docs.map((doc) => Record.fromJson(doc.data())).toList());\n  }\n});\n",
            "repogitories_test.dart",
            "import 'package:flutter_riverpod/flutter_riverpod.dart';\nimport 'package:test/test.dart';\n\nvoid main() async {\n  group('recordStreamProvider', () {\n    test('returns empty list if user is null', () async {\n      // Override the userStreamProvider with a null AsyncValue.\n      final container = ProviderContainer(\n        overrides: [\n          userStreamProvider.overrideWith((ref) => Stream.value(null)),\n        ],\n      );\n      container.refresh(userStreamProvider);\n      await Future.delayed(const Duration(seconds: 1));\n      final recordStream = container.read(recordStreamProvider);\n\n      // Retrieve the stream provider and evaluate its state.\n      expect(recordStream.value, []);\n    });\n  });\n}\n",
            "recordStream",
            "00:03 +0 -1: recordStreamProvider returns empty list if user is null [E]\n  Expected: []\n    Actual: <null>\n     Which: is not Iterable\n\n  package:test_api                       expect\n  test\\record_repogitory_test.dart 42:7  main.<fn>.<fn>\n\n\n'recordStreamProvider returns empty list if user is null'\n00:03 +0 -1: Some tests failed.\n"
        ]
    },
    {
        "titulo": "How to connect Flutter backend with Django server?",
        "score": 2,
        "views": 1033,
        "respostas": 1,
        "tags": [
            "django",
            "flutter",
            "dart",
            "http",
            "get"
        ],
        "link": "https://stackoverflow.com/questions/76249587/how-to-connect-flutter-backend-with-django-server",
        "conteudo_html": "<p>So, I have a <strong>Django</strong> server running on my computer on local host, port 8000 (<a href=\"http://127.0.0.1:8000\" rel=\"nofollow noreferrer\">http://127.0.0.1:8000</a>) and I'm creating a <strong>Flutter</strong> application. I want to connect my <strong>Flutter</strong> app backend with the <strong>Django</strong> server but I don't know how. Here is what I tried:</p>\n<p>First, I tried connecting to the computer's private ip address and it's not working:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;void&gt; test() async {\n    print('1');\n    final url = Uri.parse('http://192.168.1.42:8000/users/');\n    final response = await http.get(url);\n    print(response);\n    print('2');\n  }\n</code></pre>\n<p>Second, I tried connecting to local host:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;void&gt; test() async {\n    print('1');\n    final url = Uri.parse('http://localhost:8000/users/');\n    final response = await http.get(url);\n    print(response);\n    print('2');\n  }\n</code></pre>\n<p>and I got this error:</p>\n<blockquote>\n<p>E/flutter (27014): [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: Connection refused</p>\n</blockquote>\n<p>Finally I tried the local host adress equivalent, and I got the same error above:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;void&gt; test() async {\n    print('1');\n    final url = Uri.parse('http://127.0.0.1:8000/users/');\n    final response = await http.get(url);\n    print(response);\n    print('2');\n  }\n</code></pre>\n",
        "codigo": [
            "Future<void> test() async {\n    print('1');\n    final url = Uri.parse('http://192.168.1.42:8000/users/');\n    final response = await http.get(url);\n    print(response);\n    print('2');\n  }\n",
            "Future<void> test() async {\n    print('1');\n    final url = Uri.parse('http://localhost:8000/users/');\n    final response = await http.get(url);\n    print(response);\n    print('2');\n  }\n",
            "Future<void> test() async {\n    print('1');\n    final url = Uri.parse('http://127.0.0.1:8000/users/');\n    final response = await http.get(url);\n    print(response);\n    print('2');\n  }\n"
        ]
    },
    {
        "titulo": "RangeError (index): Invalid value: Valid value range is empty: 0 -- flutter -- firebase",
        "score": 0,
        "views": 95,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "google-cloud-firestore"
        ],
        "link": "https://stackoverflow.com/questions/76248739/rangeerror-index-invalid-value-valid-value-range-is-empty-0-flutter-f",
        "conteudo_html": "<p>I have recreated this error on a more general basis.</p>\n<p>This is my code:</p>\n<pre><code>import 'package:cloud_firestore/cloud_firestore.dart';\nimport 'package:flutter/material.dart';\n\nclass Test extends StatefulWidget {\n  const Test({Key? key}) : super(key: key);\n\n  @override\n  _TestState createState() =&gt; _TestState();\n}\nclass _TestState extends State&lt;Test&gt; {\n\n  List&lt;int&gt; intlist = [];\n  List&lt;String&gt; stringList = [];\n\n  Future getIDlist() async {\n    List&lt;int&gt; list1 = [];\n    List&lt;int&gt; list2 = [];\n    for (int i = 0; i &lt; 18; i++) {\n      var firebaseShop = await FirebaseFirestore.instance\n          .collection('Collection')\n          .doc('Data')\n          .get();\n      var dataShop = firebaseShop.data();\n      if (dataShop?['x']) { //Data is a boolean\n        list1.add(i);\n      } else {\n        list2.add(i);\n      }\n    }\n    intlist.addAll(list1);\n    intlist.addAll(list2);\n    stringList = intlist.map((int value) =&gt; value.toString()).toList();\n  }\n\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Text(\n        stringList[0],\n      ),\n    );\n  }\n}\n</code></pre>\n<p>And this is the error I get:</p>\n<pre><code>Exception caught by widgets library:\n\n\nThe following RangeError was thrown building Test(dirty, state: _TestState#debf0):\n\n**RangeError (index): Invalid value: Valid value range is empty: 0**\n</code></pre>\n<p>Just couldnt find an answer, hope you can help!</p>\n",
        "codigo": [
            "import 'package:cloud_firestore/cloud_firestore.dart';\nimport 'package:flutter/material.dart';\n\nclass Test extends StatefulWidget {\n  const Test({Key? key}) : super(key: key);\n\n  @override\n  _TestState createState() => _TestState();\n}\nclass _TestState extends State<Test> {\n\n  List<int> intlist = [];\n  List<String> stringList = [];\n\n  Future getIDlist() async {\n    List<int> list1 = [];\n    List<int> list2 = [];\n    for (int i = 0; i < 18; i++) {\n      var firebaseShop = await FirebaseFirestore.instance\n          .collection('Collection')\n          .doc('Data')\n          .get();\n      var dataShop = firebaseShop.data();\n      if (dataShop?['x']) { //Data is a boolean\n        list1.add(i);\n      } else {\n        list2.add(i);\n      }\n    }\n    intlist.addAll(list1);\n    intlist.addAll(list2);\n    stringList = intlist.map((int value) => value.toString()).toList();\n  }\n\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Text(\n        stringList[0],\n      ),\n    );\n  }\n}\n",
            "Exception caught by widgets library:\n\n\nThe following RangeError was thrown building Test(dirty, state: _TestState#debf0):\n\n**RangeError (index): Invalid value: Valid value range is empty: 0**\n"
        ]
    },
    {
        "titulo": "How to check equality of list in stream have different hashCode",
        "score": 2,
        "views": 64,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "unit-testing"
        ],
        "link": "https://stackoverflow.com/questions/76241914/how-to-check-equality-of-list-in-stream-have-different-hashcode",
        "conteudo_html": "<p>I want to test this method below:</p>\n<pre><code>  @override\n  Stream&lt;Either&lt;LoadDataFailure, List&lt;DebtPaybackItem&gt;&gt;&gt; watchDebtPaybackList({\n    required int personId,\n    required int limit,\n    DateFilter dateFilter = DateFilter.all,\n  }) async* {\n    try {\n      yield* _database.debtPaybackList(personId, limit).watch().map((result) {\n        final debtPaybackList = result.map((e) =&gt; e.toDomain()).toList();\n        return right(debtPaybackList);\n      });\n    } on DriftWrappedException {\n      yield left(const LoadDataFailure.unexpected());\n    }\n  }\n</code></pre>\n<p>The test method is:</p>\n<pre><code> test('watchDebtPaybackList', () async {\n    // Arrange\n    final value = DebtPaybackData(\n      id: 1,\n      personId: 1,\n      amount: 10,\n      date: DateTime.now(),\n      isDebt: 1,\n    );\n\n    when(() =&gt; mockDatabase.debtPaybackList(any(), any())).thenAnswer((_) {\n      return MockSelectableData&lt;DebtPaybackData&gt;([value]);\n    });\n\n    // Act\n    final stream = sud.watchDebtPaybackList(personId: 1, limit: 10);\n    \n    // Assert\n    final exception = right&lt;LoadDataFailure, List&lt;DebtPaybackItem&gt;&gt;(\n      [value.toDomain()],\n    );\n\n    print('$exception == $stream: ${exception.hashCode} == ${stream.hashCode}');\n\n    expect(\n      stream,\n      emits(exception),\n    );\n  });\n</code></pre>\n<p>The test is always field even though the list is the same the error message is : Expected: should emit an event that Right&lt;LoadDataFailure, List&gt;:&lt;Right([DebtPaybackItem(id: 1, personId: 1, amount: 10.0, note: , debtPaybackDate: 2023/05/13, isDebt: true)])&gt;\nActual: &lt;Instance of '_ControllerStream&lt;Either&lt;LoadDataFailure, List&gt;&gt;'&gt;\nWhich: emitted * Right([DebtPaybackItem(id: 1, personId: 1, amount: 10.0, note: , debtPaybackDate: 2023/05/13, isDebt: true)])\nx Stream closed.</p>\n<p>I try to convert  it to future and using <code>equal</code> but I have the same issue, even though the data is the same It seems to have different hashcode, How can I ignore the hashcode</p>\n",
        "codigo": [
            "  @override\n  Stream<Either<LoadDataFailure, List<DebtPaybackItem>>> watchDebtPaybackList({\n    required int personId,\n    required int limit,\n    DateFilter dateFilter = DateFilter.all,\n  }) async* {\n    try {\n      yield* _database.debtPaybackList(personId, limit).watch().map((result) {\n        final debtPaybackList = result.map((e) => e.toDomain()).toList();\n        return right(debtPaybackList);\n      });\n    } on DriftWrappedException {\n      yield left(const LoadDataFailure.unexpected());\n    }\n  }\n",
            " test('watchDebtPaybackList', () async {\n    // Arrange\n    final value = DebtPaybackData(\n      id: 1,\n      personId: 1,\n      amount: 10,\n      date: DateTime.now(),\n      isDebt: 1,\n    );\n\n    when(() => mockDatabase.debtPaybackList(any(), any())).thenAnswer((_) {\n      return MockSelectableData<DebtPaybackData>([value]);\n    });\n\n    // Act\n    final stream = sud.watchDebtPaybackList(personId: 1, limit: 10);\n    \n    // Assert\n    final exception = right<LoadDataFailure, List<DebtPaybackItem>>(\n      [value.toDomain()],\n    );\n\n    print('$exception == $stream: ${exception.hashCode} == ${stream.hashCode}');\n\n    expect(\n      stream,\n      emits(exception),\n    );\n  });\n",
            "equal"
        ]
    },
    {
        "titulo": "Application does not start after installing the &quot;freerasp&quot; package",
        "score": 1,
        "views": 590,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76237889/application-does-not-start-after-installing-the-freerasp-package",
        "conteudo_html": "<p>After I installed the &quot;freerasp&quot; package in pubspec.yaml, I added this function to the initState main file:</p>\n<pre><code>Future&lt;void&gt; initSecurityState() async {\nTalsecConfig config = TalsecConfig(\n  androidConfig: AndroidConfig(\n    expectedPackageName: 'com.my.package',\n    expectedSigningCertificateHashes: [\n      'JsiruehgNueuejBevbeuUuw4tkiJU='\n    ],\n  ),\n  watcherMail: 'email@gmail.com',\n);\n\nTalsecCallback callback = TalsecCallback(\n    androidCallback: AndroidCallback(\n  onRootDetected: () =&gt; print('root'),\n  onEmulatorDetected: () =&gt; print('emulator'),\n  onHookDetected: () =&gt; print('hook'),\n  onTamperDetected: () =&gt; print('tamper'),\n  onDeviceBindingDetected: () =&gt; print('device binding'),\n  onUntrustedInstallationDetected: () =&gt; print('untrusted install'),\n));\n\nTalsecApp app = TalsecApp(\n  config: config,\n  callback: callback,\n);\n\napp.start();\n}\n</code></pre>\n<p>And restarted the app. But it started giving this error and shutting down:</p>\n<p>W/AudioCapabilities(11051): Unsupported mime audio/dts\nW/AudioCapabilities(11051): Unsupported mime audio/mpeg-L2\nW/AudioCapabilities(11051): Unsupported mime audio/vnd.rn-realaudio\nW/AudioCapabilities(11051): Unsupported mime audio/x-ms-wma\nW/VideoCapabilities(11051): Unsupported mime video/divx\nW/VideoCapabilities(11051): Unsupported mime video/x-flv\nW/VideoCapabilities(11051): Unsupported mime video/vnd.rn-realvideo\nW/VideoCapabilities(11051): Unsupported mime video/vc1\nW/VideoCapabilities(11051): Unsupported mime video/ffmpeg\nW/VideoCapabilities(11051): Unsupported mime video/x-ms-wmv\nE/AndroidRuntime(11051): FATAL EXCEPTION: main\nE/AndroidRuntime(11051): Process: com.revens.mini.casino, PID: 11051\nE/AndroidRuntime(11051): java.lang.UnsatisfiedLinkError: dalvik.system.PathClassLoader[DexPathList[[zip file &quot;/data/app/com.revens.mini.casino-2/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.revens.mini.casino-2/lib/x86, /data/app/com.revens.mini.casino-2/base.apk!/lib/x86, /system/lib, /vendor/lib, /data/downloads, /data/priv-downloads]]] couldn't find &quot;libpolarssl.so&quot;\nE/AndroidRuntime(11051):    at java.lang.Runtime.loadLibrary0(Runtime.java:994)\nE/AndroidRuntime(11051):    at java.lang.System.loadLibrary(System.java:1562)\nE/AndroidRuntime(11051):    at com.aheaditec.talsec.security.z1.(SourceFile:1)\nE/AndroidRuntime(11051):    at com.aheaditec.talsec.security.y1.(SourceFile:5)\nE/AndroidRuntime(11051):    at com.aheaditec.talsec.security.y1.a(SourceFile:4)\nE/AndroidRuntime(11051):    at com.aheaditec.talsec_security.security.api.Talsec.start(SourceFile:1)\nE/AndroidRuntime(11051):    at com.aheaditec.freerasp.TalsecApp.init(TalsecApp.kt:27)\nE/AndroidRuntime(11051):    at com.aheaditec.freerasp.MethodCallHandlerImpl.init(MethodCallHandlerImpl.kt:54)\nE/AndroidRuntime(11051):    at com.aheaditec.freerasp.MethodCallHandlerImpl.onMethodCall(MethodCallHandlerImpl.kt:21)\nE/AndroidRuntime(11051):    at io.flutter.plugin.common.MethodChannel$IncomingMethodCallHandler.onMessage(MethodChannel.java:258)\nE/AndroidRuntime(11051):    at io.flutter.embedding.engine.dart.DartMessenger.invokeHandler(DartMessenger.java:295)\nE/AndroidRuntime(11051):    at io.flutter.embedding.engine.dart.DartMessenger.lambda$dispatchMessageToQueue$0$io-flutter-embedding-engine-dart-DartMessenger(DartMessenger.java:322)\nE/AndroidRuntime(11051):    at io.flutter.embedding.engine.dart.DartMessenger$$ExternalSyntheticLambda0.run(D8$$SyntheticClass)\nE/AndroidRuntime(11051):    at android.os.Handler.handleCallback(Handler.java:751)\nE/AndroidRuntime(11051):    at android.os.Handler.dispatchMessage(Handler.java:95)\nE/AndroidRuntime(11051):    at android.os.Looper.loop(Looper.java:154)\nE/AndroidRuntime(11051):    at android.app.ActivityThread.main(ActivityThread.java:6138)\nE/AndroidRuntime(11051):    at java.lang.reflect.Method.invoke(Native Method)\nE/AndroidRuntime(11051):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:893)\nE/AndroidRuntime(11051):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:783)\nI/Process (11051): Sending signal. PID: 11051 SIG: 9\nLost connection to device.\nExited (sigterm)</p>\n",
        "codigo": [
            "Future<void> initSecurityState() async {\nTalsecConfig config = TalsecConfig(\n  androidConfig: AndroidConfig(\n    expectedPackageName: 'com.my.package',\n    expectedSigningCertificateHashes: [\n      'JsiruehgNueuejBevbeuUuw4tkiJU='\n    ],\n  ),\n  watcherMail: 'email@gmail.com',\n);\n\nTalsecCallback callback = TalsecCallback(\n    androidCallback: AndroidCallback(\n  onRootDetected: () => print('root'),\n  onEmulatorDetected: () => print('emulator'),\n  onHookDetected: () => print('hook'),\n  onTamperDetected: () => print('tamper'),\n  onDeviceBindingDetected: () => print('device binding'),\n  onUntrustedInstallationDetected: () => print('untrusted install'),\n));\n\nTalsecApp app = TalsecApp(\n  config: config,\n  callback: callback,\n);\n\napp.start();\n}\n"
        ]
    },
    {
        "titulo": "when().thenAnswer() not firing in blocTest",
        "score": 0,
        "views": 435,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "mockito"
        ],
        "link": "https://stackoverflow.com/questions/76221300/when-thenanswer-not-firing-in-bloctest",
        "conteudo_html": "<p>Writing unit tests using mockito and the <code>@GenerateNiceMocks</code> annotation trying to test a cubit function, but none of the <code>when().thenAnswer()</code> lines seem to be working. When debugging the test and checking the local variables of that function, all of them are set to <code>null</code> instead of what was put in <code>thenAnswer()</code>.</p>\n<p><strong>Function being tested</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;void&gt; loadStoredCredentials() async {\n  String? email = await storage.read(key: AuthenticationKeys.rememberEmail);\n  String? str = await storage.read(key: AuthenticationKeys.rememberMeKey);\n  String? lastViewedMessages = await storage.read(\n    key: 'lastViewedMessages',\n  );\n\n  bool rememberMe = false;\n  if (str != null) {\n    rememberMe = true;\n  }\n\n  if (email != null) {\n    emit(state.copyWith(\n      username: email,\n      usernameValid: FieldValidity.valid,\n      rememberMe: rememberMe,\n      lastViewedMessages: lastViewedMessages,\n    ));\n  }\n}\n</code></pre>\n<p><strong>Test file</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>@GenerateNiceMocks([MockSpec&lt;FlutterSecureStorage&gt;()])\n\nvoid main() async {\n  TestWidgetsFlutterBinding.ensureInitialized();\n\n  SignInCubit? signInCubit;\n\n  setUp(() async {\n    signInCubit = SignInCubit();\n  });\n\n  group('MockFlutterSecureStorage tests -', () {\n    setUpAll(() =&gt; FlutterSecureStorage.setMockInitialValues({}));\n\n    final email = Future.value('test@test.test');\n    final flag = Future.value('true');\n    final nullFuture = Future.value('');\n\n    blocTest&lt;SignInCubit, SignInCubitState&gt;(\n      'loadStoredCredentials - success',\n      build: () =&gt; SignInCubit(),\n      act: (cubit) async {\n        final storage = MockFlutterSecureStorage();\n\n        when(storage.read(key: AuthenticationKeys.rememberEmail))\n            .thenAnswer((_) =&gt; email);\n        when(storage.read(key: AuthenticationKeys.rememberMeKey))\n            .thenAnswer((_) =&gt; flag);\n        when(storage.read(key: 'lastViewedMessages'))\n            .thenAnswer((_) =&gt; nullFuture);\n\n        await cubit.loadStoredCredentials();\n      },\n      expect: () =&gt; (isA&lt;SignInCubitState&gt;),\n    );\n  });\n}\n</code></pre>\n<p><strong>Test error</strong></p>\n<pre><code>Expected: &lt;Closure: () =&gt; TypeMatcher&lt;SignInCubitState&gt; from Function 'isA': static.&gt;\n  Actual: []\n\npackage:test_api                             expect\npackage:bloc_test/src/bloc_test.dart 220:16  testBloc.&lt;fn&gt;\n===== asynchronous gap ===========================\ndart:async                                   _CustomZone.registerUnaryCallback\npackage:bloc_test/src/bloc_test.dart 201:7   testBloc.&lt;fn&gt;\ndart:async                                   runZonedGuarded\npackage:bloc_test/src/bloc_test.dart 199:9   testBloc\npackage:bloc_test/src/bloc_test.dart 156:13  blocTest.&lt;fn&gt;\n</code></pre>\n",
        "codigo": [
            "@GenerateNiceMocks",
            "when().thenAnswer()",
            "null",
            "thenAnswer()",
            "Future<void> loadStoredCredentials() async {\n  String? email = await storage.read(key: AuthenticationKeys.rememberEmail);\n  String? str = await storage.read(key: AuthenticationKeys.rememberMeKey);\n  String? lastViewedMessages = await storage.read(\n    key: 'lastViewedMessages',\n  );\n\n  bool rememberMe = false;\n  if (str != null) {\n    rememberMe = true;\n  }\n\n  if (email != null) {\n    emit(state.copyWith(\n      username: email,\n      usernameValid: FieldValidity.valid,\n      rememberMe: rememberMe,\n      lastViewedMessages: lastViewedMessages,\n    ));\n  }\n}\n",
            "@GenerateNiceMocks([MockSpec<FlutterSecureStorage>()])\n\nvoid main() async {\n  TestWidgetsFlutterBinding.ensureInitialized();\n\n  SignInCubit? signInCubit;\n\n  setUp(() async {\n    signInCubit = SignInCubit();\n  });\n\n  group('MockFlutterSecureStorage tests -', () {\n    setUpAll(() => FlutterSecureStorage.setMockInitialValues({}));\n\n    final email = Future.value('test@test.test');\n    final flag = Future.value('true');\n    final nullFuture = Future.value('');\n\n    blocTest<SignInCubit, SignInCubitState>(\n      'loadStoredCredentials - success',\n      build: () => SignInCubit(),\n      act: (cubit) async {\n        final storage = MockFlutterSecureStorage();\n\n        when(storage.read(key: AuthenticationKeys.rememberEmail))\n            .thenAnswer((_) => email);\n        when(storage.read(key: AuthenticationKeys.rememberMeKey))\n            .thenAnswer((_) => flag);\n        when(storage.read(key: 'lastViewedMessages'))\n            .thenAnswer((_) => nullFuture);\n\n        await cubit.loadStoredCredentials();\n      },\n      expect: () => (isA<SignInCubitState>),\n    );\n  });\n}\n",
            "Expected: <Closure: () => TypeMatcher<SignInCubitState> from Function 'isA': static.>\n  Actual: []\n\npackage:test_api                             expect\npackage:bloc_test/src/bloc_test.dart 220:16  testBloc.<fn>\n===== asynchronous gap ===========================\ndart:async                                   _CustomZone.registerUnaryCallback\npackage:bloc_test/src/bloc_test.dart 201:7   testBloc.<fn>\ndart:async                                   runZonedGuarded\npackage:bloc_test/src/bloc_test.dart 199:9   testBloc\npackage:bloc_test/src/bloc_test.dart 156:13  blocTest.<fn>\n"
        ]
    },
    {
        "titulo": "The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section",
        "score": 0,
        "views": 369,
        "respostas": 1,
        "tags": [
            "android",
            "flutter",
            "dart",
            "oauth-2.0",
            "provider"
        ],
        "link": "https://stackoverflow.com/questions/76210993/the-given-sign-in-provider-is-disabled-for-this-firebase-project-enable-it-in-t",
        "conteudo_html": "<p>i'm trying to solve this error but i can't find similar answers.I,m trying to auth by phone and i do all steps and activate the authentication provider in Firebase but still this error was shown.<br />\nplease if there any solution for that. when i press login after putting the number this error shown.<br />\nerror Message :The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.</p>\n<p>code :</p>\n<pre><code> class AuthProvider extends ChangeNotifier {\n  bool _isSignedIn = false;\n  bool get isSignedIn =&gt; _isSignedIn;\n  bool _isLoading = false;\n  bool get isLoading =&gt; _isLoading;\n  String? _uid;\n  String get uid =&gt; _uid!;\n  UserModel? _userModel;\n  UserModel get userModel =&gt; _userModel!;\n\n  final FirebaseAuth _firebaseAuth = FirebaseAuth.instance;\n\n  final FirebaseFirestore _firebaseFirestore = FirebaseFirestore.instance;\n  final FirebaseStorage _firebaseStorage = FirebaseStorage.instance;\n\n  AuthProvider() {\n    checkSign();\n  }\n\n  void checkSign() async {\n    final SharedPreferences s = await SharedPreferences.getInstance();\n    _isSignedIn = s.getBool(&quot;is_signedin&quot;) ?? false;\n    notifyListeners();\n  }\n\n  Future setSignIn() async {\n    final SharedPreferences s = await SharedPreferences.getInstance();\n    s.setBool(&quot;is_signedin&quot;, true);\n    _isSignedIn = true;\n    notifyListeners();\n  }\n\n  // signin\n  Future&lt;void&gt; signInWithPhone(BuildContext context, String phoneNumber) async {\n    try {\n      await _firebaseAuth.setSettings(appVerificationDisabledForTesting: true);\n      await _firebaseAuth.verifyPhoneNumber(\n          phoneNumber: phoneNumber,\n          verificationCompleted:\n              (PhoneAuthCredential phoneAuthCredential) async {\n            await _firebaseAuth.signInWithCredential(phoneAuthCredential);\n          },\n          verificationFailed: (error) {\n            throw Exception(error.message);\n          },\n          codeSent: (verificationId, forceResendingToken) {\n            Navigator.push(\n              context,\n              MaterialPageRoute(\n                builder: (context) =&gt; OtpScreen(verificationId: verificationId),\n              ),\n            );\n          },\n          codeAutoRetrievalTimeout: (verificationId) {});\n    } on FirebaseAuthException catch (e) {\n      showSnackBar(context, e.message.toString());\n    }\n    notifyListeners();\n  }\n\n  // verify otp\n  void verifyOtp({\n    required BuildContext context,\n    required String verificationId,\n    required String userOtp,\n    required Function onSuccess,\n  }) async {\n    _isLoading = true;\n    notifyListeners();\n\n    try {\n      PhoneAuthCredential creds = PhoneAuthProvider.credential(\n          verificationId: verificationId, smsCode: userOtp);\n\n      User? user = (await _firebaseAuth.signInWithCredential(creds)).user;\n\n      if (user != null) {\n        // carry our logic\n        _uid = user.uid;\n        onSuccess();\n      }\n      _isLoading = false;\n      notifyListeners();\n    } on FirebaseAuthException catch (e) {\n      showSnackBar(context, e.message.toString());\n      _isLoading = false;\n      notifyListeners();\n    }\n  }\n\n  // DATABASE OPERTAIONS\n  Future&lt;bool&gt; checkExistingUser() async {\n    DocumentSnapshot snapshot =\n        await _firebaseFirestore.collection(&quot;users&quot;).doc(_uid).get();\n    if (snapshot.exists) {\n      print(&quot;USER EXISTS&quot;);\n      return true;\n    } else {\n      print(&quot;NEW USER&quot;);\n      return false;\n    }\n  }\n\n  void saveUserDataToFirebase({\n    required BuildContext context,\n    required UserModel userModel,\n    required File profilePic,\n    required Function onSuccess,\n  }) async {\n    _isLoading = true;\n    notifyListeners();\n    try {\n      // uploading image to firebase storage.\n      await storeFileToStorage(&quot;profilePic/$_uid&quot;, profilePic).then((value) {\n        userModel.profilePic = value;\n        userModel.createdAt = DateTime.now().millisecondsSinceEpoch.toString();\n        userModel.phoneNumber = _firebaseAuth.currentUser!.phoneNumber!;\n        userModel.uid = _firebaseAuth.currentUser!.phoneNumber!;\n      });\n      _userModel = userModel;\n\n      // uploading to database\n      await _firebaseFirestore\n          .collection(&quot;users&quot;)\n          .doc(_uid)\n          .set(userModel.toMap())\n          .then((value) {\n        onSuccess();\n        _isLoading = false;\n        notifyListeners();\n      });\n    } on FirebaseAuthException catch (e) {\n      showSnackBar(context, e.message.toString());\n      _isLoading = false;\n      notifyListeners();\n    }\n  }\n\n  Future&lt;String&gt; storeFileToStorage(String ref, File file) async {\n    UploadTask uploadTask = _firebaseStorage.ref().child(ref).putFile(file);\n    TaskSnapshot snapshot = await uploadTask;\n    String downloadUrl = await snapshot.ref.getDownloadURL();\n    return downloadUrl;\n  }\n\n  Future getDataFromFirestore() async {\n    await _firebaseFirestore\n        .collection(&quot;users&quot;)\n        .doc(_firebaseAuth.currentUser!.uid)\n        .get()\n        .then((DocumentSnapshot snapshot) {\n      _userModel = UserModel(\n        name: snapshot['name'],\n        carType: snapshot['carType'],\n        createdAt: snapshot['createdAt'],\n        uid: snapshot['uid'],\n        profilePic: snapshot['profilePic'],\n        phoneNumber: snapshot['phoneNumber'],\n      );\n      _uid = userModel.uid;\n    });\n  }\n\n  // STORING DATA LOCALLY\n  Future saveUserDataToSP() async {\n    SharedPreferences s = await SharedPreferences.getInstance();\n    await s.setString(&quot;user_model&quot;, jsonEncode(userModel.toMap()));\n  }\n\n  Future getDataFromSP() async {\n    SharedPreferences s = await SharedPreferences.getInstance();\n    String data = s.getString(&quot;user_model&quot;) ?? '';\n    _userModel = UserModel.fromMap(jsonDecode(data));\n    _uid = _userModel!.uid;\n    notifyListeners();\n  }\n\n  Future userSignOut() async {\n    SharedPreferences s = await SharedPreferences.getInstance();\n    await _firebaseAuth.signOut();\n    _isSignedIn = false;\n    notifyListeners();\n    s.clear();\n  }\n}\n</code></pre>\n",
        "codigo": [
            " class AuthProvider extends ChangeNotifier {\n  bool _isSignedIn = false;\n  bool get isSignedIn => _isSignedIn;\n  bool _isLoading = false;\n  bool get isLoading => _isLoading;\n  String? _uid;\n  String get uid => _uid!;\n  UserModel? _userModel;\n  UserModel get userModel => _userModel!;\n\n  final FirebaseAuth _firebaseAuth = FirebaseAuth.instance;\n\n  final FirebaseFirestore _firebaseFirestore = FirebaseFirestore.instance;\n  final FirebaseStorage _firebaseStorage = FirebaseStorage.instance;\n\n  AuthProvider() {\n    checkSign();\n  }\n\n  void checkSign() async {\n    final SharedPreferences s = await SharedPreferences.getInstance();\n    _isSignedIn = s.getBool(\"is_signedin\") ?? false;\n    notifyListeners();\n  }\n\n  Future setSignIn() async {\n    final SharedPreferences s = await SharedPreferences.getInstance();\n    s.setBool(\"is_signedin\", true);\n    _isSignedIn = true;\n    notifyListeners();\n  }\n\n  // signin\n  Future<void> signInWithPhone(BuildContext context, String phoneNumber) async {\n    try {\n      await _firebaseAuth.setSettings(appVerificationDisabledForTesting: true);\n      await _firebaseAuth.verifyPhoneNumber(\n          phoneNumber: phoneNumber,\n          verificationCompleted:\n              (PhoneAuthCredential phoneAuthCredential) async {\n            await _firebaseAuth.signInWithCredential(phoneAuthCredential);\n          },\n          verificationFailed: (error) {\n            throw Exception(error.message);\n          },\n          codeSent: (verificationId, forceResendingToken) {\n            Navigator.push(\n              context,\n              MaterialPageRoute(\n                builder: (context) => OtpScreen(verificationId: verificationId),\n              ),\n            );\n          },\n          codeAutoRetrievalTimeout: (verificationId) {});\n    } on FirebaseAuthException catch (e) {\n      showSnackBar(context, e.message.toString());\n    }\n    notifyListeners();\n  }\n\n  // verify otp\n  void verifyOtp({\n    required BuildContext context,\n    required String verificationId,\n    required String userOtp,\n    required Function onSuccess,\n  }) async {\n    _isLoading = true;\n    notifyListeners();\n\n    try {\n      PhoneAuthCredential creds = PhoneAuthProvider.credential(\n          verificationId: verificationId, smsCode: userOtp);\n\n      User? user = (await _firebaseAuth.signInWithCredential(creds)).user;\n\n      if (user != null) {\n        // carry our logic\n        _uid = user.uid;\n        onSuccess();\n      }\n      _isLoading = false;\n      notifyListeners();\n    } on FirebaseAuthException catch (e) {\n      showSnackBar(context, e.message.toString());\n      _isLoading = false;\n      notifyListeners();\n    }\n  }\n\n  // DATABASE OPERTAIONS\n  Future<bool> checkExistingUser() async {\n    DocumentSnapshot snapshot =\n        await _firebaseFirestore.collection(\"users\").doc(_uid).get();\n    if (snapshot.exists) {\n      print(\"USER EXISTS\");\n      return true;\n    } else {\n      print(\"NEW USER\");\n      return false;\n    }\n  }\n\n  void saveUserDataToFirebase({\n    required BuildContext context,\n    required UserModel userModel,\n    required File profilePic,\n    required Function onSuccess,\n  }) async {\n    _isLoading = true;\n    notifyListeners();\n    try {\n      // uploading image to firebase storage.\n      await storeFileToStorage(\"profilePic/$_uid\", profilePic).then((value) {\n        userModel.profilePic = value;\n        userModel.createdAt = DateTime.now().millisecondsSinceEpoch.toString();\n        userModel.phoneNumber = _firebaseAuth.currentUser!.phoneNumber!;\n        userModel.uid = _firebaseAuth.currentUser!.phoneNumber!;\n      });\n      _userModel = userModel;\n\n      // uploading to database\n      await _firebaseFirestore\n          .collection(\"users\")\n          .doc(_uid)\n          .set(userModel.toMap())\n          .then((value) {\n        onSuccess();\n        _isLoading = false;\n        notifyListeners();\n      });\n    } on FirebaseAuthException catch (e) {\n      showSnackBar(context, e.message.toString());\n      _isLoading = false;\n      notifyListeners();\n    }\n  }\n\n  Future<String> storeFileToStorage(String ref, File file) async {\n    UploadTask uploadTask = _firebaseStorage.ref().child(ref).putFile(file);\n    TaskSnapshot snapshot = await uploadTask;\n    String downloadUrl = await snapshot.ref.getDownloadURL();\n    return downloadUrl;\n  }\n\n  Future getDataFromFirestore() async {\n    await _firebaseFirestore\n        .collection(\"users\")\n        .doc(_firebaseAuth.currentUser!.uid)\n        .get()\n        .then((DocumentSnapshot snapshot) {\n      _userModel = UserModel(\n        name: snapshot['name'],\n        carType: snapshot['carType'],\n        createdAt: snapshot['createdAt'],\n        uid: snapshot['uid'],\n        profilePic: snapshot['profilePic'],\n        phoneNumber: snapshot['phoneNumber'],\n      );\n      _uid = userModel.uid;\n    });\n  }\n\n  // STORING DATA LOCALLY\n  Future saveUserDataToSP() async {\n    SharedPreferences s = await SharedPreferences.getInstance();\n    await s.setString(\"user_model\", jsonEncode(userModel.toMap()));\n  }\n\n  Future getDataFromSP() async {\n    SharedPreferences s = await SharedPreferences.getInstance();\n    String data = s.getString(\"user_model\") ?? '';\n    _userModel = UserModel.fromMap(jsonDecode(data));\n    _uid = _userModel!.uid;\n    notifyListeners();\n  }\n\n  Future userSignOut() async {\n    SharedPreferences s = await SharedPreferences.getInstance();\n    await _firebaseAuth.signOut();\n    _isSignedIn = false;\n    notifyListeners();\n    s.clear();\n  }\n}\n"
        ]
    },
    {
        "titulo": "Unable to Generate toJson Method Using Serverpod",
        "score": 0,
        "views": 388,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "serialization",
            "serverpod"
        ],
        "link": "https://stackoverflow.com/questions/76210497/unable-to-generate-tojson-method-using-serverpod",
        "conteudo_html": "<p>I'm having trouble using the serialization process for serverpod. Here's the repo if you'd like to take a look: <a href=\"https://github.com/fhir-fli/fhirpod\" rel=\"nofollow noreferrer\">https://github.com/fhir-fli/fhirpod</a>. All of my classes are freezed, and I've adjusted all of the fromJson to include the serializationManagers. That has no errors. When I try to generate code, if I remove json_serializable from the pubspec and all of the part 'file.g.dart'; code, then it generates fine. However, it doesn't generate the toJson() files that are required.</p>\n<p>However, when I do include the json_serializable to generate the toJson() methods, I get this error message:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[SEVERE] json_serializable on lib/r4/resource_types/financial/general/general.dart:\n\nExpecting a `fromJson` constructor with exactly one positional parameter. The only extra parameters allowed are functions of the form `T Function(Object?) fromJsonT` where `T` is a type parameter of the target type.\npackage:fhir/r4/special_types/special_types.dart:483:16\n</code></pre>\n<p>I'm using serverpod_serialization: ^1.1.0.</p>\n<p>Just hoping someone else had a similar experience and had found a solution.</p>\n",
        "codigo": [
            "[SEVERE] json_serializable on lib/r4/resource_types/financial/general/general.dart:\n\nExpecting a `fromJson` constructor with exactly one positional parameter. The only extra parameters allowed are functions of the form `T Function(Object?) fromJsonT` where `T` is a type parameter of the target type.\npackage:fhir/r4/special_types/special_types.dart:483:16\n"
        ]
    },
    {
        "titulo": "Issue with Mocktail and Dart Frog",
        "score": 0,
        "views": 209,
        "respostas": 1,
        "tags": [
            "dart",
            "testing",
            "dart-frog"
        ],
        "link": "https://stackoverflow.com/questions/76205182/issue-with-mocktail-and-dart-frog",
        "conteudo_html": "<p>I'm new to testing with anything other than Postman and having a problem with tests on my Dart Frog API. Tests on basic endpoints that return a static value work but this one fails with the error &quot;<strong>type 'Null' is not a subtype of type 'Request'</strong>&quot;:</p>\n<pre><code>class _MockRequestContext extends Mock implements RequestContext {}\n\nvoid main() {\n  group('GET /api/node_status', () {\n    test(&quot;responds with a 403 if verb isn't GET&quot;, () async {\n      const method = 'POST';\n      final context = _MockRequestContext();\n      when(() =&gt; context.read&lt;String&gt;()).thenReturn(method);\n      final response = await route.onRequest(context);\n      expect(response.statusCode, equals(HttpStatus.forbidden));\n    });\n    test('responds with a 200 and {&quot;status&quot;:&quot;open&quot;}.', () async {\n      const method = 'GET';\n      final context = _MockRequestContext();\n      when(() =&gt; context.request.method.value).thenReturn(method);\n      final response = await route.onRequest(context);\n      expect(response.statusCode, equals(HttpStatus.ok));\n      expect(\n        response.body(),\n        completion(equals('{&quot;status&quot;:&quot;open&quot;}')),\n      );\n    });\n  });\n}\n</code></pre>\n<p>And my endpoint code is:</p>\n<pre><code>Future&lt;Response&gt; onRequest(RequestContext context) async {\n  // Reject any method other than GET requests\n  if (context.request.method.value != 'GET') {\n    return Response(statusCode: 403);\n  }\n  // Return the node status set in main.dart from config.yaml\n  final nodeStatus = &lt;String, dynamic&gt;{'status': globals.nodeStatus};\n  return Response(body: jsonEncode(nodeStatus));\n}\n\n</code></pre>\n<p>I've tried setting the value of <code>nodeStatus</code> to a static value with no luck. I'm sure it's something pretty simple, but I can't find much documentation on using Mocktail with Dart Frog aside from some basic examples on the Dart Frog site that I based my tests on.</p>\n<p><strong>Edit</strong></p>\n<p>It was suggested to mock up the request first and I did so:</p>\n<pre><code>class _MockRequestContext extends Mock implements RequestContext {}\n\nclass _MockRequestObject extends Mock implements Request {}\n\nvoid main() {\n  group('node_status', () {\n    test('responds with a 403 if method is not GET&quot;.', () async {\n      final context = _MockRequestContext();\n      final mockRequest = _MockRequestObject();\n      when(() =&gt; context.request).thenReturn(mockRequest);\n      when(() =&gt; mockRequest.method.value).thenReturn('POST');\n      final response = await route.onRequest(context);\n      expect(response.statusCode, equals(HttpStatus.forbidden));\n    });\n  });\n}\n</code></pre>\n<p>Now my error is:</p>\n<p><code>type 'String' is not a subtype of type 'HttpMethod' test/routes/api/node_status_test.dart 11:7   _MockRequestObject.method routes/api/node_status.dart 8:23             onRequest test/routes/api/node_status_test.dart 20:36  main.&lt;fn&gt;.&lt;fn&gt;</code></p>\n",
        "codigo": [
            "class _MockRequestContext extends Mock implements RequestContext {}\n\nvoid main() {\n  group('GET /api/node_status', () {\n    test(\"responds with a 403 if verb isn't GET\", () async {\n      const method = 'POST';\n      final context = _MockRequestContext();\n      when(() => context.read<String>()).thenReturn(method);\n      final response = await route.onRequest(context);\n      expect(response.statusCode, equals(HttpStatus.forbidden));\n    });\n    test('responds with a 200 and {\"status\":\"open\"}.', () async {\n      const method = 'GET';\n      final context = _MockRequestContext();\n      when(() => context.request.method.value).thenReturn(method);\n      final response = await route.onRequest(context);\n      expect(response.statusCode, equals(HttpStatus.ok));\n      expect(\n        response.body(),\n        completion(equals('{\"status\":\"open\"}')),\n      );\n    });\n  });\n}\n",
            "Future<Response> onRequest(RequestContext context) async {\n  // Reject any method other than GET requests\n  if (context.request.method.value != 'GET') {\n    return Response(statusCode: 403);\n  }\n  // Return the node status set in main.dart from config.yaml\n  final nodeStatus = <String, dynamic>{'status': globals.nodeStatus};\n  return Response(body: jsonEncode(nodeStatus));\n}\n\n",
            "nodeStatus",
            "class _MockRequestContext extends Mock implements RequestContext {}\n\nclass _MockRequestObject extends Mock implements Request {}\n\nvoid main() {\n  group('node_status', () {\n    test('responds with a 403 if method is not GET\".', () async {\n      final context = _MockRequestContext();\n      final mockRequest = _MockRequestObject();\n      when(() => context.request).thenReturn(mockRequest);\n      when(() => mockRequest.method.value).thenReturn('POST');\n      final response = await route.onRequest(context);\n      expect(response.statusCode, equals(HttpStatus.forbidden));\n    });\n  });\n}\n",
            "type 'String' is not a subtype of type 'HttpMethod' test/routes/api/node_status_test.dart 11:7   _MockRequestObject.method routes/api/node_status.dart 8:23             onRequest test/routes/api/node_status_test.dart 20:36  main.<fn>.<fn>"
        ]
    },
    {
        "titulo": "On Resend OTP receiving same OTP so cant understand when the OTP gets expires using firebase OTP or why its same on resend also",
        "score": 0,
        "views": 562,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/76201022/on-resend-otp-receiving-same-otp-so-cant-understand-when-the-otp-gets-expires-us",
        "conteudo_html": "<p>this is the function used when the first time requesting OTP..</p>\n<pre><code>await _auth.verifyPhoneNumber(\n                        phoneNumber: &quot;+$countryCode ${phoneController.text}.&quot;,\n                        verificationCompleted: (PhoneAuthCredential credential) async {\n                          otpValue = credential.smsCode.toString();\n                          showLoading = false;\n                        },\n                        verificationFailed: (verificationFailed) {\n                          setState(() {\n                            showLoading = false;\n                            switch (verificationFailed.code) {\n                              case &quot;invalid-phone-number&quot;:\n                                phoneError = &quot;Please Enter valid phone number&quot;;\n                                print(&quot;invalid-phone-number&quot;);\n                                break;\n\n                              case &quot;too-many-requests&quot;:\n                                phoneError = &quot;too many requests,\\nPlease try again after some time&quot;;\n                                print(&quot;too many attempts&quot;);\n                                break;\n                            }\n                            Navigator.pop(context);\n                          });\n                          print(verificationFailed.code);\n                        },\n                        codeSent: (verificationID, resendingToken) async {\n                          setState(() {\n                            showLoading = false;\n                            // _isButtonDisabled = true;\n                            print(&quot;check here&quot;);\n                            this.verificationID = verificationID;\n                            _resendToken = resendingToken;\n                            Navigator.pop(context);//loading close\n                            nextButtonLoginEnable = true;\n                            print(&quot;check here 1&quot;);\n                            Navigator.push(\n                              context,\n                              MaterialPageRoute(\n                                builder: (context) =&gt; OTPWidget(\n                                  number: phoneController.text,\n                                  verificationId: verificationID,\n                                  countryCode: countryCode,\n                                  resendToken: _resendToken,\n                                  smsCode: otpValue,\n                                ),\n                              ),\n                            );\n                          });\n                        },\n                        codeAutoRetrievalTimeout: (verificationID) async {});}\n</code></pre>\n<p>Second is the top page where I check the OTP</p>\n<pre><code>if (otpController.text == &quot;&quot;) {\n                        print(&quot;is it in if&quot;);\n                        setState(() {\n                          otpErrorText = &quot;Please enter OTP&quot;;\n                        });\n                      }\n                      else if (otpController.text.length &lt; 4) {\n                        print(&quot;is it in else if&quot;);\n                        setState(() {\n                          otpErrorText = &quot;Please enter 6 digit OTP number&quot;;\n                        });\n                      } else {\n                        setState(() {\n                          otpErrorText = &quot;&quot;;\n                          loaderforNavigate();\n                        });\n                        AuthCredential phoneAuthCredential =\n                        PhoneAuthProvider.credential(\n                            verificationId: widget.verificationId ?? &quot;&quot;,\n                            smsCode: otpController.text);}\n</code></pre>\n<p>but if user didn't receive then giving the option to resend..</p>\n<pre><code>await _auth.verifyPhoneNumber(\n                                    phoneNumber:\n                                        &quot;+${widget.countryCode}${widget.number}.&quot;,\n                                    verificationCompleted:\n                                        (phoneAuthCredential) async {\n                                      showLoading = false;\n                                    },\n                                    verificationFailed: (verificationFailed) {\n                                      setState(() {\n                                        showLoading = false;\n                                      });\n                                      print(verificationFailed.code);\n                                    },\n                                    forceResendingToken: widget.resendToken,\n                                    codeSent: (verificationID, resendingToken) async {\n                                      setState(() {\n                                        showLoading = false;\n                                        _isButtonDisabled = true;\n                                        //currentState = LoginScreen.SHOW_OTP_FORM_WIDGET;\n                                        this.verificationID = verificationID;\n                                      });\n                                    },\n                                    codeAutoRetrievalTimeout:\n                                        (verificationID) async {});}\n</code></pre>\n<p>When clicking on resend OTP for requesting again then still receives the same OTP as get before so cand decide whether its expiring or not or why getting same one always until clearing the cache. please help</p>\n",
        "codigo": [
            "await _auth.verifyPhoneNumber(\n                        phoneNumber: \"+$countryCode ${phoneController.text}.\",\n                        verificationCompleted: (PhoneAuthCredential credential) async {\n                          otpValue = credential.smsCode.toString();\n                          showLoading = false;\n                        },\n                        verificationFailed: (verificationFailed) {\n                          setState(() {\n                            showLoading = false;\n                            switch (verificationFailed.code) {\n                              case \"invalid-phone-number\":\n                                phoneError = \"Please Enter valid phone number\";\n                                print(\"invalid-phone-number\");\n                                break;\n\n                              case \"too-many-requests\":\n                                phoneError = \"too many requests,\\nPlease try again after some time\";\n                                print(\"too many attempts\");\n                                break;\n                            }\n                            Navigator.pop(context);\n                          });\n                          print(verificationFailed.code);\n                        },\n                        codeSent: (verificationID, resendingToken) async {\n                          setState(() {\n                            showLoading = false;\n                            // _isButtonDisabled = true;\n                            print(\"check here\");\n                            this.verificationID = verificationID;\n                            _resendToken = resendingToken;\n                            Navigator.pop(context);//loading close\n                            nextButtonLoginEnable = true;\n                            print(\"check here 1\");\n                            Navigator.push(\n                              context,\n                              MaterialPageRoute(\n                                builder: (context) => OTPWidget(\n                                  number: phoneController.text,\n                                  verificationId: verificationID,\n                                  countryCode: countryCode,\n                                  resendToken: _resendToken,\n                                  smsCode: otpValue,\n                                ),\n                              ),\n                            );\n                          });\n                        },\n                        codeAutoRetrievalTimeout: (verificationID) async {});}\n",
            "if (otpController.text == \"\") {\n                        print(\"is it in if\");\n                        setState(() {\n                          otpErrorText = \"Please enter OTP\";\n                        });\n                      }\n                      else if (otpController.text.length < 4) {\n                        print(\"is it in else if\");\n                        setState(() {\n                          otpErrorText = \"Please enter 6 digit OTP number\";\n                        });\n                      } else {\n                        setState(() {\n                          otpErrorText = \"\";\n                          loaderforNavigate();\n                        });\n                        AuthCredential phoneAuthCredential =\n                        PhoneAuthProvider.credential(\n                            verificationId: widget.verificationId ?? \"\",\n                            smsCode: otpController.text);}\n",
            "await _auth.verifyPhoneNumber(\n                                    phoneNumber:\n                                        \"+${widget.countryCode}${widget.number}.\",\n                                    verificationCompleted:\n                                        (phoneAuthCredential) async {\n                                      showLoading = false;\n                                    },\n                                    verificationFailed: (verificationFailed) {\n                                      setState(() {\n                                        showLoading = false;\n                                      });\n                                      print(verificationFailed.code);\n                                    },\n                                    forceResendingToken: widget.resendToken,\n                                    codeSent: (verificationID, resendingToken) async {\n                                      setState(() {\n                                        showLoading = false;\n                                        _isButtonDisabled = true;\n                                        //currentState = LoginScreen.SHOW_OTP_FORM_WIDGET;\n                                        this.verificationID = verificationID;\n                                      });\n                                    },\n                                    codeAutoRetrievalTimeout:\n                                        (verificationID) async {});}\n"
        ]
    },
    {
        "titulo": "Build APK Release Failed but Apk Debug &amp; App Bundle was successful",
        "score": 1,
        "views": 670,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76190030/build-apk-release-failed-but-apk-debug-app-bundle-was-successful",
        "conteudo_html": "<p>I am struggling a whole day to find out how to build apk. This one is suddenly happened. I have no idea why, there is no problem before. Here is the error while I am doing</p>\n<p>flutter build apk</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':unity_mediation:verifyReleaseResources'.\n&gt; A failure occurred while executing com.android.build.gradle.tasks.VerifyLibraryResourcesTask$Action\n   &gt; Android resource linking failed\n     ERROR:/Users/bobbyjulian/.gradle/caches/transforms-3/a68f5ae822254b02ed9aba74a762d661/transformed/core-1.9.0/res/values/values.xml:104:5-113:25: AAPT: error: resource android:attr/lStar not found.\n\n</code></pre>\n<p>Here is my /app/src/build.gradle.</p>\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n    compileSdkVersion 33\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.thesimlife.thesimlife&quot;\n        minSdkVersion 21\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    signingConfigs {\n        release {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n    buildTypes {\n        release {\n            signingConfig signingConfigs.release\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\napply plugin: 'com.google.gms.google-services'\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation &quot;com.unity3d.mediation:adcolony-adapter:1.0.0&quot;\n    implementation &quot;com.unity3d.mediation:applovin-adapter:1.0.0&quot;\n    implementation &quot;com.unity3d.mediation:vungle-adapter:1.0.1&quot;\n    implementation &quot;com.unity3d.mediation:facebook-adapter:1.0.0&quot;\n    implementation &quot;com.unity3d.mediation:admob-adapter:1.0.0&quot;\n}\n</code></pre>\n<p>build.gradle (I have changed the kotlin_version but it has no luck)</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.7.20'\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            url 'https://unity3ddist.jfrog.io/artifactory/unity-mediation-mvn-prod-local/'\n        }\n    }\n\n    dependencies {\n        //classpath 'com.android.tools.build:gradle:4.1.0'\n        classpath 'com.android.tools.build:gradle:7.1.2'\n        classpath 'com.google.gms:google-services:4.3.10'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            url 'https://unity3ddist.jfrog.io/artifactory/unity-mediation-mvn-prod-local/'\n        }\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n<p>The weird thing, I can build apk debug with</p>\n<p><code>flutter build apk --debug</code></p>\n<blockquote>\n<p>Running Gradle task 'assembleDebug'...                             46.2s\nBuilt build/app/outputs/flutter-apk/app-debug.apk.</p>\n</blockquote>\n<p>and then the appbundle</p>\n<p><code>flutter build appbundle</code></p>\n<p>Running Gradle task 'bundleRelease'...                             31.2s\n✓ Built build/app/outputs/bundle/release/app-release.aab (45.4MB).</p>\n<p>Result for</p>\n<p><code>flutter doctor -v</code></p>\n<pre><code>[✓] Flutter (Channel stable, 3.7.12, on macOS 13.1 22C65 darwin-arm64, locale\n    en-ID)\n    • Flutter version 3.7.12 on channel stable at\n      /Users/bobbyjulian/Desktop/development/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 4d9e56e694 (3 weeks ago), 2023-04-17 21:47:46 -0400\n    • Engine revision 1a65d409c7\n    • Dart version 2.19.6\n    • DevTools version 2.20.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version\n    32.1.0-rc1)\n    • Android SDK at /Users/bobbyjulian/Library/Android/sdk\n    • Platform android-33, build-tools 32.1.0-rc1\n    • Java binary at: /Applications/Android\n      Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build\n      11.0.12+0-b1504.28-7817840)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14C18\n    • CocoaPods version 1.11.3\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2021.2)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build\n      11.0.12+0-b1504.28-7817840)\n\n[✓] VS Code (version 1.70.1)\n    • VS Code at /Users/bobbyjulian/Downloads/Visual Studio Code.app/Contents\n    • Flutter extension can be installed from:\n      🔨 https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter\n\n[✓] Connected device (3 available)\n    • iPhone 14 Pro (mobile) • 507F3DEA-5963-452F-8CB0-10969F21BB18 • ios\n      • com.apple.CoreSimulator.SimRuntime.iOS-16-2 (simulator)\n    • macOS (desktop)        • macos                                •\n      darwin-arm64   • macOS 13.1 22C65 darwin-arm64\n    • Chrome (web)           • chrome                               •\n      web-javascript • Google Chrome 112.0.5615.137\n\n[✓] HTTP Host Availability\n    • All required HTTP hosts are available\n\n• No issues found!\n</code></pre>\n<p>I really appreciate any help.</p>\n<p>Resolve build apk issues!</p>\n",
        "codigo": [
            "FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':unity_mediation:verifyReleaseResources'.\n> A failure occurred while executing com.android.build.gradle.tasks.VerifyLibraryResourcesTask$Action\n   > Android resource linking failed\n     ERROR:/Users/bobbyjulian/.gradle/caches/transforms-3/a68f5ae822254b02ed9aba74a762d661/transformed/core-1.9.0/res/values/values.xml:104:5-113:25: AAPT: error: resource android:attr/lStar not found.\n\n",
            "def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader ->\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(\"Flutter SDK not found. Define location with flutter.sdk in the local.properties file.\")\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: \"$flutterRoot/packages/flutter_tools/gradle/flutter.gradle\"\n\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n    compileSdkVersion 33\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId \"com.thesimlife.thesimlife\"\n        minSdkVersion 21\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    signingConfigs {\n        release {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n            storePassword keystoreProperties['storePassword']\n        }\n    }\n    buildTypes {\n        release {\n            signingConfig signingConfigs.release\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\napply plugin: 'com.google.gms.google-services'\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation \"com.unity3d.mediation:adcolony-adapter:1.0.0\"\n    implementation \"com.unity3d.mediation:applovin-adapter:1.0.0\"\n    implementation \"com.unity3d.mediation:vungle-adapter:1.0.1\"\n    implementation \"com.unity3d.mediation:facebook-adapter:1.0.0\"\n    implementation \"com.unity3d.mediation:admob-adapter:1.0.0\"\n}\n",
            "buildscript {\n    ext.kotlin_version = '1.7.20'\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            url 'https://unity3ddist.jfrog.io/artifactory/unity-mediation-mvn-prod-local/'\n        }\n    }\n\n    dependencies {\n        //classpath 'com.android.tools.build:gradle:4.1.0'\n        classpath 'com.android.tools.build:gradle:7.1.2'\n        classpath 'com.google.gms:google-services:4.3.10'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            url 'https://unity3ddist.jfrog.io/artifactory/unity-mediation-mvn-prod-local/'\n        }\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n",
            "flutter build apk --debug",
            "flutter build appbundle",
            "flutter doctor -v",
            "[✓] Flutter (Channel stable, 3.7.12, on macOS 13.1 22C65 darwin-arm64, locale\n    en-ID)\n    • Flutter version 3.7.12 on channel stable at\n      /Users/bobbyjulian/Desktop/development/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 4d9e56e694 (3 weeks ago), 2023-04-17 21:47:46 -0400\n    • Engine revision 1a65d409c7\n    • Dart version 2.19.6\n    • DevTools version 2.20.1\n\n[✓] Android toolchain - develop for Android devices (Android SDK version\n    32.1.0-rc1)\n    • Android SDK at /Users/bobbyjulian/Library/Android/sdk\n    • Platform android-33, build-tools 32.1.0-rc1\n    • Java binary at: /Applications/Android\n      Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build\n      11.0.12+0-b1504.28-7817840)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14C18\n    • CocoaPods version 1.11.3\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2021.2)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build\n      11.0.12+0-b1504.28-7817840)\n\n[✓] VS Code (version 1.70.1)\n    • VS Code at /Users/bobbyjulian/Downloads/Visual Studio Code.app/Contents\n    • Flutter extension can be installed from:\n      🔨 https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter\n\n[✓] Connected device (3 available)\n    • iPhone 14 Pro (mobile) • 507F3DEA-5963-452F-8CB0-10969F21BB18 • ios\n      • com.apple.CoreSimulator.SimRuntime.iOS-16-2 (simulator)\n    • macOS (desktop)        • macos                                •\n      darwin-arm64   • macOS 13.1 22C65 darwin-arm64\n    • Chrome (web)           • chrome                               •\n      web-javascript • Google Chrome 112.0.5615.137\n\n[✓] HTTP Host Availability\n    • All required HTTP hosts are available\n\n• No issues found!\n"
        ]
    },
    {
        "titulo": "Problems autofilling otp in otp text field",
        "score": 0,
        "views": 1365,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "firebase-authentication"
        ],
        "link": "https://stackoverflow.com/questions/76165838/problems-autofilling-otp-in-otp-text-field",
        "conteudo_html": "<p>In my flutter program ,I have a class that contains two methods. One signs in to the app using firebase phone auth, and the other verifies the otp gotten from the sign in. Here is the class</p>\n<pre><code>class AuthController{\n\n  signInWithPhoneNumber(String code,)async{\n    String res = '';\n    try{\n      await _auth.verifyPhoneNumber(\n        phoneNumber: code,\n        timeout: const Duration(seconds: 30),\n        verificationCompleted: (PhoneAuthCredential credential) async{\n          await _auth.signInWithCredential(credential);\n          res = 'Success';\n        },\n        verificationFailed: (FirebaseAuthException e) {\n          if (e.code == 'invalid-phone-number'){\n            res = 'Phone number not valid';\n          }else{\n            res = e.toString();\n          }\n        },\n        codeSent: (String verificationId, int? resendToken) async{\n\n          _verificationId = verificationId;\n          // PhoneAuthCredential credential = PhoneAuthProvider.credential(verificationId: _verificationId, smsCode: otp);\n          //\n          // // Sign the user in (or link) with the credential\n          // await _auth.signInWithCredential(credential);\n        },\n        codeAutoRetrievalTimeout: (String verificationId) {\n\n        },\n      );\n    }catch(e){\n      print('the error isss ${e.toString()}');\n    }\n\n    return res;\n  }\n\n  verifyOTP(String otp)async{\n    String res = '';\n    try{\n      PhoneAuthCredential credential = PhoneAuthProvider.credential(verificationId: _verificationId, smsCode: otp);\n\n      // Sign the user in (or link) with the credential\n      await _auth.signInWithCredential(credential).whenComplete((){\n        res = 'Success';\n      });\n    }catch(e){\n      print('the error issss ${e.toString()}');\n    }\n\n    return res;\n  }\n\n}\n</code></pre>\n<p>in one part of my code I was able to use the signInwithPhoneNumber function to sign in successfully and I got my otp. the problem I have now is, when I get my otp, I want it to be autofill in the otpTextForm automatically. I have tried using everything, I am pretty new to the phone number aspect of firebase anyway. this is my otp text field.</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_svg/svg.dart';\nimport 'package:geepx/auth_controller/auth_controller.dart';\nimport 'package:geepx/utils/snack.dart';\nimport 'package:google_fonts/google_fonts.dart';\nimport 'package:otp_text_field/otp_field.dart';\nimport 'package:otp_text_field/style.dart';\nclass OTPScreen extends StatefulWidget {\n  static const String routeName = 'OTPScreen';\n  final String code;\n  const OTPScreen({Key? key, required this.code}) : super(key: key);\n\n  @override\n  State&lt;OTPScreen&gt; createState() =&gt; _OTPScreenState();\n}\n\nclass _OTPScreenState extends State&lt;OTPScreen&gt; {\n   late String otp;\n  AuthController _authController = AuthController();\n  _useOtp()async{\n  String res =  await _authController.verifyOTP(otp);\n  if(res == 'Success'){\n    Navigator.pushNamedAndRemoveUntil(context, 'MainHome', (route) =&gt; false);\n  }else{\n    snack(context, 'something went wrong');\n  }\n  }\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.center,\n          children: [\n            SizedBox(\n              height: MediaQuery.of(context).size.height*0.18,\n            ),\n            SvgPicture.asset('assets/icons/GEEPX LOGO 1.svg'),\n            const SizedBox(\n              height: 38,\n            ),\n            Text('Your phone number',\n                style: GoogleFonts.roboto(\n                    fontSize: 24,\n                    fontWeight: FontWeight.w400\n                )\n            ),\n            const SizedBox(\n              height: 20,\n            ),\n            Text('We\\'ve sent an SMS with an activation code to your',\n              style: GoogleFonts.roboto(\n                  fontSize: 16.5,\n                  fontWeight: FontWeight.w400,\n                  color: Color(0xff74777F)\n              ),\n            ),\n            Text('phone ${widget.code}',\n              style: GoogleFonts.roboto(\n                  fontSize: 16.5,\n                  fontWeight: FontWeight.w400,\n                  color: Color(0xff74777F)\n              ),\n            ),\n            const SizedBox(\n              height: 25,\n            ),\n         OTPTextField(\n          length: 6,\n          width: MediaQuery.of(context).size.width*0.8,\n          textFieldAlignment: MainAxisAlignment.spaceAround,\n          fieldWidth: 45,\n          fieldStyle: FieldStyle.box,\n          outlineBorderRadius: 15,\n          style: GoogleFonts.roboto(fontSize: 17),\n          onChanged: (v){\n            otp = v;\n          },\n          onCompleted: (pin) {\n            otp = pin;\n            _useOtp();\n          }\n          ),\n      ]\n        )\n      ),\n      floatingActionButton: TextButton(\n          onPressed: (){\n            _useOtp();\n          }, child: Text('Click here if it did not send automatically')\n      )\n    );\n  }\n}\n\n</code></pre>\n<p>is there a way i can autofill the textfield. Pleas answers would be really acceptable</p>\n",
        "codigo": [
            "class AuthController{\n\n  signInWithPhoneNumber(String code,)async{\n    String res = '';\n    try{\n      await _auth.verifyPhoneNumber(\n        phoneNumber: code,\n        timeout: const Duration(seconds: 30),\n        verificationCompleted: (PhoneAuthCredential credential) async{\n          await _auth.signInWithCredential(credential);\n          res = 'Success';\n        },\n        verificationFailed: (FirebaseAuthException e) {\n          if (e.code == 'invalid-phone-number'){\n            res = 'Phone number not valid';\n          }else{\n            res = e.toString();\n          }\n        },\n        codeSent: (String verificationId, int? resendToken) async{\n\n          _verificationId = verificationId;\n          // PhoneAuthCredential credential = PhoneAuthProvider.credential(verificationId: _verificationId, smsCode: otp);\n          //\n          // // Sign the user in (or link) with the credential\n          // await _auth.signInWithCredential(credential);\n        },\n        codeAutoRetrievalTimeout: (String verificationId) {\n\n        },\n      );\n    }catch(e){\n      print('the error isss ${e.toString()}');\n    }\n\n    return res;\n  }\n\n  verifyOTP(String otp)async{\n    String res = '';\n    try{\n      PhoneAuthCredential credential = PhoneAuthProvider.credential(verificationId: _verificationId, smsCode: otp);\n\n      // Sign the user in (or link) with the credential\n      await _auth.signInWithCredential(credential).whenComplete((){\n        res = 'Success';\n      });\n    }catch(e){\n      print('the error issss ${e.toString()}');\n    }\n\n    return res;\n  }\n\n}\n",
            "import 'package:flutter/material.dart';\nimport 'package:flutter_svg/svg.dart';\nimport 'package:geepx/auth_controller/auth_controller.dart';\nimport 'package:geepx/utils/snack.dart';\nimport 'package:google_fonts/google_fonts.dart';\nimport 'package:otp_text_field/otp_field.dart';\nimport 'package:otp_text_field/style.dart';\nclass OTPScreen extends StatefulWidget {\n  static const String routeName = 'OTPScreen';\n  final String code;\n  const OTPScreen({Key? key, required this.code}) : super(key: key);\n\n  @override\n  State<OTPScreen> createState() => _OTPScreenState();\n}\n\nclass _OTPScreenState extends State<OTPScreen> {\n   late String otp;\n  AuthController _authController = AuthController();\n  _useOtp()async{\n  String res =  await _authController.verifyOTP(otp);\n  if(res == 'Success'){\n    Navigator.pushNamedAndRemoveUntil(context, 'MainHome', (route) => false);\n  }else{\n    snack(context, 'something went wrong');\n  }\n  }\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.center,\n          children: [\n            SizedBox(\n              height: MediaQuery.of(context).size.height*0.18,\n            ),\n            SvgPicture.asset('assets/icons/GEEPX LOGO 1.svg'),\n            const SizedBox(\n              height: 38,\n            ),\n            Text('Your phone number',\n                style: GoogleFonts.roboto(\n                    fontSize: 24,\n                    fontWeight: FontWeight.w400\n                )\n            ),\n            const SizedBox(\n              height: 20,\n            ),\n            Text('We\\'ve sent an SMS with an activation code to your',\n              style: GoogleFonts.roboto(\n                  fontSize: 16.5,\n                  fontWeight: FontWeight.w400,\n                  color: Color(0xff74777F)\n              ),\n            ),\n            Text('phone ${widget.code}',\n              style: GoogleFonts.roboto(\n                  fontSize: 16.5,\n                  fontWeight: FontWeight.w400,\n                  color: Color(0xff74777F)\n              ),\n            ),\n            const SizedBox(\n              height: 25,\n            ),\n         OTPTextField(\n          length: 6,\n          width: MediaQuery.of(context).size.width*0.8,\n          textFieldAlignment: MainAxisAlignment.spaceAround,\n          fieldWidth: 45,\n          fieldStyle: FieldStyle.box,\n          outlineBorderRadius: 15,\n          style: GoogleFonts.roboto(fontSize: 17),\n          onChanged: (v){\n            otp = v;\n          },\n          onCompleted: (pin) {\n            otp = pin;\n            _useOtp();\n          }\n          ),\n      ]\n        )\n      ),\n      floatingActionButton: TextButton(\n          onPressed: (){\n            _useOtp();\n          }, child: Text('Click here if it did not send automatically')\n      )\n    );\n  }\n}\n\n"
        ]
    },
    {
        "titulo": "Dart Test using type check on Exception is returning wrong result",
        "score": 0,
        "views": 239,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "testing",
            "dart-test"
        ],
        "link": "https://stackoverflow.com/questions/76103116/dart-test-using-type-check-on-exception-is-returning-wrong-result",
        "conteudo_html": "<p>I have this test that does fail when run. I am not sure why though since the <code>a</code> should be true. Can somebody explain me why?</p>\n<pre class=\"lang-dart prettyprint-override\"><code>  test('test error', () async {\n    const error = Exception;\n    const a = error is Exception;\n    expect(a, true);\n  });\n</code></pre>\n",
        "codigo": [
            "a",
            "  test('test error', () async {\n    const error = Exception;\n    const a = error is Exception;\n    expect(a, true);\n  });\n"
        ]
    },
    {
        "titulo": "How to test equality between http Request objects",
        "score": 0,
        "views": 134,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "dart-test"
        ],
        "link": "https://stackoverflow.com/questions/76101530/how-to-test-equality-between-http-request-objects",
        "conteudo_html": "<p>I want to test equality between these two request objects but I can not figure out how to implement the <code>hash</code> and <code>equality</code> operator on a third-party package for example <code>http</code> package.\nHow can I use <code>equatable</code> package on the Response object of <code>http</code> package?</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:http/http.dart' as http;\ntest('equality test', () async {\n        final uri = baseUri.replace(path: 'account/login');\n        final request = http.Request(RequestMethod.post, uri);\n        final request2 = http.Request(RequestMethod.post, uri);\n        expect(request, equals(request2));\n});\n</code></pre>\n<p>The output is</p>\n<pre><code>Expected: Request:&lt;POST https://test.webapi.odinpool.com:1989/account/login&gt;\n  Actual: Request:&lt;POST https://test.webapi.odinpool.com:1989/account/login&gt;\n</code></pre>\n<p>Which it doesn't complete successfully.\nI want to test the remote server API to call the correct API endpoint when creating the request object and test the method with <code>verify.called(1)</code> method but it seems the test package can not test equality between <code>http.Request</code> objects.</p>\n",
        "codigo": [
            "hash",
            "equality",
            "http",
            "equatable",
            "http",
            "import 'package:http/http.dart' as http;\ntest('equality test', () async {\n        final uri = baseUri.replace(path: 'account/login');\n        final request = http.Request(RequestMethod.post, uri);\n        final request2 = http.Request(RequestMethod.post, uri);\n        expect(request, equals(request2));\n});\n",
            "Expected: Request:<POST https://test.webapi.odinpool.com:1989/account/login>\n  Actual: Request:<POST https://test.webapi.odinpool.com:1989/account/login>\n",
            "verify.called(1)",
            "http.Request"
        ]
    },
    {
        "titulo": "No matching calls in verify calling in dart unit test",
        "score": 0,
        "views": 672,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "dart-test"
        ],
        "link": "https://stackoverflow.com/questions/76088932/no-matching-calls-in-verify-calling-in-dart-unit-test",
        "conteudo_html": "<p>I want to test a remote server request method but I can not figure out why I get :\nNo matching calls. All calls: MockClient.send(GET <a href=\"https://exampleDomain.test.com/send_email\" rel=\"nofollow noreferrer\">https://exampleDomain.test.com/send_email</a>).</p>\n<p>I've searched the stack overflow and someone used <code>equatable</code> package to compare objects but I don't know how to implement this package or equality for <code>MockRequest</code> object which implements <code>http.Request</code>.\nHere is my method:</p>\n<pre><code>@override\n  Future&lt;void&gt; sendEmail(String email) async {\n    if (!EmailValidator.validate(email)) throw InvalidEmailFormatException();\n    final requestUrl = baseUri.replace(path: '/account/send_email');\n    final request = http.Request(RequestMethod.get.method, requestUrl);\n    request.headers.clear();\n    request.headers.addAll({&quot;Content-type&quot;: &quot;text/plain&quot;});\n    request.body = '{&quot;email&quot;:&quot;$email&quot;}';\n    try {\n      final response = await _client.send(request);\n\n      if (response.statusCode != 200) {\n        throw HttpException(\n            'Response statuse code = ${response.statusCode}, Reason phrase = ${response.reasonPhrase}',\n            uri: requestUrl);\n      }\n      final responseBodyString = await response.stream.bytesToString();\n      final reponseJson =\n          jsonDecode(responseBodyString) as Map&lt;String, dynamic&gt;;\n      final code = reponseJson['code'];\n      if (code != 200) {\n        throw ServerException(code, uri: requestUrl);\n      }\n    } on SocketException {\n      rethrow;\n    } on FormatException {\n      rethrow;\n    }\n  }\n</code></pre>\n<p>and here is my unit test:</p>\n<pre><code>class MockClient extends Mock implements http.Client {}\n\nclass MockResponse extends Mock implements http.StreamedResponse {}\n\nclass MockRequest extends Mock with EquatableMixin implements http.Request {}\n...\n      test('make correct http request', () async {\n        final uri = baseUri.replace(path: 'account/send_email');\n\n        final response = MockResponse();\n        when(\n          () =&gt; response.statusCode,\n        ).thenReturn(200);\n\n        when(\n          () =&gt; response.stream,\n        ).thenAnswer(\n          (_) =&gt; http.ByteStream.fromBytes('OK'.codeUnits),\n        );\n\n        final request = MockRequest();\n\n        when(\n          () =&gt; request.method,\n        ).thenReturn('GET');\n\n        when(\n          () =&gt; request.body,\n        ).thenReturn('{&quot;email&quot;:&quot;$validEmail&quot;}');\n\n        when(\n          () =&gt; request.headers,\n        ).thenReturn({\n          'Content-Type': 'text/plain',\n        });\n\n        when(\n          () =&gt; request.url,\n        ).thenReturn(uri);\n\n        when(() =&gt; client.send(any())).thenAnswer((_) async =&gt; response);\n\n        try {\n          await sut.sendEmail(validEmail);\n        } catch (_) {}\n        verify(() =&gt; client.send(request)).called(1);\n      });\n</code></pre>\n",
        "codigo": [
            "equatable",
            "MockRequest",
            "http.Request",
            "@override\n  Future<void> sendEmail(String email) async {\n    if (!EmailValidator.validate(email)) throw InvalidEmailFormatException();\n    final requestUrl = baseUri.replace(path: '/account/send_email');\n    final request = http.Request(RequestMethod.get.method, requestUrl);\n    request.headers.clear();\n    request.headers.addAll({\"Content-type\": \"text/plain\"});\n    request.body = '{\"email\":\"$email\"}';\n    try {\n      final response = await _client.send(request);\n\n      if (response.statusCode != 200) {\n        throw HttpException(\n            'Response statuse code = ${response.statusCode}, Reason phrase = ${response.reasonPhrase}',\n            uri: requestUrl);\n      }\n      final responseBodyString = await response.stream.bytesToString();\n      final reponseJson =\n          jsonDecode(responseBodyString) as Map<String, dynamic>;\n      final code = reponseJson['code'];\n      if (code != 200) {\n        throw ServerException(code, uri: requestUrl);\n      }\n    } on SocketException {\n      rethrow;\n    } on FormatException {\n      rethrow;\n    }\n  }\n",
            "class MockClient extends Mock implements http.Client {}\n\nclass MockResponse extends Mock implements http.StreamedResponse {}\n\nclass MockRequest extends Mock with EquatableMixin implements http.Request {}\n...\n      test('make correct http request', () async {\n        final uri = baseUri.replace(path: 'account/send_email');\n\n        final response = MockResponse();\n        when(\n          () => response.statusCode,\n        ).thenReturn(200);\n\n        when(\n          () => response.stream,\n        ).thenAnswer(\n          (_) => http.ByteStream.fromBytes('OK'.codeUnits),\n        );\n\n        final request = MockRequest();\n\n        when(\n          () => request.method,\n        ).thenReturn('GET');\n\n        when(\n          () => request.body,\n        ).thenReturn('{\"email\":\"$validEmail\"}');\n\n        when(\n          () => request.headers,\n        ).thenReturn({\n          'Content-Type': 'text/plain',\n        });\n\n        when(\n          () => request.url,\n        ).thenReturn(uri);\n\n        when(() => client.send(any())).thenAnswer((_) async => response);\n\n        try {\n          await sut.sendEmail(validEmail);\n        } catch (_) {}\n        verify(() => client.send(request)).called(1);\n      });\n"
        ]
    },
    {
        "titulo": "Flutter scroll down screen",
        "score": -1,
        "views": 78,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76079714/flutter-scroll-down-screen",
        "conteudo_html": "<p>I'm using Flutter to build a profile screen. I want to build a Profile screen like instagram profile screen, include multi widget like user background image, icon, user information and a Tab Bar show user old post or user image, but now I <a href=\"https://drive.google.com/file/d/17HssSvyMjY4tngjqSU7Id8TEzfDw9MMM/view?usp=share_link\" rel=\"nofollow noreferrer\">can't scroll down this screen </a></p>\n<p>I hope this screen can scroll down to view Tab Bar post or image, so after scroll down background image, user icon and other user information will hide</p>\n<p>here is part of my code</p>\n<pre><code>  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        body: Container(\n            height: MediaQuery.of(context).size.height *\n                200, // Adjust the height according to your needs,\n            child: ListView(\n              padding: EdgeInsets.zero,\n              children: &lt;Widget&gt;[\n                ProfileWidget(),\n              ],\n            )));\n  }\n\n//include prodfile icon &amp; profile backgroundimage \n  Widget ProfileWidget() {\n    //control icon image location\n    final _top = MediaQuery.of(context).size.height * 1 / 3 -\n        MediaQuery.of(context).size.height / 11.5;\n    final HalfWidth = MediaQuery.of(context).size.width / 2;\n    //username shower\n    final bottom = profileHeight / 9;\n    return Stack(\n        clipBehavior: Clip.none,\n        alignment: Alignment.center,\n        children: [\n          Container(\n            margin: EdgeInsets.only(bottom: bottom),\n            //background image control\n            child: BGIImage(),\n          ),\n          Positioned(\n            bottom: 0,\n            right: 0,\n            child: Container(\n              height: MediaQuery.of(context).size.height / 20,\n              width: MediaQuery.of(context).size.width / 5,\n              decoration: BoxDecoration(\n                  shape: BoxShape.circle,\n                  border: Border.all(width: 0.8, color: Colors.white),\n                  color: Colors.orange),\n              child: IconButton(\n                //add the function edit user icon\n                onPressed: () {\n                  _showSelectPhotoOptions(context);\n                  //print(MediaQuery.of(context).size.height);\n                  //print(MediaQuery.of(context).size.width);\n                },\n                icon: Icon(\n                  Icons.edit,\n                ),\n              ),\n            ),\n          ),\n          //Icon UI control\n          Positioned(top: _top, child: IconImage()),\n          Positioned(top: _top * 1.6, child: Showusername()),\n          Positioned(top: _top * 1.75, child: buildContent()),\n          Positioned(top: _top * 1.9, child: dynamicBadge()),\n          Positioned(\n              top: _top * 2.15,\n              right: HalfWidth * 1.25,\n              child: FollowingLayer()),\n          Positioned(\n              top: _top * 2.15, right: HalfWidth * 0.4, child: FollowerLayer()),\n          Positioned(top: _top * 2.4, child: PostOrGallery()),\n        ]);\n  }\n\n//profile icon source &amp; UI control\n  Widget IconImage() =&gt; CircleAvatar(\n        radius: profileHeight / 2.3,\n        child: ClipRRect(\n          borderRadius: BorderRadius.circular(100),\n          child: Image.network(\n            _userIcon,\n            errorBuilder: (context, error, stackTrace) {\n              return const Icon(Icons.error);\n            },\n            loadingBuilder: (context, child, loadingProgress) {\n              if (loadingProgress == null) return child;\n              return Center(\n                child: CircularProgressIndicator(\n                  value: loadingProgress.expectedTotalBytes != null\n                      ? loadingProgress.cumulativeBytesLoaded /\n                          loadingProgress.expectedTotalBytes!\n                      : null,\n                ),\n              );\n            },\n          ),\n        ),\n      );\n\n//profile background image source &amp; UI control\n  Widget BGIImage() =&gt; Container(\n        child: Image.network(\n          _UserBGI,\n          width: double.infinity,\n          height: coverHeight,\n          fit: BoxFit.fill,\n          errorBuilder: (context, error, stackTrace) {\n            return const Icon(Icons.error);\n          },\n          loadingBuilder: (context, child, loadingProgress) {\n            if (loadingProgress == null) return child;\n            return Center(\n              child: CircularProgressIndicator(\n                value: loadingProgress.expectedTotalBytes != null\n                    ? loadingProgress.cumulativeBytesLoaded /\n                        loadingProgress.expectedTotalBytes!\n                    : null,\n              ),\n            );\n          },\n        ),\n      );\n\n  Widget Showusername() =&gt; Container(\n        margin: EdgeInsets.only(top: 10),\n        child: Text(\n          _username,\n          style: TextStyle(\n            fontSize: 17,\n            fontWeight: FontWeight.w400,\n            color: Colors.black,\n          ),\n        ),\n      );\n\n  Widget buildContent() =&gt; Container(\n        margin: EdgeInsets.only(top: 10),\n        child: Text(\n          _Selfintro,\n          style: TextStyle(\n            fontSize: 17,\n            fontWeight: FontWeight.w400,\n            color: Colors.black,\n          ),\n        ),\n      );\n\n  Widget dynamicBadge() =&gt; Container(\n        margin: EdgeInsets.only(top: 10),\n        child: Row(\n          mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n          children: [\n            Icon(Icons.coffee_outlined, color: Colors.black),\n            SizedBox(\n              width: 5,\n            ),\n            Icon(\n              Icons.book_outlined,\n              color: Colors.black,\n            ),\n            SizedBox(\n              width: 5,\n            ),\n            Icon(Icons.rocket_launch_outlined, color: Colors.black),\n          ],\n        ),\n      );\n\n  Widget FollowingLayer() =&gt; Container(\n        // the Expanded widget lets the columns share the space\n        child: Column(\n          // align the text to the left instead of centered\n          crossAxisAlignment: CrossAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            Text(\n              'Following',\n              style: TextStyle(fontSize: 14, color: Colors.black),\n            ),\n            Text(\n              '10000',\n              style: TextStyle(fontSize: 16, color: Colors.black),\n            ),\n          ],\n        ),\n      );\n\n  Widget FollowerLayer() =&gt; Container(\n        // the Expanded widget lets the columns share the space\n        child: Column(\n          // align the text to the left instead of centered\n          crossAxisAlignment: CrossAxisAlignment.center,\n          children: &lt;Widget&gt;[\n            Text(\n              'Follower',\n              style: TextStyle(fontSize: 14, color: Colors.black),\n            ),\n            Text(\n              '10000',\n              style: TextStyle(fontSize: 16, color: Colors.black),\n            ),\n          ],\n        ),\n      );\n\n  Widget PostOrGallery() =&gt; Container(\n      height: MediaQuery.of(context).size.height *\n          20, // Adjust the height according to your needs,\n      width: MediaQuery.of(context).size.width,\n      color: Colors.white,\n      child: DefaultTabController(\n        length: 2,\n        child: new Scaffold(\n          body: new NestedScrollView(\n            headerSliverBuilder:\n                (BuildContext context, bool innerBoxIsScrolled) {\n              return &lt;Widget&gt;[\n                new SliverAppBar(\n                  backgroundColor: ui.Color.fromARGB(255, 209, 167, 107),\n                  toolbarHeight: MediaQuery.of(context).size.height / 100,\n                  floating: true,\n                  pinned: true,\n                  snap: true,\n                  bottom: new TabBar(\n                    tabs: &lt;Tab&gt;[\n                      new Tab(\n                        icon: Icon(\n                          Icons.content_copy_outlined,\n                          color: Colors.black,\n                        ),\n                      ),\n                      new Tab(\n                          icon: Icon(\n                        Icons.collections_outlined,\n                      )),\n                    ], // &lt;-- total of 2 tabs\n                  ),\n                ),\n              ];\n            },\n            body: new TabBarView(\n              children: &lt;Widget&gt;[\n                Center(child: CurrentUserPost()),\n                Center(child: CurrentUserPost()),\n              ],\n            ),\n          ),\n        ),\n      ));\n</code></pre>\n<p>Thanks for watch and answer my question!</p>\n<p>I had been try use <em>ListView</em>, but it doesn't help</p>\n",
        "codigo": [
            "  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n        body: Container(\n            height: MediaQuery.of(context).size.height *\n                200, // Adjust the height according to your needs,\n            child: ListView(\n              padding: EdgeInsets.zero,\n              children: <Widget>[\n                ProfileWidget(),\n              ],\n            )));\n  }\n\n//include prodfile icon & profile backgroundimage \n  Widget ProfileWidget() {\n    //control icon image location\n    final _top = MediaQuery.of(context).size.height * 1 / 3 -\n        MediaQuery.of(context).size.height / 11.5;\n    final HalfWidth = MediaQuery.of(context).size.width / 2;\n    //username shower\n    final bottom = profileHeight / 9;\n    return Stack(\n        clipBehavior: Clip.none,\n        alignment: Alignment.center,\n        children: [\n          Container(\n            margin: EdgeInsets.only(bottom: bottom),\n            //background image control\n            child: BGIImage(),\n          ),\n          Positioned(\n            bottom: 0,\n            right: 0,\n            child: Container(\n              height: MediaQuery.of(context).size.height / 20,\n              width: MediaQuery.of(context).size.width / 5,\n              decoration: BoxDecoration(\n                  shape: BoxShape.circle,\n                  border: Border.all(width: 0.8, color: Colors.white),\n                  color: Colors.orange),\n              child: IconButton(\n                //add the function edit user icon\n                onPressed: () {\n                  _showSelectPhotoOptions(context);\n                  //print(MediaQuery.of(context).size.height);\n                  //print(MediaQuery.of(context).size.width);\n                },\n                icon: Icon(\n                  Icons.edit,\n                ),\n              ),\n            ),\n          ),\n          //Icon UI control\n          Positioned(top: _top, child: IconImage()),\n          Positioned(top: _top * 1.6, child: Showusername()),\n          Positioned(top: _top * 1.75, child: buildContent()),\n          Positioned(top: _top * 1.9, child: dynamicBadge()),\n          Positioned(\n              top: _top * 2.15,\n              right: HalfWidth * 1.25,\n              child: FollowingLayer()),\n          Positioned(\n              top: _top * 2.15, right: HalfWidth * 0.4, child: FollowerLayer()),\n          Positioned(top: _top * 2.4, child: PostOrGallery()),\n        ]);\n  }\n\n//profile icon source & UI control\n  Widget IconImage() => CircleAvatar(\n        radius: profileHeight / 2.3,\n        child: ClipRRect(\n          borderRadius: BorderRadius.circular(100),\n          child: Image.network(\n            _userIcon,\n            errorBuilder: (context, error, stackTrace) {\n              return const Icon(Icons.error);\n            },\n            loadingBuilder: (context, child, loadingProgress) {\n              if (loadingProgress == null) return child;\n              return Center(\n                child: CircularProgressIndicator(\n                  value: loadingProgress.expectedTotalBytes != null\n                      ? loadingProgress.cumulativeBytesLoaded /\n                          loadingProgress.expectedTotalBytes!\n                      : null,\n                ),\n              );\n            },\n          ),\n        ),\n      );\n\n//profile background image source & UI control\n  Widget BGIImage() => Container(\n        child: Image.network(\n          _UserBGI,\n          width: double.infinity,\n          height: coverHeight,\n          fit: BoxFit.fill,\n          errorBuilder: (context, error, stackTrace) {\n            return const Icon(Icons.error);\n          },\n          loadingBuilder: (context, child, loadingProgress) {\n            if (loadingProgress == null) return child;\n            return Center(\n              child: CircularProgressIndicator(\n                value: loadingProgress.expectedTotalBytes != null\n                    ? loadingProgress.cumulativeBytesLoaded /\n                        loadingProgress.expectedTotalBytes!\n                    : null,\n              ),\n            );\n          },\n        ),\n      );\n\n  Widget Showusername() => Container(\n        margin: EdgeInsets.only(top: 10),\n        child: Text(\n          _username,\n          style: TextStyle(\n            fontSize: 17,\n            fontWeight: FontWeight.w400,\n            color: Colors.black,\n          ),\n        ),\n      );\n\n  Widget buildContent() => Container(\n        margin: EdgeInsets.only(top: 10),\n        child: Text(\n          _Selfintro,\n          style: TextStyle(\n            fontSize: 17,\n            fontWeight: FontWeight.w400,\n            color: Colors.black,\n          ),\n        ),\n      );\n\n  Widget dynamicBadge() => Container(\n        margin: EdgeInsets.only(top: 10),\n        child: Row(\n          mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n          children: [\n            Icon(Icons.coffee_outlined, color: Colors.black),\n            SizedBox(\n              width: 5,\n            ),\n            Icon(\n              Icons.book_outlined,\n              color: Colors.black,\n            ),\n            SizedBox(\n              width: 5,\n            ),\n            Icon(Icons.rocket_launch_outlined, color: Colors.black),\n          ],\n        ),\n      );\n\n  Widget FollowingLayer() => Container(\n        // the Expanded widget lets the columns share the space\n        child: Column(\n          // align the text to the left instead of centered\n          crossAxisAlignment: CrossAxisAlignment.center,\n          children: <Widget>[\n            Text(\n              'Following',\n              style: TextStyle(fontSize: 14, color: Colors.black),\n            ),\n            Text(\n              '10000',\n              style: TextStyle(fontSize: 16, color: Colors.black),\n            ),\n          ],\n        ),\n      );\n\n  Widget FollowerLayer() => Container(\n        // the Expanded widget lets the columns share the space\n        child: Column(\n          // align the text to the left instead of centered\n          crossAxisAlignment: CrossAxisAlignment.center,\n          children: <Widget>[\n            Text(\n              'Follower',\n              style: TextStyle(fontSize: 14, color: Colors.black),\n            ),\n            Text(\n              '10000',\n              style: TextStyle(fontSize: 16, color: Colors.black),\n            ),\n          ],\n        ),\n      );\n\n  Widget PostOrGallery() => Container(\n      height: MediaQuery.of(context).size.height *\n          20, // Adjust the height according to your needs,\n      width: MediaQuery.of(context).size.width,\n      color: Colors.white,\n      child: DefaultTabController(\n        length: 2,\n        child: new Scaffold(\n          body: new NestedScrollView(\n            headerSliverBuilder:\n                (BuildContext context, bool innerBoxIsScrolled) {\n              return <Widget>[\n                new SliverAppBar(\n                  backgroundColor: ui.Color.fromARGB(255, 209, 167, 107),\n                  toolbarHeight: MediaQuery.of(context).size.height / 100,\n                  floating: true,\n                  pinned: true,\n                  snap: true,\n                  bottom: new TabBar(\n                    tabs: <Tab>[\n                      new Tab(\n                        icon: Icon(\n                          Icons.content_copy_outlined,\n                          color: Colors.black,\n                        ),\n                      ),\n                      new Tab(\n                          icon: Icon(\n                        Icons.collections_outlined,\n                      )),\n                    ], // <-- total of 2 tabs\n                  ),\n                ),\n              ];\n            },\n            body: new TabBarView(\n              children: <Widget>[\n                Center(child: CurrentUserPost()),\n                Center(child: CurrentUserPost()),\n              ],\n            ),\n          ),\n        ),\n      ));\n"
        ]
    },
    {
        "titulo": "graphql_flutter - query fails saying expected a selection set starting with &#39;{&#39;",
        "score": 0,
        "views": 197,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "graphql-flutter"
        ],
        "link": "https://stackoverflow.com/questions/76077920/graphql-flutter-query-fails-saying-expected-a-selection-set-starting-with",
        "conteudo_html": "<p>I am testing out a graphql query in flutter using the graphql_flutter package.</p>\n<p>Below is my code executing the query -</p>\n<pre><code>final phoneNumbers = [&quot;4160000000&quot;, &quot;7780000000&quot;];\n\n    final filters = phoneNumbers.map((phoneNumber) =&gt; phoneNumber).toList();\n\n    Map&lt;String, dynamic&gt; filter = {\n      &quot;or&quot;: filters,\n    };\n\n    const String getAzureContacts = &quot;&quot;&quot;\n      query filterItems (\\$filter: filters!) {\n        items(filter: \\$filter) {\n          items {\n            partitionKey\n            userPhoneNumber\n            userDisplayName\n          } \n        }\n      }\n    &quot;&quot;&quot;;\n\n    HttpLink link = GlobalVariables().graphqlEndpoint;\n    GraphQLClient graphQlClient = GraphQLClient(\n      link: link,\n      cache: GraphQLCache(\n        store: InMemoryStore(),\n      ),\n    );\n    try {\n      QueryResult queryResult = await graphQlClient.query(\n        QueryOptions(\n            fetchPolicy: FetchPolicy.networkOnly,\n            document: gql(\n              getAzureContacts,\n            ),\n            variables: {'filter': filter}),\n      );\n      print(queryResult.data);\n    } catch (e) {\n      print('Query failed: $e');\n    }\n</code></pre>\n<p>Here is the error after running the code -</p>\n<pre><code>I/flutter ( 7103): Query failed: Error on line 6, column 5: Expected a selection set starting with '{'\nI/flutter ( 7103):   ╷\nI/flutter ( 7103): 6 │     }\nI/flutter ( 7103):   │     ^\nI/flutter ( 7103):   ╵\n</code></pre>\n<hr />\n<p>Update - April 22nd 2023</p>\n<p>I have added curly braces, now I am getting another error.</p>\n<pre><code>const String getAzureContacts = &quot;&quot;&quot; {\n  query(\\$filter: filters!) {\n    items(filter: \\$filter) {\n      items {\n        partitionKey\n        userPhoneNumber\n        userDisplayName\n      }\n    }\n  }\n}  \n&quot;&quot;&quot;;\n\nI/flutter (11573): Query failed: Error on line 2, column 22: Expected an argument name\nI/flutter (11573):   ╷\nI/flutter (11573): 2 │   query filterItems ($filter: filters!) {\nI/flutter (11573):   │                      ^\nI/flutter (11573):   ╵\n</code></pre>\n",
        "codigo": [
            "final phoneNumbers = [\"4160000000\", \"7780000000\"];\n\n    final filters = phoneNumbers.map((phoneNumber) => phoneNumber).toList();\n\n    Map<String, dynamic> filter = {\n      \"or\": filters,\n    };\n\n    const String getAzureContacts = \"\"\"\n      query filterItems (\\$filter: filters!) {\n        items(filter: \\$filter) {\n          items {\n            partitionKey\n            userPhoneNumber\n            userDisplayName\n          } \n        }\n      }\n    \"\"\";\n\n    HttpLink link = GlobalVariables().graphqlEndpoint;\n    GraphQLClient graphQlClient = GraphQLClient(\n      link: link,\n      cache: GraphQLCache(\n        store: InMemoryStore(),\n      ),\n    );\n    try {\n      QueryResult queryResult = await graphQlClient.query(\n        QueryOptions(\n            fetchPolicy: FetchPolicy.networkOnly,\n            document: gql(\n              getAzureContacts,\n            ),\n            variables: {'filter': filter}),\n      );\n      print(queryResult.data);\n    } catch (e) {\n      print('Query failed: $e');\n    }\n",
            "I/flutter ( 7103): Query failed: Error on line 6, column 5: Expected a selection set starting with '{'\nI/flutter ( 7103):   ╷\nI/flutter ( 7103): 6 │     }\nI/flutter ( 7103):   │     ^\nI/flutter ( 7103):   ╵\n",
            "const String getAzureContacts = \"\"\" {\n  query(\\$filter: filters!) {\n    items(filter: \\$filter) {\n      items {\n        partitionKey\n        userPhoneNumber\n        userDisplayName\n      }\n    }\n  }\n}  \n\"\"\";\n\nI/flutter (11573): Query failed: Error on line 2, column 22: Expected an argument name\nI/flutter (11573):   ╷\nI/flutter (11573): 2 │   query filterItems ($filter: filters!) {\nI/flutter (11573):   │                      ^\nI/flutter (11573):   ╵\n"
        ]
    },
    {
        "titulo": "Static type of Future&lt;T&gt; in classes not working | Dart",
        "score": 0,
        "views": 104,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "types",
            "future",
            "static-analysis"
        ],
        "link": "https://stackoverflow.com/questions/76073781/static-type-of-futuret-in-classes-not-working-dart",
        "conteudo_html": "<p>I want to make a Class in Dart with a static type of Future&lt;T&gt;.\nBecause I want to implement its Call-Function async with type T, so I can call it like this:</p>\n<pre><code>MyFunction&lt;T&gt; func = MyFunction&lt;T&gt;();\nT var = await func();\n</code></pre>\n<p>I tried to define this Class in that way:</p>\n<pre><code>class MyClass&lt;Future&lt;T&gt;&gt; {\n  \n Future&lt;T&gt; call() async {\n  //return a Future&lt;T&gt;\n }\n\n}\n</code></pre>\n<p>It gives me a compiler error:</p>\n<p><code>Expected to find '&gt;'</code></p>\n<p>It seems like it works only with type <code>Future</code> and not <code>Future&lt;foo&gt;</code></p>\n<p>Why does this not work?\nIs there another way to force the Type of the Class to be a Future of type T somehow?</p>\n",
        "codigo": [
            "MyFunction<T> func = MyFunction<T>();\nT var = await func();\n",
            "class MyClass<Future<T>> {\n  \n Future<T> call() async {\n  //return a Future<T>\n }\n\n}\n",
            "Expected to find '>'",
            "Future",
            "Future<foo>"
        ]
    },
    {
        "titulo": "Error running automated test in Flutter with Patrol",
        "score": 0,
        "views": 654,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "flutter-patrol"
        ],
        "link": "https://stackoverflow.com/questions/76065132/error-running-automated-test-in-flutter-with-patrol",
        "conteudo_html": "<p>I'm trying to run a simple test with Patrol and I get the following error:\nPatrol (native): configure() failed: (GrpcError: configure() failed with code UNAVAILABLE (Error connecting: SocketException: The remote computer refused the network connection.\n(OS Error: The remote computer refused the network connection</p>\n<p>Below I attach my code</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_myapp/main.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:patrol/patrol.dart';\n\nvoid main() async {\n\n\n  patrolTest(&quot;Login user successfully&quot;, (PatrolTester $) async {\n    await $.pumpWidgetAndSettle(const MyApp());\n    await $.native.enterText(\n        Selector(textContains: 'Nombre'), text: &quot;Juan Pablo&quot;);\n    await $.native.enterText(\n        Selector(textContains: 'Apellido'), text: &quot;Gonzalez&quot;);\n    await $.native.tap(Selector(textContains: 'Open second page'));\n    expect($(&quot;Juan Pablo&quot;).waitUntilVisible(), findsOneWidget);\n  }, nativeAutomation: true);\n}\n</code></pre>\n<p>It should be noted that I already have my android device configured and I followed the steps of the patrol setup as well.</p>\n<p>Can someone help me please</p>\n<p>This is my pubsec.yaml</p>\n<pre><code>name: flutter_myapp\ndescription: A new Flutter project.\n# The following line prevents the package from being accidentally published to\n# pub.dev using `flutter pub publish`. This is preferred for private packages.\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\n# The following defines the version and build number for your application.\n# A version number is three numbers separated by dots, like 1.2.43\n# followed by an optional build number separated by a +.\n# Both the version and the builder number may be overridden in flutter\n# build by specifying --build-name and --build-number, respectively.\n# In Android, build-name is used as versionName while build-number used as versionCode.\n# Read more about Android versioning at https://developer.android.com/studio/publish/versioning\n# In iOS, build-name is used as CFBundleShortVersionString while build-number is used as CFBundleVersion.\n# Read more about iOS versioning at\n# https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html\n# In Windows, build-name is used as the major, minor, and patch parts\n# of the product and file versions while build-number is used as the build suffix.\nversion: 1.0.0+1\n\nenvironment:\n  sdk: '&gt;=2.19.6 &lt;3.0.0'\n\n# Dependencies specify other packages that your package needs in order to work.\n# To automatically upgrade your package dependencies to the latest versions\n# consider running `flutter pub upgrade --major-versions`. Alternatively,\n# dependencies can be manually updated by changing the version numbers below to\n# the latest version available on pub.dev. To see which dependencies have newer\n# versions available, run `flutter pub outdated`.\ndependencies:\n  flutter:\n    sdk: flutter\n\n\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons: ^1.0.2\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  # The &quot;flutter_lints&quot; package below contains a set of recommended lints to\n  # encourage good coding practices. The lint set provided by the package is\n  # activated in the `analysis_options.yaml` file located at the root of your\n  # package. See that file for information about deactivating specific lint\n  # rules and activating additional ones.\n  flutter_lints: ^2.0.0\n  patrol: ^1.1.0\n\n# For information on the generic Dart part of this file, see the\n# following page: https://dart.dev/tools/pub/pubspec\n\n# The following section is specific to Flutter packages.\nflutter:\n\n  # The following line ensures that the Material Icons font is\n  # included with your application, so that you can use the icons in\n  # the material Icons class.\n  uses-material-design: true\n\n  # To add assets to your application, add an assets section, like this:\n  # assets:\n  #   - images/a_dot_burr.jpeg\n  #   - images/a_dot_ham.jpeg\n\n  # An image asset can refer to one or more resolution-specific &quot;variants&quot;, see\n  # https://flutter.dev/assets-and-images/#resolution-aware\n\n  # For details regarding adding assets from package dependencies, see\n  # https://flutter.dev/assets-and-images/#from-packages\n\n  # To add custom fonts to your application, add a fonts section here,\n  # in this &quot;flutter&quot; section. Each entry in this list should have a\n  # &quot;family&quot; key with the font family name, and a &quot;fonts&quot; key with a\n  # list giving the asset and other descriptors for the font. For\n  # example:\n  # fonts:\n  #   - family: Schyler\n  #     fonts:\n  #       - asset: fonts/Schyler-Regular.ttf\n  #       - asset: fonts/Schyler-Italic.ttf\n  #         style: italic\n  #   - family: Trajan Pro\n  #     fonts:\n  #       - asset: fonts/TrajanPro.ttf\n  #       - asset: fonts/TrajanPro_Bold.ttf\n  #         weight: 700\n  #\n  # For details regarding fonts from package dependencies,\n  # see https://flutter.dev/custom-fonts/#from-packages\n\n</code></pre>\n",
        "codigo": [
            "import 'package:flutter/material.dart';\nimport 'package:flutter_myapp/main.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:patrol/patrol.dart';\n\nvoid main() async {\n\n\n  patrolTest(\"Login user successfully\", (PatrolTester $) async {\n    await $.pumpWidgetAndSettle(const MyApp());\n    await $.native.enterText(\n        Selector(textContains: 'Nombre'), text: \"Juan Pablo\");\n    await $.native.enterText(\n        Selector(textContains: 'Apellido'), text: \"Gonzalez\");\n    await $.native.tap(Selector(textContains: 'Open second page'));\n    expect($(\"Juan Pablo\").waitUntilVisible(), findsOneWidget);\n  }, nativeAutomation: true);\n}\n",
            "name: flutter_myapp\ndescription: A new Flutter project.\n# The following line prevents the package from being accidentally published to\n# pub.dev using `flutter pub publish`. This is preferred for private packages.\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\n# The following defines the version and build number for your application.\n# A version number is three numbers separated by dots, like 1.2.43\n# followed by an optional build number separated by a +.\n# Both the version and the builder number may be overridden in flutter\n# build by specifying --build-name and --build-number, respectively.\n# In Android, build-name is used as versionName while build-number used as versionCode.\n# Read more about Android versioning at https://developer.android.com/studio/publish/versioning\n# In iOS, build-name is used as CFBundleShortVersionString while build-number is used as CFBundleVersion.\n# Read more about iOS versioning at\n# https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html\n# In Windows, build-name is used as the major, minor, and patch parts\n# of the product and file versions while build-number is used as the build suffix.\nversion: 1.0.0+1\n\nenvironment:\n  sdk: '>=2.19.6 <3.0.0'\n\n# Dependencies specify other packages that your package needs in order to work.\n# To automatically upgrade your package dependencies to the latest versions\n# consider running `flutter pub upgrade --major-versions`. Alternatively,\n# dependencies can be manually updated by changing the version numbers below to\n# the latest version available on pub.dev. To see which dependencies have newer\n# versions available, run `flutter pub outdated`.\ndependencies:\n  flutter:\n    sdk: flutter\n\n\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons: ^1.0.2\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n\n  # The \"flutter_lints\" package below contains a set of recommended lints to\n  # encourage good coding practices. The lint set provided by the package is\n  # activated in the `analysis_options.yaml` file located at the root of your\n  # package. See that file for information about deactivating specific lint\n  # rules and activating additional ones.\n  flutter_lints: ^2.0.0\n  patrol: ^1.1.0\n\n# For information on the generic Dart part of this file, see the\n# following page: https://dart.dev/tools/pub/pubspec\n\n# The following section is specific to Flutter packages.\nflutter:\n\n  # The following line ensures that the Material Icons font is\n  # included with your application, so that you can use the icons in\n  # the material Icons class.\n  uses-material-design: true\n\n  # To add assets to your application, add an assets section, like this:\n  # assets:\n  #   - images/a_dot_burr.jpeg\n  #   - images/a_dot_ham.jpeg\n\n  # An image asset can refer to one or more resolution-specific \"variants\", see\n  # https://flutter.dev/assets-and-images/#resolution-aware\n\n  # For details regarding adding assets from package dependencies, see\n  # https://flutter.dev/assets-and-images/#from-packages\n\n  # To add custom fonts to your application, add a fonts section here,\n  # in this \"flutter\" section. Each entry in this list should have a\n  # \"family\" key with the font family name, and a \"fonts\" key with a\n  # list giving the asset and other descriptors for the font. For\n  # example:\n  # fonts:\n  #   - family: Schyler\n  #     fonts:\n  #       - asset: fonts/Schyler-Regular.ttf\n  #       - asset: fonts/Schyler-Italic.ttf\n  #         style: italic\n  #   - family: Trajan Pro\n  #     fonts:\n  #       - asset: fonts/TrajanPro.ttf\n  #       - asset: fonts/TrajanPro_Bold.ttf\n  #         weight: 700\n  #\n  # For details regarding fonts from package dependencies,\n  # see https://flutter.dev/custom-fonts/#from-packages\n\n"
        ]
    },
    {
        "titulo": "I want to remove string from a String in dart flutter, How to seperate",
        "score": -1,
        "views": 119,
        "respostas": 3,
        "tags": [
            "flutter",
            "dart",
            "flutter-dependencies"
        ],
        "link": "https://stackoverflow.com/questions/76052813/i-want-to-remove-string-from-a-string-in-dart-flutter-how-to-seperate",
        "conteudo_html": "<p>I am trying to seperate or removing a string.\nHere the example:</p>\n<pre><code>String sample = &quot;https://xyz-api.portal.com/&quot;;\n</code></pre>\n<p>i want to get only &quot;xyz-api&quot;, this string and want to store a variable,</p>\n<pre><code>the expected output = \nString result = &quot;xyz-api&quot;\n</code></pre>\n<p>How to do that, i am confusing this string conversion, please help</p>\n",
        "codigo": [
            "String sample = \"https://xyz-api.portal.com/\";\n",
            "the expected output = \nString result = \"xyz-api\"\n"
        ]
    },
    {
        "titulo": "LateInitializationError: Field &#39;imageFile&#39; has not been initialized",
        "score": -1,
        "views": 169,
        "respostas": 3,
        "tags": [
            "flutter",
            "dart",
            "camera"
        ],
        "link": "https://stackoverflow.com/questions/76052048/lateinitializationerror-field-imagefile-has-not-been-initialized",
        "conteudo_html": "<p>I am working on an application where I capture images from a camera initialized and navigate to the next page. I am writing a method named captureImage and calling it in floatingactionbutton. Below is the code---</p>\n<pre><code>void _captureImage() async {\nif (_cameraController != null &amp;&amp; \n_cameraController.value.isInitialized) \n{\ntry {\n  final image = await _cameraController.takePicture();\n  if (image != null) {\n    setState(() {\n      _image = image;\n      Navigator.push(\n        context,\n        MaterialPageRoute(\n          builder: (context) =&gt; Verify(image: _image),\n        ),\n      );\n    });\n  }\n} catch (e) {\n  // handle the error here, e.g. print an error message\n  print('Error capturing image: $e');\n}\n} else {\nprint(&quot;Camera not initialized.&quot;);\n}\n}\n</code></pre>\n<p>I have tried initializing</p>\n<p>on the second screen i have used image to display in container.\nbelow is that code---</p>\n<p>this is how i initialized---</p>\n<p>late File image;</p>\n<pre><code>child: Container(\nwidth: 140,\nheight: 180,\nchild: Image.file(image),\n ),\n</code></pre>\n<p>error shows in this line.</p>\n",
        "codigo": [
            "void _captureImage() async {\nif (_cameraController != null && \n_cameraController.value.isInitialized) \n{\ntry {\n  final image = await _cameraController.takePicture();\n  if (image != null) {\n    setState(() {\n      _image = image;\n      Navigator.push(\n        context,\n        MaterialPageRoute(\n          builder: (context) => Verify(image: _image),\n        ),\n      );\n    });\n  }\n} catch (e) {\n  // handle the error here, e.g. print an error message\n  print('Error capturing image: $e');\n}\n} else {\nprint(\"Camera not initialized.\");\n}\n}\n",
            "child: Container(\nwidth: 140,\nheight: 180,\nchild: Image.file(image),\n ),\n"
        ]
    },
    {
        "titulo": "SocketException when connecting to VM Service",
        "score": 4,
        "views": 1121,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76050600/socketexception-when-connecting-to-vm-service",
        "conteudo_html": "<p>I'm running a flutter application using WSL2 and adb. The emulator is running on the Windows side.</p>\n<p>The application was built successfully, but it gives me the following error:</p>\n<pre><code>Exception attempting to connect to the VM Service: SocketException: Connection refused (OS Error: Connection refused,\nerrno = 111), address = 127.0.0.1, port = 43678\n</code></pre>\n<p>In Vscode, it doesn't even build.</p>\n<p>Logs:</p>\n<pre><code>✓  Built build/app/outputs/flutter-apk/app-debug.apk.\nConnecting to the VM Service is taking longer than expected...\nStill attempting to connect to the VM Service...\nIf you do NOT see the Flutter application running, it might have crashed. The device logs (e.g. from adb or XCode) might\nhave more details.\nIf you do see the Flutter application running on the device, try re-running with --host-vmservice-port to use a specific\nport known to be available.\nException attempting to connect to the VM Service: SocketException: Connection refused (OS Error: Connection refused,\nerrno = 111), address = 127.0.0.1, port = 43378\nThis was attempt #50. Will retry in 0:00:01.600000.\n</code></pre>\n",
        "codigo": [
            "Exception attempting to connect to the VM Service: SocketException: Connection refused (OS Error: Connection refused,\nerrno = 111), address = 127.0.0.1, port = 43678\n",
            "✓  Built build/app/outputs/flutter-apk/app-debug.apk.\nConnecting to the VM Service is taking longer than expected...\nStill attempting to connect to the VM Service...\nIf you do NOT see the Flutter application running, it might have crashed. The device logs (e.g. from adb or XCode) might\nhave more details.\nIf you do see the Flutter application running on the device, try re-running with --host-vmservice-port to use a specific\nport known to be available.\nException attempting to connect to the VM Service: SocketException: Connection refused (OS Error: Connection refused,\nerrno = 111), address = 127.0.0.1, port = 43378\nThis was attempt #50. Will retry in 0:00:01.600000.\n"
        ]
    },
    {
        "titulo": "Why the exitPort hander `if` statement isn&#39;t called at the very end",
        "score": 0,
        "views": 40,
        "respostas": 1,
        "tags": [
            "dart",
            "dart-isolates"
        ],
        "link": "https://stackoverflow.com/questions/76023600/why-the-exitport-hander-if-statement-isnt-called-at-the-very-end",
        "conteudo_html": "<p>In the below program the <code>printTest</code> method must be called at the end after all Isolates have finished but why is <code>printTest</code> method called before the isolates have finished. This condition checks <code>if (--liveIsolates == 0)</code> weather isolates have finished executing.</p>\n<p>The <code>Test</code> class instance is used to check weather the instance is same inside of different isolates.</p>\n<h2>Source</h2>\n<hr />\n<pre><code>import &quot;dart:isolate&quot;;\n\nTest test = Test();\n\nvoid main(final List&lt;String&gt; args) async {\n  final exitPort = RawReceivePort();\n  const int numberOfIsolates = 1000;\n  int liveIsolates = 0;\n\n  exitPort.handler = (_) {\n    print(&quot;Entering handler&quot;);\n\n    final alpha = &quot;abcdefghijklmnopqurstuvwxyz&quot;;\n    print(&quot;$alpha $alpha $alpha $_&quot;);\n    if (--liveIsolates == 0) {\n      printTest();\n      print(&quot;Closing the exitPort&quot;);\n      exitPort.close();\n    }\n\n    print(&quot;Exiting handler&quot;);\n  };\n\n  liveIsolates = numberOfIsolates;\n\n  for (int i = 0; i &lt; numberOfIsolates; i++) { // creating multiple isolates\n    final isolate1 =\n        await Isolate.spawn(foo, exitPort.sendPort, onExit: exitPort.sendPort);\n  }\n\n  print(&quot;Exiting main&quot;);\n}\n\nvoid foo(final SendPort sendPort) {\n  sendPort.send(&quot;Data to be send from foo&quot;);\n  print(&quot;Entering foo sendPort id ${sendPort.hashCode}&quot;);\n  test++;\n  print(&quot;Exiting foo id test : ${test.hashCode}&quot;);\n  print(&quot;Exiting foo id test : $test&quot;);\n}\n\nvoid printTest() { // should be called @ last by exitPort handler\n  print(&quot;Value of test : $test&quot;);\n}\n\nclass Test {\n  int _data = 0;\n\n  void set(int value) =&gt; _data = value;\n\n  int get data =&gt; _data;\n\n  @override\n  String toString() {\n    return _data.toString();\n  }\n\n  Test operator +(int _) { // overloading ++ operator\n    _data++;\n    return this;\n  }\n}\n</code></pre>\n<hr />\n<p>Why the below lines of statement is executed before all the isolates have finished? From the output of the above program we can see that this statement <code>Closing the exitPort</code> is displayed at in between instead of @ the very bottom.</p>\n<pre><code>if (--liveIsolates == 0) {\n      printTest();\n      print(&quot;Closing the exitPort&quot;);\n      exitPort.close();\n    }\n</code></pre>\n",
        "codigo": [
            "printTest",
            "printTest",
            "if (--liveIsolates == 0)",
            "Test",
            "import \"dart:isolate\";\n\nTest test = Test();\n\nvoid main(final List<String> args) async {\n  final exitPort = RawReceivePort();\n  const int numberOfIsolates = 1000;\n  int liveIsolates = 0;\n\n  exitPort.handler = (_) {\n    print(\"Entering handler\");\n\n    final alpha = \"abcdefghijklmnopqurstuvwxyz\";\n    print(\"$alpha $alpha $alpha $_\");\n    if (--liveIsolates == 0) {\n      printTest();\n      print(\"Closing the exitPort\");\n      exitPort.close();\n    }\n\n    print(\"Exiting handler\");\n  };\n\n  liveIsolates = numberOfIsolates;\n\n  for (int i = 0; i < numberOfIsolates; i++) { // creating multiple isolates\n    final isolate1 =\n        await Isolate.spawn(foo, exitPort.sendPort, onExit: exitPort.sendPort);\n  }\n\n  print(\"Exiting main\");\n}\n\nvoid foo(final SendPort sendPort) {\n  sendPort.send(\"Data to be send from foo\");\n  print(\"Entering foo sendPort id ${sendPort.hashCode}\");\n  test++;\n  print(\"Exiting foo id test : ${test.hashCode}\");\n  print(\"Exiting foo id test : $test\");\n}\n\nvoid printTest() { // should be called @ last by exitPort handler\n  print(\"Value of test : $test\");\n}\n\nclass Test {\n  int _data = 0;\n\n  void set(int value) => _data = value;\n\n  int get data => _data;\n\n  @override\n  String toString() {\n    return _data.toString();\n  }\n\n  Test operator +(int _) { // overloading ++ operator\n    _data++;\n    return this;\n  }\n}\n",
            "Closing the exitPort",
            "if (--liveIsolates == 0) {\n      printTest();\n      print(\"Closing the exitPort\");\n      exitPort.close();\n    }\n"
        ]
    },
    {
        "titulo": "Flutter Shared Preferences are not initializing in tests",
        "score": 1,
        "views": 485,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "testing",
            "sharedpreferences"
        ],
        "link": "https://stackoverflow.com/questions/76019531/flutter-shared-preferences-are-not-initializing-in-tests",
        "conteudo_html": "<p>I am trying to write a test to check my ThreadService. It uses prefs and works okay in the app, but when I run a test I get a <code>LateInitializationError: Field prefs has not been initialized.</code> Here is the code of the test:</p>\n<pre><code>late SharedPreferences prefs;\nvoid main() async {\n  setUp(() async {\n    WidgetsFlutterBinding.ensureInitialized();\n    SharedPreferences.setMockInitialValues({\n        (...)\n    });\n    prefs = await SharedPreferences.getInstance();\n  });\n  test('test', () async {\n    final threadService = ThreadService(boardTag: 'pr', threadId: 1008826);\n\n    await threadService.getRoots();\n    (...)\n  });\n}\n</code></pre>\n<p>I have tried to move <code>prefs = await SharedPreferences.getInstance();</code> in test body, but it did not work.</p>\n",
        "codigo": [
            "LateInitializationError: Field prefs has not been initialized.",
            "late SharedPreferences prefs;\nvoid main() async {\n  setUp(() async {\n    WidgetsFlutterBinding.ensureInitialized();\n    SharedPreferences.setMockInitialValues({\n        (...)\n    });\n    prefs = await SharedPreferences.getInstance();\n  });\n  test('test', () async {\n    final threadService = ThreadService(boardTag: 'pr', threadId: 1008826);\n\n    await threadService.getRoots();\n    (...)\n  });\n}\n",
            "prefs = await SharedPreferences.getInstance();"
        ]
    },
    {
        "titulo": "Why won&#39;t my mysql1 queries in dart return any results?",
        "score": 1,
        "views": 961,
        "respostas": 6,
        "tags": [
            "mysql",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76017696/why-wont-my-mysql1-queries-in-dart-return-any-results",
        "conteudo_html": "<p>I have recently started developing a flutter/dart project getting some basic pages set up and navigation.</p>\n<p>I have a MySQL database that I would like to incorporate and I found the mysql1 package to help me do this. I've imported the package and used the examples found <a href=\"https://pub.dev/packages/mysql1\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The problem I'm having is that I can't seem to see any of the data in the db.</p>\n<p>in my Main.dart I have this:</p>\n<pre><code> import 'dart:async';\n import 'package:mysql1/mysql1.dart';\n\n Future main() async {\n   // Open a connection (testdb should already exist)\n   final connection = await MySqlConnection.connect(new ConnectionSettings(\n     host: '10.0.2.2',\n     port: 3306,\n     user: 'root',\n     password: 'gDrP^6W42f9Z',\n     db: 'EntomologyApp',\n   ));\n\n   var results = await connection.query('select * from Account'); // expected results\n   print(results);\n\n   // Finally, close the connection\n   await connection.close();\n }\n</code></pre>\n<p>After trying so many different approaches and not reaching any real solution I don't know what to try next.</p>\n<p>Here, I expect a connection to made to MySQL DB and the data to be accessed through the <code>connection.query</code> select statement. I then expect it to print out the results just so I can clarify there is results.</p>\n<p>When I run the exact same query in SQL workbench, I get results of dummy data I have inserted for testing but here all I get in the console is '()' which I would assume is just an empty list of potential records.</p>\n<p>Now, I know it may seem like there's a connection issue, but if I put this line of code in just above the other query code:</p>\n<pre><code>   await connection.query(\n       'CREATE TABLE users (id int NOT NULL AUTO_INCREMENT PRIMARY KEY, name varchar(255), email varchar(255), age int)');\n</code></pre>\n<p>it works and creates a 'users' table in workbench, then any time I run after, it will say a table already exists called 'users'. I have this code here just to test that table creation works. I want to access the data in the 'Account' table however, of which there are plenty of records now.</p>\n<p>EDIT:\nI have now tested inserting a single record with:\n<code>await connection.query('insert into Account (email, password) values (&quot;bob@bob.com&quot;, &quot;password123&quot;)');</code></p>\n<p>and it successfully creates a record in the Account table, so creation statements seem to work but select doesn't.</p>\n",
        "codigo": [
            " import 'dart:async';\n import 'package:mysql1/mysql1.dart';\n\n Future main() async {\n   // Open a connection (testdb should already exist)\n   final connection = await MySqlConnection.connect(new ConnectionSettings(\n     host: '10.0.2.2',\n     port: 3306,\n     user: 'root',\n     password: 'gDrP^6W42f9Z',\n     db: 'EntomologyApp',\n   ));\n\n   var results = await connection.query('select * from Account'); // expected results\n   print(results);\n\n   // Finally, close the connection\n   await connection.close();\n }\n",
            "connection.query",
            "   await connection.query(\n       'CREATE TABLE users (id int NOT NULL AUTO_INCREMENT PRIMARY KEY, name varchar(255), email varchar(255), age int)');\n",
            "await connection.query('insert into Account (email, password) values (\"bob@bob.com\", \"password123\")');"
        ]
    },
    {
        "titulo": "dart eval built in errors",
        "score": 0,
        "views": 166,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/76008606/dart-eval-built-in-errors",
        "conteudo_html": "<p>importing dart's eval raises many errors with the built in code</p>\n<p>i get the errors without even calling eval just from the import</p>\n<pre><code>import 'package:dart_eval/dart_eval.dart';\nimport 'dart:math';\n\nvoid main() {\n  // print(eval('2 + 2')); // -&gt; 4\n  print('hi');\n}\n\n</code></pre>\n<p>the errors are:</p>\n<pre><code>/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:41:13: Error: Expected an identifier, but got ']'.\nTry inserting an identifier before ']'.\n            ])?.$value;\n            ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:41:13: Error: Expected ':' before this.\n            ])?.$value;\n            ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:40:44: Error: A value of type '$Value' can't be assigned to a variable of type 'bool'.\n - '$Value' is from 'package:dart_eval/src/eval/runtime/class.dart' ('/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/runtime/class.dart').\n              runtime.wrapPrimitive(value) ?? value as $Value?\n                                           ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:104:103: Error: Expected an identifier, but got ']'.\nTry inserting an identifier before ']'.\n            return toEncodable.call(runtime, null, [runtime.wrapPrimitive(object) ?? object as $Value?])?.$value;\n                                                                                                      ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:104:103: Error: Expected ':' before this.\n            return toEncodable.call(runtime, null, [runtime.wrapPrimitive(object) ?? object as $Value?])?.$value;\n                                                                                                      ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:104:83: Error: A value of type '$Value' can't be assigned to a variable of type 'bool'.\n - '$Value' is from 'package:dart_eval/src/eval/runtime/class.dart' ('/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/runtime/class.dart').\n            return toEncodable.call(runtime, null, [runtime.wrapPrimitive(object) ?? object as $Value?])?.$value;\n                                                                                  ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:171:17: Error: Expected an identifier, but got ']'.\nTry inserting an identifier before ']'.\n                ])?.$value;\n                ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:171:17: Error: Expected ':' before this.\n                ])?.$value;\n                ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:170:48: Error: A value of type '$Value' can't be assigned to a variable of type 'bool'.\n - '$Value' is from 'package:dart_eval/src/eval/runtime/class.dart' ('/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/runtime/class.dart').\n                  runtime.wrapPrimitive(value) ?? value as $Value?\n                                               ^\n</code></pre>\n<p>i tried upgrading it with<code>flutter pub upgrade dart_eval</code>but it's already up tp date with version ^0.6.0</p>\n<p>is this flutter related, cuz eventually i want to use it in a flutter app.</p>\n<p>pubspec.yaml:</p>\n<pre><code>name: app\ndescription: A new Flutter project.\n\npublish_to: 'none'\n\nversion: 1.0.0+1\n\nenvironment:\n  sdk: '&gt;=2.18.4 &lt;3.0.0'\n\ndependencies:\n  flutter:\n    sdk: flutter\n   \n  cupertino_icons: ^1.0.2\n  http: ^0.13.5\n  dart_eval: ^0.6.0\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter \n  \n  flutter_lints: ^2.0.0\n\nflutter:\n\n  uses-material-design: true\n</code></pre>\n<p>and flutter -v doctor output:</p>\n<pre><code>[√] Flutter (Channel stable, 3.3.8, on Microsoft Windows [Version 10.0.22621.1555], locale en-US)\n    • Flutter version 3.3.8 on channel stable at D:\\Flutter SDK\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 52b3dc25f6 (5 months ago), 2022-11-09 12:09:26 +0800\n    • Engine revision 857bd6b74c\n    • Dart version 2.18.4\n    • DevTools version 2.15.0\n\n[X] Android toolchain - develop for Android devices\n    X Unable to locate Android SDK.\n      Install Android Studio from: https://developer.android.com/studio/index.html\n      On first launch it will assist you in installing the Android SDK components.\n      (or visit https://flutter.dev/docs/get-started/install/windows#android-setup for detailed instructions).\n      If the Android SDK has been installed to a custom location, please use\n      `flutter config --android-sdk` to update to that location.\n\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop for Windows\n    X Visual Studio not installed; this is necessary for Windows development.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\n\n[!] Android Studio (not installed)\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\n      (or visit https://flutter.dev/docs/get-started/install/windows#android-setup for detailed instructions).\n\n[√] VS Code (version 1.77.3)\n    • VS Code at C:\\Users\\hanno\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.62.0\n\n[√] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.22621.1555]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 112.0.5615.86\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 112.0.1722.39\n\n[√] HTTP Host Availability\n    • All required HTTP hosts are available\n\n! Doctor found issues in 3 categories.\n</code></pre>\n",
        "codigo": [
            "import 'package:dart_eval/dart_eval.dart';\nimport 'dart:math';\n\nvoid main() {\n  // print(eval('2 + 2')); // -> 4\n  print('hi');\n}\n\n",
            "/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:41:13: Error: Expected an identifier, but got ']'.\nTry inserting an identifier before ']'.\n            ])?.$value;\n            ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:41:13: Error: Expected ':' before this.\n            ])?.$value;\n            ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:40:44: Error: A value of type '$Value' can't be assigned to a variable of type 'bool'.\n - '$Value' is from 'package:dart_eval/src/eval/runtime/class.dart' ('/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/runtime/class.dart').\n              runtime.wrapPrimitive(value) ?? value as $Value?\n                                           ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:104:103: Error: Expected an identifier, but got ']'.\nTry inserting an identifier before ']'.\n            return toEncodable.call(runtime, null, [runtime.wrapPrimitive(object) ?? object as $Value?])?.$value;\n                                                                                                      ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:104:103: Error: Expected ':' before this.\n            return toEncodable.call(runtime, null, [runtime.wrapPrimitive(object) ?? object as $Value?])?.$value;\n                                                                                                      ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:104:83: Error: A value of type '$Value' can't be assigned to a variable of type 'bool'.\n - '$Value' is from 'package:dart_eval/src/eval/runtime/class.dart' ('/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/runtime/class.dart').\n            return toEncodable.call(runtime, null, [runtime.wrapPrimitive(object) ?? object as $Value?])?.$value;\n                                                                                  ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:171:17: Error: Expected an identifier, but got ']'.\nTry inserting an identifier before ']'.\n                ])?.$value;\n                ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:171:17: Error: Expected ':' before this.\n                ])?.$value;\n                ^\n/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/shared/stdlib/convert/json.dart:170:48: Error: A value of type '$Value' can't be assigned to a variable of type 'bool'.\n - '$Value' is from 'package:dart_eval/src/eval/runtime/class.dart' ('/D:/Flutter%20SDK/flutter/.pub-cache/hosted/pub.dartlang.org/dart_eval-0.6.0/lib/src/eval/runtime/class.dart').\n                  runtime.wrapPrimitive(value) ?? value as $Value?\n                                               ^\n",
            "flutter pub upgrade dart_eval",
            "name: app\ndescription: A new Flutter project.\n\npublish_to: 'none'\n\nversion: 1.0.0+1\n\nenvironment:\n  sdk: '>=2.18.4 <3.0.0'\n\ndependencies:\n  flutter:\n    sdk: flutter\n   \n  cupertino_icons: ^1.0.2\n  http: ^0.13.5\n  dart_eval: ^0.6.0\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter \n  \n  flutter_lints: ^2.0.0\n\nflutter:\n\n  uses-material-design: true\n",
            "[√] Flutter (Channel stable, 3.3.8, on Microsoft Windows [Version 10.0.22621.1555], locale en-US)\n    • Flutter version 3.3.8 on channel stable at D:\\Flutter SDK\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 52b3dc25f6 (5 months ago), 2022-11-09 12:09:26 +0800\n    • Engine revision 857bd6b74c\n    • Dart version 2.18.4\n    • DevTools version 2.15.0\n\n[X] Android toolchain - develop for Android devices\n    X Unable to locate Android SDK.\n      Install Android Studio from: https://developer.android.com/studio/index.html\n      On first launch it will assist you in installing the Android SDK components.\n      (or visit https://flutter.dev/docs/get-started/install/windows#android-setup for detailed instructions).\n      If the Android SDK has been installed to a custom location, please use\n      `flutter config --android-sdk` to update to that location.\n\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[X] Visual Studio - develop for Windows\n    X Visual Studio not installed; this is necessary for Windows development.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the \"Desktop development with C++\" workload, including all of its default components\n\n[!] Android Studio (not installed)\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\n      (or visit https://flutter.dev/docs/get-started/install/windows#android-setup for detailed instructions).\n\n[√] VS Code (version 1.77.3)\n    • VS Code at C:\\Users\\hanno\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.62.0\n\n[√] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.22621.1555]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 112.0.5615.86\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 112.0.1722.39\n\n[√] HTTP Host Availability\n    • All required HTTP hosts are available\n\n! Doctor found issues in 3 categories.\n"
        ]
    },
    {
        "titulo": "How can I fix the error of &quot;unassigned variable&quot; even tho the variable has been initialized?",
        "score": 0,
        "views": 151,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "asynchronous",
            "testing"
        ],
        "link": "https://stackoverflow.com/questions/76005611/how-can-i-fix-the-error-of-unassigned-variable-even-tho-the-variable-has-been",
        "conteudo_html": "<p>I have this code :</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void main() {\n  RethinkDb r = RethinkDb();\n  Connection connection;\n  UserService sut;\n\n  setUp(() async {\n    connection = await r.connect(host: &quot;127.0.0.1&quot;, port: 28015);\n    await createDb(r, connection);\n    sut = UserService(r, connection); // second line\n  });\n\n  test('creates a new user documenet in database', () async {\n    final user = User(\n      userName: 'test',\n      photoUrl: 'url',\n      active: true,\n      lastSeen: DateTime.now(),\n    );\n    final userWithId = await sut.connect(user); // first line\n    expect(userWithId.id, isNotEmpty);\n  });\n}\n</code></pre>\n<p>I'm having an error on &quot;first line&quot; that says that the <code>sut</code> variable must be initialized, but when you look at &quot;second line&quot;, you can see that the <code>sut</code> is indeed initialized, and the <code>setUp()</code> function is called before the <code>test()</code>.</p>\n",
        "codigo": [
            "void main() {\n  RethinkDb r = RethinkDb();\n  Connection connection;\n  UserService sut;\n\n  setUp(() async {\n    connection = await r.connect(host: \"127.0.0.1\", port: 28015);\n    await createDb(r, connection);\n    sut = UserService(r, connection); // second line\n  });\n\n  test('creates a new user documenet in database', () async {\n    final user = User(\n      userName: 'test',\n      photoUrl: 'url',\n      active: true,\n      lastSeen: DateTime.now(),\n    );\n    final userWithId = await sut.connect(user); // first line\n    expect(userWithId.id, isNotEmpty);\n  });\n}\n",
            "sut",
            "sut",
            "setUp()",
            "test()"
        ]
    },
    {
        "titulo": "How to unit test async function call inside stream listener",
        "score": 1,
        "views": 615,
        "respostas": 1,
        "tags": [
            "dart",
            "unit-testing"
        ],
        "link": "https://stackoverflow.com/questions/76004663/how-to-unit-test-async-function-call-inside-stream-listener",
        "conteudo_html": "<p>Consider the following code that needs to be unit tested</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void run() {\n    _activityRepo.activityUpdateStream.listen((token) async {\n      await _userRepo.updateToken(token: token);\n    });\n  }\n</code></pre>\n<p>where <code>_activityRepo.activityUpdateStream</code> is a <code>Stream&lt;String&gt;</code> that emits <code>String</code> events.</p>\n<p>The goal here is to test that <code>updateToken</code> function is called every time <code>_activityRepo.activityUpdateStream</code> emits a new event. The unit test is currently like:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>test('should update notification token when refreshed', () async {\n    const fakePushToken = 'token';\n    final fakeStream = StreamController&lt;String&gt;();\n\n    when(() =&gt; liveActivityRepo.activityUpdateStream).thenAnswer((_) =&gt; fakeStream.stream);\n\n    useCase.run();\n\n    fakeStream.add(fakeUpdate);\n\n    verify(() =&gt; userRepo.updateLiveActivityToken(token: fakePushToken)).called(1);\n  });\n</code></pre>\n<p>This test fails because <code>verify</code> is being called before <code>updateToken</code> function inside the stream listener. How should I rewrite this test so I can make sure the stream listener is fully executed before running the verification step in the test?</p>\n",
        "codigo": [
            "void run() {\n    _activityRepo.activityUpdateStream.listen((token) async {\n      await _userRepo.updateToken(token: token);\n    });\n  }\n",
            "_activityRepo.activityUpdateStream",
            "Stream<String>",
            "String",
            "updateToken",
            "_activityRepo.activityUpdateStream",
            "test('should update notification token when refreshed', () async {\n    const fakePushToken = 'token';\n    final fakeStream = StreamController<String>();\n\n    when(() => liveActivityRepo.activityUpdateStream).thenAnswer((_) => fakeStream.stream);\n\n    useCase.run();\n\n    fakeStream.add(fakeUpdate);\n\n    verify(() => userRepo.updateLiveActivityToken(token: fakePushToken)).called(1);\n  });\n",
            "verify",
            "updateToken"
        ]
    },
    {
        "titulo": "how to create dynamic number of text editing controllers with unique names",
        "score": 0,
        "views": 554,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75981809/how-to-create-dynamic-number-of-text-editing-controllers-with-unique-names",
        "conteudo_html": "<p>I am trying to make game score tracked game, and I have a page where the user enters the number of players and go to another page to enter their names, so he is going to PlayersIntroductionScreen() with the number of players, in the players introduction screen I need to display several TextFormField() based on the players number and I can made this with for(), but the problem is I need a TextEditingController() for each TextFormField()</p>\n<pre><code>class PlayersIntroductionScreen extends StatelessWidget {\n   const PlayersIntroductionScreen({Key? key, required this.playersNumber}) : super(key: key);\n\n   final int playersNumber;\n\n   @override\n   Widget build(BuildContext context) {\n     return Placeholder();\n   }\n }\n</code></pre>\n<p>I tried to make a for loop before the overriden build() but it says <code>Expected a class member.</code></p>\n<p>How can I achieve that with unique name for every controller like</p>\n<p><code>var firstPlayerController = TextEditingController()</code> and so on</p>\n",
        "codigo": [
            "class PlayersIntroductionScreen extends StatelessWidget {\n   const PlayersIntroductionScreen({Key? key, required this.playersNumber}) : super(key: key);\n\n   final int playersNumber;\n\n   @override\n   Widget build(BuildContext context) {\n     return Placeholder();\n   }\n }\n",
            "Expected a class member.",
            "var firstPlayerController = TextEditingController()"
        ]
    },
    {
        "titulo": "Strange `Set` behaviour in dart when overriding `hashCode` getter",
        "score": 0,
        "views": 154,
        "respostas": 1,
        "tags": [
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75980193/strange-set-behaviour-in-dart-when-overriding-hashcode-getter",
        "conteudo_html": "<p>My code is as follows:</p>\n<pre><code>class Foo {\n  double field = 0;\n\n  @override\n  bool operator ==(Object other) {\n    if (other is! Foo) return false;\n    return field == other.field;\n  }\n\n  @override\n  int get hashCode =&gt; field.hashCode;\n}\n\nvoid main() {\n  final set = Set&lt;Foo&gt;();\n  final variable = Foo();\n\n  set.add(variable); // add variable to Set\n  variable.field = 1; // change variable\n  for (var v in set) print(v == variable); // true: content of the Set changed as expected\n  print(set.contains(variable)); // false: I would expect true here\n}\n</code></pre>\n<p>Why <code>set.contains</code> giving <code>false</code> in the last line?</p>\n",
        "codigo": [
            "class Foo {\n  double field = 0;\n\n  @override\n  bool operator ==(Object other) {\n    if (other is! Foo) return false;\n    return field == other.field;\n  }\n\n  @override\n  int get hashCode => field.hashCode;\n}\n\nvoid main() {\n  final set = Set<Foo>();\n  final variable = Foo();\n\n  set.add(variable); // add variable to Set\n  variable.field = 1; // change variable\n  for (var v in set) print(v == variable); // true: content of the Set changed as expected\n  print(set.contains(variable)); // false: I would expect true here\n}\n",
            "set.contains",
            "false"
        ]
    },
    {
        "titulo": "how to mock Supabase with Flutter for unit testing?",
        "score": 2,
        "views": 2073,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "mocking",
            "supabase"
        ],
        "link": "https://stackoverflow.com/questions/75953444/how-to-mock-supabase-with-flutter-for-unit-testing",
        "conteudo_html": "<p>I'm trying to do unit test with Supabase in Flutter like the code bellow:</p>\n<pre><code>import 'package:bloc_test/bloc_test.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\nimport 'package:supabase_flutter/supabase_flutter.dart';\n\n\nclass TestMClass {\n  SupabaseClient client;\n  TestMClass({\n    required this.client,\n  });\n  Future&lt;AuthResponse&gt; signinMc() async {\n    final respnse = await client.auth\n        .signInWithPassword(email: 'example@gmail', password: 'password');\n    return respnse;\n  }\n}\n\nclass MockSupabaseClient extends Mock implements SupabaseClient {}\n\nvoid main() async {\n  \n  final MockSupabaseClient mockClient = MockSupabaseClient();\n\n  final TestMClass testMCass = TestMClass(client: mockClient);\n  setUp(() {});\n  group('TestAuthBloc', () {\n    test('description', () async {\n      final auth = await testMCass.signinMc();\n      expect(auth, isA&lt;AuthResponse&gt;());\n    });\n  });\n}\n</code></pre>\n<p>it throw this error:....</p>\n<blockquote>\n<p>type 'Null' is not a subtype of type 'GoTrueClient'</p>\n</blockquote>\n<p>how I can Mock or do unit testing for Supabase functions with Flutter?</p>\n",
        "codigo": [
            "import 'package:bloc_test/bloc_test.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\nimport 'package:supabase_flutter/supabase_flutter.dart';\n\n\nclass TestMClass {\n  SupabaseClient client;\n  TestMClass({\n    required this.client,\n  });\n  Future<AuthResponse> signinMc() async {\n    final respnse = await client.auth\n        .signInWithPassword(email: 'example@gmail', password: 'password');\n    return respnse;\n  }\n}\n\nclass MockSupabaseClient extends Mock implements SupabaseClient {}\n\nvoid main() async {\n  \n  final MockSupabaseClient mockClient = MockSupabaseClient();\n\n  final TestMClass testMCass = TestMClass(client: mockClient);\n  setUp(() {});\n  group('TestAuthBloc', () {\n    test('description', () async {\n      final auth = await testMCass.signinMc();\n      expect(auth, isA<AuthResponse>());\n    });\n  });\n}\n"
        ]
    },
    {
        "titulo": "Flutter mocking http call response",
        "score": 1,
        "views": 643,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "http",
            "mocking"
        ],
        "link": "https://stackoverflow.com/questions/75947184/flutter-mocking-http-call-response",
        "conteudo_html": "<p>I have this ApiConnect class that uses a http client to connect to dummy api,</p>\n<pre><code>  static final ApiConnect instance = ApiConnect._();\n  dynamic _reqBody;\n\n  ApiConnect._() {\n    baseUrl = EndPoints.baseUrl;\n    logPrint = print;\n    timeout = EndPoints.timeout;\n\n    httpClient.addRequestModifier&lt;dynamic&gt;((request) {\n      logPrint('************** Request **************');\n      _printKV('uri', request.url);\n      _printKV('method', request.method);\n      _printKV('followRedirects', request.followRedirects);\n      logPrint('headers:');\n      request.headers.forEach((key, v) =&gt; _printKV(' $key', v));\n      logPrint('data:');\n      if (_reqBody is Map) {\n        _reqBody?.forEach((key, v) =&gt; _printKV(' $key', v));\n      } else {\n        _printAll(_reqBody.toString());\n      }\n      logPrint('*************************************');\n      return request;\n    });\n\n    httpClient.addResponseModifier((request, response) {\n      logPrint('************** Response **************');\n      _printKV('uri', response.request!.url);\n      _printKV('statusCode', response.statusCode!);\n      if (response.headers != null) {\n        logPrint('headers:');\n        response.headers?.forEach((key, v) =&gt; _printKV(' $key', v));\n      }\n      logPrint('Response Text:');\n      _printAll(response.bodyString);\n      logPrint('*************************************');\n      return response;\n    });\n  }\n\n  late void Function(Object object) logPrint;\n\n  @override\n  Future&lt;Response&lt;T&gt;&gt; get&lt;T&gt;(\n    String url, {\n    Map&lt;String, String&gt;? headers,\n    String? contentType,\n    Map&lt;String, dynamic&gt;? query,\n    Decoder&lt;T&gt;? decoder,\n  }) {\n    _checkIfDisposed();\n\n    Map&lt;String, String&gt; _headers = headers ?? &lt;String, String&gt;{};\n    // _headers[&quot;Authorization&quot;] = &quot;Bearer &quot; + HiveAdapter.getAccessToken();\n\n    _reqBody = query;\n    return httpClient.get&lt;T&gt;(\n      url,\n      headers: _headers,\n      contentType: contentType,\n      query: query,\n      decoder: decoder,\n    )..whenComplete(() =&gt; _reqBody = null);\n  }\n</code></pre>\n<p>and here is how i call this function on</p>\n<pre><code>import 'package:trial/app/data/api/api_connect.dart';\nimport 'package:trial/app/data/model/user.dart';\nimport 'package:trial/app/utils/constants.dart';\n\nclass HomeProvider {\n  HomeProvider();\n\n  ApiConnect api = ApiConnect.instance;\n\n  Future&lt;List&lt;User&gt;&gt; getUser() async {\n    List&lt;User&gt; user = &lt;User&gt;[];\n    api.get(EndPoints.user, headers: {&quot;app-id&quot;: &quot;myAppID&quot;}).then((response) {\n      response.body['data'].forEach((value) {\n        user.add(User.fromJson(value));\n      });\n    }).catchError((error) {\n      print(error.toString());\n    });\n    return user;\n  }\n}\n</code></pre>\n<p>Now I would like to have a unit test if this function works properly,</p>\n<p>Here is my test file:</p>\n<pre><code>\n\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:get/get_connect/http/src/response/response.dart';\nimport 'package:mockito/mockito.dart';\nimport 'package:trial/app/data/api/api_connect.dart';\nimport 'package:trial/app/data/api/api_error.dart';\nimport 'package:trial/app/data/model/user.dart';\nimport 'package:trial/app/data/provider/home_provider.dart';\nimport 'package:trial/app/utils/constants.dart';\n\nclass MockApiConnect extends Mock implements ApiConnect {}\n\nvoid main() {\n  group('HomeProvider', () {\n    late HomeProvider homeProvider;\n    late MockApiConnect mockApiConnect;\n\n    setUp(() {\n      mockApiConnect = MockApiConnect();\n      homeProvider = HomeProvider();\n      homeProvider.api = mockApiConnect;\n    });\n\n    test('getUser returns list of users on success', () async {\n      // arrange\n      final response = {\n        'data': [\n          {'id': 1, 'firstName': 'John Doe'},\n          {'id': 2, 'firstName': 'Jane Doe'}\n        ]\n      };\n      when(mockApiConnect.get(EndPoints.baseUrl, headers: {&quot;app-id&quot;: &quot;myAppID&quot;})).thenAnswer(\n        (_) async =&gt; Response(body: response, statusCode: 200),\n      );\n\n      // act\n      final result = await homeProvider.getUser();\n\n      // assert\n      expect(result, isA&lt;List&lt;User&gt;&gt;());\n      expect(result.length, equals(2));\n      expect(result[0].id, equals(1));\n      expect(result[0].firstName, equals('John Doe'));\n      expect(result[1].id, equals(2));\n      expect(result[1].firstName, equals('Jane Doe'));\n    });\n  });\n}\n\n</code></pre>\n<p>But on testing, it shows this error:</p>\n<pre><code>type 'Null' is not a subtype of type 'Future&lt;Response&lt;dynamic&gt;&gt;'\ntest/file_test.dart 12:7   MockApiConnect.get\ntest/file_test.dart 33:27  main.&lt;fn&gt;.&lt;fn&gt;\n</code></pre>\n<p>I have been dealing with this problem for a week now, google search already on page 12 and asked chatgpt about it but it makes me go through circles.\nI am fairly new to unit testing and I am having a hard time testing http calls on flutter. Thank you in advance.</p>\n",
        "codigo": [
            "  static final ApiConnect instance = ApiConnect._();\n  dynamic _reqBody;\n\n  ApiConnect._() {\n    baseUrl = EndPoints.baseUrl;\n    logPrint = print;\n    timeout = EndPoints.timeout;\n\n    httpClient.addRequestModifier<dynamic>((request) {\n      logPrint('************** Request **************');\n      _printKV('uri', request.url);\n      _printKV('method', request.method);\n      _printKV('followRedirects', request.followRedirects);\n      logPrint('headers:');\n      request.headers.forEach((key, v) => _printKV(' $key', v));\n      logPrint('data:');\n      if (_reqBody is Map) {\n        _reqBody?.forEach((key, v) => _printKV(' $key', v));\n      } else {\n        _printAll(_reqBody.toString());\n      }\n      logPrint('*************************************');\n      return request;\n    });\n\n    httpClient.addResponseModifier((request, response) {\n      logPrint('************** Response **************');\n      _printKV('uri', response.request!.url);\n      _printKV('statusCode', response.statusCode!);\n      if (response.headers != null) {\n        logPrint('headers:');\n        response.headers?.forEach((key, v) => _printKV(' $key', v));\n      }\n      logPrint('Response Text:');\n      _printAll(response.bodyString);\n      logPrint('*************************************');\n      return response;\n    });\n  }\n\n  late void Function(Object object) logPrint;\n\n  @override\n  Future<Response<T>> get<T>(\n    String url, {\n    Map<String, String>? headers,\n    String? contentType,\n    Map<String, dynamic>? query,\n    Decoder<T>? decoder,\n  }) {\n    _checkIfDisposed();\n\n    Map<String, String> _headers = headers ?? <String, String>{};\n    // _headers[\"Authorization\"] = \"Bearer \" + HiveAdapter.getAccessToken();\n\n    _reqBody = query;\n    return httpClient.get<T>(\n      url,\n      headers: _headers,\n      contentType: contentType,\n      query: query,\n      decoder: decoder,\n    )..whenComplete(() => _reqBody = null);\n  }\n",
            "import 'package:trial/app/data/api/api_connect.dart';\nimport 'package:trial/app/data/model/user.dart';\nimport 'package:trial/app/utils/constants.dart';\n\nclass HomeProvider {\n  HomeProvider();\n\n  ApiConnect api = ApiConnect.instance;\n\n  Future<List<User>> getUser() async {\n    List<User> user = <User>[];\n    api.get(EndPoints.user, headers: {\"app-id\": \"myAppID\"}).then((response) {\n      response.body['data'].forEach((value) {\n        user.add(User.fromJson(value));\n      });\n    }).catchError((error) {\n      print(error.toString());\n    });\n    return user;\n  }\n}\n",
            "\n\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:get/get_connect/http/src/response/response.dart';\nimport 'package:mockito/mockito.dart';\nimport 'package:trial/app/data/api/api_connect.dart';\nimport 'package:trial/app/data/api/api_error.dart';\nimport 'package:trial/app/data/model/user.dart';\nimport 'package:trial/app/data/provider/home_provider.dart';\nimport 'package:trial/app/utils/constants.dart';\n\nclass MockApiConnect extends Mock implements ApiConnect {}\n\nvoid main() {\n  group('HomeProvider', () {\n    late HomeProvider homeProvider;\n    late MockApiConnect mockApiConnect;\n\n    setUp(() {\n      mockApiConnect = MockApiConnect();\n      homeProvider = HomeProvider();\n      homeProvider.api = mockApiConnect;\n    });\n\n    test('getUser returns list of users on success', () async {\n      // arrange\n      final response = {\n        'data': [\n          {'id': 1, 'firstName': 'John Doe'},\n          {'id': 2, 'firstName': 'Jane Doe'}\n        ]\n      };\n      when(mockApiConnect.get(EndPoints.baseUrl, headers: {\"app-id\": \"myAppID\"})).thenAnswer(\n        (_) async => Response(body: response, statusCode: 200),\n      );\n\n      // act\n      final result = await homeProvider.getUser();\n\n      // assert\n      expect(result, isA<List<User>>());\n      expect(result.length, equals(2));\n      expect(result[0].id, equals(1));\n      expect(result[0].firstName, equals('John Doe'));\n      expect(result[1].id, equals(2));\n      expect(result[1].firstName, equals('Jane Doe'));\n    });\n  });\n}\n\n",
            "type 'Null' is not a subtype of type 'Future<Response<dynamic>>'\ntest/file_test.dart 12:7   MockApiConnect.get\ntest/file_test.dart 33:27  main.<fn>.<fn>\n"
        ]
    },
    {
        "titulo": "What is the purpose of overriding the method in the mock class in mockito",
        "score": 0,
        "views": 416,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "mockito"
        ],
        "link": "https://stackoverflow.com/questions/75932219/what-is-the-purpose-of-overriding-the-method-in-the-mock-class-in-mockito",
        "conteudo_html": "<p>I am new to flutter and I have been trying to conduct unit testing in flutter using mockito. But there are some concerns which I can't understand and didn't find any solution in the Internet. For example, this is the code I have implemented for a sample class,</p>\n<pre><code>class User {\n  final String name;\n  \n  User({required this.name});\n}\n\n class UserService {\n  User getUser() {\n    return User(name: &quot;sample user&quot;);\n  }\n\n  String getUserName() {\n    return &quot;sample name&quot;;\n  }\n}\n\nclass MockUserService extends Mock implements UserService {\n  @override\n  User getUser() {\n    return super.noSuchMethod(\n      Invocation.getter(#getUser),\n      returnValue: User(name: 'Mock User'),\n     \n    ) as User;\n  }\n\n   @override\n  String getUserName() {\n    return super.noSuchMethod(\n      Invocation.method(#getUserName,[]),\n      returnValue: &quot;mock name&quot;\n    ) ;\n  }\n}\n\nvoid main(){\n  test('test mock', () {\n    var mockUserService = MockUserService();\n     when(mockUserService.getUserName()).thenReturn(&quot;hello&quot;);\n    print(&quot;U &quot; +  mockUserService.getUserName());\n  });\n}\n</code></pre>\n<p>This works absolutely fine, but I don't get why do we need to override the getUser() and getUsername() methods inside the mock class? Since we will be already stubbing is there a need? Obviously I am getting an error(called: &quot;type 'Null' is not a subtype of type 'String'&quot;) if I don't override it inside the mock class, but what is the reason to override it?</p>\n<p>Even though I have overridden the methods inside the mock class and defined a return value still I am getting an error. For example, let's say it's the getUsername() I am testing and if I don't stub it inside the test I am getting an issue &quot;type 'Null' is not a subtype of type 'String'&quot;. What is the reason for that? Why doesn't it return the value which is defined inside the mock class method? Why essentially do we need to stub and override the method while conducting a test?</p>\n<p>Please any clarification on the above questions will be highly appreciated.</p>\n",
        "codigo": [
            "class User {\n  final String name;\n  \n  User({required this.name});\n}\n\n class UserService {\n  User getUser() {\n    return User(name: \"sample user\");\n  }\n\n  String getUserName() {\n    return \"sample name\";\n  }\n}\n\nclass MockUserService extends Mock implements UserService {\n  @override\n  User getUser() {\n    return super.noSuchMethod(\n      Invocation.getter(#getUser),\n      returnValue: User(name: 'Mock User'),\n     \n    ) as User;\n  }\n\n   @override\n  String getUserName() {\n    return super.noSuchMethod(\n      Invocation.method(#getUserName,[]),\n      returnValue: \"mock name\"\n    ) ;\n  }\n}\n\nvoid main(){\n  test('test mock', () {\n    var mockUserService = MockUserService();\n     when(mockUserService.getUserName()).thenReturn(\"hello\");\n    print(\"U \" +  mockUserService.getUserName());\n  });\n}\n"
        ]
    },
    {
        "titulo": "Unable to run Patrol test properly",
        "score": 3,
        "views": 3775,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "integration-testing",
            "flutter-integration-test",
            "flutter-patrol"
        ],
        "link": "https://stackoverflow.com/questions/75919291/unable-to-run-patrol-test-properly",
        "conteudo_html": "<p>i'm able to run integration_test using this codes:</p>\n<pre><code>##########\n# integration_test/openapp_test.dart\n##########\n\nimport 'package:myapp/main.dart' as app;\n\ngroup('end-to-end test', () {\n  testWidgets('tap on the floating action button, verify counter',\n          (tester) async {\n        app.main(isTesting: true);\n        await tester.pumpAndSettle(\n          const Duration(seconds: 10),\n        );\n\n        // first screen\n        expect(find.text('Mulai baru'), findsOneWidget);\n\n        // I go to 'Login from Onboarding' page\n        await tester.tap(find.byKey(\n          const Key(OnboardingKey.buttonMasukKeAkun),\n        ));\n  });\n});\n</code></pre>\n<pre><code>##########\n# test_driver/integration_test.dart\n##########\n\n// @dart=2.9\nimport 'package:integration_test/integration_test_driver.dart';\n\nFuture&lt;void&gt; main() =&gt; integrationDriver();\n\n</code></pre>\n<p>my main.dart looks something like this:</p>\n<pre><code>##########\n# lib/main.dart\n##########\n\nFuture&lt;void&gt; main({bool isTesting = false}) async {\n  WidgetsFlutterBinding.ensureInitialized();\n  await SystemChrome.setPreferredOrientations(&lt;DeviceOrientation&gt;[\n    DeviceOrientation.portraitUp,\n    DeviceOrientation.portraitDown,\n  ]);\n  await Firebase.initializeApp();\n\n  _initCrashlytics();\n\n\n  await SharedPreference.wipeSecureStorage();\n\n  runZonedGuarded&lt;Future&lt;void&gt;&gt;(\n    () async {\n      runApp(App(isTesting: isTesting));\n    },\n    (Object object, StackTrace stackTrace) {\n      ...\n      ...\n      ,,,\n    },\n  );\n}\n\nclass App extends StatelessWidget {\n  const App({Key? key, this.isTesting = false}) : super(key: key);\n  final bool isTesting;\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    ...\n    ...\n    ...\n  }\n}\n</code></pre>\n<p>command i used to run test above (runs on android device):</p>\n<pre><code>flutter drive --driver=test_driver/integration_test.dart --target=integration_test/openapp_test_copy.dart --flavor=staging\n</code></pre>\n<p>it works fine when i run above command.. the script installs the apk into my device, run test, and showing passed</p>\n<hr />\n<p>when i try to change it using <code>patrolTest</code> to something like this</p>\n<pre><code>##########\n# integration_test/openapp_test.dart\n##########\n\nvoid main() {\n  group('end-to-end test', () {\n    patrolTest('tap on the floating action button, verify counter',\n        (PatrolTester $) async {\n      // app.main(isTesting: true);\n      await $.pumpWidgetAndSettle(\n        const App(\n          isTesting: true,\n        ),\n        duration: const Duration(seconds: 20),\n      );\n      await $.pump(const Duration(seconds: 50));\n      expect(find.text('Mulai baru'), findsNothing);\n    });\n  });\n}\n</code></pre>\n<p>or this (i tried 2 different ways to start the app because i don't know which one is right</p>\n<pre><code>##########\n# integration_test/openapp_test.dart\n##########\n\nvoid main() {\n  group('end-to-end test', () {\n    patrolTest('tap on the floating action button, verify counter',\n        (PatrolTester $) async {\n        await $.pumpWidget(\n          const App(\n            isTesting: true,\n          ),\n        );\n        await $.pumpAndSettle(\n          duration: const Duration(seconds: 20),\n        );\n\n        expect(find.text('Mulai baru'), findsNothing);\n    });\n  });\n}\n</code></pre>\n<p>and try to run it using this command</p>\n<pre><code>patrol test --flavor staging\n</code></pre>\n<p>it always showing test passed.. but i don't see the test running.. it doesn't install the app, and directly states that the test passed <br>\nit should show failed because this command <code>expect(find.text('Mulai baru'), findsNothing);</code> should be failed</p>\n<pre><code>FileSystemException: Cannot open file, path = '/Users/thekucays/.zshrc' (OS Error: Permission denied, errno = 13)\nNo device specified, using the first one (P0AA003810060900077)\nEvery test target will be run 1 time(s)\n• Building apk with entrypoint openapp_test.dart...\n✓ Completed building apk with entrypoint openapp_test.dart (22.3s)\n• Executing tests of apk with entrypoint openapp_test.dart on device P0AA003810060900077...\n✓ Completed executing apk with entrypoint openapp_test.dart on device P0AA003810060900077 (12.2s)\n PASS  openapp_test.dart on P0AA003810060900077\n</code></pre>\n<p>what went wrong here? do i missed something?</p>\n<hr />\n<p><code>flutter doctor -v</code> output</p>\n<pre><code>[!] Flutter (Channel stable, 3.7.1, on macOS 12.6.1 21G217 darwin-arm64, locale en-ID)\n    • Flutter version 3.7.1 on channel stable at /Users/thekucays/fvm/versions/3.7.1\n    ! Warning: `dart` on your path resolves to /opt/homebrew/Cellar/dart/2.18.4/libexec/bin/dart, which is not inside your current Flutter SDK checkout at\n      /Users/thekucays/fvm/versions/3.7.1. Consider adding /Users/thekucays/fvm/versions/3.7.1/bin to the front of your path.\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 7048ed95a5 (9 weeks ago), 2023-02-01 09:07:31 -0800\n    • Engine revision 800594f1f4\n    • Dart version 2.19.1\n    • DevTools version 2.20.1\n    • If those were intentional, you can disregard the above warnings; however it is recommended to use &quot;git&quot; directly to perform update checks and upgrades.\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\n    • Android SDK at /Users/thekucays/Library/Android/sdk\n    • Platform android-33, build-tools 33.0.0\n    • ANDROID_HOME = /Users/thekucays/Library/Android/sdk\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 13.1)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 13A1030d\n    • CocoaPods version 1.12.0\n\n[✗] Chrome - develop for the web (Cannot find Chrome executable at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome)\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n\n[✓] Android Studio (version 2021.3)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n\n[✓] VS Code (version 1.73.1)\n    • VS Code at /Users/thekucays/Documents/Installers/Visual Studio Code.app/Contents\n    • Flutter extension version 3.60.0\n\n[✓] Connected device (2 available)\n    • Nokia 5 3 (mobile) • P0AA003810060900077 • android-arm64 • Android 11 (API 30)\n    • macOS (desktop)    • macos               • darwin-arm64  • macOS 12.6.1 21G217 darwin-arm64\n\n[✓] HTTP Host Availability\n    • All required HTTP hosts are available\n</code></pre>\n<p><code>patrol doctor</code> output</p>\n<pre><code>Patrol CLI version: 1.1.3\nProgram adb found in /Users/thekucays/Library/Android/sdk/platform-tools/adb\nEnv var $ANDROID_HOME set to /Users/thekucays/Library/Android/sdk\nProgram xcodebuild found in /usr/bin/xcodebuild\nProgram ideviceinstaller found in /opt/homebrew/bin/ideviceinstaller\nProgram ios-deploy found in /opt/homebrew/bin/ios-deploy\n</code></pre>\n<p><code>patrol -V</code> output</p>\n<pre><code>patrol_cli v1.1.3\n</code></pre>\n",
        "codigo": [
            "##########\n# integration_test/openapp_test.dart\n##########\n\nimport 'package:myapp/main.dart' as app;\n\ngroup('end-to-end test', () {\n  testWidgets('tap on the floating action button, verify counter',\n          (tester) async {\n        app.main(isTesting: true);\n        await tester.pumpAndSettle(\n          const Duration(seconds: 10),\n        );\n\n        // first screen\n        expect(find.text('Mulai baru'), findsOneWidget);\n\n        // I go to 'Login from Onboarding' page\n        await tester.tap(find.byKey(\n          const Key(OnboardingKey.buttonMasukKeAkun),\n        ));\n  });\n});\n",
            "##########\n# test_driver/integration_test.dart\n##########\n\n// @dart=2.9\nimport 'package:integration_test/integration_test_driver.dart';\n\nFuture<void> main() => integrationDriver();\n\n",
            "##########\n# lib/main.dart\n##########\n\nFuture<void> main({bool isTesting = false}) async {\n  WidgetsFlutterBinding.ensureInitialized();\n  await SystemChrome.setPreferredOrientations(<DeviceOrientation>[\n    DeviceOrientation.portraitUp,\n    DeviceOrientation.portraitDown,\n  ]);\n  await Firebase.initializeApp();\n\n  _initCrashlytics();\n\n\n  await SharedPreference.wipeSecureStorage();\n\n  runZonedGuarded<Future<void>>(\n    () async {\n      runApp(App(isTesting: isTesting));\n    },\n    (Object object, StackTrace stackTrace) {\n      ...\n      ...\n      ,,,\n    },\n  );\n}\n\nclass App extends StatelessWidget {\n  const App({Key? key, this.isTesting = false}) : super(key: key);\n  final bool isTesting;\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    ...\n    ...\n    ...\n  }\n}\n",
            "flutter drive --driver=test_driver/integration_test.dart --target=integration_test/openapp_test_copy.dart --flavor=staging\n",
            "patrolTest",
            "##########\n# integration_test/openapp_test.dart\n##########\n\nvoid main() {\n  group('end-to-end test', () {\n    patrolTest('tap on the floating action button, verify counter',\n        (PatrolTester $) async {\n      // app.main(isTesting: true);\n      await $.pumpWidgetAndSettle(\n        const App(\n          isTesting: true,\n        ),\n        duration: const Duration(seconds: 20),\n      );\n      await $.pump(const Duration(seconds: 50));\n      expect(find.text('Mulai baru'), findsNothing);\n    });\n  });\n}\n",
            "##########\n# integration_test/openapp_test.dart\n##########\n\nvoid main() {\n  group('end-to-end test', () {\n    patrolTest('tap on the floating action button, verify counter',\n        (PatrolTester $) async {\n        await $.pumpWidget(\n          const App(\n            isTesting: true,\n          ),\n        );\n        await $.pumpAndSettle(\n          duration: const Duration(seconds: 20),\n        );\n\n        expect(find.text('Mulai baru'), findsNothing);\n    });\n  });\n}\n",
            "patrol test --flavor staging\n",
            "expect(find.text('Mulai baru'), findsNothing);",
            "FileSystemException: Cannot open file, path = '/Users/thekucays/.zshrc' (OS Error: Permission denied, errno = 13)\nNo device specified, using the first one (P0AA003810060900077)\nEvery test target will be run 1 time(s)\n• Building apk with entrypoint openapp_test.dart...\n✓ Completed building apk with entrypoint openapp_test.dart (22.3s)\n• Executing tests of apk with entrypoint openapp_test.dart on device P0AA003810060900077...\n✓ Completed executing apk with entrypoint openapp_test.dart on device P0AA003810060900077 (12.2s)\n PASS  openapp_test.dart on P0AA003810060900077\n",
            "flutter doctor -v",
            "[!] Flutter (Channel stable, 3.7.1, on macOS 12.6.1 21G217 darwin-arm64, locale en-ID)\n    • Flutter version 3.7.1 on channel stable at /Users/thekucays/fvm/versions/3.7.1\n    ! Warning: `dart` on your path resolves to /opt/homebrew/Cellar/dart/2.18.4/libexec/bin/dart, which is not inside your current Flutter SDK checkout at\n      /Users/thekucays/fvm/versions/3.7.1. Consider adding /Users/thekucays/fvm/versions/3.7.1/bin to the front of your path.\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 7048ed95a5 (9 weeks ago), 2023-02-01 09:07:31 -0800\n    • Engine revision 800594f1f4\n    • Dart version 2.19.1\n    • DevTools version 2.20.1\n    • If those were intentional, you can disregard the above warnings; however it is recommended to use \"git\" directly to perform update checks and upgrades.\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\n    • Android SDK at /Users/thekucays/Library/Android/sdk\n    • Platform android-33, build-tools 33.0.0\n    • ANDROID_HOME = /Users/thekucays/Library/Android/sdk\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 13.1)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 13A1030d\n    • CocoaPods version 1.12.0\n\n[✗] Chrome - develop for the web (Cannot find Chrome executable at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome)\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n\n[✓] Android Studio (version 2021.3)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n\n[✓] VS Code (version 1.73.1)\n    • VS Code at /Users/thekucays/Documents/Installers/Visual Studio Code.app/Contents\n    • Flutter extension version 3.60.0\n\n[✓] Connected device (2 available)\n    • Nokia 5 3 (mobile) • P0AA003810060900077 • android-arm64 • Android 11 (API 30)\n    • macOS (desktop)    • macos               • darwin-arm64  • macOS 12.6.1 21G217 darwin-arm64\n\n[✓] HTTP Host Availability\n    • All required HTTP hosts are available\n",
            "patrol doctor",
            "Patrol CLI version: 1.1.3\nProgram adb found in /Users/thekucays/Library/Android/sdk/platform-tools/adb\nEnv var $ANDROID_HOME set to /Users/thekucays/Library/Android/sdk\nProgram xcodebuild found in /usr/bin/xcodebuild\nProgram ideviceinstaller found in /opt/homebrew/bin/ideviceinstaller\nProgram ios-deploy found in /opt/homebrew/bin/ios-deploy\n",
            "patrol -V",
            "patrol_cli v1.1.3\n"
        ]
    },
    {
        "titulo": "Error: Not found: &#39;dart:js&#39; when running flutter app in ios simulator",
        "score": 0,
        "views": 1178,
        "respostas": 2,
        "tags": [
            "ios",
            "flutter",
            "firebase",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75910180/error-not-found-dartjs-when-running-flutter-app-in-ios-simulator",
        "conteudo_html": "<p>The project was running without any error before. Then I updated the Xcode from 13 to 14 and suddenly the app stopped working and throws the following error.</p>\n<pre><code>[  +16 ms] /Users/arunmaharjan/Development/sdks/flutter/bin/cache/dart-sdk/bin/dart --disable-dart-dev /Users/arunmaharjan/Development/sdks/flutter/bin/cache/artifacts/engine/darwin-x64/frontend_server.dart.snapshot --sdk-root /Users/arunmaharjan/Development/sdks/flutter/bin/cache/artifacts/engine/common/flutter_patched_sdk/ --target=flutter --no-print-incremental-dependencies -DAPP_ENV=production -DFLUTTER_WEB_AUTO_DETECT=true -Ddart.vm.profile=false -Ddart.vm.product=false --enable-asserts --track-widget-creation --no-link-platform --packages /Users/arunmaharjan/Blacksheep/projects/flutter/swg_pro/.dart_tool/package_config.json --output-dill /Users/arunmaharjan/Blacksheep/projects/flutter/swg_pro/.dart_tool/flutter_build/b510feac84446de731c63e92801e95fa/app.dill --depfile /Users/arunmaharjan/Blacksheep/projects/flutter/swg_pro/.dart_tool/flutter_build/b510feac84446de731c63e92801e95fa/kernel_snapshot.d /Users/arunmaharjan/Blacksheep/projects/flutter/swg_profff/.dart_tool/flutter_build/generated_main.dart\n               [  +81 ms] Persisting file store\n               [   +7 ms] Done persisting file store\n               [  +16 ms] &quot;flutter assemble&quot; took 14,451ms.\n               [   +7 ms] ensureAnalyticsSent: 3ms\n               [   +1 ms] Running shutdown hooks\n               [        ] Shutdown hooks complete\n               [   +3 ms] exiting with code 1\n[+1394 ms] ../../../../.pub-cache/hosted/pub.dartlang.org/js-0.6.3/lib/js.dart:8:1: Error: Not found: 'dart:js'\njs.dart:8\n               [   +8 ms] export 'dart:js' show allowInterop, allowInteropCaptureThis;\n               [        ] ^\n[ +249 ms] ../../../../.pub-cache/hosted/pub.dartlang.org/js-0.6.3/lib/js_util.dart:8:1: Error: Not found: 'dart:js_util'\njs_util.dart:8\n               [        ] export 'dart:js_util';\n               [        ] ^\n[+2226 ms] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core-1.24.0/lib/src/firebase_app.dart:18:25: Error: Member not found: 'FirebaseAppPlatform.verifyExtends'.\nfirebase_app.dart:18\n               [        ]     FirebaseAppPlatform.verifyExtends(_delegate);\n               [        ]                         ^^^^^^^^^^^^^\n[+3205 ms] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/js_interop.dart:25:12: Error: Method not found: 'hasProperty'.\njs_interop.dart:25\n               [        ]   if (util.hasProperty(jsObject, 'toDateString')) {\n               [        ]            ^^^^^^^^^^^\n[   +1 ms] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/utils.dart:45:31: Error: Method not found: 'getProperty'.\nutils.dart:45\n               [        ]       map[key] = dartify(util.getProperty(jsObject, key), customDartify);\n               [        ]                               ^^^^^^^^^^^\n[        ] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/utils.dart:81:22: Error: Method not found: 'newObject'.\nutils.dart:81\n               [        ]     var jsMap = util.newObject();\n               [        ]                      ^^^^^^^^^\n[        ] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/utils.dart:83:12: Error: Method not found: 'setProperty'.\nutils.dart:83\n               [        ]       util.setProperty(jsMap, key, jsify(value, customJsify));\n               [        ]            ^^^^^^^^^^^\n[        ] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/utils.dart:89:12: Error: Method not found: 'allowInterop'.\nutils.dart:89\n               [        ]     return allowInterop(dartObject);\n               [        ]            ^^^^^^^^^^^^\n[        ] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/utils.dart:103:10: Error: Method not found: 'callMethod'.\nutils.dart:103\n               [        ]     util.callMethod(jsObject, method, args);\n               [        ]          ^^^^^^^^^^\n[        ] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/utils.dart:116:15: Error: Method not found: 'promiseToFuture'.\nutils.dart:116\n               [        ]   return util.promiseToFuture(thenable);\n               [        ]               ^^^^^^^^^^^^^^^\n[        ] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/utils.dart:124:27: Error: Method not found: 'allowInterop'.\nutils.dart:124\n               [        ]   return PromiseJsImpl&lt;S&gt;(allowInterop((\n               [        ]                           ^^^^^^^^^^^^\n               [+5040 ms] Unhandled exception:\n                          FileSystemException(uri=org-dartlang-untranslatable-uri:dart%3Ajs; message=StandardFileSystem only supports file:* and data:* URIs)\n#0      StandardFileSystem.entityForUri (package:front_end/src/api_prototype/standard_file_system.dart:34:7)\n#1      asFileUri (package:vm/kernel_front_end.dart:623:37)\n#2      writeDepfile (package:vm/kernel_front_end.dart:763:21)\n                          &lt;asynchronous suspension&gt;\n#3      FrontendCompiler.compile (package:frontend_server/frontend_server.dart:586:9)\n                          &lt;asynchronous suspension&gt;\n#4      starter (package:flutter_frontend_server/server.dart:85:12)\n                          &lt;asynchronous suspension&gt;\n#5      main (file:///opt/s/w/ir/cache/builder/src/flutter/flutter_frontend_server/bin/starter.dart:13:24)\n                          &lt;asynchronous suspension&gt;\n               [   +6 ms] Target kernel_snapshot failed: Exception\n#0      KernelSnapshot.build (package:flutter_tools/src/build_system/targets/common.dart:241:7)\n                          &lt;asynchronous suspension&gt;\n#1      _BuildInstance._invokeInternal (package:flutter_tools/src/build_system/build_system.dart:839:9)\n                          &lt;asynchronous suspension&gt;\n#2      Future.wait.&lt;anonymous closure&gt; (dart:async/future.dart:473:21)\n                          &lt;asynchronous suspension&gt;\n#3      _BuildInstance.invokeTarget (package:flutter_tools/src/build_system/build_system.dart:777:32)\n                          &lt;asynchronous suspension&gt;\n#4      FlutterBuildSystem.build (package:flutter_tools/src/build_system/build_system.dart:606:16)\n                          &lt;asynchronous suspension&gt;\n#5      AssembleCommand.runCommand (package:flutter_tools/src/commands/assemble.dart:317:32)\n                          &lt;asynchronous suspension&gt;\n#6      FlutterCommand.run.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command.dart:1161:27)\n                          &lt;asynchronous suspension&gt;\n#7      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n                          &lt;asynchronous suspension&gt;\n#8      CommandRunner.runCommand\ncommand_runner.dart:209\n                          &lt;asynchronous suspension&gt;\n#9      FlutterCommandRunner.runCommand.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command_runner.dart:281:9)\n#10     AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n                          &lt;asynchronous suspension&gt;\n#11     FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:229:5)\n                          &lt;asynchronous suspension&gt;\n#12     run.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:flutter_tools/runner.dart:62:9)\n                          &lt;asynchronous suspension&gt;\n#13     AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n                          &lt;asynchronous suspension&gt;\n#14     main (package:flutter_tools/executable.dart:94:3)\n                          &lt;asynchronous suspension&gt;\n               [   +5 ms]\n#0      throwToolExit (package:flutter_tools/src/base/common.dart:10:3)\n#1      AssembleCommand.runCommand (package:flutter_tools/src/commands/assemble.dart:334:7)\n                          &lt;asynchronous suspension&gt;\n#2      FlutterCommand.run.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command.dart:1161:27)\n                          &lt;asynchronous suspension&gt;\n#3      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n                          &lt;asynchronous suspension&gt;\n#4      CommandRunner.runCommand\ncommand_runner.dart:209\n                          &lt;asynchronous suspension&gt;\n#5      FlutterCommandRunner.runCommand.&lt;anonymous closure&gt; (package:flutter_tools/src/runner/flutter_command_runner.dart:281:9)\n                          &lt;asynchronous suspension&gt;\n#6      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n                          &lt;asynchronous suspension&gt;\n#7      FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:229:5)\n                          &lt;asynchronous suspension&gt;\n#8      run.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:flutter_tools/runner.dart:62:9)\n                          &lt;asynchronous suspension&gt;\n#9      AppContext.run.&lt;anonymous closure&gt; (package:flutter_tools/src/base/context.dart:150:19)\n                          &lt;asynchronous suspension&gt;\n#10     main (package:flutter_tools/executable.dart:94:3)\n                          &lt;asynchronous suspension&gt;\n               Failed to package /Users/arunmaharjan/Blacksheep/projects/flutter/swg_pro.\n               Command PhaseScriptExecution failed with a nonzero exit code\n               warning: Run script build phase 'Run Script' will be run during every build because it does not specify any outputs. To address this warning, either add output dependencies to the script phase, or configure it to run in every build by unchecking &quot;Based on dependency analysis&quot; in the script phase. (in target 'Runner' from project 'Runner')\n               warning: Run script build phase 'Thin Binary' will be run during every build because it does not specify any outputs. To address this warning, either add output dependencies to the script phase, or configure it to run in every build by unchecking &quot;Based on dependency analysis&quot; in the script phase. (in target 'Runner' from project 'Runner')\n               Result bundle written to path:\n                /var/folders/x_/hj62v_0j67d7wq80vgl5btr00000gn/T/flutter_tools.ABVYp9/flutter_ios_build_temp_dir5dmQTT/temporary_xcresult_bundle\n[+1037 ms] Could not build the application for the simulator.\n[   +9 ms] Error launching application on iPhone 14 Pro Max.\nExited (sigterm)\n</code></pre>\n<pre><code>~ flutter doctor -v\n\n[✓] Flutter (Channel unknown, 2.10.3, on macOS 13.2 22D49 darwin-arm, locale en-NP)\n    • Flutter version 2.10.3 at /Users/arunmaharjan/Development/sdks/flutter\n    • Upstream repository unknown\n    • Framework revision 7e9793dee1 (1 year, 1 month ago), 2022-03-02 11:23:12 -0600\n    • Engine revision bd539267b4\n    • Dart version 2.16.1\n    • DevTools version 2.9.2\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\n    • Android SDK at /Users/arunmaharjan/Library/Android/sdk\n    • Platform android-33, build-tools 33.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • CocoaPods version 1.11.3\n\n[✓] Android Studio (version 2021.3)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n\n[✓] VS Code (version 1.77.0)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.60.0\n\n[✓] Connected device (1 available)\n    • iPhone 14 Pro Max (mobile) • 0FB13EFF-CD33-4538-A9DD-C09F3B056B68 • ios • com.apple.CoreSimulator.SimRuntime.iOS-16-2 (simulator)\n\n[✓] HTTP Host Availability\n    • All required HTTP hosts are available\n\n• No issues found!\n</code></pre>\n<p><strong>Solutions I have tried</strong></p>\n<p>1.</p>\n<pre><code>~ flutter clean\n~ cd ios &amp;&amp; rm -rf Pods Podfile.lock\n~ pod install\n# Then run the flutter project\n</code></pre>\n<ol start=\"2\">\n<li>Changed the flutter version from 2.10.3 to 2.10.5. It didn't work and reverted it again.</li>\n</ol>\n<p><strong>Below is my pubspec.yml</strong></p>\n<pre><code>name: swg_pro\ndescription: The SWG app for the professionals.\n\n# The following line prevents the package from being accidentally published to\n# pub.dev using `flutter pub publish`. This is preferred for private packages.\npublish_to: &quot;none&quot; # Remove this line if you wish to publish to pub.dev\n\n# The following defines the version and build number for your application.\n# A version number is three numbers separated by dots, like 1.2.43\n# followed by an optional build number separated by a +.\n# Both the version and the builder number may be overridden in flutter\n# build by specifying --build-name and --build-number, respectively.\n# In Android, build-name is used as versionName while build-number used as versionCode.\n# Read more about Android versioning at https://developer.android.com/studio/publish/versioning\n# In iOS, build-name is used as CFBundleShortVersionString while build-number used as CFBundleVersion.\n# Read more about iOS versioning at\n# https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html\nversion: 1.0.0+3\n\nenvironment:\n  sdk: &quot;&gt;=2.16.1 &lt;3.0.0&quot;\n\n# Dependencies specify other packages that your package needs in order to work.\n# To automatically upgrade your package dependencies to the latest versions\n# consider running `flutter pub upgrade --major-versions`. Alternatively,\n# dependencies can be manually updated by changing the version numbers below to\n# the latest version available on pub.dev. To see which dependencies have newer\n# versions available, run `flutter pub outdated`.\ndependencies:\n  flutter:\n    sdk: flutter\n\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons: ^1.0.2\n  flutter_native_splash: ^2.1.6\n  flutter_svg: ^1.0.3\n  animations: ^2.0.2\n  shared_preferences: ^2.0.13\n  shared_preferences_android: ^2.0.8\n  shared_preferences_ios: ^2.0.8\n  dio: ^4.0.4\n  flutter_dotenv: ^5.0.2\n  connectivity_plus: ^2.3.0\n  provider: ^6.0.2\n  fluttertoast: ^8.0.9\n  pin_code_fields: ^7.3.0\n  dotted_border: ^2.0.0+2\n  image_picker: ^0.8.5\n  file_picker: ^4.4.0\n  flutter_cache_manager: ^3.3.0\n  open_file: ^3.0.3\n  flutter_switch: ^0.3.2\n  intl: ^0.17.0\n  table_calendar: ^3.0.7\n  flutter_widget_from_html: ^0.8.5\n  html_editor_enhanced: ^2.4.0+1\n  plural_noun: ^0.1.2\n  agora_rtm: ^1.1.0\n  agora_rtc_engine: ^5.1.0\n  permission_handler: ^9.2.0\n  firebase_core: ^1.23.0\n  firebase_messaging: ^13.0.3\n  random_string: ^2.3.1\n  slugify: ^2.0.0\n  ffcache: ^1.1.0\n  callkeep: ^0.3.2\n  connectycube_flutter_call_kit:\n    path: ./connectycube-flutter-call-kit\n  navigation_history_observer: ^1.1.0\n  flutter_local_notifications: ^9.2.0\n  background_fetch: ^1.0.3\n  audioplayers: ^1.1.1\n  uuid: ^3.0.6\n  device_info_plus: ^4.0.0\n  sentry_flutter: ^6.12.2\n  # flutter_apns_only: ^1.6.0\n  flutter_ios_voip_kit: #^0.1.0\n    path: ./flutter_ios_voip_kit\n    # git:\n    #   url: https://github.com/ad1199/flutter_ios_voip_kit\n    #   ref: develop\n  pusher_channels_flutter: ^2.1.0\n  badges: ^2.0.3\n  flutter_share: ^2.0.0\n  flutter_foreground_task: ^3.10.0\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  flutter_launcher_icons: &quot;^0.10.0&quot;\n\n  # The &quot;flutter_lints&quot; package below contains a set of recommended lints to\n  # encourage good coding practices. The lint set provided by the package is\n  # activated in the `analysis_options.yaml` file located at the root of your\n  # package. See that file for information about deactivating specific lint\n  # rules and activating additional ones.\n  flutter_lints: ^1.0.0\n\n# For information on the generic Dart part of this file, see the\n# following page: https://dart.dev/tools/pub/pubspec\n\n# The following section is specific to Flutter.\nflutter:\n  # The following line ensures that the Material Icons font is\n  # included with your application, so that you can use the icons in\n  # the material Icons class.\n  uses-material-design: true\n\n  # To add assets to your application, add an assets section, like this:\n  assets:\n    - .env.demo\n    - .env.development\n    - .env.production\n    - assets/images/\n    - assets/images/doctor/\n    - assets/audio/callertune.mp3\n    - assets/audio/call_waiting.mp3\n\n  # An image asset can refer to one or more resolution-specific &quot;variants&quot;, see\n  # https://flutter.dev/assets-and-images/#resolution-aware.\n\n  # For details regarding adding assets from package dependencies, see\n  # https://flutter.dev/assets-and-images/#from-packages\n\n  # To add custom fonts to your application, add a fonts section here,\n  # in this &quot;flutter&quot; section. Each entry in this list should have a\n  # &quot;family&quot; key with the font family name, and a &quot;fonts&quot; key with a\n  # list giving the asset and other descriptors for the font. For\n  # example:\n  fonts:\n    - family: Poppins\n      fonts:\n        - asset: assets/fonts/poppins-bold.ttf\n          weight: 700\n          style: normal\n        - asset: assets/fonts/poppins-semi_bold.ttf\n          weight: 600\n          style: normal\n        - asset: assets/fonts/poppins-regular.ttf\n          weight: 500\n          style: normal\n\n  # For details regarding fonts from package dependencies,\n  # see https://flutter.dev/custom-fonts/#from-packages\n</code></pre>\n<p>Could someone help me figure it out?\nThank you!</p>\n",
        "codigo": [
            "[  +16 ms] /Users/arunmaharjan/Development/sdks/flutter/bin/cache/dart-sdk/bin/dart --disable-dart-dev /Users/arunmaharjan/Development/sdks/flutter/bin/cache/artifacts/engine/darwin-x64/frontend_server.dart.snapshot --sdk-root /Users/arunmaharjan/Development/sdks/flutter/bin/cache/artifacts/engine/common/flutter_patched_sdk/ --target=flutter --no-print-incremental-dependencies -DAPP_ENV=production -DFLUTTER_WEB_AUTO_DETECT=true -Ddart.vm.profile=false -Ddart.vm.product=false --enable-asserts --track-widget-creation --no-link-platform --packages /Users/arunmaharjan/Blacksheep/projects/flutter/swg_pro/.dart_tool/package_config.json --output-dill /Users/arunmaharjan/Blacksheep/projects/flutter/swg_pro/.dart_tool/flutter_build/b510feac84446de731c63e92801e95fa/app.dill --depfile /Users/arunmaharjan/Blacksheep/projects/flutter/swg_pro/.dart_tool/flutter_build/b510feac84446de731c63e92801e95fa/kernel_snapshot.d /Users/arunmaharjan/Blacksheep/projects/flutter/swg_profff/.dart_tool/flutter_build/generated_main.dart\n               [  +81 ms] Persisting file store\n               [   +7 ms] Done persisting file store\n               [  +16 ms] \"flutter assemble\" took 14,451ms.\n               [   +7 ms] ensureAnalyticsSent: 3ms\n               [   +1 ms] Running shutdown hooks\n               [        ] Shutdown hooks complete\n               [   +3 ms] exiting with code 1\n[+1394 ms] ../../../../.pub-cache/hosted/pub.dartlang.org/js-0.6.3/lib/js.dart:8:1: Error: Not found: 'dart:js'\njs.dart:8\n               [   +8 ms] export 'dart:js' show allowInterop, allowInteropCaptureThis;\n               [        ] ^\n[ +249 ms] ../../../../.pub-cache/hosted/pub.dartlang.org/js-0.6.3/lib/js_util.dart:8:1: Error: Not found: 'dart:js_util'\njs_util.dart:8\n               [        ] export 'dart:js_util';\n               [        ] ^\n[+2226 ms] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core-1.24.0/lib/src/firebase_app.dart:18:25: Error: Member not found: 'FirebaseAppPlatform.verifyExtends'.\nfirebase_app.dart:18\n               [        ]     FirebaseAppPlatform.verifyExtends(_delegate);\n               [        ]                         ^^^^^^^^^^^^^\n[+3205 ms] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/js_interop.dart:25:12: Error: Method not found: 'hasProperty'.\njs_interop.dart:25\n               [        ]   if (util.hasProperty(jsObject, 'toDateString')) {\n               [        ]            ^^^^^^^^^^^\n[   +1 ms] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/utils.dart:45:31: Error: Method not found: 'getProperty'.\nutils.dart:45\n               [        ]       map[key] = dartify(util.getProperty(jsObject, key), customDartify);\n               [        ]                               ^^^^^^^^^^^\n[        ] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/utils.dart:81:22: Error: Method not found: 'newObject'.\nutils.dart:81\n               [        ]     var jsMap = util.newObject();\n               [        ]                      ^^^^^^^^^\n[        ] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/utils.dart:83:12: Error: Method not found: 'setProperty'.\nutils.dart:83\n               [        ]       util.setProperty(jsMap, key, jsify(value, customJsify));\n               [        ]            ^^^^^^^^^^^\n[        ] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/utils.dart:89:12: Error: Method not found: 'allowInterop'.\nutils.dart:89\n               [        ]     return allowInterop(dartObject);\n               [        ]            ^^^^^^^^^^^^\n[        ] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/utils.dart:103:10: Error: Method not found: 'callMethod'.\nutils.dart:103\n               [        ]     util.callMethod(jsObject, method, args);\n               [        ]          ^^^^^^^^^^\n[        ] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/utils.dart:116:15: Error: Method not found: 'promiseToFuture'.\nutils.dart:116\n               [        ]   return util.promiseToFuture(thenable);\n               [        ]               ^^^^^^^^^^^^^^^\n[        ] ../../../../.pub-cache/hosted/pub.dartlang.org/firebase_core_web-1.7.3/lib/src/interop/utils/utils.dart:124:27: Error: Method not found: 'allowInterop'.\nutils.dart:124\n               [        ]   return PromiseJsImpl<S>(allowInterop((\n               [        ]                           ^^^^^^^^^^^^\n               [+5040 ms] Unhandled exception:\n                          FileSystemException(uri=org-dartlang-untranslatable-uri:dart%3Ajs; message=StandardFileSystem only supports file:* and data:* URIs)\n#0      StandardFileSystem.entityForUri (package:front_end/src/api_prototype/standard_file_system.dart:34:7)\n#1      asFileUri (package:vm/kernel_front_end.dart:623:37)\n#2      writeDepfile (package:vm/kernel_front_end.dart:763:21)\n                          <asynchronous suspension>\n#3      FrontendCompiler.compile (package:frontend_server/frontend_server.dart:586:9)\n                          <asynchronous suspension>\n#4      starter (package:flutter_frontend_server/server.dart:85:12)\n                          <asynchronous suspension>\n#5      main (file:///opt/s/w/ir/cache/builder/src/flutter/flutter_frontend_server/bin/starter.dart:13:24)\n                          <asynchronous suspension>\n               [   +6 ms] Target kernel_snapshot failed: Exception\n#0      KernelSnapshot.build (package:flutter_tools/src/build_system/targets/common.dart:241:7)\n                          <asynchronous suspension>\n#1      _BuildInstance._invokeInternal (package:flutter_tools/src/build_system/build_system.dart:839:9)\n                          <asynchronous suspension>\n#2      Future.wait.<anonymous closure> (dart:async/future.dart:473:21)\n                          <asynchronous suspension>\n#3      _BuildInstance.invokeTarget (package:flutter_tools/src/build_system/build_system.dart:777:32)\n                          <asynchronous suspension>\n#4      FlutterBuildSystem.build (package:flutter_tools/src/build_system/build_system.dart:606:16)\n                          <asynchronous suspension>\n#5      AssembleCommand.runCommand (package:flutter_tools/src/commands/assemble.dart:317:32)\n                          <asynchronous suspension>\n#6      FlutterCommand.run.<anonymous closure> (package:flutter_tools/src/runner/flutter_command.dart:1161:27)\n                          <asynchronous suspension>\n#7      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n                          <asynchronous suspension>\n#8      CommandRunner.runCommand\ncommand_runner.dart:209\n                          <asynchronous suspension>\n#9      FlutterCommandRunner.runCommand.<anonymous closure> (package:flutter_tools/src/runner/flutter_command_runner.dart:281:9)\n#10     AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n                          <asynchronous suspension>\n#11     FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:229:5)\n                          <asynchronous suspension>\n#12     run.<anonymous closure>.<anonymous closure> (package:flutter_tools/runner.dart:62:9)\n                          <asynchronous suspension>\n#13     AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n                          <asynchronous suspension>\n#14     main (package:flutter_tools/executable.dart:94:3)\n                          <asynchronous suspension>\n               [   +5 ms]\n#0      throwToolExit (package:flutter_tools/src/base/common.dart:10:3)\n#1      AssembleCommand.runCommand (package:flutter_tools/src/commands/assemble.dart:334:7)\n                          <asynchronous suspension>\n#2      FlutterCommand.run.<anonymous closure> (package:flutter_tools/src/runner/flutter_command.dart:1161:27)\n                          <asynchronous suspension>\n#3      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n                          <asynchronous suspension>\n#4      CommandRunner.runCommand\ncommand_runner.dart:209\n                          <asynchronous suspension>\n#5      FlutterCommandRunner.runCommand.<anonymous closure> (package:flutter_tools/src/runner/flutter_command_runner.dart:281:9)\n                          <asynchronous suspension>\n#6      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n                          <asynchronous suspension>\n#7      FlutterCommandRunner.runCommand (package:flutter_tools/src/runner/flutter_command_runner.dart:229:5)\n                          <asynchronous suspension>\n#8      run.<anonymous closure>.<anonymous closure> (package:flutter_tools/runner.dart:62:9)\n                          <asynchronous suspension>\n#9      AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:150:19)\n                          <asynchronous suspension>\n#10     main (package:flutter_tools/executable.dart:94:3)\n                          <asynchronous suspension>\n               Failed to package /Users/arunmaharjan/Blacksheep/projects/flutter/swg_pro.\n               Command PhaseScriptExecution failed with a nonzero exit code\n               warning: Run script build phase 'Run Script' will be run during every build because it does not specify any outputs. To address this warning, either add output dependencies to the script phase, or configure it to run in every build by unchecking \"Based on dependency analysis\" in the script phase. (in target 'Runner' from project 'Runner')\n               warning: Run script build phase 'Thin Binary' will be run during every build because it does not specify any outputs. To address this warning, either add output dependencies to the script phase, or configure it to run in every build by unchecking \"Based on dependency analysis\" in the script phase. (in target 'Runner' from project 'Runner')\n               Result bundle written to path:\n                /var/folders/x_/hj62v_0j67d7wq80vgl5btr00000gn/T/flutter_tools.ABVYp9/flutter_ios_build_temp_dir5dmQTT/temporary_xcresult_bundle\n[+1037 ms] Could not build the application for the simulator.\n[   +9 ms] Error launching application on iPhone 14 Pro Max.\nExited (sigterm)\n",
            "~ flutter doctor -v\n\n[✓] Flutter (Channel unknown, 2.10.3, on macOS 13.2 22D49 darwin-arm, locale en-NP)\n    • Flutter version 2.10.3 at /Users/arunmaharjan/Development/sdks/flutter\n    • Upstream repository unknown\n    • Framework revision 7e9793dee1 (1 year, 1 month ago), 2022-03-02 11:23:12 -0600\n    • Engine revision bd539267b4\n    • Dart version 2.16.1\n    • DevTools version 2.9.2\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.0)\n    • Android SDK at /Users/arunmaharjan/Library/Android/sdk\n    • Platform android-33, build-tools 33.0.0\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/java\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n    • All Android licenses accepted.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • CocoaPods version 1.11.3\n\n[✓] Android Studio (version 2021.3)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)\n\n[✓] VS Code (version 1.77.0)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.60.0\n\n[✓] Connected device (1 available)\n    • iPhone 14 Pro Max (mobile) • 0FB13EFF-CD33-4538-A9DD-C09F3B056B68 • ios • com.apple.CoreSimulator.SimRuntime.iOS-16-2 (simulator)\n\n[✓] HTTP Host Availability\n    • All required HTTP hosts are available\n\n• No issues found!\n",
            "~ flutter clean\n~ cd ios && rm -rf Pods Podfile.lock\n~ pod install\n# Then run the flutter project\n",
            "name: swg_pro\ndescription: The SWG app for the professionals.\n\n# The following line prevents the package from being accidentally published to\n# pub.dev using `flutter pub publish`. This is preferred for private packages.\npublish_to: \"none\" # Remove this line if you wish to publish to pub.dev\n\n# The following defines the version and build number for your application.\n# A version number is three numbers separated by dots, like 1.2.43\n# followed by an optional build number separated by a +.\n# Both the version and the builder number may be overridden in flutter\n# build by specifying --build-name and --build-number, respectively.\n# In Android, build-name is used as versionName while build-number used as versionCode.\n# Read more about Android versioning at https://developer.android.com/studio/publish/versioning\n# In iOS, build-name is used as CFBundleShortVersionString while build-number used as CFBundleVersion.\n# Read more about iOS versioning at\n# https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html\nversion: 1.0.0+3\n\nenvironment:\n  sdk: \">=2.16.1 <3.0.0\"\n\n# Dependencies specify other packages that your package needs in order to work.\n# To automatically upgrade your package dependencies to the latest versions\n# consider running `flutter pub upgrade --major-versions`. Alternatively,\n# dependencies can be manually updated by changing the version numbers below to\n# the latest version available on pub.dev. To see which dependencies have newer\n# versions available, run `flutter pub outdated`.\ndependencies:\n  flutter:\n    sdk: flutter\n\n  # The following adds the Cupertino Icons font to your application.\n  # Use with the CupertinoIcons class for iOS style icons.\n  cupertino_icons: ^1.0.2\n  flutter_native_splash: ^2.1.6\n  flutter_svg: ^1.0.3\n  animations: ^2.0.2\n  shared_preferences: ^2.0.13\n  shared_preferences_android: ^2.0.8\n  shared_preferences_ios: ^2.0.8\n  dio: ^4.0.4\n  flutter_dotenv: ^5.0.2\n  connectivity_plus: ^2.3.0\n  provider: ^6.0.2\n  fluttertoast: ^8.0.9\n  pin_code_fields: ^7.3.0\n  dotted_border: ^2.0.0+2\n  image_picker: ^0.8.5\n  file_picker: ^4.4.0\n  flutter_cache_manager: ^3.3.0\n  open_file: ^3.0.3\n  flutter_switch: ^0.3.2\n  intl: ^0.17.0\n  table_calendar: ^3.0.7\n  flutter_widget_from_html: ^0.8.5\n  html_editor_enhanced: ^2.4.0+1\n  plural_noun: ^0.1.2\n  agora_rtm: ^1.1.0\n  agora_rtc_engine: ^5.1.0\n  permission_handler: ^9.2.0\n  firebase_core: ^1.23.0\n  firebase_messaging: ^13.0.3\n  random_string: ^2.3.1\n  slugify: ^2.0.0\n  ffcache: ^1.1.0\n  callkeep: ^0.3.2\n  connectycube_flutter_call_kit:\n    path: ./connectycube-flutter-call-kit\n  navigation_history_observer: ^1.1.0\n  flutter_local_notifications: ^9.2.0\n  background_fetch: ^1.0.3\n  audioplayers: ^1.1.1\n  uuid: ^3.0.6\n  device_info_plus: ^4.0.0\n  sentry_flutter: ^6.12.2\n  # flutter_apns_only: ^1.6.0\n  flutter_ios_voip_kit: #^0.1.0\n    path: ./flutter_ios_voip_kit\n    # git:\n    #   url: https://github.com/ad1199/flutter_ios_voip_kit\n    #   ref: develop\n  pusher_channels_flutter: ^2.1.0\n  badges: ^2.0.3\n  flutter_share: ^2.0.0\n  flutter_foreground_task: ^3.10.0\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  flutter_launcher_icons: \"^0.10.0\"\n\n  # The \"flutter_lints\" package below contains a set of recommended lints to\n  # encourage good coding practices. The lint set provided by the package is\n  # activated in the `analysis_options.yaml` file located at the root of your\n  # package. See that file for information about deactivating specific lint\n  # rules and activating additional ones.\n  flutter_lints: ^1.0.0\n\n# For information on the generic Dart part of this file, see the\n# following page: https://dart.dev/tools/pub/pubspec\n\n# The following section is specific to Flutter.\nflutter:\n  # The following line ensures that the Material Icons font is\n  # included with your application, so that you can use the icons in\n  # the material Icons class.\n  uses-material-design: true\n\n  # To add assets to your application, add an assets section, like this:\n  assets:\n    - .env.demo\n    - .env.development\n    - .env.production\n    - assets/images/\n    - assets/images/doctor/\n    - assets/audio/callertune.mp3\n    - assets/audio/call_waiting.mp3\n\n  # An image asset can refer to one or more resolution-specific \"variants\", see\n  # https://flutter.dev/assets-and-images/#resolution-aware.\n\n  # For details regarding adding assets from package dependencies, see\n  # https://flutter.dev/assets-and-images/#from-packages\n\n  # To add custom fonts to your application, add a fonts section here,\n  # in this \"flutter\" section. Each entry in this list should have a\n  # \"family\" key with the font family name, and a \"fonts\" key with a\n  # list giving the asset and other descriptors for the font. For\n  # example:\n  fonts:\n    - family: Poppins\n      fonts:\n        - asset: assets/fonts/poppins-bold.ttf\n          weight: 700\n          style: normal\n        - asset: assets/fonts/poppins-semi_bold.ttf\n          weight: 600\n          style: normal\n        - asset: assets/fonts/poppins-regular.ttf\n          weight: 500\n          style: normal\n\n  # For details regarding fonts from package dependencies,\n  # see https://flutter.dev/custom-fonts/#from-packages\n"
        ]
    },
    {
        "titulo": "Linter tells me cast is unnecessary, but crashes without it",
        "score": 1,
        "views": 146,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "casting"
        ],
        "link": "https://stackoverflow.com/questions/75908464/linter-tells-me-cast-is-unnecessary-but-crashes-without-it",
        "conteudo_html": "<p>I came across a behaviour I am unable to work around. Basically, I am trying to fetch data, and return a <code>Future</code> of these data, where some of the requests can fail but we can ignore them.</p>\n<p>This is my idea so far : for each data we want to get, create a future that returns null if it fails, and the value otherwise. Then wait all the futures, and remove null values.</p>\n<p>Here is my code : (simple test data)</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;List&lt;String&gt;&gt; testFunc() {\n  // create a result list\n  List&lt;Future&lt;String?&gt;&gt; result = List.empty(growable: true);\n\n  // put 10 future in the results\n  for(int i = 0; i &lt; 10; i++) {\n    result.add(\n      // create a future that may fail\n      Future.delayed(Duration(seconds: i), () {\n        if(i % 2 == 0) { return i; }\n        else { throw Error(); }\n      })\n      // if the future succeed, return the value\n      .then((value) {\n        return &quot;got from future : $value&quot;;\n      })\n      // otherwise, returns &quot;null&quot; as we are expecting a future returning a nullable value\n      .catchError((error) {\n        return null; // &lt;========= Linter error here\n      })\n    );\n  }\n\n  // then, wait for all futures, and remove the ones that crashed\n  return Future.wait(result).then((listOfNullable) =&gt; listOfNullable.where((element) =&gt; element != null).map((e) =&gt; e!).toList());\n}\n</code></pre>\n<p>When I run this and one of the futures fails and return null, I'm having an error :\n<code>The error handler of Future.catchError must return a value of the future's type</code> which I don't understand, as null is a valid value for <code>String?</code>?</p>\n<p>Something that does work is with explicit casts :</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;List&lt;String&gt;&gt; testFunc() {\n// create a result list\nList&lt;Future&lt;String?&gt;&gt; result = List.empty(growable: true);\n\n// put 10 future in the results\nfor(int i = 0; i &lt; 10; i++) {\n result.add(\n   // create a future that may fail\n   Future.delayed(Duration(seconds: i), () {\n     if(i % 2 == 0) { return i; }\n     else { throw Error(); }\n   })\n   // if the future succeed, return the value\n   .then((value) {\n     return &quot;got from future : $value&quot; as String?; // &lt;========= Linter error here\n   })\n   // otherwise, returns &quot;null&quot; as we are expecting a future returning a nullable value\n   .catchError((error) {\n     return null as String?; // &lt;========= Linter error here\n   })\n );\n}\n\n// then, wait for all futures, and remove the ones that crashed\nreturn Future.wait(result).then((listOfNullable) =&gt; listOfNullable.where((element) =&gt; element != null).map((e) =&gt; e!).toList());\n}\n</code></pre>\n<p>But now, the linter tells me I have an unnecessary cast, and I'm trying to remove any linter errors.</p>\n<p>What I am missing here ?</p>\n",
        "codigo": [
            "Future",
            "Future<List<String>> testFunc() {\n  // create a result list\n  List<Future<String?>> result = List.empty(growable: true);\n\n  // put 10 future in the results\n  for(int i = 0; i < 10; i++) {\n    result.add(\n      // create a future that may fail\n      Future.delayed(Duration(seconds: i), () {\n        if(i % 2 == 0) { return i; }\n        else { throw Error(); }\n      })\n      // if the future succeed, return the value\n      .then((value) {\n        return \"got from future : $value\";\n      })\n      // otherwise, returns \"null\" as we are expecting a future returning a nullable value\n      .catchError((error) {\n        return null; // <========= Linter error here\n      })\n    );\n  }\n\n  // then, wait for all futures, and remove the ones that crashed\n  return Future.wait(result).then((listOfNullable) => listOfNullable.where((element) => element != null).map((e) => e!).toList());\n}\n",
            "The error handler of Future.catchError must return a value of the future's type",
            "String?",
            "Future<List<String>> testFunc() {\n// create a result list\nList<Future<String?>> result = List.empty(growable: true);\n\n// put 10 future in the results\nfor(int i = 0; i < 10; i++) {\n result.add(\n   // create a future that may fail\n   Future.delayed(Duration(seconds: i), () {\n     if(i % 2 == 0) { return i; }\n     else { throw Error(); }\n   })\n   // if the future succeed, return the value\n   .then((value) {\n     return \"got from future : $value\" as String?; // <========= Linter error here\n   })\n   // otherwise, returns \"null\" as we are expecting a future returning a nullable value\n   .catchError((error) {\n     return null as String?; // <========= Linter error here\n   })\n );\n}\n\n// then, wait for all futures, and remove the ones that crashed\nreturn Future.wait(result).then((listOfNullable) => listOfNullable.where((element) => element != null).map((e) => e!).toList());\n}\n"
        ]
    },
    {
        "titulo": "Execution failed for task &#39;:app:compileFlutterBuildRelease&#39;, please how do I solve this issue",
        "score": 0,
        "views": 2135,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "build.gradle",
            "flutter-build",
            "flutter-apk"
        ],
        "link": "https://stackoverflow.com/questions/75883030/execution-failed-for-task-appcompileflutterbuildrelease-please-how-do-i-sol",
        "conteudo_html": "<p>Am having problem building my project, when I build it in debug mode it goes fine but when I build it in profile mode and release mode it  gives me error. And If I do <code>flutter run</code> for debug mode it successfully build and throws me a new error.</p>\n<pre><code>Dart snapshot generator failed with exit code -1073741819\nTarget android_aot_release_android-arm failed: Exception: AOT snapshotter exited with code -1073741819\n\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript 'C:\\Users\\Lenovo\\Desktop\\ALL\\Flutter\\packages\\flutter_tools\\gradle\\flutter.gradle' line: 1151\n\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuildRelease'.\n&gt; Process 'command 'C:\\Users\\Lenovo\\Desktop\\ALL\\Flutter\\bin\\flutter.bat'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 4m 32s\nRunning Gradle task 'assembleRelease'...                          275.1s\nGradle task assembleRelease failed with exit code 1\n</code></pre>\n<p>Thats the error I get when I run flutter build apk --release</p>\n<p>And I get this error when I run flutter build apk --profile</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':connectivity_plus:verifyProfileResources'.\n&gt; Could not resolve all files for configuration ':connectivity_plus:profileRuntimeClasspath'.\n   &gt; Failed to transform core-1.6.0.aar (androidx.core:core:1.6.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.category=library, org.gradle.dependency.bundling=external, org.gradle.libraryelements=aar, org.gradle.status=release, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Lenovo\\.gradle\\caches\\transforms-3\\5f7c8bec4875ba55b1273d724949c5bc\\transformed\\core-1.6.0.\n         &gt; AAPT2 aapt2-7.2.0-7984345-windows Daemon #1: Daemon startup failed\n           Please check if you installed the Windows Universal C Runtime.\n           This should not happen under normal circumstances, please file an issue if it does.\n   &gt; Failed to transform core-1.6.0.aar (androidx.core:core:1.6.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Lenovo\\.gradle\\caches\\transforms-3\\5f7c8bec4875ba55b1273d724949c5bc\\transformed\\core-1.6.0.\n         &gt; AAPT2 aapt2-7.2.0-7984345-windows Daemon #1: Daemon startup failed\n           Please check if you installed the Windows Universal C Runtime.\n           This should not happen under normal circumstances, please file an issue if it does.\n   &gt; Failed to transform core-1.6.0.aar (androidx.core:core:1.6.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Lenovo\\.gradle\\caches\\transforms-3\\5f7c8bec4875ba55b1273d724949c5bc\\transformed\\core-1.6.0.\n         &gt; AAPT2 aapt2-7.2.0-7984345-windows Daemon #1: Daemon startup failed\n           Please check if you installed the Windows Universal C Runtime.\n           This should not happen under normal circumstances, please file an issue if it does.\n   &gt; Failed to transform core-1.6.0.aar (androidx.core:core:1.6.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Lenovo\\.gradle\\caches\\transforms-3\\5f7c8bec4875ba55b1273d724949c5bc\\transformed\\core-1.6.0.\n         &gt; AAPT2 aapt2-7.2.0-7984345-windows Daemon #1: Daemon startup failed\n           Please check if you installed the Windows Universal C Runtime.\n           This should not happen under normal circumstances, please file an issue if it does.\n   &gt; Failed to transform core-1.6.0.aar (androidx.core:core:1.6.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Lenovo\\.gradle\\caches\\transforms-3\\5f7c8bec4875ba55b1273d724949c5bc\\transformed\\core-1.6.0.\n         &gt; AAPT2 aapt2-7.2.0-7984345-windows Daemon #1: Daemon startup failed\n           Please check if you installed the Windows Universal C Runtime.\n           This should not happen under normal circumstances, please file an issue if it does.\n   &gt; Failed to transform core-1.6.0.aar (androidx.core:core:1.6.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n      &gt; Execution failed for AarResourcesCompilerTransform: C:\\Users\\Lenovo\\.gradle\\caches\\transforms-3\\5f7c8bec4875ba55b1273d724949c5bc\\transformed\\core-1.6.0.\n         &gt; AAPT2 aapt2-7.2.0-7984345-windows Daemon #1: Daemon startup failed\n           Please check if you installed the Windows Universal C Runtime.\n           This should not happen under normal circumstances, please file an issue if it does.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 18m 30s\nRunning Gradle task 'assembleProfile'...                         1114.7s\nGradle task assembleProfile failed with exit code 1\n</code></pre>\n<p>Then I get success when building for debug mode, but if am running the debug mode this what I get</p>\n<pre><code>Note: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\nRunning Gradle task 'assembleDebug'...                           1721.3s\n√  Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\nFailed to extract manifest from APK: ProcessException: The command failed\n  Command: C:\\Users\\Lenovo\\AppData\\Local\\Android\\sdk\\build-tools\\33.0.2\\aapt dump xmltree\n  C:\\Users\\Lenovo\\Desktop\\ALL\\Flutter-Apps\\portfolio\\build\\app\\outputs\\flutter-apk\\app-debug.apk AndroidManifest.xml.\nException: Problem building Android application: see above error(s).\n</code></pre>\n<p>So I decided to upgrade flutter to the latest which is <code>3.7.8</code> since almost every solution I see on the internet is not working and even other answer on same issue is not working, have checked the flutter community and no solution.</p>\n<p>I decided to create a new project and run it, behold got a the same error!!!</p>\n<pre><code>Running Gradle task 'assembleDebug'...                            715.1s\n√  Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\nFailed to extract manifest from APK: ProcessException: The command failed\n  Command: C:\\Users\\Lenovo\\AppData\\Local\\Android\\sdk\\build-tools\\33.0.2\\aapt dump xmltree\n  C:\\Users\\Lenovo\\Desktop\\ALL\\Flutter-Apps\\food\\build\\app\\outputs\\flutter-apk\\app-debug.apk AndroidManifest.xml.\nException: Problem building Android application: see above error(s).\n</code></pre>\n<p>Please what should I do? I need help</p>\n<p>This my Flutter doctor -v @Hoa Le</p>\n\n[√] Flutter (Channel stable, 3.7.8, on Microsoft Windows [Version 10.0.22000.318], locale en-US)\n    • Flutter version 3.7.8 on channel stable at C:\\Users\\Lenovo\\Desktop\\ALL\\Flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 90c64ed42b (9 days ago), 2023-03-21 11:27:08 -0500\n    • Engine revision 9aa7816315\n    • Dart version 2.19.5\n    • DevTools version 2.20.1\n<p>This is taking an unexpectedly long time...[√] Windows Version (Installed version of Windows is version 10 or higher)</p>\n<p>Checking Android licenses is taking an unexpectedly long time...[☠] Android toolchain - develop for Android devices (the doctor check crashed)\nX Due to an error, the doctor check did not complete. If the error message below is not helpful, please let us know\nabout this issue at <a href=\"https://github.com/flutter/flutter/issues\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues</a>.\nX Exception: Android toolchain - develop for Android devices exceeded maximum allowed duration of 0:04:30.000000\n•</p>\n<p>[√] Android Studio (version 2021.3)\n• Android Studio at C:\\Program Files\\Android\\Android Studio\n• Flutter plugin can be installed from:\n<a href=\"https://plugins.jetbrains.com/plugin/9212-flutter\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/9212-flutter</a>\n• Dart plugin can be installed from:\n<a href=\"https://plugins.jetbrains.com/plugin/6351-dart\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/6351-dart</a>\n• Java version OpenJDK Runtime Environment (build 11.0.13+0-b1751.21-8125866)</p>\n<p>[√] VS Code (version 1.73.1)\n• VS Code at C:\\Users\\Lenovo\\AppData\\Local\\Programs\\Microsoft VS Code\n• Flutter extension version 3.60.0</p>\n<p>[☠] Connected device (the doctor check crashed)\nX Due to an error, the doctor check did not complete. If the error message below is not helpful, please let us know\nabout this issue at <a href=\"https://github.com/flutter/flutter/issues\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter/issues</a>.\nX Exception: Unable to run &quot;adb&quot;, check your Android SDK installation and ANDROID_SDK_ROOT environment variable:\nC:\\Users\\Lenovo\\AppData\\Local\\Android\\sdk\\platform-tools\\adb.exe\n• #0      throwToolExit (package:flutter_tools/src/base/common.dart:10:3)\n#1      AndroidDevices.pollingGetDevices (package:flutter_tools/src/android/android_device_discovery.dart:75:7)\n\n#2      PollingDeviceDiscovery._populateDevices (package:flutter_tools/src/device.dart:394:54)\n\n#3      Future.wait. (dart:async/future.dart:522:21)\n\n#4      DeviceManager.getAllConnectedDevices (package:flutter_tools/src/device.dart:182:40)\n\n#5      DeviceValidator.validate (package:flutter_tools/src/doctor.dart:690:34)\n\n#6      Future.any.onValue (dart:async/future.dart:612:5)\n</p>\n<p>[√] HTTP Host Availability\n• All required HTTP hosts are available</p>\n<p>! Doctor found issues in 2 categories.</p>\n\n",
        "codigo": [
            "flutter run",
            "Dart snapshot generator failed with exit code -1073741819\nTarget android_aot_release_android-arm failed: Exception: AOT snapshotter exited with code -1073741819\n\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript 'C:\\Users\\Lenovo\\Desktop\\ALL\\Flutter\\packages\\flutter_tools\\gradle\\flutter.gradle' line: 1151\n\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuildRelease'.\n> Process 'command 'C:\\Users\\Lenovo\\Desktop\\ALL\\Flutter\\bin\\flutter.bat'' finished with non-zero exit value 1\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 4m 32s\nRunning Gradle task 'assembleRelease'...                          275.1s\nGradle task assembleRelease failed with exit code 1\n",
            "FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':connectivity_plus:verifyProfileResources'.\n> Could not resolve all files for configuration ':connectivity_plus:profileRuntimeClasspath'.\n   > Failed to transform core-1.6.0.aar (androidx.core:core:1.6.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.category=library, org.gradle.dependency.bundling=external, org.gradle.libraryelements=aar, org.gradle.status=release, org.gradle.usage=java-runtime}.\n      > Execution failed for AarResourcesCompilerTransform: C:\\Users\\Lenovo\\.gradle\\caches\\transforms-3\\5f7c8bec4875ba55b1273d724949c5bc\\transformed\\core-1.6.0.\n         > AAPT2 aapt2-7.2.0-7984345-windows Daemon #1: Daemon startup failed\n           Please check if you installed the Windows Universal C Runtime.\n           This should not happen under normal circumstances, please file an issue if it does.\n   > Failed to transform core-1.6.0.aar (androidx.core:core:1.6.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n      > Execution failed for AarResourcesCompilerTransform: C:\\Users\\Lenovo\\.gradle\\caches\\transforms-3\\5f7c8bec4875ba55b1273d724949c5bc\\transformed\\core-1.6.0.\n         > AAPT2 aapt2-7.2.0-7984345-windows Daemon #1: Daemon startup failed\n           Please check if you installed the Windows Universal C Runtime.\n           This should not happen under normal circumstances, please file an issue if it does.\n   > Failed to transform core-1.6.0.aar (androidx.core:core:1.6.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n      > Execution failed for AarResourcesCompilerTransform: C:\\Users\\Lenovo\\.gradle\\caches\\transforms-3\\5f7c8bec4875ba55b1273d724949c5bc\\transformed\\core-1.6.0.\n         > AAPT2 aapt2-7.2.0-7984345-windows Daemon #1: Daemon startup failed\n           Please check if you installed the Windows Universal C Runtime.\n           This should not happen under normal circumstances, please file an issue if it does.\n   > Failed to transform core-1.6.0.aar (androidx.core:core:1.6.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n      > Execution failed for AarResourcesCompilerTransform: C:\\Users\\Lenovo\\.gradle\\caches\\transforms-3\\5f7c8bec4875ba55b1273d724949c5bc\\transformed\\core-1.6.0.\n         > AAPT2 aapt2-7.2.0-7984345-windows Daemon #1: Daemon startup failed\n           Please check if you installed the Windows Universal C Runtime.\n           This should not happen under normal circumstances, please file an issue if it does.\n   > Failed to transform core-1.6.0.aar (androidx.core:core:1.6.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n      > Execution failed for AarResourcesCompilerTransform: C:\\Users\\Lenovo\\.gradle\\caches\\transforms-3\\5f7c8bec4875ba55b1273d724949c5bc\\transformed\\core-1.6.0.\n         > AAPT2 aapt2-7.2.0-7984345-windows Daemon #1: Daemon startup failed\n           Please check if you installed the Windows Universal C Runtime.\n           This should not happen under normal circumstances, please file an issue if it does.\n   > Failed to transform core-1.6.0.aar (androidx.core:core:1.6.0) to match attributes {artifactType=android-compiled-dependencies-resources, org.gradle.status=release}.\n      > Execution failed for AarResourcesCompilerTransform: C:\\Users\\Lenovo\\.gradle\\caches\\transforms-3\\5f7c8bec4875ba55b1273d724949c5bc\\transformed\\core-1.6.0.\n         > AAPT2 aapt2-7.2.0-7984345-windows Daemon #1: Daemon startup failed\n           Please check if you installed the Windows Universal C Runtime.\n           This should not happen under normal circumstances, please file an issue if it does.\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 18m 30s\nRunning Gradle task 'assembleProfile'...                         1114.7s\nGradle task assembleProfile failed with exit code 1\n",
            "Note: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\nRunning Gradle task 'assembleDebug'...                           1721.3s\n√  Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\nFailed to extract manifest from APK: ProcessException: The command failed\n  Command: C:\\Users\\Lenovo\\AppData\\Local\\Android\\sdk\\build-tools\\33.0.2\\aapt dump xmltree\n  C:\\Users\\Lenovo\\Desktop\\ALL\\Flutter-Apps\\portfolio\\build\\app\\outputs\\flutter-apk\\app-debug.apk AndroidManifest.xml.\nException: Problem building Android application: see above error(s).\n",
            "3.7.8",
            "Running Gradle task 'assembleDebug'...                            715.1s\n√  Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\nFailed to extract manifest from APK: ProcessException: The command failed\n  Command: C:\\Users\\Lenovo\\AppData\\Local\\Android\\sdk\\build-tools\\33.0.2\\aapt dump xmltree\n  C:\\Users\\Lenovo\\Desktop\\ALL\\Flutter-Apps\\food\\build\\app\\outputs\\flutter-apk\\app-debug.apk AndroidManifest.xml.\nException: Problem building Android application: see above error(s).\n"
        ]
    },
    {
        "titulo": "Dart shelf server returns 503 when testing",
        "score": 0,
        "views": 194,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "server",
            "dart-shelf",
            "shelf-router"
        ],
        "link": "https://stackoverflow.com/questions/75878245/dart-shelf-server-returns-503-when-testing",
        "conteudo_html": "<p>I'm trying to write tests for my shelf server. And it returns 503 when I make a request in my unit tests, even though the server is started in my test setup.\nI also tested the route I make a call to in my unit test, in my browser, in the duration that unit test runs. And it works. But in my unit test, I get 503.</p>\n<p>Is there any way I can test my shelf server? Any alternative solutions will be appreaciated.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>void main() {\n  late WebServer server;\n  setUp(() async {\n    server = WebServer();\n    await server.run();\n  });\n\n  tearDown(() async {\n    await server.stop(force: true);\n  });\n\n  test('calling /games return hardcoded text', () async {\n    final uri = 'http://localhost:8081/games/1';\n    print(Uri.parse(uri));\n    final response = await http.get(Uri.parse(uri));\n    expect(response.statusCode, HttpStatus.ok);\n    expect(response.body, 'creating a new game');\n  });\n}\n\n</code></pre>\n<p>And here is the code for my server</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class WebServer {\n  late HttpServer _httpServer;\n\n  Future&lt;HttpServer&gt; run() async {\n    final shelfRouter = setupRoutes();\n    _httpServer = await io.serve(shelfRouter, 'localhost', 8081);\n    return _httpServer;\n  }\n\n  Future&lt;void&gt; stop({bool force = true}) =&gt; _httpServer.close(force: force);\n}\n\n</code></pre>\n<p>here is the error I get</p>\n<pre><code>Expected: &lt;200&gt;\n  Actual: &lt;503&gt;\n\npackage:matcher                 expect\ntest/web_server_test.dart 22:5  main.&lt;fn&gt;\n</code></pre>\n",
        "codigo": [
            "void main() {\n  late WebServer server;\n  setUp(() async {\n    server = WebServer();\n    await server.run();\n  });\n\n  tearDown(() async {\n    await server.stop(force: true);\n  });\n\n  test('calling /games return hardcoded text', () async {\n    final uri = 'http://localhost:8081/games/1';\n    print(Uri.parse(uri));\n    final response = await http.get(Uri.parse(uri));\n    expect(response.statusCode, HttpStatus.ok);\n    expect(response.body, 'creating a new game');\n  });\n}\n\n",
            "class WebServer {\n  late HttpServer _httpServer;\n\n  Future<HttpServer> run() async {\n    final shelfRouter = setupRoutes();\n    _httpServer = await io.serve(shelfRouter, 'localhost', 8081);\n    return _httpServer;\n  }\n\n  Future<void> stop({bool force = true}) => _httpServer.close(force: force);\n}\n\n",
            "Expected: <200>\n  Actual: <503>\n\npackage:matcher                 expect\ntest/web_server_test.dart 22:5  main.<fn>\n"
        ]
    },
    {
        "titulo": "phone auth Firebase not sending OTP to Flutter IOS",
        "score": 1,
        "views": 678,
        "respostas": 0,
        "tags": [
            "ios",
            "flutter",
            "firebase",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75871968/phone-auth-firebase-not-sending-otp-to-flutter-ios",
        "conteudo_html": "<p>I have enabled and activated the phone authentication service by Firebase to my flutter app, for android the OTP is received fine after i added the sha256 and implemented the code correctly in flutter.</p>\n<p>for IOS i have generated the private key and upload it to firebase app check for IOS &quot;DeviceCheck&quot;:</p>\n<p><a href=\"https://i.sstatic.net/NTQZ7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/NTQZ7.png\" alt=\"enter image description here\" /></a></p>\n<p>i have also installed the pods correctly to the IOS build and the app check by firebase dependency exists, actually its fully working for android.</p>\n<p>in XCode i have archived and uploaded the build to app store connect, then used TestFlight to test the build, the problem is the whole app is not redirecting to the OTP screen after putting the phone number and clicking in login, here is my implementation for the phone auth using the provider, first after user enter the phone number and clicks login this function triggered:</p>\n<pre><code>  void sendPhoneNumber() {\n    final ap = Provider.of&lt;AuthProvider&gt;(context, listen: false);\n    String phoneNumber = phoneController.text.trim();\n    ap.signInWithPhone(context, &quot;+${selectedCountry.phoneCode}$phoneNumber&quot;);\n  }\n</code></pre>\n<p>and this is what happened in the <code>signInWithPhone()</code> function:</p>\n<pre><code>void signInWithPhone(BuildContext context, String phoneNumber) async {\n    try {\n      await _firebaseAuth.verifyPhoneNumber(\n          phoneNumber: phoneNumber,\n          verificationCompleted: (phoneAuthCredential) {},\n          verificationFailed: (error) {\n            throw Exception(error.message);\n          },\n          codeSent: (verificationId, forceResendingToken) {\n            if (ModalRoute.of(context)?.settings.name == '/otp_screen.dart') {\n            } else {\n              Navigator.push(\n                context,\n                MaterialPageRoute(\n                  builder: (context) =&gt; OtpScreen(\n                      verificationId: verificationId, phoneNumber: phoneNumber),\n                  settings: RouteSettings(name: '/otp_screen.dart'),\n                ),\n              );\n            }\n          },\n          codeAutoRetrievalTimeout: (verificationId) {});\n    } on FirebaseAuthException catch (e) {\n      showSnackBar(context, e.message.toString());\n    }\n  }\n</code></pre>\n<p>in the main file the app check service is initialized, i'll appreciate any help cause am not sure what is missing.</p>\n",
        "codigo": [
            "  void sendPhoneNumber() {\n    final ap = Provider.of<AuthProvider>(context, listen: false);\n    String phoneNumber = phoneController.text.trim();\n    ap.signInWithPhone(context, \"+${selectedCountry.phoneCode}$phoneNumber\");\n  }\n",
            "signInWithPhone()",
            "void signInWithPhone(BuildContext context, String phoneNumber) async {\n    try {\n      await _firebaseAuth.verifyPhoneNumber(\n          phoneNumber: phoneNumber,\n          verificationCompleted: (phoneAuthCredential) {},\n          verificationFailed: (error) {\n            throw Exception(error.message);\n          },\n          codeSent: (verificationId, forceResendingToken) {\n            if (ModalRoute.of(context)?.settings.name == '/otp_screen.dart') {\n            } else {\n              Navigator.push(\n                context,\n                MaterialPageRoute(\n                  builder: (context) => OtpScreen(\n                      verificationId: verificationId, phoneNumber: phoneNumber),\n                  settings: RouteSettings(name: '/otp_screen.dart'),\n                ),\n              );\n            }\n          },\n          codeAutoRetrievalTimeout: (verificationId) {});\n    } on FirebaseAuthException catch (e) {\n      showSnackBar(context, e.message.toString());\n    }\n  }\n"
        ]
    },
    {
        "titulo": "How can I utilize firebase cloud functions as a callbackurl to receive Mpesa payment responses?",
        "score": 0,
        "views": 140,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "google-cloud-functions",
            "mpesa"
        ],
        "link": "https://stackoverflow.com/questions/75866894/how-can-i-utilize-firebase-cloud-functions-as-a-callbackurl-to-receive-mpesa-pay",
        "conteudo_html": "<p>I'm trying to utilize firebase cloud functions as a callbackurl to receive Mpesa payment responses from Safaricom.</p>\n<p>So far consuming the mpesa api and prompting the user to input their pin works.</p>\n<p>I have tried to go further and write some cloud function that would receive the payment response, however it doesn't seen to work.</p>\n<p>This is my first time working with the mpesa api.</p>\n<p>This method call the mpesa api:</p>\n<pre><code>  Future mPesaPaymentInAction() async {\n    print(&quot;mpesa in action!&quot;);\n    try {\n      Mpesa mpesa = Mpesa(\n        clientKey: myClientKey, //\n        clientSecret: myClientSecret, //\n        passKey: myPassKey, //\n        environment: myEnvironment, //\n      );\n      await mpesa\n          .lipaNaMpesa(\n        amount: 1, //\n        phoneNumber: phoneNumberForPayment.text.toString(), //\n        businessShortCode: myBusinessShortCode, //\n        transactionDescription: transactionDescription,\n        callbackUrl: callBackUrl, //\n      )\n          .then((result) async {\n        final data = await getMpesaData(callBackUrl);\n        ScaffoldMessenger.of(context).showSnackBar(SnackBar(\n          duration: const Duration(seconds: 5),\n          backgroundColor: Colors.greenAccent,\n          content: Text(\n            &quot;Mpesa Pin request sent by Safaricom, Please wait.&quot;,\n            textAlign: TextAlign.center,\n            style: GoogleFonts.lato(\n              fontSize: 14,\n            ),\n          ),\n        ));\n\n        if (result.ResponseCode.toString() == &quot;0&quot; &amp;&amp;\n            result.CustomerMessage.toString() ==\n                &quot;Success. Request accepted for processing&quot; &amp;&amp;\n            result.ResponseDescription ==\n                &quot;Success. Request accepted for processing&quot;) {\n          setState(() {\n            mCheckoutRequestID_waterServices = result.CheckoutRequestID;\n            // paymentDone_waterServices = &quot;True&quot;;\n          });\n          try {\n            final prefs = await SharedPreferences.getInstance();\n            await prefs.setString(&quot;mCheckoutRequestID_waterServices&quot;,\n                mCheckoutRequestID_waterServices.toString());\n            await prefs.setString(\n                &quot;paymentDone_waterServices&quot;, paymentDone_waterServices);\n          } catch (e) {\n            print(e.toString());\n          }\n          print(&quot;mpesa done!&quot;);\n          // getMpesaData(callBackUrl);\n          // await cacheOrderToSharedPrefs();\n        } else {\n          throw Error();\n        }\n      }).catchError((error) {\n        print(error);\n        setState(() {\n          loadingScreen = false;\n        });\n      });\n      // await freeMemoryAfterPay();\n    } catch (e) {\n      ScaffoldMessenger.of(context).showSnackBar(SnackBar(\n        duration: const Duration(seconds: 5),\n        backgroundColor: Colors.redAccent,\n        content: Text(\n          &quot;Please try again.&quot;,\n          textAlign: TextAlign.center,\n          style: GoogleFonts.lato(\n            fontSize: 14,\n          ),\n        ),\n      ));\n      setState(() {\n        loadingScreen = false;\n        phoneNumberForPayment.clear();\n      });\n      if (kDebugMode) {\n        print(&quot;Was inside mpesa in action:- ${e.toString()}&quot;);\n      }\n    }\n  }\n</code></pre>\n<p>This method gets the response data from the callbackurl:</p>\n<pre><code>  Future getMpesaData(String callbackUrl) async {\n    try {\n      print(&quot;GETTING DATA&quot;);\n      final response = await http.post(Uri.parse(callbackUrl));\n      print(response.body.toString());\n\n      if (response.statusCode == 200) {\n        final data = json.decode(response.body);\n\n        final initiatorName = data['InitiatorName'];\n        final securityCredential = data['SecurityCredential'];\n        final commandID = data['CommandID'];\n        final amount = data['Amount'];\n        final mpesaReceiptNumber = data['MpesaReceiptNumber'];\n        final transactionID = data['TransactionID'];\n        final transactionDate = data['TransactionDate'];\n        final phoneNumber = data['PhoneNumber'];\n        final resultCode = data['ResultCode'];\n        final resultDesc = data['ResultDesc'];\n\n        // Use the extracted data as needed\n        print('Initiator Name: $initiatorName');\n        print('Security Credential: $securityCredential');\n        print('Command ID: $commandID');\n        print('Amount: $amount');\n        print('M-Pesa Receipt Number: $mpesaReceiptNumber');\n        print('Transaction ID: $transactionID');\n        print('Transaction Date: $transactionDate');\n        print('Phone Number: $phoneNumber');\n        print('Result Code: $resultCode');\n        print('Result Description: $resultDesc');\n        return initiatorName;\n      } else {\n        throw Exception('Failed to get M-Pesa data: ${response.reasonPhrase}');\n      }\n    } catch (e) {\n      print(&quot;Failed to get M-Pesa data&quot;);\n    }\n  }\n</code></pre>\n<p>This is my firebase cloud function:</p>\n<pre><code>const functions = require(&quot;firebase-functions&quot;);\nconst express = require(&quot;express&quot;);\nconst app = express();\nconst cors = require(&quot;cors&quot;)({ origin: true });\nconst bodyParser = require(&quot;body-parser&quot;);\nconst axios = require(&quot;axios&quot;);\n\n// Set up middleware\napp.use(cors);\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\n\n// Set up constants for your MPESA API credentials\nconst CONSUMER_KEY = &quot;&quot;; \nconst CONSUMER_SECRET = &quot;&quot;&quot;; \nconst PASSKEY = &quot;;\nconst SHORTCODE = &quot;174379&quot;;\n\n// Define your Cloud Function\nexports.mpesaCallback = functions.https.onRequest((req, res) =&gt; {\n    // Get the request body data from MPESA\n    const data = req.body;\n\n    // Check if the request is valid\n    if (!data || !data.Body || !data.Body.stkCallback) {\n        return res.status(400).json({ message: &quot;Invalid request data&quot; });\n    }\n\n    // Get the payment details from the request data\n    const payment = data.Body.stkCallback;\n\n    // Verify that the payment is valid\n    if (!payment || payment.ResultCode != 0) {\n        return res.status(400).json({ message: &quot;Invalid payment data&quot; });\n    }\n\n    // Send a confirmation message to MPESA\n    axios({\n        url: &quot;https://api.safaricom.co.ke/mpesa/b2c/v1/paymentresulthttp&quot;,\n        method: &quot;post&quot;,\n        headers: {\n            Authorization:\n                &quot;Basic &quot; +\n                Buffer.from(CONSUMER_KEY + &quot;:&quot; + CONSUMER_SECRET).toString(&quot;base64&quot;),\n            &quot;Content-Type&quot;: &quot;application/json&quot;\n        },\n        data: {\n            InitiatorName: &quot;&quot;,\n            SecurityCredential: &quot;&quot;,\n            CommandID: &quot;PaymentConfirmation&quot;,\n            Amount: payment.CallbackMetadata.Item[0].Value,\n            MpesaReceiptNumber: payment.CallbackMetadata.Item[1].Value,\n            TransactionID: payment.CallbackMetadata.Item[2].Value,\n            TransactionDate: payment.CallbackMetadata.Item[3].Value,\n            PhoneNumber: payment.CallbackMetadata.Item[4].Value,\n            ResultCode: 0,\n            ResultDesc: &quot;Payment successful&quot;\n        }\n    })\n        .then(response =&gt; {\n            console.log(response.data);\n            return res.status(200).json({ message: &quot;Payment confirmed&quot; });\n        })\n        .catch(error =&gt; {\n            console.log(error);\n            return res.status(500).json({ message: &quot;Error sending confirmation&quot; });\n        });\n});\n\n// Export the express app as a Cloud Function\nexports.app = functions.https.onRequest(app);\n</code></pre>\n<p>Printing response from http:</p>\n<pre><code>I/flutter (13136): {&quot;message&quot;:&quot;Invalid request data&quot;}\nI/flutter (13136): Failed to get M-Pesa data\n</code></pre>\n<p>GCP Cloud functions logs 'sample':</p>\n<pre><code>{\ninsertId: &quot;1ny6725faqkk59&quot;\nlabels: {1}\nlogName: &quot;insertName&quot;\nreceiveTimestamp: &quot;2023-03-28T11:56:32.298610539Z&quot;\nresource: {2}\nseverity: &quot;DEBUG&quot;\ntextPayload: &quot;Function execution took 73 ms, finished with status: 'error'&quot;\ntimestamp: &quot;2023-03-28T11:56:32.028351659Z&quot;\ntrace: &quot;projects/insertName-6de2c/traces/f1fa60c5b51f6ac7f8d2e16958dacf96&quot;\n}\n</code></pre>\n",
        "codigo": [
            "  Future mPesaPaymentInAction() async {\n    print(\"mpesa in action!\");\n    try {\n      Mpesa mpesa = Mpesa(\n        clientKey: myClientKey, //\n        clientSecret: myClientSecret, //\n        passKey: myPassKey, //\n        environment: myEnvironment, //\n      );\n      await mpesa\n          .lipaNaMpesa(\n        amount: 1, //\n        phoneNumber: phoneNumberForPayment.text.toString(), //\n        businessShortCode: myBusinessShortCode, //\n        transactionDescription: transactionDescription,\n        callbackUrl: callBackUrl, //\n      )\n          .then((result) async {\n        final data = await getMpesaData(callBackUrl);\n        ScaffoldMessenger.of(context).showSnackBar(SnackBar(\n          duration: const Duration(seconds: 5),\n          backgroundColor: Colors.greenAccent,\n          content: Text(\n            \"Mpesa Pin request sent by Safaricom, Please wait.\",\n            textAlign: TextAlign.center,\n            style: GoogleFonts.lato(\n              fontSize: 14,\n            ),\n          ),\n        ));\n\n        if (result.ResponseCode.toString() == \"0\" &&\n            result.CustomerMessage.toString() ==\n                \"Success. Request accepted for processing\" &&\n            result.ResponseDescription ==\n                \"Success. Request accepted for processing\") {\n          setState(() {\n            mCheckoutRequestID_waterServices = result.CheckoutRequestID;\n            // paymentDone_waterServices = \"True\";\n          });\n          try {\n            final prefs = await SharedPreferences.getInstance();\n            await prefs.setString(\"mCheckoutRequestID_waterServices\",\n                mCheckoutRequestID_waterServices.toString());\n            await prefs.setString(\n                \"paymentDone_waterServices\", paymentDone_waterServices);\n          } catch (e) {\n            print(e.toString());\n          }\n          print(\"mpesa done!\");\n          // getMpesaData(callBackUrl);\n          // await cacheOrderToSharedPrefs();\n        } else {\n          throw Error();\n        }\n      }).catchError((error) {\n        print(error);\n        setState(() {\n          loadingScreen = false;\n        });\n      });\n      // await freeMemoryAfterPay();\n    } catch (e) {\n      ScaffoldMessenger.of(context).showSnackBar(SnackBar(\n        duration: const Duration(seconds: 5),\n        backgroundColor: Colors.redAccent,\n        content: Text(\n          \"Please try again.\",\n          textAlign: TextAlign.center,\n          style: GoogleFonts.lato(\n            fontSize: 14,\n          ),\n        ),\n      ));\n      setState(() {\n        loadingScreen = false;\n        phoneNumberForPayment.clear();\n      });\n      if (kDebugMode) {\n        print(\"Was inside mpesa in action:- ${e.toString()}\");\n      }\n    }\n  }\n",
            "  Future getMpesaData(String callbackUrl) async {\n    try {\n      print(\"GETTING DATA\");\n      final response = await http.post(Uri.parse(callbackUrl));\n      print(response.body.toString());\n\n      if (response.statusCode == 200) {\n        final data = json.decode(response.body);\n\n        final initiatorName = data['InitiatorName'];\n        final securityCredential = data['SecurityCredential'];\n        final commandID = data['CommandID'];\n        final amount = data['Amount'];\n        final mpesaReceiptNumber = data['MpesaReceiptNumber'];\n        final transactionID = data['TransactionID'];\n        final transactionDate = data['TransactionDate'];\n        final phoneNumber = data['PhoneNumber'];\n        final resultCode = data['ResultCode'];\n        final resultDesc = data['ResultDesc'];\n\n        // Use the extracted data as needed\n        print('Initiator Name: $initiatorName');\n        print('Security Credential: $securityCredential');\n        print('Command ID: $commandID');\n        print('Amount: $amount');\n        print('M-Pesa Receipt Number: $mpesaReceiptNumber');\n        print('Transaction ID: $transactionID');\n        print('Transaction Date: $transactionDate');\n        print('Phone Number: $phoneNumber');\n        print('Result Code: $resultCode');\n        print('Result Description: $resultDesc');\n        return initiatorName;\n      } else {\n        throw Exception('Failed to get M-Pesa data: ${response.reasonPhrase}');\n      }\n    } catch (e) {\n      print(\"Failed to get M-Pesa data\");\n    }\n  }\n",
            "const functions = require(\"firebase-functions\");\nconst express = require(\"express\");\nconst app = express();\nconst cors = require(\"cors\")({ origin: true });\nconst bodyParser = require(\"body-parser\");\nconst axios = require(\"axios\");\n\n// Set up middleware\napp.use(cors);\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\n\n// Set up constants for your MPESA API credentials\nconst CONSUMER_KEY = \"\"; \nconst CONSUMER_SECRET = \"\"\"; \nconst PASSKEY = \";\nconst SHORTCODE = \"174379\";\n\n// Define your Cloud Function\nexports.mpesaCallback = functions.https.onRequest((req, res) => {\n    // Get the request body data from MPESA\n    const data = req.body;\n\n    // Check if the request is valid\n    if (!data || !data.Body || !data.Body.stkCallback) {\n        return res.status(400).json({ message: \"Invalid request data\" });\n    }\n\n    // Get the payment details from the request data\n    const payment = data.Body.stkCallback;\n\n    // Verify that the payment is valid\n    if (!payment || payment.ResultCode != 0) {\n        return res.status(400).json({ message: \"Invalid payment data\" });\n    }\n\n    // Send a confirmation message to MPESA\n    axios({\n        url: \"https://api.safaricom.co.ke/mpesa/b2c/v1/paymentresulthttp\",\n        method: \"post\",\n        headers: {\n            Authorization:\n                \"Basic \" +\n                Buffer.from(CONSUMER_KEY + \":\" + CONSUMER_SECRET).toString(\"base64\"),\n            \"Content-Type\": \"application/json\"\n        },\n        data: {\n            InitiatorName: \"\",\n            SecurityCredential: \"\",\n            CommandID: \"PaymentConfirmation\",\n            Amount: payment.CallbackMetadata.Item[0].Value,\n            MpesaReceiptNumber: payment.CallbackMetadata.Item[1].Value,\n            TransactionID: payment.CallbackMetadata.Item[2].Value,\n            TransactionDate: payment.CallbackMetadata.Item[3].Value,\n            PhoneNumber: payment.CallbackMetadata.Item[4].Value,\n            ResultCode: 0,\n            ResultDesc: \"Payment successful\"\n        }\n    })\n        .then(response => {\n            console.log(response.data);\n            return res.status(200).json({ message: \"Payment confirmed\" });\n        })\n        .catch(error => {\n            console.log(error);\n            return res.status(500).json({ message: \"Error sending confirmation\" });\n        });\n});\n\n// Export the express app as a Cloud Function\nexports.app = functions.https.onRequest(app);\n",
            "I/flutter (13136): {\"message\":\"Invalid request data\"}\nI/flutter (13136): Failed to get M-Pesa data\n",
            "{\ninsertId: \"1ny6725faqkk59\"\nlabels: {1}\nlogName: \"insertName\"\nreceiveTimestamp: \"2023-03-28T11:56:32.298610539Z\"\nresource: {2}\nseverity: \"DEBUG\"\ntextPayload: \"Function execution took 73 ms, finished with status: 'error'\"\ntimestamp: \"2023-03-28T11:56:32.028351659Z\"\ntrace: \"projects/insertName-6de2c/traces/f1fa60c5b51f6ac7f8d2e16958dacf96\"\n}\n"
        ]
    },
    {
        "titulo": "Getting Null Error When Running Flutter Tests",
        "score": 0,
        "views": 72,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "automated-tests",
            "clean-architecture"
        ],
        "link": "https://stackoverflow.com/questions/75863319/getting-null-error-when-running-flutter-tests",
        "conteudo_html": "<p>Firstly for context I'm following this tutorial:</p>\n<p><a href=\"https://www.youtube.com/watch?v=lPkWX8xFthE&amp;list=PLB6lc7nQ1n4iYGE_khpXRdJkJEp9WOech&amp;index=2\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=lPkWX8xFthE&amp;list=PLB6lc7nQ1n4iYGE_khpXRdJkJEp9WOech&amp;index=2</a></p>\n<p>However, I think there are some updates to flutter since this was released which is causing some issues. I'm getting this error while running the test and I'm not sure where to look for a solution:</p>\n<p><code>type 'Null' is not a subtype of type 'Future&lt;Either&lt;Failure, NumberTrivia&gt;&gt;</code></p>\n<p>Here is the code of my test:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:dartz/dartz.dart';\nimport 'package:flutter_clean_code/features/number_trivia/domain/entities/number_trivia.dart';\nimport 'package:flutter_clean_code/features/number_trivia/domain/repositories/number_trivia_repository.dart';\nimport 'package:flutter_clean_code/features/number_trivia/domain/use_cases/get_concrete_number_trivia.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\n\nclass MockNumberTriviaRepository extends Mock\n    implements NumberTriviaRepository {}\n\nvoid main() {\n  late GetConcreteNumberTrivia usecase;\n  late MockNumberTriviaRepository mockNumberTriviaRepository;\n\n  setUp(() {\n    mockNumberTriviaRepository = MockNumberTriviaRepository();\n    usecase = GetConcreteNumberTrivia(mockNumberTriviaRepository);\n  });\n\n  const tNumber = 1;\n  const tNumberTrivia = NumberTrivia(number: 1, text: 'test trivia');\n\n  test(\n    'should get trivia for the number from the repository',\n    () async {\n      // arrange\n      when(mockNumberTriviaRepository.getConcreteNumberTrivia(1))\n          .thenAnswer((_) async =&gt; const Right(tNumberTrivia));\n      // act\n      final result = await usecase.execute(number: tNumber);\n      // assert\n      expect(result, const Right(tNumberTrivia));\n      verify(mockNumberTriviaRepository.getConcreteNumberTrivia(tNumber));\n      verifyNoMoreInteractions(mockNumberTriviaRepository);\n    },\n  );\n}\n</code></pre>\n<p>Where should I be looking to solve this issue?</p>\n<p>Thanks,\nMitchell</p>\n",
        "codigo": [
            "type 'Null' is not a subtype of type 'Future<Either<Failure, NumberTrivia>>",
            "import 'package:dartz/dartz.dart';\nimport 'package:flutter_clean_code/features/number_trivia/domain/entities/number_trivia.dart';\nimport 'package:flutter_clean_code/features/number_trivia/domain/repositories/number_trivia_repository.dart';\nimport 'package:flutter_clean_code/features/number_trivia/domain/use_cases/get_concrete_number_trivia.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\n\nclass MockNumberTriviaRepository extends Mock\n    implements NumberTriviaRepository {}\n\nvoid main() {\n  late GetConcreteNumberTrivia usecase;\n  late MockNumberTriviaRepository mockNumberTriviaRepository;\n\n  setUp(() {\n    mockNumberTriviaRepository = MockNumberTriviaRepository();\n    usecase = GetConcreteNumberTrivia(mockNumberTriviaRepository);\n  });\n\n  const tNumber = 1;\n  const tNumberTrivia = NumberTrivia(number: 1, text: 'test trivia');\n\n  test(\n    'should get trivia for the number from the repository',\n    () async {\n      // arrange\n      when(mockNumberTriviaRepository.getConcreteNumberTrivia(1))\n          .thenAnswer((_) async => const Right(tNumberTrivia));\n      // act\n      final result = await usecase.execute(number: tNumber);\n      // assert\n      expect(result, const Right(tNumberTrivia));\n      verify(mockNumberTriviaRepository.getConcreteNumberTrivia(tNumber));\n      verifyNoMoreInteractions(mockNumberTriviaRepository);\n    },\n  );\n}\n"
        ]
    },
    {
        "titulo": "open hive exception error in drawer test , flutter app",
        "score": 0,
        "views": 75,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "testing"
        ],
        "link": "https://stackoverflow.com/questions/75862414/open-hive-exception-error-in-drawer-test-flutter-app",
        "conteudo_html": "<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_localizations/flutter_localizations.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\nimport 'package:talawa/constants/custom_theme.dart';\nimport 'package:talawa/models/mainscreen_navigation_args.dart';\nimport 'package:talawa/services/graphql_config.dart';\nimport 'package:talawa/services/navigation_service.dart';\nimport 'package:talawa/services/size_config.dart';\nimport 'package:talawa/utils/app_localization.dart';\nimport 'package:talawa/view_model/main_screen_view_model.dart';\nimport 'package:talawa/views/main_screen.dart';\nimport 'package:talawa/widgets/custom_alert_dialog.dart';\nimport '../../helpers/test_helpers.dart';\nimport '../../helpers/test_helpers.mocks.dart';\nimport '../../helpers/test_locator.dart';\n\nclass MockBuildContext extends Mock implements BuildContext {}\n\nWidget createHomePageScreen() {\n  return MaterialApp(\n    locale: const Locale('en'),\n    localizationsDelegates: [\n      const AppLocalizationsDelegate(isTest: true),\n      GlobalMaterialLocalizations.delegate,\n      GlobalWidgetsLocalizations.delegate,\n    ],\n    themeMode: ThemeMode.light,\n    theme: TalawaTheme.lightTheme,\n    home: MainScreen(\n      key: const Key('MainScreen'),\n      mainScreenArgs: MainScreenArgs(mainScreenIndex: 0),\n    ),\n  );\n}\n\nvoid main() {\n  testSetupLocator();\n\n  setUp(() {\n    registerServices();\n    locator&lt;SizeConfig&gt;().test();\n    locator&lt;GraphqlConfig&gt;().test();\n  });\n\n  group('Exit Button', () {\n     testWidgets(&quot;Tapping Tests for Exit&quot;, (tester) async {\n      await tester.pumpWidget(createHomePageScreen());\n      await tester.pumpAndSettle();\n      tester.binding.window.physicalSizeTestValue = const Size(4000, 4000);\n      MainScreenViewModel.scaffoldKey.currentState?.openDrawer();\n      await tester.pumpAndSettle();\n      final leaveOrg = find.byKey(MainScreenViewModel.keyDrawerLeaveCurrentOrg);\n      await tester.tap(leaveOrg);\n      await tester.pumpAndSettle();\n      final dialogPopUP = verify(\n              (locator&lt;NavigationService&gt;() as MockNavigationService)\n                  .pushDialog(captureAny),)\n          .captured;\n      expect(dialogPopUP[0], isA&lt;CustomAlertDialog&gt;());\n      // calling success() to have complete code coverage.\n      dialogPopUP[0].success();\n    });\n  });\n  group('Custom Drawer Test', () {\n    testWidgets(&quot;Widget Testing&quot;, (tester) async {\n      // pumping the Widget\n      await tester.pumpWidget(createHomePageScreen());\n      await tester.pumpAndSettle();\n      // Opening the Drawer so that it can be loaded in the widget tree and built() is called\n      await tester.dragFrom(\n          tester.getTopLeft(find.byType(MaterialApp)), const Offset(300, 0));\n      await tester.pumpAndSettle();\n      // getting the Finders for Code Coverage\n      expect(find.byKey(const ValueKey(&quot;Drawer&quot;)), findsOneWidget);\n      expect(find.byKey(const ValueKey(&quot;Custom Drawer&quot;)), findsOneWidget);\n      expect(find.text(&quot;Selected Organization&quot;), findsOneWidget);\n      expect(find.text(&quot;Switch Organization&quot;), findsOneWidget);\n      final listOfOrgs = find.byKey(const ValueKey(&quot;Switching Org&quot;));\n      expect(listOfOrgs, findsOneWidget);\n      expect(find.byKey(MainScreenViewModel.keyDrawerCurOrg), findsOneWidget);\n      expect(find.byKey(MainScreenViewModel.keyDrawerSwitchableOrg),\n          findsOneWidget);\n      expect(find.byType(UserAccountsDrawerHeader), findsOneWidget);\n      expect(find.text(&quot;Join new Organization&quot;), findsOneWidget);\n      expect(find.text(&quot;Leave Current Organization&quot;), findsOneWidget);\n      final fromPalisadoes = find.byKey(const ValueKey(&quot;From Palisadoes&quot;));\n      expect(fromPalisadoes, findsOneWidget);\n    });\n    testWidgets(&quot;Tapping Tests for Org&quot;, (tester) async {\n      await tester.pumpWidget(createHomePageScreen());\n      await tester.pumpAndSettle();\n      // Opening the Drawer so that it can be loaded in the widget tree and built() is called\n      await tester.dragFrom(\n          tester.getTopLeft(find.byType(MaterialApp)), const Offset(300, 0));\n      await tester.pumpAndSettle();\n      final orgs = find.byKey(const ValueKey(&quot;Org&quot;));\n      // Atleast One Org should be there\n      // ignore: invalid_use_of_protected_member\n      expect(orgs.allCandidates.isEmpty, false);\n      await tester.tap(orgs.first);\n      // Was not required but done for code Coverage\n      // Sized\n      final sizedbox = find.byKey(const ValueKey(&quot;Sized Box Drawer&quot;));\n      // ignore: invalid_use_of_protected_member\n      expect(sizedbox.allCandidates.isEmpty, false);\n    });\n    testWidgets(&quot;Tapping Tests for Join&quot;, (tester) async {\n      await tester.pumpWidget(createHomePageScreen());\n      await tester.pumpAndSettle();\n      tester.binding.window.physicalSizeTestValue = const Size(800, 4000);\n      MainScreenViewModel.scaffoldKey.currentState?.openDrawer();\n      await tester.pumpAndSettle();\n      final joinOrg = find.byKey(MainScreenViewModel.keyDrawerJoinOrg);\n      await tester.tap(joinOrg);\n      // await tester.pumpAndSettle();\n    });\n  });\n\n  tearDown(() {\n    unregisterServices();\n  });\n}\n</code></pre>\n<p>I am trying to write test for custom drawer and exit button but facing issues\nit is giving exceptions</p>\n<p>it is giving many exceptions like open hive Box exception can anyone please tell me what's wrong I am not using hive in this .</p>\n<p>jhbdhilshblhsdbchlsbdchulsb hdsbcildhs vlhusdbcshd hsbdcushbc iusjb  ishb dsjbchjsbhjschjsdb chsdbcsh c sbchjdnbh c</p>\n",
        "codigo": [
            "import 'package:flutter/material.dart';\nimport 'package:flutter_localizations/flutter_localizations.dart';\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\nimport 'package:talawa/constants/custom_theme.dart';\nimport 'package:talawa/models/mainscreen_navigation_args.dart';\nimport 'package:talawa/services/graphql_config.dart';\nimport 'package:talawa/services/navigation_service.dart';\nimport 'package:talawa/services/size_config.dart';\nimport 'package:talawa/utils/app_localization.dart';\nimport 'package:talawa/view_model/main_screen_view_model.dart';\nimport 'package:talawa/views/main_screen.dart';\nimport 'package:talawa/widgets/custom_alert_dialog.dart';\nimport '../../helpers/test_helpers.dart';\nimport '../../helpers/test_helpers.mocks.dart';\nimport '../../helpers/test_locator.dart';\n\nclass MockBuildContext extends Mock implements BuildContext {}\n\nWidget createHomePageScreen() {\n  return MaterialApp(\n    locale: const Locale('en'),\n    localizationsDelegates: [\n      const AppLocalizationsDelegate(isTest: true),\n      GlobalMaterialLocalizations.delegate,\n      GlobalWidgetsLocalizations.delegate,\n    ],\n    themeMode: ThemeMode.light,\n    theme: TalawaTheme.lightTheme,\n    home: MainScreen(\n      key: const Key('MainScreen'),\n      mainScreenArgs: MainScreenArgs(mainScreenIndex: 0),\n    ),\n  );\n}\n\nvoid main() {\n  testSetupLocator();\n\n  setUp(() {\n    registerServices();\n    locator<SizeConfig>().test();\n    locator<GraphqlConfig>().test();\n  });\n\n  group('Exit Button', () {\n     testWidgets(\"Tapping Tests for Exit\", (tester) async {\n      await tester.pumpWidget(createHomePageScreen());\n      await tester.pumpAndSettle();\n      tester.binding.window.physicalSizeTestValue = const Size(4000, 4000);\n      MainScreenViewModel.scaffoldKey.currentState?.openDrawer();\n      await tester.pumpAndSettle();\n      final leaveOrg = find.byKey(MainScreenViewModel.keyDrawerLeaveCurrentOrg);\n      await tester.tap(leaveOrg);\n      await tester.pumpAndSettle();\n      final dialogPopUP = verify(\n              (locator<NavigationService>() as MockNavigationService)\n                  .pushDialog(captureAny),)\n          .captured;\n      expect(dialogPopUP[0], isA<CustomAlertDialog>());\n      // calling success() to have complete code coverage.\n      dialogPopUP[0].success();\n    });\n  });\n  group('Custom Drawer Test', () {\n    testWidgets(\"Widget Testing\", (tester) async {\n      // pumping the Widget\n      await tester.pumpWidget(createHomePageScreen());\n      await tester.pumpAndSettle();\n      // Opening the Drawer so that it can be loaded in the widget tree and built() is called\n      await tester.dragFrom(\n          tester.getTopLeft(find.byType(MaterialApp)), const Offset(300, 0));\n      await tester.pumpAndSettle();\n      // getting the Finders for Code Coverage\n      expect(find.byKey(const ValueKey(\"Drawer\")), findsOneWidget);\n      expect(find.byKey(const ValueKey(\"Custom Drawer\")), findsOneWidget);\n      expect(find.text(\"Selected Organization\"), findsOneWidget);\n      expect(find.text(\"Switch Organization\"), findsOneWidget);\n      final listOfOrgs = find.byKey(const ValueKey(\"Switching Org\"));\n      expect(listOfOrgs, findsOneWidget);\n      expect(find.byKey(MainScreenViewModel.keyDrawerCurOrg), findsOneWidget);\n      expect(find.byKey(MainScreenViewModel.keyDrawerSwitchableOrg),\n          findsOneWidget);\n      expect(find.byType(UserAccountsDrawerHeader), findsOneWidget);\n      expect(find.text(\"Join new Organization\"), findsOneWidget);\n      expect(find.text(\"Leave Current Organization\"), findsOneWidget);\n      final fromPalisadoes = find.byKey(const ValueKey(\"From Palisadoes\"));\n      expect(fromPalisadoes, findsOneWidget);\n    });\n    testWidgets(\"Tapping Tests for Org\", (tester) async {\n      await tester.pumpWidget(createHomePageScreen());\n      await tester.pumpAndSettle();\n      // Opening the Drawer so that it can be loaded in the widget tree and built() is called\n      await tester.dragFrom(\n          tester.getTopLeft(find.byType(MaterialApp)), const Offset(300, 0));\n      await tester.pumpAndSettle();\n      final orgs = find.byKey(const ValueKey(\"Org\"));\n      // Atleast One Org should be there\n      // ignore: invalid_use_of_protected_member\n      expect(orgs.allCandidates.isEmpty, false);\n      await tester.tap(orgs.first);\n      // Was not required but done for code Coverage\n      // Sized\n      final sizedbox = find.byKey(const ValueKey(\"Sized Box Drawer\"));\n      // ignore: invalid_use_of_protected_member\n      expect(sizedbox.allCandidates.isEmpty, false);\n    });\n    testWidgets(\"Tapping Tests for Join\", (tester) async {\n      await tester.pumpWidget(createHomePageScreen());\n      await tester.pumpAndSettle();\n      tester.binding.window.physicalSizeTestValue = const Size(800, 4000);\n      MainScreenViewModel.scaffoldKey.currentState?.openDrawer();\n      await tester.pumpAndSettle();\n      final joinOrg = find.byKey(MainScreenViewModel.keyDrawerJoinOrg);\n      await tester.tap(joinOrg);\n      // await tester.pumpAndSettle();\n    });\n  });\n\n  tearDown(() {\n    unregisterServices();\n  });\n}\n"
        ]
    },
    {
        "titulo": "Flutter Windows App does not start in release mode",
        "score": 5,
        "views": 8275,
        "respostas": 4,
        "tags": [
            "windows",
            "flutter",
            "dart",
            "flutter-windows"
        ],
        "link": "https://stackoverflow.com/questions/75837229/flutter-windows-app-does-not-start-in-release-mode",
        "conteudo_html": "<p>I just created a flutter project on Windows with</p>\n<pre><code>flutter create appname --platforms=windows,macos\n</code></pre>\n<p>Now I can start this Windows app with</p>\n<pre><code>flutter run -d windows\n</code></pre>\n<p>and everything works perfectly.\nBut the problem is that I can not start the Windows app in release mode. I tried:</p>\n<pre><code>flutter run --release -d windows\n</code></pre>\n<p>but the app window is not showing up. I just see the process running in the task manager. There is no need to show you the code of the project as it is the template project you get with <code>flutter create</code>. No single line was modified.</p>\n<p>The release mode works on every other platforms including web and macos. I also tried to start the <code>.exe</code> file manually but that doesn't work either. I also tried changing to the master version of flutter but it also does not work with the latest master version.</p>\n<p><code>flutter doctor -v</code> does not show any errors:</p>\n<pre><code>[✓] Flutter (Channel master, 3.9.0-17.0.pre.7, on Microsoft Windows [Version 10.0.22621.1413], locale de-DE)\n    • Flutter version 3.9.0-17.0.pre.7 on channel master at C:\\Program Files\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 785ea2a4c9 (2 hours ago), 2023-03-24 13:01:07 -0400\n    • Engine revision 7b91f9d08f\n    • Dart version 3.0.0 (build 3.0.0-365.0.dev)\n    • DevTools version 2.22.2\n\n[✓] Windows Version (Installed version of Windows is version 10 or higher)\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\n    • Android SDK at C:\\Users\\User\\AppData\\Local\\Android\\sdk\n    • Platform android-31, build-tools 31.0.0\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 11.0.8+10-b944.6842174)\n    • All Android licenses accepted.\n\n[✓] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[✓] Visual Studio - develop for Windows (Visual Studio Community 2022 17.5.3)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.5.33516.290\n    • Windows 10 SDK version 10.0.22621.0\n\n[✓] Android Studio (version 4.2)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.8+10-b944.6842174)\n\n[✓] IntelliJ IDEA Ultimate Edition (version 2021.1)\n    • IntelliJ at C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.1.2\n    • Flutter plugin version 58.0.3\n    • Dart plugin version 211.7665\n\n[✓] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.22621.1413]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 111.0.5563.111\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 111.0.1661.51\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n</code></pre>\n",
        "codigo": [
            "flutter create appname --platforms=windows,macos\n",
            "flutter run -d windows\n",
            "flutter run --release -d windows\n",
            "flutter create",
            ".exe",
            "flutter doctor -v",
            "[✓] Flutter (Channel master, 3.9.0-17.0.pre.7, on Microsoft Windows [Version 10.0.22621.1413], locale de-DE)\n    • Flutter version 3.9.0-17.0.pre.7 on channel master at C:\\Program Files\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 785ea2a4c9 (2 hours ago), 2023-03-24 13:01:07 -0400\n    • Engine revision 7b91f9d08f\n    • Dart version 3.0.0 (build 3.0.0-365.0.dev)\n    • DevTools version 2.22.2\n\n[✓] Windows Version (Installed version of Windows is version 10 or higher)\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\n    • Android SDK at C:\\Users\\User\\AppData\\Local\\Android\\sdk\n    • Platform android-31, build-tools 31.0.0\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 11.0.8+10-b944.6842174)\n    • All Android licenses accepted.\n\n[✓] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[✓] Visual Studio - develop for Windows (Visual Studio Community 2022 17.5.3)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.5.33516.290\n    • Windows 10 SDK version 10.0.22621.0\n\n[✓] Android Studio (version 4.2)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.8+10-b944.6842174)\n\n[✓] IntelliJ IDEA Ultimate Edition (version 2021.1)\n    • IntelliJ at C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.1.2\n    • Flutter plugin version 58.0.3\n    • Dart plugin version 211.7665\n\n[✓] Connected device (3 available)\n    • Windows (desktop) • windows • windows-x64    • Microsoft Windows [Version 10.0.22621.1413]\n    • Chrome (web)      • chrome  • web-javascript • Google Chrome 111.0.5563.111\n    • Edge (web)        • edge    • web-javascript • Microsoft Edge 111.0.1661.51\n\n[✓] Network resources\n    • All expected network resources are available.\n\n• No issues found!\n"
        ]
    },
    {
        "titulo": "Periodic timer implemented in cubit giving me error for flutter widget testing",
        "score": 0,
        "views": 923,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-bloc"
        ],
        "link": "https://stackoverflow.com/questions/75831047/periodic-timer-implemented-in-cubit-giving-me-error-for-flutter-widget-testing",
        "conteudo_html": "<p>I have a timer countdown app. The state of the time is managed by cubit. When my widget gets initialized(In init state), I am starting the timer by calling cubit function and I am disposing it also. Here is my code -</p>\n<p>Main Page-</p>\n<pre><code>void main() {\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return BlocProvider(\n      create: (context) =&gt; TimerCubit(),\n      child: const MaterialApp(\n        home: MyHomePage(key: ValueKey('test')),\n      ),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({super.key});\n\n  @override\n  State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  @override\n  void initState() {\n    context.read&lt;TimerCubit&gt;().startCountDown();\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    context.read&lt;TimerCubit&gt;().stopCountDown();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return BlocBuilder&lt;TimerCubit, int&gt;(builder: (context, state) {\n      return Scaffold(\n        body: Column(\n          children: [\n            Text(\n              state.toString(),\n              style: const TextStyle(fontSize: 50, fontWeight: FontWeight.bold),\n            ),\n          ],\n        ),\n      );\n    });\n  }\n}\n</code></pre>\n<p>Cubit Code-</p>\n<pre><code>class TimerCubit extends Cubit&lt;int&gt; {\n  late Timer _timer;\n\n  TimerCubit() : super(0);\n\n  startCountDown() {\n    _timer = Timer.periodic(const Duration(seconds: 1), (timer) {\n      int time = state + 1;\n      emit(time);\n    });\n  }\n\n  stopCountDown() {\n    _timer.cancel();\n  }\n}\n</code></pre>\n<p>For Widget testing -</p>\n<pre><code>void main() {\n  late TimerCubit cubit;\n\n  setUpAll(() {\n    cubit = TimerCubit();\n  });\n\n  testWidgets('should work', (WidgetTester tester) async {\n    await tester.pumpWidget(\n      BlocProvider.value(\n        value: cubit,\n        child: const MaterialApp(\n          home: MyHomePage(),\n        ),\n      ),\n    );\n\n    await tester.pump();\n\n    expect(find.byKey(const ValueKey('test')), findsOneWidget);\n  });\n}\n</code></pre>\n<p>The problem is if I try to do widget testing for the MyHomePage widget I am getting following errors -</p>\n<pre><code>Pending timers:\nTimer (duration: 0:00:01.000000, periodic: true), created:\n#0      new FakeTimer._ (package:fake_async/fake_async.dart:308:62)\n#1      FakeAsync._createTimer (package:fake_async/fake_async.dart:252:27)\n#2      FakeAsync.run.&lt;anonymous closure&gt; (package:fake_async/fake_async.dart:187:19)\n#5      TimerCubit.startCountDown (package:widget_testing/timerCubit.dart:11:20)\n#6      _MyHomePageState.initState (package:widget_testing/main.dart:34:32)\n#7      StatefulElement._firstBuild (package:flutter/src/widgets/framework.dart:5015:57)\n#8      ComponentElement.mount (package:flutter/src/widgets/framework.dart:4853:5)\n...     Normal element mounting (275 frames)\n#283    Element.inflateWidget (package:flutter/src/widgets/framework.dart:3863:16)\n#284    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:6435:36)\n#285    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:6447:32)\n...     Normal element mounting (422 frames)\n#707    _InheritedProviderScopeElement.mount (package:provider/src/inherited_provider.dart:411:11)\n...     Normal element mounting (7 frames)\n#714    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)\n...     Normal element mounting (7 frames)\n#721    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)\n#722    Element.inflateWidget (package:flutter/src/widgets/framework.dart:3863:16)\n#723    Element.updateChild (package:flutter/src/widgets/framework.dart:3586:20)\n#724    RenderObjectToWidgetElement._rebuild (package:flutter/src/widgets/binding.dart:1195:16)\n#725    RenderObjectToWidgetElement.update (package:flutter/src/widgets/binding.dart:1172:5)\n#726    RenderObjectToWidgetElement.performRebuild (package:flutter/src/widgets/binding.dart:1186:7)\n#727    Element.rebuild (package:flutter/src/widgets/framework.dart:4604:5)\n#728    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:2667:19)\n#729    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1191:19)\n#730    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:378:5)\n#731    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1175:15)\n#732    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1104:9)\n#733    AutomatedTestWidgetsFlutterBinding.pump.&lt;anonymous closure&gt; (package:flutter_test/src/binding.dart:1057:9)\n#736    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:71:41)\n#737    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1043:27)\n#738    WidgetTester.pumpWidget.&lt;anonymous closure&gt; (package:flutter_test/src/widget_tester.dart:554:22)\n#741    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:71:41)\n#742    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:551:27)\n#743    main.&lt;anonymous closure&gt; (file:///Users/mesindia/Projects/widget_testing/test/widget_test.dart:23:18)\n#744    testWidgets.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:flutter_test/src/widget_tester.dart:171:29)\n&lt;asynchronous suspension&gt;\n&lt;asynchronous suspension&gt;\n(elided 7 frames from dart:async and package:stack_trace)\n\n══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY ╞═══════════════════════════════════════════════════════════\nThe following assertion was thrown while finalizing the widget tree:\nLooking up a deactivated widget's ancestor is unsafe.\nAt this point the state of the widget's element tree is no longer stable.\nTo safely refer to a widget's ancestor in its dispose() method, save a reference to the ancestor by\ncalling dependOnInheritedWidgetOfExactType() in the widget's didChangeDependencies() method.\n\nWhen the exception was thrown, this was the stack:\n#0      Element._debugCheckStateIsActiveForAncestorLookup.&lt;anonymous closure&gt; (package:flutter/src/widgets/framework.dart:4241:9)\n#1      Element._debugCheckStateIsActiveForAncestorLookup (package:flutter/src/widgets/framework.dart:4255:6)\n#2      Element.getElementForInheritedWidgetOfExactType (package:flutter/src/widgets/framework.dart:4286:12)\n#3      Provider._inheritedElementOf (package:provider/src/provider.dart:339:38)\n#4      Provider.of (package:provider/src/provider.dart:293:30)\n#5      ReadContext.read (package:provider/src/provider.dart:649:21)\n#6      _MyHomePageState.dispose (package:widget_testing/main.dart:40:13)\n#7      StatefulElement.unmount (package:flutter/src/widgets/framework.dart:5105:11)\n#8      _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1917:13)\n...370 more\n(package:flutter_test/src/binding.dart:848:7)\n&lt;asynchronous suspension&gt;\n════════════════════════════════════════════════════════════════════════════════════════════════════\n══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════\nThe following assertion was thrown running a test:\nA Timer is still pending even after the widget tree was disposed.\n'package:flutter_test/src/binding.dart':\nFailed assertion: line 1299 pos 12: '!timersPending'\n\nWhen the exception was thrown, this was the stack:\n#2      AutomatedTestWidgetsFlutterBinding._verifyInvariants (package:flutter_test/src/binding.dart:1299:12)\n#3      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:857:7)\n&lt;asynchronous suspension&gt;\n(elided 2 frames from class _AssertionError)\n\nThe test description was:\n  should work\n════════════════════════════════════════════════════════════════════════════════════════════════════\n══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════\nThe following message was thrown:\nMultiple exceptions (2) were detected during the running of the current test, and at least one was\nunexpected.\n════════════════════════════════════════════════════════════════════════════════════════════════════\n</code></pre>\n<p>I don't understand what is the problem as I am disposing the timer anyway. If I use the timer without any cubit, directly in the widget's state and dispose it I don't get any kind of error, but with cubit the periodic timer gives me error. Can anyone tell what is the problem here? Should I create mock cubit(I avoided this because as you can see there isn't many functions in the cubit, just a periodic timer).</p>\n",
        "codigo": [
            "void main() {\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return BlocProvider(\n      create: (context) => TimerCubit(),\n      child: const MaterialApp(\n        home: MyHomePage(key: ValueKey('test')),\n      ),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({super.key});\n\n  @override\n  State<MyHomePage> createState() => _MyHomePageState();\n}\n\nclass _MyHomePageState extends State<MyHomePage> {\n  @override\n  void initState() {\n    context.read<TimerCubit>().startCountDown();\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    context.read<TimerCubit>().stopCountDown();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return BlocBuilder<TimerCubit, int>(builder: (context, state) {\n      return Scaffold(\n        body: Column(\n          children: [\n            Text(\n              state.toString(),\n              style: const TextStyle(fontSize: 50, fontWeight: FontWeight.bold),\n            ),\n          ],\n        ),\n      );\n    });\n  }\n}\n",
            "class TimerCubit extends Cubit<int> {\n  late Timer _timer;\n\n  TimerCubit() : super(0);\n\n  startCountDown() {\n    _timer = Timer.periodic(const Duration(seconds: 1), (timer) {\n      int time = state + 1;\n      emit(time);\n    });\n  }\n\n  stopCountDown() {\n    _timer.cancel();\n  }\n}\n",
            "void main() {\n  late TimerCubit cubit;\n\n  setUpAll(() {\n    cubit = TimerCubit();\n  });\n\n  testWidgets('should work', (WidgetTester tester) async {\n    await tester.pumpWidget(\n      BlocProvider.value(\n        value: cubit,\n        child: const MaterialApp(\n          home: MyHomePage(),\n        ),\n      ),\n    );\n\n    await tester.pump();\n\n    expect(find.byKey(const ValueKey('test')), findsOneWidget);\n  });\n}\n",
            "Pending timers:\nTimer (duration: 0:00:01.000000, periodic: true), created:\n#0      new FakeTimer._ (package:fake_async/fake_async.dart:308:62)\n#1      FakeAsync._createTimer (package:fake_async/fake_async.dart:252:27)\n#2      FakeAsync.run.<anonymous closure> (package:fake_async/fake_async.dart:187:19)\n#5      TimerCubit.startCountDown (package:widget_testing/timerCubit.dart:11:20)\n#6      _MyHomePageState.initState (package:widget_testing/main.dart:34:32)\n#7      StatefulElement._firstBuild (package:flutter/src/widgets/framework.dart:5015:57)\n#8      ComponentElement.mount (package:flutter/src/widgets/framework.dart:4853:5)\n...     Normal element mounting (275 frames)\n#283    Element.inflateWidget (package:flutter/src/widgets/framework.dart:3863:16)\n#284    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:6435:36)\n#285    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:6447:32)\n...     Normal element mounting (422 frames)\n#707    _InheritedProviderScopeElement.mount (package:provider/src/inherited_provider.dart:411:11)\n...     Normal element mounting (7 frames)\n#714    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)\n...     Normal element mounting (7 frames)\n#721    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)\n#722    Element.inflateWidget (package:flutter/src/widgets/framework.dart:3863:16)\n#723    Element.updateChild (package:flutter/src/widgets/framework.dart:3586:20)\n#724    RenderObjectToWidgetElement._rebuild (package:flutter/src/widgets/binding.dart:1195:16)\n#725    RenderObjectToWidgetElement.update (package:flutter/src/widgets/binding.dart:1172:5)\n#726    RenderObjectToWidgetElement.performRebuild (package:flutter/src/widgets/binding.dart:1186:7)\n#727    Element.rebuild (package:flutter/src/widgets/framework.dart:4604:5)\n#728    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:2667:19)\n#729    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1191:19)\n#730    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:378:5)\n#731    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1175:15)\n#732    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1104:9)\n#733    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1057:9)\n#736    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:71:41)\n#737    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1043:27)\n#738    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:554:22)\n#741    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:71:41)\n#742    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:551:27)\n#743    main.<anonymous closure> (file:///Users/mesindia/Projects/widget_testing/test/widget_test.dart:23:18)\n#744    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:171:29)\n<asynchronous suspension>\n<asynchronous suspension>\n(elided 7 frames from dart:async and package:stack_trace)\n\n══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY ╞═══════════════════════════════════════════════════════════\nThe following assertion was thrown while finalizing the widget tree:\nLooking up a deactivated widget's ancestor is unsafe.\nAt this point the state of the widget's element tree is no longer stable.\nTo safely refer to a widget's ancestor in its dispose() method, save a reference to the ancestor by\ncalling dependOnInheritedWidgetOfExactType() in the widget's didChangeDependencies() method.\n\nWhen the exception was thrown, this was the stack:\n#0      Element._debugCheckStateIsActiveForAncestorLookup.<anonymous closure> (package:flutter/src/widgets/framework.dart:4241:9)\n#1      Element._debugCheckStateIsActiveForAncestorLookup (package:flutter/src/widgets/framework.dart:4255:6)\n#2      Element.getElementForInheritedWidgetOfExactType (package:flutter/src/widgets/framework.dart:4286:12)\n#3      Provider._inheritedElementOf (package:provider/src/provider.dart:339:38)\n#4      Provider.of (package:provider/src/provider.dart:293:30)\n#5      ReadContext.read (package:provider/src/provider.dart:649:21)\n#6      _MyHomePageState.dispose (package:widget_testing/main.dart:40:13)\n#7      StatefulElement.unmount (package:flutter/src/widgets/framework.dart:5105:11)\n#8      _InactiveElements._unmount (package:flutter/src/widgets/framework.dart:1917:13)\n...370 more\n(package:flutter_test/src/binding.dart:848:7)\n<asynchronous suspension>\n════════════════════════════════════════════════════════════════════════════════════════════════════\n══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════\nThe following assertion was thrown running a test:\nA Timer is still pending even after the widget tree was disposed.\n'package:flutter_test/src/binding.dart':\nFailed assertion: line 1299 pos 12: '!timersPending'\n\nWhen the exception was thrown, this was the stack:\n#2      AutomatedTestWidgetsFlutterBinding._verifyInvariants (package:flutter_test/src/binding.dart:1299:12)\n#3      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:857:7)\n<asynchronous suspension>\n(elided 2 frames from class _AssertionError)\n\nThe test description was:\n  should work\n════════════════════════════════════════════════════════════════════════════════════════════════════\n══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════\nThe following message was thrown:\nMultiple exceptions (2) were detected during the running of the current test, and at least one was\nunexpected.\n════════════════════════════════════════════════════════════════════════════════════════════════════\n"
        ]
    },
    {
        "titulo": "how to reset final singleton object in flutter test?",
        "score": 0,
        "views": 1230,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "singleton"
        ],
        "link": "https://stackoverflow.com/questions/75817933/how-to-reset-final-singleton-object-in-flutter-test",
        "conteudo_html": "<p>I'm facing an issue with <code>resetting a singleton</code> object in a <code>Flutter test</code>.</p>\n<p>I have the following limitations that need to be taken into consideration while solving the problem:</p>\n<blockquote>\n<p>1- The <code>_singleton</code> variable must remain <code>final</code>.</p>\n<p>2- I cannot define a <code>static</code> or <code>public</code> method to change the value\nof <code>_lock</code> due to reduced security rules.</p>\n<p>3- I must solve the problem within the <code>flutter_test</code> package and not\nany other package like <code>mockito</code>.</p>\n</blockquote>\n<p>Here's the minimal code for the <code>Singleton</code> class :</p>\n<pre><code>class Singleton {\n  static final Singleton _singleton = Singleton._internal();\n\n  bool _lock = false;\n\n  Singleton._internal();\n\n  factory Singleton() {\n    assert(!_singleton._lock, &quot;Singleton class has already been instantiated.&quot;);\n    _singleton._lock = true;\n\n    return _singleton;\n  }\n\n  static Singleton get instance =&gt; _singleton;\n}\n</code></pre>\n<p>And here's the <code>test</code> that I'm trying to fix:</p>\n<pre><code>void main() {\n  group('Singleton', () {\n    test('should return the same instance', () {\n      final instance1 = Singleton.instance;\n      final instance2 = Singleton.instance;\n      expect(instance1, same(instance2));\n    });\n\n    test('should throw an error when instantiated twice', () {\n      Singleton(); // first instantiation\n      expect(() =&gt; Singleton(), throwsA(isA&lt;AssertionError&gt;()));\n    });\n\n    test('should rest singleton and test pass', () {\n      Singleton();\n      expect(() =&gt; Singleton(), throwsA(isA&lt;AssertionError&gt;()));\n    });\n  });\n}\n</code></pre>\n<p><strong>My question is:</strong> How can I <code>reset</code> the <code>Singleton</code> object in the should reset the singleton and pass the test test while still adhering to the above limitations? .</p>\n",
        "codigo": [
            "resetting a singleton",
            "Flutter test",
            "_singleton",
            "final",
            "static",
            "public",
            "_lock",
            "flutter_test",
            "mockito",
            "Singleton",
            "class Singleton {\n  static final Singleton _singleton = Singleton._internal();\n\n  bool _lock = false;\n\n  Singleton._internal();\n\n  factory Singleton() {\n    assert(!_singleton._lock, \"Singleton class has already been instantiated.\");\n    _singleton._lock = true;\n\n    return _singleton;\n  }\n\n  static Singleton get instance => _singleton;\n}\n",
            "test",
            "void main() {\n  group('Singleton', () {\n    test('should return the same instance', () {\n      final instance1 = Singleton.instance;\n      final instance2 = Singleton.instance;\n      expect(instance1, same(instance2));\n    });\n\n    test('should throw an error when instantiated twice', () {\n      Singleton(); // first instantiation\n      expect(() => Singleton(), throwsA(isA<AssertionError>()));\n    });\n\n    test('should rest singleton and test pass', () {\n      Singleton();\n      expect(() => Singleton(), throwsA(isA<AssertionError>()));\n    });\n  });\n}\n",
            "reset",
            "Singleton"
        ]
    },
    {
        "titulo": "double.parse trims decimal 0 at end",
        "score": -2,
        "views": 658,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75810827/double-parse-trims-decimal-0-at-end",
        "conteudo_html": "<p>Actually I was trying to parse string to double with 2 Decimal places. But double.parse trims decimal 0.</p>\n<p>eg:-</p>\n<pre><code>var val = double.parse(&quot;32.50&quot;);\nprint(val1); //Expected -&gt; 32.50 Actual - &gt; 32.5\n</code></pre>\n",
        "codigo": [
            "var val = double.parse(\"32.50\");\nprint(val1); //Expected -> 32.50 Actual - > 32.5\n"
        ]
    },
    {
        "titulo": "I&#39;m trying to route to the page userInfo but its not routing &quot; the argument type &#39;String&#39; can&#39;t be assigned to the parameter type &#39;Route\\&lt;Object?\\&gt;&quot;,",
        "score": 0,
        "views": 56,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "firebase-authentication",
            "riverpod"
        ],
        "link": "https://stackoverflow.com/questions/75801174/im-trying-to-route-to-the-page-userinfo-but-its-not-routing-the-argument-type",
        "conteudo_html": "<p>I'm trying to route to userinfo page and it should automatically route to userinfo page but shows me this error &quot; Error: The argument type 'String' can't be assigned to the parameter type 'Route&lt;Object?&gt;&quot;,</p>\n<p>the authRepository class is</p>\n<pre><code>import 'package:cloud_firestore/cloud_firestore.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:flutter/material.dart';\nimport 'package:riverpod/riverpod.dart';\nimport 'package:whatsapp_clone/common/helper/show_alert_dialog.dart';\nimport 'package:whatsapp_clone/common/routes/routes.dart';\n\nfinal authRepositoryProvider = Provider(\n        (ref) {\n  return AuthRepository(\n    auth: FirebaseAuth.instance,\n    firestore: FirebaseFirestore.instance,\n  );\n}\n);\n\nclass AuthRepository{\n  final FirebaseAuth auth;\n  final FirebaseFirestore firestore;\n\n  AuthRepository(\n      {\n        required  this.auth,\n        required this.firestore,\n      });\n\n  void verifySmsCode({\n    required BuildContext context,\n    required smsCodeId,\n    required String smsCode,\n    required bool mounted,\n\n  }) async\n  {\n    try{\n      final credential = PhoneAuthProvider.credential(\n        verificationId: smsCodeId,\n        smsCode: smsCode,\n      );\n\n     await auth.signInWithCredential(credential);\n     if(!mounted) return;\n     Navigator.of(context).pushAndRemoveUntil(\n          Routes.userinfo,\n              (route) =&gt; false);\n    } on FirebaseAuth catch(e){\n      showAlertDialog(\n          context: context,\n          message: e.toString());\n    }\n\n  }\n\n  void sendSmsCode({\n    required BuildContext context,\n    required phoneNumber,\n  }) async {\n      try{\n        await auth.verifyPhoneNumber(\n            phoneNumber: phoneNumber,\n            verificationCompleted: (PhoneAuthCredential credential) async {\n              await auth.signInWithCredential(credential);\n            },\n            verificationFailed: (e){\n              showAlertDialog(\n                  context: context,\n                  message: e.toString());\n            },\n            codeSent: (smsCodeId, resendSmsCode){\n              Navigator.of(context).pushNamedAndRemoveUntil(\n                       Routes.verification,\n                      (route) =&gt; false,\n                      arguments: {\n                         'phoneNumber' : phoneNumber,\n                         'smsCodeId'   : smsCodeId,\n                      }\n              );\n            },\n            codeAutoRetrievalTimeout: (String smsCodeId){}\n        );\n      } catch(e){\n        showAlertDialog(\n            context: context,\n            message: e.toString());\n      }\n}\n}\n</code></pre>\n<p>and the route class is</p>\n<pre><code>\nimport 'package:flutter/material.dart';\nimport 'package:whatsapp_clone/feature/auth/pages/login_page.dart';\nimport 'package:whatsapp_clone/feature/auth/pages/user_info_page.dart';\nimport 'package:whatsapp_clone/feature/auth/pages/verification_page.dart';\nimport 'package:whatsapp_clone/feature/welcome/pages/welcome_page.dart';\nclass Routes{\n  static const String welcome = &quot;welcome&quot;;\n  static const String login = &quot;login&quot;;\n  static const String verification = &quot;verification&quot;;\n  static const String userinfo  = &quot;userinfo&quot;;\n\n  static Route&lt;dynamic&gt; onGenerateRoute(RouteSettings settings){\n      switch(settings.name!){\n\n        case welcome:\n          return MaterialPageRoute(\n              builder: (context) =&gt; const WelcomePage());\n        case login:\n          return MaterialPageRoute(\n              builder: (context) =&gt; const LoginPage());\n        case verification:\n          final Map args = settings.arguments as Map;\n          return MaterialPageRoute(\n              builder: (context) =&gt;  VerificationPage(\n                smsCodeId: args['smsCodeId'],\n                phoneNumber: args['phoneNumber'],\n              ));\n        case userinfo:\n          return MaterialPageRoute(\n              builder: (context) =&gt; const UserInfoPage());\n\n        default:\n          return MaterialPageRoute(builder: (context) =&gt; const Scaffold(\n            body: Text('No Page Route Provided'),\n          ));\n      }\n  }\n}\n</code></pre>\n<p>i was expecting it to move to userinfo page which is</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:whatsapp_clone/common/extension/custom_theme_extension.dart';\nimport 'package:whatsapp_clone/common/widgets/custom_elevated_button.dart';\nimport 'package:whatsapp_clone/feature/auth/widgets/custom_text_field.dart';\n\nclass UserInfoPage extends StatefulWidget {\n  const UserInfoPage({Key? key}) : super(key: key);\n\n  @override\n  State&lt;UserInfoPage&gt; createState() =&gt; _UserInfoPageState();\n}\n\nclass _UserInfoPageState extends State&lt;UserInfoPage&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar:AppBar(\n        backgroundColor: Colors.transparent,\n        elevation: 0,\n        title: Text(\n          'Profile info',\n        style: TextStyle(\n          color: context.theme.authAppBarTextColor,\n        ),\n        ),\n        centerTitle: true,\n      ),\n      body: SingleChildScrollView(\n        padding: const EdgeInsets.symmetric(horizontal: 40),\n        child: Column(\n          children: [\n            Text(&quot;Please provide your name and an optional profile photo&quot;,\n              style: TextStyle(\n              color: context.theme.greyColor,\n              ),\n            ),\n            const SizedBox(height: 40,),\n            Container(\n            padding: const EdgeInsets.all(26),\n              decoration: BoxDecoration(\n                shape: BoxShape.circle,\n                color: context.theme.photoIconBgColor,\n              ),\n              child: Padding(\n                  padding: const EdgeInsets.only(bottom: 3, right: 3),\n                child: Icon(\n                    Icons.add_a_photo,\n                  size: 43,\n                  color: context.theme.photoIconColor,\n                ),\n              ),\n            ),\n            const SizedBox(height: 40,),\n            Row(\n              children: [\n                const SizedBox(width: 20,),\n                const Expanded(\n                    child: CustomTextField(\n                      autoFocus: true,\n                      hintText: &quot;Type your name here&quot;,\n                      textAlign: TextAlign.left,\n                    ),\n                ),\n                const SizedBox(width: 10,),\n                Icon(\n                  Icons.emoji_emotions_outlined,\n                color: context.theme.photoIconColor,\n                ),\n                const SizedBox(width: 20,),\n              ],\n            )\n          ],\n        ),\n      ),\n      floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat,\n      floatingActionButton: CustomElevatedButton(\n          text: 'NEXT',\n          onPressed: (){},\n          buttonWidth: 90,\n      ),\n    );\n  }\n}\n</code></pre>\n<p>and this is the verification page</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_riverpod/flutter_riverpod.dart';\nimport 'package:whatsapp_clone/common/extension/custom_theme_extension.dart';\nimport 'package:whatsapp_clone/common/widgets/custom_icon_button.dart';\nimport 'package:whatsapp_clone/feature/auth/widgets/custom_text_field.dart';\n\nimport '../controller/auth_controller.dart';\n\nclass VerificationPage extends ConsumerWidget {\n  const VerificationPage(\n      {Key? key,\n        required this.smsCodeId,\n        required this.phoneNumber,})\n      : super(key: key);\n\n  void verifySmsCode(\n      BuildContext context,\n      WidgetRef ref,\n      String smsCode\n      ){\n    ref.read(authControllerProvider).verifySmsCode(\n        context: context,\n        smsCodeId: smsCodeId,\n        smsCode: smsCode,\n        mounted: true);\n  }\n\n  final String smsCodeId;\n  final String phoneNumber;\n\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    return Scaffold(\n      appBar: AppBar(\n        backgroundColor: Colors.transparent,\n        elevation: 0,\n        title: Text(\n          'Verify your number',\n        style: TextStyle(\n          color: context.theme.authAppBarTextColor,\n        ),\n        ),\n        centerTitle: true,\n      actions: [\n        CustomIconButton(\n            onTap: (){},\n            icon: Icons.more_vert,\n        ),\n      ],\n      ),\n      body: SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(horizontal: 40,),\n            child: Column(\n              children: [\n                Padding(padding: const EdgeInsets.symmetric(horizontal: 15),\n                child: RichText(\n                  textAlign: TextAlign.center,\n                  text: TextSpan(\n                  style: TextStyle(\n                    color: context.theme.greyColor,\n                    height: 1.5,\n                  ),\n                    children: [\n                      const TextSpan(\n                        text: &quot;You've tried to register +923167970991. wait before requesting an SMS or call with your code &quot;,\n                      ),\n                      TextSpan(\n                        text: &quot;Wrong number?&quot;,\n                        style: TextStyle(\n                          color: context.theme.blueColor,\n                        )\n                      ),\n                    ]\n                ),\n                ),\n                ),\n                const SizedBox(height: 20,),\n                Container(\n                  padding: const EdgeInsets.symmetric(horizontal: 90),\n                  child: CustomTextField(\n                    hintText: '- - -  - - -',\n                    fontSize: 30,\n                    autoFocus: true,\n                    keyboardType: TextInputType.number,\n                    onChanged: (value){\n                      if(value.length == 6){\n                        return verifySmsCode(\n                            context,\n                            ref,\n                            value,\n                        );\n                      }\n                    },\n                  ),\n                ),\n                const SizedBox(height: 20,),\n                Text(\n                  'Enter 6-digit code',\n                style: TextStyle(\n                  color: context.theme.greyColor,\n                ),\n                ),\n                const SizedBox(height: 30,),\n                Row(\n                  children: [\n                    Icon(\n                      Icons.message,\n                      color: context.theme.greyColor,\n                    ),\n                    const SizedBox(width: 20,),\n                    Text(\n                      &quot;Resend SMS&quot;,\n                      style: TextStyle(\n                        color: context.theme.greyColor\n                      ),\n                          ),\n                  ],\n                ),\n                const SizedBox(height: 10,),\n                Divider(color: context.theme.blueColor!.withOpacity(0.2),),\n                const SizedBox(height: 10,),\n                Row(\n                  children: [\n                    Icon(\n                      Icons.phone,\n                      color: context.theme.greyColor,\n                    ),\n                    const SizedBox(width: 20,),\n                    Text(\n                      &quot;Call Me&quot;,\n                      style: TextStyle(\n                          color: context.theme.greyColor\n                      ),\n                    ),\n                  ],\n                ),\n\n\n              ],\n            ),\n      ),\n    );\n  }\n}\n</code></pre>\n<pre><code></code></pre>\n",
        "codigo": [
            "import 'package:cloud_firestore/cloud_firestore.dart';\nimport 'package:firebase_auth/firebase_auth.dart';\nimport 'package:flutter/material.dart';\nimport 'package:riverpod/riverpod.dart';\nimport 'package:whatsapp_clone/common/helper/show_alert_dialog.dart';\nimport 'package:whatsapp_clone/common/routes/routes.dart';\n\nfinal authRepositoryProvider = Provider(\n        (ref) {\n  return AuthRepository(\n    auth: FirebaseAuth.instance,\n    firestore: FirebaseFirestore.instance,\n  );\n}\n);\n\nclass AuthRepository{\n  final FirebaseAuth auth;\n  final FirebaseFirestore firestore;\n\n  AuthRepository(\n      {\n        required  this.auth,\n        required this.firestore,\n      });\n\n  void verifySmsCode({\n    required BuildContext context,\n    required smsCodeId,\n    required String smsCode,\n    required bool mounted,\n\n  }) async\n  {\n    try{\n      final credential = PhoneAuthProvider.credential(\n        verificationId: smsCodeId,\n        smsCode: smsCode,\n      );\n\n     await auth.signInWithCredential(credential);\n     if(!mounted) return;\n     Navigator.of(context).pushAndRemoveUntil(\n          Routes.userinfo,\n              (route) => false);\n    } on FirebaseAuth catch(e){\n      showAlertDialog(\n          context: context,\n          message: e.toString());\n    }\n\n  }\n\n  void sendSmsCode({\n    required BuildContext context,\n    required phoneNumber,\n  }) async {\n      try{\n        await auth.verifyPhoneNumber(\n            phoneNumber: phoneNumber,\n            verificationCompleted: (PhoneAuthCredential credential) async {\n              await auth.signInWithCredential(credential);\n            },\n            verificationFailed: (e){\n              showAlertDialog(\n                  context: context,\n                  message: e.toString());\n            },\n            codeSent: (smsCodeId, resendSmsCode){\n              Navigator.of(context).pushNamedAndRemoveUntil(\n                       Routes.verification,\n                      (route) => false,\n                      arguments: {\n                         'phoneNumber' : phoneNumber,\n                         'smsCodeId'   : smsCodeId,\n                      }\n              );\n            },\n            codeAutoRetrievalTimeout: (String smsCodeId){}\n        );\n      } catch(e){\n        showAlertDialog(\n            context: context,\n            message: e.toString());\n      }\n}\n}\n",
            "\nimport 'package:flutter/material.dart';\nimport 'package:whatsapp_clone/feature/auth/pages/login_page.dart';\nimport 'package:whatsapp_clone/feature/auth/pages/user_info_page.dart';\nimport 'package:whatsapp_clone/feature/auth/pages/verification_page.dart';\nimport 'package:whatsapp_clone/feature/welcome/pages/welcome_page.dart';\nclass Routes{\n  static const String welcome = \"welcome\";\n  static const String login = \"login\";\n  static const String verification = \"verification\";\n  static const String userinfo  = \"userinfo\";\n\n  static Route<dynamic> onGenerateRoute(RouteSettings settings){\n      switch(settings.name!){\n\n        case welcome:\n          return MaterialPageRoute(\n              builder: (context) => const WelcomePage());\n        case login:\n          return MaterialPageRoute(\n              builder: (context) => const LoginPage());\n        case verification:\n          final Map args = settings.arguments as Map;\n          return MaterialPageRoute(\n              builder: (context) =>  VerificationPage(\n                smsCodeId: args['smsCodeId'],\n                phoneNumber: args['phoneNumber'],\n              ));\n        case userinfo:\n          return MaterialPageRoute(\n              builder: (context) => const UserInfoPage());\n\n        default:\n          return MaterialPageRoute(builder: (context) => const Scaffold(\n            body: Text('No Page Route Provided'),\n          ));\n      }\n  }\n}\n",
            "import 'package:flutter/material.dart';\nimport 'package:whatsapp_clone/common/extension/custom_theme_extension.dart';\nimport 'package:whatsapp_clone/common/widgets/custom_elevated_button.dart';\nimport 'package:whatsapp_clone/feature/auth/widgets/custom_text_field.dart';\n\nclass UserInfoPage extends StatefulWidget {\n  const UserInfoPage({Key? key}) : super(key: key);\n\n  @override\n  State<UserInfoPage> createState() => _UserInfoPageState();\n}\n\nclass _UserInfoPageState extends State<UserInfoPage> {\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar:AppBar(\n        backgroundColor: Colors.transparent,\n        elevation: 0,\n        title: Text(\n          'Profile info',\n        style: TextStyle(\n          color: context.theme.authAppBarTextColor,\n        ),\n        ),\n        centerTitle: true,\n      ),\n      body: SingleChildScrollView(\n        padding: const EdgeInsets.symmetric(horizontal: 40),\n        child: Column(\n          children: [\n            Text(\"Please provide your name and an optional profile photo\",\n              style: TextStyle(\n              color: context.theme.greyColor,\n              ),\n            ),\n            const SizedBox(height: 40,),\n            Container(\n            padding: const EdgeInsets.all(26),\n              decoration: BoxDecoration(\n                shape: BoxShape.circle,\n                color: context.theme.photoIconBgColor,\n              ),\n              child: Padding(\n                  padding: const EdgeInsets.only(bottom: 3, right: 3),\n                child: Icon(\n                    Icons.add_a_photo,\n                  size: 43,\n                  color: context.theme.photoIconColor,\n                ),\n              ),\n            ),\n            const SizedBox(height: 40,),\n            Row(\n              children: [\n                const SizedBox(width: 20,),\n                const Expanded(\n                    child: CustomTextField(\n                      autoFocus: true,\n                      hintText: \"Type your name here\",\n                      textAlign: TextAlign.left,\n                    ),\n                ),\n                const SizedBox(width: 10,),\n                Icon(\n                  Icons.emoji_emotions_outlined,\n                color: context.theme.photoIconColor,\n                ),\n                const SizedBox(width: 20,),\n              ],\n            )\n          ],\n        ),\n      ),\n      floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat,\n      floatingActionButton: CustomElevatedButton(\n          text: 'NEXT',\n          onPressed: (){},\n          buttonWidth: 90,\n      ),\n    );\n  }\n}\n",
            "import 'package:flutter/material.dart';\nimport 'package:flutter_riverpod/flutter_riverpod.dart';\nimport 'package:whatsapp_clone/common/extension/custom_theme_extension.dart';\nimport 'package:whatsapp_clone/common/widgets/custom_icon_button.dart';\nimport 'package:whatsapp_clone/feature/auth/widgets/custom_text_field.dart';\n\nimport '../controller/auth_controller.dart';\n\nclass VerificationPage extends ConsumerWidget {\n  const VerificationPage(\n      {Key? key,\n        required this.smsCodeId,\n        required this.phoneNumber,})\n      : super(key: key);\n\n  void verifySmsCode(\n      BuildContext context,\n      WidgetRef ref,\n      String smsCode\n      ){\n    ref.read(authControllerProvider).verifySmsCode(\n        context: context,\n        smsCodeId: smsCodeId,\n        smsCode: smsCode,\n        mounted: true);\n  }\n\n  final String smsCodeId;\n  final String phoneNumber;\n\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    return Scaffold(\n      appBar: AppBar(\n        backgroundColor: Colors.transparent,\n        elevation: 0,\n        title: Text(\n          'Verify your number',\n        style: TextStyle(\n          color: context.theme.authAppBarTextColor,\n        ),\n        ),\n        centerTitle: true,\n      actions: [\n        CustomIconButton(\n            onTap: (){},\n            icon: Icons.more_vert,\n        ),\n      ],\n      ),\n      body: SingleChildScrollView(\n            padding: const EdgeInsets.symmetric(horizontal: 40,),\n            child: Column(\n              children: [\n                Padding(padding: const EdgeInsets.symmetric(horizontal: 15),\n                child: RichText(\n                  textAlign: TextAlign.center,\n                  text: TextSpan(\n                  style: TextStyle(\n                    color: context.theme.greyColor,\n                    height: 1.5,\n                  ),\n                    children: [\n                      const TextSpan(\n                        text: \"You've tried to register +923167970991. wait before requesting an SMS or call with your code \",\n                      ),\n                      TextSpan(\n                        text: \"Wrong number?\",\n                        style: TextStyle(\n                          color: context.theme.blueColor,\n                        )\n                      ),\n                    ]\n                ),\n                ),\n                ),\n                const SizedBox(height: 20,),\n                Container(\n                  padding: const EdgeInsets.symmetric(horizontal: 90),\n                  child: CustomTextField(\n                    hintText: '- - -  - - -',\n                    fontSize: 30,\n                    autoFocus: true,\n                    keyboardType: TextInputType.number,\n                    onChanged: (value){\n                      if(value.length == 6){\n                        return verifySmsCode(\n                            context,\n                            ref,\n                            value,\n                        );\n                      }\n                    },\n                  ),\n                ),\n                const SizedBox(height: 20,),\n                Text(\n                  'Enter 6-digit code',\n                style: TextStyle(\n                  color: context.theme.greyColor,\n                ),\n                ),\n                const SizedBox(height: 30,),\n                Row(\n                  children: [\n                    Icon(\n                      Icons.message,\n                      color: context.theme.greyColor,\n                    ),\n                    const SizedBox(width: 20,),\n                    Text(\n                      \"Resend SMS\",\n                      style: TextStyle(\n                        color: context.theme.greyColor\n                      ),\n                          ),\n                  ],\n                ),\n                const SizedBox(height: 10,),\n                Divider(color: context.theme.blueColor!.withOpacity(0.2),),\n                const SizedBox(height: 10,),\n                Row(\n                  children: [\n                    Icon(\n                      Icons.phone,\n                      color: context.theme.greyColor,\n                    ),\n                    const SizedBox(width: 20,),\n                    Text(\n                      \"Call Me\",\n                      style: TextStyle(\n                          color: context.theme.greyColor\n                      ),\n                    ),\n                  ],\n                ),\n\n\n              ],\n            ),\n      ),\n    );\n  }\n}\n",
            ""
        ]
    },
    {
        "titulo": "How to mock what Navigator.of(context).push() returns in a unit test?",
        "score": 1,
        "views": 1249,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "flutter-navigation"
        ],
        "link": "https://stackoverflow.com/questions/75795714/how-to-mock-what-navigator-ofcontext-push-returns-in-a-unit-test",
        "conteudo_html": "<p>I'm writing a unit test for a function.</p>\n<p>The structure of the function is the following:</p>\n<pre><code>final isUpdated = await Navigator.of(context).pushNamed([route]);\n\nif (isUpdated) {\n    [update some global variables]\n}\n</code></pre>\n<p>The global variables only change if the user returns from the next page by popping the Navigator with a <code>true</code> boolean value.</p>\n<p>I don't want to check/verify if the push or the pop happened. I want to mock the <code>Navigator.of(context).pushNamed()</code> call to return <code>true</code> in one test and <code>false</code> in another so that I can verify that the global variables get or don't get updated.</p>\n<p>The test code I'm attempting to write would look like the this:</p>\n<pre><code>TEST 1 {\n\nwhen: Navigator.pushNamed([route])\nthen answer: true\n\ncall function\n\nexpect: global variables to be updated\n}\n\n\nTEST 2 {\n\nwhen: Navigator.pushNamed([route])\nthen answer: false\n\ncall function\n\nexpect: global variables to NOT be updated\n}\n</code></pre>\n<p>I have looked this up a lot and haven't been able to find a solution. Any help would be appreciated.</p>\n",
        "codigo": [
            "final isUpdated = await Navigator.of(context).pushNamed([route]);\n\nif (isUpdated) {\n    [update some global variables]\n}\n",
            "true",
            "Navigator.of(context).pushNamed()",
            "true",
            "false",
            "TEST 1 {\n\nwhen: Navigator.pushNamed([route])\nthen answer: true\n\ncall function\n\nexpect: global variables to be updated\n}\n\n\nTEST 2 {\n\nwhen: Navigator.pushNamed([route])\nthen answer: false\n\ncall function\n\nexpect: global variables to NOT be updated\n}\n"
        ]
    },
    {
        "titulo": "Flutter Html Package doesn&#39;t show some part",
        "score": 0,
        "views": 1162,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "flutter-html"
        ],
        "link": "https://stackoverflow.com/questions/75794095/flutter-html-package-doesnt-show-some-part",
        "conteudo_html": "<p>My company and I use ready-made API for payment infrastructure. I need to print the feedback on the screen in this api. But this feedback is encoded with html and I am using flutter. I am using the flutter-html package to print this to the screen. As a result, although most things rotate, the middle buttons and textfield are not displayed on the screen. I can't find the error.\n<a href=\"https://i.sstatic.net/nycfk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/nycfk.png\" alt=\"Web View\" /></a></p>\n<p><a href=\"https://i.sstatic.net/prDqB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/prDqB.png\" alt=\"Flutter View\" /></a></p>\n<pre><code> Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(&quot;3D SECURE&quot;),\n      ),\n      body:  Html(data:data),\n   \n    );\n  }\n}\n</code></pre>\n<p>I can't understand why 2 different screens appear in 2 different situations</p>\n<pre><code>var data=\n\n&quot;&lt;!doctype html&gt; &lt;html lang=&quot;tr&quot;&gt; &lt;head&gt; &lt;title&gt;3D İşlem Doğrulama&lt;/title&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;robots&quot; content=&quot;noindex, nofollow&quot; /&gt; &lt;meta content=&quot;True&quot; name=&quot;HandheldFriendly&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1&quot; /&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;script src=&quot;https://www.paytr.com/js/jquery-3.6.0.min.js?v100&quot;&gt;&lt;/script&gt; &lt;style&gt;\n        body{\n            color: #3c3c3c;\n            font-family: Arial, sans-serif;\n        }\n        .ucd-cerceve{\n            padding: 15px;\n            display: table;\n            margin: 20px auto;\n            border: 1px solid #2d3434;\n        }\n        .sol_kisim{\n            width: 100px;\n            display: inline-block;\n        }\n        .butonlar{\n            width: 100px;\n            padding: 4px 0;\n            font-size: 16px;\n            cursor: pointer;\n        }\n    &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;ucd-cerceve&quot;&gt; &lt;div style=&quot;border-bottom: 1px solid #2d3434;padding-bottom: 10px;&quot;&gt; &lt;div style=&quot;display: inline-block;text-align: left;&quot;&gt; &lt;img src=&quot;https://www.paytr.com/img/odeme_sayfasi/visa_verify.jpg&quot; height=&quot;40&quot; alt=&quot;Visa Verify&quot;&gt; &lt;/div&gt; &lt;div style=&quot;display: inline-block;float: right;text-align: right;&quot;&gt; &lt;img src=&quot;https://www.paytr.com/img/odeme_sayfasi/xbank.jpg&quot; height=&quot;40&quot; alt=&quot;X-BANK&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;br&gt; &lt;div style=&quot;font-size: 14px;line-height: 20px;margin: 0 auto;display: table;&quot;&gt; &lt;div&gt;&lt;span class=&quot;sol_kisim&quot;&gt;Mağaza:&lt;/span&gt; &lt;strong&gt;TEST MAGAZA&lt;/strong&gt;&lt;/div&gt; &lt;div&gt;&lt;span class=&quot;sol_kisim&quot;&gt;İşlem Tutarı:&lt;/span&gt; &lt;strong&gt;1.18 TL&lt;/strong&gt;&lt;/div&gt; &lt;div&gt;&lt;span class=&quot;sol_kisim&quot;&gt;İşlem Zamanı:&lt;/span&gt; &lt;strong&gt;20.03.2023 21:44&lt;/strong&gt;&lt;/div&gt; &lt;div&gt;&lt;span class=&quot;sol_kisim&quot;&gt;Kart Numarası:&lt;/span&gt; &lt;strong&gt;4444-****-****-7777&lt;/strong&gt;&lt;/div&gt; &lt;/div&gt; &lt;div style=&quot;text-align: center;margin-top: 15px;&quot;&gt; &lt;span style=&quot;font-size: 14px;line-height: 30px;display: block;&quot;&gt;Lütfen 3D doğrulama şifresini onaylayın.&lt;/span&gt; &lt;input type=&quot;text&quot; value=&quot;paytr&quot; readonly=&quot;readonly&quot; style=&quot;text-align: center;width: 196px;height: 30px;font-size: 16px;border: 1px solid #148FDD&quot;&gt; &lt;/div&gt; &lt;div style=&quot;text-align: center;margin-top: 10px;&quot;&gt; &lt;input type=&quot;button&quot; value=&quot;İptal Et&quot; class=&quot;butonlar&quot; onclick=&quot;window.location.href='https://www.paytr.com/odeme/test/iptal/sS1nwkceorikKfwI00MQS-byteqL-lhbSKXVy2EGpkJCHi0MjtoDlUvxd5P9JAGO1GrLPfX4hIRJNCfm9KDGPjL2PbD00sXjJC8_tRj6o3GuUmlgP-i7yuSojBUT69e8smZZv8-3aA,,';&quot;&gt; &lt;input type=&quot;button&quot; value=&quot;Gönder&quot; class=&quot;butonlar&quot; id=&quot;3d_gonder&quot;&gt; &lt;/div&gt; &lt;div style=&quot;font-size: 12px;color: #8f8f8f;margin-top: 20px;padding-top: 15px;border-top: 1px solid #2d3434;&quot;&gt;\n        Bu test 3D doğrulama sayfası PayTR entegrasyonu için oluşturulmuştur.\n    &lt;/div&gt; &lt;/div&gt; &lt;script type=&quot;text/javascript&quot;&gt;\n    enc_oid = &quot;sS1nwkceorikKfwI00MQS-byteqL-lhbSKXVy2EGpkJCHi0MjtoDlUvxd5P9JAGO1GrLPfX4hIRJNCfm9KDGPjL2PbD00sXjJC8_tRj6o3GuUmlgP-i7yuSojBUT69e8smZZv8-3aA,,&quot;;\n    ROOT = &quot;https://www.paytr.com/&quot;;\n    \n    $(function(){\n        parent.postMessage('shrink','*');\n\n        $(&quot;#3d_gonder&quot;).click(function (e) {\n            $(&quot;#3d_gonder&quot;).prop(&quot;disabled&quot;, true).val(&quot;Yükleniyor..&quot;);\n            window.location.href=ROOT+'odeme/test/onay/'+enc_oid;\n        });\n\n    });\n    \n&lt;/script&gt; &lt;script&gt;(function(){var js = &quot;window['__CF$cv$params']={r:'7ab01aadab0351a7',m:'Mzx1WTTLip7h8Jsj.apaFn9xFYiZ4cLbrqekErRLQt0-1679337843-0-AZ3DS91YoRYfvXdQADfd1J2FLfBPJHPBhIVjWCaMw36cMWwml/EQ4wKXLQyJzygC5cAPp39ns/lKCcvFZHtxviUg5pzUDQp4lbd01p87KP7qfUM0RLohf301O7fDROYfQA==',s:[0x4a7a6f9b6f,0xbf4e0fefec],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);&quot;;var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();&lt;/script&gt;&lt;/body&gt; &lt;/html&gt;&quot;\n</code></pre>\n",
        "codigo": [
            " Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(\"3D SECURE\"),\n      ),\n      body:  Html(data:data),\n   \n    );\n  }\n}\n",
            "var data=\n\n\"<!doctype html> <html lang=\"tr\"> <head> <title>3D İşlem Doğrulama</title> <meta charset=\"UTF-8\"> <meta name=\"robots\" content=\"noindex, nofollow\" /> <meta content=\"True\" name=\"HandheldFriendly\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1\" /> <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"> <script src=\"https://www.paytr.com/js/jquery-3.6.0.min.js?v100\"></script> <style>\n        body{\n            color: #3c3c3c;\n            font-family: Arial, sans-serif;\n        }\n        .ucd-cerceve{\n            padding: 15px;\n            display: table;\n            margin: 20px auto;\n            border: 1px solid #2d3434;\n        }\n        .sol_kisim{\n            width: 100px;\n            display: inline-block;\n        }\n        .butonlar{\n            width: 100px;\n            padding: 4px 0;\n            font-size: 16px;\n            cursor: pointer;\n        }\n    </style> </head> <body> <div class=\"ucd-cerceve\"> <div style=\"border-bottom: 1px solid #2d3434;padding-bottom: 10px;\"> <div style=\"display: inline-block;text-align: left;\"> <img src=\"https://www.paytr.com/img/odeme_sayfasi/visa_verify.jpg\" height=\"40\" alt=\"Visa Verify\"> </div> <div style=\"display: inline-block;float: right;text-align: right;\"> <img src=\"https://www.paytr.com/img/odeme_sayfasi/xbank.jpg\" height=\"40\" alt=\"X-BANK\"> </div> </div> <br> <div style=\"font-size: 14px;line-height: 20px;margin: 0 auto;display: table;\"> <div><span class=\"sol_kisim\">Mağaza:</span> <strong>TEST MAGAZA</strong></div> <div><span class=\"sol_kisim\">İşlem Tutarı:</span> <strong>1.18 TL</strong></div> <div><span class=\"sol_kisim\">İşlem Zamanı:</span> <strong>20.03.2023 21:44</strong></div> <div><span class=\"sol_kisim\">Kart Numarası:</span> <strong>4444-****-****-7777</strong></div> </div> <div style=\"text-align: center;margin-top: 15px;\"> <span style=\"font-size: 14px;line-height: 30px;display: block;\">Lütfen 3D doğrulama şifresini onaylayın.</span> <input type=\"text\" value=\"paytr\" readonly=\"readonly\" style=\"text-align: center;width: 196px;height: 30px;font-size: 16px;border: 1px solid #148FDD\"> </div> <div style=\"text-align: center;margin-top: 10px;\"> <input type=\"button\" value=\"İptal Et\" class=\"butonlar\" onclick=\"window.location.href='https://www.paytr.com/odeme/test/iptal/sS1nwkceorikKfwI00MQS-byteqL-lhbSKXVy2EGpkJCHi0MjtoDlUvxd5P9JAGO1GrLPfX4hIRJNCfm9KDGPjL2PbD00sXjJC8_tRj6o3GuUmlgP-i7yuSojBUT69e8smZZv8-3aA,,';\"> <input type=\"button\" value=\"Gönder\" class=\"butonlar\" id=\"3d_gonder\"> </div> <div style=\"font-size: 12px;color: #8f8f8f;margin-top: 20px;padding-top: 15px;border-top: 1px solid #2d3434;\">\n        Bu test 3D doğrulama sayfası PayTR entegrasyonu için oluşturulmuştur.\n    </div> </div> <script type=\"text/javascript\">\n    enc_oid = \"sS1nwkceorikKfwI00MQS-byteqL-lhbSKXVy2EGpkJCHi0MjtoDlUvxd5P9JAGO1GrLPfX4hIRJNCfm9KDGPjL2PbD00sXjJC8_tRj6o3GuUmlgP-i7yuSojBUT69e8smZZv8-3aA,,\";\n    ROOT = \"https://www.paytr.com/\";\n    \n    $(function(){\n        parent.postMessage('shrink','*');\n\n        $(\"#3d_gonder\").click(function (e) {\n            $(\"#3d_gonder\").prop(\"disabled\", true).val(\"Yükleniyor..\");\n            window.location.href=ROOT+'odeme/test/onay/'+enc_oid;\n        });\n\n    });\n    \n</script> <script>(function(){var js = \"window['__CF$cv$params']={r:'7ab01aadab0351a7',m:'Mzx1WTTLip7h8Jsj.apaFn9xFYiZ4cLbrqekErRLQt0-1679337843-0-AZ3DS91YoRYfvXdQADfd1J2FLfBPJHPBhIVjWCaMw36cMWwml/EQ4wKXLQyJzygC5cAPp39ns/lKCcvFZHtxviUg5pzUDQp4lbd01p87KP7qfUM0RLohf301O7fDROYfQA==',s:[0x4a7a6f9b6f,0xbf4e0fefec],u:'/cdn-cgi/challenge-platform/h/g'};var now=Date.now()/1000,offset=14400,ts=''+(Math.floor(now)-Math.floor(now%offset)),_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/h/g/scripts/alpha/invisible.js?ts='+ts,document.getElementsByTagName('head')[0].appendChild(_cpo);\";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.nonce = '';_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body> </html>\"\n"
        ]
    },
    {
        "titulo": "How to filter a DateTime field when querying MongoDB Atlas from Dart/Flutter",
        "score": 1,
        "views": 220,
        "respostas": 1,
        "tags": [
            "mongodb",
            "flutter",
            "dart",
            "graphql",
            "mongodb-atlas"
        ],
        "link": "https://stackoverflow.com/questions/75791959/how-to-filter-a-datetime-field-when-querying-mongodb-atlas-from-dart-flutter",
        "conteudo_html": "<p>Using MongoDB Atlas, I created a collection and enabled a GraphQL endpoint. I am able to successfully retrieve data from a flutter mobile app using the &quot;graphql: ^5.1.3&quot; <a href=\"https://pub.dev/packages/graphql\" rel=\"nofollow noreferrer\">package</a> as recommended in the <a href=\"https://www.mongodb.com/docs/realm/sdk/flutter/app-services/graphql-api/#std-label-flutter-graphql-api\" rel=\"nofollow noreferrer\">MongoDB docs</a>.</p>\n<p>However, I am unable to use a DateTime field as a filter. If I pass the DateTime as a variable directly, it fails to be serialized on the client correctly. If I pass the DateTime as a string, MongoDB Atlas complains that a DateTime is required. Note: it is the same if I use toString() or toIso8601String().</p>\n<p>Here is the relevant code and error messages for the three scenarios I tried.</p>\n<pre><code>//GraphQL Schema\n{\n  &quot;title&quot;: &quot;item&quot;,\n  &quot;properties&quot;: {\n    &quot;_id&quot;: {\n      &quot;bsonType&quot;: &quot;string&quot;\n    },\n    &quot;start_time&quot;: {\n      &quot;bsonType&quot;: &quot;date&quot;\n    },\n    &quot;text&quot;: {\n      &quot;bsonType&quot;: &quot;string&quot;\n    }\n  }\n}\n</code></pre>\n<pre><code>//Scenario 1\nstart_time = DateTime.now();\nconst query = r&quot;&quot;&quot;\n    query($start_time: DateTime!) {\n      items(query: {start_time_gt: $start_time}) {\n        _id\n        start_time\n        text\n      }\n    }\n&quot;&quot;&quot;;\nfinal queryOptions = QueryOptions(\n document: gql(query),\n variables: &lt;String, dynamic&gt;{'start_time': start_time},\n);\nfinal queryRes = await client.query(queryOptions);\n\n//Error:\nRequestFormatException (RequestFormatException(originalException: Converting object to an encodable object failed: Instance of 'DateTime', originalStackTrace: \n#0      _JsonStringifier.writeObject (dart:convert/json.dart:793:7)\n#1      _JsonStringifier.writeMap (dart:convert/json.dart:874:7)\n#2      _JsonStringifier.writeJsonValue (dart:convert/json.dart:829:21)\n#3      _JsonStringifier.writeObject (dart:convert/json.dart:784:9)\n#4      _JsonStringifier.writeMap (dart:convert/json.dart:874:7)\n#5      _JsonStringifier.writeJsonValue (dart:convert/json.dart:829:21)\n#6      _JsonStringifier.writeObject (dart:convert/json.dart:784:9)\n#7      _JsonStringStringifier.printOn (dart:convert/json.dart:982:17)\n#8      _JsonStringStringifier.stringify (dart:convert/json.dart:967:5)\n#9      JsonEncoder.convert (dart:convert/json.dart:345:30)\n#10     JsonCodec.encode (dart:convert/json.dart:232:37)\n#11     HttpLink._prepareRequest.&lt;anonymous closure&gt; (package:gql_http_link/src/link.dart:175:26)\n#12     HttpLink._encodeAttempter.&lt;anonymous closure&gt; (package:gql_http_link/src/link.dart:200:25)\n#13     HttpLink._prepareRequest (package:gql_http_link/src/link.dart:180:6)\n#14     HttpLink._executeRequest (package:gql_http_link/src/link.dart:129:25)\n#15     HttpLink.request (package:gql_http_link/src/link.dart:76:32)\n</code></pre>\n<pre><code>//Scenario 2: Trying toString()\nstart_time = DateTime.now();\nconst query = r&quot;&quot;&quot;\n    query($start_time: DateTime!) {\n      items(query: {start_time_gt: $start_time}) {\n        _id\n        start_time\n        text\n      }\n    }\n&quot;&quot;&quot;;\nfinal queryOptions = QueryOptions(\n document: gql(query),\n variables: &lt;String, dynamic&gt;{'start_time': start_time.toString()},\n);\nfinal queryRes = await client.query(queryOptions);\n\n//Error:\nflutter: QueryResult(source: QueryResultSource.network, data: null, context: Context({ResponseExtensions: Instance of 'ResponseExtensions', HttpLinkResponseContext: Instance of 'HttpLinkResponseContext'}), exception: OperationException(linkException: null, graphqlErrors: [GraphQLError(message: Variable &quot;$start_time&quot; got invalid value &quot;2023-03-18 10:31:16.400884&quot;.\nExpected type &quot;DateTime&quot;, found &quot;2023-03-18 10:31:16.400884&quot;., locations: [ErrorLocation(line: 1, column: 7)], path: null, extensions: null)]), timestamp: 2023-03-19 10:31:17.847114)\n</code></pre>\n<pre><code>//Scenario 3: trying toString() and changing graphql variable to string\nstart_time = DateTime.now();\nconst query = r&quot;&quot;&quot;\n    query($start_time: String) {\n      items(query: {start_time_gt: $start_time}) {\n        _id\n        start_time\n        text\n      }\n    }\n&quot;&quot;&quot;;\nfinal queryOptions = QueryOptions(\n document: gql(query),\n variables: &lt;String, dynamic&gt;{'start_time': start_time.toString()},\n);\nfinal queryRes = await client.query(queryOptions);\n\n//Error:\nflutter: QueryResult(source: QueryResultSource.network, data: null, context: Context({ResponseExtensions: Instance of 'ResponseExtensions', HttpLinkResponseContext: Instance of 'HttpLinkResponseContext'}), exception: OperationException(linkException: null, graphqlErrors: [GraphQLError(message: Variable &quot;$start_time&quot; of type &quot;String&quot; used in position expecting type &quot;DateTime&quot;., locations: [ErrorLocation(line: 1, column: 7), ErrorLocation(line: 3, column: 43)], path: null, extensions: null)]), timestamp: 2023-03-19 10:33:44.373030)\n</code></pre>\n",
        "codigo": [
            "//GraphQL Schema\n{\n  \"title\": \"item\",\n  \"properties\": {\n    \"_id\": {\n      \"bsonType\": \"string\"\n    },\n    \"start_time\": {\n      \"bsonType\": \"date\"\n    },\n    \"text\": {\n      \"bsonType\": \"string\"\n    }\n  }\n}\n",
            "//Scenario 1\nstart_time = DateTime.now();\nconst query = r\"\"\"\n    query($start_time: DateTime!) {\n      items(query: {start_time_gt: $start_time}) {\n        _id\n        start_time\n        text\n      }\n    }\n\"\"\";\nfinal queryOptions = QueryOptions(\n document: gql(query),\n variables: <String, dynamic>{'start_time': start_time},\n);\nfinal queryRes = await client.query(queryOptions);\n\n//Error:\nRequestFormatException (RequestFormatException(originalException: Converting object to an encodable object failed: Instance of 'DateTime', originalStackTrace: \n#0      _JsonStringifier.writeObject (dart:convert/json.dart:793:7)\n#1      _JsonStringifier.writeMap (dart:convert/json.dart:874:7)\n#2      _JsonStringifier.writeJsonValue (dart:convert/json.dart:829:21)\n#3      _JsonStringifier.writeObject (dart:convert/json.dart:784:9)\n#4      _JsonStringifier.writeMap (dart:convert/json.dart:874:7)\n#5      _JsonStringifier.writeJsonValue (dart:convert/json.dart:829:21)\n#6      _JsonStringifier.writeObject (dart:convert/json.dart:784:9)\n#7      _JsonStringStringifier.printOn (dart:convert/json.dart:982:17)\n#8      _JsonStringStringifier.stringify (dart:convert/json.dart:967:5)\n#9      JsonEncoder.convert (dart:convert/json.dart:345:30)\n#10     JsonCodec.encode (dart:convert/json.dart:232:37)\n#11     HttpLink._prepareRequest.<anonymous closure> (package:gql_http_link/src/link.dart:175:26)\n#12     HttpLink._encodeAttempter.<anonymous closure> (package:gql_http_link/src/link.dart:200:25)\n#13     HttpLink._prepareRequest (package:gql_http_link/src/link.dart:180:6)\n#14     HttpLink._executeRequest (package:gql_http_link/src/link.dart:129:25)\n#15     HttpLink.request (package:gql_http_link/src/link.dart:76:32)\n",
            "//Scenario 2: Trying toString()\nstart_time = DateTime.now();\nconst query = r\"\"\"\n    query($start_time: DateTime!) {\n      items(query: {start_time_gt: $start_time}) {\n        _id\n        start_time\n        text\n      }\n    }\n\"\"\";\nfinal queryOptions = QueryOptions(\n document: gql(query),\n variables: <String, dynamic>{'start_time': start_time.toString()},\n);\nfinal queryRes = await client.query(queryOptions);\n\n//Error:\nflutter: QueryResult(source: QueryResultSource.network, data: null, context: Context({ResponseExtensions: Instance of 'ResponseExtensions', HttpLinkResponseContext: Instance of 'HttpLinkResponseContext'}), exception: OperationException(linkException: null, graphqlErrors: [GraphQLError(message: Variable \"$start_time\" got invalid value \"2023-03-18 10:31:16.400884\".\nExpected type \"DateTime\", found \"2023-03-18 10:31:16.400884\"., locations: [ErrorLocation(line: 1, column: 7)], path: null, extensions: null)]), timestamp: 2023-03-19 10:31:17.847114)\n",
            "//Scenario 3: trying toString() and changing graphql variable to string\nstart_time = DateTime.now();\nconst query = r\"\"\"\n    query($start_time: String) {\n      items(query: {start_time_gt: $start_time}) {\n        _id\n        start_time\n        text\n      }\n    }\n\"\"\";\nfinal queryOptions = QueryOptions(\n document: gql(query),\n variables: <String, dynamic>{'start_time': start_time.toString()},\n);\nfinal queryRes = await client.query(queryOptions);\n\n//Error:\nflutter: QueryResult(source: QueryResultSource.network, data: null, context: Context({ResponseExtensions: Instance of 'ResponseExtensions', HttpLinkResponseContext: Instance of 'HttpLinkResponseContext'}), exception: OperationException(linkException: null, graphqlErrors: [GraphQLError(message: Variable \"$start_time\" of type \"String\" used in position expecting type \"DateTime\"., locations: [ErrorLocation(line: 1, column: 7), ErrorLocation(line: 3, column: 43)], path: null, extensions: null)]), timestamp: 2023-03-19 10:33:44.373030)\n"
        ]
    },
    {
        "titulo": "The function of showDialog is not showing alertDialog on the onPressed method in Flutter when trying to press the on pressed function",
        "score": 0,
        "views": 82,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "showdialog",
            "flutter-alertdialog"
        ],
        "link": "https://stackoverflow.com/questions/75759281/the-function-of-showdialog-is-not-showing-alertdialog-on-the-onpressed-method-in",
        "conteudo_html": "<p>This is the ShowDialog function that i have created but the problem doesn't seem to be understable to me as i think i have made it quite right.</p>\n<pre><code>showAlertDialog({\n  required BuildContext context,\n  required String message,\n  String? btnText,\n}) {\n  return showDialog(\n      context: context,\n      builder: (context) {\n        return AlertDialog(\n          content: Text(\n            message,\n            style: TextStyle(\n              // color: context.theme.greyColor,\n              fontSize: 15,\n            ),\n          ),\n          contentPadding: const EdgeInsets.fromLTRB(20, 20, 20, 0),\n          actions: [\n            TextButton(\n              onPressed: () =&gt; Navigator.of(context).pop(),\n              child: Text(\n                btnText ?? &quot;OK&quot;,\n                style: TextStyle(\n                    // color: context.theme.circleImageColor,\n                    ),\n              ),\n            ),\n          ],\n        );\n      });\n}\n</code></pre>\n<p>Please if anyone can help me with this....</p>\n<p>This is the LoginPage on which at the bottom last of the code FloatingActionButton does not work</p>\n<pre><code>class LoginPage extends StatefulWidget {\n  const LoginPage({Key? key}) : super(key: key);\n\n  @override\n  State&lt;LoginPage&gt; createState() =&gt; _LoginPageState();\n}\n\nclass _LoginPageState extends State&lt;LoginPage&gt; {\n  late TextEditingController countryNameController;\n  late TextEditingController countryCodeController;\n  late TextEditingController phoneNumberController;\n\n  sendCodeToPhone(){\n    final phone = phoneNumberController.text;\n    final name  = countryNameController.text;\n    if(phone.isEmpty){\n      return showAlertDialog(\n        context: context,\n        message: 'Please enter your phone number',\n      );\n    }else if(phone.length &lt; 9){\n      return showAlertDialog(\n      context: context,\n        message: &quot;The phone number you entered is too short for the country: $name\\n\\nInclude your area code if you haven't&quot;,\n      );\n    }else if(phone.length &gt; 10){\n      return showAlertDialog(\n        context: context,\n        message: &quot;The phone number you entered is too long for the country: $name&quot;,\n      );\n    }\n  }\n\n  showCoutryCodePicker(){\n    showCountryPicker(\n      context: context,\n      showPhoneCode: true,\n      favorite: ['PK'],\n      countryListTheme: CountryListThemeData(\n        bottomSheetHeight: 600,\n        backgroundColor: Theme.of(context).colorScheme.background,\n        flagSize: 22,\n        borderRadius: BorderRadius.circular(20),\n        textStyle: TextStyle(\n          color: context.theme.greyColor,\n        ),\n        inputDecoration: InputDecoration(\n          labelStyle: TextStyle(\n            color: context.theme.greyColor,\n          ),\n          prefixIcon: const Icon(Icons.language, color: Coloors.greenDark,),\n          hintText: 'Search country code or name',\n          enabledBorder: UnderlineInputBorder(\n            borderSide: BorderSide(color: context.theme.greyColor!.withOpacity(0.2),\n            ),\n          ),\n          focusedBorder: const UnderlineInputBorder(\n            borderSide: BorderSide(\n              color: Coloors.greenDark,\n            ),\n          ),\n        ),\n      ),\n      onSelect: (country){\n        countryNameController.text = country.name;\n        countryCodeController.text = country.countryCode;\n      },\n    );\n\n\n  }\n\n  @override\n  void initState() {\n    countryNameController = TextEditingController(text: 'Pakistan');\n    countryCodeController = TextEditingController(text: '92');\n    phoneNumberController = TextEditingController();\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    countryNameController.dispose();\n    countryCodeController.dispose();\n    phoneNumberController.dispose();\n\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        backgroundColor: Theme.of(context).scaffoldBackgroundColor,\n        title:  Text(\n          &quot;Enter your phone number&quot;,\n        style: TextStyle(\n          color: context.theme.authAppBarTextColor,\n        ),\n        ),\n        centerTitle: true,\n        actions: [\n          CustomIconButton(\n            onTap: (){},\n            icon: Icons.more_vert,\n\n          ),\n        ],\n      ),\n      body: Column(\n        children: [\n          Padding(\n            padding: const EdgeInsets.symmetric(horizontal: 50, vertical: 10),\n            child: RichText(\n              textAlign: TextAlign.center,\n              text: TextSpan(\n              text: 'WhatsApp will need to verify your phone number. ',\n              style: TextStyle(\n                color: context.theme.greyColor,\n                height: 1.5,\n              ),\n              children: [\n                TextSpan(\n                  text: &quot;What's my number?&quot;,\n                  style: TextStyle(\n                    color: context.theme.blueColor,\n                  ),\n                ),\n              ]\n            ),\n            ),\n          ),\n          const SizedBox(height: 10,),\n          Padding(\n            padding: const EdgeInsets.symmetric(horizontal: 60),\n            child: CustomTextField(\n              onTap: showCoutryCodePicker,\n              controller: countryNameController,\n              readOnly: true,\n              suffixIcon: const Icon(\n                Icons.arrow_drop_down,\n                color: Coloors.greenDark,\n              ),\n                ),\n          ),\n          const SizedBox(height: 10,),\n          Padding(\n            padding: const EdgeInsets.symmetric(horizontal: 60),\n            child: Row(\n              children: [\n                SizedBox(width: 70,\n                    child: CustomTextField(\n                      onTap: showCoutryCodePicker,\n                      controller: countryCodeController,\n                      prefixText: '+',\n                      readOnly: true,\n                    ),\n                ),\n               const SizedBox(width: 10,),\n                Expanded(child: CustomTextField(\n                  controller: phoneNumberController,\n                  hintText: 'phone number',\n                  textAlign: TextAlign.left,\n                  keyboardType: TextInputType.number,\n\n                ),\n                ),\n              ],\n            ),\n          ),\n          const SizedBox(height: 20,),\n          Text('Carrier charges may apply',\n          style: TextStyle(\n            color: context.theme.greyColor,\n          ),\n          ),\n        ],\n      ),\n      floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat,\n      floatingActionButton: CustomElevatedButton(\n        onPressed: sendCodeToPhone,\n        text: 'NEXT',\n        buttonWidth: 90,\n      ),\n\n    );\n  }\n}\n</code></pre>\n<p>as it is seen above the floatingActionbutton contains the on pressed which has the method sendCodeToPhone which when pressed does not give any alertDialog</p>\n<pre><code>class CustomElevatedButton extends StatelessWidget {\n  final double? buttonWidth;\n  final VoidCallback onPressed;\n  final String text;\n\n  const CustomElevatedButton(\n      {Key? key, required this.text, this.buttonWidth, required this.onPressed}) : super(key : key);\n\n  @override\n  Widget build(BuildContext context) {\n    return SizedBox(\n      height: 42,\n      width: buttonWidth ?? MediaQuery.of(context).size.width - 100,\n      child: ElevatedButton(\n          onPressed: (){},\n          style: ElevatedButton.styleFrom(\n            backgroundColor: Coloors.greenDark,\n            foregroundColor: Coloors.backgroundDark,\n            splashFactory: NoSplash.splashFactory,\n            elevation: 0,\n            shadowColor: Colors.transparent,\n          ),\n          child: Text(text)),\n    );\n  }\n}\n</code></pre>\n<p>i have included the CustomElevatedButton AS well</p>\n",
        "codigo": [
            "showAlertDialog({\n  required BuildContext context,\n  required String message,\n  String? btnText,\n}) {\n  return showDialog(\n      context: context,\n      builder: (context) {\n        return AlertDialog(\n          content: Text(\n            message,\n            style: TextStyle(\n              // color: context.theme.greyColor,\n              fontSize: 15,\n            ),\n          ),\n          contentPadding: const EdgeInsets.fromLTRB(20, 20, 20, 0),\n          actions: [\n            TextButton(\n              onPressed: () => Navigator.of(context).pop(),\n              child: Text(\n                btnText ?? \"OK\",\n                style: TextStyle(\n                    // color: context.theme.circleImageColor,\n                    ),\n              ),\n            ),\n          ],\n        );\n      });\n}\n",
            "class LoginPage extends StatefulWidget {\n  const LoginPage({Key? key}) : super(key: key);\n\n  @override\n  State<LoginPage> createState() => _LoginPageState();\n}\n\nclass _LoginPageState extends State<LoginPage> {\n  late TextEditingController countryNameController;\n  late TextEditingController countryCodeController;\n  late TextEditingController phoneNumberController;\n\n  sendCodeToPhone(){\n    final phone = phoneNumberController.text;\n    final name  = countryNameController.text;\n    if(phone.isEmpty){\n      return showAlertDialog(\n        context: context,\n        message: 'Please enter your phone number',\n      );\n    }else if(phone.length < 9){\n      return showAlertDialog(\n      context: context,\n        message: \"The phone number you entered is too short for the country: $name\\n\\nInclude your area code if you haven't\",\n      );\n    }else if(phone.length > 10){\n      return showAlertDialog(\n        context: context,\n        message: \"The phone number you entered is too long for the country: $name\",\n      );\n    }\n  }\n\n  showCoutryCodePicker(){\n    showCountryPicker(\n      context: context,\n      showPhoneCode: true,\n      favorite: ['PK'],\n      countryListTheme: CountryListThemeData(\n        bottomSheetHeight: 600,\n        backgroundColor: Theme.of(context).colorScheme.background,\n        flagSize: 22,\n        borderRadius: BorderRadius.circular(20),\n        textStyle: TextStyle(\n          color: context.theme.greyColor,\n        ),\n        inputDecoration: InputDecoration(\n          labelStyle: TextStyle(\n            color: context.theme.greyColor,\n          ),\n          prefixIcon: const Icon(Icons.language, color: Coloors.greenDark,),\n          hintText: 'Search country code or name',\n          enabledBorder: UnderlineInputBorder(\n            borderSide: BorderSide(color: context.theme.greyColor!.withOpacity(0.2),\n            ),\n          ),\n          focusedBorder: const UnderlineInputBorder(\n            borderSide: BorderSide(\n              color: Coloors.greenDark,\n            ),\n          ),\n        ),\n      ),\n      onSelect: (country){\n        countryNameController.text = country.name;\n        countryCodeController.text = country.countryCode;\n      },\n    );\n\n\n  }\n\n  @override\n  void initState() {\n    countryNameController = TextEditingController(text: 'Pakistan');\n    countryCodeController = TextEditingController(text: '92');\n    phoneNumberController = TextEditingController();\n    super.initState();\n  }\n\n  @override\n  void dispose() {\n    countryNameController.dispose();\n    countryCodeController.dispose();\n    phoneNumberController.dispose();\n\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        backgroundColor: Theme.of(context).scaffoldBackgroundColor,\n        title:  Text(\n          \"Enter your phone number\",\n        style: TextStyle(\n          color: context.theme.authAppBarTextColor,\n        ),\n        ),\n        centerTitle: true,\n        actions: [\n          CustomIconButton(\n            onTap: (){},\n            icon: Icons.more_vert,\n\n          ),\n        ],\n      ),\n      body: Column(\n        children: [\n          Padding(\n            padding: const EdgeInsets.symmetric(horizontal: 50, vertical: 10),\n            child: RichText(\n              textAlign: TextAlign.center,\n              text: TextSpan(\n              text: 'WhatsApp will need to verify your phone number. ',\n              style: TextStyle(\n                color: context.theme.greyColor,\n                height: 1.5,\n              ),\n              children: [\n                TextSpan(\n                  text: \"What's my number?\",\n                  style: TextStyle(\n                    color: context.theme.blueColor,\n                  ),\n                ),\n              ]\n            ),\n            ),\n          ),\n          const SizedBox(height: 10,),\n          Padding(\n            padding: const EdgeInsets.symmetric(horizontal: 60),\n            child: CustomTextField(\n              onTap: showCoutryCodePicker,\n              controller: countryNameController,\n              readOnly: true,\n              suffixIcon: const Icon(\n                Icons.arrow_drop_down,\n                color: Coloors.greenDark,\n              ),\n                ),\n          ),\n          const SizedBox(height: 10,),\n          Padding(\n            padding: const EdgeInsets.symmetric(horizontal: 60),\n            child: Row(\n              children: [\n                SizedBox(width: 70,\n                    child: CustomTextField(\n                      onTap: showCoutryCodePicker,\n                      controller: countryCodeController,\n                      prefixText: '+',\n                      readOnly: true,\n                    ),\n                ),\n               const SizedBox(width: 10,),\n                Expanded(child: CustomTextField(\n                  controller: phoneNumberController,\n                  hintText: 'phone number',\n                  textAlign: TextAlign.left,\n                  keyboardType: TextInputType.number,\n\n                ),\n                ),\n              ],\n            ),\n          ),\n          const SizedBox(height: 20,),\n          Text('Carrier charges may apply',\n          style: TextStyle(\n            color: context.theme.greyColor,\n          ),\n          ),\n        ],\n      ),\n      floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat,\n      floatingActionButton: CustomElevatedButton(\n        onPressed: sendCodeToPhone,\n        text: 'NEXT',\n        buttonWidth: 90,\n      ),\n\n    );\n  }\n}\n",
            "class CustomElevatedButton extends StatelessWidget {\n  final double? buttonWidth;\n  final VoidCallback onPressed;\n  final String text;\n\n  const CustomElevatedButton(\n      {Key? key, required this.text, this.buttonWidth, required this.onPressed}) : super(key : key);\n\n  @override\n  Widget build(BuildContext context) {\n    return SizedBox(\n      height: 42,\n      width: buttonWidth ?? MediaQuery.of(context).size.width - 100,\n      child: ElevatedButton(\n          onPressed: (){},\n          style: ElevatedButton.styleFrom(\n            backgroundColor: Coloors.greenDark,\n            foregroundColor: Coloors.backgroundDark,\n            splashFactory: NoSplash.splashFactory,\n            elevation: 0,\n            shadowColor: Colors.transparent,\n          ),\n          child: Text(text)),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Flutter, Mockito: How to mock a method with named parameters?",
        "score": 0,
        "views": 1015,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "hive",
            "mockito"
        ],
        "link": "https://stackoverflow.com/questions/75753225/flutter-mockito-how-to-mock-a-method-with-named-parameters",
        "conteudo_html": "<p>I am trying to test a datasourse class that using the Hive library for storing data.</p>\n<p>I wrote this code for test:</p>\n<pre><code>// import ...\nimport 'my_datasource_hive_test.mocks.dart';\n\n@GenerateNiceMocks([\n  MockSpec&lt;BoxCollection&gt;()\n])\n\nvoid main() {\n  test(\n    'MyDatasourceHive Constructor',\n    () {\n      // Assign\n      final mockMyCollection = MockBoxCollection();\n      final datasource = MyDatasourceHive(\n        collection: mockMyCollection,\n      );\n    },\n  );\n</code></pre>\n<p>Then I run the command for generate the MockBoxCollection class:</p>\n<p><code>flutter pub run build_runner build</code></p>\n<p>And when I run tests I have next error:</p>\n<p><code>The parameter 'boxCreator' of the method 'MockBoxCollection.openBox' has type 'CollectionBox/*1*/&lt;V&gt; Function(String, BoxCollection)?', which does not match the corresponding type, 'CollectionBox/*2*/&lt;V&gt; Function(String, BoxCollection)?', in the overridden method, 'BoxCollection.openBox'.</code></p>\n",
        "codigo": [
            "// import ...\nimport 'my_datasource_hive_test.mocks.dart';\n\n@GenerateNiceMocks([\n  MockSpec<BoxCollection>()\n])\n\nvoid main() {\n  test(\n    'MyDatasourceHive Constructor',\n    () {\n      // Assign\n      final mockMyCollection = MockBoxCollection();\n      final datasource = MyDatasourceHive(\n        collection: mockMyCollection,\n      );\n    },\n  );\n",
            "flutter pub run build_runner build",
            "The parameter 'boxCreator' of the method 'MockBoxCollection.openBox' has type 'CollectionBox/*1*/<V> Function(String, BoxCollection)?', which does not match the corresponding type, 'CollectionBox/*2*/<V> Function(String, BoxCollection)?', in the overridden method, 'BoxCollection.openBox'."
        ]
    },
    {
        "titulo": "What is the difference between `true` and `isTrue` or `false` and `isFalse` in dart test?",
        "score": 1,
        "views": 552,
        "respostas": 1,
        "tags": [
            "dart",
            "dart-unittest",
            "dart-test"
        ],
        "link": "https://stackoverflow.com/questions/75740976/what-is-the-difference-between-true-and-istrue-or-false-and-isfalse-in-d",
        "conteudo_html": "<p>I already know using the <code>isTrue</code> and <code>isFalse</code> matchers can make test assertions more descriptive and easier to read. However, I want to know if there are any other benefits or reasons for using them instead of boolean values.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>expect(actual, isTrue);\nexpect(actual, isFalse);\n</code></pre>\n<p>vs.</p>\n<pre><code>expect(actual, true);\nexpect(actual, false);\n</code></pre>\n",
        "codigo": [
            "isTrue",
            "isFalse",
            "expect(actual, isTrue);\nexpect(actual, isFalse);\n",
            "expect(actual, true);\nexpect(actual, false);\n"
        ]
    },
    {
        "titulo": "DateTime.difference in days produce unexpected result",
        "score": 1,
        "views": 42,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "datetime"
        ],
        "link": "https://stackoverflow.com/questions/75738813/datetime-difference-in-days-produce-unexpected-result",
        "conteudo_html": "<p>Yesterday, my app suddenly failed.  So after hours of debugging, it came down to this.</p>\n<pre><code>  test(&quot;What The Flutter&quot;, () {\n    final a = &quot;2023-03-13T00:00:00.000&quot;;\n    final b = &quot;2023-03-12T00:00:00.000&quot;;\n    final diff = DateTime.parse(a).difference(DateTime.parse(b));\n    print(diff.inDays);\n    expect(diff.inDays, 1); // this fails. it says it is 0\n  });\n</code></pre>\n<p>I suppose it has something to do with something invented in 1895 but not sure and how to write a code to handle this ?</p>\n<p>For reference, this passes</p>\n<pre><code>  test(&quot;All Correct after the anomaly day&quot;, () {\n    final a = &quot;2023-03-14T00:00:00.000&quot;;\n    final b = &quot;2023-03-13T00:00:00.000&quot;;\n    final diff = DateTime.parse(a).difference(DateTime.parse(b));\n    print(diff.inDays);\n    expect(diff.inDays, 1);\n  });\n</code></pre>\n<p>Forcing the dates to UTC is not helping</p>\n<p><code>final diff = DateTime.parse(a).toUtc().difference(DateTime.parse(b).toUtc());</code></p>\n<p>This questions is addressing a specific case of dates not behaving as intended, not asking how to find the difference between two dates like this one <a href=\"https://stackoverflow.com/questions/52713115/flutter-find-the-number-of-days-between-two-dates\">Flutter: Find the number of days between two dates</a></p>\n",
        "codigo": [
            "  test(\"What The Flutter\", () {\n    final a = \"2023-03-13T00:00:00.000\";\n    final b = \"2023-03-12T00:00:00.000\";\n    final diff = DateTime.parse(a).difference(DateTime.parse(b));\n    print(diff.inDays);\n    expect(diff.inDays, 1); // this fails. it says it is 0\n  });\n",
            "  test(\"All Correct after the anomaly day\", () {\n    final a = \"2023-03-14T00:00:00.000\";\n    final b = \"2023-03-13T00:00:00.000\";\n    final diff = DateTime.parse(a).difference(DateTime.parse(b));\n    print(diff.inDays);\n    expect(diff.inDays, 1);\n  });\n",
            "final diff = DateTime.parse(a).toUtc().difference(DateTime.parse(b).toUtc());"
        ]
    },
    {
        "titulo": "flutter widget_test cannot find _MyAppState Class and the class static variable",
        "score": 1,
        "views": 98,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing"
        ],
        "link": "https://stackoverflow.com/questions/75737104/flutter-widget-test-cannot-find-myappstate-class-and-the-class-static-variable",
        "conteudo_html": "<p>I am doing a Flutter unit test on myAppState variable mytasks index to be non-zero.</p>\n<p>Issue: widget_test file cannot find _MyAppState class and the class static variable tasks from the lib folder.</p>\n<p>widget_test.dart</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_dk_phila_1/main.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nvoid main() {\n  bool x=false;\n\n  testWidgets('non-zero id', (WidgetTester tester) async {\n    await tester.pumpWidget(MyApp());\n\n    if(_MyAppState.tasks[index].id!=0) {\n      x = _MyAppState.tasks[index].id &gt; 0;\n    }\n    expect(x,true);\n    await tester.pump();\n  });\n}\n</code></pre>\n<p>main.dart:</p>\n<pre><code>class _MyAppState extends State&lt;MyApp&gt; \n  static final List&lt;Task&gt; tasks=&lt;Task&gt;[];\n</code></pre>\n<p>Please advise how to address the issue. Thank You</p>\n",
        "codigo": [
            "import 'package:flutter/material.dart';\nimport 'package:flutter_dk_phila_1/main.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nvoid main() {\n  bool x=false;\n\n  testWidgets('non-zero id', (WidgetTester tester) async {\n    await tester.pumpWidget(MyApp());\n\n    if(_MyAppState.tasks[index].id!=0) {\n      x = _MyAppState.tasks[index].id > 0;\n    }\n    expect(x,true);\n    await tester.pump();\n  });\n}\n",
            "class _MyAppState extends State<MyApp> \n  static final List<Task> tasks=<Task>[];\n"
        ]
    },
    {
        "titulo": "Is there a way to get the widgettree of a pumped Widget while testing?",
        "score": 0,
        "views": 35,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75735785/is-there-a-way-to-get-the-widgettree-of-a-pumped-widget-while-testing",
        "conteudo_html": "<p>I have this TestWidget:</p>\n<pre><code>class TestWidget extends StatelessWidget {\n  const TestWidget({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        const ColoredBox(\n          color: Colors.green,\n          child: Center(\n            child: Text('Io sono Raoul'),\n          ),\n        ),\n        OutlinedButton(\n          onPressed: () {},\n          child: const ColoredBox(color: Colors.red),\n        )\n      ],\n    );\n  }\n}\n</code></pre>\n<p>and in my Test i try to get the WidgetTree:</p>\n<pre><code>void main() {\n  Future&lt;void&gt; pumpWidget(WidgetTester tester) async {\n    await tester.pumpWidget(\n      const MaterialApp(\n        home: Scaffold(\n          body: TestWidget(),\n        ),\n      ),\n    );\n  }\n\n  testWidgets('description', (WidgetTester tester) async {\n    await pumpWidget(tester);\n    \n    final widgettree = ?\n\n    expect(find.byType(Center), findsOneWidget);\n  });\n}\n</code></pre>\n<p>I tried find.byWidgetPredicate but i only get the location of TestWidget not the widgets inside of it</p>\n<p>WidgetsBinding.instance.renderViewElement!.widget; gets me the MaterialApp but when i go down the tree i only get the location again</p>\n",
        "codigo": [
            "class TestWidget extends StatelessWidget {\n  const TestWidget({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        const ColoredBox(\n          color: Colors.green,\n          child: Center(\n            child: Text('Io sono Raoul'),\n          ),\n        ),\n        OutlinedButton(\n          onPressed: () {},\n          child: const ColoredBox(color: Colors.red),\n        )\n      ],\n    );\n  }\n}\n",
            "void main() {\n  Future<void> pumpWidget(WidgetTester tester) async {\n    await tester.pumpWidget(\n      const MaterialApp(\n        home: Scaffold(\n          body: TestWidget(),\n        ),\n      ),\n    );\n  }\n\n  testWidgets('description', (WidgetTester tester) async {\n    await pumpWidget(tester);\n    \n    final widgettree = ?\n\n    expect(find.byType(Center), findsOneWidget);\n  });\n}\n"
        ]
    },
    {
        "titulo": "flutter equatable Too many positional arguments: 0 expected, but 1 found",
        "score": 0,
        "views": 73,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "compiler-errors",
            "superclass",
            "equatable"
        ],
        "link": "https://stackoverflow.com/questions/75711763/flutter-equatable-too-many-positional-arguments-0-expected-but-1-found",
        "conteudo_html": "<p>i was following reso coder's <a href=\"https://www.youtube.com/watch?v=lPkWX8xFthE&amp;list=PLB6lc7nQ1n4iYGE_khpXRdJkJEp9WOech&amp;index=4\" rel=\"nofollow noreferrer\">video</a> to learn clean structure and tried to make a super constructor as he did and got this <code>Too many positional arguments: 0 expected, but 1 found.</code></p>\n<p>here it is</p>\n<pre><code>import 'package:equatable/equatable.dart';\nimport 'package:meta/meta.dart';\n\nclass NumberTrivia extends Equatable{\nfinal String text;\nfinal int number;\n\nNumberTrivia({required this.text, required this.number}) : super ([text,number])\n}\n</code></pre>\n<p>i've tried to do this :</p>\n<pre><code>import 'package:meta/meta.dart';\n\nclass NumberTrivia extends Equatable{\nfinal String text;\nfinal int number;\n\nNumberTrivia({required this.text, required this.number});\n\n\n  @override\n  // TODO: implement props\n  List&lt;Object?&gt; get props =&gt; [text,number];\n\n}\n</code></pre>\n<p>it fixed the error but I don't know if it does the same job because I'm a beginner</p>\n",
        "codigo": [
            "Too many positional arguments: 0 expected, but 1 found.",
            "import 'package:equatable/equatable.dart';\nimport 'package:meta/meta.dart';\n\nclass NumberTrivia extends Equatable{\nfinal String text;\nfinal int number;\n\nNumberTrivia({required this.text, required this.number}) : super ([text,number])\n}\n",
            "import 'package:meta/meta.dart';\n\nclass NumberTrivia extends Equatable{\nfinal String text;\nfinal int number;\n\nNumberTrivia({required this.text, required this.number});\n\n\n  @override\n  // TODO: implement props\n  List<Object?> get props => [text,number];\n\n}\n"
        ]
    },
    {
        "titulo": "how to make sort data using buttons with stream builder (to make filtrations )",
        "score": 0,
        "views": 68,
        "respostas": 0,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "google-cloud-firestore",
            "flutter-streambuilder"
        ],
        "link": "https://stackoverflow.com/questions/75710291/how-to-make-sort-data-using-buttons-with-stream-builder-to-make-filtrations",
        "conteudo_html": "<p>I want to make filtration bar to filter the prices and the location. I am making a function at the end of the code that is checking wather the button is pressed or not to make retern  the firebase filter.</p>\n<pre><code>import 'package:cloud_firestore/cloud_firestore.dart';\nimport 'package:flutter/material.dart';\nimport 'package:realstate/home%20page/addingpage.dart';\n\nimport '../account page/account page.dart';\n\nclass Home extends StatefulWidget {\n  const Home({Key? key}) : super(key: key);\n\n  @override\n  State&lt;Home&gt; createState() =&gt; _HomeState();\n}\n\nclass _HomeState extends State&lt;Home&gt; {\n  Stream&lt;QuerySnapshot&gt;? changer;\n  CollectionReference Detabase =\n      FirebaseFirestore.instance.collection('Detabase');\n  bool sany = false;\n\n  Stream&lt;QuerySnapshot&gt; snapshot = FirebaseFirestore.instance\n      .collection('Detabase')\n      .orderBy('expectedrent', descending: false)\n      .snapshots();\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n        debugShowCheckedModeBanner: false,\n        home: Scaffold(\n          backgroundColor: Colors.white,\n          appBar: AppBar(\n            centerTitle: true,\n            title: const Text(\n              &quot;Home&quot;,\n              style: TextStyle(\n                  color: Colors.black,\n                  fontFamily: 'Montserrat',\n                  fontWeight: FontWeight.bold,\n                  fontSize: 32),\n            ),\n            leading: IconButton(\n              icon: Icon(\n                Icons.add_business_sharp,\n                color: Colors.black,\n                size: 26,\n              ),\n              onPressed: () {\n                Navigator.of(context).push(\n                    MaterialPageRoute(builder: (context) =&gt; Addingpage()));\n              },\n            ),\n            backgroundColor: Colors.white,\n            actions: [\n              IconButton(\n                onPressed: () {\n                  Navigator.of(context).push(\n                      MaterialPageRoute(builder: (context) =&gt; AccountPage()));\n                },\n                icon: const Icon(\n                  Icons.account_circle,\n                ),\n                color: Colors.black,\n                highlightColor: Colors.transparent,\n                focusColor: Colors.transparent,\n                hoverColor: Colors.transparent,\n                splashColor: Colors.transparent,\n              )\n            ],\n          ),\n          body: SingleChildScrollView(\n            child: Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: [\n                Container(\n                  child: StreamBuilder&lt;QuerySnapshot&gt;(\n                    stream: incrment(),\n                    builder: (BuildContext context,\n                        AsyncSnapshot&lt;QuerySnapshot&gt; snapshot) {\n                      if (snapshot.hasError) {\n                        return Text('Something went wrong');\n                      }\n\n                      if (snapshot.connectionState == ConnectionState.waiting) {\n                        return Text(&quot;Loading&quot;);\n                      }\n\n                      return ListView(\n                        children: snapshot.data!.docs.map(\n                          (DocumentSnapshot document) {\n                            Map&lt;String, dynamic&gt;? data =\n                                document.data() as Map&lt;String, dynamic&gt;;\n                            return Text(\n                                &quot;Full Name: ${data['location']} ${data['detals']}&quot;);\n                          },\n                        ).toList(),\n                      );\n                    },\n                  ),\n                ),\n                ElevatedButton(\n                    onPressed: () async {\n                      sany = !sany;\n                    },\n                    child: Text(&quot;dsddsfds&quot;))\n              ],\n            ),\n          ),\n        ));\n  }\n\n  incrment() {\n    if (sany == false) {\n      FirebaseFirestore.instance\n          .collection('Detabase')\n          .orderBy('expectedrent', descending: false)\n          .snapshots();\n    }\n  }\n}\n</code></pre>\n",
        "codigo": [
            "import 'package:cloud_firestore/cloud_firestore.dart';\nimport 'package:flutter/material.dart';\nimport 'package:realstate/home%20page/addingpage.dart';\n\nimport '../account page/account page.dart';\n\nclass Home extends StatefulWidget {\n  const Home({Key? key}) : super(key: key);\n\n  @override\n  State<Home> createState() => _HomeState();\n}\n\nclass _HomeState extends State<Home> {\n  Stream<QuerySnapshot>? changer;\n  CollectionReference Detabase =\n      FirebaseFirestore.instance.collection('Detabase');\n  bool sany = false;\n\n  Stream<QuerySnapshot> snapshot = FirebaseFirestore.instance\n      .collection('Detabase')\n      .orderBy('expectedrent', descending: false)\n      .snapshots();\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n        debugShowCheckedModeBanner: false,\n        home: Scaffold(\n          backgroundColor: Colors.white,\n          appBar: AppBar(\n            centerTitle: true,\n            title: const Text(\n              \"Home\",\n              style: TextStyle(\n                  color: Colors.black,\n                  fontFamily: 'Montserrat',\n                  fontWeight: FontWeight.bold,\n                  fontSize: 32),\n            ),\n            leading: IconButton(\n              icon: Icon(\n                Icons.add_business_sharp,\n                color: Colors.black,\n                size: 26,\n              ),\n              onPressed: () {\n                Navigator.of(context).push(\n                    MaterialPageRoute(builder: (context) => Addingpage()));\n              },\n            ),\n            backgroundColor: Colors.white,\n            actions: [\n              IconButton(\n                onPressed: () {\n                  Navigator.of(context).push(\n                      MaterialPageRoute(builder: (context) => AccountPage()));\n                },\n                icon: const Icon(\n                  Icons.account_circle,\n                ),\n                color: Colors.black,\n                highlightColor: Colors.transparent,\n                focusColor: Colors.transparent,\n                hoverColor: Colors.transparent,\n                splashColor: Colors.transparent,\n              )\n            ],\n          ),\n          body: SingleChildScrollView(\n            child: Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: [\n                Container(\n                  child: StreamBuilder<QuerySnapshot>(\n                    stream: incrment(),\n                    builder: (BuildContext context,\n                        AsyncSnapshot<QuerySnapshot> snapshot) {\n                      if (snapshot.hasError) {\n                        return Text('Something went wrong');\n                      }\n\n                      if (snapshot.connectionState == ConnectionState.waiting) {\n                        return Text(\"Loading\");\n                      }\n\n                      return ListView(\n                        children: snapshot.data!.docs.map(\n                          (DocumentSnapshot document) {\n                            Map<String, dynamic>? data =\n                                document.data() as Map<String, dynamic>;\n                            return Text(\n                                \"Full Name: ${data['location']} ${data['detals']}\");\n                          },\n                        ).toList(),\n                      );\n                    },\n                  ),\n                ),\n                ElevatedButton(\n                    onPressed: () async {\n                      sany = !sany;\n                    },\n                    child: Text(\"dsddsfds\"))\n              ],\n            ),\n          ),\n        ));\n  }\n\n  incrment() {\n    if (sany == false) {\n      FirebaseFirestore.instance\n          .collection('Detabase')\n          .orderBy('expectedrent', descending: false)\n          .snapshots();\n    }\n  }\n}\n"
        ]
    },
    {
        "titulo": "Mocking an extended class with Dart Mockito?",
        "score": 0,
        "views": 2167,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "inheritance",
            "mockito",
            "integration-testing"
        ],
        "link": "https://stackoverflow.com/questions/75696495/mocking-an-extended-class-with-dart-mockito",
        "conteudo_html": "<p>Is it possible to mock or fake a class that needs to be extended with some other class with <code>mockito</code> plugin in Dart?</p>\n<p>I have the following example of inheritance:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>abstract class Animal {\n  Animal(this.emoji);\n\n  final String emoji;\n\n  String greet();\n}\n\nclass Dog extends Animal {\n  Dog(super.emoji);\n\n  @override\n  String greet() {\n    return '$emoji: Woof!';\n  }\n}\n\nclass Poodle extends Dog {\n  Poodle(super.emoji);\n}\n\nclass FakePoodle extends Fake implements Poodle {\n  // Raises a runtime error:\n  // Runtime error: No associated positional super constructor parameter.\n  FakePoodle(super.emoji);\n}\n</code></pre>\n<p>I want to mock the class <code>FakePoodle</code> that would still inherit all the properties of the class <code>Dog</code>, using a constructor and make it mock with <code>mockito</code> at the same time.</p>\n<p>Here are my tests:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\n\nvoid main() {\n  group('Dog tests', () {\n    test('should return a dog greet', () {\n      expect(Dog('🐶').greet(), '🐶: Woof!');\n    });\n\n    test('Poodle should return a poodle greet', () {\n      expect(Poodle('🐩').greet(), '🐩: Woof!');\n    });\n\n    test('Fake Poodle should greet only once', () {\n      final FakePoodle fakePoodle = FakePoodle('🐕‍');\n      fakePoodle.greet();\n      verify(fakePoodle.greet());\n    });\n  });\n}\n</code></pre>\n<p><s>I found the following FAQ section from <code>mockito</code> plugin:~</p>\n<p><a href=\"https://github.com/dart-lang/mockito/blob/master/FAQ.md#how-do-i-mock-an-extension-method\" rel=\"nofollow noreferrer\"><strong>How do I mock an extension method?</strong></a></s></p>\n<blockquote>\n<p><s>If there is no way to override some kind of function, then mockito cannot mock it. See the above answer for further explanation, and alternatives.</s></p>\n</blockquote>\n<p>Is there a way I can write integration tests like this in a clean manner?</p>\n",
        "codigo": [
            "mockito",
            "abstract class Animal {\n  Animal(this.emoji);\n\n  final String emoji;\n\n  String greet();\n}\n\nclass Dog extends Animal {\n  Dog(super.emoji);\n\n  @override\n  String greet() {\n    return '$emoji: Woof!';\n  }\n}\n\nclass Poodle extends Dog {\n  Poodle(super.emoji);\n}\n\nclass FakePoodle extends Fake implements Poodle {\n  // Raises a runtime error:\n  // Runtime error: No associated positional super constructor parameter.\n  FakePoodle(super.emoji);\n}\n",
            "FakePoodle",
            "Dog",
            "mockito",
            "import 'package:flutter_test/flutter_test.dart';\nimport 'package:mockito/mockito.dart';\n\nvoid main() {\n  group('Dog tests', () {\n    test('should return a dog greet', () {\n      expect(Dog('🐶').greet(), '🐶: Woof!');\n    });\n\n    test('Poodle should return a poodle greet', () {\n      expect(Poodle('🐩').greet(), '🐩: Woof!');\n    });\n\n    test('Fake Poodle should greet only once', () {\n      final FakePoodle fakePoodle = FakePoodle('🐕‍');\n      fakePoodle.greet();\n      verify(fakePoodle.greet());\n    });\n  });\n}\n",
            "mockito"
        ]
    },
    {
        "titulo": "Getting wrong json format printing on console in flutter",
        "score": 0,
        "views": 1429,
        "respostas": 1,
        "tags": [
            "json",
            "flutter",
            "express",
            "dart",
            "dio"
        ],
        "link": "https://stackoverflow.com/questions/75691119/getting-wrong-json-format-printing-on-console-in-flutter",
        "conteudo_html": "<p>I tried to parse the json data in flutter but it seems that json data is not in the correct format, when I checked in the browser the json data is in the correct format. Below I attaching both screenshots.\nand I made my own local server using express, I think it doesn't need here since I am getting good responses in the browser. If needed I can share or update here.\n<a href=\"https://i.sstatic.net/U5WZ7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/U5WZ7.png\" alt=\"Browser screenshot\" /></a></p>\n<p><a href=\"https://i.sstatic.net/vFnFD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/vFnFD.png\" alt=\"Android Studio flutter response\" /></a></p>\n<p>Can anyone explain what went wrong here, I was unable to parse data with the response that I got in the flutter console.</p>\n<p>I am using below code to convert</p>\n<pre><code>import 'dart:convert';\n\nTasks tasksFromJson(String str) =&gt; Tasks.fromJson(json.decode(str));\n\nString tasksToJson(Tasks data) =&gt; json.encode(data.toJson());\n\nclass Tasks {\n  Tasks({\n    required this.tasks,\n  });\n\n  List&lt;Task&gt; tasks;\n\n  factory Tasks.fromJson(Map&lt;String, dynamic&gt; json) =&gt; Tasks(\n    tasks: List&lt;Task&gt;.from(json[&quot;tasks&quot;].map((x) =&gt; Task.fromJson(x))),\n  );\n\n  Map&lt;String, dynamic&gt; toJson() =&gt; {\n    &quot;tasks&quot;: List&lt;dynamic&gt;.from(tasks.map((x) =&gt; x.toJson())),\n  };\n}\n\nclass Task {\n  Task({\n    required this.completed,\n    required this.id,\n    required this.name,\n    required this.v,\n  });\n\n  bool completed;\n  String id;\n  String name;\n  int v;\n\n  factory Task.fromJson(Map&lt;String, dynamic&gt; json) =&gt; Task(\n    completed: json[&quot;completed&quot;],\n    id: json[&quot;_id&quot;],\n    name: json[&quot;name&quot;],\n    v: json[&quot;__v&quot;],\n  );\n\n  Map&lt;String, dynamic&gt; toJson() =&gt; {\n    &quot;completed&quot;: completed,\n    &quot;_id&quot;: id,\n    &quot;name&quot;: name,\n    &quot;__v&quot;: v,\n  };\n}\n</code></pre>\n<p>then</p>\n<pre><code>import 'package:dio/dio.dart';\nimport 'package:flutter/foundation.dart';\nimport 'package:task_manager/constants/constants.dart';\nimport 'package:task_manager/models/tasks_model.dart';\n\nclass DioClient {\n  final Dio dio = Dio();\n\n  Future fetchTasks() async {\n    try{\n      final response = await dio.get(baseURL+&quot;/tasks&quot;);\n      final tasks = tasksFromJson(response.data);\n      debugPrint(&quot;${response.data}&quot;);\n    } on DioError catch(e){\n      debugPrint(&quot;StatusCode: ${e.toString()}&quot;);\n      throw Exception(&quot;Failed to load Tasks&quot;);\n    }\n  }\n}\n</code></pre>\n<p>and errors are</p>\n<pre><code>Error: Expected a value of type 'String', but got one of type '_JsonMap'\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 266:49      throw_\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 99:3        castError\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/operations.dart 485:10  cast\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/patch/core_patch.dart 719:17                as\npackages/task_manager/services/dio_client.dart 12:21                                                                           fetchTasks\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 45:50                &lt;fn&gt;\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/zone.dart 1660:54                                              runUnary\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 147:18                                        handleValue\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 767:44                                        handleValueCallback\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 796:13                                        _propagateToListeners\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 558:7                                         [_complete]\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 47:12                                         complete\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future.dart 613:44                                             onValue\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/zone.dart 1660:54                                              runUnary\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 147:18                                        handleValue\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 767:44                                        handleValueCallback\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 796:13                                        _propagateToListeners\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 567:5                                         [_completeWithValue]\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 640:7                                         callback\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/schedule_microtask.dart 40:11                                  _microtaskLoop\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/schedule_microtask.dart 49:5                                   _startMicrotaskLoop\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 166:15               &lt;fn&gt;\n</code></pre>\n<p>Update!!\nAfter all, I got to know Dio encodes the JSON response from REST API as a response</p>\n<p><a href=\"https://i.sstatic.net/yAB5n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/yAB5n.png\" alt=\"enter image description here\" /></a></p>\n<p>We can stop this to get plain data in Dio options</p>\n<pre><code>options: Options( \n    responseType: ResponseType.plain,\n  )\n</code></pre>\n<p>or below accepted answer also will work.</p>\n",
        "codigo": [
            "import 'dart:convert';\n\nTasks tasksFromJson(String str) => Tasks.fromJson(json.decode(str));\n\nString tasksToJson(Tasks data) => json.encode(data.toJson());\n\nclass Tasks {\n  Tasks({\n    required this.tasks,\n  });\n\n  List<Task> tasks;\n\n  factory Tasks.fromJson(Map<String, dynamic> json) => Tasks(\n    tasks: List<Task>.from(json[\"tasks\"].map((x) => Task.fromJson(x))),\n  );\n\n  Map<String, dynamic> toJson() => {\n    \"tasks\": List<dynamic>.from(tasks.map((x) => x.toJson())),\n  };\n}\n\nclass Task {\n  Task({\n    required this.completed,\n    required this.id,\n    required this.name,\n    required this.v,\n  });\n\n  bool completed;\n  String id;\n  String name;\n  int v;\n\n  factory Task.fromJson(Map<String, dynamic> json) => Task(\n    completed: json[\"completed\"],\n    id: json[\"_id\"],\n    name: json[\"name\"],\n    v: json[\"__v\"],\n  );\n\n  Map<String, dynamic> toJson() => {\n    \"completed\": completed,\n    \"_id\": id,\n    \"name\": name,\n    \"__v\": v,\n  };\n}\n",
            "import 'package:dio/dio.dart';\nimport 'package:flutter/foundation.dart';\nimport 'package:task_manager/constants/constants.dart';\nimport 'package:task_manager/models/tasks_model.dart';\n\nclass DioClient {\n  final Dio dio = Dio();\n\n  Future fetchTasks() async {\n    try{\n      final response = await dio.get(baseURL+\"/tasks\");\n      final tasks = tasksFromJson(response.data);\n      debugPrint(\"${response.data}\");\n    } on DioError catch(e){\n      debugPrint(\"StatusCode: ${e.toString()}\");\n      throw Exception(\"Failed to load Tasks\");\n    }\n  }\n}\n",
            "Error: Expected a value of type 'String', but got one of type '_JsonMap'\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 266:49      throw_\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 99:3        castError\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/operations.dart 485:10  cast\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/patch/core_patch.dart 719:17                as\npackages/task_manager/services/dio_client.dart 12:21                                                                           fetchTasks\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 45:50                <fn>\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/zone.dart 1660:54                                              runUnary\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 147:18                                        handleValue\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 767:44                                        handleValueCallback\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 796:13                                        _propagateToListeners\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 558:7                                         [_complete]\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 47:12                                         complete\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future.dart 613:44                                             onValue\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/zone.dart 1660:54                                              runUnary\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 147:18                                        handleValue\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 767:44                                        handleValueCallback\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 796:13                                        _propagateToListeners\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 567:5                                         [_completeWithValue]\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 640:7                                         callback\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/schedule_microtask.dart 40:11                                  _microtaskLoop\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/schedule_microtask.dart 49:5                                   _startMicrotaskLoop\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 166:15               <fn>\n",
            "options: Options( \n    responseType: ResponseType.plain,\n  )\n"
        ]
    },
    {
        "titulo": "Flutter error: &#39;wthrow&#39; isn&#39;t a type. &quot;wthrow noAppExists(name);&quot;",
        "score": 0,
        "views": 415,
        "respostas": 0,
        "tags": [
            "android",
            "flutter",
            "firebase",
            "dart",
            "gradle"
        ],
        "link": "https://stackoverflow.com/questions/75678574/flutter-error-wthrow-isnt-a-type-wthrow-noappexistsname",
        "conteudo_html": "<p>i'm having this problem with <code>Flutter run</code> and i don't understand. I follow firebase's intruction to add a Flutter app:</p>\n<ol>\n<li>prepare the workspace:\ninstall firebase CLI, flutter SDK and create a project.</li>\n<li>activate flutterfire_cli and conigure a project <code>flutterfire configure --project=:&lt;projectId&gt;</code></li>\n<li>initialize Firebase. In <code>main.dart</code>:</li>\n</ol>\n<pre><code>import 'package:firebase_core/firebase_core.dart';\nimport 'package:flutter/material.dart';\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  await Firebase.initializeApp(\n    options: DefaultFirebaseOptions.currentPlatform,\n  );\n  runApp(const MyApp());\n}\n</code></pre>\n<p>Aditionaly, i change minSdkVersion to 21 in android/app/build.gradle. As <a href=\"https://developer.android.com/studio/build/multidex?hl=en\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/multidex?hl=en</a> states:</p>\n<blockquote>\n<p>If your minSdkVersion is set to 21 or higher, multidex is enabled by default and you don't need the multidex library.</p>\n</blockquote>\n<p>The error is:</p>\n<pre><code>Launching lib\\main.dart on SM M305M in debug mode...\n: Error: 'wthrow' isn't a type.\n    wthrow noAppExists(name);\n    ^^^^^^\n: Error: Expected ';' after this.\n    wthrow noAppExists(name);\n           ^^^^^^^^^^^\n: Error: A non-null value must be returned since the return type 'FirebaseAppPlatform' doesn't allow null.\n\n- 'FirebaseAppPlatform' is from 'package:firebase_core_platform_interface/firebase_core_platform_interface.dart' ('../../AppData/Local/Pub/Cache/hosted/pub.dev/firebase_core_platform_interface-4.5.3/lib/firebase_core_platform_interface.dart').\n  FirebaseAppPlatform app([String name = defaultFirebaseAppName]) {\n                      ^\n\nTarget kernel_snapshot failed: Exception\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript 'C:\\sdk\\flutter\\packages\\flutter_tools\\gradle\\flutter.gradle' line: 1153\n\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuildDebug'.\n&gt; Process 'command 'C:\\sdk\\flutter\\bin\\flutter.bat'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 20s\nException: Gradle task assembleDebug failed with exit code 1\nExited (sigterm)\n</code></pre>\n<p><code>flutter doctor -v</code></p>\n<pre><code>[✓] Flutter (Channel master, 3.9.0-1.0.pre.77, on Microsoft Windows [versÆo 10.0.22000.1641], locale pt-BR)\n    • Flutter version 3.9.0-1.0.pre.77 on channel master at C:\\sdk\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 80be2bfc9f (28 hours ago), 2023-03-07 12:20:06 -0500\n    • Engine revision 4e6cbe0fc2\n    • Dart version 3.0.0 (build 3.0.0-300.0.dev)\n    • DevTools version 2.22.2\n\n[✓] Windows Version (Installed version of Windows is version 10 or higher)\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.2)\n    • Android SDK at C:\\sdk\\android\n    • Platform android-33, build-tools 33.0.2\n    • ANDROID_HOME = C:\\sdk\\android\n    • ANDROID_SDK_ROOT = C:\\sdk\\android\n    • Java binary at: C:\\sdk\\java\\jdk-11.0.2\\bin\\java\n    • Java version OpenJDK Runtime Environment 18.9 (build 11.0.2+9)\n    • All Android licenses accepted.\n\n[✓] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[✓] Visual Studio - develop for Windows (Visual Studio Community 2022 17.1.3)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.1.32328.378\n    • Windows 10 SDK version 10.0.19041.0\n\n[!] Android Studio (not installed)\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\n      (or visit https://flutter.dev/docs/get-started/install/windows#android-setup for detailed instructions).\n\n[✓] VS Code (version 1.76.0)\n    • VS Code at C:\\Users\\maste\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.60.0\n\n[✓] Connected device (4 available)\n    • SM M305M (mobile) • 3200419b4b3536e7 • android-arm64  • Android 10 (API 29)\n    • Windows (desktop) • windows          • windows-x64    • Microsoft Windows [versÆo 10.0.22000.1641]\n    • Chrome (web)      • chrome           • web-javascript • Google Chrome 110.0.5481.178\n    • Edge (web)        • edge             • web-javascript • Microsoft Edge 110.0.1587.63\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n</code></pre>\n<ul>\n<li>i don't like android studio.</li>\n</ul>\n<p>Forgot something?</p>\n",
        "codigo": [
            "Flutter run",
            "flutterfire configure --project=:<projectId>",
            "main.dart",
            "import 'package:firebase_core/firebase_core.dart';\nimport 'package:flutter/material.dart';\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  await Firebase.initializeApp(\n    options: DefaultFirebaseOptions.currentPlatform,\n  );\n  runApp(const MyApp());\n}\n",
            "Launching lib\\main.dart on SM M305M in debug mode...\n: Error: 'wthrow' isn't a type.\n    wthrow noAppExists(name);\n    ^^^^^^\n: Error: Expected ';' after this.\n    wthrow noAppExists(name);\n           ^^^^^^^^^^^\n: Error: A non-null value must be returned since the return type 'FirebaseAppPlatform' doesn't allow null.\n\n- 'FirebaseAppPlatform' is from 'package:firebase_core_platform_interface/firebase_core_platform_interface.dart' ('../../AppData/Local/Pub/Cache/hosted/pub.dev/firebase_core_platform_interface-4.5.3/lib/firebase_core_platform_interface.dart').\n  FirebaseAppPlatform app([String name = defaultFirebaseAppName]) {\n                      ^\n\nTarget kernel_snapshot failed: Exception\n\nFAILURE: Build failed with an exception.\n\n* Where:\nScript 'C:\\sdk\\flutter\\packages\\flutter_tools\\gradle\\flutter.gradle' line: 1153\n\n* What went wrong:\nExecution failed for task ':app:compileFlutterBuildDebug'.\n> Process 'command 'C:\\sdk\\flutter\\bin\\flutter.bat'' finished with non-zero exit value 1\n\n* Try:\n> Run with --stacktrace option to get the stack trace.\n> Run with --info or --debug option to get more log output.\n> Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 20s\nException: Gradle task assembleDebug failed with exit code 1\nExited (sigterm)\n",
            "flutter doctor -v",
            "[✓] Flutter (Channel master, 3.9.0-1.0.pre.77, on Microsoft Windows [versÆo 10.0.22000.1641], locale pt-BR)\n    • Flutter version 3.9.0-1.0.pre.77 on channel master at C:\\sdk\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 80be2bfc9f (28 hours ago), 2023-03-07 12:20:06 -0500\n    • Engine revision 4e6cbe0fc2\n    • Dart version 3.0.0 (build 3.0.0-300.0.dev)\n    • DevTools version 2.22.2\n\n[✓] Windows Version (Installed version of Windows is version 10 or higher)\n\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.2)\n    • Android SDK at C:\\sdk\\android\n    • Platform android-33, build-tools 33.0.2\n    • ANDROID_HOME = C:\\sdk\\android\n    • ANDROID_SDK_ROOT = C:\\sdk\\android\n    • Java binary at: C:\\sdk\\java\\jdk-11.0.2\\bin\\java\n    • Java version OpenJDK Runtime Environment 18.9 (build 11.0.2+9)\n    • All Android licenses accepted.\n\n[✓] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[✓] Visual Studio - develop for Windows (Visual Studio Community 2022 17.1.3)\n    • Visual Studio at C:\\Program Files\\Microsoft Visual Studio\\2022\\Community\n    • Visual Studio Community 2022 version 17.1.32328.378\n    • Windows 10 SDK version 10.0.19041.0\n\n[!] Android Studio (not installed)\n    • Android Studio not found; download from https://developer.android.com/studio/index.html\n      (or visit https://flutter.dev/docs/get-started/install/windows#android-setup for detailed instructions).\n\n[✓] VS Code (version 1.76.0)\n    • VS Code at C:\\Users\\maste\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.60.0\n\n[✓] Connected device (4 available)\n    • SM M305M (mobile) • 3200419b4b3536e7 • android-arm64  • Android 10 (API 29)\n    • Windows (desktop) • windows          • windows-x64    • Microsoft Windows [versÆo 10.0.22000.1641]\n    • Chrome (web)      • chrome           • web-javascript • Google Chrome 110.0.5481.178\n    • Edge (web)        • edge             • web-javascript • Microsoft Edge 110.0.1587.63\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n"
        ]
    },
    {
        "titulo": "Crashing issue with flutter apps",
        "score": 0,
        "views": 542,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75659552/crashing-issue-with-flutter-apps",
        "conteudo_html": "<p>I got crash when I open my app and this issue happened only when I download the app from google play, on\nemulaotor works fine I tried a lot of solutions but still crashing me all the time.</p>\n<p>What I tried:</p>\n<ul>\n<li>I have add ndk to android/app/grandle.</li>\n<li>multiDexEnabled true.</li>\n<li>Invalidate caches.</li>\n<li>flutter clean.</li>\n<li>Changed package name by change_app_package_name package.</li>\n<li>Updated the packages to latest version.</li>\n<li>Update dependencies to latest version.</li>\n</ul>\n<p>When I changed package name I got another error on google play console says:</p>\n<pre><code>com.example.appname.MainActivity.onCreate\n</code></pre>\n<p>This video describe my problem (Not mine):</p>\n<p><a href=\"https://www.youtube.com/watch?v=oYUagh35q\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=oYUagh35q</a></p>\n<p><strong>Full error message from google play console:</strong></p>\n<pre><code>Exception java.lang.RuntimeException:\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:4169)\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:4325)\n  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:101)\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2574)\n  at android.os.Handler.dispatchMessage (Handler.java:106)\n  at android.os.Looper.loopOnce (Looper.java:226)\n  at android.os.Looper.loop (Looper.java:313)\n  at android.app.ActivityThread.main (ActivityThread.java:8757)\n  at java.lang.reflect.Method.invoke (Method.java)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:571)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1067)\nCaused by java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libflutter.so&quot; not found\n  at io.flutter.embedding.engine.loader.FlutterLoader.ensureInitializationComplete (FlutterLoader.java)\n  at io.flutter.embedding.engine.FlutterEngine.&lt;init&gt; (FlutterEngine.java)\n  at io.flutter.embedding.engine.FlutterEngine.&lt;init&gt; (FlutterEngine.java)\n  at io.flutter.embedding.android.FlutterActivityAndFragmentDelegate.setupFlutterEngine (FlutterActivityAndFragmentDelegate.java)\n  at io.flutter.embedding.android.FlutterActivityAndFragmentDelegate.onAttach (FlutterActivityAndFragmentDelegate.java)\n  at io.flutter.embedding.android.FlutterActivity.onCreate (FlutterActivity.java)\n  at com.example.appname.MainActivity.onCreate (MainActivity.java)\n  at android.app.Activity.performCreate (Activity.java:8591)\n  at android.app.Activity.performCreate (Activity.java:8570)\n  at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1384)\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:4150)\nCaused by java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libflutter.so&quot; not found\n  at java.util.concurrent.FutureTask.report (FutureTask.java:122)\n  at java.util.concurrent.FutureTask.get (FutureTask.java:191)\n  at io.flutter.embedding.engine.loader.FlutterLoader.ensureInitializationComplete (FlutterLoader.java)\nCaused by java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libflutter.so&quot; not found\n  at java.lang.Runtime.loadLibrary0 (Runtime.java:1077)\n  at java.lang.Runtime.loadLibrary0 (Runtime.java:998)\n  at java.lang.System.loadLibrary (System.java:1661)\n  at io.flutter.embedding.engine.FlutterJNI.loadLibrary (FlutterJNI.java)\n  at io.flutter.embedding.engine.loader.FlutterLoader$1.call (FlutterLoader.java)\n  at io.flutter.embedding.engine.loader.FlutterLoader$1.call (FlutterLoader.java)\n  at java.util.concurrent.FutureTask.run (FutureTask.java:264)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1137)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:637)\n  at java.lang.Thread.run (Thread.java:1012)\n</code></pre>\n<p><strong>app\\build.gradle:</strong></p>\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\napply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\napply plugin: 'kotlin-android'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n    compileSdkVersion 33\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId &quot;com.example.appname&quot;\n        minSdkVersion 21\n        targetSdkVersion 33\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        multiDexEnabled true\n    }\n\n    signingConfigs {\n        release {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n            storePassword keystoreProperties['storePassword']\n        }\n    } //Added\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            shrinkResources false\n            minifyEnabled true // it was false\n            signingConfig signingConfigs.release\n            ndk {\n                abiFilters 'armeabi-v7a','arm64-v8a','x86','x86_64'\n            }\n        }\n    }\n\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation platform('com.google.firebase:firebase-bom:31.2.3') \n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.google.firebase:firebase-appcheck-debug:16.1.2' \n    implementation 'com.google.android.gms:play-services-ads:21.5.0' \n    implementation 'com.google.firebase:firebase-analytics-ktx'\n}\n</code></pre>\n<p><strong>android\\build.gradle:</strong></p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.6.21' //1.5.10\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.2.2' //7.2.1\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradleplugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.3.15'\n    }\n}\n\ngradle.projectsEvaluated {\n    tasks.withType(JavaCompile){\n        options.compilerArgs &lt;&lt; &quot;-Xlint:deprecation&quot;\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>pubspec.yaml file:</strong></p>\n<pre><code>name: name_app\ndescription: A new Flutter project.\n\n\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\nversion: 1.0.0+11\n\nenvironment:\n  sdk: &quot;&gt;=2.12.0 &lt;3.0.0&quot;\n\n\ndependencies:\n  flutter:\n    sdk: flutter\n  get: ^4.6.5\n  firebase_core: ^2.7.1\n  firebase_auth: ^4.2.10\n  cloud_firestore: ^4.4.4\n  emoji_picker_flutter: ^1.5.2\n  uuid: ^3.0.7\n  image_picker: ^0.8.6+4\n  image_cropper: ^1.4.1\n  firebase_storage: ^11.0.15\n  cupertino_icons: ^1.0.5\n  firebase_app_check: ^0.1.1+13\n  fluttertoast: ^8.2.1\n  path: ^1.8.2\n  file_picker: ^5.2.5\n  rename: ^2.1.1\n  permission_handler: ^10.2.0\n  video_player: ^2.5.3\n  just_audio: ^0.9.31\n  record_mp3: ^3.0.0\n  stream_chat_flutter: ^4.4.1\n  audio_video_progress_bar: ^1.0.0\n  chat_bubbles: ^1.3.1\n  firebase_analytics: ^10.1.5\n  connectivity_plus: ^2.3.6+1\n  flutter_linkify: ^5.0.2\n  google_mobile_ads: ^2.3.0\n  swipe_to: ^1.0.2\n  chewie: ^1.4.0\n  flutter_pdfview: ^1.2.5\n  http: ^0.13.5\n  path_provider: ^2.0.13\n  giphy_picker: ^3.0.1\n  gallery_saver: ^2.3.2\n  dio: ^4.0.6\n  qr_flutter: ^4.0.0\n  flutter_speed_dial: ^6.2.0\n  flutter_chat_bubble: ^2.0.2\n  geolocator: ^9.0.2\n  cached_network_image: ^3.2.3\n  video_thumbnail: ^0.5.3\n  voice_message_package: ^0.0.74\n  external_path: ^1.0.3\n  photo_view: ^0.14.0\n  flutter_barcode_scanner: ^2.0.0\n  change_app_package_name: ^1.1.0\n\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  flutter_launcher_icons: ^0.12.0\n\nflutter_icons:\n  android: true\n  ios: true\n  image_path: &quot;assets/logo.png&quot;\n\n  flutter_lints: ^2.0.1\n\nflutter:\n\n  uses-material-design: true\n\n  assets:\n    - assets/verify.gif\n    - assets/search.gif\n    - assets/search2.gif\n\n  fonts:\n     - family: Schyler\n       fonts:\n         - asset: assets/DancingScript.ttf\n</code></pre>\n<p><strong>AndroidManifest.xml:</strong></p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.appname&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot;/&gt;\n....\n\n    &lt;application\n       android:requestLegacyExternalStorage=&quot;true&quot;\n       android:usesCleartextTraffic=&quot;true&quot;\n        android:label=&quot;AppName&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:launchMode=&quot;singleTop&quot;\n            android:theme=&quot;@style/LaunchTheme&quot;\n            android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\n            android:hardwareAccelerated=&quot;true&quot;\n            android:windowSoftInputMode=&quot;adjustResize&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;meta-data\n              android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\n              android:resource=&quot;@style/NormalTheme&quot;/&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;FLUTTER_NOTIFICATION_CLICK&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n       &lt;activity\n           android:name=&quot;com.yalantis.ucrop.UCropActivity&quot;\n           android:screenOrientation=&quot;portrait&quot;\n           android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;/&gt;\n        &lt;!-- Don't delete the meta-data below.\n             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\n        &lt;meta-data\n            android:name=&quot;flutterEmbedding&quot;\n            android:value=&quot;2&quot; /&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>There is a message on MainActivity.kt:</strong></p>\n<p><a href=\"https://i.sstatic.net/dTs4q.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/dTs4q.jpg\" alt=\"MainActivity.kt\" /></a></p>\n<p><strong>I'm getting the .aab file from android/app/release is this associated with this issue?.</strong></p>\n<p><strong>Help please I tried 7 days to fix that issue.</strong></p>\n",
        "codigo": [
            "com.example.appname.MainActivity.onCreate\n",
            "Exception java.lang.RuntimeException:\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:4169)\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:4325)\n  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:101)\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2574)\n  at android.os.Handler.dispatchMessage (Handler.java:106)\n  at android.os.Looper.loopOnce (Looper.java:226)\n  at android.os.Looper.loop (Looper.java:313)\n  at android.app.ActivityThread.main (ActivityThread.java:8757)\n  at java.lang.reflect.Method.invoke (Method.java)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:571)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1067)\nCaused by java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dlopen failed: library \"libflutter.so\" not found\n  at io.flutter.embedding.engine.loader.FlutterLoader.ensureInitializationComplete (FlutterLoader.java)\n  at io.flutter.embedding.engine.FlutterEngine.<init> (FlutterEngine.java)\n  at io.flutter.embedding.engine.FlutterEngine.<init> (FlutterEngine.java)\n  at io.flutter.embedding.android.FlutterActivityAndFragmentDelegate.setupFlutterEngine (FlutterActivityAndFragmentDelegate.java)\n  at io.flutter.embedding.android.FlutterActivityAndFragmentDelegate.onAttach (FlutterActivityAndFragmentDelegate.java)\n  at io.flutter.embedding.android.FlutterActivity.onCreate (FlutterActivity.java)\n  at com.example.appname.MainActivity.onCreate (MainActivity.java)\n  at android.app.Activity.performCreate (Activity.java:8591)\n  at android.app.Activity.performCreate (Activity.java:8570)\n  at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1384)\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:4150)\nCaused by java.util.concurrent.ExecutionException: java.lang.UnsatisfiedLinkError: dlopen failed: library \"libflutter.so\" not found\n  at java.util.concurrent.FutureTask.report (FutureTask.java:122)\n  at java.util.concurrent.FutureTask.get (FutureTask.java:191)\n  at io.flutter.embedding.engine.loader.FlutterLoader.ensureInitializationComplete (FlutterLoader.java)\nCaused by java.lang.UnsatisfiedLinkError: dlopen failed: library \"libflutter.so\" not found\n  at java.lang.Runtime.loadLibrary0 (Runtime.java:1077)\n  at java.lang.Runtime.loadLibrary0 (Runtime.java:998)\n  at java.lang.System.loadLibrary (System.java:1661)\n  at io.flutter.embedding.engine.FlutterJNI.loadLibrary (FlutterJNI.java)\n  at io.flutter.embedding.engine.loader.FlutterLoader$1.call (FlutterLoader.java)\n  at io.flutter.embedding.engine.loader.FlutterLoader$1.call (FlutterLoader.java)\n  at java.util.concurrent.FutureTask.run (FutureTask.java:264)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1137)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:637)\n  at java.lang.Thread.run (Thread.java:1012)\n",
            "def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader ->\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(\"Flutter SDK not found. Define location with flutter.sdk in the local.properties file.\")\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\napply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\napply plugin: 'kotlin-android'\napply from: \"$flutterRoot/packages/flutter_tools/gradle/flutter.gradle\"\n\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\nandroid {\n    compileSdkVersion 33\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        applicationId \"com.example.appname\"\n        minSdkVersion 21\n        targetSdkVersion 33\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        multiDexEnabled true\n    }\n\n    signingConfigs {\n        release {\n            keyAlias keystoreProperties['keyAlias']\n            keyPassword keystoreProperties['keyPassword']\n            storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n            storePassword keystoreProperties['storePassword']\n        }\n    } //Added\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            shrinkResources false\n            minifyEnabled true // it was false\n            signingConfig signingConfigs.release\n            ndk {\n                abiFilters 'armeabi-v7a','arm64-v8a','x86','x86_64'\n            }\n        }\n    }\n\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation platform('com.google.firebase:firebase-bom:31.2.3') \n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.google.firebase:firebase-appcheck-debug:16.1.2' \n    implementation 'com.google.android.gms:play-services-ads:21.5.0' \n    implementation 'com.google.firebase:firebase-analytics-ktx'\n}\n",
            "buildscript {\n    ext.kotlin_version = '1.6.21' //1.5.10\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.2.2' //7.2.1\n        classpath \"org.jetbrains.kotlin:kotlin-gradleplugin:$kotlin_version\"\n        classpath 'com.google.gms:google-services:4.3.15'\n    }\n}\n\ngradle.projectsEvaluated {\n    tasks.withType(JavaCompile){\n        options.compilerArgs << \"-Xlint:deprecation\"\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n",
            "name: name_app\ndescription: A new Flutter project.\n\n\npublish_to: 'none' # Remove this line if you wish to publish to pub.dev\n\nversion: 1.0.0+11\n\nenvironment:\n  sdk: \">=2.12.0 <3.0.0\"\n\n\ndependencies:\n  flutter:\n    sdk: flutter\n  get: ^4.6.5\n  firebase_core: ^2.7.1\n  firebase_auth: ^4.2.10\n  cloud_firestore: ^4.4.4\n  emoji_picker_flutter: ^1.5.2\n  uuid: ^3.0.7\n  image_picker: ^0.8.6+4\n  image_cropper: ^1.4.1\n  firebase_storage: ^11.0.15\n  cupertino_icons: ^1.0.5\n  firebase_app_check: ^0.1.1+13\n  fluttertoast: ^8.2.1\n  path: ^1.8.2\n  file_picker: ^5.2.5\n  rename: ^2.1.1\n  permission_handler: ^10.2.0\n  video_player: ^2.5.3\n  just_audio: ^0.9.31\n  record_mp3: ^3.0.0\n  stream_chat_flutter: ^4.4.1\n  audio_video_progress_bar: ^1.0.0\n  chat_bubbles: ^1.3.1\n  firebase_analytics: ^10.1.5\n  connectivity_plus: ^2.3.6+1\n  flutter_linkify: ^5.0.2\n  google_mobile_ads: ^2.3.0\n  swipe_to: ^1.0.2\n  chewie: ^1.4.0\n  flutter_pdfview: ^1.2.5\n  http: ^0.13.5\n  path_provider: ^2.0.13\n  giphy_picker: ^3.0.1\n  gallery_saver: ^2.3.2\n  dio: ^4.0.6\n  qr_flutter: ^4.0.0\n  flutter_speed_dial: ^6.2.0\n  flutter_chat_bubble: ^2.0.2\n  geolocator: ^9.0.2\n  cached_network_image: ^3.2.3\n  video_thumbnail: ^0.5.3\n  voice_message_package: ^0.0.74\n  external_path: ^1.0.3\n  photo_view: ^0.14.0\n  flutter_barcode_scanner: ^2.0.0\n  change_app_package_name: ^1.1.0\n\n\ndev_dependencies:\n  flutter_test:\n    sdk: flutter\n  flutter_launcher_icons: ^0.12.0\n\nflutter_icons:\n  android: true\n  ios: true\n  image_path: \"assets/logo.png\"\n\n  flutter_lints: ^2.0.1\n\nflutter:\n\n  uses-material-design: true\n\n  assets:\n    - assets/verify.gif\n    - assets/search.gif\n    - assets/search2.gif\n\n  fonts:\n     - family: Schyler\n       fonts:\n         - asset: assets/DancingScript.ttf\n",
            "<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.appname\">\n    <uses-permission android:name=\"android.permission.WAKE_LOCK\"/>\n    <uses-permission android:name=\"android.permission.INTERNET\"/>\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/>\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/>\n    <uses-permission android:name=\"android.permission.RECORD_AUDIO\"/>\n....\n\n    <application\n       android:requestLegacyExternalStorage=\"true\"\n       android:usesCleartextTraffic=\"true\"\n        android:label=\"AppName\"\n        android:icon=\"@mipmap/ic_launcher\">\n        <activity\n            android:name=\".MainActivity\"\n            android:launchMode=\"singleTop\"\n            android:theme=\"@style/LaunchTheme\"\n            android:configChanges=\"orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode\"\n            android:hardwareAccelerated=\"true\"\n            android:windowSoftInputMode=\"adjustResize\"\n            android:exported=\"true\">\n            <meta-data\n              android:name=\"io.flutter.embedding.android.NormalTheme\"\n              android:resource=\"@style/NormalTheme\"/>\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\"/>\n                <category android:name=\"android.intent.category.LAUNCHER\"/>\n            </intent-filter>\n            <intent-filter>\n                <action android:name=\"FLUTTER_NOTIFICATION_CLICK\"/>\n                <category android:name=\"android.intent.category.DEFAULT\"/>\n            </intent-filter>\n        </activity>\n       <activity\n           android:name=\"com.yalantis.ucrop.UCropActivity\"\n           android:screenOrientation=\"portrait\"\n           android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"/>\n        <!-- Don't delete the meta-data below.\n             This is used by the Flutter tool to generate GeneratedPluginRegistrant.java -->\n        <meta-data\n            android:name=\"flutterEmbedding\"\n            android:value=\"2\" />\n    </application>\n</manifest>\n"
        ]
    },
    {
        "titulo": "How to remove unwanted Charactor in string dart",
        "score": 0,
        "views": 78,
        "respostas": 3,
        "tags": [
            "flutter",
            "dart",
            "dart-pub"
        ],
        "link": "https://stackoverflow.com/questions/75646891/how-to-remove-unwanted-charactor-in-string-dart",
        "conteudo_html": "<p>I am confusing some string conversion in dart.</p>\n<pre><code>for example = String Stringsample = &quot;['2022-11-24', '2022-11-30']&quot;;\n</code></pre>\n<p>Stringsample is String, not a List, so i want to get two item in this String, how to do that,</p>\n<pre><code>Expecting output be like:\n  String str1 = '2022-11-24',\n String str2 = '2022-11-30',\n</code></pre>\n<p>How to do that, i am stucking this conversion, Please add your valuable replays</p>\n",
        "codigo": [
            "for example = String Stringsample = \"['2022-11-24', '2022-11-30']\";\n",
            "Expecting output be like:\n  String str1 = '2022-11-24',\n String str2 = '2022-11-30',\n"
        ]
    },
    {
        "titulo": "Flutter test using Mockito - when API for register stub doesn&#39;t work",
        "score": 1,
        "views": 1238,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "testing",
            "mockito"
        ],
        "link": "https://stackoverflow.com/questions/75630643/flutter-test-using-mockito-when-api-for-register-stub-doesnt-work",
        "conteudo_html": "<p>I'm posting this question because this behavior seems very strange to me!\nI ain't an expert on mockito, so this may be only my error.</p>\n<pre><code>@GenerateMocks([AuthProvider])\nvoid main() {\n  test('If there is not a valid session, the data are clean', () async {\n    UserDataProvider provider = UserDataProvider();\n    MockAuthProvider mock = MockAuthProvider();\n\n    when(mock.isLoggedIn).thenReturn(false);\n\n    await provider.update(MockAuthProvider());\n    expect((await provider.joinedCommunities).isEmpty, true);\n  });\n}\n</code></pre>\n<p>An exception is thrown</p>\n<pre><code>package:mockito/src/mock.dart 191:7                      Mock._noSuchMethod\npackage:mockito/src/mock.dart 185:45                     Mock.noSuchMethod\ntest/provider/user_data_provider_test.mocks.dart 59:33   MockAuthProvider.isLoggedIn\npackage:unimeet/providers/user_data_provider.dart 22:22  UserDataProvider.update\ntest/provider/user_data_provider_test.dart 17:20         main.&lt;fn&gt;\n\nMissingStubError: 'isLoggedIn'\nNo stub was found which matches the arguments of this method call:\nisLoggedIn\n\nAdd a stub for this method using Mockito's 'when' API, or generate the MockAuthProvider mock with the @GenerateNiceMocks annotation (see https://pub.dev/documentation/mockito/latest/annotations/MockSpec-class.html).\n</code></pre>\n<p>As you can see I'm trying to register a return value for a simple getter but an exception is thrown.</p>\n<p>Let me know and thank you</p>\n",
        "codigo": [
            "@GenerateMocks([AuthProvider])\nvoid main() {\n  test('If there is not a valid session, the data are clean', () async {\n    UserDataProvider provider = UserDataProvider();\n    MockAuthProvider mock = MockAuthProvider();\n\n    when(mock.isLoggedIn).thenReturn(false);\n\n    await provider.update(MockAuthProvider());\n    expect((await provider.joinedCommunities).isEmpty, true);\n  });\n}\n",
            "package:mockito/src/mock.dart 191:7                      Mock._noSuchMethod\npackage:mockito/src/mock.dart 185:45                     Mock.noSuchMethod\ntest/provider/user_data_provider_test.mocks.dart 59:33   MockAuthProvider.isLoggedIn\npackage:unimeet/providers/user_data_provider.dart 22:22  UserDataProvider.update\ntest/provider/user_data_provider_test.dart 17:20         main.<fn>\n\nMissingStubError: 'isLoggedIn'\nNo stub was found which matches the arguments of this method call:\nisLoggedIn\n\nAdd a stub for this method using Mockito's 'when' API, or generate the MockAuthProvider mock with the @GenerateNiceMocks annotation (see https://pub.dev/documentation/mockito/latest/annotations/MockSpec-class.html).\n"
        ]
    },
    {
        "titulo": "Before that I faced + - the same problem helped as List&lt;dynamic&gt;, but it doesn&#39;t help in this case",
        "score": 0,
        "views": 24,
        "respostas": 1,
        "tags": [
            "json",
            "flutter",
            "rest",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75630308/before-that-i-faced-the-same-problem-helped-as-listdynamic-but-it-doesnt",
        "conteudo_html": "<p>I'm trying to to call HTTP API to show the information of products</p>\n<pre><code> Future&lt;void&gt; getProblem() async {\n    final responce = await dio.get('https://localhost:7050/api/Problem/1',\n        options: Options(\n          headers: {&quot;content-type&quot;: &quot;application/json&quot;},\n        ));\n    final problemsJsonList = responce.data as List&lt;dynamic&gt;;\n    final problem =\n    problemsJsonList.map((e) =&gt; ProblemWithCommentModel.fromJson(e)).toList();\n    print(problem);\n\n  }\n</code></pre>\n<p>its used models</p>\n<pre><code>part 'ProblemWithCommentModel.g.dart';\n\n@JsonSerializable()\nclass ProblemWithCommentModel\n{\n  final String userName;\n  final int id;\n  final int userId;\n  final String name;\n  final String about;\n  final String date;\n\n  List&lt;Comments&gt; comments;\n\n  ProblemWithCommentModel({\n    required this.userName,\n    required this.id,\n    required this.userId,\n    required this.name,\n    required this.about,\n    required this.comments,\n    required this.date,\n\n\n  });\n\n\n\n\n\n\n  factory ProblemWithCommentModel.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$ProblemWithCommentModelFromJson(json);\n\n  Map&lt;String, dynamic&gt; toJson() =&gt; _$ProblemWithCommentModelToJson(this);\n\n\n\nProblemWithCommentModel _$ProblemWithCommentModelFromJson(\n        Map&lt;String, dynamic&gt; json) =&gt;\n    ProblemWithCommentModel(\n      userName: json['userName'] as String,\n      id: json['id'] as int,\n      userId: json['userId'] as int,\n      name: json['name'] as String,\n      about: json['about'] as String,\n      comments: (json['comments'] as List&lt;dynamic&gt;)\n          .map((e) =&gt; Comments.fromJson(e as Map&lt;String, dynamic&gt;))\n          .toList(),\n      date: json['date'] as String,\n    );\n\nMap&lt;String, dynamic&gt; _$ProblemWithCommentModelToJson(\n        ProblemWithCommentModel instance) =&gt;\n    &lt;String, dynamic&gt;{\n      'userName': instance.userName,\n      'id': instance.id,\n      'userId': instance.userId,\n      'name': instance.name,\n      'about': instance.about,\n      'date': instance.date,\n      'comments': instance.comments,\n    };\n\n\n\n}```\n\n\n\n```\n\nclass Comments\n{\n  final String userName;\n  final int id;\n  final int userId;\n  final int problemId;\n  final String about;\n  final String date;\n\n\n  Comments({\n    required this.userName,\n    required this.id,\n    required this.userId,\n    required this.problemId,\n    required this.about,\n    required this.date,\n});\n\n  factory Comments.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$CommentsFromJson(json);\n\n  Map&lt;String, dynamic&gt; toJson() =&gt; _$CommentsToJson(this);\n\n\n\n\npart of 'Comments.dart';\n\n// **************************************************************************\n// JsonSerializableGenerator\n// **************************************************************************\n\nComments _$CommentsFromJson(Map&lt;String, dynamic&gt; json) =&gt; Comments(\n      userName: json['userName'] as String,\n      id: json['id'] as int,\n      userId: json['userId'] as int,\n      problemId: json['problemId'] as int,\n      about: json['about'] as String,\n      date: json['date'] as String,\n    );\n\nMap&lt;String, dynamic&gt; _$CommentsToJson(Comments instance) =&gt; &lt;String, dynamic&gt;{\n      'userName': instance.userName,\n      'id': instance.id,\n      'userId': instance.userId,\n      'problemId': instance.problemId,\n      'about': instance.about,\n      'date': instance.date,\n    };\n\n}```\n`\n\n\n\nError: Expected a value of type 'List&lt;dynamic&gt;', but got one of type '_JsonMap'\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 266:49      throw_\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 99:3        castError\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/operations.dart 452:10  cast\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/classes.dart 635:14     as_C\npackages/auth/page_of_problem.dart 25:44                                                                                       getProblem\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 45:50                &lt;fn&gt;\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/zone.dart 1653:54                                              runUnary\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 147:18                                        handleValue\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 766:44                                        handleValueCallback\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 795:13                                        _propagateToListeners\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 557:7                                         [_complete]\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 47:12                                         complete\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future.dart 613:44                                             onValue\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/zone.dart 1653:54                                              runUnary\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 147:18                                        handleValue\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 766:44                                        handleValueCallback\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 795:13                                        _propagateToListeners\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 566:5                                         [_completeWithValue]\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 639:7                                         callback\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/schedule_microtask.dart 40:11                                  _microtaskLoop\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/schedule_microtask.dart 49:5                                   _startMicrotaskLoop\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 166:15               &lt;fn&gt;\n\n\n\n\n\nI need list of PromlemWitchComments\n</code></pre>\n",
        "codigo": [
            " Future<void> getProblem() async {\n    final responce = await dio.get('https://localhost:7050/api/Problem/1',\n        options: Options(\n          headers: {\"content-type\": \"application/json\"},\n        ));\n    final problemsJsonList = responce.data as List<dynamic>;\n    final problem =\n    problemsJsonList.map((e) => ProblemWithCommentModel.fromJson(e)).toList();\n    print(problem);\n\n  }\n",
            "part 'ProblemWithCommentModel.g.dart';\n\n@JsonSerializable()\nclass ProblemWithCommentModel\n{\n  final String userName;\n  final int id;\n  final int userId;\n  final String name;\n  final String about;\n  final String date;\n\n  List<Comments> comments;\n\n  ProblemWithCommentModel({\n    required this.userName,\n    required this.id,\n    required this.userId,\n    required this.name,\n    required this.about,\n    required this.comments,\n    required this.date,\n\n\n  });\n\n\n\n\n\n\n  factory ProblemWithCommentModel.fromJson(Map<String, dynamic> json) => _$ProblemWithCommentModelFromJson(json);\n\n  Map<String, dynamic> toJson() => _$ProblemWithCommentModelToJson(this);\n\n\n\nProblemWithCommentModel _$ProblemWithCommentModelFromJson(\n        Map<String, dynamic> json) =>\n    ProblemWithCommentModel(\n      userName: json['userName'] as String,\n      id: json['id'] as int,\n      userId: json['userId'] as int,\n      name: json['name'] as String,\n      about: json['about'] as String,\n      comments: (json['comments'] as List<dynamic>)\n          .map((e) => Comments.fromJson(e as Map<String, dynamic>))\n          .toList(),\n      date: json['date'] as String,\n    );\n\nMap<String, dynamic> _$ProblemWithCommentModelToJson(\n        ProblemWithCommentModel instance) =>\n    <String, dynamic>{\n      'userName': instance.userName,\n      'id': instance.id,\n      'userId': instance.userId,\n      'name': instance.name,\n      'about': instance.about,\n      'date': instance.date,\n      'comments': instance.comments,\n    };\n\n\n\n}```\n\n\n\n```\n\nclass Comments\n{\n  final String userName;\n  final int id;\n  final int userId;\n  final int problemId;\n  final String about;\n  final String date;\n\n\n  Comments({\n    required this.userName,\n    required this.id,\n    required this.userId,\n    required this.problemId,\n    required this.about,\n    required this.date,\n});\n\n  factory Comments.fromJson(Map<String, dynamic> json) => _$CommentsFromJson(json);\n\n  Map<String, dynamic> toJson() => _$CommentsToJson(this);\n\n\n\n\npart of 'Comments.dart';\n\n// **************************************************************************\n// JsonSerializableGenerator\n// **************************************************************************\n\nComments _$CommentsFromJson(Map<String, dynamic> json) => Comments(\n      userName: json['userName'] as String,\n      id: json['id'] as int,\n      userId: json['userId'] as int,\n      problemId: json['problemId'] as int,\n      about: json['about'] as String,\n      date: json['date'] as String,\n    );\n\nMap<String, dynamic> _$CommentsToJson(Comments instance) => <String, dynamic>{\n      'userName': instance.userName,\n      'id': instance.id,\n      'userId': instance.userId,\n      'problemId': instance.problemId,\n      'about': instance.about,\n      'date': instance.date,\n    };\n\n}```\n`\n\n\n\nError: Expected a value of type 'List<dynamic>', but got one of type '_JsonMap'\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 266:49      throw_\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/errors.dart 99:3        castError\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/operations.dart 452:10  cast\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/private/ddc_runtime/classes.dart 635:14     as_C\npackages/auth/page_of_problem.dart 25:44                                                                                       getProblem\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 45:50                <fn>\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/zone.dart 1653:54                                              runUnary\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 147:18                                        handleValue\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 766:44                                        handleValueCallback\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 795:13                                        _propagateToListeners\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 557:7                                         [_complete]\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 47:12                                         complete\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future.dart 613:44                                             onValue\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/zone.dart 1653:54                                              runUnary\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 147:18                                        handleValue\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 766:44                                        handleValueCallback\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 795:13                                        _propagateToListeners\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 566:5                                         [_completeWithValue]\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/future_impl.dart 639:7                                         callback\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/schedule_microtask.dart 40:11                                  _microtaskLoop\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/async/schedule_microtask.dart 49:5                                   _startMicrotaskLoop\nC:/b/s/w/ir/cache/builder/src/out/host_debug/dart-sdk/lib/_internal/js_dev_runtime/patch/async_patch.dart 166:15               <fn>\n\n\n\n\n\nI need list of PromlemWitchComments\n"
        ]
    },
    {
        "titulo": "Append and hash two Strings as Hex with sha256 in Dart(Flutter)",
        "score": 0,
        "views": 1139,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "sha256"
        ],
        "link": "https://stackoverflow.com/questions/75627062/append-and-hash-two-strings-as-hex-with-sha256-in-dartflutter",
        "conteudo_html": "<p>I have this function in JavaScript and I want to have the same functionality in my Flutter App, but I can't find something similar:</p>\n<pre><code>const {createHash} = require(&quot;crypto&quot;)\n\nconst secret = &quot;&lt;SomeSecretHexNumbers&gt;&quot;\nlet id = 123456789\nlet idHex = id.toString(16)\n\nif (idHex.length % 2 != 0) {\n    idHex = &quot;0&quot; + idHex\n}\n\nlet hash = createHash(&quot;sha256&quot;)\nhash.update(Buffer.from(idHex, &quot;hex&quot;))\nhash.update(Buffer.from(secret, &quot;hex&quot;))\n\nconst expectedHash = hash.digest(&quot;hex&quot;)\n\nconsole.log(&quot;Hash: &quot; + expectedHash)\n</code></pre>\n<p>I tried to do this in Dart but I couldn't find a way to do it.</p>\n",
        "codigo": [
            "const {createHash} = require(\"crypto\")\n\nconst secret = \"<SomeSecretHexNumbers>\"\nlet id = 123456789\nlet idHex = id.toString(16)\n\nif (idHex.length % 2 != 0) {\n    idHex = \"0\" + idHex\n}\n\nlet hash = createHash(\"sha256\")\nhash.update(Buffer.from(idHex, \"hex\"))\nhash.update(Buffer.from(secret, \"hex\"))\n\nconst expectedHash = hash.digest(\"hex\")\n\nconsole.log(\"Hash: \" + expectedHash)\n"
        ]
    },
    {
        "titulo": "error in dart constructors can&#39;t have a return type",
        "score": 0,
        "views": 203,
        "respostas": 1,
        "tags": [
            "android-studio",
            "dart",
            "void"
        ],
        "link": "https://stackoverflow.com/questions/75624572/error-in-dart-constructors-cant-have-a-return-type",
        "conteudo_html": "<p>it is my code:</p>\n<pre><code>// import 'package:calculator/add.dart';\n// import 'package:calculator/divide.dart';\n// import 'package:calculator/multiple.dart';\n// import 'package:calculator/subtract.dart';\nimport 'package:calculator/calculator.dart';\n//top level or global variable\nint number = 5;\nclass test{\n    int a = 10; //instance variable\n    static int b = 20; //static variables\n    # void test(){\n    print(number);\n    }\n}\nvoid main(List\\&lt;String\\&gt; arguments){\n    int local1 = 30; //definition local variables\n    print(number);\n    print(add(2, 3));\n    print(divide(100, 10));\n    print(multiple(2, 10));\n    print(subtract(90, 9));\n    }`end of code`\n</code></pre>\n<p>when I use void test(){ the Dart Analysis get error with this text: &quot;constructors can't have a return type.&quot;\nwhat is my mistake?\nI try type code in android studio in dart programming language</p>\n",
        "codigo": [
            "// import 'package:calculator/add.dart';\n// import 'package:calculator/divide.dart';\n// import 'package:calculator/multiple.dart';\n// import 'package:calculator/subtract.dart';\nimport 'package:calculator/calculator.dart';\n//top level or global variable\nint number = 5;\nclass test{\n    int a = 10; //instance variable\n    static int b = 20; //static variables\n    # void test(){\n    print(number);\n    }\n}\nvoid main(List\\<String\\> arguments){\n    int local1 = 30; //definition local variables\n    print(number);\n    print(add(2, 3));\n    print(divide(100, 10));\n    print(multiple(2, 10));\n    print(subtract(90, 9));\n    }`end of code`\n"
        ]
    },
    {
        "titulo": "How to properly pass the data to a dio post request?",
        "score": 0,
        "views": 2693,
        "respostas": 0,
        "tags": [
            "flutter",
            "rest",
            "dart",
            "http",
            "dio"
        ],
        "link": "https://stackoverflow.com/questions/75618160/how-to-properly-pass-the-data-to-a-dio-post-request",
        "conteudo_html": "<p>I have a problem where anything I pass in the <code>data</code> of a <code>post</code> request in <code>dio</code> is not being received or is null. But I checked and printed in and it has values. I tried the link in postman but the request goes through nicely. I tried many ways like <code>json.encode,</code> <code>jsonEncode</code>, <code>FormData.fromMap()</code>, or even just the manual and hard coded way of data inpu like <code>{'first_name': 'sample',...}</code>. I used the same toJson() method in the http request and it works fine but when I used it in dio it returns error 400</p>\n<p>here is the dio function:</p>\n<pre><code>Future&lt;User?&gt; registerUser({required User user}) async {\n    User? retrievedUser;\n\n    try {\n      Response response = await _dio.post(\n        'http://localhost/api/v1/index.php/registration',\n        data:  user.toJson(), // THIS RETURNS STATUS CODE 400 AND IS SAID TO BE NULL\n        // I TRIED:\n        // user.toJson()\n        // jsonEncode(user.toJson())\n        // json.encode(user.toJson())\n        // FormData.fromMap(user.toJson())\n        // FormData.fromMap(json.encode(user.toJson()))\n        // I tried even the manual way like {'first_name': 'sample',...}\n        // i also enclosed it in json encode but still the same error\n\n      );\n\n      print('User created: ${response.data}');\n\n      retrievedUser = User.fromJson(response.data);\n    } catch (e) {\n      print('Error creating user: $e');\n    }\n\n    return retrievedUser;\n  }\n</code></pre>\n<p>Here is how I use the function:</p>\n<pre><code>               FilledButton(\n                  onPressed: () async {\n                    User userInfo = User(\n                      firstName: firstNameController.text,\n                      lastName: lastNameController.text,\n                      birthday: birthdayController.text,\n                      gender: genderController.text,\n                      mobile: mobileController.text,\n                    );\n\n                    User? retrievedUser = await registerUser(user: userInfo);\n\n                    print(retrievedUser);\n                    // if (_formKey.currentState!.validate()) {\n\n                    // }\n\n                    // Navigator.push(\n                    //   context,\n                    //   MaterialPageRoute(\n                    //     builder: (context) =&gt; const Login(),\n                    //   ),\n                    // );\n                  },\n                  child: const Text(\n                    'Register',\n                  ),\n                ),\n</code></pre>\n<p>For extra information here is the model I use now it is with JsonSerializable but it still doesn't work for me:</p>\n<pre><code>import 'package:json_annotation/json_annotation.dart';\n\npart 'user.g.dart';\n\n@JsonSerializable()\nclass User {\n  String firstName;\n  String lastName;\n  String birthday;\n  String gender;\n  String mobile;\n\n  User(\n      {required this.firstName,\n      required this.lastName,\n      required this.birthday,\n      required this.gender,\n      required this.mobile});\n\n  factory User.fromJson(Map&lt;String, dynamic&gt; json) =&gt; _$UserFromJson(json);\n  Map&lt;String, dynamic&gt; toJson() =&gt; _$UserToJson(this);\n}\n\n\n// GENERATED CODE - DO NOT MODIFY BY HAND\n\npart of 'user.dart';\n\n// **************************************************************************\n// JsonSerializableGenerator\n// **************************************************************************\n\nUser _$UserFromJson(Map&lt;String, dynamic&gt; json) =&gt; User(\n      firstName: json['first_name'] as String,\n      lastName: json['last_name'] as String,\n      birthday: json['birthday'] as String,\n      gender: json['gender'] as String,\n      mobile: json['mobile'] as String,\n    );\n\nMap&lt;String, dynamic&gt; _$UserToJson(User instance) =&gt; &lt;String, dynamic&gt;{\n      'first_name': instance.firstName,\n      'last_name': instance.lastName,\n      'birthday': instance.birthday,\n      'gender': instance.gender,\n      'mobile': instance.mobile,\n    };\n</code></pre>\n<p>Here is the api docs:</p>\n<pre><code>$app-&gt;post('/registration', function () use  ($app){\n    //Required Parameters\n    verifyRequiredParams(array('first_name','last_name','birthday','gender','mobile'));\n    \n    //includes\n    $database = new Database();\n    $conn = $database-&gt;getConnection();\n    \n    //\n    $db = new SaveInfo($conn);\n    \n    $response = array();\n    \n    $first_name = $app-&gt;request-&gt;post('first_name');\n    $last_name = $app-&gt;request-&gt;post('last_name');\n    $birthday = $app-&gt;request-&gt;post('birthday');\n    $gender = $app-&gt;request-&gt;post('gender');\n    $mobile = $app-&gt;request-&gt;post('mobile');\n    \n\n    $result = $db-&gt;savePersonalInfo($first_name,$last_name,$birthday,$gender,$mobile);\n    \n    if($result){\n        $response['error'] = false;\n        $response['message'] = &quot;Successfully Registered&quot;;\n    }\n    else{\n        $response['error'] = true;\n        $response['message'] = &quot;Failed to register&quot;;\n    }\n    echoResponse(200,$response);\n});\n</code></pre>\n<p>Here is the working postman request</p>\n<p><a href=\"https://i.sstatic.net/KdZRR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/KdZRR.png\" alt=\"postman\" /></a></p>\n<p>Here are also the errors and the variable user that it has indeed values inside:</p>\n<p><a href=\"https://i.sstatic.net/653eK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/653eK.png\" alt=\"Error1\" /></a></p>\n<p><a href=\"https://i.sstatic.net/JHdt3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/JHdt3.png\" alt=\"Error2\" /></a></p>\n<p>Is there anything wrong with how I use the dio function or with how I pass the data? I tried printing user.toJson() with and without jsonEncode and the data is fine and in json form also. I cannot find what is wrong with my code.</p>\n<p>last additional info, here is the previous model that I used that works with http post request but does not work when I used it in dio:</p>\n<pre><code>import 'package:json_annotation/json_annotation.dart';\n\n@JsonSerializable()\nclass RegistrationInfo {\n  String? firstName;\n  String? lastName;\n  String? birthday;\n  String? gender;\n  String? mobile;\n\n  RegistrationInfo(\n      {required this.firstName,\n      required this.lastName,\n      required this.birthday,\n      required this.gender,\n      required this.mobile});\n\n  RegistrationInfo.fromJson(Map&lt;String, dynamic&gt; json) {\n    firstName = json['first_name'];\n    lastName = json['last_name'];\n    birthday = json['birthday'];\n    gender = json['gender'];\n    mobile = json['mobile'];\n  }\n\n  Map&lt;String, dynamic&gt; toJson() {\n    final Map&lt;String, dynamic&gt; data = &lt;String, dynamic&gt;{};\n    data['first_name'] = firstName;\n    data['last_name'] = lastName;\n    data['birthday'] = birthday;\n    data['gender'] = gender;\n    data['mobile'] = mobile;\n    return data;\n  }\n}\n</code></pre>\n<p>And here is the http post request</p>\n<pre><code>Future&lt;int&gt; checkUser(String firstName, String lastName) async {\n    final url = Uri.parse(\n        'http://localhost/api/v1/index.php/checkUserExist?first_name=$firstName&amp;last_name=$lastName');\n    try {\n      final response = await http.get(url);\n\n      userInfo = jsonDecode(response.body);\n      return response.statusCode;\n    } catch (e) {\n      debugPrint(e.toString());\n      return 400;\n    }\n  }\n</code></pre>\n<p>Here is my whole code for the Registration screen:</p>\n<pre><code>import 'package:dio/dio.dart';\nimport 'package:flutter/material.dart';\n\nimport '../models/user.dart';\n\nclass Register extends StatefulWidget {\n  const Register({super.key});\n\n  @override\n  State&lt;Register&gt; createState() =&gt; _RegisterState();\n}\n\nclass _RegisterState extends State&lt;Register&gt; {\n  final _dio = Dio(\n    BaseOptions(\n      baseUrl: 'http://localhost/api/v1/index.php',\n    ),\n  );\n\n  final firstNameController = TextEditingController();\n  final lastNameController = TextEditingController();\n  final birthdayController = TextEditingController();\n  final genderController = TextEditingController();\n  final mobileController = TextEditingController();\n\n  final _formKey = GlobalKey&lt;FormState&gt;();\n\n  // Future&lt;void&gt; registerUser(RegistrationInfo registrationInfo) async {\n  //   // print(registrationInfo.first_name);\n  //   // print(registrationInfo.last_name);\n  //   // print(registrationInfo.birthday);\n  //   // print(registrationInfo.gender);\n  //   // print(registrationInfo.mobile);\n  //   debugPrint(jsonEncode(registrationInfo.toJson()));\n  //   debugPrint(registrationInfo.toJson().toString());\n  //   try {\n  //     final response = await dio.post(\n  //       'http://localhost/api/v1/index.php/registration',\n  //       data: json.encode(registrationInfo.toJson()),\n  //     );\n  //     debugPrint(response.data.toString());\n  //   } catch (e) {\n  //     print(e);\n  //   }\n  // }\n\n  Future&lt;User?&gt; registerUser({required User user}) async {\n    User? retrievedUser;\n    print(user.toJson());\n    try {\n      Response response = await _dio.post(\n        '/registration',\n        data: user\n            .toJson(), // THIS RETURNS STATUS CODE 400 AND IS SAID TO BE NULL\n        // I TRIED:\n        // user.toJson()\n        // jsonEncode(user.toJson())\n        // json.encode(user.toJson())\n        // FormData.fromMap(user.toJson())\n        // FormData.fromMap(json.encode(user.toJson()))\n        // I tried even the manual way like {'first_name': 'sample',...}\n        // i also enclosed it in json encode but still the same error\n      );\n\n      print('User created: ${response.data}');\n\n      retrievedUser = User.fromJson(response.data);\n    } catch (e) {\n      print('Error creating user: $e');\n    }\n\n    return retrievedUser;\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Material(\n      child: Padding(\n        padding: const EdgeInsets.only(left: 30, right: 30),\n        child: Column(\n          children: [\n            Form(\n              key: _formKey,\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.end,\n                children: [\n                  Padding(\n                    padding: const EdgeInsets.only(top: 30),\n                    //ENTER USERNAME\n                    child: TextFormField(\n                      autovalidateMode: AutovalidateMode.onUserInteraction,\n                      validator: (value) =&gt; value == null || value.isEmpty\n                          ? 'Please enter some text'\n                          : null,\n                      controller: firstNameController,\n                      decoration: InputDecoration(\n                        filled: true,\n                        fillColor: Colors.white,\n                        hintText: 'Enter your first name',\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(20),\n                        ),\n                      ),\n                    ),\n                  ),\n                  Padding(\n                    padding: const EdgeInsets.only(top: 30),\n                    //ENTER PASSWORD\n                    child: TextFormField(\n                      autovalidateMode: AutovalidateMode.onUserInteraction,\n                      validator: (value) =&gt; value == null || value.isEmpty\n                          ? 'Please enter some text'\n                          : null,\n                      controller: lastNameController,\n                      decoration: InputDecoration(\n                        filled: true,\n                        fillColor: Colors.white,\n                        hintText: 'Enter your last name',\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(20),\n                        ),\n                      ),\n                    ),\n                  ),\n                  Padding(\n                    padding: const EdgeInsets.only(top: 30),\n                    //REENTER PASSWORD\n                    child: TextFormField(\n                      autovalidateMode: AutovalidateMode.onUserInteraction,\n                      validator: (value) =&gt; value == null || value.isEmpty\n                          ? 'Please enter some text'\n                          : null,\n                      controller: birthdayController,\n                      decoration: InputDecoration(\n                        filled: true,\n                        fillColor: Colors.white,\n                        hintText: 'Enter your birthday',\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(20),\n                        ),\n                      ),\n                    ),\n                  ),\n                  Padding(\n                    padding: const EdgeInsets.only(top: 30),\n                    //REENTER PASSWORD\n                    child: TextFormField(\n                      autovalidateMode: AutovalidateMode.onUserInteraction,\n                      validator: (value) =&gt; value == null || value.isEmpty\n                          ? 'Please enter some text'\n                          : null,\n                      controller: genderController,\n                      decoration: InputDecoration(\n                        fillColor: Colors.white,\n                        hintText: 'Enter your gender',\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(20),\n                        ),\n                      ),\n                    ),\n                  ),\n                  Padding(\n                    padding: const EdgeInsets.only(top: 30),\n                    //REENTER PASSWORD\n                    child: TextFormField(\n                      autovalidateMode: AutovalidateMode.onUserInteraction,\n                      validator: (value) =&gt; value == null || value.isEmpty\n                          ? 'Please enter some text'\n                          : null,\n                      controller: mobileController,\n                      decoration: InputDecoration(\n                        filled: true,\n                        fillColor: Colors.white,\n                        hintText: 'Enter your mobile number',\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(20),\n                        ),\n                      ),\n                    ),\n                  ),\n                ],\n              ),\n            ),\n            Padding(\n              padding: const EdgeInsets.only(top: 30, bottom: 50),\n              //CONFIRM REGISTER BUTTON\n              child: SizedBox(\n                width: 300,\n                height: 50,\n                child: FilledButton(\n                  onPressed: () async {\n                    User userInfo = User(\n                      first_name: firstNameController.text,\n                      last_name: lastNameController.text,\n                      birthday: birthdayController.text,\n                      gender: genderController.text,\n                      mobile: mobileController.text,\n                    );\n\n                    User? retrievedUser = await registerUser(user: userInfo);\n\n                    print(retrievedUser);\n                    // if (_formKey.currentState!.validate()) {\n\n                    // }\n\n                    // Navigator.push(\n                    //   context,\n                    //   MaterialPageRoute(\n                    //     builder: (context) =&gt; const Login(),\n                    //   ),\n                    // );\n                  },\n                  child: const Text(\n                    'Register',\n                  ),\n                ),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n",
        "codigo": [
            "data",
            "post",
            "dio",
            "json.encode,",
            "jsonEncode",
            "FormData.fromMap()",
            "{'first_name': 'sample',...}",
            "Future<User?> registerUser({required User user}) async {\n    User? retrievedUser;\n\n    try {\n      Response response = await _dio.post(\n        'http://localhost/api/v1/index.php/registration',\n        data:  user.toJson(), // THIS RETURNS STATUS CODE 400 AND IS SAID TO BE NULL\n        // I TRIED:\n        // user.toJson()\n        // jsonEncode(user.toJson())\n        // json.encode(user.toJson())\n        // FormData.fromMap(user.toJson())\n        // FormData.fromMap(json.encode(user.toJson()))\n        // I tried even the manual way like {'first_name': 'sample',...}\n        // i also enclosed it in json encode but still the same error\n\n      );\n\n      print('User created: ${response.data}');\n\n      retrievedUser = User.fromJson(response.data);\n    } catch (e) {\n      print('Error creating user: $e');\n    }\n\n    return retrievedUser;\n  }\n",
            "               FilledButton(\n                  onPressed: () async {\n                    User userInfo = User(\n                      firstName: firstNameController.text,\n                      lastName: lastNameController.text,\n                      birthday: birthdayController.text,\n                      gender: genderController.text,\n                      mobile: mobileController.text,\n                    );\n\n                    User? retrievedUser = await registerUser(user: userInfo);\n\n                    print(retrievedUser);\n                    // if (_formKey.currentState!.validate()) {\n\n                    // }\n\n                    // Navigator.push(\n                    //   context,\n                    //   MaterialPageRoute(\n                    //     builder: (context) => const Login(),\n                    //   ),\n                    // );\n                  },\n                  child: const Text(\n                    'Register',\n                  ),\n                ),\n",
            "import 'package:json_annotation/json_annotation.dart';\n\npart 'user.g.dart';\n\n@JsonSerializable()\nclass User {\n  String firstName;\n  String lastName;\n  String birthday;\n  String gender;\n  String mobile;\n\n  User(\n      {required this.firstName,\n      required this.lastName,\n      required this.birthday,\n      required this.gender,\n      required this.mobile});\n\n  factory User.fromJson(Map<String, dynamic> json) => _$UserFromJson(json);\n  Map<String, dynamic> toJson() => _$UserToJson(this);\n}\n\n\n// GENERATED CODE - DO NOT MODIFY BY HAND\n\npart of 'user.dart';\n\n// **************************************************************************\n// JsonSerializableGenerator\n// **************************************************************************\n\nUser _$UserFromJson(Map<String, dynamic> json) => User(\n      firstName: json['first_name'] as String,\n      lastName: json['last_name'] as String,\n      birthday: json['birthday'] as String,\n      gender: json['gender'] as String,\n      mobile: json['mobile'] as String,\n    );\n\nMap<String, dynamic> _$UserToJson(User instance) => <String, dynamic>{\n      'first_name': instance.firstName,\n      'last_name': instance.lastName,\n      'birthday': instance.birthday,\n      'gender': instance.gender,\n      'mobile': instance.mobile,\n    };\n",
            "$app->post('/registration', function () use  ($app){\n    //Required Parameters\n    verifyRequiredParams(array('first_name','last_name','birthday','gender','mobile'));\n    \n    //includes\n    $database = new Database();\n    $conn = $database->getConnection();\n    \n    //\n    $db = new SaveInfo($conn);\n    \n    $response = array();\n    \n    $first_name = $app->request->post('first_name');\n    $last_name = $app->request->post('last_name');\n    $birthday = $app->request->post('birthday');\n    $gender = $app->request->post('gender');\n    $mobile = $app->request->post('mobile');\n    \n\n    $result = $db->savePersonalInfo($first_name,$last_name,$birthday,$gender,$mobile);\n    \n    if($result){\n        $response['error'] = false;\n        $response['message'] = \"Successfully Registered\";\n    }\n    else{\n        $response['error'] = true;\n        $response['message'] = \"Failed to register\";\n    }\n    echoResponse(200,$response);\n});\n",
            "import 'package:json_annotation/json_annotation.dart';\n\n@JsonSerializable()\nclass RegistrationInfo {\n  String? firstName;\n  String? lastName;\n  String? birthday;\n  String? gender;\n  String? mobile;\n\n  RegistrationInfo(\n      {required this.firstName,\n      required this.lastName,\n      required this.birthday,\n      required this.gender,\n      required this.mobile});\n\n  RegistrationInfo.fromJson(Map<String, dynamic> json) {\n    firstName = json['first_name'];\n    lastName = json['last_name'];\n    birthday = json['birthday'];\n    gender = json['gender'];\n    mobile = json['mobile'];\n  }\n\n  Map<String, dynamic> toJson() {\n    final Map<String, dynamic> data = <String, dynamic>{};\n    data['first_name'] = firstName;\n    data['last_name'] = lastName;\n    data['birthday'] = birthday;\n    data['gender'] = gender;\n    data['mobile'] = mobile;\n    return data;\n  }\n}\n",
            "Future<int> checkUser(String firstName, String lastName) async {\n    final url = Uri.parse(\n        'http://localhost/api/v1/index.php/checkUserExist?first_name=$firstName&last_name=$lastName');\n    try {\n      final response = await http.get(url);\n\n      userInfo = jsonDecode(response.body);\n      return response.statusCode;\n    } catch (e) {\n      debugPrint(e.toString());\n      return 400;\n    }\n  }\n",
            "import 'package:dio/dio.dart';\nimport 'package:flutter/material.dart';\n\nimport '../models/user.dart';\n\nclass Register extends StatefulWidget {\n  const Register({super.key});\n\n  @override\n  State<Register> createState() => _RegisterState();\n}\n\nclass _RegisterState extends State<Register> {\n  final _dio = Dio(\n    BaseOptions(\n      baseUrl: 'http://localhost/api/v1/index.php',\n    ),\n  );\n\n  final firstNameController = TextEditingController();\n  final lastNameController = TextEditingController();\n  final birthdayController = TextEditingController();\n  final genderController = TextEditingController();\n  final mobileController = TextEditingController();\n\n  final _formKey = GlobalKey<FormState>();\n\n  // Future<void> registerUser(RegistrationInfo registrationInfo) async {\n  //   // print(registrationInfo.first_name);\n  //   // print(registrationInfo.last_name);\n  //   // print(registrationInfo.birthday);\n  //   // print(registrationInfo.gender);\n  //   // print(registrationInfo.mobile);\n  //   debugPrint(jsonEncode(registrationInfo.toJson()));\n  //   debugPrint(registrationInfo.toJson().toString());\n  //   try {\n  //     final response = await dio.post(\n  //       'http://localhost/api/v1/index.php/registration',\n  //       data: json.encode(registrationInfo.toJson()),\n  //     );\n  //     debugPrint(response.data.toString());\n  //   } catch (e) {\n  //     print(e);\n  //   }\n  // }\n\n  Future<User?> registerUser({required User user}) async {\n    User? retrievedUser;\n    print(user.toJson());\n    try {\n      Response response = await _dio.post(\n        '/registration',\n        data: user\n            .toJson(), // THIS RETURNS STATUS CODE 400 AND IS SAID TO BE NULL\n        // I TRIED:\n        // user.toJson()\n        // jsonEncode(user.toJson())\n        // json.encode(user.toJson())\n        // FormData.fromMap(user.toJson())\n        // FormData.fromMap(json.encode(user.toJson()))\n        // I tried even the manual way like {'first_name': 'sample',...}\n        // i also enclosed it in json encode but still the same error\n      );\n\n      print('User created: ${response.data}');\n\n      retrievedUser = User.fromJson(response.data);\n    } catch (e) {\n      print('Error creating user: $e');\n    }\n\n    return retrievedUser;\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Material(\n      child: Padding(\n        padding: const EdgeInsets.only(left: 30, right: 30),\n        child: Column(\n          children: [\n            Form(\n              key: _formKey,\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.end,\n                children: [\n                  Padding(\n                    padding: const EdgeInsets.only(top: 30),\n                    //ENTER USERNAME\n                    child: TextFormField(\n                      autovalidateMode: AutovalidateMode.onUserInteraction,\n                      validator: (value) => value == null || value.isEmpty\n                          ? 'Please enter some text'\n                          : null,\n                      controller: firstNameController,\n                      decoration: InputDecoration(\n                        filled: true,\n                        fillColor: Colors.white,\n                        hintText: 'Enter your first name',\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(20),\n                        ),\n                      ),\n                    ),\n                  ),\n                  Padding(\n                    padding: const EdgeInsets.only(top: 30),\n                    //ENTER PASSWORD\n                    child: TextFormField(\n                      autovalidateMode: AutovalidateMode.onUserInteraction,\n                      validator: (value) => value == null || value.isEmpty\n                          ? 'Please enter some text'\n                          : null,\n                      controller: lastNameController,\n                      decoration: InputDecoration(\n                        filled: true,\n                        fillColor: Colors.white,\n                        hintText: 'Enter your last name',\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(20),\n                        ),\n                      ),\n                    ),\n                  ),\n                  Padding(\n                    padding: const EdgeInsets.only(top: 30),\n                    //REENTER PASSWORD\n                    child: TextFormField(\n                      autovalidateMode: AutovalidateMode.onUserInteraction,\n                      validator: (value) => value == null || value.isEmpty\n                          ? 'Please enter some text'\n                          : null,\n                      controller: birthdayController,\n                      decoration: InputDecoration(\n                        filled: true,\n                        fillColor: Colors.white,\n                        hintText: 'Enter your birthday',\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(20),\n                        ),\n                      ),\n                    ),\n                  ),\n                  Padding(\n                    padding: const EdgeInsets.only(top: 30),\n                    //REENTER PASSWORD\n                    child: TextFormField(\n                      autovalidateMode: AutovalidateMode.onUserInteraction,\n                      validator: (value) => value == null || value.isEmpty\n                          ? 'Please enter some text'\n                          : null,\n                      controller: genderController,\n                      decoration: InputDecoration(\n                        fillColor: Colors.white,\n                        hintText: 'Enter your gender',\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(20),\n                        ),\n                      ),\n                    ),\n                  ),\n                  Padding(\n                    padding: const EdgeInsets.only(top: 30),\n                    //REENTER PASSWORD\n                    child: TextFormField(\n                      autovalidateMode: AutovalidateMode.onUserInteraction,\n                      validator: (value) => value == null || value.isEmpty\n                          ? 'Please enter some text'\n                          : null,\n                      controller: mobileController,\n                      decoration: InputDecoration(\n                        filled: true,\n                        fillColor: Colors.white,\n                        hintText: 'Enter your mobile number',\n                        border: OutlineInputBorder(\n                          borderRadius: BorderRadius.circular(20),\n                        ),\n                      ),\n                    ),\n                  ),\n                ],\n              ),\n            ),\n            Padding(\n              padding: const EdgeInsets.only(top: 30, bottom: 50),\n              //CONFIRM REGISTER BUTTON\n              child: SizedBox(\n                width: 300,\n                height: 50,\n                child: FilledButton(\n                  onPressed: () async {\n                    User userInfo = User(\n                      first_name: firstNameController.text,\n                      last_name: lastNameController.text,\n                      birthday: birthdayController.text,\n                      gender: genderController.text,\n                      mobile: mobileController.text,\n                    );\n\n                    User? retrievedUser = await registerUser(user: userInfo);\n\n                    print(retrievedUser);\n                    // if (_formKey.currentState!.validate()) {\n\n                    // }\n\n                    // Navigator.push(\n                    //   context,\n                    //   MaterialPageRoute(\n                    //     builder: (context) => const Login(),\n                    //   ),\n                    // );\n                  },\n                  child: const Text(\n                    'Register',\n                  ),\n                ),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Flutter BloC state executed but the UI didn&#39;t change after the state changed",
        "score": 1,
        "views": 1098,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "bloc",
            "flutter-getx"
        ],
        "link": "https://stackoverflow.com/questions/75581448/flutter-bloc-state-executed-but-the-ui-didnt-change-after-the-state-changed",
        "conteudo_html": "<p>I am using the Bloc and Getx for state management and routing. I have solved the problem of the Bloc is nested with different child with the route which causing the Bloc cannot be found/read if I change the route. Which the solution is wrap the GetMaterialApp inside the BlocProvider.</p>\n<pre><code>import ;...\n\nvoid main() {\n  WidgetsFlutterBinding.ensureInitialized();\n  runApp(\n    BlocProvider&lt;AuthBloc&gt;(\n      create: (context) =&gt; AuthBloc(FirebaseAuthProvider()),\n      child: GetMaterialApp(\n        debugShowCheckedModeBanner: false,\n        title: 'Flutter Demo',\n        theme: theme(),\n        home: const MainPage(),\n        /*BlocProvider&lt;AuthBloc&gt;(\n          create: (context) =&gt; AuthBloc(FirebaseAuthProvider()),\n          child: const MainPage(),\n        ),*/\n        getPages: RoutesClass.routes,\n        // routes: {\n        // verifyEmailRoute: (context) =&gt; const VerifyEmailView(), // not used\n        // },\n        // routes: routes, // switch to getx\n      ),\n    ),\n  );\n}\n</code></pre>\n<p>But now the Bloc is running well. I use the Bloc for FirebaseAuth. I can do login and logout (the state is correct in logic. I'm sure because it was functioned properly if I didn't click the navigation bar to change route.) if I didn't change the page/view with the bottom navigation bar.</p>\n<p>If I change the page/view with the bottom navigation bar and click logout, the Bloc state executed but the UI cannot be changed to logout state. The bottom navigation bar is custom and the routing of changing page is using the Getx to perform routing. using the Get.toNamed() function.</p>\n<p>Sorry for my bad explanation. Below is my code for your reference:</p>\n<pre><code>import 'package:facerecognitionattendance/services/auth/bloc/auth_bloc.dart';\nimport 'package:facerecognitionattendance/services/auth/bloc/auth_event.dart';\nimport 'package:facerecognitionattendance/utilities/dialogs/logout_dialog.dart';\nimport 'package:facerecognitionattendance/views/profile/components/profile_menu.dart';\nimport 'package:facerecognitionattendance/views/profile/components/profile_pic.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart' show ReadContext;\n\nclass Body extends StatefulWidget {\n  const Body({super.key});\n\n  @override\n  State&lt;Body&gt; createState() =&gt; _BodyState();\n}\n\nclass _BodyState extends State&lt;Body&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return SafeArea(\n      child: SingleChildScrollView(\n        padding: const EdgeInsets.symmetric(vertical: 20),\n        child: Column(\n          children: [\n            const ProfilePic(),\n            const SizedBox(height: 20),\n            ProfileMenu(\n              text: &quot;My Account&quot;,\n              icon: &quot;assets/icons/User Icon.svg&quot;,\n              press: () =&gt; {},\n            ),\n            ProfileMenu(\n              text: &quot;Notifications&quot;,\n              icon: &quot;assets/icons/notification.svg&quot;,\n              press: () {},\n            ),\n            ProfileMenu(\n              text: &quot;Settings&quot;,\n              icon: &quot;assets/icons/Settings.svg&quot;,\n              press: () {},\n            ),\n            ProfileMenu(\n              text: &quot;Log Out&quot;,\n              icon: &quot;assets/icons/Log out.svg&quot;,\n              press: () async {\n                final shouldLogout = await showLogOutDialog(context);\n                if (shouldLogout) {\n                  if (!mounted) return;\n                  context.read&lt;AuthBloc&gt;().add(\n                        const AuthEventLogOut(),\n                      ); // HERE\n                }\n              },\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>Hope these will help for the explanation. Thanks in advance.</p>\n<p>I tried to add the BlocProvider but does not work. Expecting the logout state executed and change the UI back to the sign in form.</p>\n",
        "codigo": [
            "import ;...\n\nvoid main() {\n  WidgetsFlutterBinding.ensureInitialized();\n  runApp(\n    BlocProvider<AuthBloc>(\n      create: (context) => AuthBloc(FirebaseAuthProvider()),\n      child: GetMaterialApp(\n        debugShowCheckedModeBanner: false,\n        title: 'Flutter Demo',\n        theme: theme(),\n        home: const MainPage(),\n        /*BlocProvider<AuthBloc>(\n          create: (context) => AuthBloc(FirebaseAuthProvider()),\n          child: const MainPage(),\n        ),*/\n        getPages: RoutesClass.routes,\n        // routes: {\n        // verifyEmailRoute: (context) => const VerifyEmailView(), // not used\n        // },\n        // routes: routes, // switch to getx\n      ),\n    ),\n  );\n}\n",
            "import 'package:facerecognitionattendance/services/auth/bloc/auth_bloc.dart';\nimport 'package:facerecognitionattendance/services/auth/bloc/auth_event.dart';\nimport 'package:facerecognitionattendance/utilities/dialogs/logout_dialog.dart';\nimport 'package:facerecognitionattendance/views/profile/components/profile_menu.dart';\nimport 'package:facerecognitionattendance/views/profile/components/profile_pic.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_bloc/flutter_bloc.dart' show ReadContext;\n\nclass Body extends StatefulWidget {\n  const Body({super.key});\n\n  @override\n  State<Body> createState() => _BodyState();\n}\n\nclass _BodyState extends State<Body> {\n  @override\n  Widget build(BuildContext context) {\n    return SafeArea(\n      child: SingleChildScrollView(\n        padding: const EdgeInsets.symmetric(vertical: 20),\n        child: Column(\n          children: [\n            const ProfilePic(),\n            const SizedBox(height: 20),\n            ProfileMenu(\n              text: \"My Account\",\n              icon: \"assets/icons/User Icon.svg\",\n              press: () => {},\n            ),\n            ProfileMenu(\n              text: \"Notifications\",\n              icon: \"assets/icons/notification.svg\",\n              press: () {},\n            ),\n            ProfileMenu(\n              text: \"Settings\",\n              icon: \"assets/icons/Settings.svg\",\n              press: () {},\n            ),\n            ProfileMenu(\n              text: \"Log Out\",\n              icon: \"assets/icons/Log out.svg\",\n              press: () async {\n                final shouldLogout = await showLogOutDialog(context);\n                if (shouldLogout) {\n                  if (!mounted) return;\n                  context.read<AuthBloc>().add(\n                        const AuthEventLogOut(),\n                      ); // HERE\n                }\n              },\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n"
        ]
    },
    {
        "titulo": "Why init method of GetBuilder not returning the desired controller with Get.find in getx flutter?",
        "score": 0,
        "views": 739,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "flutter-getx"
        ],
        "link": "https://stackoverflow.com/questions/75550635/why-init-method-of-getbuilder-not-returning-the-desired-controller-with-get-find",
        "conteudo_html": "<p>I am trying to make different instances of same controller each with it's unique name or tag but I am experiencing odd behavior with the init field<code>init:Get.find&lt;CountController&gt;(tag: &quot;myController&quot;),</code></p>\n<ul>\n<li>first: I tried using the following line to specify which controller I want to be passed in the builder method i.e. <code>controller</code>\nBut the print statements I used after shows that the controller in the builder is something else with tag name that is <code>'null'</code> (as specified in the default value of the tag in <code>controller.dart</code>) :</li>\n</ul>\n<pre><code> I/flutter ( 4290): with Get.find has tag:  myController\n I/flutter ( 4290): controller from builder has tag: null\n</code></pre>\n<ul>\n<li>secondly just uncommenting the <code>//tag: &quot;myController&quot;,</code> and commenting init line  showed the desired output:</li>\n</ul>\n<pre><code>I/flutter ( 4290): with Get.find has tag:  myController\nI/flutter ( 4290): controller from builder has tag: myController\n</code></pre>\n<ul>\n<li>now my Question is why init didn't work in the first approach, to my understanding it requires an instance of the controller, but it doesn't seem to do anything with it. like it just asserts that is there and that's it??!</li>\n</ul>\n<p>controller.dart ( class has both reactive variable and update function because I was experimenting with both Getx and GetBuilder ) :</p>\n<pre><code>import 'package:get/get.dart';\n\nclass CountController extends GetxController {\n  String? tag = &quot;null&quot;;\n  RxInt count = RxInt(1);\n\n  CountController({this.tag, int? value}) {\n    if(value != null) count = RxInt(value);\n  }\n\n  void increment(){\n      if(count.value == 24) {\n        Get.closeAllSnackbars();\n        Get.snackbar(&quot;Item Count&quot;, &quot;You can't increase count more!&quot;);\n        return;\n      }\n      count.value++;\n      update();\n  }\n\n  void decrement(){\n    if(count.value == 1)  return;\n    count.value--;\n    update();\n  }\n}\n\n</code></pre>\n<p>Test.dart: (I am just using Get.put in the constructor here for simplicity)</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:food_app/controllers/count_controller.dart';\nimport 'package:get/get.dart';\n\nclass Test extends StatelessWidget {\n\n  Test({Key? key}) : super(key: key){\n    Get.put(CountController(tag: &quot;myController&quot;), tag: &quot;myController&quot;);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return GetBuilder&lt;CountController&gt;(\n      init: Get.find&lt;CountController&gt;(tag: &quot;myController&quot;),\n      //tag: &quot;myController&quot;,\n      builder: (controller){\n        print(&quot;with Get.find has tag:  ${Get.find&lt;CountController&gt;(tag: &quot;myController&quot;).tag}&quot;);\n        print(&quot;controller from builder has tag: ${controller.tag}&quot;);\n        return Scaffold(body: Center(child: Text(&quot;Hello Flutter&quot;)));\n      },\n    );\n  }\n}\n\n</code></pre>\n",
        "codigo": [
            "init:Get.find<CountController>(tag: \"myController\"),",
            "controller",
            "'null'",
            "controller.dart",
            " I/flutter ( 4290): with Get.find has tag:  myController\n I/flutter ( 4290): controller from builder has tag: null\n",
            "//tag: \"myController\",",
            "I/flutter ( 4290): with Get.find has tag:  myController\nI/flutter ( 4290): controller from builder has tag: myController\n",
            "import 'package:get/get.dart';\n\nclass CountController extends GetxController {\n  String? tag = \"null\";\n  RxInt count = RxInt(1);\n\n  CountController({this.tag, int? value}) {\n    if(value != null) count = RxInt(value);\n  }\n\n  void increment(){\n      if(count.value == 24) {\n        Get.closeAllSnackbars();\n        Get.snackbar(\"Item Count\", \"You can't increase count more!\");\n        return;\n      }\n      count.value++;\n      update();\n  }\n\n  void decrement(){\n    if(count.value == 1)  return;\n    count.value--;\n    update();\n  }\n}\n\n",
            "import 'package:flutter/material.dart';\nimport 'package:food_app/controllers/count_controller.dart';\nimport 'package:get/get.dart';\n\nclass Test extends StatelessWidget {\n\n  Test({Key? key}) : super(key: key){\n    Get.put(CountController(tag: \"myController\"), tag: \"myController\");\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return GetBuilder<CountController>(\n      init: Get.find<CountController>(tag: \"myController\"),\n      //tag: \"myController\",\n      builder: (controller){\n        print(\"with Get.find has tag:  ${Get.find<CountController>(tag: \"myController\").tag}\");\n        print(\"controller from builder has tag: ${controller.tag}\");\n        return Scaffold(body: Center(child: Text(\"Hello Flutter\")));\n      },\n    );\n  }\n}\n\n"
        ]
    },
    {
        "titulo": "Why isn&#39;t the appBar widget constant in flutter",
        "score": 3,
        "views": 206,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75550553/why-isnt-the-appbar-widget-constant-in-flutter",
        "conteudo_html": "<p>Why do I get an error when I try the following:</p>\n<pre><code>  Widget build(BuildContext context) {\n    return const Scaffold(\n      appBar: AppBar(title: Text(&quot;Verify Email&quot;)),\n      body: Text(&quot;Needa verify that email dawg @_@&quot;),\n    );\n  }\n</code></pre>\n<p>Error:</p>\n<pre><code>The constructor being called isn't a const constructor.\nTry removing 'const' from the constructor invocation.\n</code></pre>\n<p>Why is the AppBar constructor not const?</p>\n",
        "codigo": [
            "  Widget build(BuildContext context) {\n    return const Scaffold(\n      appBar: AppBar(title: Text(\"Verify Email\")),\n      body: Text(\"Needa verify that email dawg @_@\"),\n    );\n  }\n",
            "The constructor being called isn't a const constructor.\nTry removing 'const' from the constructor invocation.\n"
        ]
    },
    {
        "titulo": "http post request returns status code 400",
        "score": 0,
        "views": 1122,
        "respostas": 1,
        "tags": [
            "flutter",
            "rest",
            "dart",
            "post",
            "xmlhttprequest"
        ],
        "link": "https://stackoverflow.com/questions/75544079/http-post-request-returns-status-code-400",
        "conteudo_html": "<p>I'm having a problem with the test api post request that I'm doing. I have a post request and before I am receiving a status code of 404 but now it is 400. The way I am testing it is that I am using a local api, you can see it in the url in my post function. I think the 400 error is caused by the data that I am passing is not going through the api like I am passing a null value to the api, but I im not really sure so I dont know what is the problem.</p>\n<p>I can add data in the table just fine and I solved the connection problem at first because I cannot connect it to the other pc and I am able to solve it by making the pc discoverable by other devices. but the remaining problem is that it returns error 400, and I think it is because of the passing of data but Im not entriely sure if there is other problem in my code.</p>\n<p>Here is the dart file with the post function:</p>\n<pre><code>import 'dart:convert';\nimport 'package:audit_finance_app/widgets/registration_widgets.dart';\nimport 'package:audit_finance_app/widgets/widgets.dart';\nimport 'package:flutter/material.dart';\nimport 'package:fluttertoast/fluttertoast.dart';\nimport 'package:http/http.dart';\n\nimport '../models/user_info.dart';\n\nclass Registration extends StatefulWidget {\n  const Registration({super.key});\n\n  @override\n  State&lt;Registration&gt; createState() =&gt; _RegistrationState();\n}\n\nclass _RegistrationState extends State&lt;Registration&gt; {\n  final firstNameController = TextEditingController();\n  final lastNameController = TextEditingController();\n  final birthdayController = TextEditingController();\n  final genderController = TextEditingController();\n  final mobileController = TextEditingController();\n\n  final _formKey = GlobalKey&lt;FormState&gt;();\n\n  RegistrationInfo registrationInfo = RegistrationInfo();\n\n  Future&lt;void&gt; registerUser(RegistrationInfo registrationInfo) async {\n    final url =\n        Uri.parse('http://192.168.100.228/api/v1/index.php/registration');\n    // var uri = Uri.https('192.168.100.228', 'api/v1/index.php/registration');\n    try {\n      final response = await post(\n        url,\n        body: json.encode(\n          registrationInfo.toJson(),\n        ),\n      );\n\n      if (response.statusCode == 200) {\n        print('User registered successfully!');\n      } else {\n        print('Failed to register user. Status code: ${response.statusCode}');\n      }\n    } catch (e) {}\n  }\n\n  void getTextFormFieldValue() {\n    registrationInfo.first_name = firstNameController.text;\n    registrationInfo.last_name = lastNameController.text;\n    registrationInfo.birthday = birthdayController.text;\n    registrationInfo.gender = genderController.text;\n    registrationInfo.mobile = mobileController.text;\n\n    print(registrationInfo.first_name);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('REGISTRATION'),\n        centerTitle: true,\n      ),\n      body: Padding(\n        padding: const EdgeInsets.fromLTRB(30, 15, 30, 0),\n        child: Column(\n          children: [\n            Form(\n              key: _formKey,\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: [\n                  Widgets().sizedBoxHeight(15),\n                  RegistrationWidgets().label(text: 'First Name'),\n                  Widgets().sizedBoxHeight(5),\n                  RegistrationWidgets().textField(\n                    textEditingController: firstNameController,\n                    hint: 'Please enter your first name',\n                  ),\n                  Widgets().sizedBoxHeight(15),\n                  RegistrationWidgets().label(text: 'Last Name'),\n                  Widgets().sizedBoxHeight(5),\n                  RegistrationWidgets().textField(\n                    textEditingController: lastNameController,\n                    hint: 'Please enter your last name',\n                  ),\n                  Widgets().sizedBoxHeight(15),\n                  RegistrationWidgets().label(text: 'Birthday'),\n                  Widgets().sizedBoxHeight(5),\n                  RegistrationWidgets().textField(\n                    textEditingController: birthdayController,\n                    hint: 'Please enter your birthday',\n                  ),\n                  Widgets().sizedBoxHeight(15),\n                  RegistrationWidgets().label(text: 'Gender'),\n                  Widgets().sizedBoxHeight(5),\n                  RegistrationWidgets().textField(\n                    textEditingController: genderController,\n                    hint: 'Please enter your gender',\n                  ),\n                  Widgets().sizedBoxHeight(15),\n                  RegistrationWidgets().label(text: 'Mobile Number'),\n                  Widgets().sizedBoxHeight(5),\n                  RegistrationWidgets().textField(\n                    textEditingController: mobileController,\n                    hint: 'Please enter you mobile number',\n                  ),\n                ],\n              ),\n            ),\n            Widgets().sizedBoxHeight(20),\n            FilledButton(\n              onPressed: () {\n                if (_formKey.currentState!.validate()) {\n                  // do something\n                  // Navigator.pop(\n                  //   context,\n                  //   MaterialPageRoute(\n                  //     builder: (context) =&gt; const LogIn(),\n                  //   ),\n                  // );\n                  // print(firstNameController.text);\n                  // print(lastNameController.text);\n                  // print(birthdayController.text);\n                  // print(genderController.text);\n                  // print(mobileController.text);\n                  getTextFormFieldValue();\n                  registerUser(registrationInfo);\n                  Fluttertoast.showToast(\n                    toastLength: Toast.LENGTH_SHORT,\n                    msg: 'Registration complete',\n                    gravity: ToastGravity.BOTTOM_LEFT,\n                    backgroundColor: Colors.grey,\n                  );\n                  // print('YOU ARE REGISTERED');\n                }\n              },\n              style: FilledButton.styleFrom(\n                minimumSize: const Size.fromHeight(50),\n              ),\n              child: const Text('Register'),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>Here is the model:</p>\n<pre><code>class RegistrationInfo {\n  String? first_name;\n  String? last_name;\n  String? birthday;\n  String? gender;\n  String? mobile;\n\n  RegistrationInfo(\n      {this.first_name,\n      this.last_name,\n      this.birthday,\n      this.gender,\n      this.mobile});\n\n  RegistrationInfo.fromJson(Map&lt;String, dynamic&gt; json) {\n    first_name = json['first_name'];\n    last_name = json['last_name'];\n    birthday = json['birthday'];\n    gender = json['gender'];\n    mobile = json['mobile number'];\n  }\n\n  Map&lt;String, dynamic&gt; toJson() {\n    final Map&lt;String, dynamic&gt; data = &lt;String, dynamic&gt;{};\n    data['first_name'] = first_name;\n    data['last_name'] = last_name;\n    data['birthday'] = birthday;\n    data['gender'] = gender;\n    data['mobile number'] = mobile;\n    return data;\n  }\n}\n</code></pre>\n<p>This is the api documentation:</p>\n<pre><code>$app-&gt;post('/registration', function () use  ($app){\n    //Required Parameters\n    verifyRequiredParams(array('first_name','last_name','birthday','gender','mobile'));\n    \n    //includes\n    $database = new Database();\n    $conn = $database-&gt;getConnection();\n    \n    //\n    $db = new SaveInfo($conn);\n    \n    $response = array();\n    \n    $first_name = $app-&gt;request-&gt;post('first_name');\n    $last_name = $app-&gt;request-&gt;post('last_name');\n    $birthday = $app-&gt;request-&gt;post('birthday');\n    $gender = $app-&gt;request-&gt;post('gender');\n    $mobile = $app-&gt;request-&gt;post('mobile');\n    \n\n    $result = $db-&gt;savePersonalInfo($first_name,$last_name,$birthday,$gender,$mobile);\n    \n    if($result){\n        $response['error'] = false;\n        $response['message'] = &quot;Successfully Registered&quot;;\n    }\n    else{\n        $response['error'] = true;\n        $response['message'] = &quot;Failed to register&quot;;\n    }\n    echoResponse(200,$response);\n});\n</code></pre>\n<p>Here is the working postman request:</p>\n<p><a href=\"https://i.sstatic.net/6SsfC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/6SsfC.png\" alt=\"Working Postman Request\" /></a></p>\n<p>This is the error message for the 404</p>\n<blockquote>\n<p>{&quot;error&quot;:true,&quot;message&quot;:&quot;Required field(s) first_name, last_name,\nbirthday, gender, mobile is missing or empty&quot;} Failed to register\nuser. Status code: 400</p>\n</blockquote>\n",
        "codigo": [
            "import 'dart:convert';\nimport 'package:audit_finance_app/widgets/registration_widgets.dart';\nimport 'package:audit_finance_app/widgets/widgets.dart';\nimport 'package:flutter/material.dart';\nimport 'package:fluttertoast/fluttertoast.dart';\nimport 'package:http/http.dart';\n\nimport '../models/user_info.dart';\n\nclass Registration extends StatefulWidget {\n  const Registration({super.key});\n\n  @override\n  State<Registration> createState() => _RegistrationState();\n}\n\nclass _RegistrationState extends State<Registration> {\n  final firstNameController = TextEditingController();\n  final lastNameController = TextEditingController();\n  final birthdayController = TextEditingController();\n  final genderController = TextEditingController();\n  final mobileController = TextEditingController();\n\n  final _formKey = GlobalKey<FormState>();\n\n  RegistrationInfo registrationInfo = RegistrationInfo();\n\n  Future<void> registerUser(RegistrationInfo registrationInfo) async {\n    final url =\n        Uri.parse('http://192.168.100.228/api/v1/index.php/registration');\n    // var uri = Uri.https('192.168.100.228', 'api/v1/index.php/registration');\n    try {\n      final response = await post(\n        url,\n        body: json.encode(\n          registrationInfo.toJson(),\n        ),\n      );\n\n      if (response.statusCode == 200) {\n        print('User registered successfully!');\n      } else {\n        print('Failed to register user. Status code: ${response.statusCode}');\n      }\n    } catch (e) {}\n  }\n\n  void getTextFormFieldValue() {\n    registrationInfo.first_name = firstNameController.text;\n    registrationInfo.last_name = lastNameController.text;\n    registrationInfo.birthday = birthdayController.text;\n    registrationInfo.gender = genderController.text;\n    registrationInfo.mobile = mobileController.text;\n\n    print(registrationInfo.first_name);\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('REGISTRATION'),\n        centerTitle: true,\n      ),\n      body: Padding(\n        padding: const EdgeInsets.fromLTRB(30, 15, 30, 0),\n        child: Column(\n          children: [\n            Form(\n              key: _formKey,\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: [\n                  Widgets().sizedBoxHeight(15),\n                  RegistrationWidgets().label(text: 'First Name'),\n                  Widgets().sizedBoxHeight(5),\n                  RegistrationWidgets().textField(\n                    textEditingController: firstNameController,\n                    hint: 'Please enter your first name',\n                  ),\n                  Widgets().sizedBoxHeight(15),\n                  RegistrationWidgets().label(text: 'Last Name'),\n                  Widgets().sizedBoxHeight(5),\n                  RegistrationWidgets().textField(\n                    textEditingController: lastNameController,\n                    hint: 'Please enter your last name',\n                  ),\n                  Widgets().sizedBoxHeight(15),\n                  RegistrationWidgets().label(text: 'Birthday'),\n                  Widgets().sizedBoxHeight(5),\n                  RegistrationWidgets().textField(\n                    textEditingController: birthdayController,\n                    hint: 'Please enter your birthday',\n                  ),\n                  Widgets().sizedBoxHeight(15),\n                  RegistrationWidgets().label(text: 'Gender'),\n                  Widgets().sizedBoxHeight(5),\n                  RegistrationWidgets().textField(\n                    textEditingController: genderController,\n                    hint: 'Please enter your gender',\n                  ),\n                  Widgets().sizedBoxHeight(15),\n                  RegistrationWidgets().label(text: 'Mobile Number'),\n                  Widgets().sizedBoxHeight(5),\n                  RegistrationWidgets().textField(\n                    textEditingController: mobileController,\n                    hint: 'Please enter you mobile number',\n                  ),\n                ],\n              ),\n            ),\n            Widgets().sizedBoxHeight(20),\n            FilledButton(\n              onPressed: () {\n                if (_formKey.currentState!.validate()) {\n                  // do something\n                  // Navigator.pop(\n                  //   context,\n                  //   MaterialPageRoute(\n                  //     builder: (context) => const LogIn(),\n                  //   ),\n                  // );\n                  // print(firstNameController.text);\n                  // print(lastNameController.text);\n                  // print(birthdayController.text);\n                  // print(genderController.text);\n                  // print(mobileController.text);\n                  getTextFormFieldValue();\n                  registerUser(registrationInfo);\n                  Fluttertoast.showToast(\n                    toastLength: Toast.LENGTH_SHORT,\n                    msg: 'Registration complete',\n                    gravity: ToastGravity.BOTTOM_LEFT,\n                    backgroundColor: Colors.grey,\n                  );\n                  // print('YOU ARE REGISTERED');\n                }\n              },\n              style: FilledButton.styleFrom(\n                minimumSize: const Size.fromHeight(50),\n              ),\n              child: const Text('Register'),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n",
            "class RegistrationInfo {\n  String? first_name;\n  String? last_name;\n  String? birthday;\n  String? gender;\n  String? mobile;\n\n  RegistrationInfo(\n      {this.first_name,\n      this.last_name,\n      this.birthday,\n      this.gender,\n      this.mobile});\n\n  RegistrationInfo.fromJson(Map<String, dynamic> json) {\n    first_name = json['first_name'];\n    last_name = json['last_name'];\n    birthday = json['birthday'];\n    gender = json['gender'];\n    mobile = json['mobile number'];\n  }\n\n  Map<String, dynamic> toJson() {\n    final Map<String, dynamic> data = <String, dynamic>{};\n    data['first_name'] = first_name;\n    data['last_name'] = last_name;\n    data['birthday'] = birthday;\n    data['gender'] = gender;\n    data['mobile number'] = mobile;\n    return data;\n  }\n}\n",
            "$app->post('/registration', function () use  ($app){\n    //Required Parameters\n    verifyRequiredParams(array('first_name','last_name','birthday','gender','mobile'));\n    \n    //includes\n    $database = new Database();\n    $conn = $database->getConnection();\n    \n    //\n    $db = new SaveInfo($conn);\n    \n    $response = array();\n    \n    $first_name = $app->request->post('first_name');\n    $last_name = $app->request->post('last_name');\n    $birthday = $app->request->post('birthday');\n    $gender = $app->request->post('gender');\n    $mobile = $app->request->post('mobile');\n    \n\n    $result = $db->savePersonalInfo($first_name,$last_name,$birthday,$gender,$mobile);\n    \n    if($result){\n        $response['error'] = false;\n        $response['message'] = \"Successfully Registered\";\n    }\n    else{\n        $response['error'] = true;\n        $response['message'] = \"Failed to register\";\n    }\n    echoResponse(200,$response);\n});\n"
        ]
    },
    {
        "titulo": "I am getting this error while testing in flutter, how can I solve it?",
        "score": -3,
        "views": 2157,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "compiler-errors"
        ],
        "link": "https://stackoverflow.com/questions/75542492/i-am-getting-this-error-while-testing-in-flutter-how-can-i-solve-it",
        "conteudo_html": "<blockquote>\n<p>Error: The name 'expect' is defined in the libraries\n'package:flutter_test/src/widget_tester.dart (via\npackage:flutter_test/flutter_test.dart)' and\n'package:test_api/src/expect/expect.dart'. Try using 'as prefix' for\none of the import directives, or hiding the name from all but one of\nthe imports.</p>\n</blockquote>\n<p>Code:</p>\n<pre><code>testWidgets(&quot;TEST WİDGET SUCCESS&quot;, (widgetTester) async {\n      await tester.pumpWidget(const MyHomePage(title: 'Ti', mesaj: 'Msg'));\n\n      final titleFind = find.text(&quot;Ti&quot;);\n      final MesajFind = find.text(&quot;msg&quot;);\n\n      expect(titleFind, findsOneWidget);\n      expect(, matcher)\n    });\nImage:\n[enter image description here][1]\n</code></pre>\n",
        "codigo": [
            "testWidgets(\"TEST WİDGET SUCCESS\", (widgetTester) async {\n      await tester.pumpWidget(const MyHomePage(title: 'Ti', mesaj: 'Msg'));\n\n      final titleFind = find.text(\"Ti\");\n      final MesajFind = find.text(\"msg\");\n\n      expect(titleFind, findsOneWidget);\n      expect(, matcher)\n    });\nImage:\n[enter image description here][1]\n"
        ]
    },
    {
        "titulo": "Flutter: ECIES Encrypt/Decrypt",
        "score": 0,
        "views": 1196,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "security",
            "encryption"
        ],
        "link": "https://stackoverflow.com/questions/75539733/flutter-ecies-encrypt-decrypt",
        "conteudo_html": "<p>I am developing a mobile app that for security has implemented the ECIES scheme for the encryption of information. According to the research I have done, the implementation of ECIES is with KDF2.</p>\n<p>I receive the key pairs in the form of a String and these should be used to encrypt or decrypt.</p>\n<p>I've searched for information but haven't found much. I have this JavaScript example that does what I need in Flutter.</p>\n<pre><code>import { encrypt, decrypt } from 'eciesjs';\n\nclass ECIES {\n    private_key;\n    public_key;\n\n    constructor(private_key = '', public_key = '') {\n        this.private_key = private_key;\n        this.public_key = public_key;\n    }\n\n    encrypt(message = '') {\n        try {\n            if (this.public_key === '') {\n                throw new Error(&quot;Can't encrypt your data, 'public_key' is not defined.&quot;);\n            }\n\n            let key_buffered = Buffer.from(this.public_key, 'base64').toString();\n            let encrypted = encrypt(key_buffered, message);\n\n            return Buffer.from(encrypted).toString('base64');\n\n        } catch(e) {\n            console.log(`Error: ${e}`);\n            throw e;\n        }\n    }\n\n    decrypt(data) {\n        try {\n            if (this.private_key === '') {\n                throw new Error(&quot;Can't decrypt your data, 'private_key' is not defined.&quot;);\n            }\n            \n            let key_buffered = Buffer.from(this.private_key, 'base64').toString();\n            let decrypted = decrypt(key_buffered, Buffer.from(data, 'base64'));\n\n            return Buffer.from(decrypted).toString('utf-8');\n\n        } catch(e) {\n            console.log(`Error: ${e}`);\n            throw e;\n        }\n    }\n\n    getKeyPair() {\n        return {\n            &quot;private_key&quot;: this.private_key,\n            &quot;public_key&quot;: this.public_key\n        };\n    }\n}\n\n\nexport { ECIES };\n</code></pre>\n<pre><code>import { ECIES } from './ecies.js';\n\n\nfunction test() {\n    const private_key = &quot;MDllOTFkYjMxZTNiNTYwMzdkOTVlOGQxYmEyYjQ3NzhjN2M5MGNlODE4YWI0MDE4NWE2YTZiNTQ1MTRmOGM1Zg==&quot;\n    const public_key = &quot;MDIzN2E0M2RhYWJiZDJjMjJhZmVjYzE3ZWU3MDkxMDQ1ZDU1YzBkODg2ODIxYmYwMTA0YjEyM2Y0ZmRlZWMyMjc5&quot;\n    const ecies = new ECIES(private_key, public_key);\n\n    const message = &quot;Hello world!&quot;;\n\n    let msg_encrypted = ecies.encrypt(message);\n    console.log(`Encrypted Message: ${msg_encrypted}`);\n\n    let msg_decrypted = ecies.decrypt(msg_encrypted);\n    console.log(`Decrypted Message: ${msg_decrypted}`);\n\n    const data = &quot;BD2NPMycdxfE2hJB5jyG6ozs7MHOA0hQrsrEeq5hnLs9PkZmNQE46BAzrO2dUZ0ecKsT2rB6PZo6jzIEU2b0kimhyV29eE6y0E4&quot; +\n        &quot;hVbdq14RwVXjnAhSODN8ZC5RBxsjp31ivqH0zAKHMpfHRiPkBBPgVr1gPurSvkkNMknXUtYtPBxbQc9IHpIlZe8YQWX105obraACxDOoCHV2&quot; +\n        &quot;I1kWUiuxlABI1knO0pD1e9mNwmdgkq5YhJApVKKVX4WUcGrfVHNnvdRTkBXCf&quot;;\n\n    let data_dec = ecies.decrypt(data);\n    console.log(`Decrypted Message: ${data_dec}`);\n}\n\n\n(() =&gt; {\n    test();\n})();\n</code></pre>\n",
        "codigo": [
            "import { encrypt, decrypt } from 'eciesjs';\n\nclass ECIES {\n    private_key;\n    public_key;\n\n    constructor(private_key = '', public_key = '') {\n        this.private_key = private_key;\n        this.public_key = public_key;\n    }\n\n    encrypt(message = '') {\n        try {\n            if (this.public_key === '') {\n                throw new Error(\"Can't encrypt your data, 'public_key' is not defined.\");\n            }\n\n            let key_buffered = Buffer.from(this.public_key, 'base64').toString();\n            let encrypted = encrypt(key_buffered, message);\n\n            return Buffer.from(encrypted).toString('base64');\n\n        } catch(e) {\n            console.log(`Error: ${e}`);\n            throw e;\n        }\n    }\n\n    decrypt(data) {\n        try {\n            if (this.private_key === '') {\n                throw new Error(\"Can't decrypt your data, 'private_key' is not defined.\");\n            }\n            \n            let key_buffered = Buffer.from(this.private_key, 'base64').toString();\n            let decrypted = decrypt(key_buffered, Buffer.from(data, 'base64'));\n\n            return Buffer.from(decrypted).toString('utf-8');\n\n        } catch(e) {\n            console.log(`Error: ${e}`);\n            throw e;\n        }\n    }\n\n    getKeyPair() {\n        return {\n            \"private_key\": this.private_key,\n            \"public_key\": this.public_key\n        };\n    }\n}\n\n\nexport { ECIES };\n",
            "import { ECIES } from './ecies.js';\n\n\nfunction test() {\n    const private_key = \"MDllOTFkYjMxZTNiNTYwMzdkOTVlOGQxYmEyYjQ3NzhjN2M5MGNlODE4YWI0MDE4NWE2YTZiNTQ1MTRmOGM1Zg==\"\n    const public_key = \"MDIzN2E0M2RhYWJiZDJjMjJhZmVjYzE3ZWU3MDkxMDQ1ZDU1YzBkODg2ODIxYmYwMTA0YjEyM2Y0ZmRlZWMyMjc5\"\n    const ecies = new ECIES(private_key, public_key);\n\n    const message = \"Hello world!\";\n\n    let msg_encrypted = ecies.encrypt(message);\n    console.log(`Encrypted Message: ${msg_encrypted}`);\n\n    let msg_decrypted = ecies.decrypt(msg_encrypted);\n    console.log(`Decrypted Message: ${msg_decrypted}`);\n\n    const data = \"BD2NPMycdxfE2hJB5jyG6ozs7MHOA0hQrsrEeq5hnLs9PkZmNQE46BAzrO2dUZ0ecKsT2rB6PZo6jzIEU2b0kimhyV29eE6y0E4\" +\n        \"hVbdq14RwVXjnAhSODN8ZC5RBxsjp31ivqH0zAKHMpfHRiPkBBPgVr1gPurSvkkNMknXUtYtPBxbQc9IHpIlZe8YQWX105obraACxDOoCHV2\" +\n        \"I1kWUiuxlABI1knO0pD1e9mNwmdgkq5YhJApVKKVX4WUcGrfVHNnvdRTkBXCf\";\n\n    let data_dec = ecies.decrypt(data);\n    console.log(`Decrypted Message: ${data_dec}`);\n}\n\n\n(() => {\n    test();\n})();\n"
        ]
    },
    {
        "titulo": "dart 3 alpha: switch with pattern matching doesn&#39;t compile",
        "score": 0,
        "views": 1400,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "switch-statement"
        ],
        "link": "https://stackoverflow.com/questions/75524119/dart-3-alpha-switch-with-pattern-matching-doesnt-compile",
        "conteudo_html": "<p>I am trying to compile a simple example:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\nvoid main() {\n  debugPrint(printShape(Circle()));\n}\n\nsealed class Shape {\n}\n\nclass Square implements Shape {\n}\n\nclass Circle implements Shape {\n}\n\nString printShape(Shape shape) =&gt; switch (shape) {\n  Square() =&gt; 'square',\n  Circle() =&gt; 'circle'\n};\n</code></pre>\n<p>with option <code>--enable-experiment=sealed-class,variance,value-class,extension-types,macros,inference-update-2,records,inline-class,class-modifiers</code>, however, I get an error:</p>\n<pre><code>ERROR: lib/main.dart:15:35: Error: Expected an identifier, but got 'switch'.\nmain.dart:15\nERROR: Try inserting an identifier before 'switch'.\nERROR: String printShape(Shape shape) =&gt; switch (shape) {\nERROR:                                   ^^^^^^\nERROR: lib/main.dart:15:35: Error: 'switch' can't be used as an identifier because it's a keyword.\n...\n</code></pre>\n<p>I use Flutter version 3.8.0-14.0.pre.2 on channel master / Dart version 3.0.0 (build 3.0.0-257.0.dev)</p>\n<p>What am I doing wrong? Or is this not yet implemented in Dart 3 alpha?</p>\n",
        "codigo": [
            "import 'package:flutter/material.dart';\nvoid main() {\n  debugPrint(printShape(Circle()));\n}\n\nsealed class Shape {\n}\n\nclass Square implements Shape {\n}\n\nclass Circle implements Shape {\n}\n\nString printShape(Shape shape) => switch (shape) {\n  Square() => 'square',\n  Circle() => 'circle'\n};\n",
            "--enable-experiment=sealed-class,variance,value-class,extension-types,macros,inference-update-2,records,inline-class,class-modifiers",
            "ERROR: lib/main.dart:15:35: Error: Expected an identifier, but got 'switch'.\nmain.dart:15\nERROR: Try inserting an identifier before 'switch'.\nERROR: String printShape(Shape shape) => switch (shape) {\nERROR:                                   ^^^^^^\nERROR: lib/main.dart:15:35: Error: 'switch' can't be used as an identifier because it's a keyword.\n...\n"
        ]
    },
    {
        "titulo": "&#39;package:flutter/src/rendering/sliver_multi_box_adaptor.dart&#39;: Failed assertion:",
        "score": 1,
        "views": 527,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75504412/packageflutter-src-rendering-sliver-multi-box-adaptor-dart-failed-assertion",
        "conteudo_html": "<p>I try to generate a list of items out of a database (sqflite). Everything seems to work fine until my database has 3 items.</p>\n<p>When I go to the AddBodyStatsScreen and back to the BodyStatsListScreen the program crashes. When I start debugging on AVD and I have already 3 items in the database I get the following errors:</p>\n<pre><code>════════ Exception caught by widgets library ═══════════════════════════════════\nThe following assertion was thrown building MediaQuery(MediaQueryData(size: Size(480.0, 1042.7), devicePixelRatio: 3.0, textScaleFactor: 1.0, platformBrightness: Brightness.light, padding: EdgeInsets.zero, viewPadding: EdgeInsets.zero, viewInsets: EdgeInsets.zero, alwaysUse24HourFormat: false, accessibleNavigation: false, highContrast: false, disableAnimations: false, invertColors: false, boldText: false, navigationMode: traditional, gestureSettings: DeviceGestureSettings(touchSlop: 8.0), displayFeatures: [])):\n'package:flutter/src/rendering/sliver_multi_box_adaptor.dart': Failed assertion: line 261 pos 16: 'child == null || indexOf(child) &gt; index': is not true.\n\nEither the assertion indicates an error in the framework itself, or we should provide substantially more information in this error message to help you determine and fix the underlying cause.\nIn either case, please report this assertion by filing a bug on GitHub:\n  https://github.com/flutter/flutter/issues/new?template=2_bug.md\n\nThe relevant error-causing widget was\nListView\nWhen the exception was thrown, this was the stack\n#2      RenderSliverMultiBoxAdaptor._debugVerifyChildOrder\n#3      RenderSliverMultiBoxAdaptor.debugChildIntegrityEnabled=.&lt;anonymous closure&gt;\n#4      RenderSliverMultiBoxAdaptor.debugChildIntegrityEnabled=\n#5      SliverMultiBoxAdaptorElement.performRebuild\n#6      SliverMultiBoxAdaptorElement.update\n#7      Element.updateChild\n#8      ComponentElement.performRebuild\n#9      Element.rebuild\n#10     ProxyElement.update\n#11     Element.updateChild\n#12     SingleChildRenderObjectElement.update\n#13     Element.updateChild\n#14     RenderObjectElement.updateChildren\n#15     MultiChildRenderObjectElement.update\n#16     Element.updateChild\n#17     SingleChildRenderObjectElement.update\n#18     Element.updateChild\n#19     SingleChildRenderObjectElement.update\n#20     Element.updateChild\n#21     SingleChildRenderObjectElement.update\n#22     Element.updateChild\n#23     SingleChildRenderObjectElement.update\n#24     Element.updateChild\n#25     ComponentElement.performRebuild\n#26     StatefulElement.performRebuild\n#27     Element.rebuild\n#28     StatefulElement.update\n#29     Element.updateChild\n#30     SingleChildRenderObjectElement.update\n#31     Element.updateChild\n#32     ComponentElement.performRebuild\n#33     Element.rebuild\n#34     ProxyElement.update\n#35     Element.updateChild\n#36     SingleChildRenderObjectElement.update\n#37     Element.updateChild\n#38     ComponentElement.performRebuild\n#39     Element.rebuild\n#40     ProxyElement.update\n#41     Element.updateChild\n#42     SingleChildRenderObjectElement.update\n#43     Element.updateChild\n#44     SingleChildRenderObjectElement.update\n#45     Element.updateChild\n#46     SingleChildRenderObjectElement.update\n#47     Element.updateChild\n#48     ComponentElement.performRebuild\n#49     Element.rebuild\n#50     ProxyElement.update\n#51     Element.updateChild\n#52     ComponentElement.performRebuild\n#53     StatefulElement.performRebuild\n#54     Element.rebuild\n#55     StatefulElement.update\n#56     Element.updateChild\n#57     ComponentElement.performRebuild\n#58     StatefulElement.performRebuild\n#59     Element.rebuild\n#60     StatefulElement.update\n#61     Element.updateChild\n#62     ComponentElement.performRebuild\n#63     Element.rebuild\n#64     ProxyElement.update\n#65     Element.updateChild\n#66     ComponentElement.performRebuild\n#67     Element.rebuild\n#68     StatelessElement.update\n#69     Element.updateChild\n#70     ComponentElement.performRebuild\n#71     StatefulElement.performRebuild\n#72     Element.rebuild\n#73     BuildOwner.buildScope\n#74     WidgetsBinding.drawFrame\n#75     RendererBinding._handlePersistentFrameCallback\n#76     SchedulerBinding._invokeFrameCallback\n#77     SchedulerBinding.handleDrawFrame\n#78     SchedulerBinding._handleDrawFrame\n#79     _invoke (dart:ui/hooks.dart:145:13)\n#80     PlatformDispatcher._drawFrame (dart:ui/platform_dispatcher.dart:338:5)\n#81     _drawFrame (dart:ui/hooks.dart:112:31)\n(elided 2 frames from class _AssertionError)\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\nA RenderSliverPadding expected a child of type RenderSliver but received a child of type RenderErrorBox.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nFutureBuilder&lt;List&lt;BodyStats&gt;&gt;\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nFutureBuilder&lt;List&lt;BodyStats&gt;&gt;\n════════════════════════════════════════════════════════════════════════════════\nRestarted application in 2.102ms.\n\n════════ Exception caught by rendering library ═════════════════════════════════\n'package:flutter/src/material/material.dart': Failed assertion: line 735 pos 12: 'referenceBox.attached': is not true.\nThe relevant error-causing widget was\nScaffold\n════════════════════════════════════════════════════════════════════════════════\n</code></pre>\n<p>Here is the code:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:gym_app/database_helper.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_slidable/flutter_slidable.dart';\nimport 'package:gym_app/models/body_stats.dart';\n\nclass BodyStatsListScreen extends StatefulWidget {\n  const BodyStatsListScreen({super.key});\n  @override\n  _BodyStatsListScreenState createState() =&gt; _BodyStatsListScreenState();\n}\n\nclass _BodyStatsListScreenState extends State&lt;BodyStatsListScreen&gt; {\n  // void _showSnackBar(BuildContext context, String text) {\n  //   ScaffoldMessenger.of(context)\n  //     ..hideCurrentSnackBar()\n  //     ..showSnackBar(SnackBar(content: Text(text)));\n  // }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Meine Body Stats'),\n      ),\n      body: Center(\n        child: FutureBuilder&lt;List&lt;BodyStats&gt;&gt;(\n            future: DatabaseHelper.instance.getBodyStats('bodyStats'),\n            builder: (BuildContext context, AsyncSnapshot&lt;List&lt;BodyStats&gt;&gt; snapshot) {\n              if (!snapshot.hasData) {\n                return const Center(child: Text('Lade Daten...'));\n              }\n              return snapshot.data!.isEmpty\n                  ? const Center(\n                      child: Text('Keine Daten vorhanden.'),\n                    )\n                  : ListView(\n                      children: snapshot.data!.map((item) {\n                        return Slidable(\n                          // Specify a key if the Slidable is dismissible.\n                          key: const ValueKey(0),\n\n                          // The end action pane is the one at the right or the bottom side.\n                          endActionPane: ActionPane(\n                            motion: const ScrollMotion(),\n                            children: [\n                              SlidableAction(\n                                onPressed: (context) {\n                                  Future.delayed(Duration.zero, () {\n                                    Navigator.pushNamed(context, '/addBodyStats', arguments: item).then((value) =&gt; setState(() {}));\n                                  });\n                                },\n                                backgroundColor: const Color.fromARGB(255, 112, 112, 112),\n                                foregroundColor: Colors.white,\n                                icon: Icons.edit,\n                                label: 'editieren',\n                              ),\n                              SlidableAction(\n                                onPressed: (context) {\n                                  setState(() {\n                                    DatabaseHelper.instance.remove('bodyStats', item.datum!);\n                                  });\n                                  // _showSnackBar(context, '${item.datum} gelöscht');\n                                },\n                                backgroundColor: const Color(0xFFFE4A49),\n                                foregroundColor: Colors.white,\n                                icon: Icons.delete,\n                                label: 'löschen',\n                              ),\n                            ],\n                          ),\n                          // The child of the Slidable is what the user sees when the\n                          // component is not dragged.\n                          child: ListTile(title: Text(item.datum.toString())),\n                        );\n                      }).toList(),\n                    );\n            }),\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: () {\n          Future.delayed(Duration.zero, () {\n            Navigator.pushNamed(context, '/addBodyStats', arguments: BodyStats(datum: '')).then((value) =&gt; setState(() {}));\n          });\n        },\n        child: const Icon(Icons.add),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>And the related widget to create an item:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\nimport 'package:gym_app/models/body_stats.dart';\nimport 'package:intl/intl.dart';\nimport 'package:gym_app/database_helper.dart';\n\nclass AddBodyStatsScreen extends StatefulWidget {\n  const AddBodyStatsScreen({super.key});\n\n  @override\n  State&lt;AddBodyStatsScreen&gt; createState() =&gt; _AddBodyStatsScreenState();\n}\n\nclass _AddBodyStatsScreenState extends State&lt;AddBodyStatsScreen&gt; {\n  bool taped = false;\n  DateTime selectedDate = DateTime.now();\n  Future&lt;void&gt; _selectDate(BuildContext context) async {\n    final DateTime? picked = await showDatePicker(context: context, initialDate: selectedDate, firstDate: DateTime(2015, 8), lastDate: DateTime.now());\n    if (picked != null &amp;&amp; picked != selectedDate) {\n      setState(() {\n        selectedDate = picked;\n      });\n    }\n  }\n\n  // void _showSnackBar(BuildContext context, String text) {\n  //   ScaffoldMessenger.of(context)\n  //     ..hideCurrentSnackBar()\n  //     ..showSnackBar(SnackBar(content: Text(text)));\n  // }\n\n  @override\n  Widget build(BuildContext context) {\n    final editedBodyStats = ModalRoute.of(context)!.settings.arguments as BodyStats;\n\n    bool inEditMode = editedBodyStats.datum != '';\n\n    if (inEditMode &amp;&amp; taped == false) {\n      selectedDate = DateFormat('dd.MM.yyyy').parse(editedBodyStats.datum!);\n    } else {}\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(inEditMode ? 'Body Stats editieren' : 'Body Stats hinzufügen'),\n      ),\n      body: Column(\n        children: [\n          Padding(\n            padding: const EdgeInsets.all(16.0),\n            child: Column(\n              mainAxisSize: MainAxisSize.min,\n              children: &lt;Widget&gt;[\n                InkWell(\n                  child: Text(DateFormat('dd.MM.yyyy').format(selectedDate)),\n                  onTap: () {\n                    taped = true;\n                    _selectDate(context);\n                  },\n                )\n              ],\n            ),\n          ),\n          ElevatedButton(\n            onPressed: () async {\n              if (inEditMode) {\n                await DatabaseHelper.instance.update('bodyStats', BodyStats(datum: DateFormat('dd.MM.yyyy').format(selectedDate)));\n                // _showSnackBar(context, '${DateFormat('dd.MM.yyyy').format(selectedDate)} wurde editiert');\n              } else {\n                if (await DatabaseHelper.instance.uidExists('bodyStats', DateFormat('dd.MM.yyyy').format(selectedDate))) {\n                  await DatabaseHelper.instance.update('bodyStats', BodyStats(datum: DateFormat('dd.MM.yyyy').format(selectedDate)));\n                  // _showSnackBar(context, '${DateFormat('dd.MM.yyyy').format(selectedDate)} wurde editiert');\n                } else {\n                  await DatabaseHelper.instance.add('bodyStats', BodyStats(datum: DateFormat('dd.MM.yyyy').format(selectedDate)));\n                }\n              }\n              Future.delayed(Duration.zero, () {\n                Navigator.pop(context);\n              });\n            },\n            child: Text(inEditMode ? 'editieren' : 'hinzufügen'),\n          )\n        ],\n      ),\n    );\n  }\n}\n\n</code></pre>\n<pre><code>import 'dart:io';\nimport 'package:gym_app/models/body_stats.dart';\n// ignore: depend_on_referenced_packages\nimport 'package:path/path.dart';\nimport 'package:path_provider/path_provider.dart';\nimport 'package:sqflite/sqflite.dart';\n\nclass DatabaseHelper {\n  //SingeltonPattern\n  DatabaseHelper._privateConstructor();\n  static final DatabaseHelper instance = DatabaseHelper._privateConstructor();\n\n  static Database? _database;\n  Future&lt;Database&gt; get database async =&gt; _database ??= await _initDatabase();\n\n  Future&lt;Database&gt; _initDatabase() async {\n    Directory documentsDirecory = await getApplicationDocumentsDirectory();\n    String path = join(documentsDirecory.path, 'gym_app.db');\n    return await openDatabase(\n      path,\n      version: 1,\n      onCreate: _onCreate,\n    );\n  }\n\n  Future _onCreate(Database db, int version) async {\n    await db.execute('''\n      CREATE TABLE bodyStats(\n        datum TEXT PRIMARY KEY,\n        gewicht TEXT,\n        koerperfett TEXT,\n        muskelanteil TEXT,\n        halsumfang TEXT,\n        schulterumfang TEXT,\n        brustumfang TEXT,\n        armumfangRe TEXT,\n        armumfangLi TEXT,\n        oberschenkelumfangRe TEXT,\n        oberschenkelumfangLi TEXT,\n        bauchumfang TEXT,\n        hueftumfang TEXT,\n        wadenumfangRe TEXT,\n        wadenumfangLi TEXT\n      )\n    ''');\n  }\n\n  Future&lt;List&lt;BodyStats&gt;&gt; getBodyStats(String dbTable) async {\n    Database db = await instance.database;\n    var bodyStats = await db.query(dbTable, orderBy: 'datum');\n    List&lt;BodyStats&gt; bodyStatsList = bodyStats.isNotEmpty ? bodyStats.map((e) =&gt; BodyStats.fromMap(e)).toList() : [];\n    return bodyStatsList;\n  }\n\n  Future&lt;int&gt; add(String dbTable, BodyStats item) async {\n    Database db = await instance.database;\n    return await db.insert(dbTable, item.toMap());\n  }\n\n  Future&lt;int&gt; remove(String dbTable, String datum) async {\n    Database db = await instance.database;\n    return await db.delete(dbTable, where: 'datum = ?', whereArgs: [datum]);\n  }\n\n  Future&lt;int&gt; update(String dbTable, BodyStats item) async {\n    Database db = await instance.database;\n    return await db.update(dbTable, item.toMap(), where: 'datum = ?', whereArgs: [item.datum]);\n  }\n\n  Future&lt;bool&gt; uidExists(String dbTable, String datum) async {\n    var result = await _database!.rawQuery(\n      'SELECT EXISTS(SELECT 1 FROM $dbTable WHERE datum= &quot;$datum&quot;)',\n    );\n    int exists = Sqflite.firstIntValue(result)!;\n    return exists == 1;\n  }\n}\n</code></pre>\n<pre><code>import 'dart:convert';\n\nclass BodyStats {\n  final String? datum;\n  final String? gewicht;\n  final String? koerperfett;\n  final String? muskelanteil;\n  final String? halsumfang;\n  final String? schulterumfang;\n  final String? brustumfang;\n  final String? armumfangRe;\n  final String? armumfangLi;\n  final String? oberschenkelumfangRe;\n  final String? oberschenkelumfangLi;\n  final String? bauchumfang;\n  final String? hueftumfang;\n  final String? wadenumfangRe;\n  final String? wadenumfangLi;\n\n  BodyStats(\n      {this.datum,\n      this.gewicht,\n      this.koerperfett,\n      this.muskelanteil,\n      this.halsumfang,\n      this.schulterumfang,\n      this.brustumfang,\n      this.armumfangRe,\n      this.armumfangLi,\n      this.oberschenkelumfangRe,\n      this.oberschenkelumfangLi,\n      this.bauchumfang,\n      this.hueftumfang,\n      this.wadenumfangRe,\n      this.wadenumfangLi});\n\n  BodyStats copyWith(\n      {String? datum,\n      String? gewicht,\n      String? koerperfett,\n      String? muskelanteil,\n      String? halsumfang,\n      String? schulterumfang,\n      String? brustumfang,\n      String? armumfangRe,\n      String? armumfangLi,\n      String? oberschenkelumfangRe,\n      String? oberschenkelumfangLi,\n      String? bauchumfang,\n      String? hueftumfang,\n      String? wadenumfangRe,\n      String? wadenumfangLi}) {\n    return BodyStats(\n        datum: datum ?? this.datum,\n        gewicht: gewicht ?? this.gewicht,\n        koerperfett: koerperfett ?? this.koerperfett,\n        muskelanteil: muskelanteil ?? this.muskelanteil,\n        halsumfang: halsumfang ?? this.halsumfang,\n        schulterumfang: schulterumfang ?? this.schulterumfang,\n        brustumfang: brustumfang ?? this.brustumfang,\n        armumfangRe: armumfangRe ?? this.armumfangRe,\n        armumfangLi: armumfangLi ?? this.armumfangLi,\n        oberschenkelumfangRe: oberschenkelumfangRe ?? this.oberschenkelumfangRe,\n        oberschenkelumfangLi: oberschenkelumfangLi ?? this.oberschenkelumfangLi,\n        bauchumfang: bauchumfang ?? this.bauchumfang,\n        hueftumfang: hueftumfang ?? this.hueftumfang,\n        wadenumfangRe: wadenumfangRe ?? this.wadenumfangRe,\n        wadenumfangLi: wadenumfangLi ?? this.wadenumfangLi);\n  }\n\n  Map&lt;String, dynamic&gt; toMap() {\n    return &lt;String, dynamic&gt;{\n      'datum': datum,\n      'gewicht': gewicht,\n      'koerperfett': koerperfett,\n      'muskelanteil': muskelanteil,\n      'halsumfang': halsumfang,\n      'schulterumfang': schulterumfang,\n      'brustumfang': brustumfang,\n      'armumfangRe': armumfangRe,\n      'armumfangLi': armumfangLi,\n      'oberschenkelumfangRe': oberschenkelumfangRe,\n      'oberschenkelumfangLi': oberschenkelumfangLi,\n      'bauchumfang': bauchumfang,\n      'hueftumfang': hueftumfang,\n      'wadenumfangRe': wadenumfangRe,\n      'wadenumfangLi': wadenumfangLi\n    };\n  }\n\n  factory BodyStats.fromMap(Map&lt;String, dynamic&gt; map) {\n    return BodyStats(\n      datum: map['datum'] != null ? map['datum'] as String : null,\n      gewicht: map['gewicht'] != null ? map['gewicht'] as String : null,\n      koerperfett: map['koerperfett'] != null ? map['koerperfett'] as String : null,\n      muskelanteil: map['muskelanteil'] != null ? map['muskelanteil'] as String : null,\n      halsumfang: map['halsumfang'] != null ? map['halsumfang'] as String : null,\n      schulterumfang: map['schulterumfang'] != null ? map['schulterumfang'] as String : null,\n      brustumfang: map['brustumfang'] != null ? map['brustumfang'] as String : null,\n      armumfangRe: map['armumfangRe'] != null ? map['armumfangRe'] as String : null,\n      armumfangLi: map['armumfangLi'] != null ? map['armumfangLi'] as String : null,\n      oberschenkelumfangRe: map['oberschenkelumfangRe'] != null ? map['oberschenkelumfangRe'] as String : null,\n      oberschenkelumfangLi: map['OberschenkelumfangLi'] != null ? map['oberschenkelumfangLi'] as String : null,\n      bauchumfang: map['bauchumfang'] != null ? map['bauchumfang'] as String : null,\n      hueftumfang: map['hueftumfang'] != null ? map['hueftumfang'] as String : null,\n      wadenumfangRe: map['wadenumfangRe'] != null ? map['wadenumfangRe'] as String : null,\n      wadenumfangLi: map['wadenumfangLi'] != null ? map['wadenumfangLi'] as String : null,\n    );\n  }\n\n  String toJson() =&gt; json.encode(toMap());\n\n  factory BodyStats.fromJson(String source) =&gt; BodyStats.fromMap(json.decode(source) as Map&lt;String, dynamic&gt;);\n\n  @override\n  String toString() =&gt;\n      'BodyStats(datum: $datum, gewicht: $gewicht, koerperfett: $koerperfett, muskelanteil: $muskelanteil, halsumfang: $halsumfang, schulterumfang: $schulterumfang, brustumfang: $brustumfang, armumfangRe: $armumfangRe, armumfangLi: $armumfangLi, oberschenkelumfangRe: $oberschenkelumfangRe, oberschenkelumfangLi: $oberschenkelumfangLi, bauchumfang: $bauchumfang, hueftumfang: $hueftumfang, wadenumfangRe: $wadenumfangRe, wadenumfangLi: $wadenumfangLi)';\n\n  @override\n  bool operator ==(covariant BodyStats other) {\n    if (identical(this, other)) return true;\n\n    return other.datum == datum &amp;&amp;\n        other.gewicht == gewicht &amp;&amp;\n        other.koerperfett == koerperfett &amp;&amp;\n        other.muskelanteil == muskelanteil &amp;&amp;\n        other.halsumfang == halsumfang &amp;&amp;\n        other.schulterumfang == schulterumfang &amp;&amp;\n        other.brustumfang == brustumfang &amp;&amp;\n        other.armumfangRe == armumfangRe &amp;&amp;\n        other.armumfangLi == armumfangLi &amp;&amp;\n        other.oberschenkelumfangRe == oberschenkelumfangRe &amp;&amp;\n        other.oberschenkelumfangLi == oberschenkelumfangLi &amp;&amp;\n        other.bauchumfang == bauchumfang &amp;&amp;\n        other.hueftumfang == hueftumfang &amp;&amp;\n        other.wadenumfangRe == wadenumfangRe &amp;&amp;\n        other.wadenumfangLi == wadenumfangLi;\n  }\n\n  @override\n  int get hashCode =&gt;\n      datum.hashCode ^\n      gewicht.hashCode ^\n      koerperfett.hashCode ^\n      muskelanteil.hashCode ^\n      halsumfang.hashCode ^\n      schulterumfang.hashCode ^\n      brustumfang.hashCode ^\n      armumfangRe.hashCode ^\n      armumfangLi.hashCode ^\n      oberschenkelumfangRe.hashCode ^\n      oberschenkelumfangLi.hashCode ^\n      bauchumfang.hashCode ^\n      hueftumfang.hashCode ^\n      wadenumfangRe.hashCode ^\n      wadenumfangLi.hashCode;\n}\n</code></pre>\n<p>I have already checked the table of the database but it looks good.</p>\n",
        "codigo": [
            "════════ Exception caught by widgets library ═══════════════════════════════════\nThe following assertion was thrown building MediaQuery(MediaQueryData(size: Size(480.0, 1042.7), devicePixelRatio: 3.0, textScaleFactor: 1.0, platformBrightness: Brightness.light, padding: EdgeInsets.zero, viewPadding: EdgeInsets.zero, viewInsets: EdgeInsets.zero, alwaysUse24HourFormat: false, accessibleNavigation: false, highContrast: false, disableAnimations: false, invertColors: false, boldText: false, navigationMode: traditional, gestureSettings: DeviceGestureSettings(touchSlop: 8.0), displayFeatures: [])):\n'package:flutter/src/rendering/sliver_multi_box_adaptor.dart': Failed assertion: line 261 pos 16: 'child == null || indexOf(child) > index': is not true.\n\nEither the assertion indicates an error in the framework itself, or we should provide substantially more information in this error message to help you determine and fix the underlying cause.\nIn either case, please report this assertion by filing a bug on GitHub:\n  https://github.com/flutter/flutter/issues/new?template=2_bug.md\n\nThe relevant error-causing widget was\nListView\nWhen the exception was thrown, this was the stack\n#2      RenderSliverMultiBoxAdaptor._debugVerifyChildOrder\n#3      RenderSliverMultiBoxAdaptor.debugChildIntegrityEnabled=.<anonymous closure>\n#4      RenderSliverMultiBoxAdaptor.debugChildIntegrityEnabled=\n#5      SliverMultiBoxAdaptorElement.performRebuild\n#6      SliverMultiBoxAdaptorElement.update\n#7      Element.updateChild\n#8      ComponentElement.performRebuild\n#9      Element.rebuild\n#10     ProxyElement.update\n#11     Element.updateChild\n#12     SingleChildRenderObjectElement.update\n#13     Element.updateChild\n#14     RenderObjectElement.updateChildren\n#15     MultiChildRenderObjectElement.update\n#16     Element.updateChild\n#17     SingleChildRenderObjectElement.update\n#18     Element.updateChild\n#19     SingleChildRenderObjectElement.update\n#20     Element.updateChild\n#21     SingleChildRenderObjectElement.update\n#22     Element.updateChild\n#23     SingleChildRenderObjectElement.update\n#24     Element.updateChild\n#25     ComponentElement.performRebuild\n#26     StatefulElement.performRebuild\n#27     Element.rebuild\n#28     StatefulElement.update\n#29     Element.updateChild\n#30     SingleChildRenderObjectElement.update\n#31     Element.updateChild\n#32     ComponentElement.performRebuild\n#33     Element.rebuild\n#34     ProxyElement.update\n#35     Element.updateChild\n#36     SingleChildRenderObjectElement.update\n#37     Element.updateChild\n#38     ComponentElement.performRebuild\n#39     Element.rebuild\n#40     ProxyElement.update\n#41     Element.updateChild\n#42     SingleChildRenderObjectElement.update\n#43     Element.updateChild\n#44     SingleChildRenderObjectElement.update\n#45     Element.updateChild\n#46     SingleChildRenderObjectElement.update\n#47     Element.updateChild\n#48     ComponentElement.performRebuild\n#49     Element.rebuild\n#50     ProxyElement.update\n#51     Element.updateChild\n#52     ComponentElement.performRebuild\n#53     StatefulElement.performRebuild\n#54     Element.rebuild\n#55     StatefulElement.update\n#56     Element.updateChild\n#57     ComponentElement.performRebuild\n#58     StatefulElement.performRebuild\n#59     Element.rebuild\n#60     StatefulElement.update\n#61     Element.updateChild\n#62     ComponentElement.performRebuild\n#63     Element.rebuild\n#64     ProxyElement.update\n#65     Element.updateChild\n#66     ComponentElement.performRebuild\n#67     Element.rebuild\n#68     StatelessElement.update\n#69     Element.updateChild\n#70     ComponentElement.performRebuild\n#71     StatefulElement.performRebuild\n#72     Element.rebuild\n#73     BuildOwner.buildScope\n#74     WidgetsBinding.drawFrame\n#75     RendererBinding._handlePersistentFrameCallback\n#76     SchedulerBinding._invokeFrameCallback\n#77     SchedulerBinding.handleDrawFrame\n#78     SchedulerBinding._handleDrawFrame\n#79     _invoke (dart:ui/hooks.dart:145:13)\n#80     PlatformDispatcher._drawFrame (dart:ui/platform_dispatcher.dart:338:5)\n#81     _drawFrame (dart:ui/hooks.dart:112:31)\n(elided 2 frames from class _AssertionError)\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\nA RenderSliverPadding expected a child of type RenderSliver but received a child of type RenderErrorBox.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nListView\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nFutureBuilder<List<BodyStats>>\n════════════════════════════════════════════════════════════════════════════════\n\n════════ Exception caught by widgets library ═══════════════════════════════════\n'package:flutter/src/widgets/framework.dart': Failed assertion: line 4692 pos 14: 'owner!._debugCurrentBuildTarget == this': is not true.\nThe relevant error-causing widget was\nFutureBuilder<List<BodyStats>>\n════════════════════════════════════════════════════════════════════════════════\nRestarted application in 2.102ms.\n\n════════ Exception caught by rendering library ═════════════════════════════════\n'package:flutter/src/material/material.dart': Failed assertion: line 735 pos 12: 'referenceBox.attached': is not true.\nThe relevant error-causing widget was\nScaffold\n════════════════════════════════════════════════════════════════════════════════\n",
            "import 'package:gym_app/database_helper.dart';\nimport 'package:flutter/material.dart';\nimport 'package:flutter_slidable/flutter_slidable.dart';\nimport 'package:gym_app/models/body_stats.dart';\n\nclass BodyStatsListScreen extends StatefulWidget {\n  const BodyStatsListScreen({super.key});\n  @override\n  _BodyStatsListScreenState createState() => _BodyStatsListScreenState();\n}\n\nclass _BodyStatsListScreenState extends State<BodyStatsListScreen> {\n  // void _showSnackBar(BuildContext context, String text) {\n  //   ScaffoldMessenger.of(context)\n  //     ..hideCurrentSnackBar()\n  //     ..showSnackBar(SnackBar(content: Text(text)));\n  // }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Meine Body Stats'),\n      ),\n      body: Center(\n        child: FutureBuilder<List<BodyStats>>(\n            future: DatabaseHelper.instance.getBodyStats('bodyStats'),\n            builder: (BuildContext context, AsyncSnapshot<List<BodyStats>> snapshot) {\n              if (!snapshot.hasData) {\n                return const Center(child: Text('Lade Daten...'));\n              }\n              return snapshot.data!.isEmpty\n                  ? const Center(\n                      child: Text('Keine Daten vorhanden.'),\n                    )\n                  : ListView(\n                      children: snapshot.data!.map((item) {\n                        return Slidable(\n                          // Specify a key if the Slidable is dismissible.\n                          key: const ValueKey(0),\n\n                          // The end action pane is the one at the right or the bottom side.\n                          endActionPane: ActionPane(\n                            motion: const ScrollMotion(),\n                            children: [\n                              SlidableAction(\n                                onPressed: (context) {\n                                  Future.delayed(Duration.zero, () {\n                                    Navigator.pushNamed(context, '/addBodyStats', arguments: item).then((value) => setState(() {}));\n                                  });\n                                },\n                                backgroundColor: const Color.fromARGB(255, 112, 112, 112),\n                                foregroundColor: Colors.white,\n                                icon: Icons.edit,\n                                label: 'editieren',\n                              ),\n                              SlidableAction(\n                                onPressed: (context) {\n                                  setState(() {\n                                    DatabaseHelper.instance.remove('bodyStats', item.datum!);\n                                  });\n                                  // _showSnackBar(context, '${item.datum} gelöscht');\n                                },\n                                backgroundColor: const Color(0xFFFE4A49),\n                                foregroundColor: Colors.white,\n                                icon: Icons.delete,\n                                label: 'löschen',\n                              ),\n                            ],\n                          ),\n                          // The child of the Slidable is what the user sees when the\n                          // component is not dragged.\n                          child: ListTile(title: Text(item.datum.toString())),\n                        );\n                      }).toList(),\n                    );\n            }),\n      ),\n      floatingActionButton: FloatingActionButton(\n        onPressed: () {\n          Future.delayed(Duration.zero, () {\n            Navigator.pushNamed(context, '/addBodyStats', arguments: BodyStats(datum: '')).then((value) => setState(() {}));\n          });\n        },\n        child: const Icon(Icons.add),\n      ),\n    );\n  }\n}\n",
            "import 'package:flutter/material.dart';\nimport 'package:gym_app/models/body_stats.dart';\nimport 'package:intl/intl.dart';\nimport 'package:gym_app/database_helper.dart';\n\nclass AddBodyStatsScreen extends StatefulWidget {\n  const AddBodyStatsScreen({super.key});\n\n  @override\n  State<AddBodyStatsScreen> createState() => _AddBodyStatsScreenState();\n}\n\nclass _AddBodyStatsScreenState extends State<AddBodyStatsScreen> {\n  bool taped = false;\n  DateTime selectedDate = DateTime.now();\n  Future<void> _selectDate(BuildContext context) async {\n    final DateTime? picked = await showDatePicker(context: context, initialDate: selectedDate, firstDate: DateTime(2015, 8), lastDate: DateTime.now());\n    if (picked != null && picked != selectedDate) {\n      setState(() {\n        selectedDate = picked;\n      });\n    }\n  }\n\n  // void _showSnackBar(BuildContext context, String text) {\n  //   ScaffoldMessenger.of(context)\n  //     ..hideCurrentSnackBar()\n  //     ..showSnackBar(SnackBar(content: Text(text)));\n  // }\n\n  @override\n  Widget build(BuildContext context) {\n    final editedBodyStats = ModalRoute.of(context)!.settings.arguments as BodyStats;\n\n    bool inEditMode = editedBodyStats.datum != '';\n\n    if (inEditMode && taped == false) {\n      selectedDate = DateFormat('dd.MM.yyyy').parse(editedBodyStats.datum!);\n    } else {}\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(inEditMode ? 'Body Stats editieren' : 'Body Stats hinzufügen'),\n      ),\n      body: Column(\n        children: [\n          Padding(\n            padding: const EdgeInsets.all(16.0),\n            child: Column(\n              mainAxisSize: MainAxisSize.min,\n              children: <Widget>[\n                InkWell(\n                  child: Text(DateFormat('dd.MM.yyyy').format(selectedDate)),\n                  onTap: () {\n                    taped = true;\n                    _selectDate(context);\n                  },\n                )\n              ],\n            ),\n          ),\n          ElevatedButton(\n            onPressed: () async {\n              if (inEditMode) {\n                await DatabaseHelper.instance.update('bodyStats', BodyStats(datum: DateFormat('dd.MM.yyyy').format(selectedDate)));\n                // _showSnackBar(context, '${DateFormat('dd.MM.yyyy').format(selectedDate)} wurde editiert');\n              } else {\n                if (await DatabaseHelper.instance.uidExists('bodyStats', DateFormat('dd.MM.yyyy').format(selectedDate))) {\n                  await DatabaseHelper.instance.update('bodyStats', BodyStats(datum: DateFormat('dd.MM.yyyy').format(selectedDate)));\n                  // _showSnackBar(context, '${DateFormat('dd.MM.yyyy').format(selectedDate)} wurde editiert');\n                } else {\n                  await DatabaseHelper.instance.add('bodyStats', BodyStats(datum: DateFormat('dd.MM.yyyy').format(selectedDate)));\n                }\n              }\n              Future.delayed(Duration.zero, () {\n                Navigator.pop(context);\n              });\n            },\n            child: Text(inEditMode ? 'editieren' : 'hinzufügen'),\n          )\n        ],\n      ),\n    );\n  }\n}\n\n",
            "import 'dart:io';\nimport 'package:gym_app/models/body_stats.dart';\n// ignore: depend_on_referenced_packages\nimport 'package:path/path.dart';\nimport 'package:path_provider/path_provider.dart';\nimport 'package:sqflite/sqflite.dart';\n\nclass DatabaseHelper {\n  //SingeltonPattern\n  DatabaseHelper._privateConstructor();\n  static final DatabaseHelper instance = DatabaseHelper._privateConstructor();\n\n  static Database? _database;\n  Future<Database> get database async => _database ??= await _initDatabase();\n\n  Future<Database> _initDatabase() async {\n    Directory documentsDirecory = await getApplicationDocumentsDirectory();\n    String path = join(documentsDirecory.path, 'gym_app.db');\n    return await openDatabase(\n      path,\n      version: 1,\n      onCreate: _onCreate,\n    );\n  }\n\n  Future _onCreate(Database db, int version) async {\n    await db.execute('''\n      CREATE TABLE bodyStats(\n        datum TEXT PRIMARY KEY,\n        gewicht TEXT,\n        koerperfett TEXT,\n        muskelanteil TEXT,\n        halsumfang TEXT,\n        schulterumfang TEXT,\n        brustumfang TEXT,\n        armumfangRe TEXT,\n        armumfangLi TEXT,\n        oberschenkelumfangRe TEXT,\n        oberschenkelumfangLi TEXT,\n        bauchumfang TEXT,\n        hueftumfang TEXT,\n        wadenumfangRe TEXT,\n        wadenumfangLi TEXT\n      )\n    ''');\n  }\n\n  Future<List<BodyStats>> getBodyStats(String dbTable) async {\n    Database db = await instance.database;\n    var bodyStats = await db.query(dbTable, orderBy: 'datum');\n    List<BodyStats> bodyStatsList = bodyStats.isNotEmpty ? bodyStats.map((e) => BodyStats.fromMap(e)).toList() : [];\n    return bodyStatsList;\n  }\n\n  Future<int> add(String dbTable, BodyStats item) async {\n    Database db = await instance.database;\n    return await db.insert(dbTable, item.toMap());\n  }\n\n  Future<int> remove(String dbTable, String datum) async {\n    Database db = await instance.database;\n    return await db.delete(dbTable, where: 'datum = ?', whereArgs: [datum]);\n  }\n\n  Future<int> update(String dbTable, BodyStats item) async {\n    Database db = await instance.database;\n    return await db.update(dbTable, item.toMap(), where: 'datum = ?', whereArgs: [item.datum]);\n  }\n\n  Future<bool> uidExists(String dbTable, String datum) async {\n    var result = await _database!.rawQuery(\n      'SELECT EXISTS(SELECT 1 FROM $dbTable WHERE datum= \"$datum\")',\n    );\n    int exists = Sqflite.firstIntValue(result)!;\n    return exists == 1;\n  }\n}\n",
            "import 'dart:convert';\n\nclass BodyStats {\n  final String? datum;\n  final String? gewicht;\n  final String? koerperfett;\n  final String? muskelanteil;\n  final String? halsumfang;\n  final String? schulterumfang;\n  final String? brustumfang;\n  final String? armumfangRe;\n  final String? armumfangLi;\n  final String? oberschenkelumfangRe;\n  final String? oberschenkelumfangLi;\n  final String? bauchumfang;\n  final String? hueftumfang;\n  final String? wadenumfangRe;\n  final String? wadenumfangLi;\n\n  BodyStats(\n      {this.datum,\n      this.gewicht,\n      this.koerperfett,\n      this.muskelanteil,\n      this.halsumfang,\n      this.schulterumfang,\n      this.brustumfang,\n      this.armumfangRe,\n      this.armumfangLi,\n      this.oberschenkelumfangRe,\n      this.oberschenkelumfangLi,\n      this.bauchumfang,\n      this.hueftumfang,\n      this.wadenumfangRe,\n      this.wadenumfangLi});\n\n  BodyStats copyWith(\n      {String? datum,\n      String? gewicht,\n      String? koerperfett,\n      String? muskelanteil,\n      String? halsumfang,\n      String? schulterumfang,\n      String? brustumfang,\n      String? armumfangRe,\n      String? armumfangLi,\n      String? oberschenkelumfangRe,\n      String? oberschenkelumfangLi,\n      String? bauchumfang,\n      String? hueftumfang,\n      String? wadenumfangRe,\n      String? wadenumfangLi}) {\n    return BodyStats(\n        datum: datum ?? this.datum,\n        gewicht: gewicht ?? this.gewicht,\n        koerperfett: koerperfett ?? this.koerperfett,\n        muskelanteil: muskelanteil ?? this.muskelanteil,\n        halsumfang: halsumfang ?? this.halsumfang,\n        schulterumfang: schulterumfang ?? this.schulterumfang,\n        brustumfang: brustumfang ?? this.brustumfang,\n        armumfangRe: armumfangRe ?? this.armumfangRe,\n        armumfangLi: armumfangLi ?? this.armumfangLi,\n        oberschenkelumfangRe: oberschenkelumfangRe ?? this.oberschenkelumfangRe,\n        oberschenkelumfangLi: oberschenkelumfangLi ?? this.oberschenkelumfangLi,\n        bauchumfang: bauchumfang ?? this.bauchumfang,\n        hueftumfang: hueftumfang ?? this.hueftumfang,\n        wadenumfangRe: wadenumfangRe ?? this.wadenumfangRe,\n        wadenumfangLi: wadenumfangLi ?? this.wadenumfangLi);\n  }\n\n  Map<String, dynamic> toMap() {\n    return <String, dynamic>{\n      'datum': datum,\n      'gewicht': gewicht,\n      'koerperfett': koerperfett,\n      'muskelanteil': muskelanteil,\n      'halsumfang': halsumfang,\n      'schulterumfang': schulterumfang,\n      'brustumfang': brustumfang,\n      'armumfangRe': armumfangRe,\n      'armumfangLi': armumfangLi,\n      'oberschenkelumfangRe': oberschenkelumfangRe,\n      'oberschenkelumfangLi': oberschenkelumfangLi,\n      'bauchumfang': bauchumfang,\n      'hueftumfang': hueftumfang,\n      'wadenumfangRe': wadenumfangRe,\n      'wadenumfangLi': wadenumfangLi\n    };\n  }\n\n  factory BodyStats.fromMap(Map<String, dynamic> map) {\n    return BodyStats(\n      datum: map['datum'] != null ? map['datum'] as String : null,\n      gewicht: map['gewicht'] != null ? map['gewicht'] as String : null,\n      koerperfett: map['koerperfett'] != null ? map['koerperfett'] as String : null,\n      muskelanteil: map['muskelanteil'] != null ? map['muskelanteil'] as String : null,\n      halsumfang: map['halsumfang'] != null ? map['halsumfang'] as String : null,\n      schulterumfang: map['schulterumfang'] != null ? map['schulterumfang'] as String : null,\n      brustumfang: map['brustumfang'] != null ? map['brustumfang'] as String : null,\n      armumfangRe: map['armumfangRe'] != null ? map['armumfangRe'] as String : null,\n      armumfangLi: map['armumfangLi'] != null ? map['armumfangLi'] as String : null,\n      oberschenkelumfangRe: map['oberschenkelumfangRe'] != null ? map['oberschenkelumfangRe'] as String : null,\n      oberschenkelumfangLi: map['OberschenkelumfangLi'] != null ? map['oberschenkelumfangLi'] as String : null,\n      bauchumfang: map['bauchumfang'] != null ? map['bauchumfang'] as String : null,\n      hueftumfang: map['hueftumfang'] != null ? map['hueftumfang'] as String : null,\n      wadenumfangRe: map['wadenumfangRe'] != null ? map['wadenumfangRe'] as String : null,\n      wadenumfangLi: map['wadenumfangLi'] != null ? map['wadenumfangLi'] as String : null,\n    );\n  }\n\n  String toJson() => json.encode(toMap());\n\n  factory BodyStats.fromJson(String source) => BodyStats.fromMap(json.decode(source) as Map<String, dynamic>);\n\n  @override\n  String toString() =>\n      'BodyStats(datum: $datum, gewicht: $gewicht, koerperfett: $koerperfett, muskelanteil: $muskelanteil, halsumfang: $halsumfang, schulterumfang: $schulterumfang, brustumfang: $brustumfang, armumfangRe: $armumfangRe, armumfangLi: $armumfangLi, oberschenkelumfangRe: $oberschenkelumfangRe, oberschenkelumfangLi: $oberschenkelumfangLi, bauchumfang: $bauchumfang, hueftumfang: $hueftumfang, wadenumfangRe: $wadenumfangRe, wadenumfangLi: $wadenumfangLi)';\n\n  @override\n  bool operator ==(covariant BodyStats other) {\n    if (identical(this, other)) return true;\n\n    return other.datum == datum &&\n        other.gewicht == gewicht &&\n        other.koerperfett == koerperfett &&\n        other.muskelanteil == muskelanteil &&\n        other.halsumfang == halsumfang &&\n        other.schulterumfang == schulterumfang &&\n        other.brustumfang == brustumfang &&\n        other.armumfangRe == armumfangRe &&\n        other.armumfangLi == armumfangLi &&\n        other.oberschenkelumfangRe == oberschenkelumfangRe &&\n        other.oberschenkelumfangLi == oberschenkelumfangLi &&\n        other.bauchumfang == bauchumfang &&\n        other.hueftumfang == hueftumfang &&\n        other.wadenumfangRe == wadenumfangRe &&\n        other.wadenumfangLi == wadenumfangLi;\n  }\n\n  @override\n  int get hashCode =>\n      datum.hashCode ^\n      gewicht.hashCode ^\n      koerperfett.hashCode ^\n      muskelanteil.hashCode ^\n      halsumfang.hashCode ^\n      schulterumfang.hashCode ^\n      brustumfang.hashCode ^\n      armumfangRe.hashCode ^\n      armumfangLi.hashCode ^\n      oberschenkelumfangRe.hashCode ^\n      oberschenkelumfangLi.hashCode ^\n      bauchumfang.hashCode ^\n      hueftumfang.hashCode ^\n      wadenumfangRe.hashCode ^\n      wadenumfangLi.hashCode;\n}\n"
        ]
    },
    {
        "titulo": "How to test a Flutter model with a mocked viewmodel",
        "score": 0,
        "views": 315,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "provider"
        ],
        "link": "https://stackoverflow.com/questions/75502192/how-to-test-a-flutter-model-with-a-mocked-viewmodel",
        "conteudo_html": "<p>I'm trying to test a Flutter widget which users a viewmodel via Provider. Clicking the button should call a function on the viewmodel. I've mocked the viewmodel via Mocktail with a stubbed function when I then pass through a ChangeNotifierProvider.</p>\n<pre><code> testWidgets('should call auth function when clicked', (tester) async {\n      var mockUVM = MockUserViewModel();\n      var mUM = UserModel();\n      when(mockUVM.signIn).thenAnswer((_) =&gt; (Future(() =&gt; mUM)));\n\n      await tester.pumpWidget(ChangeNotifierProvider.value(\n          value: mockUVM,\n          builder: (context, child) {\n            return const MaterialApp(home: ScreenLogin());\n          }));\n\n      await tester.tap(find.text('SIGN IN'));\n\n      verify(mockUVM.signIn).called(greaterThan(0));\n    });\n</code></pre>\n<p>The test fails as the mocked signIn method hasn't been called. Running it in debug shows runs the real method on the true usermodel.</p>\n<p>Within ScreenLogin, the UserViewModel is passed via Provider to the button</p>\n<pre><code> Widget build(BuildContext context) {\n    final theme = Theme.of(context);\n    return ElevatedButton.icon(\n        key: const Key('loginForm_raisedButton'),\n        style: ButtonStyle(\n            backgroundColor:\n                MaterialStateProperty.all&lt;Color&gt;(theme.primaryColor)),\n        label: const Text(\n          'SIGN IN',\n          style: TextStyle(color: Colors.white, fontSize: 17),\n        ),\n        icon: const Icon(FontAwesomeIcons.google, color: Colors.white),\n        onPressed: () async =&gt; {\n              Provider.of&lt;UserViewModel&gt;(context, listen: false).signIn()\n            });\n  }\n</code></pre>\n<p>How can I test the button tap with a mocked viewmodel using Provider?</p>\n",
        "codigo": [
            " testWidgets('should call auth function when clicked', (tester) async {\n      var mockUVM = MockUserViewModel();\n      var mUM = UserModel();\n      when(mockUVM.signIn).thenAnswer((_) => (Future(() => mUM)));\n\n      await tester.pumpWidget(ChangeNotifierProvider.value(\n          value: mockUVM,\n          builder: (context, child) {\n            return const MaterialApp(home: ScreenLogin());\n          }));\n\n      await tester.tap(find.text('SIGN IN'));\n\n      verify(mockUVM.signIn).called(greaterThan(0));\n    });\n",
            " Widget build(BuildContext context) {\n    final theme = Theme.of(context);\n    return ElevatedButton.icon(\n        key: const Key('loginForm_raisedButton'),\n        style: ButtonStyle(\n            backgroundColor:\n                MaterialStateProperty.all<Color>(theme.primaryColor)),\n        label: const Text(\n          'SIGN IN',\n          style: TextStyle(color: Colors.white, fontSize: 17),\n        ),\n        icon: const Icon(FontAwesomeIcons.google, color: Colors.white),\n        onPressed: () async => {\n              Provider.of<UserViewModel>(context, listen: false).signIn()\n            });\n  }\n"
        ]
    },
    {
        "titulo": "How can I test this async piece of code in Flutter using Mockito?",
        "score": 0,
        "views": 123,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "testing"
        ],
        "link": "https://stackoverflow.com/questions/75493892/how-can-i-test-this-async-piece-of-code-in-flutter-using-mockito",
        "conteudo_html": "<p>I am trying to write some test for an app, but I can't test values stored in a provider. I am relatively new to testing, so there might be something that I am doing wrong, but anyway. What I want to test is to verify is two values are not the same, which should be the expected behavior, but I just can't make it pass.\nThis is the code that I want to test:</p>\n<pre><code>class RSAKeysProvider {\n    KeyPair? _keyPair;\n\n    KeyPair? get keyPair =&gt; _keyPair;\n    set setKeyPair(KeyPair keyPair) =&gt; _keyPair = keyPair;\n\n    Future&lt;void&gt; generate(String bits) async {\n        var keyPair = await RSA.generate(int.parse(bits));\n        _keyPair = keyPair;\n        notifyListeners();\n    }\n}\n</code></pre>\n<p>I need to first call the generate() function, which will set the keyPair to actual values, and then check if keyPair.publicKey is different than keyPair.privateKey, but it gives me an error when I try to call generate() with await inside a test.</p>\n<p>This is what I have for now, but it doesn't work. The test breaks when it cames to the line &quot;await rsaKeys.generate('2048'). What can I do to make it work? I know the condition is not checking if both are different, but it is just a placeholder, I can't make the code arrive there!</p>\n<pre><code>test('Public and private key should be different', () async {\n      final MockRSAKeysProvider rsaKeys = MockRSAKeysProvider();\n\n      when(rsaKeys.generate(any)).thenAnswer((value) async {\n        KeyPair keyPair = await RSA.generate(2048);\n        rsaKeys.setKeyPair = keyPair;\n      });\n\n      await rsaKeys.generate('2048');\n\n      expect(rsaKeys.keyPair?.privateKey, isNotNull);\n      expect(rsaKeys.keyPair?.publicKey, isNotNull);\n    });\n</code></pre>\n<p>When it arrives at &quot;await rsaKeys.generate('2048'), it gives me this error:</p>\n<pre><code>Invalid argument(s): Failed to load dynamic library 'librsa_bridge.dylib': dlopen(librsa_bridge.dylib, 0x0001): tried: 'librsa_bridge.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibrsa_bridge.dylib' (no such file), '/opt/homebrew/Caskroom/flutter/3.7.3/flutter/bin/cache/artifacts/engine/darwin-x64/./librsa_bridge.dylib' (no such file), '/opt/homebrew/Caskroom/flutter/3.7.3/flutter/bin/cache/artifacts/engine/darwin-x64/../../../librsa_bridge.dylib' (no such file), '/opt/homebrew/Caskroom/flutter/3.7.3/flutter/bin/cache/artifacts/engine/darwin-x64/Frameworks/librsa_bridge.dylib' (no such file), '/opt/homebrew/Caskroom/flutter/3.7.3/flutter/bin/cache/artifacts/engine/darwin-x64/./librsa_bridge.dylib' (no such file), '/opt/homebrew/Caskroom/flutter/3.7.3/flutter/bin/cache/artifacts/engine/darwin-x64/../../../librsa_bridge.dylib' (no such file), '/opt/homebrew/Caskroom/flutter/3.7.3/flutter/bin/cache/artifacts/engine/darwin-x64/Frameworks/librsa_bridge.dylib' (no such file), '/usr/lib/librsa_bridge.dylib' (no such file, not in dyld cache), 'librsa_bridge.dylib' (no such file), '/usr/lib/librsa_bridge.dylib' (no such file, not in dyld cache)\n  dart:ffi                                     new DynamicLibrary.open\n  package:fast_rsa/bridge/binding.dart 117:33  Binding.openLib\n  package:fast_rsa/bridge/binding.dart 26:16   new Binding._internal\n  package:fast_rsa/bridge/binding.dart 17:45   Binding._singleton\n  package:fast_rsa/bridge/binding.dart         Binding._singleton\n  package:fast_rsa/bridge/binding.dart 22:12   new Binding\n  package:fast_rsa/fast_rsa.dart 40:32         RSA.bindingEnabled\n  package:fast_rsa/fast_rsa.dart               RSA.bindingEnabled\n  package:fast_rsa/fast_rsa.dart 43:9          RSA._call\n  package:fast_rsa/fast_rsa.dart 79:22         RSA._keyPairResponse\n  package:fast_rsa/fast_rsa.dart 437:18        RSA.generate\n  test/rsa_keys.test.dart 32:37                main.&lt;fn&gt;.&lt;fn&gt;.&lt;fn&gt;\n  package:mockito/src/mock.dart 185:45         Mock.noSuchMethod\n  test/rsa_keys.test.mocks.dart 75:53          MockRSAKeysProvider.generate\n  test/rsa_keys.test.dart 36:21                main.&lt;fn&gt;.&lt;fn&gt;\n</code></pre>\n",
        "codigo": [
            "class RSAKeysProvider {\n    KeyPair? _keyPair;\n\n    KeyPair? get keyPair => _keyPair;\n    set setKeyPair(KeyPair keyPair) => _keyPair = keyPair;\n\n    Future<void> generate(String bits) async {\n        var keyPair = await RSA.generate(int.parse(bits));\n        _keyPair = keyPair;\n        notifyListeners();\n    }\n}\n",
            "test('Public and private key should be different', () async {\n      final MockRSAKeysProvider rsaKeys = MockRSAKeysProvider();\n\n      when(rsaKeys.generate(any)).thenAnswer((value) async {\n        KeyPair keyPair = await RSA.generate(2048);\n        rsaKeys.setKeyPair = keyPair;\n      });\n\n      await rsaKeys.generate('2048');\n\n      expect(rsaKeys.keyPair?.privateKey, isNotNull);\n      expect(rsaKeys.keyPair?.publicKey, isNotNull);\n    });\n",
            "Invalid argument(s): Failed to load dynamic library 'librsa_bridge.dylib': dlopen(librsa_bridge.dylib, 0x0001): tried: 'librsa_bridge.dylib' (no such file), '/System/Volumes/Preboot/Cryptexes/OSlibrsa_bridge.dylib' (no such file), '/opt/homebrew/Caskroom/flutter/3.7.3/flutter/bin/cache/artifacts/engine/darwin-x64/./librsa_bridge.dylib' (no such file), '/opt/homebrew/Caskroom/flutter/3.7.3/flutter/bin/cache/artifacts/engine/darwin-x64/../../../librsa_bridge.dylib' (no such file), '/opt/homebrew/Caskroom/flutter/3.7.3/flutter/bin/cache/artifacts/engine/darwin-x64/Frameworks/librsa_bridge.dylib' (no such file), '/opt/homebrew/Caskroom/flutter/3.7.3/flutter/bin/cache/artifacts/engine/darwin-x64/./librsa_bridge.dylib' (no such file), '/opt/homebrew/Caskroom/flutter/3.7.3/flutter/bin/cache/artifacts/engine/darwin-x64/../../../librsa_bridge.dylib' (no such file), '/opt/homebrew/Caskroom/flutter/3.7.3/flutter/bin/cache/artifacts/engine/darwin-x64/Frameworks/librsa_bridge.dylib' (no such file), '/usr/lib/librsa_bridge.dylib' (no such file, not in dyld cache), 'librsa_bridge.dylib' (no such file), '/usr/lib/librsa_bridge.dylib' (no such file, not in dyld cache)\n  dart:ffi                                     new DynamicLibrary.open\n  package:fast_rsa/bridge/binding.dart 117:33  Binding.openLib\n  package:fast_rsa/bridge/binding.dart 26:16   new Binding._internal\n  package:fast_rsa/bridge/binding.dart 17:45   Binding._singleton\n  package:fast_rsa/bridge/binding.dart         Binding._singleton\n  package:fast_rsa/bridge/binding.dart 22:12   new Binding\n  package:fast_rsa/fast_rsa.dart 40:32         RSA.bindingEnabled\n  package:fast_rsa/fast_rsa.dart               RSA.bindingEnabled\n  package:fast_rsa/fast_rsa.dart 43:9          RSA._call\n  package:fast_rsa/fast_rsa.dart 79:22         RSA._keyPairResponse\n  package:fast_rsa/fast_rsa.dart 437:18        RSA.generate\n  test/rsa_keys.test.dart 32:37                main.<fn>.<fn>.<fn>\n  package:mockito/src/mock.dart 185:45         Mock.noSuchMethod\n  test/rsa_keys.test.mocks.dart 75:53          MockRSAKeysProvider.generate\n  test/rsa_keys.test.dart 36:21                main.<fn>.<fn>\n"
        ]
    },
    {
        "titulo": "I got Error: Expected a value of type &#39;Map&lt;String, dynamic&gt;&#39;, but got one of type &#39;String&#39;, what should i do?",
        "score": 1,
        "views": 1512,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "dio"
        ],
        "link": "https://stackoverflow.com/questions/75482678/i-got-error-expected-a-value-of-type-mapstring-dynamic-but-got-one-of-typ",
        "conteudo_html": "<p>I use Dio to getting response, and this is my modeling classes:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:shoppingcenter/screens/homePage.dart';\n\nclass MALL {\n  late final int id;\n  late final String name;\n  late final String images;\n\n  MALL({required this.id, required this.name, required this.images});\n\n  factory MALL.fromJson(Map&lt;String, dynamic&gt; data) {\n    final id = data['id'];\n    final name = data['name'];\n    final images = data['images'];\n    return MALL(id: id, name: name, images: images);\n  }\n}\n\nclass City {\n  final List&lt;MALL&gt; malls;\n\n  City({required this.malls});\n\n  factory City.fromJson(Map&lt;String, dynamic&gt; data) {\n    final mallData = data['malls'] as List&lt;dynamic&gt;?;\n    final malls = mallData != null ? mallData.map((mallData) =&gt; MALL.fromJson(mallData)).toList() : &lt;MALL&gt;[];\n    return City(malls: malls);\n  }\n}\n</code></pre>\n<p>I get this error when I try to use my classes:</p>\n<pre><code>Error: Expected a value of type 'Map&lt;String, dynamic&gt;', but got one of type 'String'\n</code></pre>\n<p>My JSON is:</p>\n<pre><code>{\n  &quot;malls&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;city center&quot;,\n      &quot;images&quot;: &quot;city.jpg&quot;\n    }\n  ]\n}\n</code></pre>\n<p>My response code:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;List&lt;MALL&gt;&gt; get() async {\n  final dio = Dio();\n  var url = 'My URL';\n  Response response = await dio.get(url);\n  City api = City.fromJson(response.data);\n  return api.malls;\n}\n</code></pre>\n<p>What should I do?</p>\n",
        "codigo": [
            "import 'package:shoppingcenter/screens/homePage.dart';\n\nclass MALL {\n  late final int id;\n  late final String name;\n  late final String images;\n\n  MALL({required this.id, required this.name, required this.images});\n\n  factory MALL.fromJson(Map<String, dynamic> data) {\n    final id = data['id'];\n    final name = data['name'];\n    final images = data['images'];\n    return MALL(id: id, name: name, images: images);\n  }\n}\n\nclass City {\n  final List<MALL> malls;\n\n  City({required this.malls});\n\n  factory City.fromJson(Map<String, dynamic> data) {\n    final mallData = data['malls'] as List<dynamic>?;\n    final malls = mallData != null ? mallData.map((mallData) => MALL.fromJson(mallData)).toList() : <MALL>[];\n    return City(malls: malls);\n  }\n}\n",
            "Error: Expected a value of type 'Map<String, dynamic>', but got one of type 'String'\n",
            "{\n  \"malls\": [\n    {\n      \"id\": 1,\n      \"name\": \"city center\",\n      \"images\": \"city.jpg\"\n    }\n  ]\n}\n",
            "Future<List<MALL>> get() async {\n  final dio = Dio();\n  var url = 'My URL';\n  Response response = await dio.get(url);\n  City api = City.fromJson(response.data);\n  return api.malls;\n}\n"
        ]
    },
    {
        "titulo": "How to work with flutter_bloc 8+, go_router +6 and refreshListenable",
        "score": 8,
        "views": 2549,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "firebase-authentication",
            "flutter-bloc",
            "flutter-go-router"
        ],
        "link": "https://stackoverflow.com/questions/75481567/how-to-work-with-flutter-bloc-8-go-router-6-and-refreshlistenable",
        "conteudo_html": "<p>I'm using go_router for navigation and flutter_bloc for my state management.</p>\n<p>I would like to use refreshListenable and listen to my AuthBloC events in my GoRouter configuration, however, I don't have access to context in my GoRouter, and I would like not to provide it.</p>\n<p>most of the answers I've found are outdated or use alternatives like StreamBuilder to re-render the whole app on event changes which are not ideal.</p>\n<p>How can I listen to my AuthEvents outside of context?</p>\n<p><strong>main.dart</strong></p>\n<pre><code>return RepositoryProvider.value(\n      value: authRepo,\n      child: BlocProvider(\n        create: (_) =&gt; AuthBloc(authRepo),\n        child: MaterialApp.router(\n          ...\n          routerConfig: Routes.router,\n          builder: (_, child) {\n            final isRTL = LocaleSettings.currentLocale == AppLocale.ar;\n\n            return Directionality(\n              textDirection: isRTL ? TextDirection.rtl : TextDirection.ltr,\n              child: child!,\n            );\n          },\n        ),\n      ),\n</code></pre>\n<p><strong>bloc/auth/auth_bloc.dart</strong></p>\n<pre><code>class AuthBloc extends Bloc&lt;AuthEvent, AuthState&gt; {\n  AuthBloc(this._authenticationRepository) : super(const AuthState()) {\n    on&lt;AuthEvent&gt;((event, emit) {\n      event.when(\n        authStateChangeEvent: (account) =&gt; _authStateChangeEvent(account, emit),\n        signOutEvent: _signOutEvent,\n        verifyAccount: _verifyAccount,\n      );\n    });\n    _userSubscription = _authenticationRepository.user.listen((account) {\n      add(AuthEvent.authStateChangeEvent(account));\n    });\n  }\n\n  late final StreamSubscription&lt;Account&gt; _userSubscription;\n  final AuthenticationRepository _authenticationRepository;\n\n  void _authStateChangeEvent(\n    Account account,\n    Emitter&lt;AuthState&gt; emit,\n  ) {\n   ...\n  }\n\n  void _signOutEvent() {\n   ...\n  }\n\n  void _verifyAccount() {\n    ...\n  }\n\n  @override\n  Future&lt;void&gt; close() {\n    _userSubscription.cancel();\n\n    return super.close();\n  }\n}\n</code></pre>\n<p><strong>Router.dart</strong></p>\n<pre><code>class Routes {\n  Routes._();\n\n  static final _rootNavigatorKey = GlobalKey&lt;NavigatorState&gt;();\n\n  static GoRouter get router =&gt; _router;\n\n  static final GoRouter _router = GoRouter(\n    navigatorKey: _rootNavigatorKey,\n    refreshListenable: , // ! Listen to Auth Changes\n    routes: [..._directNavigations, ..._nestedNavigations],\n    redirect: _authGuard, //\n  );\n\n  static String? _authGuard(BuildContext context, GoRouterState state) {\n    final authState = context.watch&lt;AuthBloc&gt;().state;\n    print(authState.toString());\n\n    final isAuthenticated = authState.authStatus == AuthStatus.authenticated;\n    final isVerified =\n        authState.account != null &amp;&amp; authState.account!.emailVerified;\n    \n    /// ... Some logic for redirection\n   \n    return null;\n  }\n  \n  ...\n}\n</code></pre>\n<p>I'm getting this error when I'm navigating with context.go/context.push</p>\n<pre><code>&quot;Tried to listen to a value exposed with provider, from outside of the widget tree.\\n\\nThis is\njs_primitives.dart:30 likely caused by an event handler (like a button's onPressed) that called\\nProvider.of without\njs_primitives.dart:30 passing `listen: false`.\\n\\nTo fix, write:\\nProvider.of&lt;AuthBloc&gt;(context, listen: false);\\n\\nIt is\njs_primitives.dart:30 unsupported because may pointlessly rebuild the widget associated to the\\nevent handler, when the\njs_primitives.dart:30 widget tree doesn't care about the value.\\n\\nThe context used was:\njs_primitives.dart:30 Navigator-[LabeledGlobalKey&lt;NavigatorState&gt;#31496](dependencies: [HeroControllerScope,\njs_primitives.dart:30 UnmanagedRestorationScope, _FocusTraversalGroupMarker], state: NavigatorState#795d6(tickers:\njs_primitives.dart:30 tracking 1 ticker))\\n&quot;\n</code></pre>\n<p>full crashlog: <a href=\"https://pastebin.com/3A3pdKtr\" rel=\"noreferrer\">https://pastebin.com/3A3pdKtr</a></p>\n<p><strong>Note: I'm willing to replace my Auth BloC with a change notifier but I'm not sure if it's the right way to deal with this problem.</strong></p>\n",
        "codigo": [
            "return RepositoryProvider.value(\n      value: authRepo,\n      child: BlocProvider(\n        create: (_) => AuthBloc(authRepo),\n        child: MaterialApp.router(\n          ...\n          routerConfig: Routes.router,\n          builder: (_, child) {\n            final isRTL = LocaleSettings.currentLocale == AppLocale.ar;\n\n            return Directionality(\n              textDirection: isRTL ? TextDirection.rtl : TextDirection.ltr,\n              child: child!,\n            );\n          },\n        ),\n      ),\n",
            "class AuthBloc extends Bloc<AuthEvent, AuthState> {\n  AuthBloc(this._authenticationRepository) : super(const AuthState()) {\n    on<AuthEvent>((event, emit) {\n      event.when(\n        authStateChangeEvent: (account) => _authStateChangeEvent(account, emit),\n        signOutEvent: _signOutEvent,\n        verifyAccount: _verifyAccount,\n      );\n    });\n    _userSubscription = _authenticationRepository.user.listen((account) {\n      add(AuthEvent.authStateChangeEvent(account));\n    });\n  }\n\n  late final StreamSubscription<Account> _userSubscription;\n  final AuthenticationRepository _authenticationRepository;\n\n  void _authStateChangeEvent(\n    Account account,\n    Emitter<AuthState> emit,\n  ) {\n   ...\n  }\n\n  void _signOutEvent() {\n   ...\n  }\n\n  void _verifyAccount() {\n    ...\n  }\n\n  @override\n  Future<void> close() {\n    _userSubscription.cancel();\n\n    return super.close();\n  }\n}\n",
            "class Routes {\n  Routes._();\n\n  static final _rootNavigatorKey = GlobalKey<NavigatorState>();\n\n  static GoRouter get router => _router;\n\n  static final GoRouter _router = GoRouter(\n    navigatorKey: _rootNavigatorKey,\n    refreshListenable: , // ! Listen to Auth Changes\n    routes: [..._directNavigations, ..._nestedNavigations],\n    redirect: _authGuard, //\n  );\n\n  static String? _authGuard(BuildContext context, GoRouterState state) {\n    final authState = context.watch<AuthBloc>().state;\n    print(authState.toString());\n\n    final isAuthenticated = authState.authStatus == AuthStatus.authenticated;\n    final isVerified =\n        authState.account != null && authState.account!.emailVerified;\n    \n    /// ... Some logic for redirection\n   \n    return null;\n  }\n  \n  ...\n}\n",
            "\"Tried to listen to a value exposed with provider, from outside of the widget tree.\\n\\nThis is\njs_primitives.dart:30 likely caused by an event handler (like a button's onPressed) that called\\nProvider.of without\njs_primitives.dart:30 passing `listen: false`.\\n\\nTo fix, write:\\nProvider.of<AuthBloc>(context, listen: false);\\n\\nIt is\njs_primitives.dart:30 unsupported because may pointlessly rebuild the widget associated to the\\nevent handler, when the\njs_primitives.dart:30 widget tree doesn't care about the value.\\n\\nThe context used was:\njs_primitives.dart:30 Navigator-[LabeledGlobalKey<NavigatorState>#31496](dependencies: [HeroControllerScope,\njs_primitives.dart:30 UnmanagedRestorationScope, _FocusTraversalGroupMarker], state: NavigatorState#795d6(tickers:\njs_primitives.dart:30 tracking 1 ticker))\\n\"\n"
        ]
    },
    {
        "titulo": "How to use WebView flutter to restrict Navigation to some pages",
        "score": 1,
        "views": 657,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75472159/how-to-use-webview-flutter-to-restrict-navigation-to-some-pages",
        "conteudo_html": "<p>I',m trying to use webview in my flutter app to take me back to the app once they navigate to a restricted url</p>\n<p>I already created the controller and set it in my init state</p>\n<pre><code>  \n    super.initState();\n    controller = WebViewController()\n      ..setJavaScriptMode(JavaScriptMode.unrestricted)\n      ..setBackgroundColor(const Color(0x00000000))\n      ..setNavigationDelegate(\n        NavigationDelegate(\n          onProgress: (int progress) {\n            SmartDialog.showLoading();\n          },\n          onPageStarted: (String url) {},\n          onPageFinished: (String url) {\n            SmartDialog.dismiss();\n          },\n          onWebResourceError: (WebResourceError error) {\n            SmartDialog.showToast('Something went wrong');\n            Navigator.pushNamedAndRemoveUntil(\n                context, '/landingpage', (Route&lt;dynamic&gt; route) =&gt; false);\n          },\n          onNavigationRequest: (NavigationRequest request) {\n            if (request.url.startsWith('https://www.youtube.com/')) {\n              return NavigationDecision.prevent;\n            } else if (request.url.endsWith('page5')) {\n              Navigator.pushNamedAndRemoveUntil(\n                  context, '/landingpage', (Route&lt;dynamic&gt; route) =&gt; false);\n            } else if (request.url.startsWith(\n                'https://www.facebook.com/')) {\n              Navigator.pushAndRemoveUntil(\n                  context,\n                  MaterialPageRoute(\n                      builder: (context) =&gt;\n                          verifyquickbuy(price: int.parse(widget.price))),\n                  (Route&lt;dynamic&gt; route) =&gt; false);\n            }\n\n            return NavigationDecision.navigate;\n          },\n        ),\n      )\n      ..loadRequest(Uri.parse('https://google.com'));\n  }\n</code></pre>\n<p>I tried putting a print in the onNavigationRequest to know if it print all url I visit but it only works just when the webview is activated</p>\n<pre><code>    getcontroller();\n    return SafeArea(\n        child: WebViewWidget(\n      controller: controller,\n      //gestureRecognizers: GestureDetector,\n    ));\n  }\n}\n</code></pre>\n",
        "codigo": [
            "  \n    super.initState();\n    controller = WebViewController()\n      ..setJavaScriptMode(JavaScriptMode.unrestricted)\n      ..setBackgroundColor(const Color(0x00000000))\n      ..setNavigationDelegate(\n        NavigationDelegate(\n          onProgress: (int progress) {\n            SmartDialog.showLoading();\n          },\n          onPageStarted: (String url) {},\n          onPageFinished: (String url) {\n            SmartDialog.dismiss();\n          },\n          onWebResourceError: (WebResourceError error) {\n            SmartDialog.showToast('Something went wrong');\n            Navigator.pushNamedAndRemoveUntil(\n                context, '/landingpage', (Route<dynamic> route) => false);\n          },\n          onNavigationRequest: (NavigationRequest request) {\n            if (request.url.startsWith('https://www.youtube.com/')) {\n              return NavigationDecision.prevent;\n            } else if (request.url.endsWith('page5')) {\n              Navigator.pushNamedAndRemoveUntil(\n                  context, '/landingpage', (Route<dynamic> route) => false);\n            } else if (request.url.startsWith(\n                'https://www.facebook.com/')) {\n              Navigator.pushAndRemoveUntil(\n                  context,\n                  MaterialPageRoute(\n                      builder: (context) =>\n                          verifyquickbuy(price: int.parse(widget.price))),\n                  (Route<dynamic> route) => false);\n            }\n\n            return NavigationDecision.navigate;\n          },\n        ),\n      )\n      ..loadRequest(Uri.parse('https://google.com'));\n  }\n",
            "    getcontroller();\n    return SafeArea(\n        child: WebViewWidget(\n      controller: controller,\n      //gestureRecognizers: GestureDetector,\n    ));\n  }\n}\n"
        ]
    },
    {
        "titulo": "Flutter unit testing - Binding has not yet been initialized",
        "score": 5,
        "views": 6188,
        "respostas": 3,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "hybrid-mobile-app",
            "dart-unittest"
        ],
        "link": "https://stackoverflow.com/questions/75470485/flutter-unit-testing-binding-has-not-yet-been-initialized",
        "conteudo_html": "<p>Used SharedPreference throwing error in Unit test. In one function I have used SharedPreference and during it's unit testing getting error as &quot;Binding has not yet been initialized&quot; and many other errors too.</p>\n<p>Working unit test:\n<a href=\"https://i.sstatic.net/ukuPP.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/ukuPP.png\" alt=\"enter image description here\" /></a></p>\n<p>After uncommenting SharedPreference code:\n<a href=\"https://i.sstatic.net/ullk0.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/ullk0.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is the code of my User.dart file</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import 'package:shared_preferences/shared_preferences.dart';\n\nclass User {\n  final String name;\n\n  User(this.name);\n  Future&lt;bool&gt; userName() async {\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    await prefs.setString(\"name\", name);\n    return true;\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>and below is the code of test file (User_test.dart)</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import 'dart:math';\n\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:unit_testf/user.dart';\n\nvoid main() {\n  test(\"a unit test\", () async {\n    User user = User(\"flutter\");\n    final result = await user.userName();\n    expect(result, true);\n  });\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Below is the errors I am getting.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Binding has not yet been initialized.\nThe \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\nTypically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After calling that method, the \"instance\" getter will return the binding.\nIn a test, one can call \"TestWidgetsFlutterBinding.ensureInitialized()\" as the first line in the test's \"main()\" method to initialize the binding.\nIf ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the \"instance\" getter.\npackage:flutter/src/foundation/binding.dart 284:9                               BindingBase.checkInstance.&lt;fn&gt;\npackage:flutter/src/foundation/binding.dart 366:6                               BindingBase.checkInstance\npackage:flutter/src/services/binding.dart 54:54                                 ServicesBinding.instance\npackage:flutter/src/services/platform_channel.dart 166:45                       BasicMessageChannel.binaryMessenger\npackage:flutter/src/services/platform_channel.dart 180:38                       BasicMessageChannel.send\npackage:shared_preferences_foundation/messages.g.dart 115:52                    UserDefaultsApi.getAll\npackage:shared_preferences_foundation/shared_preferences_foundation.dart 46:53  SharedPreferencesFoundation.getAll\npackage:shared_preferences/shared_preferences.dart 164:57                       SharedPreferences._getSharedPreferencesMap\npackage:shared_preferences/shared_preferences.dart 33:19                        SharedPreferences.getInstance\npackage:unit_testf/user.dart 8:55                                               User.userName\ntest/user_test.dart 9:31                                                        main.&lt;fn&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Below is the output of my flutter doctor command</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Last login: Thu Feb 16 09:58:26 on console\nanandsuthar@anands-MacBook-Air ~ % flutter doctor\nDoctor summary (to see all details, run flutter doctor -v):\n[✓] Flutter (Channel stable, 3.3.10, on macOS 13.1 22C65 darwin-x64, locale en-GB)\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\n[✓] Xcode - develop for iOS and macOS (Xcode 14.2)\n[✓] Chrome - develop for the web\n[✓] Android Studio (version 2022.1)\n[✓] VS Code (version 1.75.1)\n[✓] Connected device (2 available)\n[✓] HTTP Host Availability\n\n• No issues found!\nanandsuthar@anands-MacBook-Air ~ % </code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
        "codigo": [
            "import 'package:shared_preferences/shared_preferences.dart';\n\nclass User {\n  final String name;\n\n  User(this.name);\n  Future<bool> userName() async {\n    SharedPreferences prefs = await SharedPreferences.getInstance();\n    await prefs.setString(\"name\", name);\n    return true;\n  }\n}",
            "import 'dart:math';\n\nimport 'package:flutter_test/flutter_test.dart';\nimport 'package:unit_testf/user.dart';\n\nvoid main() {\n  test(\"a unit test\", () async {\n    User user = User(\"flutter\");\n    final result = await user.userName();\n    expect(result, true);\n  });\n}",
            "Binding has not yet been initialized.\nThe \"instance\" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.\nTypically, this is done by calling \"WidgetsFlutterBinding.ensureInitialized()\" or \"runApp()\" (the latter calls the former). Typically this call is done in the \"void main()\" method. The \"ensureInitialized\" method is idempotent; calling it multiple times is not harmful. After calling that method, the \"instance\" getter will return the binding.\nIn a test, one can call \"TestWidgetsFlutterBinding.ensureInitialized()\" as the first line in the test's \"main()\" method to initialize the binding.\nIf ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the \"instance\" getter.\npackage:flutter/src/foundation/binding.dart 284:9                               BindingBase.checkInstance.<fn>\npackage:flutter/src/foundation/binding.dart 366:6                               BindingBase.checkInstance\npackage:flutter/src/services/binding.dart 54:54                                 ServicesBinding.instance\npackage:flutter/src/services/platform_channel.dart 166:45                       BasicMessageChannel.binaryMessenger\npackage:flutter/src/services/platform_channel.dart 180:38                       BasicMessageChannel.send\npackage:shared_preferences_foundation/messages.g.dart 115:52                    UserDefaultsApi.getAll\npackage:shared_preferences_foundation/shared_preferences_foundation.dart 46:53  SharedPreferencesFoundation.getAll\npackage:shared_preferences/shared_preferences.dart 164:57                       SharedPreferences._getSharedPreferencesMap\npackage:shared_preferences/shared_preferences.dart 33:19                        SharedPreferences.getInstance\npackage:unit_testf/user.dart 8:55                                               User.userName\ntest/user_test.dart 9:31                                                        main.<fn>",
            "Last login: Thu Feb 16 09:58:26 on console\nanandsuthar@anands-MacBook-Air ~ % flutter doctor\nDoctor summary (to see all details, run flutter doctor -v):\n[✓] Flutter (Channel stable, 3.3.10, on macOS 13.1 22C65 darwin-x64, locale en-GB)\n[✓] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\n[✓] Xcode - develop for iOS and macOS (Xcode 14.2)\n[✓] Chrome - develop for the web\n[✓] Android Studio (version 2022.1)\n[✓] VS Code (version 1.75.1)\n[✓] Connected device (2 available)\n[✓] HTTP Host Availability\n\n• No issues found!\nanandsuthar@anands-MacBook-Air ~ % "
        ]
    },
    {
        "titulo": "E/SurfaceSyncer( 8706): Failed to find sync for id=0",
        "score": 1,
        "views": 1472,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "intellij-idea"
        ],
        "link": "https://stackoverflow.com/questions/75464625/e-surfacesyncer-8706-failed-to-find-sync-for-id-0",
        "conteudo_html": "<p>since a few days, when I run the emulator, the last two lines of the terminal are these:</p>\n<pre><code>E/SurfaceSyncer( 8706): Failed to find sync for id=0\nW/Parcel  ( 8706): Expecting binder but got null!\n</code></pre>\n<p>the IDE is intelliJ</p>\n<p>Can someone explain to me what error it is?</p>\n<p>should i try to fix it?</p>\n<p>the emulator works</p>\n<p>I have tried to delete the emulator data (I saw somewhere that it could be a solution) but not in my case</p>\n",
        "codigo": [
            "E/SurfaceSyncer( 8706): Failed to find sync for id=0\nW/Parcel  ( 8706): Expecting binder but got null!\n"
        ]
    },
    {
        "titulo": "No output if any params used in Positioned - Rare case #120698",
        "score": 0,
        "views": 90,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75450843/no-output-if-any-params-used-in-positioned-rare-case-120698",
        "conteudo_html": "<h2>Steps to Reproduce</h2>\n<p>Create a Flutter project.\nMake a list of containers.\nrun <code>.map()</code> function on it which returns <code>Positioned()</code> widget.\nUse a list of these positioned widgets inside a <code>Stack</code>.</p>\n<p>If you use paraments like <code>top</code>, <code>left</code> etc., no output will be given.\nIf these are ignored, it works like a charm.</p>\n<ol>\n<li>Execute <code>flutter run</code> on the code sample</li>\n</ol>\n<p><strong>Expected results:</strong>\nAfter removing <code>top</code> parameter. Even just using <code>top: 25</code> gives no output.\n<img src=\"https://user-images.githubusercontent.com/84124091/218787875-3dd25c47-72a6-4353-aaee-adf972bcd4a2.png\" alt=\"image\" /></p>\n<p><strong>Actual results:</strong>\n<img src=\"https://user-images.githubusercontent.com/84124091/218787768-4f7d158d-604e-404a-8050-7343676c9f2a.png\" alt=\"image\" /></p>\n\nCode sample\n<pre class=\"lang-dart prettyprint-override\"><code>import &quot;package:flutter/material.dart&quot;;\n\nclass StackedList extends StatefulWidget {\n  const StackedList({\n    required this.children,\n    this.activeItemCount = 3,\n    super.key,\n  });\n\n  //List containing all the widgets to be showed as part of stacked UI\n  final List&lt;Widget&gt; children;\n\n  //number of items shown\n  final int activeItemCount;\n\n  @override\n  State&lt;StackedList&gt; createState() =&gt; _StackedListState();\n}\n\nclass _StackedListState extends State&lt;StackedList&gt; {\n  @override\n  Widget build(BuildContext context) {\n\n    return Scaffold(\n        body: Center(\n      child: Stack(\n          children:\n              widget.children.map((element) {\n        final index = widget.children.indexOf(element);\n        return Positioned(\n          top: 200 + (index * 10),\n          child: Transform.scale(\n            scale: 1 - (index / 20),\n            child: element,\n          ),\n        );\n      }).toList()\n          ),\n    ));\n  }\n}\n\n</code></pre>\n<pre class=\"lang-dart prettyprint-override\"><code>final childrens = &lt;Widget&gt;[\n            Container(\n              height: 75,\n              decoration: BoxDecoration(\n                borderRadius: BorderRadius.circular(16),\n                color: Colors.green,\n              ),\n            ),\n            Container(\n              height: 75,\n              decoration: BoxDecoration(\n                borderRadius: BorderRadius.circular(16),\n                color: Colors.greenAccent,\n              ),\n            ),\n            Container(\n              height: 75,\n              decoration: BoxDecoration(\n                borderRadius: BorderRadius.circular(16),\n                color: Colors.grey,\n              ),\n            ),\n            Container(\n              height: 75,\n              decoration: BoxDecoration(\n                borderRadius: BorderRadius.circular(16),\n                color: Colors.brown,\n              ),\n            )\n          ],\n</code></pre>\n\n\n  Logs\nNo error logs\n<pre><code>[        ] Transforming lifecycle-runtime-2.2.0.aar (androidx.lifecycle:lifecycle-runtime:2.2.0) with\nExtractAarTransform\n[        ] Transforming lifecycle-runtime-2.2.0.aar (androidx.lifecycle:lifecycle-runtime:2.2.0) with AarTransform    \n[        ] Transforming lifecycle-runtime-2.2.0.aar (androidx.lifecycle:lifecycle-runtime:2.2.0) with JetifyTransform \n[        ] Transforming lifecycle-runtime-2.2.0.aar (androidx.lifecycle:lifecycle-runtime:2.2.0) with\nExtractAarTransform\n[        ] Transforming lifecycle-runtime-2.2.0.aar (androidx.lifecycle:lifecycle-runtime:2.2.0) with AarTransform    \n[        ] Transforming savedstate-1.0.0.aar (androidx.savedstate:savedstate:1.0.0) with JetifyTransform\n[        ] Transforming savedstate-1.0.0.aar (androidx.savedstate:savedstate:1.0.0) with ExtractAarTransform\n[        ] Transforming savedstate-1.0.0.aar (androidx.savedstate:savedstate:1.0.0) with AarTransform\n[        ] Transforming lifecycle-livedata-2.0.0.aar (androidx.lifecycle:lifecycle-livedata:2.0.0) with\nJetifyTransform\n[        ] Transforming lifecycle-livedata-2.0.0.aar (androidx.lifecycle:lifecycle-livedata:2.0.0) with\nExtractAarTransform\n[        ] Transforming lifecycle-livedata-2.0.0.aar (androidx.lifecycle:lifecycle-livedata:2.0.0) with AarTransform  \n[        ] Transforming lifecycle-livedata-core-2.0.0.aar (androidx.lifecycle:lifecycle-livedata-core:2.0.0) with     \nJetifyTransform\n[        ] Transforming lifecycle-livedata-core-2.0.0.aar (androidx.lifecycle:lifecycle-livedata-core:2.0.0) with     \nExtractAarTransform\n[        ] Transforming lifecycle-livedata-core-2.0.0.aar (androidx.lifecycle:lifecycle-livedata-core:2.0.0) with\nAarTransform\n[        ] Transforming lifecycle-common-2.2.0.jar (androidx.lifecycle:lifecycle-common:2.2.0) with JetifyTransform   \n[        ] Transforming lifecycle-common-2.2.0.jar (androidx.lifecycle:lifecycle-common:2.2.0) with\nExtractJniTransform\n[        ] Transforming tracing-1.0.0.aar (androidx.tracing:tracing:1.0.0) with JetifyTransform\n[        ] Transforming tracing-1.0.0.aar (androidx.tracing:tracing:1.0.0) with ExtractAarTransform\n[        ] Transforming tracing-1.0.0.aar (androidx.tracing:tracing:1.0.0) with AarTransform\n[        ] Transforming core-runtime-2.0.0.aar (androidx.arch.core:core-runtime:2.0.0) with JetifyTransform\n[        ] Transforming core-runtime-2.0.0.aar (androidx.arch.core:core-runtime:2.0.0) with ExtractAarTransform       \n[        ] Transforming core-runtime-2.0.0.aar (androidx.arch.core:core-runtime:2.0.0) with AarTransform\n[        ] Transforming core-common-2.1.0.jar (androidx.arch.core:core-common:2.1.0) with JetifyTransform\n[        ] Transforming core-common-2.1.0.jar (androidx.arch.core:core-common:2.1.0) with ExtractJniTransform\n[        ] Transforming versionedparcelable-1.1.1.aar (androidx.versionedparcelable:versionedparcelable:1.1.1) with   \nJetifyTransform\n[        ] Transforming versionedparcelable-1.1.1.aar (androidx.versionedparcelable:versionedparcelable:1.1.1) with   \nExtractAarTransform\n[        ] Transforming versionedparcelable-1.1.1.aar (androidx.versionedparcelable:versionedparcelable:1.1.1) with   \nAarTransform\n[        ] Transforming collection-1.1.0.jar (androidx.collection:collection:1.1.0) with JetifyTransform\n[        ] Transforming collection-1.1.0.jar (androidx.collection:collection:1.1.0) with ExtractJniTransform\n[        ] Transforming lifecycle-viewmodel-2.1.0.aar (androidx.lifecycle:lifecycle-viewmodel:2.1.0) with\nJetifyTransform\n[        ] Transforming lifecycle-viewmodel-2.1.0.aar (androidx.lifecycle:lifecycle-viewmodel:2.1.0) with\nExtractAarTransform\n[        ] Transforming lifecycle-viewmodel-2.1.0.aar (androidx.lifecycle:lifecycle-viewmodel:2.1.0) with AarTransform[        ] Transforming annotation-1.2.0.jar (androidx.annotation:annotation:1.2.0) with JetifyTransform\n[        ] Transforming annotation-1.2.0.jar (androidx.annotation:annotation:1.2.0) with ExtractJniTransform\n[        ] Transforming kotlin-stdlib-1.7.10.jar (org.jetbrains.kotlin:kotlin-stdlib:1.7.10) with JetifyTransform     \n[        ] Transforming kotlin-stdlib-1.7.10.jar (org.jetbrains.kotlin:kotlin-stdlib:1.7.10) with ExtractJniTransform \n[        ] Transforming annotation-experimental-1.1.0.aar (androidx.annotation:annotation-experimental:1.1.0) with    \nJetifyTransform\n[        ] Transforming annotation-experimental-1.1.0.aar (androidx.annotation:annotation-experimental:1.1.0) with    \nExtractAarTransform\n[        ] Transforming annotation-experimental-1.1.0.aar (androidx.annotation:annotation-experimental:1.1.0) with    \nAarTransform\n[        ] Transforming kotlin-stdlib-common-1.7.10.jar (org.jetbrains.kotlin:kotlin-stdlib-common:1.7.10) with       \nJetifyTransform\n[        ] Transforming kotlin-stdlib-common-1.7.10.jar (org.jetbrains.kotlin:kotlin-stdlib-common:1.7.10) with       \nExtractJniTransform\n[        ] Transforming annotations-13.0.jar (org.jetbrains:annotations:13.0) with JetifyTransform\n[        ] Transforming annotations-13.0.jar (org.jetbrains:annotations:13.0) with ExtractJniTransform\n[        ] Caching disabled for task ':app:mergeDebugNativeLibs' because:\n[        ]   Build cache is disabled\n[        ] Skipping task ':app:mergeDebugNativeLibs' as it is up-to-date.\n[        ] :app:mergeDebugNativeLibs (Thread[Execution worker Thread 4,5,main]) completed. Took 0.007 secs.\n[        ] Resolve mutations for :app:stripDebugDebugSymbols (Thread[Execution worker Thread 5,5,main]) started.      \n[        ] Resolve mutations for :app:stripDebugDebugSymbols (Thread[Execution worker Thread 5,5,main]) completed.    \nTook 0.0 secs.\n[        ] :app:stripDebugDebugSymbols (Thread[Execution worker Thread 4,5,main]) started.\n[        ] &gt; Task :app:stripDebugDebugSymbols UP-TO-DATE\n[        ] Caching disabled for task ':app:stripDebugDebugSymbols' because:\n[        ]   Build cache is disabled\n[        ] Skipping task ':app:stripDebugDebugSymbols' as it is up-to-date.\n[        ] :app:stripDebugDebugSymbols (Thread[Execution worker Thread 4,5,main]) completed. Took 0.001 secs.\n[        ] Resolve mutations for :app:validateSigningDebug (Thread[Execution worker Thread 5,5,main]) started.        \n[        ] Resolve mutations for :app:validateSigningDebug (Thread[Execution worker Thread 5,5,main]) completed. Took \n0.0 secs.\n[        ] :app:validateSigningDebug (Thread[Execution worker Thread 5,5,main]) started.\n[        ] &gt; Task :app:validateSigningDebug UP-TO-DATE\n[        ] Caching disabled for task ':app:validateSigningDebug' because:\n[        ]   Build cache is disabled\n[        ] Skipping task ':app:validateSigningDebug' as it is up-to-date.\n[        ] :app:validateSigningDebug (Thread[Execution worker Thread 5,5,main]) completed. Took 0.0 secs.\n[        ] Resolve mutations for :app:writeDebugAppMetadata (Thread[Execution worker Thread 4,5,main]) started.       \n[        ] Resolve mutations for :app:writeDebugAppMetadata (Thread[Execution worker Thread 4,5,main]) completed. Took0.0 secs.\n[        ] :app:writeDebugAppMetadata (Thread[Execution worker Thread 4,5,main]) started.\n[        ] &gt; Task :app:writeDebugAppMetadata UP-TO-DATE\n[        ] Caching disabled for task ':app:writeDebugAppMetadata' because:\n[        ]   Build cache is disabled\n[        ] Skipping task ':app:writeDebugAppMetadata' as it is up-to-date.\n[        ] Resolve mutations for :app:writeDebugSigningConfigVersions (Thread[Execution worker Thread 5,5,main])      \nstarted.\n[        ] Resolve mutations for :app:writeDebugSigningConfigVersions (Thread[Execution worker Thread 5,5,main])      \ncompleted. Took 0.0 secs.\n[        ] :app:writeDebugAppMetadata (Thread[Execution worker Thread 4,5,main]) completed. Took 0.001 secs.\n[        ] :app:writeDebugSigningConfigVersions (Thread[Execution worker Thread 5,5,main]) started.\n[        ] &gt; Task :app:writeDebugSigningConfigVersions UP-TO-DATE\n[        ] Caching disabled for task ':app:writeDebugSigningConfigVersions' because:\n[        ]   Build cache is disabled\n[        ] Skipping task ':app:writeDebugSigningConfigVersions' as it is up-to-date.\n[        ] :app:writeDebugSigningConfigVersions (Thread[Execution worker Thread 5,5,main]) completed. Took 0.002 secs.[        ] &gt; Task :app:compressDebugAssets\n[        ] Execution optimizations have been disabled for task ':app:compressDebugAssets' to ensure correctness due tothe following reasons:\n[        ]   - Gradle detected a problem with the following location: 'C:\\Code\nProjects\\amazon_echo_page\\build\\app\\intermediates\\assets\\debug\\mergeDebugAssets'. Reason: Task\n':app:compressDebugAssets' uses this output of task ':app:copyFlutterAssetsDebug' without declaring an explicit or    \nimplicit dependency. This can lead to incorrect results being produced, depending on what order the tasks are\nexecuted. Please refer to https://docs.gradle.org/7.5/userguide/validation_problems.html#implicit_dependency for more \ndetails about this problem.\n[        ] Invalidating VFS because task ':app:compressDebugAssets' failed validation\n[        ] Not watching anything anymore\n[        ] Watching 0 directory hierarchies to track changes\n[        ] Caching disabled for task ':app:compressDebugAssets' because:\n[        ]   Build cache is disabled\n[        ] Task ':app:compressDebugAssets' is not up-to-date because:\n[        ]   Incremental execution has been disabled to ensure correctness. Please consult deprecation warnings for   \nmore details.\n[        ] The input changes require a full rebuild for incremental task ':app:compressDebugAssets'.\n[        ] :app:compressDebugAssets (Thread[Execution worker Thread 6,5,main]) completed. Took 0.681 secs.\n[        ] Resolve mutations for :app:packageDebug (Thread[Execution worker Thread 5,5,main]) started.\n[  +23 ms] Resolve mutations for :app:packageDebug (Thread[Execution worker Thread 5,5,main]) completed. Took 0.0\nsecs.\n[        ] :app:packageDebug (Thread[Execution worker Thread 6,5,main]) started.\n[        ] &gt; Task :app:packageDebug UP-TO-DATE\n[        ] Caching disabled for task ':app:packageDebug' because:\n[        ]   Build cache is disabled\n[        ] Skipping task ':app:packageDebug' as it is up-to-date.\n[        ] :app:packageDebug (Thread[Execution worker Thread 6,5,main]) completed. Took 0.007 secs.\n[        ] Resolve mutations for :app:createDebugApkListingFileRedirect (Thread[Execution worker Thread 6,5,main])    \nstarted.\n[        ] Resolve mutations for :app:createDebugApkListingFileRedirect (Thread[Execution worker Thread 6,5,main])    \ncompleted. Took 0.0 secs.\n[        ] :app:createDebugApkListingFileRedirect (Thread[Execution worker Thread 6,5,main]) started.\n[        ] producer locations for task group 0 (Thread[Execution worker,5,main]) started.\n[        ] producer locations for task group 0 (Thread[Execution worker,5,main]) completed. Took 0.0 secs.\n[        ] &gt; Task :app:createDebugApkListingFileRedirect UP-TO-DATE\n[        ] Caching disabled for task ':app:createDebugApkListingFileRedirect' because:\n[        ]   Build cache is disabled\n[        ] Skipping task ':app:createDebugApkListingFileRedirect' as it is up-to-date.\n[        ] :app:createDebugApkListingFileRedirect (Thread[Execution worker Thread 6,5,main]) completed. Took 0.001    \nsecs.\n[        ] Resolve mutations for :app:assembleDebug (Thread[Execution worker Thread 6,5,main]) started.\n[        ] Resolve mutations for :app:assembleDebug (Thread[Execution worker Thread 6,5,main]) completed. Took 0.0    \nsecs.\n[        ] :app:assembleDebug (Thread[Execution worker Thread 6,5,main]) started.\n[  +25 ms] &gt; Task :app:assembleDebug\n[        ] Caching disabled for task ':app:assembleDebug' because:\n[        ]   Build cache is disabled\n[        ] Task ':app:assembleDebug' is not up-to-date because:\n[        ]   Task has not declared any outputs despite executing actions.\n[        ] :app:assembleDebug (Thread[Execution worker Thread 6,5,main]) completed. Took 0.104 secs.\n[        ] Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n[        ] You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come    \nfrom your own scripts or plugins.\n[        ] See https://docs.gradle.org/7.5/userguide/command_line_interface.html#sec:command_line_warnings\n[        ] Execution optimizations have been disabled for 1 invalid unit(s) of work during this build to ensure       \ncorrectness.\n[        ] Please consult deprecation warnings for more details.\n[        ] BUILD SUCCESSFUL in 5s\n[        ] 36 actionable tasks: 6 executed, 30 up-to-date\n[        ] Watched directory hierarchies: []\n[ +529 ms] Running Gradle task 'assembleDebug'... (completed in 6.5s)\n[   +2 ms] Calculate SHA1: LocalDirectory: 'C:\\Code\nProjects\\amazon_echo_page\\build\\app\\outputs\\flutter-apk'/app-debug.apk\n[ +597 ms] √  Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\n[   +2 ms] executing: C:\\src\\Android\\SDK\\build-tools\\33.0.1\\aapt dump xmltree C:\\Code\nProjects\\amazon_echo_page\\build\\app\\outputs\\flutter-apk\\app-debug.apk AndroidManifest.xml\n[  +24 ms] Exit code 0 from: C:\\src\\Android\\SDK\\build-tools\\33.0.1\\aapt dump xmltree C:\\Code\nProjects\\amazon_echo_page\\build\\app\\outputs\\flutter-apk\\app-debug.apk AndroidManifest.xml\n[        ] N: android=http://schemas.android.com/apk/res/android\n             E: manifest (line=2)\n               A: android:versionCode(0x0101021b)=(type 0x10)0x1\n               A: android:versionName(0x0101021c)=&quot;1.0.0&quot; (Raw: &quot;1.0.0&quot;)\n               A: android:compileSdkVersion(0x01010572)=(type 0x10)0x21\n               A: android:compileSdkVersionCodename(0x01010573)=&quot;13&quot; (Raw: &quot;13&quot;)\n               A: package=&quot;com.example.amazon_echo_page&quot; (Raw: &quot;com.example.amazon_echo_page&quot;)\n               A: platformBuildVersionCode=(type 0x10)0x21\n               A: platformBuildVersionName=(type 0x10)0xd\n               E: uses-sdk (line=7)\n                 A: android:minSdkVersion(0x0101020c)=(type 0x10)0x10\n                 A: android:targetSdkVersion(0x01010270)=(type 0x10)0x21\n               E: uses-permission (line=15)\n                 A: android:name(0x01010003)=&quot;android.permission.INTERNET&quot; (Raw: &quot;android.permission.INTERNET&quot;)       \n               E: application (line=17)\n                 A: android:label(0x01010001)=&quot;amazon_echo_page&quot; (Raw: &quot;amazon_echo_page&quot;)\n                 A: android:icon(0x01010002)=@0x7f080000\n                 A: android:name(0x01010003)=&quot;android.app.Application&quot; (Raw: &quot;android.app.Application&quot;)\n                 A: android:debuggable(0x0101000f)=(type 0x12)0xffffffff\n                 A: android:appComponentFactory(0x0101057a)=&quot;androidx.core.app.CoreComponentFactory&quot; (Raw:\n                 &quot;androidx.core.app.CoreComponentFactory&quot;)\n                 E: activity (line=23)\n                   A: android:theme(0x01010000)=@0x7f0a0000\n                   A: android:name(0x01010003)=&quot;com.example.amazon_echo_page.MainActivity&quot; (Raw:\n                   &quot;com.example.amazon_echo_page.MainActivity&quot;)\n                   A: android:exported(0x01010010)=(type 0x12)0xffffffff\n                   A: android:launchMode(0x0101001d)=(type 0x10)0x1\n                   A: android:configChanges(0x0101001f)=(type 0x11)0x40003fb4\n                   A: android:windowSoftInputMode(0x0101022b)=(type 0x11)0x10\n                   A: android:hardwareAccelerated(0x010102d3)=(type 0x12)0xffffffff\n                   E: meta-data (line=38)\n                     A: android:name(0x01010003)=&quot;io.flutter.embedding.android.NormalTheme&quot; (Raw:\n                     &quot;io.flutter.embedding.android.NormalTheme&quot;)\n                     A: android:resource(0x01010025)=@0x7f0a0001\n                   E: intent-filter (line=42)\n                     E: action (line=43)\n                       A: android:name(0x01010003)=&quot;android.intent.action.MAIN&quot; (Raw: &quot;android.intent.action.MAIN&quot;)   \n                     E: category (line=45)\n                       A: android:name(0x01010003)=&quot;android.intent.category.LAUNCHER&quot; (Raw:\n                       &quot;android.intent.category.LAUNCHER&quot;)\n                 E: meta-data (line=52)\n                   A: android:name(0x01010003)=&quot;flutterEmbedding&quot; (Raw: &quot;flutterEmbedding&quot;)\n                   A: android:value(0x01010024)=(type 0x10)0x2\n                 E: uses-library (line=56)\n                   A: android:name(0x01010003)=&quot;androidx.window.extensions&quot; (Raw: &quot;androidx.window.extensions&quot;)       \n                   A: android:required(0x0101028e)=(type 0x12)0x0\n                 E: uses-library (line=59)\n                   A: android:name(0x01010003)=&quot;androidx.window.sidecar&quot; (Raw: &quot;androidx.window.sidecar&quot;)\n                   A: android:required(0x0101028e)=(type 0x12)0x0\n[   +6 ms] Stopping app 'app-debug.apk' on sdk gphone64 x86 64.\n[        ] executing: C:\\src\\Android\\SDK\\platform-tools\\adb.exe -s emulator-5554 shell am force-stop\ncom.example.amazon_echo_page\n[  +65 ms] executing: C:\\src\\Android\\SDK\\platform-tools\\adb.exe -s emulator-5554 shell pm list packages\ncom.example.amazon_echo_page\n[  +97 ms] package:com.example.amazon_echo_page\n[   +1 ms] executing: C:\\src\\Android\\SDK\\platform-tools\\adb.exe -s emulator-5554 shell cat\n/data/local/tmp/sky.com.example.amazon_echo_page.sha1\n[  +47 ms] 3a2dbb94e641ceb1c011256a71b600fb6d6342f3\n[   +1 ms] Latest build already installed.\n[        ] executing: C:\\src\\Android\\SDK\\platform-tools\\adb.exe -s emulator-5554 shell -x logcat -v time -t 1\n[  +51 ms] --------- beginning of main\n           02-14 21:13:59.045 D/CarrierSvcBindHelper(  921): No carrier app for: 0\n[   +4 ms] executing: C:\\src\\Android\\SDK\\platform-tools\\adb.exe -s emulator-5554 shell am start -a\nandroid.intent.action.MAIN -c android.intent.category.LAUNCHER -f 0x20000000 --ez enable-dart-profiling true --ez     \nenable-checked-mode true --ez verify-entry-points true\ncom.example.amazon_echo_page/com.example.amazon_echo_page.MainActivity\n[  +70 ms] Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x20000000\ncmp=com.example.amazon_echo_page/.MainActivity (has extras) }\n[   +1 ms] Waiting for observatory port to be available...\n[ +559 ms] Observatory URL on device: http://127.0.0.1:36213/YB2WX5_tTgw=/\n[   +1 ms] executing: C:\\src\\Android\\SDK\\platform-tools\\adb.exe -s emulator-5554 forward tcp:0 tcp:36213\n[  +40 ms] 60200\n[        ] Forwarded host port 60200 to device port 36213 for Observatory\n[   +4 ms] Caching compiled dill\n[  +31 ms] Connecting to service protocol: http://127.0.0.1:60200/YB2WX5_tTgw=/\n[ +262 ms] Launching a Dart Developer Service (DDS) instance at http://127.0.0.1:0, connecting to VM service at\nhttp://127.0.0.1:60200/YB2WX5_tTgw=/.\n[ +171 ms] DDS is listening at http://127.0.0.1:60203/WwK9SPk9WF0=/.\n[  +53 ms] Successfully connected to service protocol: http://127.0.0.1:60200/YB2WX5_tTgw=/\n[  +71 ms] DevFS: Creating new filesystem on the device (null)\n[  +31 ms] DevFS: Created new filesystem on the device\n(file:///data/user/0/com.example.amazon_echo_page/code_cache/amazon_echo_pageNQVHSV/amazon_echo_page/)\n[   +3 ms] Updating assets\n[ +107 ms] Manifest contained wildcard assets. Inserting missing file into build graph to force rerun. for more\ninformation see #56466.\n[   +5 ms] Syncing files to device sdk gphone64 x86 64...\n[   +3 ms] Compiling dart to kernel with 0 updated files\n[        ] Processing bundle.\n[   +1 ms] &lt;- recompile package:amazon_echo_page/main.dart 06fa5efe-3a35-4146-8cc0-5480b01cce6b\n[        ] &lt;- 06fa5efe-3a35-4146-8cc0-5480b01cce6b\n[   +2 ms] Bundle processing done.\n[  +87 ms] Updating files.\n[        ] DevFS: Sync finished\n[   +2 ms] Syncing files to device sdk gphone64 x86 64... (completed in 97ms)\n[   +1 ms] Synced 0.0MB.\n[   +4 ms] &lt;- accept\n[   +8 ms] Connected to _flutterView/0x72f67ca58530.\n[   +2 ms] Flutter run key commands.\n[   +1 ms] r Hot reload. \n[   +4 ms] R Hot restart.\n[   +1 ms] h List all available interactive commands.\n[   +1 ms] d Detach (terminate &quot;flutter run&quot; but leave application running).\n[        ] c Clear the screen\n[        ] q Quit (terminate the application on the device).\n[        ]  Running with sound null safety \n[        ] An Observatory debugger and profiler on sdk gphone64 x86 64 is available at:\nhttp://127.0.0.1:60203/WwK9SPk9WF0=/\n[ +582 ms] The Flutter DevTools debugger and profiler on sdk gphone64 x86 64 is available at:\n                    http://127.0.0.1:9101?uri=http://127.0.0.1:60203/WwK9SPk9WF0=/\n</code></pre>\n<pre><code>No issues found! (ran in 1.5s)\n</code></pre>\n<pre><code>[√] Flutter (Channel stable, 3.7.0, on Microsoft Windows [Version 10.0.19045.2546], locale en-US)\n    • Flutter version 3.7.0 on channel stable at C:\\src\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision b06b8b2710 (3 weeks ago), 2023-01-23 16:55:55 -0800\n    • Engine revision b24591ed32\n    • Dart version 2.19.0\n    • DevTools version 2.20.1\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\n    • Android SDK at C:\\src\\Android\\SDK\n    • Platform android-33, build-tools 33.0.1\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 11.0.15+0-b2043.56-8887301)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop for Windows (Visual Studio Build Tools 2022 17.4.0)\n    • Visual Studio at C:\\Program Files (x86)\\Microsoft Visual Studio\\2022\\BuildTools\n    • Visual Studio Build Tools 2022 version 17.4.33103.184\n    • Windows 10 SDK version 10.0.22621.0\n\n[√] Android Studio (version 2022.1)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.15+0-b2043.56-8887301)\n\n[√] Connected device (4 available)\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 12 (API 32) (emulator)\n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Version 10.0.19045.2546]     \n    • Chrome (web)                 • chrome        • web-javascript • Google Chrome 109.0.5414.120\n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 109.0.1518.70\n\n[√] HTTP Host Availability\n    • All required HTTP hosts are available\n\n• No issues found!\n</code></pre>\n\n",
        "codigo": [
            ".map()",
            "Positioned()",
            "Stack",
            "top",
            "left",
            "flutter run",
            "top",
            "top: 25",
            "import \"package:flutter/material.dart\";\n\nclass StackedList extends StatefulWidget {\n  const StackedList({\n    required this.children,\n    this.activeItemCount = 3,\n    super.key,\n  });\n\n  //List containing all the widgets to be showed as part of stacked UI\n  final List<Widget> children;\n\n  //number of items shown\n  final int activeItemCount;\n\n  @override\n  State<StackedList> createState() => _StackedListState();\n}\n\nclass _StackedListState extends State<StackedList> {\n  @override\n  Widget build(BuildContext context) {\n\n    return Scaffold(\n        body: Center(\n      child: Stack(\n          children:\n              widget.children.map((element) {\n        final index = widget.children.indexOf(element);\n        return Positioned(\n          top: 200 + (index * 10),\n          child: Transform.scale(\n            scale: 1 - (index / 20),\n            child: element,\n          ),\n        );\n      }).toList()\n          ),\n    ));\n  }\n}\n\n",
            "final childrens = <Widget>[\n            Container(\n              height: 75,\n              decoration: BoxDecoration(\n                borderRadius: BorderRadius.circular(16),\n                color: Colors.green,\n              ),\n            ),\n            Container(\n              height: 75,\n              decoration: BoxDecoration(\n                borderRadius: BorderRadius.circular(16),\n                color: Colors.greenAccent,\n              ),\n            ),\n            Container(\n              height: 75,\n              decoration: BoxDecoration(\n                borderRadius: BorderRadius.circular(16),\n                color: Colors.grey,\n              ),\n            ),\n            Container(\n              height: 75,\n              decoration: BoxDecoration(\n                borderRadius: BorderRadius.circular(16),\n                color: Colors.brown,\n              ),\n            )\n          ],\n",
            "[        ] Transforming lifecycle-runtime-2.2.0.aar (androidx.lifecycle:lifecycle-runtime:2.2.0) with\nExtractAarTransform\n[        ] Transforming lifecycle-runtime-2.2.0.aar (androidx.lifecycle:lifecycle-runtime:2.2.0) with AarTransform    \n[        ] Transforming lifecycle-runtime-2.2.0.aar (androidx.lifecycle:lifecycle-runtime:2.2.0) with JetifyTransform \n[        ] Transforming lifecycle-runtime-2.2.0.aar (androidx.lifecycle:lifecycle-runtime:2.2.0) with\nExtractAarTransform\n[        ] Transforming lifecycle-runtime-2.2.0.aar (androidx.lifecycle:lifecycle-runtime:2.2.0) with AarTransform    \n[        ] Transforming savedstate-1.0.0.aar (androidx.savedstate:savedstate:1.0.0) with JetifyTransform\n[        ] Transforming savedstate-1.0.0.aar (androidx.savedstate:savedstate:1.0.0) with ExtractAarTransform\n[        ] Transforming savedstate-1.0.0.aar (androidx.savedstate:savedstate:1.0.0) with AarTransform\n[        ] Transforming lifecycle-livedata-2.0.0.aar (androidx.lifecycle:lifecycle-livedata:2.0.0) with\nJetifyTransform\n[        ] Transforming lifecycle-livedata-2.0.0.aar (androidx.lifecycle:lifecycle-livedata:2.0.0) with\nExtractAarTransform\n[        ] Transforming lifecycle-livedata-2.0.0.aar (androidx.lifecycle:lifecycle-livedata:2.0.0) with AarTransform  \n[        ] Transforming lifecycle-livedata-core-2.0.0.aar (androidx.lifecycle:lifecycle-livedata-core:2.0.0) with     \nJetifyTransform\n[        ] Transforming lifecycle-livedata-core-2.0.0.aar (androidx.lifecycle:lifecycle-livedata-core:2.0.0) with     \nExtractAarTransform\n[        ] Transforming lifecycle-livedata-core-2.0.0.aar (androidx.lifecycle:lifecycle-livedata-core:2.0.0) with\nAarTransform\n[        ] Transforming lifecycle-common-2.2.0.jar (androidx.lifecycle:lifecycle-common:2.2.0) with JetifyTransform   \n[        ] Transforming lifecycle-common-2.2.0.jar (androidx.lifecycle:lifecycle-common:2.2.0) with\nExtractJniTransform\n[        ] Transforming tracing-1.0.0.aar (androidx.tracing:tracing:1.0.0) with JetifyTransform\n[        ] Transforming tracing-1.0.0.aar (androidx.tracing:tracing:1.0.0) with ExtractAarTransform\n[        ] Transforming tracing-1.0.0.aar (androidx.tracing:tracing:1.0.0) with AarTransform\n[        ] Transforming core-runtime-2.0.0.aar (androidx.arch.core:core-runtime:2.0.0) with JetifyTransform\n[        ] Transforming core-runtime-2.0.0.aar (androidx.arch.core:core-runtime:2.0.0) with ExtractAarTransform       \n[        ] Transforming core-runtime-2.0.0.aar (androidx.arch.core:core-runtime:2.0.0) with AarTransform\n[        ] Transforming core-common-2.1.0.jar (androidx.arch.core:core-common:2.1.0) with JetifyTransform\n[        ] Transforming core-common-2.1.0.jar (androidx.arch.core:core-common:2.1.0) with ExtractJniTransform\n[        ] Transforming versionedparcelable-1.1.1.aar (androidx.versionedparcelable:versionedparcelable:1.1.1) with   \nJetifyTransform\n[        ] Transforming versionedparcelable-1.1.1.aar (androidx.versionedparcelable:versionedparcelable:1.1.1) with   \nExtractAarTransform\n[        ] Transforming versionedparcelable-1.1.1.aar (androidx.versionedparcelable:versionedparcelable:1.1.1) with   \nAarTransform\n[        ] Transforming collection-1.1.0.jar (androidx.collection:collection:1.1.0) with JetifyTransform\n[        ] Transforming collection-1.1.0.jar (androidx.collection:collection:1.1.0) with ExtractJniTransform\n[        ] Transforming lifecycle-viewmodel-2.1.0.aar (androidx.lifecycle:lifecycle-viewmodel:2.1.0) with\nJetifyTransform\n[        ] Transforming lifecycle-viewmodel-2.1.0.aar (androidx.lifecycle:lifecycle-viewmodel:2.1.0) with\nExtractAarTransform\n[        ] Transforming lifecycle-viewmodel-2.1.0.aar (androidx.lifecycle:lifecycle-viewmodel:2.1.0) with AarTransform[        ] Transforming annotation-1.2.0.jar (androidx.annotation:annotation:1.2.0) with JetifyTransform\n[        ] Transforming annotation-1.2.0.jar (androidx.annotation:annotation:1.2.0) with ExtractJniTransform\n[        ] Transforming kotlin-stdlib-1.7.10.jar (org.jetbrains.kotlin:kotlin-stdlib:1.7.10) with JetifyTransform     \n[        ] Transforming kotlin-stdlib-1.7.10.jar (org.jetbrains.kotlin:kotlin-stdlib:1.7.10) with ExtractJniTransform \n[        ] Transforming annotation-experimental-1.1.0.aar (androidx.annotation:annotation-experimental:1.1.0) with    \nJetifyTransform\n[        ] Transforming annotation-experimental-1.1.0.aar (androidx.annotation:annotation-experimental:1.1.0) with    \nExtractAarTransform\n[        ] Transforming annotation-experimental-1.1.0.aar (androidx.annotation:annotation-experimental:1.1.0) with    \nAarTransform\n[        ] Transforming kotlin-stdlib-common-1.7.10.jar (org.jetbrains.kotlin:kotlin-stdlib-common:1.7.10) with       \nJetifyTransform\n[        ] Transforming kotlin-stdlib-common-1.7.10.jar (org.jetbrains.kotlin:kotlin-stdlib-common:1.7.10) with       \nExtractJniTransform\n[        ] Transforming annotations-13.0.jar (org.jetbrains:annotations:13.0) with JetifyTransform\n[        ] Transforming annotations-13.0.jar (org.jetbrains:annotations:13.0) with ExtractJniTransform\n[        ] Caching disabled for task ':app:mergeDebugNativeLibs' because:\n[        ]   Build cache is disabled\n[        ] Skipping task ':app:mergeDebugNativeLibs' as it is up-to-date.\n[        ] :app:mergeDebugNativeLibs (Thread[Execution worker Thread 4,5,main]) completed. Took 0.007 secs.\n[        ] Resolve mutations for :app:stripDebugDebugSymbols (Thread[Execution worker Thread 5,5,main]) started.      \n[        ] Resolve mutations for :app:stripDebugDebugSymbols (Thread[Execution worker Thread 5,5,main]) completed.    \nTook 0.0 secs.\n[        ] :app:stripDebugDebugSymbols (Thread[Execution worker Thread 4,5,main]) started.\n[        ] > Task :app:stripDebugDebugSymbols UP-TO-DATE\n[        ] Caching disabled for task ':app:stripDebugDebugSymbols' because:\n[        ]   Build cache is disabled\n[        ] Skipping task ':app:stripDebugDebugSymbols' as it is up-to-date.\n[        ] :app:stripDebugDebugSymbols (Thread[Execution worker Thread 4,5,main]) completed. Took 0.001 secs.\n[        ] Resolve mutations for :app:validateSigningDebug (Thread[Execution worker Thread 5,5,main]) started.        \n[        ] Resolve mutations for :app:validateSigningDebug (Thread[Execution worker Thread 5,5,main]) completed. Took \n0.0 secs.\n[        ] :app:validateSigningDebug (Thread[Execution worker Thread 5,5,main]) started.\n[        ] > Task :app:validateSigningDebug UP-TO-DATE\n[        ] Caching disabled for task ':app:validateSigningDebug' because:\n[        ]   Build cache is disabled\n[        ] Skipping task ':app:validateSigningDebug' as it is up-to-date.\n[        ] :app:validateSigningDebug (Thread[Execution worker Thread 5,5,main]) completed. Took 0.0 secs.\n[        ] Resolve mutations for :app:writeDebugAppMetadata (Thread[Execution worker Thread 4,5,main]) started.       \n[        ] Resolve mutations for :app:writeDebugAppMetadata (Thread[Execution worker Thread 4,5,main]) completed. Took0.0 secs.\n[        ] :app:writeDebugAppMetadata (Thread[Execution worker Thread 4,5,main]) started.\n[        ] > Task :app:writeDebugAppMetadata UP-TO-DATE\n[        ] Caching disabled for task ':app:writeDebugAppMetadata' because:\n[        ]   Build cache is disabled\n[        ] Skipping task ':app:writeDebugAppMetadata' as it is up-to-date.\n[        ] Resolve mutations for :app:writeDebugSigningConfigVersions (Thread[Execution worker Thread 5,5,main])      \nstarted.\n[        ] Resolve mutations for :app:writeDebugSigningConfigVersions (Thread[Execution worker Thread 5,5,main])      \ncompleted. Took 0.0 secs.\n[        ] :app:writeDebugAppMetadata (Thread[Execution worker Thread 4,5,main]) completed. Took 0.001 secs.\n[        ] :app:writeDebugSigningConfigVersions (Thread[Execution worker Thread 5,5,main]) started.\n[        ] > Task :app:writeDebugSigningConfigVersions UP-TO-DATE\n[        ] Caching disabled for task ':app:writeDebugSigningConfigVersions' because:\n[        ]   Build cache is disabled\n[        ] Skipping task ':app:writeDebugSigningConfigVersions' as it is up-to-date.\n[        ] :app:writeDebugSigningConfigVersions (Thread[Execution worker Thread 5,5,main]) completed. Took 0.002 secs.[        ] > Task :app:compressDebugAssets\n[        ] Execution optimizations have been disabled for task ':app:compressDebugAssets' to ensure correctness due tothe following reasons:\n[        ]   - Gradle detected a problem with the following location: 'C:\\Code\nProjects\\amazon_echo_page\\build\\app\\intermediates\\assets\\debug\\mergeDebugAssets'. Reason: Task\n':app:compressDebugAssets' uses this output of task ':app:copyFlutterAssetsDebug' without declaring an explicit or    \nimplicit dependency. This can lead to incorrect results being produced, depending on what order the tasks are\nexecuted. Please refer to https://docs.gradle.org/7.5/userguide/validation_problems.html#implicit_dependency for more \ndetails about this problem.\n[        ] Invalidating VFS because task ':app:compressDebugAssets' failed validation\n[        ] Not watching anything anymore\n[        ] Watching 0 directory hierarchies to track changes\n[        ] Caching disabled for task ':app:compressDebugAssets' because:\n[        ]   Build cache is disabled\n[        ] Task ':app:compressDebugAssets' is not up-to-date because:\n[        ]   Incremental execution has been disabled to ensure correctness. Please consult deprecation warnings for   \nmore details.\n[        ] The input changes require a full rebuild for incremental task ':app:compressDebugAssets'.\n[        ] :app:compressDebugAssets (Thread[Execution worker Thread 6,5,main]) completed. Took 0.681 secs.\n[        ] Resolve mutations for :app:packageDebug (Thread[Execution worker Thread 5,5,main]) started.\n[  +23 ms] Resolve mutations for :app:packageDebug (Thread[Execution worker Thread 5,5,main]) completed. Took 0.0\nsecs.\n[        ] :app:packageDebug (Thread[Execution worker Thread 6,5,main]) started.\n[        ] > Task :app:packageDebug UP-TO-DATE\n[        ] Caching disabled for task ':app:packageDebug' because:\n[        ]   Build cache is disabled\n[        ] Skipping task ':app:packageDebug' as it is up-to-date.\n[        ] :app:packageDebug (Thread[Execution worker Thread 6,5,main]) completed. Took 0.007 secs.\n[        ] Resolve mutations for :app:createDebugApkListingFileRedirect (Thread[Execution worker Thread 6,5,main])    \nstarted.\n[        ] Resolve mutations for :app:createDebugApkListingFileRedirect (Thread[Execution worker Thread 6,5,main])    \ncompleted. Took 0.0 secs.\n[        ] :app:createDebugApkListingFileRedirect (Thread[Execution worker Thread 6,5,main]) started.\n[        ] producer locations for task group 0 (Thread[Execution worker,5,main]) started.\n[        ] producer locations for task group 0 (Thread[Execution worker,5,main]) completed. Took 0.0 secs.\n[        ] > Task :app:createDebugApkListingFileRedirect UP-TO-DATE\n[        ] Caching disabled for task ':app:createDebugApkListingFileRedirect' because:\n[        ]   Build cache is disabled\n[        ] Skipping task ':app:createDebugApkListingFileRedirect' as it is up-to-date.\n[        ] :app:createDebugApkListingFileRedirect (Thread[Execution worker Thread 6,5,main]) completed. Took 0.001    \nsecs.\n[        ] Resolve mutations for :app:assembleDebug (Thread[Execution worker Thread 6,5,main]) started.\n[        ] Resolve mutations for :app:assembleDebug (Thread[Execution worker Thread 6,5,main]) completed. Took 0.0    \nsecs.\n[        ] :app:assembleDebug (Thread[Execution worker Thread 6,5,main]) started.\n[  +25 ms] > Task :app:assembleDebug\n[        ] Caching disabled for task ':app:assembleDebug' because:\n[        ]   Build cache is disabled\n[        ] Task ':app:assembleDebug' is not up-to-date because:\n[        ]   Task has not declared any outputs despite executing actions.\n[        ] :app:assembleDebug (Thread[Execution worker Thread 6,5,main]) completed. Took 0.104 secs.\n[        ] Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n[        ] You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come    \nfrom your own scripts or plugins.\n[        ] See https://docs.gradle.org/7.5/userguide/command_line_interface.html#sec:command_line_warnings\n[        ] Execution optimizations have been disabled for 1 invalid unit(s) of work during this build to ensure       \ncorrectness.\n[        ] Please consult deprecation warnings for more details.\n[        ] BUILD SUCCESSFUL in 5s\n[        ] 36 actionable tasks: 6 executed, 30 up-to-date\n[        ] Watched directory hierarchies: []\n[ +529 ms] Running Gradle task 'assembleDebug'... (completed in 6.5s)\n[   +2 ms] Calculate SHA1: LocalDirectory: 'C:\\Code\nProjects\\amazon_echo_page\\build\\app\\outputs\\flutter-apk'/app-debug.apk\n[ +597 ms] √  Built build\\app\\outputs\\flutter-apk\\app-debug.apk.\n[   +2 ms] executing: C:\\src\\Android\\SDK\\build-tools\\33.0.1\\aapt dump xmltree C:\\Code\nProjects\\amazon_echo_page\\build\\app\\outputs\\flutter-apk\\app-debug.apk AndroidManifest.xml\n[  +24 ms] Exit code 0 from: C:\\src\\Android\\SDK\\build-tools\\33.0.1\\aapt dump xmltree C:\\Code\nProjects\\amazon_echo_page\\build\\app\\outputs\\flutter-apk\\app-debug.apk AndroidManifest.xml\n[        ] N: android=http://schemas.android.com/apk/res/android\n             E: manifest (line=2)\n               A: android:versionCode(0x0101021b)=(type 0x10)0x1\n               A: android:versionName(0x0101021c)=\"1.0.0\" (Raw: \"1.0.0\")\n               A: android:compileSdkVersion(0x01010572)=(type 0x10)0x21\n               A: android:compileSdkVersionCodename(0x01010573)=\"13\" (Raw: \"13\")\n               A: package=\"com.example.amazon_echo_page\" (Raw: \"com.example.amazon_echo_page\")\n               A: platformBuildVersionCode=(type 0x10)0x21\n               A: platformBuildVersionName=(type 0x10)0xd\n               E: uses-sdk (line=7)\n                 A: android:minSdkVersion(0x0101020c)=(type 0x10)0x10\n                 A: android:targetSdkVersion(0x01010270)=(type 0x10)0x21\n               E: uses-permission (line=15)\n                 A: android:name(0x01010003)=\"android.permission.INTERNET\" (Raw: \"android.permission.INTERNET\")       \n               E: application (line=17)\n                 A: android:label(0x01010001)=\"amazon_echo_page\" (Raw: \"amazon_echo_page\")\n                 A: android:icon(0x01010002)=@0x7f080000\n                 A: android:name(0x01010003)=\"android.app.Application\" (Raw: \"android.app.Application\")\n                 A: android:debuggable(0x0101000f)=(type 0x12)0xffffffff\n                 A: android:appComponentFactory(0x0101057a)=\"androidx.core.app.CoreComponentFactory\" (Raw:\n                 \"androidx.core.app.CoreComponentFactory\")\n                 E: activity (line=23)\n                   A: android:theme(0x01010000)=@0x7f0a0000\n                   A: android:name(0x01010003)=\"com.example.amazon_echo_page.MainActivity\" (Raw:\n                   \"com.example.amazon_echo_page.MainActivity\")\n                   A: android:exported(0x01010010)=(type 0x12)0xffffffff\n                   A: android:launchMode(0x0101001d)=(type 0x10)0x1\n                   A: android:configChanges(0x0101001f)=(type 0x11)0x40003fb4\n                   A: android:windowSoftInputMode(0x0101022b)=(type 0x11)0x10\n                   A: android:hardwareAccelerated(0x010102d3)=(type 0x12)0xffffffff\n                   E: meta-data (line=38)\n                     A: android:name(0x01010003)=\"io.flutter.embedding.android.NormalTheme\" (Raw:\n                     \"io.flutter.embedding.android.NormalTheme\")\n                     A: android:resource(0x01010025)=@0x7f0a0001\n                   E: intent-filter (line=42)\n                     E: action (line=43)\n                       A: android:name(0x01010003)=\"android.intent.action.MAIN\" (Raw: \"android.intent.action.MAIN\")   \n                     E: category (line=45)\n                       A: android:name(0x01010003)=\"android.intent.category.LAUNCHER\" (Raw:\n                       \"android.intent.category.LAUNCHER\")\n                 E: meta-data (line=52)\n                   A: android:name(0x01010003)=\"flutterEmbedding\" (Raw: \"flutterEmbedding\")\n                   A: android:value(0x01010024)=(type 0x10)0x2\n                 E: uses-library (line=56)\n                   A: android:name(0x01010003)=\"androidx.window.extensions\" (Raw: \"androidx.window.extensions\")       \n                   A: android:required(0x0101028e)=(type 0x12)0x0\n                 E: uses-library (line=59)\n                   A: android:name(0x01010003)=\"androidx.window.sidecar\" (Raw: \"androidx.window.sidecar\")\n                   A: android:required(0x0101028e)=(type 0x12)0x0\n[   +6 ms] Stopping app 'app-debug.apk' on sdk gphone64 x86 64.\n[        ] executing: C:\\src\\Android\\SDK\\platform-tools\\adb.exe -s emulator-5554 shell am force-stop\ncom.example.amazon_echo_page\n[  +65 ms] executing: C:\\src\\Android\\SDK\\platform-tools\\adb.exe -s emulator-5554 shell pm list packages\ncom.example.amazon_echo_page\n[  +97 ms] package:com.example.amazon_echo_page\n[   +1 ms] executing: C:\\src\\Android\\SDK\\platform-tools\\adb.exe -s emulator-5554 shell cat\n/data/local/tmp/sky.com.example.amazon_echo_page.sha1\n[  +47 ms] 3a2dbb94e641ceb1c011256a71b600fb6d6342f3\n[   +1 ms] Latest build already installed.\n[        ] executing: C:\\src\\Android\\SDK\\platform-tools\\adb.exe -s emulator-5554 shell -x logcat -v time -t 1\n[  +51 ms] --------- beginning of main\n           02-14 21:13:59.045 D/CarrierSvcBindHelper(  921): No carrier app for: 0\n[   +4 ms] executing: C:\\src\\Android\\SDK\\platform-tools\\adb.exe -s emulator-5554 shell am start -a\nandroid.intent.action.MAIN -c android.intent.category.LAUNCHER -f 0x20000000 --ez enable-dart-profiling true --ez     \nenable-checked-mode true --ez verify-entry-points true\ncom.example.amazon_echo_page/com.example.amazon_echo_page.MainActivity\n[  +70 ms] Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x20000000\ncmp=com.example.amazon_echo_page/.MainActivity (has extras) }\n[   +1 ms] Waiting for observatory port to be available...\n[ +559 ms] Observatory URL on device: http://127.0.0.1:36213/YB2WX5_tTgw=/\n[   +1 ms] executing: C:\\src\\Android\\SDK\\platform-tools\\adb.exe -s emulator-5554 forward tcp:0 tcp:36213\n[  +40 ms] 60200\n[        ] Forwarded host port 60200 to device port 36213 for Observatory\n[   +4 ms] Caching compiled dill\n[  +31 ms] Connecting to service protocol: http://127.0.0.1:60200/YB2WX5_tTgw=/\n[ +262 ms] Launching a Dart Developer Service (DDS) instance at http://127.0.0.1:0, connecting to VM service at\nhttp://127.0.0.1:60200/YB2WX5_tTgw=/.\n[ +171 ms] DDS is listening at http://127.0.0.1:60203/WwK9SPk9WF0=/.\n[  +53 ms] Successfully connected to service protocol: http://127.0.0.1:60200/YB2WX5_tTgw=/\n[  +71 ms] DevFS: Creating new filesystem on the device (null)\n[  +31 ms] DevFS: Created new filesystem on the device\n(file:///data/user/0/com.example.amazon_echo_page/code_cache/amazon_echo_pageNQVHSV/amazon_echo_page/)\n[   +3 ms] Updating assets\n[ +107 ms] Manifest contained wildcard assets. Inserting missing file into build graph to force rerun. for more\ninformation see #56466.\n[   +5 ms] Syncing files to device sdk gphone64 x86 64...\n[   +3 ms] Compiling dart to kernel with 0 updated files\n[        ] Processing bundle.\n[   +1 ms] <- recompile package:amazon_echo_page/main.dart 06fa5efe-3a35-4146-8cc0-5480b01cce6b\n[        ] <- 06fa5efe-3a35-4146-8cc0-5480b01cce6b\n[   +2 ms] Bundle processing done.\n[  +87 ms] Updating files.\n[        ] DevFS: Sync finished\n[   +2 ms] Syncing files to device sdk gphone64 x86 64... (completed in 97ms)\n[   +1 ms] Synced 0.0MB.\n[   +4 ms] <- accept\n[   +8 ms] Connected to _flutterView/0x72f67ca58530.\n[   +2 ms] Flutter run key commands.\n[   +1 ms] r Hot reload. \n[   +4 ms] R Hot restart.\n[   +1 ms] h List all available interactive commands.\n[   +1 ms] d Detach (terminate \"flutter run\" but leave application running).\n[        ] c Clear the screen\n[        ] q Quit (terminate the application on the device).\n[        ]  Running with sound null safety \n[        ] An Observatory debugger and profiler on sdk gphone64 x86 64 is available at:\nhttp://127.0.0.1:60203/WwK9SPk9WF0=/\n[ +582 ms] The Flutter DevTools debugger and profiler on sdk gphone64 x86 64 is available at:\n                    http://127.0.0.1:9101?uri=http://127.0.0.1:60203/WwK9SPk9WF0=/\n",
            "No issues found! (ran in 1.5s)\n",
            "[√] Flutter (Channel stable, 3.7.0, on Microsoft Windows [Version 10.0.19045.2546], locale en-US)\n    • Flutter version 3.7.0 on channel stable at C:\\src\\flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision b06b8b2710 (3 weeks ago), 2023-01-23 16:55:55 -0800\n    • Engine revision b24591ed32\n    • Dart version 2.19.0\n    • DevTools version 2.20.1\n\n[√] Windows Version (Installed version of Windows is version 10 or higher)\n\n[√] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\n    • Android SDK at C:\\src\\Android\\SDK\n    • Platform android-33, build-tools 33.0.1\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 11.0.15+0-b2043.56-8887301)\n    • All Android licenses accepted.\n\n[√] Chrome - develop for the web\n    • Chrome at C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe\n\n[√] Visual Studio - develop for Windows (Visual Studio Build Tools 2022 17.4.0)\n    • Visual Studio at C:\\Program Files (x86)\\Microsoft Visual Studio\\2022\\BuildTools\n    • Visual Studio Build Tools 2022 version 17.4.33103.184\n    • Windows 10 SDK version 10.0.22621.0\n\n[√] Android Studio (version 2022.1)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 11.0.15+0-b2043.56-8887301)\n\n[√] Connected device (4 available)\n    • sdk gphone64 x86 64 (mobile) • emulator-5554 • android-x64    • Android 12 (API 32) (emulator)\n    • Windows (desktop)            • windows       • windows-x64    • Microsoft Windows [Version 10.0.19045.2546]     \n    • Chrome (web)                 • chrome        • web-javascript • Google Chrome 109.0.5414.120\n    • Edge (web)                   • edge          • web-javascript • Microsoft Edge 109.0.1518.70\n\n[√] HTTP Host Availability\n    • All required HTTP hosts are available\n\n• No issues found!\n"
        ]
    },
    {
        "titulo": "Why MyApp and MaterialApp are underlined? The code is from initial flutter demo project",
        "score": 0,
        "views": 35,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75440838/why-myapp-and-materialapp-are-underlined-the-code-is-from-initial-flutter-demo",
        "conteudo_html": "<p>Started my new project - got always MaterialApp underlined. Requires bottomNavigationBar. I tried it differently: started a demo project in flutter - MyApp and MaterialApp are underlined as well. So i cannot run the project.</p>\n<p>Here is the initial code of demo project:</p>\n<pre><code>  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n        title: 'Flutter Demo',\n        theme: ThemeData(\n          \n          primarySwatch: Colors.blue,\n        ),\n        home: const MyHomePage(title: 'Flutter Demo Home Page'),);\n        \n  }\n}```\n\nPlease, tell me, what it wants? It is a code , made by flutter, i mean...\n\nMyApp MyApp({Key? key})\npackage:project/main.dart\n\n**2 positional argument(s) expected, but 1 found.\nTry adding the missing arguments.**\n\nThank you\n</code></pre>\n",
        "codigo": [
            "  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n        title: 'Flutter Demo',\n        theme: ThemeData(\n          \n          primarySwatch: Colors.blue,\n        ),\n        home: const MyHomePage(title: 'Flutter Demo Home Page'),);\n        \n  }\n}```\n\nPlease, tell me, what it wants? It is a code , made by flutter, i mean...\n\nMyApp MyApp({Key? key})\npackage:project/main.dart\n\n**2 positional argument(s) expected, but 1 found.\nTry adding the missing arguments.**\n\nThank you\n"
        ]
    },
    {
        "titulo": "setState in showModalBottomSheet using TimePicker",
        "score": 0,
        "views": 95,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "flutter-state"
        ],
        "link": "https://stackoverflow.com/questions/75426961/setstate-in-showmodalbottomsheet-using-timepicker",
        "conteudo_html": "<p>I am having a problem. When I am showing my showModalBottomSheet I have a GeestureDetector on a Container, when pressed the TimePicker pops up and I can select a time. I take that value and set the state on a String that holds the new time value. But nothing appears to change. Unless I do a hot-reload.</p>\n<p>My bottommodalsheet looks like this:</p>\n<pre><code>test() {\nString openAt = &quot;00:00&quot;;\nString closeAt = &quot;00:00&quot;;\nshowModalBottomSheet&lt;void&gt;(\n  isScrollControlled: true,\n  isDismissible: false,\n  enableDrag: false,\n  barrierColor: Colors.black.withOpacity(0.1),\n  backgroundColor: Colors.white,\n  shape: const RoundedRectangleBorder(\n      borderRadius: BorderRadius.only(\n          topLeft: Radius.circular(15), topRight: Radius.circular(15))),\n  context: context,\n  builder: (BuildContext context) {\n    Size size = MediaQuery.of(context).size;\n    return Padding(\n      padding: MediaQuery.of(context).viewInsets,\n      child: Padding(\n        padding: const EdgeInsets.all(8.0),\n        child: Padding(\n          padding: const EdgeInsets.all(8.0),\n          child: Column(\n            mainAxisSize: MainAxisSize.min,\n            children: [\n              Row(\n                mainAxisAlignment: MainAxisAlignment.end,\n                children: [\n                  IconButton(\n                      onPressed: () {\n                        context.pop();\n                      },\n                      icon: Icon(\n                        Icons.close,\n                        color: Styles.blackColor,\n                      ))\n                ],\n              ),\n              s_height,\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                children: [\n                  Text(\n                    &quot;Open at&quot;,\n                    style: TextStyle(fontWeight: FontWeight.w600),\n                  ),\n                  GestureDetector(\n                    onTap: () {\n                          showTimePicker(\n                              context: context,\n                              initialTime: TimeOfDay.now())\n                          .then((value) =&gt;\n                              {print(value), openAt = value.toString()})\n                          .whenComplete(() {\n                        setState(() {\n                          openAt;\n                        });\n                      });\n                    },\n                    child: Container(\n                      decoration: BoxDecoration(\n                          color: Styles.greyLightColor,\n                          borderRadius:\n                              BorderRadius.all(Radius.circular(10))),\n                      padding: EdgeInsets.all(7.0),\n                      child: Text(\n                          openAt) /*Text(\n                          &quot;${openTime.hour.toString().padRight(2, '0')}:${openTime.minute.toString().padRight(2, '0')}&quot;)*/\n                      ,\n                    ),\n                  )\n                ],\n              ),\n              Divider(),\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                children: [\n                  Text(&quot;Close at&quot;,\n                      style: TextStyle(fontWeight: FontWeight.w600)),\n                  Container(\n                    decoration: BoxDecoration(\n                        color: Styles.greyLightColor,\n                        borderRadius:\n                            BorderRadius.all(Radius.circular(10))),\n                    padding: EdgeInsets.all(7.0),\n                    child: Text(\n                        closeAt) /*Text(\n                        &quot;${closeTime.hour.toString().padRight(2, '0')}:${closeTime.minute.toString().padRight(2, '0')}&quot;)*/\n                    ,\n                  )\n                ],\n              ),\n              s_height,\n              Container(\n                width: size.width * 0.8,\n                child: ElevatedButton(\n                    style: ButtonStyle(\n                        foregroundColor: MaterialStateProperty.all&lt;Color&gt;(\n                            Styles.whiteColor),\n                        backgroundColor: MaterialStateProperty.all&lt;Color&gt;(\n                            Styles.blackColor)),\n                    onPressed: () {},\n                    child: Text(&quot;Save&quot;)),\n              )\n            ],\n          ),\n        ),\n      ),\n    );\n  },\n);\n}\n</code></pre>\n<p>I guess since this is a test() is a function that shows the modal its get run once. Then a rebuild need to be done to show the changes. What am I missing or is there a better way of doing this?</p>\n",
        "codigo": [
            "test() {\nString openAt = \"00:00\";\nString closeAt = \"00:00\";\nshowModalBottomSheet<void>(\n  isScrollControlled: true,\n  isDismissible: false,\n  enableDrag: false,\n  barrierColor: Colors.black.withOpacity(0.1),\n  backgroundColor: Colors.white,\n  shape: const RoundedRectangleBorder(\n      borderRadius: BorderRadius.only(\n          topLeft: Radius.circular(15), topRight: Radius.circular(15))),\n  context: context,\n  builder: (BuildContext context) {\n    Size size = MediaQuery.of(context).size;\n    return Padding(\n      padding: MediaQuery.of(context).viewInsets,\n      child: Padding(\n        padding: const EdgeInsets.all(8.0),\n        child: Padding(\n          padding: const EdgeInsets.all(8.0),\n          child: Column(\n            mainAxisSize: MainAxisSize.min,\n            children: [\n              Row(\n                mainAxisAlignment: MainAxisAlignment.end,\n                children: [\n                  IconButton(\n                      onPressed: () {\n                        context.pop();\n                      },\n                      icon: Icon(\n                        Icons.close,\n                        color: Styles.blackColor,\n                      ))\n                ],\n              ),\n              s_height,\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                children: [\n                  Text(\n                    \"Open at\",\n                    style: TextStyle(fontWeight: FontWeight.w600),\n                  ),\n                  GestureDetector(\n                    onTap: () {\n                          showTimePicker(\n                              context: context,\n                              initialTime: TimeOfDay.now())\n                          .then((value) =>\n                              {print(value), openAt = value.toString()})\n                          .whenComplete(() {\n                        setState(() {\n                          openAt;\n                        });\n                      });\n                    },\n                    child: Container(\n                      decoration: BoxDecoration(\n                          color: Styles.greyLightColor,\n                          borderRadius:\n                              BorderRadius.all(Radius.circular(10))),\n                      padding: EdgeInsets.all(7.0),\n                      child: Text(\n                          openAt) /*Text(\n                          \"${openTime.hour.toString().padRight(2, '0')}:${openTime.minute.toString().padRight(2, '0')}\")*/\n                      ,\n                    ),\n                  )\n                ],\n              ),\n              Divider(),\n              Row(\n                mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                children: [\n                  Text(\"Close at\",\n                      style: TextStyle(fontWeight: FontWeight.w600)),\n                  Container(\n                    decoration: BoxDecoration(\n                        color: Styles.greyLightColor,\n                        borderRadius:\n                            BorderRadius.all(Radius.circular(10))),\n                    padding: EdgeInsets.all(7.0),\n                    child: Text(\n                        closeAt) /*Text(\n                        \"${closeTime.hour.toString().padRight(2, '0')}:${closeTime.minute.toString().padRight(2, '0')}\")*/\n                    ,\n                  )\n                ],\n              ),\n              s_height,\n              Container(\n                width: size.width * 0.8,\n                child: ElevatedButton(\n                    style: ButtonStyle(\n                        foregroundColor: MaterialStateProperty.all<Color>(\n                            Styles.whiteColor),\n                        backgroundColor: MaterialStateProperty.all<Color>(\n                            Styles.blackColor)),\n                    onPressed: () {},\n                    child: Text(\"Save\")),\n              )\n            ],\n          ),\n        ),\n      ),\n    );\n  },\n);\n}\n"
        ]
    },
    {
        "titulo": "Flutter Unit Testing with Mockito multiple stubs",
        "score": 0,
        "views": 443,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "mockito"
        ],
        "link": "https://stackoverflow.com/questions/75419547/flutter-unit-testing-with-mockito-multiple-stubs",
        "conteudo_html": "<p>I'm quite new to unit testing and I want to test a method of a service that calls conditionally a second method. The problem I'm facing now is that I'm getting a missing MissingStubError even I have created the missing stub.</p>\n<p>mockito: 5.3.2</p>\n<p>Error Message:\nMissingStubError: 'createCashbookItem'\nNo stub was found which matches the arguments of this method call:\ncreateCashbookItem(Instance of 'CashbookItem')</p>\n<p>Test:</p>\n<pre><code>@GenerateMocks([CashbookRepository, ReceiptRepository, CashbookItemRepository])\nvoid main() {\n  late BookingService bookingService;\n  late MockCashbookRepository mockCashbookRepository;\n  late MockCashbookItemRepository mockCashbookItemRepository;\n  late MockReceiptRepository mockReceiptRepository;\n\n  setUp(() {\n    mockCashbookRepository = MockCashbookRepository();\n    mockCashbookItemRepository = MockCashbookItemRepository();\n    mockReceiptRepository = MockReceiptRepository();\n    bookingService = BookingServiceImpl(\n      receiptRepository: mockReceiptRepository,\n      cashbookItemRepository: mockCashbookItemRepository,\n      cashbookRepository: mockCashbookRepository,\n    );\n  });\n\n  group(&quot;bookings&quot;, () {\n    var t_OldReceipt = Receipt.empty();\n    var t_NewReceipt = Receipt.empty();\n\n    test(&quot;create booking&quot;, () async {\n      t_OldReceipt = t_OldReceipt.copyWith(\n          amount: 10,\n          totalAmount: 10,\n          taking: true,\n          category: &quot;test&quot;,\n          taxRate: 0,\n          paymentType: kPaymentTypeBar,\n          documentNumber: &quot;1&quot;,\n          taxAmount: 0,\n          receiptDate: DateTime.now(),\n          year: &quot;2023&quot;,\n          yearMonth: &quot;20232&quot;,\n          yearMonthDay: &quot;2023210&quot;,\n          contact: Contact.empty());\n      // arrange\n\n      var cashbookItem = CashbookItem.fromReceipt(t_OldReceipt);\n\n      when(mockReceiptRepository.createReceipt(t_OldReceipt)).thenAnswer((realInvocation) async =&gt; const Right(unit));\n    \nwhen(mockCashbookItemRepository.createCashbookItem(cashbookItem)).thenAnswer((realInvocation) async =&gt; const Right(unit));\n      // act\n      final result = await bookingService.createBooking(t_OldReceipt);\n      // assert\n      expect(result, const Right(unit));\n    });\n  });\n}\n</code></pre>\n<p>Method that I want to test:</p>\n<pre><code>  Future&lt;Either&lt;ReceiptFailure, Unit&gt;&gt; createBooking(Receipt receipt) async {\n    Either&lt;ReceiptFailure, Unit&gt;? receiptFailureOrSuccess;\n    Either&lt;cashbook_failures.CashbookFailure, Unit&gt;? cashbookFailureOrSuccess;\n\n    receiptFailureOrSuccess = await receiptRepository.createReceipt(receipt);\n\n    if (receiptFailureOrSuccess.isLeft()) {\n      return receiptFailureOrSuccess;\n    }\n\n    if (receipt.paymentType == kPaymentTypeBar) {\n      cashbookFailureOrSuccess = await cashbookItemRepository.createCashbookItem(CashbookItem.fromReceipt(receipt));\n      if(cashbookFailureOrSuccess.isLeft()){\n        receiptRepository.deleteReceipt(receipt.id.value);\n        return left(CreateCashbookItemFromReceiptFailure());\n      } else {\n        return right(unit);\n      }\n    }\n    return receiptFailureOrSuccess;\n  }\n</code></pre>\n<p>I have added a stub for the error and my assumption was that it is possible to have two stubs in one test. I want to test if the method createCashbookItem inside createBooking is called.</p>\n",
        "codigo": [
            "@GenerateMocks([CashbookRepository, ReceiptRepository, CashbookItemRepository])\nvoid main() {\n  late BookingService bookingService;\n  late MockCashbookRepository mockCashbookRepository;\n  late MockCashbookItemRepository mockCashbookItemRepository;\n  late MockReceiptRepository mockReceiptRepository;\n\n  setUp(() {\n    mockCashbookRepository = MockCashbookRepository();\n    mockCashbookItemRepository = MockCashbookItemRepository();\n    mockReceiptRepository = MockReceiptRepository();\n    bookingService = BookingServiceImpl(\n      receiptRepository: mockReceiptRepository,\n      cashbookItemRepository: mockCashbookItemRepository,\n      cashbookRepository: mockCashbookRepository,\n    );\n  });\n\n  group(\"bookings\", () {\n    var t_OldReceipt = Receipt.empty();\n    var t_NewReceipt = Receipt.empty();\n\n    test(\"create booking\", () async {\n      t_OldReceipt = t_OldReceipt.copyWith(\n          amount: 10,\n          totalAmount: 10,\n          taking: true,\n          category: \"test\",\n          taxRate: 0,\n          paymentType: kPaymentTypeBar,\n          documentNumber: \"1\",\n          taxAmount: 0,\n          receiptDate: DateTime.now(),\n          year: \"2023\",\n          yearMonth: \"20232\",\n          yearMonthDay: \"2023210\",\n          contact: Contact.empty());\n      // arrange\n\n      var cashbookItem = CashbookItem.fromReceipt(t_OldReceipt);\n\n      when(mockReceiptRepository.createReceipt(t_OldReceipt)).thenAnswer((realInvocation) async => const Right(unit));\n    \nwhen(mockCashbookItemRepository.createCashbookItem(cashbookItem)).thenAnswer((realInvocation) async => const Right(unit));\n      // act\n      final result = await bookingService.createBooking(t_OldReceipt);\n      // assert\n      expect(result, const Right(unit));\n    });\n  });\n}\n",
            "  Future<Either<ReceiptFailure, Unit>> createBooking(Receipt receipt) async {\n    Either<ReceiptFailure, Unit>? receiptFailureOrSuccess;\n    Either<cashbook_failures.CashbookFailure, Unit>? cashbookFailureOrSuccess;\n\n    receiptFailureOrSuccess = await receiptRepository.createReceipt(receipt);\n\n    if (receiptFailureOrSuccess.isLeft()) {\n      return receiptFailureOrSuccess;\n    }\n\n    if (receipt.paymentType == kPaymentTypeBar) {\n      cashbookFailureOrSuccess = await cashbookItemRepository.createCashbookItem(CashbookItem.fromReceipt(receipt));\n      if(cashbookFailureOrSuccess.isLeft()){\n        receiptRepository.deleteReceipt(receipt.id.value);\n        return left(CreateCashbookItemFromReceiptFailure());\n      } else {\n        return right(unit);\n      }\n    }\n    return receiptFailureOrSuccess;\n  }\n"
        ]
    },
    {
        "titulo": "What is the correct way to add a Sliver Widget to a Non Sliver Widget in Flutter?",
        "score": 0,
        "views": 296,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75413734/what-is-the-correct-way-to-add-a-sliver-widget-to-a-non-sliver-widget-in-flutter",
        "conteudo_html": "<p>Basically I want to resolve this error.</p>\n<pre><code>RenderPadding expected a child of type RenderBox but received a child of type RenderSliverList.\n</code></pre>\n",
        "codigo": [
            "RenderPadding expected a child of type RenderBox but received a child of type RenderSliverList.\n"
        ]
    },
    {
        "titulo": "Flutter Riverpod multiple streams on separate consumer widgets on same screen not working",
        "score": 0,
        "views": 735,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "stream",
            "riverpod",
            "consumer"
        ],
        "link": "https://stackoverflow.com/questions/75377692/flutter-riverpod-multiple-streams-on-separate-consumer-widgets-on-same-screen-no",
        "conteudo_html": "<p>I have a stateless widget which returns a column of two consumer widgets. Each of these two widgets are consuming 2 different streams from providers, both of which depend on the same another provider. Both streams return different type of data. If I leave only one of the two consumer widgets, everything works as expected. But if I show both, one of them returns error after a 5 second timeout - &quot;Error TimeoutException after 0:00:05.000000: Future not completed&quot; (seems random if it's the first or the second one, but usually the second).</p>\n<p>Using also Flutter Blue Plus to communicate with BT device<br />\nHere's a very simplified version of what my code looks like:</p>\n<pre><code>// responsePacket here - List&lt;int&gt; converted to specifically to Data1 or Data2 depending on 1st byte\nresponseStream = _txCharacteristic.value..map(responsePacket).where((it) =&gt; it != null).asBroadcastStream()\n\nStream&lt;T&gt; getStream&lt;T&gt;() =&gt; responseStream.where((element) =&gt; element is T).cast&lt;T&gt;();\n\nFuture&lt;bool&gt; _sendIt(List&lt;int&gt; message) {\n  return _rxCharacteristic.write(requestPacket, withoutResponse: false);\n}\n\nFuture&lt;bool&gt; requestData1() {\n  return _sendIt([1]);\n}\n\nFuture&lt;bool&gt; requestData2() {\n  return _sendIt([2]);\n}\n\nfinal streamDataProvider1 = StreamProvider.autoDispose&lt;Data1&gt;((ref) async* {\n  Object obj = ref.watch(objectStateNotifierProvider);\n\n  while (obj.data != null) {\n    obj.bt!.requestData1();\n    Data1 value = await obj.data!.getStream&lt;Data1&gt;().first.timeout(const Duration(seconds: 5));\n\n    yield value;\n  }\n});\n\nfinal streamDataProvider2 = StreamProvider.autoDispose&lt;Data2&gt;((ref) async* {\n  Object obj = ref.watch(objectStateNotifierProvider);\n\n  while (obj.data != null) {\n    obj.bt!.requestData2();\n    Data2 value = await obj.data!.getStream&lt;Data2&gt;().first.timeout(const Duration(seconds: 5));\n\n    yield value;\n  }\n});\n\nclass _MainScreenData extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        _TestStream1(), // Comment out one of these and it works as expected\n        _TestStream2(),\n      ],\n    );\n  }\n}\n\nclass _TestStream1 extends ConsumerWidget {\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    final stream = ref.watch(streamDataProvider1);\n\n    return stream.when(\n      data: (value) =&gt; Text(value.toString()),\n      error: (e, s) =&gt; Text('Error $e'),\n      loading: () =&gt; const CircularProgressIndicator(),\n    );\n  }\n}\n\nclass _TestStream2 extends ConsumerWidget {\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    final stream = ref.watch(streamDataProvider2);\n\n    return stream.when(\n      data: (value) =&gt; Text(value.toString()),\n      error: (e, s) =&gt; Text('Error $e'),\n      loading: () =&gt; const CircularProgressIndicator(),\n    );\n  }\n}\n</code></pre>\n<p>I found here on SO similar questions, but nothing specifically like my case. I want to watch streams separately in some cases. When I want to use both streams in one widget, I found I can nest <code>StreamBuilder</code> widgets and use separate snapshots (didn't try that yet though)</p>\n<p>What am I missing, that I get one of the two widgets displaying not completing the <code>Future</code>?</p>\n",
        "codigo": [
            "// responsePacket here - List<int> converted to specifically to Data1 or Data2 depending on 1st byte\nresponseStream = _txCharacteristic.value..map(responsePacket).where((it) => it != null).asBroadcastStream()\n\nStream<T> getStream<T>() => responseStream.where((element) => element is T).cast<T>();\n\nFuture<bool> _sendIt(List<int> message) {\n  return _rxCharacteristic.write(requestPacket, withoutResponse: false);\n}\n\nFuture<bool> requestData1() {\n  return _sendIt([1]);\n}\n\nFuture<bool> requestData2() {\n  return _sendIt([2]);\n}\n\nfinal streamDataProvider1 = StreamProvider.autoDispose<Data1>((ref) async* {\n  Object obj = ref.watch(objectStateNotifierProvider);\n\n  while (obj.data != null) {\n    obj.bt!.requestData1();\n    Data1 value = await obj.data!.getStream<Data1>().first.timeout(const Duration(seconds: 5));\n\n    yield value;\n  }\n});\n\nfinal streamDataProvider2 = StreamProvider.autoDispose<Data2>((ref) async* {\n  Object obj = ref.watch(objectStateNotifierProvider);\n\n  while (obj.data != null) {\n    obj.bt!.requestData2();\n    Data2 value = await obj.data!.getStream<Data2>().first.timeout(const Duration(seconds: 5));\n\n    yield value;\n  }\n});\n\nclass _MainScreenData extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      children: [\n        _TestStream1(), // Comment out one of these and it works as expected\n        _TestStream2(),\n      ],\n    );\n  }\n}\n\nclass _TestStream1 extends ConsumerWidget {\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    final stream = ref.watch(streamDataProvider1);\n\n    return stream.when(\n      data: (value) => Text(value.toString()),\n      error: (e, s) => Text('Error $e'),\n      loading: () => const CircularProgressIndicator(),\n    );\n  }\n}\n\nclass _TestStream2 extends ConsumerWidget {\n  @override\n  Widget build(BuildContext context, WidgetRef ref) {\n    final stream = ref.watch(streamDataProvider2);\n\n    return stream.when(\n      data: (value) => Text(value.toString()),\n      error: (e, s) => Text('Error $e'),\n      loading: () => const CircularProgressIndicator(),\n    );\n  }\n}\n",
            "StreamBuilder",
            "Future"
        ]
    },
    {
        "titulo": "Dio unit test error, type &#39;Null&#39; is not a subtype of type &#39;Interceptors&#39;",
        "score": 1,
        "views": 511,
        "respostas": 2,
        "tags": [
            "dart",
            "unit-testing",
            "mockito",
            "dio"
        ],
        "link": "https://stackoverflow.com/questions/75368332/dio-unit-test-error-type-null-is-not-a-subtype-of-type-interceptors",
        "conteudo_html": "<p>Currently I am working on my flutter app using <a href=\"https://pub.dev/packages/dio\" rel=\"nofollow noreferrer\">Dio</a> package as my networking and I want to create test on the dio post (wrapped within appclient). Here my code for\napp_client.dart</p>\n<pre><code>\nabstract class AppClient{\n  Future&lt;Map&lt;String, dynamic&gt;&gt; get(String path, {Map&lt;String, String&gt;? queryParameters, Map&lt;String, String&gt;? headers});\n  Future&lt;Map&lt;String, dynamic&gt;&gt; post(String path, dynamic data, {Map&lt;String, String&gt;? queryParameters, Map&lt;String, String&gt;? headers});\n}\n\nclass AppClientImpl implements AppClient{\n\n  late Dio dio;\n  late Interceptors interceptors;\n\n  AppClientImpl({required this.dio}){\n    //get language code\n    String languageCode = StorageUtil.getSavedLanguage();\n    if(languageCode == &quot;id-ID&quot;){\n      languageCode = &quot;id_ID&quot;;\n    }else{\n      languageCode = &quot;en_US&quot;;\n    }\n\n    BaseOptions baseOptions = BaseOptions(\n        baseUrl: ServiceUrl.baseUrl,\n        headers: {\n          &quot;Accept&quot; : &quot;application/json&quot;,\n          &quot;Content-Type&quot; : &quot;application/json&quot;,\n        },\n        queryParameters: {\n          &quot;language&quot; : languageCode,\n          &quot;channel&quot; : &quot;mobile&quot;\n        }\n    );\n\n    dio.options = baseOptions;\n\n    interceptors = Interceptors();\n    interceptors.add(LogInterceptor(request: true, requestBody: true, requestHeader: true, responseBody: true, responseHeader: true));\n\n    //COMMENT BECAUSE FAILED WHEN TESTING\n    dio.interceptors.addAll(interceptors); // ERROR HERE!!!!\n  }\n\n  @override\n  Future&lt;Map&lt;String, dynamic&gt;&gt; get(String path, {Map&lt;String, String&gt;? queryParameters, Map&lt;String, String&gt;? headers}) async {\n    // return await dio.get(path, queryParameters: queryParameters);\n    throw UnimplementedError();\n  }\n\n  Future&lt;Map&lt;String, dynamic&gt;&gt; post(String path, dynamic data, {Map&lt;String, String&gt;? queryParameters, Map&lt;String, String&gt;? headers}) async{\n    Response response = await dio.post(path, queryParameters: queryParameters, data: Map&lt;String, dynamic&gt;.from(data));\n\n    if(response.statusCode == 200){\n      return jsonDecode(response.data);\n    }else{\n      throw Exception();\n    }\n  }\n\n}\n\n</code></pre>\n<p>and here is my test class</p>\n<pre><code>class MockDio extends Mock implements Dio{}\n\nvoid main(){\n\n  late MockDio mockDio;\n  late AppClientImpl appClient;\n\n  setUp((){\n    mockDio = MockDio();\n    appClient = AppClientImpl(dio: mockDio);\n  });\n\n  final tResponse = jsonDecode(fixture(&quot;token/token_success.json&quot;));\n  final tData = {};\n  \n  group(&quot;post method&quot;, (){\n    test(\n        &quot;should return data when status code is 200&quot;,\n        ()async{\n          when(\n              () =&gt; mockDio.post(any(), queryParameters: any(named: &quot;queryParameters&quot;), data: any(named: &quot;data&quot;))\n          ).thenAnswer(\n              (invocation) async =&gt; Response(requestOptions: RequestOptions(path: &quot;/sample&quot;), data: fixture(&quot;token/token_success.json&quot;), statusCode: 200)\n          );\n\n          final result = await appClient.post(&quot;/sample&quot;, tData);\n          verify(() =&gt; mockDio.post(any(), queryParameters: any(named: &quot;queryParameters&quot;), data: any(named: &quot;data&quot;))).called(1);\n\n          expect(result, tResponse);\n\n        }\n    );\n  });\n\n}\n</code></pre>\n<p>As you can see, I inject dio instance to my appclient class and add global configuration there including interceptors.</p>\n<p>I think everything is ok until I get these error.</p>\n<pre><code>Testing started at 08.54 ...\n\npackage:dio/src/dio.dart 46:20                                    MockDio.interceptors\npackage:eazyconnect/data/network/app_client/app_client.dart 44:9  new AppClientImpl\ntest/data/network/app_client/app_client_test.dart 23:17           main.&lt;fn&gt;\n\ntype 'Null' is not a subtype of type 'Interceptors'\n\n</code></pre>\n<p>Why this is happen? Any help and suggestion would be great!\nThanks!</p>\n",
        "codigo": [
            "\nabstract class AppClient{\n  Future<Map<String, dynamic>> get(String path, {Map<String, String>? queryParameters, Map<String, String>? headers});\n  Future<Map<String, dynamic>> post(String path, dynamic data, {Map<String, String>? queryParameters, Map<String, String>? headers});\n}\n\nclass AppClientImpl implements AppClient{\n\n  late Dio dio;\n  late Interceptors interceptors;\n\n  AppClientImpl({required this.dio}){\n    //get language code\n    String languageCode = StorageUtil.getSavedLanguage();\n    if(languageCode == \"id-ID\"){\n      languageCode = \"id_ID\";\n    }else{\n      languageCode = \"en_US\";\n    }\n\n    BaseOptions baseOptions = BaseOptions(\n        baseUrl: ServiceUrl.baseUrl,\n        headers: {\n          \"Accept\" : \"application/json\",\n          \"Content-Type\" : \"application/json\",\n        },\n        queryParameters: {\n          \"language\" : languageCode,\n          \"channel\" : \"mobile\"\n        }\n    );\n\n    dio.options = baseOptions;\n\n    interceptors = Interceptors();\n    interceptors.add(LogInterceptor(request: true, requestBody: true, requestHeader: true, responseBody: true, responseHeader: true));\n\n    //COMMENT BECAUSE FAILED WHEN TESTING\n    dio.interceptors.addAll(interceptors); // ERROR HERE!!!!\n  }\n\n  @override\n  Future<Map<String, dynamic>> get(String path, {Map<String, String>? queryParameters, Map<String, String>? headers}) async {\n    // return await dio.get(path, queryParameters: queryParameters);\n    throw UnimplementedError();\n  }\n\n  Future<Map<String, dynamic>> post(String path, dynamic data, {Map<String, String>? queryParameters, Map<String, String>? headers}) async{\n    Response response = await dio.post(path, queryParameters: queryParameters, data: Map<String, dynamic>.from(data));\n\n    if(response.statusCode == 200){\n      return jsonDecode(response.data);\n    }else{\n      throw Exception();\n    }\n  }\n\n}\n\n",
            "class MockDio extends Mock implements Dio{}\n\nvoid main(){\n\n  late MockDio mockDio;\n  late AppClientImpl appClient;\n\n  setUp((){\n    mockDio = MockDio();\n    appClient = AppClientImpl(dio: mockDio);\n  });\n\n  final tResponse = jsonDecode(fixture(\"token/token_success.json\"));\n  final tData = {};\n  \n  group(\"post method\", (){\n    test(\n        \"should return data when status code is 200\",\n        ()async{\n          when(\n              () => mockDio.post(any(), queryParameters: any(named: \"queryParameters\"), data: any(named: \"data\"))\n          ).thenAnswer(\n              (invocation) async => Response(requestOptions: RequestOptions(path: \"/sample\"), data: fixture(\"token/token_success.json\"), statusCode: 200)\n          );\n\n          final result = await appClient.post(\"/sample\", tData);\n          verify(() => mockDio.post(any(), queryParameters: any(named: \"queryParameters\"), data: any(named: \"data\"))).called(1);\n\n          expect(result, tResponse);\n\n        }\n    );\n  });\n\n}\n",
            "Testing started at 08.54 ...\n\npackage:dio/src/dio.dart 46:20                                    MockDio.interceptors\npackage:eazyconnect/data/network/app_client/app_client.dart 44:9  new AppClientImpl\ntest/data/network/app_client/app_client_test.dart 23:17           main.<fn>\n\ntype 'Null' is not a subtype of type 'Interceptors'\n\n"
        ]
    },
    {
        "titulo": "Comparing a String to a list of strings and then if there is a match, switching a bool",
        "score": 0,
        "views": 96,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75365314/comparing-a-string-to-a-list-of-strings-and-then-if-there-is-a-match-switching",
        "conteudo_html": "<p>I had a TextFormField widget, a grey container to set the state and a container that will change color according to the bool assosiated with it displayed on my page.\nI also have a list of strings (not displayed).</p>\n<pre><code>import 'package:flutter/material.dart';\n\nclass Test extends StatefulWidget {\n  const Test({Key? key}) : super(key: key);\n\n  @override\n  State&lt;Test&gt; createState() =&gt; _TestState();\n}\n\nclass _TestState extends State&lt;Test&gt; {\n  bool activated = false;\n  TextEditingController textController = TextEditingController();\n\n  List&lt;String&gt; listOfStrings = [\n    'String01',\n    'String02',\n    'String03',\n    'String04',\n    'String05',\n    'String06',\n    'String07',\n    'String08',\n    'String09',\n    'String10',\n  ];\n\n  @override\n  void dispose() {\n    textController.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Column(\n        children: [\n          SizedBox(\n            height: 20,\n          ),\n          Container(\n            padding: EdgeInsets.symmetric(horizontal: 10),\n            alignment: Alignment.center,\n            child: TextFormField(\n              autofocus: false,\n              controller: textController,\n              style: TextStyle(\n                color: Colors.white,\n                fontSize: 12,\n              ),\n              textInputAction: TextInputAction.done,\n            ),\n          ),\n          SizedBox(\n            height: 20,\n          ),\n          InkWell(\n              onTap: () {\n                if (textController == listOfStrings) {\n                  activated = true;\n                }\n              },\n              child: Container(\n                height: 20,\n                width: 60,\n                color: Colors.blueGrey,\n              )),\n          SizedBox(\n            height: 60,\n          ),\n          Container(\n            width: 20,\n            height: 20,\n            color: activated ? Colors.green : Colors.red,\n          ),\n        ],\n      ),\n    );\n  }\n}\n\n\n</code></pre>\n<p>what I'm trying to do is that when a string is entered into the textformfield, I want it to compare the answer to the list and if there is a match, switch the bool to true and delete the string from the list.</p>\n<p>I know I have to use an if statement in a setsate which is the grey contaner. (is it possible to setstate with enter on the keyboard instead?) but im not sure what that if statement should be to compare to the list of strings</p>\n<p>thanks so much and any help would be greatly appreciated</p>\n",
        "codigo": [
            "import 'package:flutter/material.dart';\n\nclass Test extends StatefulWidget {\n  const Test({Key? key}) : super(key: key);\n\n  @override\n  State<Test> createState() => _TestState();\n}\n\nclass _TestState extends State<Test> {\n  bool activated = false;\n  TextEditingController textController = TextEditingController();\n\n  List<String> listOfStrings = [\n    'String01',\n    'String02',\n    'String03',\n    'String04',\n    'String05',\n    'String06',\n    'String07',\n    'String08',\n    'String09',\n    'String10',\n  ];\n\n  @override\n  void dispose() {\n    textController.dispose();\n    super.dispose();\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Column(\n        children: [\n          SizedBox(\n            height: 20,\n          ),\n          Container(\n            padding: EdgeInsets.symmetric(horizontal: 10),\n            alignment: Alignment.center,\n            child: TextFormField(\n              autofocus: false,\n              controller: textController,\n              style: TextStyle(\n                color: Colors.white,\n                fontSize: 12,\n              ),\n              textInputAction: TextInputAction.done,\n            ),\n          ),\n          SizedBox(\n            height: 20,\n          ),\n          InkWell(\n              onTap: () {\n                if (textController == listOfStrings) {\n                  activated = true;\n                }\n              },\n              child: Container(\n                height: 20,\n                width: 60,\n                color: Colors.blueGrey,\n              )),\n          SizedBox(\n            height: 60,\n          ),\n          Container(\n            width: 20,\n            height: 20,\n            color: activated ? Colors.green : Colors.red,\n          ),\n        ],\n      ),\n    );\n  }\n}\n\n\n"
        ]
    },
    {
        "titulo": "Flutter Scaffold(appBar: AppBar()) not working &#39;const&#39; error",
        "score": 0,
        "views": 531,
        "respostas": 3,
        "tags": [
            "flutter",
            "dart",
            "appbar",
            "scaffold"
        ],
        "link": "https://stackoverflow.com/questions/75346151/flutter-scaffoldappbar-appbar-not-working-const-error",
        "conteudo_html": "<pre class=\"lang-dart prettyprint-override\"><code>void main() {\n  runApp(\n    const MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('I am Rich'),\n        ),\n      ),\n    ),\n  );\n}\n</code></pre>\n<p>this is my code and there is showing &quot;the constructor called is not a constructor&quot;</p>\n<p>Error message-</p>\n<pre><code>lib/main.dart:8:17: Error: Cannot invoke a non-'const' constructor where a const expression is expected.\nTry using a constructor or factory that is 'const'.\n        appBar: AppBar(\n                ^^^^^^\n\ntried adding 'const' before scaffold\n</code></pre>\n<p>I am sorry for the silly question. I am just a beginner. can't find the solution anywhere else.</p>\n",
        "codigo": [
            "void main() {\n  runApp(\n    const MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('I am Rich'),\n        ),\n      ),\n    ),\n  );\n}\n",
            "lib/main.dart:8:17: Error: Cannot invoke a non-'const' constructor where a const expression is expected.\nTry using a constructor or factory that is 'const'.\n        appBar: AppBar(\n                ^^^^^^\n\ntried adding 'const' before scaffold\n"
        ]
    },
    {
        "titulo": "how can i keep going with the correct direction offset",
        "score": 0,
        "views": 188,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75340726/how-can-i-keep-going-with-the-correct-direction-offset",
        "conteudo_html": "<p>i have the following code</p>\n<pre><code>import 'dart:async';\n\nimport 'package:flutter/material.dart';\n\nclass Test extends StatefulWidget {\n  const Test({Key? key}) : super(key: key);\n\n  @override\n  State&lt;Test&gt; createState() =&gt; _TestState();\n}\n\nclass _TestState extends State&lt;Test&gt; {\n\n  late Offset myOffset =  const Offset(0,0);\n  Timer? myTimer ;\n  double dx = 0 ;\n  double dy = 0 ;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: GestureDetector(\n          onPanUpdate: (t){\n            myOffset+=t.delta;\n            dx = myOffset.dx;\n            dy = myOffset.dy;\n            setState(() {});\n          },\n          onPanEnd: (d){\n            myTimer = Timer.periodic(const Duration(milliseconds: 100), (_)async{\n              myOffset =   Offset(dx++,dy++); // here it depends -- or ++ using sad lazy way :(\n              await Future.delayed(const Duration(milliseconds: 100));\n              setState(() {});\n            });\n          },\n          child: Transform.translate(\n            offset: myOffset,\n            child: Container(\n              color: Colors.red,\n              width: 100,\n              height: 100,\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}\n \n</code></pre>\n<p>in my previous codethere is two Scenario</p>\n<p>1- user start to swipe on any direction</p>\n<p>2- when pan end i need my timer to keep walking on the last correct direction that user's finger was going to it ..</p>\n<p>somehow it working but the problem is with the correct direction .. it is going either bottom right or top left .. it is Not very accurate</p>\n<p>how can i handle with this any idea ?</p>\n",
        "codigo": [
            "import 'dart:async';\n\nimport 'package:flutter/material.dart';\n\nclass Test extends StatefulWidget {\n  const Test({Key? key}) : super(key: key);\n\n  @override\n  State<Test> createState() => _TestState();\n}\n\nclass _TestState extends State<Test> {\n\n  late Offset myOffset =  const Offset(0,0);\n  Timer? myTimer ;\n  double dx = 0 ;\n  double dy = 0 ;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: GestureDetector(\n          onPanUpdate: (t){\n            myOffset+=t.delta;\n            dx = myOffset.dx;\n            dy = myOffset.dy;\n            setState(() {});\n          },\n          onPanEnd: (d){\n            myTimer = Timer.periodic(const Duration(milliseconds: 100), (_)async{\n              myOffset =   Offset(dx++,dy++); // here it depends -- or ++ using sad lazy way :(\n              await Future.delayed(const Duration(milliseconds: 100));\n              setState(() {});\n            });\n          },\n          child: Transform.translate(\n            offset: myOffset,\n            child: Container(\n              color: Colors.red,\n              width: 100,\n              height: 100,\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n}\n \n"
        ]
    },
    {
        "titulo": "How do I know the current swipe speed",
        "score": 0,
        "views": 123,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75339200/how-do-i-know-the-current-swipe-speed",
        "conteudo_html": "<p>i have the following simple code</p>\n<pre><code>import 'package:flutter/material.dart';\n\nclass Test extends StatefulWidget {\n  const Test({Key? key}) : super(key: key);\n\n  @override\n  State&lt;Test&gt; createState() =&gt; _TestState();\n}\n\nclass _TestState extends State&lt;Test&gt; {\n\n  late Offset offsetAll =  const Offset(0,0);\n  \n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: GestureDetector(\n          onPanUpdate: (t){\n            offsetAll+=t.delta;\n            setState(() {});\n          },\n          child: Transform.translate(\n            offset: offsetAll,\n            child: Container(\n              color: Colors.red,\n              width: 100,\n              height: 100,\n            ),\n          ),\n        ),\n      ),\n    )\n  }\n}\n)\n</code></pre>\n<p>the previous code is for animate the widget depending on user finger . and it is work perfectly</p>\n<p>my question is how could i know the current swipe speed that user's finger doing it</p>\n<p>for example if the user swipe slow .. fast .. etc ...</p>\n<p>i need to use that speed value later ...  to the following</p>\n<pre><code>Future.delayed(const Duration(.....HERE....), () {\n  \n });\n</code></pre>\n<p>Is this possible?</p>\n",
        "codigo": [
            "import 'package:flutter/material.dart';\n\nclass Test extends StatefulWidget {\n  const Test({Key? key}) : super(key: key);\n\n  @override\n  State<Test> createState() => _TestState();\n}\n\nclass _TestState extends State<Test> {\n\n  late Offset offsetAll =  const Offset(0,0);\n  \n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: Center(\n        child: GestureDetector(\n          onPanUpdate: (t){\n            offsetAll+=t.delta;\n            setState(() {});\n          },\n          child: Transform.translate(\n            offset: offsetAll,\n            child: Container(\n              color: Colors.red,\n              width: 100,\n              height: 100,\n            ),\n          ),\n        ),\n      ),\n    )\n  }\n}\n)\n",
            "Future.delayed(const Duration(.....HERE....), () {\n  \n });\n"
        ]
    },
    {
        "titulo": "Flutter http request returns error code 502, but same request in python returns http code 200",
        "score": 1,
        "views": 264,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "http"
        ],
        "link": "https://stackoverflow.com/questions/75320272/flutter-http-request-returns-error-code-502-but-same-request-in-python-returns",
        "conteudo_html": "<p>When I debug this function I get the http error code 502:</p>\n<pre><code>Future&lt;bool&gt; checkSessionID(String sessionId) async {\n  Uri uri = Uri.parse(&quot;https://myurl.com&quot;);\n  var myobj = {\n    &quot;session&quot;: sessionId,\n  };\n  \n  HttpClient client = HttpClient(context: SecurityContext()..setTrustedCertificatesBytes(creds.key.codeUnits));\n  \n  var request = await client.postUrl(uri);\n  request.headers.set('content-type', 'application/json');\n  request.add(utf8.encode(jsonEncode(myobj)));\n  \n\n  var response = await request.close();\n  // encode response to json\n  var json = jsonDecode(await response.transform(utf8.decoder).join());\n  return json[&quot;status&quot;];\n}\n</code></pre>\n<p>but when I remove the JSON payload it returns code 200:</p>\n<pre><code>Future&lt;bool&gt; checkSessionID(String sessionId) async {\n  Uri uri = Uri.parse(&quot;https://myurl.com&quot;);\n  var myobj = {\n    &quot;session&quot;: sessionId,\n  };\n  \n  HttpClient client = HttpClient(context: SecurityContext()..setTrustedCertificatesBytes(creds.key.codeUnits));\n  \n  var request = await client.postUrl(uri);\n  //request.headers.set('content-type', 'application/json');\n  //request.add(utf8.encode(jsonEncode(myobj)));\n  \n\n  var response = await request.close();\n  // encode response to json\n  var json = jsonDecode(await response.transform(utf8.decoder).join());\n  return json[&quot;status&quot;];\n}\n</code></pre>\n<p>when I run this python code it works just fine:</p>\n<pre><code>url = 'https://myurl.com'\npayload = {&quot;session&quot;: session_id}\n\nrequest = requests.post(url, json = payload, verify=&quot;cert.cer&quot;)\n</code></pre>\n<p>Am I encoding the json wrong in the dart code or what is my mistake?</p>\n",
        "codigo": [
            "Future<bool> checkSessionID(String sessionId) async {\n  Uri uri = Uri.parse(\"https://myurl.com\");\n  var myobj = {\n    \"session\": sessionId,\n  };\n  \n  HttpClient client = HttpClient(context: SecurityContext()..setTrustedCertificatesBytes(creds.key.codeUnits));\n  \n  var request = await client.postUrl(uri);\n  request.headers.set('content-type', 'application/json');\n  request.add(utf8.encode(jsonEncode(myobj)));\n  \n\n  var response = await request.close();\n  // encode response to json\n  var json = jsonDecode(await response.transform(utf8.decoder).join());\n  return json[\"status\"];\n}\n",
            "Future<bool> checkSessionID(String sessionId) async {\n  Uri uri = Uri.parse(\"https://myurl.com\");\n  var myobj = {\n    \"session\": sessionId,\n  };\n  \n  HttpClient client = HttpClient(context: SecurityContext()..setTrustedCertificatesBytes(creds.key.codeUnits));\n  \n  var request = await client.postUrl(uri);\n  //request.headers.set('content-type', 'application/json');\n  //request.add(utf8.encode(jsonEncode(myobj)));\n  \n\n  var response = await request.close();\n  // encode response to json\n  var json = jsonDecode(await response.transform(utf8.decoder).join());\n  return json[\"status\"];\n}\n",
            "url = 'https://myurl.com'\npayload = {\"session\": session_id}\n\nrequest = requests.post(url, json = payload, verify=\"cert.cer\")\n"
        ]
    },
    {
        "titulo": "Flutter auto_route import as prefix not generated well",
        "score": 2,
        "views": 395,
        "respostas": 0,
        "tags": [
            "flutter",
            "dart",
            "flutter-dependencies"
        ],
        "link": "https://stackoverflow.com/questions/75308795/flutter-auto-route-import-as-prefix-not-generated-well",
        "conteudo_html": "<p>I have a class page route AppointmentCreatePage which required a parameter from a class model , but I define this import model as a prefix</p>\n<p>AppointmentCreatePage class</p>\n<pre><code>import 'package:project_mobile/features/brand/model/brand_response_model.dart'\nas model_brand;\n\nclass AppointmentCreatePage extends StatefulWidget {\n  const AppointmentCreatePage({Key? key, this.brandData}) : super(key: key);\n\n  final model_brand.Data? brandData; &lt;--- use import as prefix\n\n  @override\n  State&lt;AppointmentCreatePage&gt; createState() =&gt; _AppointmentCreatePageState();\n}\n</code></pre>\n<p>and the generated file (router.gr.dart)</p>\n<pre><code>/// generated route for\n/// [AppointmentCreatePage]\nclass AppointmentCreateRoute extends PageRouteInfo&lt;AppointmentCreateRouteArgs&gt; {\n  AppointmentCreateRoute({\n    Key? key,\n\n    Data? brandData, &lt;--- Error Undefined class 'Data'\n\n  }) : super(\n    AppointmentCreateRoute.name,\n    path: '/appointment-create-page',\n    args: AppointmentCreateRouteArgs(\n     key: key, \n     brandData: brandData,\n    ),\n   );\n\n  static const String name = 'AppointmentCreateRoute';\n}\n\nclass AppointmentCreateRouteArgs {\n  const AppointmentCreateRouteArgs({\n    this.key,        \n    this.brandData,\n  });\n\n  final Key? key;\n\n  final Data? brandData; &lt;--- Error Undefined class 'Data'\n\n  @override\n  String toString() {\n    return 'AppointmentCreateRouteArgs{key: $key, brandData: $brandData}';\n  }\n}\n</code></pre>\n<p>what I expect is <code>final Data? brandData;</code> on(router.gr.dart) can be generated same as like on the AppointmentCreatePage class <code>final model_brand.Data? brandData</code> and on the router.dart can automatically import this class model</p>\n<p><code>router.dart</code></p>\n<pre><code>import 'package:project_mobile/features/brand/model/brand_response_model.dart' \nas model_brand; &lt;--- expect can be imported automatically\n\npart 'router.gr.dart';\n\n@MaterialAutoRouter(              \n  replaceInRouteName: 'Page,Route',\n  preferRelativeImports: true,\n  routes: &lt;AutoRoute&gt;[\n    AutoRoute(\n      page: SplashPage,\n      initial: true,\n    ),\n    AutoRoute(page: OnBoardingPage),\n    AutoRoute(page: TabShowCasePage),\n    AutoRoute(page: LoginPage),\n    AutoRoute(page: ForgotPasswordPage),\n    AutoRoute(page: VerificationPage),\n    AutoRoute(page: RegisterPage),\n    AutoRoute(page: AppointmentCreatePage),\n    \n  ],              \n)\n\nclass AppRouter extends _$AppRouter{}\n</code></pre>\n",
        "codigo": [
            "import 'package:project_mobile/features/brand/model/brand_response_model.dart'\nas model_brand;\n\nclass AppointmentCreatePage extends StatefulWidget {\n  const AppointmentCreatePage({Key? key, this.brandData}) : super(key: key);\n\n  final model_brand.Data? brandData; <--- use import as prefix\n\n  @override\n  State<AppointmentCreatePage> createState() => _AppointmentCreatePageState();\n}\n",
            "/// generated route for\n/// [AppointmentCreatePage]\nclass AppointmentCreateRoute extends PageRouteInfo<AppointmentCreateRouteArgs> {\n  AppointmentCreateRoute({\n    Key? key,\n\n    Data? brandData, <--- Error Undefined class 'Data'\n\n  }) : super(\n    AppointmentCreateRoute.name,\n    path: '/appointment-create-page',\n    args: AppointmentCreateRouteArgs(\n     key: key, \n     brandData: brandData,\n    ),\n   );\n\n  static const String name = 'AppointmentCreateRoute';\n}\n\nclass AppointmentCreateRouteArgs {\n  const AppointmentCreateRouteArgs({\n    this.key,        \n    this.brandData,\n  });\n\n  final Key? key;\n\n  final Data? brandData; <--- Error Undefined class 'Data'\n\n  @override\n  String toString() {\n    return 'AppointmentCreateRouteArgs{key: $key, brandData: $brandData}';\n  }\n}\n",
            "final Data? brandData;",
            "final model_brand.Data? brandData",
            "router.dart",
            "import 'package:project_mobile/features/brand/model/brand_response_model.dart' \nas model_brand; <--- expect can be imported automatically\n\npart 'router.gr.dart';\n\n@MaterialAutoRouter(              \n  replaceInRouteName: 'Page,Route',\n  preferRelativeImports: true,\n  routes: <AutoRoute>[\n    AutoRoute(\n      page: SplashPage,\n      initial: true,\n    ),\n    AutoRoute(page: OnBoardingPage),\n    AutoRoute(page: TabShowCasePage),\n    AutoRoute(page: LoginPage),\n    AutoRoute(page: ForgotPasswordPage),\n    AutoRoute(page: VerificationPage),\n    AutoRoute(page: RegisterPage),\n    AutoRoute(page: AppointmentCreatePage),\n    \n  ],              \n)\n\nclass AppRouter extends _$AppRouter{}\n"
        ]
    },
    {
        "titulo": "List of Instance of Object returned in future builder",
        "score": -1,
        "views": 39,
        "respostas": 1,
        "tags": [
            "json",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75298097/list-of-instance-of-object-returned-in-future-builder",
        "conteudo_html": "<p>In my homescreen:</p>\n<pre><code> FutureBuilder(\n    future:  getTest.getTest(),\n    builder: (context, snapshot) {\n      debugPrint(&quot;dta: ${snapshot.data}&quot;);\n      return Text(snapshot.data.toString());\n  }\n</code></pre>\n<p>This shows:</p>\n<p><em>[Instance of 'Test', Instance of 'Test']</em></p>\n<p>I was expecting:</p>\n<pre><code>[{&quot;id&quot;:1,&quot;image&quot;:&quot;https://ig.co&quot;},\n{&quot;id&quot;:2,&quot;image&quot;:&quot;https//ft8.co&quot;}]\n</code></pre>\n<p>My Object</p>\n<p><strong>Test.dart</strong></p>\n<pre><code>@JsonSerializable() \nclass Test {\nint? id;\nString? image;\nTest({this.id, this.image});\nfactory Test.fromJson(Map&lt;String, dynamic&gt; json) =&gt; \n_$TestFromJson(json);\n Map&lt;String, dynamic&gt; toJson() =&gt; _$TestToJson(this);\n} \n</code></pre>\n<p><strong>Controller.dart</strong></p>\n<pre><code>Future&lt;List&lt;Test&gt;&gt; getTest() async {\nfinal result = await authRepository.getNft();\nreturn result;\n}\n</code></pre>\n<p><strong>AuthRepository</strong></p>\n<pre><code>Future&lt;List&lt;Test&gt;&gt; getNft() async {\ntry{\n  final response = await authApi.getNft();\n\n  final result = (response.data as List)\n        .map((e) =&gt; Test.fromJson(e))\n        .toList();\n\n  return result;\n} on DioError catch(e){\n  final errorMessage = DioExceptions.fromDioError(e).toString();\n  throw errorMessage;\n }\n}\n</code></pre>\n<p>I don't know what I am doing wrong.</p>\n",
        "codigo": [
            " FutureBuilder(\n    future:  getTest.getTest(),\n    builder: (context, snapshot) {\n      debugPrint(\"dta: ${snapshot.data}\");\n      return Text(snapshot.data.toString());\n  }\n",
            "[{\"id\":1,\"image\":\"https://ig.co\"},\n{\"id\":2,\"image\":\"https//ft8.co\"}]\n",
            "@JsonSerializable() \nclass Test {\nint? id;\nString? image;\nTest({this.id, this.image});\nfactory Test.fromJson(Map<String, dynamic> json) => \n_$TestFromJson(json);\n Map<String, dynamic> toJson() => _$TestToJson(this);\n} \n",
            "Future<List<Test>> getTest() async {\nfinal result = await authRepository.getNft();\nreturn result;\n}\n",
            "Future<List<Test>> getNft() async {\ntry{\n  final response = await authApi.getNft();\n\n  final result = (response.data as List)\n        .map((e) => Test.fromJson(e))\n        .toList();\n\n  return result;\n} on DioError catch(e){\n  final errorMessage = DioExceptions.fromDioError(e).toString();\n  throw errorMessage;\n }\n}\n"
        ]
    },
    {
        "titulo": "Storage permission request not working in Flutter",
        "score": 14,
        "views": 19519,
        "respostas": 3,
        "tags": [
            "android",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75290497/storage-permission-request-not-working-in-flutter",
        "conteudo_html": "<p>I am trying to access storage on an Android emulator <em><strong>(SDK 33)</strong></em> from Flutter.\nHere is the code that I'm testing it with:</p>\n<pre><code>\nvoid test() async {\n     PermissionStatus storageStatus = await Permission.storage.request();\n     if (storageStatus == PermissionStatus.granted) {\n         print(&quot;granted&quot;);\n     }\n     if (storageStatus == PermissionStatus.denied) {\n         print(&quot;denied&quot;);\n     }\n     if (storageStatus == PermissionStatus.permanentlyDenied) {\n         openAppSettings();\n     }\n }\n\n</code></pre>\n<p>I have included the &quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; permission in the AndroidManifest.xml.</p>\n<p>I have tried giving permissions for Camera and it worked, but it doesn't work for storage.</p>\n<p>When I check for the storages permission status it is permanently denied, and when app's settings open it says &quot;No permissions requested&quot;.</p>\n<p>I have tried running &quot;flutter clean&quot; which seems to be necessary when updating the Manifest.</p>\n<p>I have tried uninstalling from the phone and reinstalling the app</p>\n<p>How do I fix it?</p>\n",
        "codigo": [
            "\nvoid test() async {\n     PermissionStatus storageStatus = await Permission.storage.request();\n     if (storageStatus == PermissionStatus.granted) {\n         print(\"granted\");\n     }\n     if (storageStatus == PermissionStatus.denied) {\n         print(\"denied\");\n     }\n     if (storageStatus == PermissionStatus.permanentlyDenied) {\n         openAppSettings();\n     }\n }\n\n"
        ]
    },
    {
        "titulo": "FlutterFire Auth verifyPhoneNumber method isn&#39;t being waited on",
        "score": 1,
        "views": 79,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75271946/flutterfire-auth-verifyphonenumber-method-isnt-being-waited-on",
        "conteudo_html": "<p>I'm trying to create an auth service and I want to return the verificationId from the custom method. However, calling this method throws the null check exception because it doesn't wait for the Future to complete before returning.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;String&gt; sendPhoneVerification({\n    required String phoneNumber,\n  }) async {\n    String? result;\n    await FirebaseAuth.instance.verifyPhoneNumber(\n      phoneNumber: '+1$phoneNumber',\n      verificationCompleted: (\n        PhoneAuthCredential credential,\n      ) {\n        result = credential.verificationId;\n      },\n      verificationFailed: (e) {\n        if (e.code == 'invalid-phone-number') {\n          throw InvalidPhoneNumberAuthException();\n        } else if (e.code == 'too-many-requests') {\n          throw TooManyRequestsAuthException();\n        } else {\n          throw GenericAuthException();\n        }\n      },\n      codeSent: (verificationId, resendToken) {\n        print('ver_id $verificationId');\n        result = verificationId;\n      },\n      codeAutoRetrievalTimeout: (_) {},\n    );\n    print('This is the result $result');\n    return result!;\n  }\n</code></pre>\n<p>Here is the output in the terminal.</p>\n<pre><code>flutter: This is the result null\nflutter: ver_id &lt;ver_id&gt;\n</code></pre>\n",
        "codigo": [
            "Future<String> sendPhoneVerification({\n    required String phoneNumber,\n  }) async {\n    String? result;\n    await FirebaseAuth.instance.verifyPhoneNumber(\n      phoneNumber: '+1$phoneNumber',\n      verificationCompleted: (\n        PhoneAuthCredential credential,\n      ) {\n        result = credential.verificationId;\n      },\n      verificationFailed: (e) {\n        if (e.code == 'invalid-phone-number') {\n          throw InvalidPhoneNumberAuthException();\n        } else if (e.code == 'too-many-requests') {\n          throw TooManyRequestsAuthException();\n        } else {\n          throw GenericAuthException();\n        }\n      },\n      codeSent: (verificationId, resendToken) {\n        print('ver_id $verificationId');\n        result = verificationId;\n      },\n      codeAutoRetrievalTimeout: (_) {},\n    );\n    print('This is the result $result');\n    return result!;\n  }\n",
            "flutter: This is the result null\nflutter: ver_id <ver_id>\n"
        ]
    },
    {
        "titulo": "Unsupported operation: Cannot modify an unmodifiable list",
        "score": 0,
        "views": 661,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "zip",
            "archive"
        ],
        "link": "https://stackoverflow.com/questions/75267384/unsupported-operation-cannot-modify-an-unmodifiable-list",
        "conteudo_html": "<p>I need help.\nI'm trying to extract files from an archive.</p>\n<pre><code>var byteData = await rootBundle.load('assets/res.zip');\n      var buffer = byteData.buffer;\n      var archive = ZipDecoder().decodeBytes(buffer.asUint8List(),\n          verify: true, password: '123');\n\n      for (final file in archive) {\n        final filename = file.name;\n        if (file.isFile) {\n          final data = file.content as List&lt;int&gt;;\n          File('$tempPath/files/$filename')\n            ..createSync(recursive: true)\n            ..writeAsBytesSync(data);\n        } else {\n          Directory('$tempPath/files/$filename').create(recursive: true);\n        }\n      }\n</code></pre>\n<p>But I'm getting this error..................</p>\n<pre><code>E/flutter ( 8813): [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: Unsupported operation: Cannot modify an unmodifiable list\nE/flutter ( 8813): #0      _UnmodifiableUint8ArrayView.[]= (dart:typed_data-patch/typed_data_patch.dart:5391:5)\nE/flutter ( 8813): #1      ZipFile._decodeZipCrypto (package:archive/src/zip/zip_file.dart:192:12)\nE/flutter ( 8813): #2      ZipFile.content (package:archive/src/zip/zip_file.dart:129:27)\nE/flutter ( 8813): #3      ZipDecoder.decodeBuffer (package:archive/src/zip_decoder.dart:32:41)\nE/flutter ( 8813): #4      ZipDecoder.decodeBytes (package:archive/src/zip_decoder.dart:16:12)\nE/flutter ( 8813): #5      _HomePageState.dataWriteToLocal (package:mytest/Pages/home_page.dart:417:36)\nE/flutter ( 8813): &lt;asynchronous suspension&gt;\n</code></pre>\n",
        "codigo": [
            "var byteData = await rootBundle.load('assets/res.zip');\n      var buffer = byteData.buffer;\n      var archive = ZipDecoder().decodeBytes(buffer.asUint8List(),\n          verify: true, password: '123');\n\n      for (final file in archive) {\n        final filename = file.name;\n        if (file.isFile) {\n          final data = file.content as List<int>;\n          File('$tempPath/files/$filename')\n            ..createSync(recursive: true)\n            ..writeAsBytesSync(data);\n        } else {\n          Directory('$tempPath/files/$filename').create(recursive: true);\n        }\n      }\n",
            "E/flutter ( 8813): [ERROR:flutter/runtime/dart_vm_initializer.cc(41)] Unhandled Exception: Unsupported operation: Cannot modify an unmodifiable list\nE/flutter ( 8813): #0      _UnmodifiableUint8ArrayView.[]= (dart:typed_data-patch/typed_data_patch.dart:5391:5)\nE/flutter ( 8813): #1      ZipFile._decodeZipCrypto (package:archive/src/zip/zip_file.dart:192:12)\nE/flutter ( 8813): #2      ZipFile.content (package:archive/src/zip/zip_file.dart:129:27)\nE/flutter ( 8813): #3      ZipDecoder.decodeBuffer (package:archive/src/zip_decoder.dart:32:41)\nE/flutter ( 8813): #4      ZipDecoder.decodeBytes (package:archive/src/zip_decoder.dart:16:12)\nE/flutter ( 8813): #5      _HomePageState.dataWriteToLocal (package:mytest/Pages/home_page.dart:417:36)\nE/flutter ( 8813): <asynchronous suspension>\n"
        ]
    },
    {
        "titulo": "Why does a Dart program behave differently depending on where variables are declared when using lexical scope?",
        "score": 2,
        "views": 48,
        "respostas": 1,
        "tags": [
            "dart",
            "lexical-scope"
        ],
        "link": "https://stackoverflow.com/questions/75263610/why-does-a-dart-program-behave-differently-depending-on-where-variables-are-decl",
        "conteudo_html": "<p>I ran into what seemed like very strange behavior from Dart today. There must be something wrong with how I am understanding local variables and lexical scope. Let's get into some code. The context is a testing grade conversion from numbers to letters, but that's not crucial to understand.</p>\n<p>First, consider this code, which works as expected:</p>\n<pre><code>void main() {\n  final pairs = &lt;List&gt;[\n    [95, 'A'],\n    [85, 'B'],\n  ];\n\n  for (final pair in pairs) {\n    int number = pair[0];\n    String letter = pair[1];\n    test('$number converts to $letter', () {\n      final actual = convert(number);\n      expect(actual, letter);\n    });\n  }\n}\n\nString convert(int value) =&gt; value &gt;= 90 ? 'A' : 'B';\n</code></pre>\n<p>Run the tests and it passes. Change the second row of test data from 85 to 95, and the second test fails. I understand this.</p>\n<p>Now consider this alternative implementation. Notice that the only difference is that the <code>number</code> and <code>letter</code> variables are now declared outside the <code>for</code> loop.</p>\n<pre><code>void main() {\n  final pairs = &lt;List&gt;[\n    [95, 'A'],\n    [85, 'B'],\n  ];\n\n  int number;\n  String letter;\n\n  for (final pair in pairs) {\n    number = pair[0];\n    letter = pair[1];\n    test('$number converts to $letter', () {\n      final actual = convert(number);\n      expect(actual, letter);\n    });\n  }\n}\n\nString convert(int value) =&gt; value &gt;= 90 ? 'A' : 'B';\n</code></pre>\n<p>Running this code as-is produces the expected results: two tests succeed, and their names are &quot;95 converts to A&quot; and &quot;85 converts to B&quot;. However, now change that 85 in the test data to 95. Now, <em>both</em> tests fail. The names of the tests are what one would expect: &quot;95 converts to A&quot; and &quot;95 converts to B.&quot;</p>\n<p>I've tried setting a breakpoint inside the test method to figure it out. When the test is run, the first test's name is &quot;95 converts to A,&quot; but inside that test body, the value of <code>letter</code> is 'B'.</p>\n<p>I've been dealing with programming languages for a long time, but I'm dumbfounded. Can someone explain to me what is happening here? I don't understand why the two programs would behave differently.</p>\n",
        "codigo": [
            "void main() {\n  final pairs = <List>[\n    [95, 'A'],\n    [85, 'B'],\n  ];\n\n  for (final pair in pairs) {\n    int number = pair[0];\n    String letter = pair[1];\n    test('$number converts to $letter', () {\n      final actual = convert(number);\n      expect(actual, letter);\n    });\n  }\n}\n\nString convert(int value) => value >= 90 ? 'A' : 'B';\n",
            "number",
            "letter",
            "for",
            "void main() {\n  final pairs = <List>[\n    [95, 'A'],\n    [85, 'B'],\n  ];\n\n  int number;\n  String letter;\n\n  for (final pair in pairs) {\n    number = pair[0];\n    letter = pair[1];\n    test('$number converts to $letter', () {\n      final actual = convert(number);\n      expect(actual, letter);\n    });\n  }\n}\n\nString convert(int value) => value >= 90 ? 'A' : 'B';\n",
            "letter"
        ]
    },
    {
        "titulo": "Dart: How to convert json string without quotes to Map",
        "score": 2,
        "views": 1141,
        "respostas": 2,
        "tags": [
            "json",
            "flutter",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75256867/dart-how-to-convert-json-string-without-quotes-to-map",
        "conteudo_html": "<p>how to convert json string without quotes to Map.</p>\n<p>I tried below code on <code>https://dartpad.dev/</code> but not working:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:convert';\n\nvoid main() async {\n  final String raw = &quot;{data: {name: joy, tags: aa,bb, city: jakarta}}&quot;;\n  print('Test 1: $raw');\n  \n  final Map&lt;dynamic, dynamic&gt; result = json.decode(raw);\n  print('Test 2: $result');\n}\n</code></pre>\n<p>And this is the error for above code:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Test 1: {data: {name: joy, tags: aa,bb, city: jakarta}}\nUncaught Error: FormatException: SyntaxError: Expected property name or '}' in JSON at position 1\n</code></pre>\n<p>And I know this because my json is invalid. How to convert my json string without quotes to json string with quotes?</p>\n<p>Actual result is:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>{data: {name: joy, tags: aa,bb, city: jakarta}}\n</code></pre>\n<p>Expected result is:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>{&quot;data&quot;: {&quot;name&quot;: &quot;joy&quot;, &quot;tags&quot;: &quot;aa,bb&quot;, &quot;city&quot;: &quot;jakarta&quot;}}\n</code></pre>\n",
        "codigo": [
            "https://dartpad.dev/",
            "import 'dart:convert';\n\nvoid main() async {\n  final String raw = \"{data: {name: joy, tags: aa,bb, city: jakarta}}\";\n  print('Test 1: $raw');\n  \n  final Map<dynamic, dynamic> result = json.decode(raw);\n  print('Test 2: $result');\n}\n",
            "Test 1: {data: {name: joy, tags: aa,bb, city: jakarta}}\nUncaught Error: FormatException: SyntaxError: Expected property name or '}' in JSON at position 1\n",
            "{data: {name: joy, tags: aa,bb, city: jakarta}}\n",
            "{\"data\": {\"name\": \"joy\", \"tags\": \"aa,bb\", \"city\": \"jakarta\"}}\n"
        ]
    },
    {
        "titulo": "Issue concatenating two strings containing &#39;&amp;&#39; in dart",
        "score": -1,
        "views": 85,
        "respostas": 1,
        "tags": [
            "string",
            "dart"
        ],
        "link": "https://stackoverflow.com/questions/75251429/issue-concatenating-two-strings-containing-in-dart",
        "conteudo_html": "<p>I have a code like this :</p>\n<pre><code>// Language = Dart\n\nvar someVariable = 'Hello';\nvar someOtherVariable = 'World';\nvar str = 'somedomain?x=${someVariable}&amp;y=${someOtherVariable}';\nreturn str;\n\n// Expected:\n// somedomain?x=Hello&amp;y=World;\n// Actual\n// somedomain?x=Hello\n</code></pre>\n<p>If I replace the <code>&amp;</code> character with any alphabets, it is able to successfully concatenate. What am I doing wrong.</p>\n<p>This is the actual code which I used in FlutterFlow, and am having issues with:</p>\n<pre><code>Future&lt;String&gt; getEventUrlFromReference(BuildContext context, DocumentReference? eventReference) async {\n  var userId = currentUser?.uid as String;\n  return &quot;https://somedomain.com/event?eventReference=${eventReference?.id}&quot; + &quot;&amp;invitedBy=&quot;+userId;\n}\n</code></pre>\n<p>// result: <a href=\"https://somedomain.com/event?eventReference=referencevalue\" rel=\"nofollow noreferrer\">https://somedomain.com/event?eventReference=referencevalue</a></p>\n",
        "codigo": [
            "// Language = Dart\n\nvar someVariable = 'Hello';\nvar someOtherVariable = 'World';\nvar str = 'somedomain?x=${someVariable}&y=${someOtherVariable}';\nreturn str;\n\n// Expected:\n// somedomain?x=Hello&y=World;\n// Actual\n// somedomain?x=Hello\n",
            "&",
            "Future<String> getEventUrlFromReference(BuildContext context, DocumentReference? eventReference) async {\n  var userId = currentUser?.uid as String;\n  return \"https://somedomain.com/event?eventReference=${eventReference?.id}\" + \"&invitedBy=\"+userId;\n}\n"
        ]
    },
    {
        "titulo": "No GoRouter found in context in widget tests",
        "score": 2,
        "views": 3517,
        "respostas": 2,
        "tags": [
            "flutter",
            "dart",
            "routes",
            "flutter-go-router"
        ],
        "link": "https://stackoverflow.com/questions/75237049/no-gorouter-found-in-context-in-widget-tests",
        "conteudo_html": "<p>I'm trying to mock go_router in my widget tests but keep getting this error:</p>\n<pre><code>══╡ EXCEPTION CAUGHT BY GESTURE ╞═══════════════════════════════════════════════════════════════════\nThe following assertion was thrown while handling a gesture:\nNo GoRouter found in context\n'package:go_router/src/router.dart':\nFailed assertion: line 300 pos 12: 'inherited != null'\n\nWhen the exception was thrown, this was the stack:\n#2      GoRouter.of (package:go_router/src/router.dart:300:12)\n#3      GoRouterHelper.pushNamed (package:go_router/src/misc/extensions.dart:50:16)\n#4      _ProfileEditWidgetState._getSubmitButton.&lt;anonymous closure&gt;.&lt;anonymous closure&gt; (package:app/widgets/profile/profile_edit_widget.dart:236:33)\n</code></pre>\n<p>I'm using go_router 6.0.0</p>\n<p>Here's what I have in my test:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>final router = MockGoRouter();\nwhen(router.pushNamed(any)).thenReturn(null);\n\nawait tester.pumpWidget(\n      MultiProvider(\n        providers: [\n          BlocProvider&lt;ProfileBloc&gt;(create: (context) =&gt; profileBloc),\n        ],\n        child: MaterialApp(\n          locale: const Locale(&quot;en&quot;),\n          home: InheritedGoRouter(\n            goRouter: router,\n            child: ProfileEditWidget(),\n          ),\n        ),\n      ),\n    );\n\nawait tester.pump();\nawait tester.tap(find.byKey(const Key('btnSubmit')));\nawait tester.pump();\n</code></pre>\n<p>In my profile edit widget in the submit button on pressed this is what I have:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>context.pushNamed(\n    VERIFY_PHONE,\n     queryParams: {\n         'updatedPhone': phone\n      },\n)\n</code></pre>\n<p>There also seems to be no documentation on go to handle testing with go router</p>\n",
        "codigo": [
            "══╡ EXCEPTION CAUGHT BY GESTURE ╞═══════════════════════════════════════════════════════════════════\nThe following assertion was thrown while handling a gesture:\nNo GoRouter found in context\n'package:go_router/src/router.dart':\nFailed assertion: line 300 pos 12: 'inherited != null'\n\nWhen the exception was thrown, this was the stack:\n#2      GoRouter.of (package:go_router/src/router.dart:300:12)\n#3      GoRouterHelper.pushNamed (package:go_router/src/misc/extensions.dart:50:16)\n#4      _ProfileEditWidgetState._getSubmitButton.<anonymous closure>.<anonymous closure> (package:app/widgets/profile/profile_edit_widget.dart:236:33)\n",
            "final router = MockGoRouter();\nwhen(router.pushNamed(any)).thenReturn(null);\n\nawait tester.pumpWidget(\n      MultiProvider(\n        providers: [\n          BlocProvider<ProfileBloc>(create: (context) => profileBloc),\n        ],\n        child: MaterialApp(\n          locale: const Locale(\"en\"),\n          home: InheritedGoRouter(\n            goRouter: router,\n            child: ProfileEditWidget(),\n          ),\n        ),\n      ),\n    );\n\nawait tester.pump();\nawait tester.tap(find.byKey(const Key('btnSubmit')));\nawait tester.pump();\n",
            "context.pushNamed(\n    VERIFY_PHONE,\n     queryParams: {\n         'updatedPhone': phone\n      },\n)\n"
        ]
    },
    {
        "titulo": "Log in Firebase auth and get Id token in flutter tests",
        "score": 0,
        "views": 297,
        "respostas": 1,
        "tags": [
            "flutter",
            "firebase",
            "dart",
            "testing",
            "flutter-test"
        ],
        "link": "https://stackoverflow.com/questions/75213873/log-in-firebase-auth-and-get-id-token-in-flutter-tests",
        "conteudo_html": "<p>I would like to write some integration tests for an app that I am creating in flutter.</p>\n<p>I would like to check the integration between frontend and backend, and in order to do so, I need to generate a valid JWT Id Token from Firebase (from tests credentials, that will be managed as secrets, but this is out of scope of this question).</p>\n<p><em>Note</em>: I know that all my libraries are up to date (the same error message is sometimes raised when some dependencies are out of date), because my login / JWT generation and retrieval do work well in the actual app when I launch it in a simulator.</p>\n<p>I encounter an issue when trying to run the canonical way of login in and getting the id token in test.</p>\n<p>So far, I have written my tests as follow, but they do raise an error when I try to run them:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:firebase_core/firebase_core.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nimport 'package:firebase_auth/firebase_auth.dart' as firebase_auth;\n\n// + some custom imports for type SingleRecipientMessageHeader, etc...\n\nvoid main() {\n  TestWidgetsFlutterBinding.ensureInitialized();\n  \n  group('messageRepository', () {\n    late final String? jwt;\n    \n    setUp(() async {\n      await Firebase.initializeApp(\n        options: DefaultFirebaseOptions.android,\n      );  // &lt;= this command raises the error!\n      final instance = firebase_auth.FirebaseAuth.instance;\n\n      await instance.signInWithEmailAndPassword(\n          email: &quot;&lt;REDACTED&gt;&quot;, password: &quot;&lt;REDACTED&gt;&quot;);\n      jwt = await instance.currentUser?.getIdToken();\n    });\n\n    tearDown(() {});\n\n    test('message repository dummy test', () async {\n      List&lt;SingleRecipientMessageHeader&gt; messages =\n          await MessageRepository().fetchMessages(jwt!);\n      ...  // the actual integration tests follow...\n    });\n  });\n}\n</code></pre>\n<p>However, when I try to run those tests, the command flagged above raises the following error:</p>\n<pre><code>PlatformException(channel-error, Unable to establish connection on channel., null, null)\npackage:firebase_core_platform_interface/src/pigeon/messages.pigeon.dart 203:7  FirebaseCoreHostApi.initializeCore\n</code></pre>\n<p>From what I understand, when running tests, no actual platform exist, hence the connection error.</p>\n<p>Does anyone know how I could achieve login in and getting the JWT Id token from Firebase in my test suite ?</p>\n<p>Thanks a lot!</p>\n",
        "codigo": [
            "import 'package:firebase_core/firebase_core.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nimport 'package:firebase_auth/firebase_auth.dart' as firebase_auth;\n\n// + some custom imports for type SingleRecipientMessageHeader, etc...\n\nvoid main() {\n  TestWidgetsFlutterBinding.ensureInitialized();\n  \n  group('messageRepository', () {\n    late final String? jwt;\n    \n    setUp(() async {\n      await Firebase.initializeApp(\n        options: DefaultFirebaseOptions.android,\n      );  // <= this command raises the error!\n      final instance = firebase_auth.FirebaseAuth.instance;\n\n      await instance.signInWithEmailAndPassword(\n          email: \"<REDACTED>\", password: \"<REDACTED>\");\n      jwt = await instance.currentUser?.getIdToken();\n    });\n\n    tearDown(() {});\n\n    test('message repository dummy test', () async {\n      List<SingleRecipientMessageHeader> messages =\n          await MessageRepository().fetchMessages(jwt!);\n      ...  // the actual integration tests follow...\n    });\n  });\n}\n",
            "PlatformException(channel-error, Unable to establish connection on channel., null, null)\npackage:firebase_core_platform_interface/src/pigeon/messages.pigeon.dart 203:7  FirebaseCoreHostApi.initializeCore\n"
        ]
    },
    {
        "titulo": "Flutter/Dart unit tests with app localization",
        "score": 1,
        "views": 560,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "unit-testing",
            "testing",
            "localization"
        ],
        "link": "https://stackoverflow.com/questions/75159396/flutter-dart-unit-tests-with-app-localization",
        "conteudo_html": "<p>I am trying to write unit tests in Dart/Flutter for my TextField validations. However, I have a little problem here because the tests are working, but I want to return the value with localization now.</p>\n<p>How exactly do I implement this into the tests now?</p>\n<pre><code>import 'package:flutter/material.dart';\nimport 'package:flutter_gen/gen_l10n/app_localizations.dart';\n\nclass ValidationConstants {\n  static String? notEmpty(String? value, BuildContext context) {\n    if (value == null || value.isEmpty) {\n      return AppLocalizations.of(context)!.text_field_can_not_be_empty;\n    }\n    return null;\n  }\n}\n\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nvoid main() {\n\n\n  group('text field validations', () {\n    test('no empty text validation', () {\n      const emptyText = '';\n      const noEmptyText = 'Hello, World!';\n\n      // BuildContext is needed here\n      expect(ValidationConstants.notEmpty(emptyText, [...]).runtimeType, String);\n      expect(ValidationConstants.notEmpty(noEmptyText, [...]) == null, true);\n    });\n  });\n}\n</code></pre>\n",
        "codigo": [
            "import 'package:flutter/material.dart';\nimport 'package:flutter_gen/gen_l10n/app_localizations.dart';\n\nclass ValidationConstants {\n  static String? notEmpty(String? value, BuildContext context) {\n    if (value == null || value.isEmpty) {\n      return AppLocalizations.of(context)!.text_field_can_not_be_empty;\n    }\n    return null;\n  }\n}\n\n\nimport 'package:flutter/material.dart';\nimport 'package:flutter_test/flutter_test.dart';\n\nvoid main() {\n\n\n  group('text field validations', () {\n    test('no empty text validation', () {\n      const emptyText = '';\n      const noEmptyText = 'Hello, World!';\n\n      // BuildContext is needed here\n      expect(ValidationConstants.notEmpty(emptyText, [...]).runtimeType, String);\n      expect(ValidationConstants.notEmpty(noEmptyText, [...]) == null, true);\n    });\n  });\n}\n"
        ]
    },
    {
        "titulo": "How to resolve &#39;1 positional argument(s) expected, but 0 found&#39; in Flutter?",
        "score": 0,
        "views": 67,
        "respostas": 1,
        "tags": [
            "flutter",
            "dart",
            "widget",
            "arguments",
            "state-management"
        ],
        "link": "https://stackoverflow.com/questions/75136592/how-to-resolve-1-positional-arguments-expected-but-0-found-in-flutter",
        "conteudo_html": "<p>I'm working on a Flutter application and encountered an error with the <code>TomatoIcon</code> widget, which expects 1 positional argument. I'm not sure what argument I need to pass to it. Here's the context of how I'm using the <code>TomatoIcon</code> widget within a <code>SingleChildScrollView</code>.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>body: SingleChildScrollView(\n  scrollDirection: Axis.vertical,\n  child: Column(\n    children: [\n      SizedBox(height: 40, child: HelloUser()),\n      SizedBox(height: 68, child: ChipsBlog()),\n      SizedBox(height: 80, child: TomatoIcon()), // Error occurs here\n      SizedBox(height: 77, child: HomePageTimerUI()),\n      SizedBox(height: 580, child: StartPomodoro()),\n      SizedBox(height: 580, child: ToDoPage()),\n      SizedBox(height: MediaQuery.of(context).size.height, child: FooterPomoworko()),\n    ],\n  ),\n),\n\n</code></pre>\n<p>And here is the <code>TomatoIcon</code> class defined in <code>tomato.dart</code>:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\nimport 'package:get/get.dart';\nimport '../open_source/controllers/countdown_controller.dart';\n\nclass TomatoIcon extends StatefulWidget {\n  final Rx&lt;stateRound&gt; state;\n  const TomatoIcon(this.state, {Key? key}) : super(key: key);\n\n  @override\n  State&lt;TomatoIcon&gt; createState() =&gt; _TomatoIconState();\n}\n\nclass _TomatoIconState extends State&lt;TomatoIcon&gt; {\n  @override\n  Widget build(BuildContext context) {\n    return Obx(\n      () =&gt; IconButton(\n          onPressed: null,\n          icon: widget.state.value == stateRound.done\n              ? Image.asset('assets/icons/tomatoDone.png')\n              : Image.asset('assets/icons/tomatoUndone.png')),\n    );\n  }\n}\n\n</code></pre>\n<p>The error I'm facing is:</p>\n<pre><code>1 positional argument(s) expected, but 0 found. Try adding\n the missing arguments.\n</code></pre>\n<p>This error occurs when I try to instantiate <code>TomatoIcon</code> without any arguments, but based on the class definition, it expects a <code>state</code> parameter of type <code>Rx&lt;stateRound&gt;</code>.</p>\n<p>I've tried looking for similar issues on Stack Overflow but couldn't find anything that addresses this specific problem. How should I properly instantiate the <code>TomatoIcon</code> widget? Any guidance or examples would be greatly appreciated.</p>\n<p>Thank you for your help.</p>\n",
        "codigo": [
            "TomatoIcon",
            "TomatoIcon",
            "SingleChildScrollView",
            "body: SingleChildScrollView(\n  scrollDirection: Axis.vertical,\n  child: Column(\n    children: [\n      SizedBox(height: 40, child: HelloUser()),\n      SizedBox(height: 68, child: ChipsBlog()),\n      SizedBox(height: 80, child: TomatoIcon()), // Error occurs here\n      SizedBox(height: 77, child: HomePageTimerUI()),\n      SizedBox(height: 580, child: StartPomodoro()),\n      SizedBox(height: 580, child: ToDoPage()),\n      SizedBox(height: MediaQuery.of(context).size.height, child: FooterPomoworko()),\n    ],\n  ),\n),\n\n",
            "TomatoIcon",
            "tomato.dart",
            "import 'package:flutter/material.dart';\nimport 'package:get/get.dart';\nimport '../open_source/controllers/countdown_controller.dart';\n\nclass TomatoIcon extends StatefulWidget {\n  final Rx<stateRound> state;\n  const TomatoIcon(this.state, {Key? key}) : super(key: key);\n\n  @override\n  State<TomatoIcon> createState() => _TomatoIconState();\n}\n\nclass _TomatoIconState extends State<TomatoIcon> {\n  @override\n  Widget build(BuildContext context) {\n    return Obx(\n      () => IconButton(\n          onPressed: null,\n          icon: widget.state.value == stateRound.done\n              ? Image.asset('assets/icons/tomatoDone.png')\n              : Image.asset('assets/icons/tomatoUndone.png')),\n    );\n  }\n}\n\n",
            "1 positional argument(s) expected, but 0 found. Try adding\n the missing arguments.\n",
            "TomatoIcon",
            "state",
            "Rx<stateRound>",
            "TomatoIcon"
        ]
    }
]